function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],s=!0,o=!1,d=void 0;try{for(var n=e[Symbol.iterator](),l;!(s=(l=n.next()).done)&&(a.push(l.value),!(t&&a.length===t));s=!0);}catch(e){o=!0,d=e}finally{try{s||null==n["return"]||n["return"]()}finally{if(o)throw d}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(e,t,a){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,a){var s=_superPropBase(e,t);if(s){var o=Object.getOwnPropertyDescriptor(s,t);return o.get?o.get.call(a):o.value}},_get(e,t,a||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=_getPrototypeOf(e),null!==e););return e}function _possibleConstructorReturn(e,t){return t&&("object"===_typeof(t)||"function"==typeof t)?t:_assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _toConsumableArray2(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0,s;a<t.length;a++)s=t[a],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null==arguments[t]?{}:arguments[t],s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),s.forEach(function(t){_defineProperty(e,t,a[t])})}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}deftmp("core.DashboardMenu",{template:"<div class=\"core-DashboardMenu\"><div class=\"menu-container\"><div class=\"sidebar-ui scrollable\"> </div></div></div>"}),deftmp("core.layout",{template:""}),deftmp("core.mobileSidebarBtn",{template:"<li class=\"tab mobile-tab\"><a href=\"#\" class=\"tabNavLink\"><i class=\"fa\"></i><span class=\"title\">Title</span></a></li>"}),deftmp("core.sidebar",{template:""}),deftmp("core.sidebarBtn",{template:"<div class=\"dash-menu-item\"><a href=\"#\" class=\"tabNavLink\"></a><i class=\"fa fa-angle-right\"></i></div>"}),deftmp("core.sidebarToggle",{template:"<div class=\"sidebar-toggle menu-marker vertical\"><a href=\"#\"><i class=\"fa fa-circle\"></i><i class=\"fa fa-circle middle\"></i><i class=\"fa fa-circle\"></i></a></div>"}),deftmp("core.sidetabToggle",{template:"<div class=\"sidetab-toggle menu-marker vertical\"><a href=\"#\"><i class=\"fa fa-circle\"></i><i class=\"fa fa-circle middle\"></i><i class=\"fa fa-circle\"></i></a></div>"}),deftmp("core.spinCircle",{template:"<div class=\"spin-circle\"><div class=\"spin-circle1 spin-child\"></div><div class=\"spin-circle2 spin-child\"></div><div class=\"spin-circle3 spin-child\"></div><div class=\"spin-circle4 spin-child\"></div><div class=\"spin-circle5 spin-child\"></div><div class=\"spin-circle6 spin-child\"></div><div class=\"spin-circle7 spin-child\"></div><div class=\"spin-circle8 spin-child\"></div><div class=\"spin-circle9 spin-child\"></div><div class=\"spin-circle10 spin-child\"></div><div class=\"spin-circle11 spin-child\"></div><div class=\"spin-circle12 spin-child\"></div></div>"}),deftmp("core.subnav",{template:"<div class=\"subnav\"><div class=\"subnav-container\"><div class=\"active-banner subnav-section\"><i class=\"current-marker fa\"></i><span></span><i class=\"pointer fa fa-caret-right\"></i></div><div class=\"subnav-list subnav-section\"><ul class=\"list-items\"></ul></div><div class=\"subframe-controls subnav-section hidden\"></div></div></div>"}),deftmp("core.subnavItem",{template:"<li class=\"subnav-item\"><a href=\"#\" class=\"tabNavLink\"><span class=\"phone-only\"></span><span class=\"no-phone\"></span></a><div class=\"marker\"></div></li>"}),deftmp("forms.boardstudy",{template:"<div class=\"forms-boardstudy\"><div class=\"sleek\"><div id=\"landing\" style=\"padding-bottom:0px\"><div class=\"container\"><h1>Board Performance Study</h1><p class=\"main-explain\"> USMLE Step 1 and COMLEX</p><p>Osmosis practices evidence-based education and to this end has published three peer-reviewed papers in medical and education journals in the past year. The purpose of this study is to assess the performance on board exams (USMLE Step 1 and COMLEX) of those who use Osmosis. We're committed to making a tool that really helps students; by completing this survey you can help us do that!</p><p>As an incentive for filling out this 5-minute survey you will receive a 3-month subscription to Osmosis Prime which includes more than 7,500 Step and Shelf-style questions that can help you on your clerkships, from pediatrics to surgery (if you verify your score with us by sending us your score report, which we will keep highly confidential, we will provide you a 6-month subscription worth $299). Your personal information will be kept confidential and we will only use your email address to reach out to you for more information. Please email <a href='mailto:hi@osmosis.org'>hi@osmosis.org</a> with any questions. Thank you!</p><section class=\"closed\"><h2>The study has been filled</h2><p class=\"explain\">Check back for the results as well as more opportunities. If you'd like complimentary Prime, please go to <a href='/referral'>www.osmosis.org/referral</a> or email <a href='mailto:hi@osmosis.org'>hi@osmosis.org</a> to inquire. Have a great day!</p></section></div></div></div></div>"}),deftmp("forms.getPublished",{template:"<div class=\"forms-getPublished\"><div class=\"sleek\"><div id=\"landing\" style=\"padding-bottom:0px\"><div class=\"container\"><h1>Publish with Osmosis</h1><p class=\"main-explain\">Teach More. Talk Less.</p></div></div><section id=\"content\" class=\"light-gray\"><div class=\"container\"><div class=\"span10\"><h2>About the Project</h2><p class=\"explain\">Do you want to share your thoughts and insights about medical education with a larger community? Osmosis aims to encourage conversation between students, faculty, and administrators with the ultimate goal of improving how we educate our future clinicians. With the Publish with Osmosis initiative, Osmosis invites motivated medical students, pre-medical students, and other interested individuals to be Osmosis Writers.</p><div><p>As an Osmosis Writer, you will be able to contribute content about any topic related to medical education. Potential ideas include:\"The best apps for medical students\", \"How to learn efficiently with the Baker-baker paradox\", \"Tips for incoming medical students\", and \"How new neuroscience research can improve medical education\". You can also interview outstanding medical professors at your school as part of our Leaders in Medical Education series. There is so much variety in potential content, so we are looking for applicants with initiative!</p><p>This is a great opportunity to hone your writing skills and gain publication experience with Osmosis. We are excited about the possibility of working with top Osmosis Writers to ensure their work is published in journals and media outlets similar to where other Osmosis publications have been featured, such as the Annals of Internal Medicine, TEDMED, Fast Company, Huffington Post, and more. These top Writers will also have the potential to earn monetary compensation.</p><p>We look forward to working with you!</p><p></p></div></div><div class=\"span10\"><h3 class=\"mtl\">Qualities:</h3><ul class=\"pas\"><li class=\"mas\">Motivated medical student, pre-medical student, or individual involved with medical education</li><li class=\"mas\">Strong writing and editing skills; creativity in developing topics</li><li class=\"mas\">Interest in writing about medical education</li><li class=\"mas\">Ability to take initiative in writing articles in a timely manner</li></ul><h3 class=\"mtl\">Responsibilities:</h3><ul class=\"pas\"><li class=\"mas\">1 Develop creative topic ideas for medical education articles</li><li class=\"mas\">Contribute informative, engaging content related to medical education at least once/month</li><li class=\"mas\">Assist in providing feedback and review of other Writers\u2019 ideas and articles</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section> <div class=\"container\"><div class=\"span10\"><a name=\"Apply\">&nbsp;</a></div><div class=\"span10\"> <h2>Apply Now</h2><p class=\"explain required-msg\">Fields marked with (*) are required.</p></div><div class=\"span10\"><form action=\"https://docs.google.com/forms/d/17oFf0pRlNt0kK4VvLeixzwlOUbN9t6BwRY30f8hlBlU/formResponse\" method=\"POST\" target=\"_self\" onsubmit=\"\"><div class=\"form-group\"><label for=\"entry_1234608043\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Name<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"small\"><small>e.g. Gregory House</small></div></label><input id=\"entry_1234608043\" type=\"text\" name=\"entry.1234608043\" value=\"\" dir=\"auto\" aria-label=\"Name e.g. Florence Nightingale \" title=\"\" aria-required=\"true\" required=\"\" class=\"input-xxlarge\"/><label for=\"entry_1250527139\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Email Address<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Preferably .edu; e.g. house@jhmi.edu</small></div></label><input id=\"entry_1250527139\" type=\"text\" name=\"entry.1250527139\" value=\"\" dir=\"auto\" aria-label=\"Email Address Preferably .edu; e.g. house@jhmi.edu \" title=\"\" aria-required=\"true\" required=\"\" class=\"ss-q-short input-xxlarge\"/><label for=\"entry_1120564410\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Affiliation<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>e.g. Johns Hopkins; Philadelphia College of Osteopathic Medicine</small></div></label><input id=\"entry_1120564410\" type=\"text\" name=\"entry.1120564410\" value=\"\" dir=\"auto\" aria-label=\"Affiliation e.g. Johns Hopkins; Philadelphia College of Osteopathic Medicine \" title=\"\" aria-required=\"true\" required=\"\" class=\"ss-q-short input-xxlarge\"/><label for=\"entry_887136190\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Current Level<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>e.g. M1 = first year medical student; PGY1 = first year post-graduate</small></div></label><select id=\"entry_887136190\" name=\"entry.887136190\" aria-label=\"Current Level e.g. M1 = first year medical student; PGY1 = first year post-graduate \" class=\"input-xlarge\"><option value=\"\"></option><option value=\"Pre-Med\">Pre-Med</option><option value=\"M1\">M1</option><option value=\"M2\">M2</option><option value=\"M3\">M3</option><option value=\"M4\">M4</option><option value=\"PGY1\">PGY1</option><option value=\"PGY2\">PGY2</option><option value=\"PGY3\">PGY3</option><option value=\"Faculty Member\">Faculty Member</option><option value=\"Other (please comment)\">Other (please comment in a text area below)</option></select><label for=\"entry_1331611926\" class=\"mtm\"><h4 class=\"formstyle\">Which medical specialty are you most interested in?<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Please add any relevant details, e.g. sub-specialty interests, in the comments section at the end of the application.</small></div></label><select id=\"entry_1331611926\" name=\"entry.1331611926\" aria-label=\"Current Level e.g. M1 = first year medical student; PGY1 = first year post-graduate \" class=\"input-xlarge\"><option value=\"\"></option><option value=\"Anesthesiology\">Anesthesiology</option><option value=\"Dermatology\">Dermatology</option><option value=\"Emergency Medicine\">Emergency Medicine</option><option value=\"Internal Medicine\">Internal Medicine</option><option value=\"Neurology\">Neurology</option><option value=\"Obstetrics &amp; Gynecology\">Obstetrics &amp; Gynecology</option><option value=\"Ophthalmology\">Ophthalmology</option><option value=\"Pediatrics\">Pediatrics</option><option value=\"Psychiatry\">Psychiatry</option><option value=\"Radiology\">Radiology</option><option value=\"Surgery\">Surgery</option></select><label for=\"entry_1621982926\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Why are you interested in Publishing with Osmosis?</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"></div></label><textarea id=\"entry_1621982926\" name=\"entry.1621982926\" rows=\"8\" dir=\"auto\" aria-label=\"Why are you interested in Publishing with Osmosis?  \" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_1315344911\" class=\"ss-q-item-lable\"><h4 class=\"formstyle\">Please list some topics that you think would be interesting to Osmosis readers.</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>You won&#39;t be required to write about any of these.</small></div></label><textarea id=\"entry_1315344911\" name=\"entry.1315344911\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Please list some topics that you think would be interesting to Osmosis readers.\" aria-required=\"true\" required=\"\" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_796309868\" class=\"ss-q-item-lable\"><h4 class=\"formstyle\">Any other comments?</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>We welcome any ideas, suggestions, questions, and background information.</small></div></label><textarea id=\"entry_796309868\" name=\"entry.796309868\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Do you have any other comments\" aria-required=\"true\" required=\"\" class=\"ss-q-long input-xxlarge\"></textarea><input type=\"hidden\" name=\"draftResponse\" value=\"[,,&quot;-1068258741661514568&quot;]\"/><input type=\"hidden\" name=\"pageHistory\" value=\"0\"/><input type=\"hidden\" name=\"fbzx\" value=\"-1068258741661514568\"/><div class=\"ss-item ss-navigate\"><table id=\"navigation-table\"><tbody><tr><td id=\"navigation-buttons\" dir=\"ltr\" class=\"ss-form-entry goog-inline-block\"><input id=\"ss-submit\" type=\"submit\" name=\"submit\" value=\"Submit\" class=\"btn btn-primary\"/><div class=\"ss-password-warning ss-secondary-text\"><small>Never submit passwords through Google Forms.</small></div></td></tr></tbody></table></div></div></form></div></div></section></div></div>"}),deftmp("forms.nbmeApply",{template:"<div class=\"forms-nbmeApply\"><div class=\"sleek\"><div id=\"landing\" style=\"padding-bottom:0px\"><div class=\"container\"><h1 style=\"margin-bottom:35px;\">Join Open Osmosis</h1><p class=\"explain secondary\">Osmosis is committed to offering everyone open access to world-class learning materials! We have launched Open Osmosis which is a library of CC-BY-SA materials that underscore our commitment to the open education movement.</p><p class=\"explain secondary\">Right now, Osmosis is looking for exceptional content creators and reviewers to help us continue to make high quality questions. Content creators will get paid to submit high-quality questions and reviewers are generally faculty members who will review the submitted questions. If you have a deep understanding of medical content and a great intuition for how students like to learn, then we encourage you to <a target='_blank' href='http://goo.gl/forms/7KfHtCFB3r'>apply</a>. It\u2019s a great way to learn, practice your ability to teach, get professional experience, and get paid!</p><p class=\"explain secondary\">This is a <strong>contract position</strong> for work that will need to be completed in 6 months.</p><div class=\"position-info\"><h4>Responsibilities Include</h4><ul><li>Creating excellent medical questions</li><li>Reviewing and improving existing medical questions</li></ul><h4>You Need</h4><ul><li>To have great intuition for how medical students like to learn and insight into common misconceptions</li><li>To have strong writing, communication, time-management skills, and technical skills (e.g. familiarity with Google docs), as well as a willingness to learn how to use new tools</li><li>A passion for offering free medical education resources to students around the world</li></ul><h4>To Apply</h4><p>To be a question writer, you will need to submit one question in a Google Doc. Our <a href='https://docs.google.com/document/d/1oKDagECqlLXfhrMSi0NCX8nb5FRGVrVlaysiAc1JLXs' target='_blank' >question writing style guide</a> and <a href='https://docs.google.com/document/d/1acrKZPKTQd_WfSTOxAVhtIOK-9EpQDM6rkZ7faFVguA/' target='_blank' >template</a> should help you get started. If you are selected, we will reach out to you regarding next-steps on the application process.</p><p>When you\u2019re ready, you can <a href='http://goo.gl/forms/7KfHtCFB3r' target='_blank' >apply</a> here!</p><h4>Compensation</h4><ul><li>Get paid for each question that you write</li><li>Gain work experience and build your professional network</li><li>Earn a recommendation letter (top contributors)</li><li>Get analytics on how many students around the world are learning from you</li></ul><h4>Questions</h4><p>Please take a look at our <a href='https://docs.google.com/document/d/1p-Xh40har7qcj76zU05XYDcUr7CJFj5EWBrz-tEOFLY' target='_blank' >FAQ page</a> and contact us at <a href='mailto:thasin@osmosis.org'>thasin@osmosis.org</a> with questions.</p></div></div></div></div></div>"}),deftmp("forms.rwjfMed",{template:"<div class=\"forms-rwjfMed\"><div class=\"sleek\"><div id=\"landing\" style=\"padding-bottom:0px\"><div class=\"container\"><h1>Robert Wood Johnson Foundation</h1><p class=\"main-explain\">Developing a Platform of Open Medical Education Resources</p></div></div><section class=\"light-gray\"><div class=\"container\"><div class=\"span10\"><h2>About the Project</h2><p class=\"explain\">Osmosis has been awarded a grant from the Robert Wood Johnson Foundation (RWJF) to help develop a large database of open (CC BY-SA) medical education resources that will be available free to all clinical students and, eventually, to patients and other public users, in the following 12 fields:</p></div><div class=\"span10\"><div class=\"med-fields\"><div class=\"row\"><div class=\"col\">Anesthesiology</div><div class=\"col\">Dermatology</div><div class=\"col\">Emergency Med </div><div class=\"col\">Spine and Musculoskeletal</div></div><div class=\"row\"> <div class=\"col\">Neurology </div><div class=\"col\">OB/GYN  </div><div class=\"col\">Ophthalmology</div><div class=\"col\">Pediatrics</div></div><div class=\"row\"> <div class=\"col\">Osteopathic Principles and Practices</div><div class=\"col\">Psychiatry </div><div class=\"col\">Radiology </div><div class=\"col\">Surgery</div></div></div></div><div class=\"span10\"><h4 class=\"mtl\">We will be developing and/or curating the following resources for each field:</h4><ul class=\"pas\"><li class=\"mas\">Hundreds of high-yield practice questions centered around common, catastrophic, and clarifying diseases and conditions.</li><li class=\"mas\">Multimedia including images, videos, and mnemonics.</li><li class=\"mas\">Other resources including reference material such as notes, Wikipedia, popular media, scientific literature, among others.</li></ul><h4 class=\"mtl\">We will accomplish the above by creating a team for each field consisting of:</h4><ul class=\"pas\"><li class=\"mas\">1 Medical Scholar who will contribute to and coordinate the development of the resources above.</li><li class=\"mas\">At least 3-5 Medical Contributors, who will write questions and submit accompanying images, videos, and mnemonics.</li><li class=\"mas\">At least 3-5 Clinical Advisors, who will review all of the submitted content to ensure validity.</li></ul><p>The Medical Scholars will be overseen by an overall Project Coordinator. See below for more details on each position.</p></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#MedSchol\">Medical Scholar</a></li><li><a href=\"#MedCont\">Medical Contributor</a></li><li><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!        </a></li></ul></div></div></section><section>   <div class=\"container\"><div class=\"span10\"><a name=\"MedSchol\">&nbsp;</a></div><div class=\"span10\"> <h2>Medical Scholar</h2><p class=\"explain\">The Osmosis Medical Scholars will contribute to and coordinate the development of questions and other resources in one of the ten fields listed above.</p></div><div class=\"span10\"> <h4 class=\"mam\">Qualities:</h4><ul class=\"pas\"><li class=\"mas\">Ambitious and highly organized medical student or recent graduate,</li><li class=\"mas\">Flexible schedule over the summer of 2014 (e.g. research year, summer off) that allows for a minimum of 15 hours/week of work,</li><li class=\"mas\">Interest in matching into one of the fields above,</li><li class=\"mas\">Demonstrated ability to succeed academically,</li><li class=\"mas\">Strong desire to contribute to medical education,</li><li class=\"mas\">Preference given to advanced medical students who have taken shelf and step exams.</li></ul><h4 class=\"mam\">Responsibilities:</h4><ul class=\"pas\"><li class=\"mas\">Build a team of contributors and clinical advisors in the specific field,</li><li class=\"mas\">Adapt and share a set of detailed instructions with the team so they know how to accomplish their goals,</li><li class=\"mas\">Coordinate the team\u2019s activities, primarily question development and resource sharing, along a specific timeframe and with a specific content map,</li><li class=\"mas\">Write and contribute high-yield, quality questions that are fact-, spelling-, and grammar-checked,</li><li class=\"mas\">Curate high-yield questions that can be licensed under Creative Commons BY-SA. For example, by finding a set of good questions such as these for ophthalmology (http://www.eyequiz.com/) and contacting the necessary parties.</li><li class=\"mas\">Curate additional resources such as helpful websites, YouTube videos and channels, Twitter profiles, etc.</li></ul><h4 class=\"mam\">Compensation:</h4><ul class=\"pas\"><li class=\"mas\">A competitive stipend,</li><li class=\"mas\">A per-question contribution bonus of at least $5/question,</li><li class=\"mas\">Incredible resume-building and networking opportunity.</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Top\">Back to Top</a></li><li class=\"disabled\"><a href=\"#MedSchol\">Medical Scholar</a></li><li><a href=\"#MedCont\">Medical Contributor</a></li><li><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section class=\"dark-gray\"> <div class=\"container\"><div class=\"span10\"><a name=\"MedCont\">&nbsp;</a></div><div class=\"span10\"> <h2>Medical Contributor</h2><p class=\"explain\">The Osmosis Medical Contributors will write high-yield questions and submit accompanying resources.</p></div><div class=\"span10\"> <h4 class=\"mam\">Qualities:</h4><ul class=\"pas\"><li class=\"mas\">Any medical student who wants to review while contributing to medical education,</li><li class=\"mas\">Demonstrated ability to succeed academically, e.g. high boards, Shelf, or general grades.</li><li class=\"mas\">Will review the NBME\u2019s Item Writing Guide (http://www.nbme.org/publications/item-writing-manual.html) and potentially their online course on question-writing (https://nbmeu.desire2learn.com/)</li></ul><h4 class=\"mam\">Responsibilities:</h4><ul class=\"pas\"><li class=\"mas\">Write and contribute high-yield, quality questions that are fact-, spelling-, and grammar-checked,</li><li class=\"mas\">Incorporate accompanying images, videos, mnemonics, references, and other resources into the questions.</li></ul><h4 class=\"mam\">Compensation:</h4><ul class=\"pas\"><li class=\"mas\">A per-question contribution bonus of at least $5/question,</li><li class=\"mas\">Resume-building opportunity, including a recommendation letter for top contributors.</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Top\">Back to Top</a></li><li><a href=\"#MedSchol\">Medical Scholar</a></li><li class=\"disabled\"><a href=\"#MedCont\">Medical Contributor</a></li><li><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section class=\"light-gray\"> <div class=\"container\"><div class=\"span10\"><a name=\"ClinAd\">&nbsp;</a></div><div class=\"span10\"> <h2>Osmosis Clinical Advisor</h2><p class=\"explain\">The Osmosis Clinical Advisors will review content, including questions and other resources, that is shared with them. They may also contribute their own content to the open educational resource database.</p></div><div class=\"span10\">       <h4 class=\"mam\">Qualities:</h4><ul class=\"pas\"><li class=\"mas\">Teaching faculty at a medical institution who specialize in one of the ten fields,</li><li class=\"mas\">Demonstrated interest in medical education.</li></ul><h4 class=\"mam\">Responsibilities:</h4><ul class=\"pas\"><li class=\"mas\">Review questions, images, videos, mnemonics, and references that are periodically sent to them,</li><li class=\"mas\">Offer feedback on overall project,</li><li class=\"mas\">Recommend colleagues who may also make great Clinical Advisors,</li><li class=\"mas\">Potentially contribute content to the database.</li></ul><h4 class=\"mam\">Compensation:</h4><ul class=\"pas\"><li class=\"mas\">A per-reviewed question stipend of at least $3/question.</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Top\">Back to Top</a></li><li><a href=\"#MedSchol\">Medical Scholar</a></li><li><a href=\"#MedCont\">Medical Contributor</a></li><li class=\"disabled\"><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section><div class=\"container\"><div class=\"span10\"><a name=\"Apply\">&nbsp;</a></div><div class=\"span10\"><h2>Apply Now</h2><p class=\"required-msg explain\">Fields marked with (*) are required.</p></div><div class=\"span10\"><form action=\"https://docs.google.com/forms/d/1FpnIY6iuTt5HELiqmlAzsddqQzlhjEfMCZaiScCl0r4/formResponse\" method=\"POST\" target=\"_self\" onsubmit=\"\"><div class=\"form-group\"><label for=\"entry_1234608043\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Name<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"small\"><small>e.g. Gregory House</small></div></label><input id=\"entry_1234608043\" type=\"text\" name=\"entry.1234608043\" value=\"\" dir=\"auto\" aria-label=\"Name e.g. Gregory House \" title=\"\" aria-required=\"true\" required=\"\" class=\"input-xxlarge\"/><label for=\"entry_1250527139\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Email Address<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Preferably .edu; e.g. house@jhmi.edu</small></div></label><input id=\"entry_1250527139\" type=\"text\" name=\"entry.1250527139\" value=\"\" dir=\"auto\" aria-label=\"Email Address Preferably .edu; e.g. house@jhmi.edu \" title=\"\" aria-required=\"true\" required=\"\" class=\"ss-q-short input-xxlarge\"/><label for=\"entry_1120564410\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Affiliation<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>e.g. Johns Hopkins; Philadelphia College of Osteopathic Medicine</small></div></label><input id=\"entry_1120564410\" type=\"text\" name=\"entry.1120564410\" value=\"\" dir=\"auto\" aria-label=\"Affiliation e.g. Johns Hopkins; Philadelphia College of Osteopathic Medicine \" title=\"\" aria-required=\"true\" required=\"\" class=\"ss-q-short input-xxlarge\"/><label for=\"entry_887136190\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Current Level<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>e.g. M1 = first year medical student; PGY1 = first year post-graduate</small></div></label><select id=\"entry_887136190\" name=\"entry.887136190\" aria-label=\"Current Level e.g. M1 = first year medical student; PGY1 = first year post-graduate \" class=\"input-xlarge\"><option value=\"\"></option><option value=\"M1\">M1</option><option value=\"M2\">M2</option><option value=\"M3\">M3</option><option value=\"M4\">M4</option><option value=\"PGY1\">PGY1</option><option value=\"PGY2\">PGY2</option><option value=\"PGY3\">PGY3</option><option value=\"Faculty Member\">Faculty Member</option><option value=\"Other (please comment)\">Other (please comment in a text area below)</option></select><label for=\"entry_1467256877\" class=\"mtm\"><h4 class=\"formstyle\">What position are you primarily applying for?<span class=\"require\">*</span></h4></label><div role=\"radiogroup\" aria-label=\"What position are you primarily applying for?  \" class=\"radio\"><label><input id=\"group_147716012_1\" type=\"radio\" name=\"entry.147716012\" value=\"Medical Scholar\" role=\"radio\" aria-label=\"Medical Scholar\" class=\"ss-q-radio\"/>Medical Scholar</label></div><div class=\"radio\"><label><input id=\"group_147716012_2\" type=\"radio\" name=\"entry.147716012\" value=\"Medical Contributor\" role=\"radio\" aria-label=\"Medical Contributor\" class=\"ss-q-radio\"/>Medical Contributor</label></div><div class=\"radio\"><label><input id=\"group_147716012_3\" type=\"radio\" name=\"entry.147716012\" value=\"Clinical Advisor\" role=\"radio\" aria-label=\"Clinical Advisor\" class=\"ss-q-radio\"/>Clinical Advisor</label></div><label for=\"entry_1665691637\"><h4 class=\"formstyle\">Which fields do you want to contribute to?<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Please select all that apply. Please pick up to 5</small></div></label><div class=\"checkbox\"><label class=\"mtl\"><input id=\"group_523194779_1\" type=\"checkbox\" name=\"entry.523194779\" value=\"Spine and Musculoskeletal\" role=\"checkbox\"/>Spine and Musculoskeletal</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_2\" type=\"checkbox\" name=\"entry.523194779\" value=\"Anesthesiology\" role=\"checkbox\" aria-label=\"\"/>Anesthesiology     </label></div><div class=\"checkbox\"><label><input id=\"group_523194779_3\" type=\"checkbox\" name=\"entry.523194779\" value=\"Neurology\" role=\"checkbox\" aria-label=\"\"/>Neurology</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_4\" type=\"checkbox\" name=\"entry.523194779\" value=\"Osteopathic Principles and Practices\" role=\"checkbox\" aria-label=\"\"/>Osteopathic Principles and Practices</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_5\" type=\"checkbox\" name=\"entry.523194779\" value=\"Emergency Medicine\" role=\"checkbox\" aria-label=\"\"/>Emergency Medicine</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_6\" type=\"checkbox\" name=\"entry.523194779\" value=\"OB/GYN\" role=\"checkbox\" aria-label=\"\"/>OB/GYN</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_7\" type=\"checkbox\" name=\"entry.523194779\" value=\"Dermatology\" role=\"checkbox\" aria-label=\"\"/>Dermatology</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_8\" type=\"checkbox\" name=\"entry.523194779\" value=\"Ophthalmology\" role=\"checkbox\" aria-label=\"\"/>Ophthalmology</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_9\" type=\"checkbox\" name=\"entry.523194779\" value=\"Radiology\" role=\"checkbox\" aria-label=\"\"/>Radiology</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_10\" type=\"checkbox\" name=\"entry.523194779\" value=\"Pediatrics\" role=\"checkbox\" aria-label=\"\"/>Pediatrics</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_11\" type=\"checkbox\" name=\"entry.523194779\" value=\"Psychiatry\" role=\"checkbox\" aria-label=\"\"/>Psychiatry   </label></div><div class=\"checkbox\"><label><input id=\"group_523194779_12\" type=\"checkbox\" name=\"entry.523194779\" value=\"Surgery\" role=\"checkbox\" aria-label=\"\"/>Surgery</label></div><div class=\"checkbox\"><label><input id=\"group_523194779_13\" type=\"checkbox\" name=\"entry.523194779\" value=\"Celebrity Question Pack\" role=\"checkbox\" aria-label=\"\"/>Celebrity Question Pack</label></div><label for=\"entry_1621982926\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Why do you want to work with us on this initiative?</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"></div></label><textarea id=\"entry_1621982926\" name=\"entry.1621982926\" rows=\"8\" dir=\"auto\" aria-label=\"Why do you want to work with us on this initiative?  \" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_796309868\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Any other comments?</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>We welcome any ideas, suggestions, questions, and background information.</small></div></label><textarea id=\"entry_796309868\" name=\"entry.796309868\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Any other comments? We welcome any ideas, suggestions, questions, and background information. \" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_1315869361\" class=\"ss-q-item-label\"><h4 class=\"formstyle\"> \nUSMLE Step 1 Score (optional)</h4><div class=\"ss-secondary-text\"> <small>This will be kept anonymous, unless you agree to its publication. It will help us fast-track your application.</small></div></label><input id=\"entry_1315869361\" type=\"text\" name=\"entry.1315869361\" value=\"\" dir=\"auto\" aria-label=\"USMLE Step 1 Score (optional)\" title=\"\"/><label for=\"entry_1913686506\" class=\"ss-q-item-label\"><h4 class=\"formstyle\"> \nUSMLE Step 2CK Score (optional)</h4><div class=\"ss-secondary-text\"> <small>This will be kept anonymous, unless you agree to its publication. It will help us fast-track your application.</small></div></label><input id=\"entry_1913686506\" type=\"text\" name=\"entry.1913686506\" value=\"\" dir=\"auto\" aria-label=\"USMLE Step 2CK Score (optional)\" title=\"\"/><label for=\"entry_1715430496\" class=\"ss-q-item-label\"><h4 class=\"formstyle\"> \nCOMLEX Score (optional)</h4><div class=\"ss-secondary-text\"> <small>This will be kept anonymous, unless you agree to its publication. It will help us fast-track your application.</small></div></label><input id=\"entry_1715430496\" type=\"text\" name=\"entry.1715430496\" value=\"\" dir=\"auto\" aria-label=\"COMLEX Score (optional)\" title=\"\"/><input type=\"hidden\" name=\"draftResponse\" value=\"[,,&quot;-3725210257964388009&quot;]\"/><input type=\"hidden\" name=\"pageHistory\" value=\"0\"/><input type=\"hidden\" name=\"fbzx\" value=\"-3725210257964388009\"/><div class=\"ss-item ss-navigate\"><table id=\"navigation-table\"><tbody><tr><td id=\"navigation-buttons\" dir=\"ltr\" class=\"ss-form-entry goog-inline-block\"><input id=\"ss-submit\" type=\"submit\" name=\"submit\" value=\"Submit\" class=\"btn btn-primary\"/><div class=\"ss-password-warning ss-secondary-text\"><small>Never submit passwords through Google Forms.</small></div></td></tr></tbody></table></div></div></form></div></div></section></div></div>"}),deftmp("forms.rwjfNursing",{template:"<div class=\"forms-rwjfNursing\"><div class=\"sleek\"><div id=\"landing\" style=\"padding-bottom:0px\"><div class=\"container\"><h1>Robert Wood Johnson Foundation</h1><p class=\"main-explain\">Developing a Platform of Open Nursing Education Resources</p></div></div><section class=\"dark-gray\"><div class=\"container\"><div class=\"span10\"><h2>About the Project</h2><p class=\"explain\">Osmosis has been awarded a grant from the Robert Wood Johnson Foundation (RWJF) to help develop a large database of open (CC BY-SA) medical education resources that will be available free to all clinical students and, eventually, to patients and other public users in different medical specialities.</p><div><p>We are excited to expand our initiative to include material covered on the NCLEX licensing examination for registered nurses in the following 4 categories:</p><ol><li>Safe and Effective Care Environment</li><li>Health Promotion and Maintenance</li><li>Psychosocial Integrity</li><li>Physiological Integrity</li></ol></div></div><div class=\"span10\"><h4>We will be developing and/or curating the following resources for each nursing category:</h4><ul><li class=\"mas\">Hundreds of high-yield practice questions centered around nursing policy and practice</li><li class=\"mas\">Multimedia including images, videos, and mnemonics</li><li class=\"mas\">Other resources including reference material such as notes, Wikipedia, popular media, scientific literature, among others</li></ul><h4>We will accomplish the above by creating a team for each field consisting of:</h4><ul><li class=\"mas\">1 Nursing Scholar who will contribute to and coordinate the development of the resources above.</li><li class=\"mas\">At least 5-10 Nursing Contributors, who will write questions and submit accompanying images, videos, and mnemonics.</li><li class=\"mas\">At least 3-5 Clinical Advisors, who will review all of the submitted content to ensure validity.</li></ul><p>The Nursing Scholars will be overseen by an overall Project Coordinator. See below for more details on each position.</p></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#MedSchol\">Nursing Scholar</a></li><li><a href=\"#MedCont\">Nursing Contributor</a></li><li><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section class=\"light-gray\"> <div class=\"container\"><div class=\"span10\"><a name=\"MedSchol\">&nbsp;</a></div><div class=\"span10\"> <h2>Nursing Scholar</h2><p class=\"explain\">The Osmosis Nursing Scholars will contribute to and coordinate the development of questions and other resources in one of the four categories listed above.</p></div><div class=\"span10\"> <h4 class=\"mam\">Qualities:</h4><ul class=\"pas\"><li class=\"mas\">Ambitious and highly organized nursing student or recent graduate,</li><li class=\"mas\">Flexible schedule for the Fall 2014 - Spring 2015 academic year that allows for a minimum of 10-15 hours/week of work,</li><li class=\"mas\">Demonstrated ability to succeed academically,</li><li class=\"mas\">Strong desire to contribute to nursing education,</li><li class=\"mas\">Preference given to advanced nursing students who have taken NCLEX exams.</li></ul><h4 class=\"mam\">Responsibilities:</h4><ul class=\"pas\"><li class=\"mas\">Build a team of contributors and clinical advisors in the specific field,</li><li class=\"mas\">Adapt and share a set of detailed instructions with the team so they know how to accomplish their goals,</li><li class=\"mas\">Coordinate the team\u2019s activities, primarily question development and resource sharing, along a specific timeframe and with a specific content map,</li><li class=\"mas\">Write and contribute high-yield, quality questions that are fact-, spelling-, and grammar-checked,</li><li class=\"mas\">Curate high-yield questions that can be licensed under Creative Commons BY-SA. For example, by finding a set of good questions such as these for ophthalmology (http://www.eyequiz.com/) and contacting the necessary parties.</li><li class=\"mas\">Curate additional resources such as helpful websites, YouTube videos and channels, Twitter profiles, etc.</li></ul><h4 class=\"mam\">Compensation:</h4><ul class=\"pas\"><li class=\"mas\">A competitive stipend,</li><li class=\"mas\">A per-question contribution bonus of at least $5/question,</li><li class=\"mas\">Incredible resume-building and networking opportunity.</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Top\">Back to Top</a></li><li class=\"disabled\"><a href=\"#MedSchol\">Nursing Scholar</a></li><li><a href=\"#MedCont\">Nursing Contributor</a></li><li><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section><div class=\"container\"><div class=\"span10\"><a name=\"MedCont\">&nbsp;</a></div><div class=\"span10\"> <h2>Nursing Contributor</h2><p class=\"explain\">The Osmosis Nursing Contributors will write high-yield questions and submit accompanying resources.</p></div><div class=\"span10\">   <h4 class=\"mam\">Qualities:</h4><ul class=\"pas\"><li class=\"mas\">Any nursing student who wants to review while contributing to nursing education,</li><li class=\"mas\">Demonstrated ability to succeed academically, e.g. high NCLEX scores or general grades.</li><li class=\"mas\">Will review the NBME\u2019s Item Writing Guide (http://www.nbme.org/publications/item-writing-manual.html) and potentially their online course on question-writing (https://nbmeu.desire2learn.com/)</li></ul><h4 class=\"mam\">Responsibilities:</h4><ul class=\"pas\"><li class=\"mas\">Write and contribute high-yield, quality questions that are fact-, spelling-, and grammar-checked,</li><li class=\"mas\">Incorporate accompanying images, videos, mnemonics, references, and other resources into the questions.</li></ul><h4 class=\"mam\">Compensation:</h4><ul class=\"pas\"><li class=\"mas\">A per-question contribution bonus of at least $5/question,</li><li class=\"mas\">Resume-building opportunity, including a recommendation letter for top contributors.</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Top\">Back to Top</a></li><li><a href=\"#MedSchol\">Nursing Scholar</a></li><li class=\"disabled\"><a href=\"#MedCont\">Nursing Contributor</a></li><li><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section class=\"light-gray\"><div class=\"container\"><div class=\"span10\"><a name=\"ClinAd\">&nbsp;</a></div><div class=\"span10\"> <h2>Osmosis Clinical Advisor</h2><p class=\"explain\">The Osmosis Clinical Advisors will review content, including questions and other resources, that is shared with them. They may also contribute their own content to the open educational resource database.</p></div><div class=\"span10\">   <h4 class=\"mam\">Qualities:</h4><ul class=\"pas\"><li class=\"mas\">Teaching faculty at a nursing institution,</li><li class=\"mas\">Demonstrated interest in nursing education.</li></ul><h4 class=\"mam\">Responsibilities:</h4><ul class=\"pas\"><li class=\"mas\">Review questions, images, videos, mnemonics, and references that are periodically sent to them,</li><li class=\"mas\">Offer feedback on overall project,</li><li class=\"mas\">Recommend colleagues who may also make great Clinical Advisors,</li><li class=\"mas\">Potentially contribute content to the database.</li></ul><h4 class=\"mam\">Compensation:</h4><ul class=\"pas\"><li class=\"mas\">A per-reviewed question stipend of at least $3/question.</li></ul></div><div class=\"span10\"><ul class=\"nav nav-pills\"><li><a href=\"#Top\">Back to Top</a></li><li><a href=\"#MedSchol\">Nursing Scholar</a></li><li><a href=\"#MedCont\">Nursing Contributor</a></li><li class=\"disabled\"><a href=\"#ClinAd\">Clinical Advisor</a></li><li><a href=\"#Apply\">Apply Now!</a></li></ul></div></div></section><section> <div class=\"container\"><div class=\"span10\"><a name=\"Apply\">&nbsp;</a></div><div class=\"span10\"><h2>Apply Now</h2><p class=\"explain required-msg\">Fields marked with (*) are required.</p></div><div class=\"span10\"><form action=\"https://docs.google.com/forms/d/10OJevNsIQhA6F9-rP5DnaUfVrOWWATw6pR7PIAMfy54/formResponse\" method=\"POST\" target=\"_self\" onsubmit=\"\"><div class=\"form-group\"><label for=\"entry_1234608043\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Name<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"small\"><small>e.g. Florence Nightingale</small></div></label><input id=\"entry_1234608043\" type=\"text\" name=\"entry.1234608043\" value=\"\" dir=\"auto\" aria-label=\"Name e.g. Florence Nightingale \" title=\"\" aria-required=\"true\" required=\"\" class=\"input-xxlarge\"/><label for=\"entry_1250527139\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Email Address<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Preferably .edu; e.g. florence@kingscollege.edu</small></div></label><input id=\"entry_1250527139\" type=\"text\" name=\"entry.1250527139\" value=\"\" dir=\"auto\" aria-label=\"Email Address Preferably .edu; e.g. house@jhmi.edu \" title=\"\" aria-required=\"true\" required=\"\" class=\"ss-q-short input-xxlarge\"/><label for=\"entry_1120564410\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Affiliation<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>e.g. Johns Hopkins; Philadelphia College of Osteopathic Medicine</small></div></label><input id=\"entry_1120564410\" type=\"text\" name=\"entry.1120564410\" value=\"\" dir=\"auto\" aria-label=\"Affiliation e.g. Johns Hopkins; Philadelphia College of Osteopathic Medicine \" title=\"\" aria-required=\"true\" required=\"\" class=\"ss-q-short input-xxlarge\"/><label for=\"entry_887136190\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Current Level<span class=\"require\">*</span><label for=\"itemView.getDomIdToLable()\"></label></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small></small></div></label><select id=\"entry_887136190\" name=\"entry.887136190\" class=\"input-xlarge\"><option value=\"\"></option><option value=\"LPN/LVN\">LPN/LVN</option><option value=\"ADN\">ADN</option><option value=\"BSN\">BSN</option><option value=\"MSN\">MSN</option><option value=\"DNP\">DNP</option><option value=\"PhD\">PhD</option><option value=\"Faculty Member\">Faculty Member</option><option value=\"Other (please comment)\">Other (please comment in a text area below)</option></select><label for=\"entry_1467256877\" class=\"mtm\"><h4 class=\"formstyle\">What position are you primarily applying for?<span class=\"require\">*</span></h4></label><div role=\"radiogroup\" aria-label=\"What position are you primarily applying for?  \" class=\"radio\"><label><input id=\"group_147716012_1\" type=\"radio\" name=\"entry.147716012\" value=\"Nursing Scholar\" role=\"radio\" aria-label=\"Medical Scholar\" class=\"ss-q-radio\"/>Nursing Scholar</label></div><div class=\"radio\"><label><input id=\"group_147716012_2\" type=\"radio\" name=\"entry.147716012\" value=\"Nursing Contributor\" role=\"radio\" aria-label=\"Medical Contributor\" class=\"ss-q-radio\"/>Nursing Contributor</label></div><div class=\"radio\"><label><input id=\"group_147716012_3\" type=\"radio\" name=\"entry.147716012\" value=\"Clinical Advisor\" role=\"radio\" aria-label=\"Clinical Advisor\" class=\"ss-q-radio\"/>Clinical Advisor</label></div><label for=\"entry_523194779\" class=\"mtm\"><h4 class=\"formstyle\">Which field do you want to contribute to?<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"></div></label><select id=\"entry_523194779\" name=\"entry.523194779\" aria-label=\"Which field do you want to contribute to? Please select all that apply. Prioritize the field(s) you potentially want to match into.  \" class=\"input-xlarge\"><option value=\"\"></option><option value=\"Safe and Effective Care Environment\">Safe and Effective Care Environment</option><option value=\"Health Promotion and Maintenance\">Health Promotion and Maintenance</option><option value=\"Psychosocial\">Psychosocial</option><option value=\"Physiological Integrity\">Physiological Integrity</option></select><label for=\"entry_1621982926\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Why do you want to work with us on this initiative?</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"></div></label><textarea id=\"entry_1621982926\" name=\"entry.1621982926\" rows=\"8\" dir=\"auto\" aria-label=\"Why do you want to work with us on this initiative?  \" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_2070577679\" class=\"ss-q-item-lable\"><h4 class=\"formstyle\">Do you have any previous experience in designing test questions or practice problems?</h4></label><textarea id=\"entry_2070577679\" name=\"entry.2070577679\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Do you have any previous experience in designing test questions or practice problems?\" aria-required=\"true\" required=\"\" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_360404049\" class=\"ss-q-item-lable\"><h4 class=\"formstyle\">Please share 1 high-quality quiz question and explanation that relates to your chosen field.</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>The question and explanation should both be your own original work.</small></div></label><textarea id=\"entry_360404049\" name=\"entry.360404049\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Do you have any previous experience in designing test questions or practice problems?\" aria-required=\"true\" required=\"\" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_328076192\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">What is your anticipated availability for the Fall 2014 - Spring 2015 academic year? Where will you be located?<span class=\"require\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>E.g. November: 10 hrs/week in Philadelphia; March: 5 hrs/week in Baltimore</small></div></label><textarea id=\"entry_328076192\" name=\"entry.328076192\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"What is your anticipated availability from May to August? Where will you be located? E.g. May: 10 hrs/week in Philadelphia; June: 5 hrs/week in Baltimore \" aria-required=\"true\" required=\"\" class=\"ss-q-long input-xxlarge\"></textarea><label for=\"entry_796309868\" class=\"ss-q-item-label\"><h4 class=\"formstyle\">Any other comments?</h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>We welcome any ideas, suggestions, questions, and background information.</small></div></label><textarea id=\"entry_796309868\" name=\"entry.796309868\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Any other comments? We welcome any ideas, suggestions, questions, and background information. \" class=\"ss-q-long input-xxlarge\"></textarea><input type=\"hidden\" name=\"draftResponse\" value=\"[,,&quot;-5179571831740812419&quot;]\"/><input type=\"hidden\" name=\"pageHistory\" value=\"0\"/><input type=\"hidden\" name=\"fbzx\" value=\"-5179571831740812419\"/><div class=\"ss-item ss-navigate\"><table id=\"navigation-table\"><tbody><tr><td id=\"navigation-buttons\" dir=\"ltr\" class=\"ss-form-entry goog-inline-block\"><input id=\"ss-submit\" type=\"submit\" name=\"submit\" value=\"Submit\" class=\"btn btn-primary\"/><div class=\"ss-password-warning ss-secondary-text\"><small>Never submit passwords through Google Forms.</small></div></td></tr></tbody></table></div></div></form></div></div></section></div></div>"}),deftmp("forms.sime",{template:"<div class=\"forms-sime\"><div class=\"sleek\"><div id=\"landing\" style=\"padding-bottom:0px\"><div class=\"container\"><h1>Apply to be a Student Innovator in Medical Education (SIME)!</h1><p class=\"main-explain\">Are you interested in improving medical education? Do you want to be a leader and innovator in the field? Then apply to be a SIME!</p></div></div><section class=\"dark-gray\"><div class=\"container\"><div class=\"span10\"><h2>About the Project</h2><p class=\"explain\">We are happy to announce the Student Innovators in Medical Education (SIME) program. Osmosis has attracted many passionate and forward-thinking medical students, some of whom have published peer-reviewed papers with us in journals such as the <a style=\"font-style:italic\" target=\"_blank\" href=\"http://annals.org/article.aspx?articleid=2173521\">Annals of Internal Medicine</a> and <a style=\"font-style:italic\" target=\"_blank\" href=\"http://www.qscience.com/doi/full/10.5339/igmhe.2014.2\">Innovations in Global Medical &amp; Health Education</a>. As a SIME, you have the opportunity to do the same in addition to getting complimentary access to Osmosis Prime among other benefits. Interested? Fill out the application below!</p><div class=\"span10\"> <h4 class=\"mam\">Benefits:</h4><ul class=\"pas\"><li class=\"mas\">Visible and recognized leadership position</li><li class=\"mas\">Complimentary Osmosis Prime subscription and early access to new Osmosis features and content</li><li class=\"mas\">Venue to publish and present your thoughts on medical education.</li><li class=\"mas\">Interact with (and potentially interview) Leaders in Medical Education (LIME), including deans, editors, presidents, chairs, and program directors</li><li class=\"mas\">Exclusive membership to a community of medical education innovators</li><li class=\"mas\">Other swag and goodies, such as free app download codes</li></ul><h4 class=\"mam\">Responsibilities (average 5 hours/week):</h4><ul class=\"pas\"><li class=\"mas\">Attend monthly SIME community meetings via video conference</li><li class=\"mas\">Coordinate your Class Group on Osmosis</li><li class=\"mas\">Communicate medical education innovations and opportunities to your peers and school</li><li class=\"mas\">Publish your writing periodically, e.g. interviews with LIMEs or your thoughts on medical education, on the Osmosis blog or in peer-reviewed journals.</li></ul></div></div></div></section><section><div class=\"container\"><div class=\"span10\"><h2>Apply Now</h2><p class=\"required-msg explain\">Fields marked with (*) are required.</p></div><div class=\"span10\"><form action=\"https://docs.google.com/forms/d/1wN6h0L7xwbPb5spasv0WhKfiooct2uYbTckpcL6uZUE/formResponse\" method=\"POST\" id=\"ss-form\" target=\"_self\" onsubmit=\"\"><ol role=\"list\" style=\"padding-left: 0\" class=\"ss-question-list\"><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-text\"><div class=\"ss-form-entry\"><label for=\"entry_1805468362\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">First Name<span aria-hidden=\"true\" class=\"ss-required-asterisk require\">*    </span></h4></label><input id=\"entry_1805468362\" type=\"text\" name=\"entry.1805468362\" value=\"\" dir=\"auto\" aria-label=\"First Name\" aria-required=\"true\" required=\"\" title=\"\" class=\"ss-q-short\"/><div id=\"810926731_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-text\"><div class=\"ss-form-entry\"><label for=\"entry_295399771\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Last Name<span aria-hidden=\"true\" class=\"ss-required-asterisk require\">*    </span></h4></label><input id=\"entry_295399771\" type=\"text\" name=\"entry.295399771\" value=\"\" dir=\"auto\" aria-label=\"Last Name\" aria-required=\"true\" required=\"\" title=\"\" class=\"ss-q-short\"/><div id=\"171438784_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-text\"><div class=\"ss-form-entry\"><label for=\"entry_546466856\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Email Address<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*    </span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text small\"> <small>.edu required, e.g. <a href=\"mailto:jdoe@medschool.edu\">jdoe@medschool.edu</a></small></div></label><input id=\"entry_546466856\" type=\"text\" name=\"entry.546466856\" value=\"\" dir=\"auto\" aria-label=\"Email Address .edu required, e.g. jdoe@medschool.edu\" aria-required=\"true\" required=\"\" title=\"\" class=\"ss-q-short\"/><div id=\"1493619847_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-select\"><div class=\"ss-form-entry\"><label for=\"entry_479987977\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Class Year<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*    </span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text small\"> <small></small></div></label><select id=\"entry_479987977\" name=\"entry.479987977\" aria-label=\"Class Year\" aria-required=\"true\" required=\"\" title=\"\" class=\"ss-q-short\"><option value=\"\"></option><option value=\"2019\">2019</option><option value=\"2018\">2018</option><option value=\"2017\">2017</option><option value=\"2016\">2016</option><option value=\"Other (please specify in comments)\">Other (please specify in comments)</option></select></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-text\"><div class=\"ss-form-entry\"><label for=\"entry_688787775\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">School<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*    </span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text small\"> <small>Please enter the full name of your institution</small></div></label><input id=\"entry_688787775\" type=\"text\" name=\"entry.688787775\" value=\"\" dir=\"auto\" aria-label=\"Please enter the full name of your institution\" aria-required=\"true\" required=\"\" title=\"\" class=\"ss-q-short\"/><div id=\"656790012_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-paragraph-text\"><div class=\"ss-form-entry\"><label for=\"entry_1730032962\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Why are you applying to be a SIME?<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*                        </span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text small\"> <small>Clear and concise answers are encouraged &nbsp; </small><span class=\"word-limit\">(Limit: 250 words)</span></div></label><textarea id=\"entry_1730032962\" name=\"entry.1730032962\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Why are you applying to be a SIME? Clear and concise answers are encouraged \" aria-required=\"true\" required=\"\" class=\"ss-q-long\"></textarea><div id=\"545460382_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-paragraph-text\"><div class=\"ss-form-entry\"><label for=\"entry_1139976188\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Please describe any previous writing or education experience.<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Clear and concise answers are encouraged</small><span class=\"word-limit\">(Limit: 250 words)</span></div></label><textarea id=\"entry_1139976188\" name=\"entry.1139976188\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Please describe any previous writing or education experience.  \" aria-required=\"true\" required=\"\" class=\"ss-q-long\"></textarea><div id=\"912666861_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-paragraph-text\"><div class=\"ss-form-entry\"><label for=\"entry_417514624\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Please share an idea for how you would improve medical education. <span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Clear and concise answers are encouraged</small><span class=\"word-limit\">(Limit: 250 words)</span></div></label><textarea id=\"entry_417514624\" name=\"entry.417514624\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"Please share an idea for how you would improve medical education.   \" aria-required=\"true\" required=\"\" class=\"ss-q-long\"></textarea><div id=\"1880592807_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-paragraph-text\"><div class=\"ss-form-entry\"><label for=\"entry_583343388\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">How do you think Osmosis can be improved?<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Clear and concise answers are encouraged</small><span class=\"word-limit\">(Limit: 250 words)</span></div></label><textarea id=\"entry_583343388\" name=\"entry.583343388\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"How do you think Osmosis can be improved?  \" aria-required=\"true\" required=\"\" class=\"ss-q-long\"></textarea><div id=\"1535795858_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-paragraph-text\"><div class=\"ss-form-entry\"><label for=\"entry_2094690716\" class=\"ss-q-item-label\"><div class=\"ss-q-title\">What do you like about Osmosis?<span aria-hidden=\"true\" class=\"ss-required-asterisk\">*</span></div><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"><small>Clear and concise answers are encouraged</small><span class=\"word-limit\">(Limit: 250 words)</span></div></label><textarea id=\"entry_2094690716\" name=\"entry.2094690716\" rows=\"8\" cols=\"0\" dir=\"auto\" aria-label=\"What do you like about Osmosis?  \" aria-required=\"true\" required=\"\" class=\"ss-q-long\"></textarea><div id=\"1062996724_errorMessage\" class=\"error-message\"></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-checkbox\"><div class=\"ss-form-entry\"><label for=\"entry_43978904\" class=\"ss-q-item-label\"><h4 class=\"formstyle ss-q-title\">Please mark the activities that you are specifically interested in doing.<span aria-hidden=\"true\" class=\"ss-required-asterisk\">*</span></h4><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"> <small>Feel free to check more than one. </small></div></label><div role=\"group\" aria-label=\"Please mark the activities that you are specifically interested in doing. Feel free to check more than one.  \" class=\"ss-choices ss-choices-required\"><div class=\"checkbox\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_694623397_1\" type=\"checkbox\" name=\"entry.694623397\" value=\"Coordinating the creation of a question bank specific to your school\" role=\"checkbox\" aria-required=\"true\" class=\"ss-q-checkbox\"/></span><span class=\"ss-choice-label\">Coordinating the creation of a question bank specific to your school</span></label></div><div class=\"checkbox\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_694623397_2\" type=\"checkbox\" name=\"entry.694623397\" value=\"Writing and publishing articles on the Osmosis blog and in peer-reviewed journals\" role=\"checkbox\" aria-required=\"true\" class=\"ss-q-checkbox\"/></span><span class=\"ss-choice-label\">Writing and publishing articles on the Osmosis blog and in peer-reviewed journals</span></label></div><div class=\"checkbox\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_694623397_3\" type=\"checkbox\" name=\"entry.694623397\" value=\"Speaking at your school and conferences\" role=\"checkbox\" aria-required=\"true\" class=\"ss-q-checkbox\"/></span><span class=\"ss-choice-label\">Speaking at your school and conferences</span></label></div><div class=\"checkbox\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_694623397_4\" type=\"checkbox\" name=\"entry.694623397\" value=\"Being part of a community of medical innovators\" role=\"checkbox\" aria-required=\"true\" class=\"ss-q-checkbox\"/></span><span class=\"ss-choice-label\">Being part of a community of medical innovators</span></label></div><div class=\"checkbox\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_694623397_5\" type=\"checkbox\" name=\"entry.694623397\" value=\"Interacting with Leaders in Medical Education\" role=\"checkbox\" aria-required=\"true\" class=\"ss-q-checkbox\"/></span><span class=\"ss-choice-label\">Interacting with Leaders in Medical Education</span></label></div><div class=\"checkbox\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_694623397_6\" type=\"checkbox\" name=\"entry.694623397\" value=\"__other_option__\" role=\"checkbox\" aria-required=\"true\" class=\"ss-q-checkbox ss-q-other-toggle\"/></span><span class=\"ss-choice-label mrm\">Other:</span><span class=\"ss-q-other-container goog-inline-block\"><input id=\"entry_694623397_other_option_response\" style=\"display:inline-block;width:250px;\" type=\"text\" name=\"entry.694623397.other_option_response\" value=\"\" dir=\"auto\" aria-label=\"Other\" class=\"ss-q-other\"/></span></label></div></div></div></div></div><div role=\"listitem\" class=\"ss-form-question errorbox-good\"><div dir=\"ltr\" class=\"ss-item ss-item-required ss-radio\"><div class=\"ss-form-entry\"><label for=\"entry_225811006\" class=\"ss-q-item-label\"><div class=\"ss-q-title\">Do you agree to commit to the responsibilities expected of SIMEs? <span aria-hidden=\"true\" class=\"ss-required-asterisk\">*</span></div><div dir=\"ltr\" class=\"ss-q-help ss-secondary-text\"></div></label><ul role=\"radiogroup\" aria-label=\"Do you agree to commit to the responsibilities expected of SIMEs?\" class=\"ss-choices\"><li class=\"ss-choice-item radio\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_1842352173_1\" type=\"radio\" name=\"entry.1842352173\" value=\"Yes\" role=\"radio\" aria-label=\"Yes\" required=\"\" aria-required=\"true\" class=\"ss-q-radio\"/></span><span class=\"ss-choice-label\">Yes</span></label></li><li class=\"ss-choice-item radio\"><label><span class=\"ss-choice-item-control goog-inline-block\"><input id=\"group_1842352173_2\" type=\"radio\" name=\"entry.1842352173\" value=\"No\" role=\"radio\" aria-label=\"No\" required=\"\" aria-required=\"true\" class=\"ss-q-radio\"/></span><span class=\"ss-choice-label\">No</span></label></li></ul><div id=\"225811006_errorMessage\" class=\"error-message\"></div></div></div></div><input type=\"hidden\" name=\"draftResponse\" value=\"[,,&quot;-8591456443462746125&quot;]\"/><input type=\"hidden\" name=\"pageHistory\" value=\"0\"/><input type=\"hidden\" name=\"fbzx\" value=\"-8591456443462746125\"/><div class=\"ss-item ss-navigate\"><table id=\"navigation-table\"><tbody><tr><td id=\"navigation-buttons\" dir=\"ltr\" class=\"ss-form-entry goog-inline-block\"><input id=\"ss-submit\" type=\"submit\" name=\"submit\" value=\"Submit\" class=\"jfk-button-action jfk-button btn btn-md btn-primary\"/><div class=\"ss-password-warning ss-secondary-text small\"> <small>Never submit passwords through Google Forms.</small></div></td></tr></tbody></table></div></ol></form></div></div></section></div></div>"}),deftmp("models.CommentView",{template:"<div class=\"models-CommentView\"><div data-bind=\"visible:!removed()\" class=\"comment-container\"><div data-bind=\"css: !comment.replyID()?&quot;primary&quot;:&quot;response&quot;, event: {mouseover:toggleVoteLink(true), mouseout:toggleVoteLink(false)}, visible:!__editing()\" class=\"item-comment\">       <div data-bind=\"visible:wantsVotes\" class=\"votingWrapper\"><div class=\"voting\"><div data-bind=\"click:voteUp, visible:wantsOpinionFeedback\" class=\"upVote\"><i class=\"fa fa-thumbs-up\"></i></div><div data-bind=\"css:{disabled: !wantsOpinionFeedback()}\" class=\"currentVotes\"><span data-bind=\"text:voteStr\" class=\"voteCount\"></span><span class=\"voteLabel\">votes</span></div><div data-bind=\"click:voteDown, visible:wantsOpinionFeedback\" class=\"downVote\"><i class=\"fa fa-thumbs-down fa-flip-horizontal\"></i></div></div></div><div class=\"picture\"><div data-bind=\"visible: !retracted() &amp;&amp; comment.category() != 1\" class=\"ui-Avatar avatar-35\"></div></div><div class=\"info\"><div class=\"meta\"><span data-bind=\"visible:!retracted() &amp;&amp; comment.category() != 1,text:comment.user\" class=\"name\"></span><span data-bind=\"visible:(!retracted() &amp;&amp; (descr() &amp;&amp; descr().length &gt; 0)), text:descr\" class=\"reason\"></span><span data-bind=\"visible:!retracted(), text: &quot;(&quot;+postedOnStr()+&quot;)&quot;\" class=\"time\"></span></div><div data-bind=\"css:{fst:retracted},visible:!__editing(),text:comment.comment\" class=\"content\"></div></div><div data-bind=\"visible:wantsOpinionFeedback\" class=\"comment-links\"><span class=\"link-label\">Vote (was this helpful):&nbsp;</span><a href=\"#\" data-bind=\"click:voteUp\">Yes</a><span class=\"spacer\">&nbsp;&#8226;&nbsp;</span><a href=\"#\" data-bind=\"click:voteDown\">No</a><span class=\"spacer\">&nbsp;&nbsp;&nbsp;</span><span class=\"link-label\">Reply:</span><a href=\"#\" data-bind=\"click:agree\"> Agree</a><span class=\"spacer\">&nbsp;&#8226;&nbsp;</span><a href=\"#\" data-bind=\"click:disagree\">Disagree</a><span class=\"spacer\">&nbsp;&#8226;&nbsp;</span><a href=\"#\" data-bind=\"click:respond\">Neutral</a><span data-bind=\"visible: ADMIN.moderator\"><span class=\"spacer\">&nbsp;&#8226;&nbsp;</span><a href=\"#\" data-bind=\"click:$data.removeComment\">Remove Comment</a></span></div><div data-bind=\"visible:isOrigPoster\" class=\"comment-links\"><a href=\"#\" data-bind=\"click:followup\">Follow up</a><span class=\"spacer\">&nbsp;&#8226;&nbsp;</span><a href=\"#\" data-bind=\"visible:!retracted(),click:retract\">Retract</a><a href=\"#\" data-bind=\"visible:retracted(),click:unretract\">Unretract</a><span data-bind=\"visible: ADMIN.moderator\"><span class=\"spacer\">&nbsp;&#8226;&nbsp;</span><a href=\"#\" data-bind=\"click:$data.removeComment\">Remove Comment</a></span></div></div><div class=\"clearfix\"></div><div data-bind=\"visible:__editing, css: !comment.replyID()?&quot;primary&quot;:&quot;response&quot;\" class=\"new-comment\"><div class=\"commentor\"><div class=\"picture\"><div class=\"ui-Avatar avatar-35\"> </div></div><div class=\"info\"><div class=\"meta\"><span data-bind=\"visible:!retracted() &amp;&amp; comment.category() != 1, text: comment.user\" class=\"name\"></span><span data-bind=\"visible:(!retracted() &amp;&amp; (descr() &amp;&amp; descr().length &gt; 0)), text:descr\" class=\"reason\"></span><span data-bind=\"visible:!retracted(), text: &quot;(&quot;+postedOnStr()+&quot;)&quot;\" class=\"time\"></span></div></div></div><div class=\"row\"><div class=\"the-new-comment col-el-xxs-12 col-el-xs-9 col-el-sm-8 col-el-md-8\"><textarea rows=\"5\" data-bind=\"value:comment.comment\"></textarea></div></div><div class=\"row\"><div data-bind=\"visible: !hideReason() &amp;&amp; !comment.replyID() &amp;&amp; __editing()\" class=\"mbs comment-reason col-el-xxs-12 col-el-xs-9 col-el-sm-8 col-el-md-8\"><select data-placeholder=\"Reason for comment\" data-bind=\"value:reasonStr\" style=\"width:100%\" class=\"chosen-sel form-control\"><option value=\"\"></option><optgroup label=\"Ask around\"><option value=\"1\">Ask if anyone knows _____?</option></optgroup><optgroup label=\"Lend a hand\"><option value=\"3\">I'm adding a mnemonic.</option><option value=\"4\">I'm adding some more info.</option></optgroup><optgroup label=\"Critique\"><option value=\"6\">It may not be correct.</option><option value=\"7\">It contains a typo/spelling error.</option><option value=\"8\">It may be difficult to understand.</option><option value=\"9\">It may not be relevant.</option><option value=\"10\">It may be too long/detailed.</option></optgroup><optgroup label=\"Not on the list?\"><option value=\"12\">Other</option></optgroup></select></div></div><div class=\"mbm\"><button data-bind=\"click:postComment\" class=\"btn btn-primary\">Post</button><span class=\"mls\"></span><button data-bind=\"click:cancel\" class=\"btn btn-default\">Cancel</button></div></div><div class=\"replyList\"></div></div><div data-bind=\"visible:removed\"><div class=\"fcg\">You have successfully removed this comment. When you refresh the page, it will have vanished!</div></div></div>"}),deftmp("models.CourseDocView",{template:"<div class=\"models-CourseDocView mrl mtm\"><div style=\"max-width: 100px\"><div data-bind=\"visible: readyForViewing()\"><span><a style=\"min-height:50px;min-width:50px\" data-bind=\"attr:{href:focusURL,node:nodeID}, css: {tabNavLink:MID}\" class=\"thumb-container\"><img style=\"width:100%; height:auto\" data-bind=\"attr:{src:thumbnailURL}\" class=\"docShadow\"/></a></span><span style=\"font-size: 90%;\"><span data-bind=\"visible: !hasVideo()\">&nbsp;</span><span data-bind=\"visible: hasVideo\"><i class=\"fa fa-play-circle mrs\"></i><a data-bind=\"attr:{href:watchURL}\" style=\"display: inline;\" css: tabNavLink:MID=\"[object Object]\">Watch<span class=\"WatchInfo\"></span></a></span><span data-bind=\"visible: canAddVideo() &amp;&amp; !addingVideo()\" class=\"mlm\"><a href=\"#\" data-bind=\"click: addVideo\" style=\"display: inline;\">Add Video</a></span></span><div data-bind=\"visible: addingVideo\"><div class=\"form-group mtm\"><label style=\"font-size:90%\" class=\"control-label\">Video Link</label><div class=\"controls\"><input type=\"text\" placeholder=\"Use | to list multiple videos\" data-bind=\"value: videoLink\"/></div></div><div class=\"form-group mtm\"><label style=\"font-size:90%\" class=\"control-label\"></label><div class=\"controls\"><button data-bind=\"click: saveVideo\" class=\"btn btn-primary\">Save Video</button></div></div></div><div style=\"font-size: 90%;\" data-bind=\"visible: parent.parent.mode() == &quot;edit&quot;\"><span class=\"lfloat\"><i class=\"fas fa-share-square\"></i><a href=\"#\" data-bind=\"click:moveDoc\" class=\"fp90\"> Move</a></span><span class=\"lfloat mls\"><i class=\"fas fa-trash-alt\"></i><a href=\"#\" data-bind=\"visible: !deletingDoc(), click:deleteDoc\" class=\"fp90\"> Delete</a></span><span data-bind=\"visible: window.isSuperUser\" class=\"lfloat mls\"><i class=\"fa fa-bolt\"></i><a href=\"#\" data-bind=\"visible: !deletingDoc(), click:superDeleteDoc\" class=\"fp90\"> Super Delete</a></span></div><div class=\"clearfix\"></div><div data-bind=\"visible: parent.parent.mode() == &quot;edit&quot;, text: origFilename\" class=\"fp80\"></div><div><span class=\"rfloat downloadPdf\"><i class=\"fas fa-cloud-download-alt\"></i><a data-bind=\"attr:{href:pdfURL, download:pdfTitle}\"> PDF</a></span><span data-bind=\"visible: origExt() != &quot;PDF&quot;\" class=\"rfloat downloadPdf\"><i class=\"fas fa-cloud-download-alt\"></i><a data-bind=\"attr:{href:origURL}\"> <span data-bind='text: origExt'/></a></span></div></div><div data-bind=\"visible: !readyForViewing()\"><span><span data-bind=\"attr:{node:nodeID}\" class=\"docPlaceholder\"><i data-bind=\"css: docIcon\" class=\"fa fa-3x\"></i></span></span><div data-bind=\"text: origFilename\"></div><div data-bind=\"visible: hasFailed\" style=\"font-size:80%\" class=\"fcr\">This doc upload has failed. Check the original file to make sure it's readable then delete this doc and upload it again. <a href=\"\" data-bind=\"visible: !deletingDoc(), ajax:deleteDoc\">Delete Doc</a></div><div style=\"height:10px; margin-bottom: 2px\" title=\"Preparing viewer...\" class=\"progress processingBar\"><div data-bind=\"css: {&quot;progress-bar-danger&quot;:hasFailed}, attr: {&quot;aria-valuenow&quot;:processingProgress}, style: {width: processingProgress()+&quot;%&quot;}, css: {active: processing, &quot;progress-bar-striped&quot;: processing}\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" class=\"progress-bar\"><span data-bind=\"text: processingProgress()+&quot;% Complete&quot;\" class=\"sr-only\"></span></div></div></div></div></div>"}),deftmp("models.CourseEventView",{template:"<div class=\"models-CourseEventView\"><div data-bind=\"attr:{eventID: event._eventID()}\" class=\"divEvent\"><div data-bind=\"visible: mode()==&quot;view&quot;\"><div data-bind=\"visible: window.user.prime.recs\">Read/watch lecture while cross-referencing <a style='font-size:80%' href='' data-bind='click: learnWhy'>Learn why</a></div><div class=\"mtm\"></div><div data-bind=\"click:markEvent\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Mark this as &quot;Studied&quot;\" class=\"viewed-status\"><div data-bind=\"visible:eventWasCompleted\" class=\"fa fa-check\"></div></div><span data-bind=\"visible: !eventWasCompleted()\" style=\"font-size:110%\">Mark as read when you're done</span><span data-bind=\"visible: eventWasCompleted\" style=\"font-size:110%\">Mark as unread</span></div><div class=\"clearfix\"></div><div class=\"docList flex-center\"></div><div class=\"clearfix\"></div><div data-bind=\"visible: hasOfficialQuiz\" class=\"center mvm\"><button data-bind=\"click:takeQuiz\" title=\"Anyone, students or instructors, can create and share questions and flashcards on Osmosis. This &quot;official&quot; quiz was created by your instructor. Your accuracy on this quiz does not count for a grade.\" class=\"btn btn-lg btn-danger officialQuizBtn\">Take Official Quiz</button><div style=\"width: 200px; font-size:80%\" data-bind=\"visible: unpublishedOfficialQuiz\" class=\"center\">There are unpublished questions in this quiz. <a href=\"\" data-bind=\"click: publishOfficialQuiz\">Publish All</a></div></div><div data-bind=\"visible: event.MID()==0\"><div data-bind=\"visible: !showingNewModuleForm() &amp;&amp; !event.activeModules().length\"><div data-bind=\"visible: !showingNewModuleForm()\" class=\"center\"><h3>Create a folder to organize your course docs</h3><button data-bind=\"click: newModule()\" class=\"btn btn-success btn-lg mtm\"><i class=\"fas fa-folder-open\"></i> Create New Folder</button></div></div><div data-bind=\"visible: !showingNewModuleForm() &amp;&amp; event.activeModules().length == 1\"><div data-bind=\"foreach: event.activeModules\" class=\"center\"><h4>Drag and drop documents onto the event to import them into</h4><h3 data-bind=\"text: name\"></h3><h5>- or -</h5><button data-bind=\"click: $root.newModule()\" class=\"btn btn-success btn-lg\">Create New Folder</button></div></div><div data-bind=\"visible: !showingNewModuleForm() &amp;&amp; event.activeModules().length &gt; 1\"><div><h4 class=\"center\">Select the folder that this event belongs to</h4><div style=\"width: 300px; margin-left: auto; margin-right: auto\"><div data-bind=\"foreach: event.activeModules\"><h4><a href=\"\" data-bind=\"click: $root.importEventIntoModule(moduleID)\"><i class=\"fa fa-folder\"></i><span>&nbsp;</span><span data-bind=\"text: name\"></span></a></h4></div><h4><a href=\"\" data-bind=\"click: newModule()\"><i class=\"fa fa-plus\"></i><span>&nbsp;</span><span>Create New Folder</span></a></h4></div></div></div><div data-bind=\"visible: showingNewModuleForm\"><div class=\"ui-EditableModule\"></div><div class=\"rfloat\"><button data-bind=\"ajax: createModule\" class=\"btn btn-primary\">Create Folder</button></div><div class=\"clearfix\"></div></div></div><div data-bind=\"visible: event.MID() &amp;&amp; !event.docs().length\"><div class=\"center\"><h4>Documents uploaded to this event will be imported into</h4><h3 data-bind=\"text: event.moduleName\"></h3></div></div></div></div>"}),deftmp("models.EventView",{template:"<div class=\"models-EventView\"><div data-bind=\"visible:!__editing()\" class=\"mtl\"><button data-bind=\"click:__edit\">Edit</button><div>Title: <span data-bind=\"text:model.title\"/></div><div>Instructor: <span data-bind=\"text:model.instructor\"/></div><div>Notes: <span data-bind=\"text:model.notes\"/></div><div>Cls: <span data-bind=\"text:model.cls\"/></div><div>Date: <span data-bind=\"text:model.date\"/></div><div>Begin Time: <span data-bind=\"text:model.begin().getTime()\"/></div><div>End Time: <span data-bind=\"text:model.endTime\"/></div><div>Tag: <span data-bind=\"text:model.eventTag\"/></div><button data-bind=\"click:__destroy\">Delete</button></div><div data-bind=\"visible:__editing\"><form class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Type</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:model.title\" style=\"min-width:150px\"/></div></div></form><button data-bind=\"click:__save\">Save</button><button data-bind=\"visible: !model._eventID(), click:__cancel\">Cancel</button></div></div>"}),deftmp("models.FeaturedNewsView",{template:"<div class=\"models-FeaturedNewsView\"><div data-bind=\"css:{white: &quot;true&quot;}\" class=\"panel\"></div><div class=\"panel-heading\"><p data-bind=\"text:title\"></p><p data-bind=\"text:subTitle\" class=\"explain\"></p></div><div class=\"panel-body\"><div data-bind=\"visible: hasMainImage\" class=\"main-item-image\"><img src=\"\" data-bind=\"attr:{src: mainImageURL}\"></div><div data-bind=\"visible: hasContent\" class=\"main-item-content\"><div data-bind=\"text: mainContent\" class=\"the-main-content\"></div></div></div></div>"}),deftmp("models.GroupMemberView",{template:"<div class=\"models-GroupMemberView mts\"><div><div class=\"lfloat\"><div style=\"width:40px\"><div class=\"ui-Avatar avatar-40\"></div></div></div><div data-bind=\"visible: editing()\" class=\"lfloat mlm\"><div data-bind=\"text: user.name\"></div><form style=\"width:350px\" class=\"form-horizontal mtl\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Role</label><div class=\"col-md-8\"><select data-bind=\"visible: GROUP.admin, value:role\" style=\"min-width:70px\" class=\"form-control\"><option value=\"1.1\" class=\"instructorOption\">Instructor/Course Admin</option><option value=\"2.2\">Student - Admin Editor</option><option value=\"3.2\">Student - Managing Editor</option><option value=\"4.2\">Student - Regular Editor</option><option value=\"3.3\">Student - Managing Contributor</option><option value=\"4.3\">Student - Contributor</option><option value=\"4.4\">Student - Member</option></select></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">&nbsp;</label><div class=\"col-md-8\"><button data-bind=\"click: save\" class=\"btn btn-primary\">Save</button><button data-bind=\"click: cancel\" class=\"btn btn-default mls\">Cancel</button></div></div></form></div><div data-bind=\"visible: !editing()\" class=\"lfloat mlm\"><div><i data-bind=\"visible: following\" style=\"color: green\" class=\"fa fa-check mrs\"></i><span data-bind=\"text: userName\"></span></div><div><span><span style=\"font-size:80%\"><a href='#' data-bind='visible: user.userID != window.userID && !following(), click: toggleFollow(true)'>Follow</a></span><span style=\"font-size:80%\"><a href='#' class='fcg' data-bind='visible: user.userID != window.userID && following(), click: toggleFollow(false)'>Unfollow</a></span></span><span data-bind=\"visible: GROUP.admin\"><span style=\"font-size:80%\"><span data-bind='visible: user.userID != window.userID'>&nbsp;&nbsp;</span><a href='#' data-bind='click: edit'>Edit</a></span><span style=\"font-size:80%\"> &nbsp;&nbsp;<a href='#' style='color: red', data-bind='click: remove'>Remove</a></span></span></div></div><div data-bind=\"visible: !editing()\" class=\"rfloat\"><div data-bind=\"text: roleCaption\"></div></div><div class=\"clearfix\"></div></div></div>"}),deftmp("models.GroupSnapshotView",{template:"<div data-bind=\"click: groupAction\" class=\"models-GroupSnapshotView clickable\"><div class=\"group-wrapper\"><div data-bind=\"click: groupAction\" class=\"panel white\"><div class=\"panel-heading\"><div class=\"heading-info\"><p href=\"\" data-bind=\"text: group.name, attr:{href: &quot;/&quot;+group.url()}\" class=\"group-title fwb\"></p><p class=\"explain\"><span data-bind='text: group.memberCount'/> Member<span data-bind='visible: group.memberCount() != 1'>s</span></p></div></div><div class=\"panel-body\"><div class=\"ui-AvatarList\"></div></div></div><div class=\"group-actions\"><a data-bind=\"visible: window.schoolGroups.status == &quot;no-group&quot;, click: groupAction\" class=\"btn btn-sm btn-success join-cta\"><i class=\"fa fa-plus\"> </i>&nbsp;Join Group</a></div></div></div>"}),deftmp("models.KineticView",{template:"<div class=\"models-KineticView\"><div class=\"data-model\"><div src=\"thumbnail\" class=\"image\"></div><div src=\"title\" class=\"title\"></div><div id=\"fieldList\"></div></div><div data-bind=\"visible: __editing\" class=\"mlxl\"><a href=\"\" data-bind=\"attr: {href: &quot;/editanatomy?n=&quot;+model.nodeID}\">edit model</a></div></div>"}),deftmp("models.ModuleView",{template:"<div class=\"models-ModuleView mtm\"><div data-bind=\"visible: __editing()\"><form style=\"width:350px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Course Name</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:module.name\" style=\"min-width:150px\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Starts On</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:module.startsOn\" style=\"min-width:150px\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Exam Date</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:module.examDate\" style=\"min-width:150px\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Description</label><div class=\"col-md-8\"><textarea type=\"text\" required=\"required\" data-bind=\"value:module.descr\" style=\"min-width:500px; height:200px\"></textarea></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8\"><button data-bind=\"click: save\" class=\"btn btn-primary\">Save</button><button data-bind=\"click: cancel\" class=\"btn btn-default mls\">Cancel</button></div></div></form></div><div data-bind=\"visible: !__editing()\"><div><a data-bind=\"attr: {href:&quot;/learn?m=&quot;+module.moduleID}, text: module.name\" class=\"fwb\"></a><span style=\"font-size:80%\"> &nbsp;<a href='#' data-bind='click: __edit'>Edit</a></span></div><div><span>Starts On:&nbsp;</span><span data-bind=\"text: startsOnStr\"></span></div><div><span>Description:&nbsp;</span><span data-bind=\"text: module.descr\"></span></div></div></div>"}),deftmp("models.NodeNoteEditView",{template:"<div class=\"models-NodeNoteEditView\"><div class=\"UINoteContainer\"><div data-theme=\"orange\" class=\"noteEditor multiline noborder noBackground note froalaObject\"></div></div><div class=\"fp80 fcg note-tip\"><span class=\"fwb\">Tip:&nbsp;</span><span data-bind=\"html: tip\"></span></div></div>"}),deftmp("models.NodeNoteView",{template:"<div data-bind=\"event: {mouseover:toggleHover(true), mouseout:toggleHover(false)}, attr: {&quot;slide-url&quot;: slideImgURL}\" class=\"models-NodeNoteView\"><div class=\"mts\"><div class=\"noteView mts wikify note\"></div></div><div style=\"height: 15px\"><div data-bind=\"visible: editLinkVisible\" class=\"rfloat\"><a style=\"font-size:80%\" data-bind=\"attr:{href: noteLinkURL}\">View Document/Edit Notes</a></div><div class=\"clearfix\"></div></div></div>"}),deftmp("models.NodeView",{template:"<div class=\"models-NodeView\"><div class=\"models-Test\"></div><div data-bind=\"visible:!__editing()\" class=\"mtl\"><button data-bind=\"click:__edit\">Edit</button><div>Type: <span data-bind=\"text:model.type\"/></div><div>Subtype: <span data-bind=\"text:model.subtype\"/></div><div>Marked: <span data-bind=\"text:model.marked\"/></div><button data-bind=\"click:__destroy\">Delete</button></div><div data-bind=\"visible:__editing\"><form class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Type</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:model.type\" style=\"min-width:150px\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Subtype</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:model.subtype\" style=\"min-width:150px\"/></div></div></form><button data-bind=\"click:__save\">Save</button><button data-bind=\"visible: !model._nodeID(), click:__cancel\">Cancel</button></div></div>"}),deftmp("models.PrintNodeNoteView",{template:"<div class=\"models-PrintNodeNoteView\"><div style=\"border-bottom:1px dotted #CCCCCC\" class=\"mts\"><div data-bind=\"visible: parent.parent.slidesVisible\" class=\"row\"><div class=\"col-md-6\"><object data-bind=\"attr:{data:slideImgURL}\" type=\"image/svg+xml\" style=\"background-color: white; width:100%\" class=\"media-image docShadow\"></object></div><div class=\"col-md-6\"><div class=\"noteView mts wikify\"></div><a style=\"font-size:80%\" data-bind=\"visible: !parent.parent.printView(), attr:{href: noteLinkURL}\" class=\"tabNavLink\">Edit</a></div></div><div data-bind=\"visible: !parent.parent.slidesVisible()\" class=\"row\"><div class=\"col-md-12\"><div class=\"noteView mts\"></div><a style=\"font-size:80%\" data-bind=\"visible: !parent.parent.printView(), attr:{href: noteLinkURL}\" class=\"tabNavLink\">Edit</a></div></div></div></div>"}),deftmp("models.QBankSnapshotView",{template:"<div class=\"models-QBankSnapshotView\"><div data-bind=\"click: action, css: {alpha50: status()==-1, clickable: status()==1}\" class=\"panel white\"><div class=\"panel-heading\"><div class=\"icon-block\"><img data-bind=\"attr: {src: icon}\" class=\"icon\"/></div><div class=\"descr-block\"><p data-bind=\"text: title\" class=\"group-title fwb\"></p><span data-bind=\"visible: flashcardCount\"><p class=\"explain\"><span data-bind='text: questionCount'/> Questions - <span data-bind='text: flashcardCount'/> Flashcards</p></span><span data-bind=\"visible: !flashcardCount()\"><p class=\"explain\"><span data-bind='text: questionCount'/> Questions</p></span></div><a data-bind=\"visible: status()==1\" class=\"btn btn-sm btn-teal rfloat join-cta\"><span>Create Quiz</span></a><a data-bind=\"click: activate, visible: status()==-1\" class=\"btn btn-sm btn-primary rfloat join-cta overrideClick\"><span>Activate</span></a><a data-bind=\"click: buy, visible: status()==0 &amp;&amp; canBuy()\" class=\"btn btn-sm btn-success rfloat join-cta\"><span data-bind=\"text: price\"></span></a><a data-bind=\"click: getPrime, visible: status()==0 &amp;&amp; !canBuy()\" class=\"btn btn-sm btn-success rfloat join-cta\"><span>Get Osmosis Prime</span></a><div class=\"clearfix\"></div></div><div class=\"panel-body\"><div class=\"fp80\"><div data-bind=\"text: prime\"></div><div data-bind=\"visible: difficulty\">Difficulty: <span data-bind='text: difficulty'/></div><a href=\"\" data-bind=\"visible: title() != &quot;All QBanks&quot; &amp;&amp; status()==1, click: archive\" class=\"rfloat overrideClick\">Archive</a><div class=\"clearfix\"></div></div></div></div></div>"}),deftmp("models.SurveyGroupView",{template:"<div class=\"models-SurveyGroupView mtm\"><div data-bind=\"visible: __editing()\"><form style=\"width:600px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Group Name</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:group.name\" style=\"min-width:150px\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Starts On</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:group.begin\" style=\"min-width:150px\" class=\"form-control datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Ends On</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:group.end\" style=\"min-width:150px\" class=\"form-control datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8 col-md-offset-4\"><button data-bind=\"click: save, text: group._groupID()?&quot;Save Changes&quot;:&quot;Create Group&quot;\" class=\"btn btn-primary\"></button><button data-bind=\"click: cancel, text: group._groupID()?&quot;Cancel Changes&quot;:&quot;Cancel&quot;\" class=\"btn btn-default mls\"></button></div></div></form><div data-bind=\"visible: group._groupID()\"><form style=\"width:500px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">School Emails</label><div class=\"col-md-8\"><textarea type=\"text\" required=\"required\" data-bind=\"value:emails\" style=\"min-width:300px\" rows=\"10\"></textarea></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8 col-md-offset-4\"><button data-bind=\"click: addStudents\" class=\"btn btn-primary\">Add Students</button><button data-bind=\"click: clearBox\" class=\"btn btn-default mls\">Clear Box</button></div></div></form><div data-bind=\"visible: newMember().length\"><div>Added <span data-bind='text: newMember().length'/> new member(s)</div></div><div data-bind=\"visible: isAlreadyMember().length\"><div><span data-bind='text: isAlreadyMember().length'/> users were already members</div></div><div data-bind=\"visible: notFound().length &gt; 0\" style=\"color: red\" class=\"mts\"><div><span data-bind='text: notFound().length'/> email(s) were not found</div><div class=\"mlm\">You can copy/paste these emails directly into the bcc of a reminder email, wait a few days, and then try to add them again:</div><div data-bind=\"text: notFoundList\" style=\"color:black\" class=\"mvm mlm\"></div></div></div></div><div data-bind=\"visible: !__editing()\"><div><span data-bind=\"text: group.name\" class=\"fwb\"></span><span style=\"font-size:80%\"> &nbsp;<a href='#' data-bind='click: __edit'>Edit</a></span></div><div><span>Active:&nbsp;</span><span data-bind=\"text: beginStr\"></span><span class=\"fwb\">&nbsp;to&nbsp;</span><span data-bind=\"text: endStr\"></span></div><div><span>Type:&nbsp;</span><span data-bind=\"text: typeStr\"></span></div><div><a href=\"#\" data-bind=\"click: newGroup\" style=\"font-size:80%\">Create New Group Like This One</a></div></div></div>"}),deftmp("models.TableView",{template:"<div class=\"models-TableView\"><div class=\"data-model\"><div src=\"title\" class=\"title\"></div><div id=\"fieldList\"></div></div><div data-bind=\"visible: __editing\" class=\"mlxl\"><a href=\"\" data-bind=\"attr: {href: &quot;/edittable?n=&quot;+model.nodeID}\">edit table</a></div></div>"}),deftmp("models.TestView",{template:"<div class=\"models-TestView\"><div class=\"mixItemList\"></div><div data-bind=\"visible:!__editing()\" class=\"mtl\"><button data-bind=\"click:__edit\">Edit</button><div>Type: <span data-bind=\"text:model.type\"/></div><div>Subtype: <span data-bind=\"text:model.subtype\"/></div><div>Marked: <span data-bind=\"text:model.marked\"/></div><button data-bind=\"click:__destroy\">Delete</button></div><div data-bind=\"visible:__editing\"><form class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Type</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:model.type\" style=\"min-width:150px\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Subtype</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:model.subtype\" style=\"min-width:150px\"/></div></div></form><button data-bind=\"click:__save\">Save</button><button data-bind=\"visible: !model._itemID(), click:__cancel\">Cancel</button></div></div>"}),deftmp("models.concept.BookRef",{template:"<div class=\"models-concept-BookRef wikify\"><div><span class=\"fwb content-text\" data-bind='html: name'/> <span data-bind='visible: page'>p. <span data-bind='text: page'/></span></div><div data-bind=\"foreach: group\" class=\"mll fp80\"><div><span class=\"content-text\" data-bind='html: name'/> <span data-bind='visible: page'>p. <span data-bind='text: page'/></span></div></div></div>"}),deftmp("models.concept.BookRefBlock",{template:"<div data-bind=\"css: {&quot;editable-block&quot;: editing}\" class=\"models-concept-BookRefBlock mtxxl\"><div class=\"block-body\"><div class=\"mbm\"><span class=\"fwb\" style=\"font-size: 110%\" data-bind='text: editionStr()'/> <span class=\"fp80\">Switch to <a href='' data-bind='visible: edition()!=\"f14\", ajax: switchEdition(\"f14\")'>2014</a> <a href='' data-bind='visible: edition()!=\"f15\", ajax: switchEdition(\"f15\")'>2015</a> <a href='' data-bind='visible: edition()!=\"f16\", ajax: switchEdition(\"f16\")'>2016</a> <a href='' data-bind='visible: edition()!=\"f17\", ajax: switchEdition(\"f17\")'>2017</a> <a href='' data-bind='visible: edition()!=\"f18\", ajax: switchEdition(\"f18\")'>2018</a><i class=\"fa fa-pencil-alt clickable\" data-bind='visible: editing, click: edit'/></span></div><div class=\"row mbl\"><div class=\"col-1 col-md-4\"></div><div class=\"col-2 col-md-4\"></div><div class=\"col-3 col-md-4\"></div></div></div></div>"}),deftmp("models.concept.Card",{template:"<div data-bind=\"css:{editing:editing,series:isSeries}\" class=\"models-concept-Card\"><div data-bind=\"visible: editing\" class=\"background\"></div><div class=\"concept-content\"><div class=\"header\"><div class=\"title-section\"><div data-bind=\"visible: editing\" class=\"category-tags\"><span data-bind=\"html: category\"></span></div><div class=\"card-title\"><span data-bind=\"text: name\"></span></div></div><div class=\"ques-section\"><div data-bind=\"visible: false\"><a href=\"\" data-bind=\"click: loadQues(&quot;filtered&quot;)\">Ques</a><span> |&nbsp;</span><a href=\"\" data-bind=\"click: loadQues(&quot;unfiltered&quot;)\">Unfiltered</a></div><a href=\"\" data-bind=\"click: toggleCompleted, visible: editing &amp;&amp; window.userID==256\" style=\"color: white\"><i data-bind=\"css: {&quot;fa-square&quot;: !completed(), &quot;fa-check-square&quot;: completed()}\" class=\"fas\"></i><span> Completed</span></a></div><div class=\"ui-ConceptCardNav\"></div></div><div data-bind=\"visible: mode()!=&quot;new-block&quot;\" class=\"secondary-nav center\"><ul data-bind=\"visible: mode()!=&quot;browse-flashcards&quot;\" class=\"tab-grid\"><!-- ko foreach:pageTabs--><li data-bind=\"visible: !isEmpty() &amp;&amp; visible(), click: $root.selectTabClick($index()), css: $root.selected()==$index() ? &quot;selected&quot; : &quot;bg-maroon&quot;\" class=\"tab-block tab-item clickable\"><div data-bind=\"html: $root.getIcon($data.icon), css:{celeb:$data.label==&quot;Celeb Dx&quot;}\" class=\"icon\"></div><div class=\"center\"><span data-bind=\"text: label\"></span></div><div class=\"card-count green\"><span data-bind=\"visible: badge, text: badge\" class=\"badge\"></span></div></li><!-- /ko--></ul><ul data-bind=\"visible: editing &amp;&amp; mode()!=&quot;browse-flashcards&quot;\" class=\"more-actions\"><li class=\"tab-block clickable more-items-icon\"><div class=\"icon\"><i class=\"fa fa-ellipsis-h\"></i></div><div class=\"more-items-dropdown\"><ul><li data-bind=\"visible: editing, click: newConceptBlock\">Add Tab</li></ul></div></li><li data-bind=\"visible: editing, click: newConceptBlock\" class=\"tab-block clickable add-resource\"><div class=\"center\"><i class=\"fa fa-plus\"></i></div></li></ul><div data-bind=\"visible: mode()==&quot;browse-flashcards&quot;\" class=\"center\"><button data-bind=\"click: attachSelectedCards\" class=\"btn btn-primary mrs mts\">Attach Selected</button><button data-bind=\"click: cancelFlashcardAttach\" class=\"btn btn-default mts\">Cancel</button></div></div><div class=\"content-body\"><div data-bind=\"visible: mode()==&quot;edit&quot;\" style=\"height:100%\"><div style=\"height:100%\" class=\"pages\"></div></div><div data-bind=\"visible: mode()==&quot;browse-flashcards&quot;\" style=\"height:100%\" class=\"mhm\"><div class=\"models-concept-FlashcardBrowser\"></div></div><div data-bind=\"visible: mode()==&quot;new-block&quot;\" class=\"center mtl\"><h4>New Video Tab</h4><div><div data-bind=\"click: quickCreateTab(&quot;Pathophysiology&quot;,&quot;youtube&quot;,&quot;VideoBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-youtube\"></i></span><span>Pathophysiology</span></div><div data-bind=\"click: quickCreateTab(&quot;Physiology&quot;,&quot;youtube&quot;,&quot;VideoBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-youtube\"></i></span><span>Physiology</span></div><div data-bind=\"click: quickCreateTab(&quot;Pharmacology&quot;,&quot;youtube&quot;,&quot;VideoBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-youtube\"></i></span><span>Pharmacology</span></div><div data-bind=\"click: quickCreateTab(&quot;Khan Academy&quot;,&quot;youtube&quot;,&quot;VideoBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-youtube\"></i></span><span>Khan Academy</span></div><div data-bind=\"click: quickCreateTab(&quot;Armando&quot;,&quot;youtube&quot;,&quot;VideoBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-youtube\"></i></span><span>Armando</span></div></div><h4>New Text Tab</h4><div><div data-bind=\"click: quickCreateTab(&quot;Table&quot;,&quot;table&quot;,&quot;TableBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-th\"></i></span><span>Table</span></div><div data-bind=\"click: quickCreateTab(&quot;Summary&quot;,&quot;none&quot;,&quot;TextBlock&quot;)\" class=\"new-tab-create clickable\"><span>Summary</span></div><div data-bind=\"click: addRedirectTab\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fas fa-external-link-square-alt\"></i></span><span>Redirect</span></div></div><h4>New Question Tab</h4><div><div data-bind=\"click: quickCreateTab(&quot;Step 1 Case&quot;,&quot;question&quot;,&quot;QuesBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-question\"></i></span><span>Step 1 Case</span></div><div data-bind=\"click: quickCreateTab(&quot;Step 2 Case&quot;,&quot;question&quot;,&quot;QuesBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-question\"></i></span><span>Step 2 Case</span></div><div data-bind=\"click: quickCreateTab(&quot;Step 1+2 Case&quot;,&quot;question&quot;,&quot;QuesBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-question\"></i></span><span>Step 1+2 Case</span></div><div data-bind=\"click: quickCreateTab(&quot;COMLEX&quot;,&quot;question&quot;,&quot;QuesBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-question\"></i></span><span>COMLEX</span></div><div data-bind=\"click: quickCreateTab(&quot;Celeb Case&quot;,&quot;question&quot;,&quot;QuesBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-question\"></i></span><span>Celeb Case</span></div><div data-bind=\"click: quickCreateTab(&quot;Flashcards&quot;,&quot;flashcard&quot;,&quot;FlashcardBlock&quot;)\" class=\"new-tab-create clickable\"><span class=\"icon\"><i class=\"fa fa-th\"></i></span><span>Flashcards</span></div></div><h4>Custom Block</h4><div><div data-bind=\"toggle: customBlockVisible\" class=\"new-tab-create clickable\"><span>Custom Block</span></div></div><form role=\"form\" data-bind=\"visible: customBlockVisible\" class=\"form-inline\"><div class=\"form-group\"><input data-bind=\"value: newBlockLabel\" placeholder=\"Tab Label\" class=\"form-control mrs\"/></div><div class=\"form-group\"><select data-bind=\"value: newBlockIcon\" class=\"form-control mrs\"><option value=\"youtube\">YouTube Icon</option><option value=\"picmonic\">Picmonic Icon</option><option value=\"sketchy\">Sketchy Icon</option><option value=\"celeb\">Celeb Diagnosis Icon</option><option value=\"anatomy\">Anatomy Icon</option><option value=\"question\">Question Icon</option><option value=\"flashcard\">Flashcard Icon</option><option value=\"delete\">Discard Icon</option><option value=\"sideline\">Sideline Icon</option><option value=\"redirect\">Redirect Icon</option><option value=\"book\">Book Icon</option><option value=\"table\">Table Icon</option><option value=\"none\">None</option></select></div><div class=\"form-group\"><select data-bind=\"value: newBlockType\" class=\"form-control mrs\"><option value=\"VideoBlock\">Video Block</option><option value=\"ImageBlock\">Image Block</option><option value=\"QuesBlock\">Ques Block</option><option value=\"FlashcardBlock\">Flashcard Block</option><option value=\"TextBlock\">Text Block</option><option value=\"TableBlock\">Table Block</option><option value=\"BookRefBlock\">Book Ref Block</option><option value=\"InteractiveBlock\">Interactive Block</option><option value=\"GenericBlock\">Generic Block</option></select></div><div class=\"form-group\"><button data-bind=\"click: createNewConceptBlock\" class=\"btn btn-primary\">Create New</button><button data-bind=\"click: cancelNewConceptBlock\" class=\"btn btn-default mls\">Cancel</button></div></form></div><div class=\"card-quiz-cta hidden\"><div class=\"the-text\">Take a quiz on <span data-bind='html:quizName'></div><a href=\"\" data-bind=\"click:selectQuiz\" class=\"the-cta btn btn-primary\">Start Quiz</a><div data-bind=\"click:closeQuizCta\" class=\"close-cta\"><i class=\"fa fa-times-thin\"></i></div></div><div style=\"width: 1px; height:300px\"></div></div></div></div>"}),deftmp("models.concept.Container",{template:"<div data-bind=\"visible: visible, css:{locked:locked}\" class=\"models-concept-Container\"><div class=\"phxl\"><div class=\"blocks\"></div><div data-bind=\"visible: editing\" class=\"mtl block-footer\"><div class=\"lfloat fcg fp80 mtm\"><span>Block Type: <span data-bind='text: modelName'/></span></div><div data-bind=\"visible: extensible, click: addBlockClick\" class=\"rfloat btn btn-default btn-sm\">Add Block</div></div></div></div>"}),deftmp("models.concept.FlashcardBlock",{template:"<div class=\"models-concept-FlashcardBlock\"><button data-bind=\"visible: editing &amp;&amp; window.userID==256, click: remove\" class=\"close rfloat\">&times;</button><div class=\"ui-EditableFlashcardList\"></div></div>"}),deftmp("models.concept.FlashcardBrowser",{template:"<div class=\"models-concept-FlashcardBrowser mtl\"><div class=\"fwb\">Create New Flashcards</div><div class=\"new-fc\"></div><div class=\"fwb\">Browse Existing</div><div class=\"ui-EditableFlashcardList\"></div></div>"}),deftmp("models.concept.FlashcardList",{template:"<div data-bind=\"visible: editing\" class=\"models-concept-FlashcardList\"><div class=\"cards\"></div><button data-bind=\"click: attachCards\" class=\"btn btn-primary\">Attach Flashcards</button><a data-bind=\"visible: canCreate, click: createNewCard\" target=\"_blank\" class=\"btn btn-default mls create-new\"><i class=\"fa fa-plus\"></i><span> Create New Flashcard</span></a></div>"}),deftmp("models.concept.FlashcardSelectBlock",{template:"<div class=\"models-concept-FlashcardSelectBlock mtxxl\"><div style=\"width: 300px; margin-left: auto; margin-right: auto\"></div><div class=\"models-resource-FactContainer mbl\"></div></div>"}),deftmp("models.concept.GenericBlock",{template:"<div class=\"models-concept-GenericBlock\"><div class=\"row\"><div class=\"col-md-6\"><div class=\"img\"></div></div><div class=\"col-md-6\"><div>flashcards</div></div></div></div>"}),deftmp("models.concept.ImageBlock",{template:"<div data-bind=\"css: {&quot;editable-block&quot;: editing}\" class=\"models-concept-ImageBlock mtxxl\"><div class=\"block-body\"><button data-bind=\"visible: editing, click: remove\" class=\"close rfloat\">&times;</button><div class=\"rfloat\"><i class=\"fa fa-pencil-alt clickable fcg mrm mts\" data-bind='visible: editing && window.isSuperUser, click: editNodeData'/></div><div class=\"row\"><div class=\"col-md-6\"><a href=\"\" data-bind=\"visible: !editing, attr: {href: url}\" target=\"_blank\"><img data-bind=\"attr: {src: imgSrc}\"/></a><div data-bind=\"visible: editing\" class=\"image-space\"></div><div data-bind=\"visible: mediaState()==&quot;change&quot;\"><textarea type=\"text\" data-bind=\"value:caption\" style=\"width:300px; height:100px\" placeholder=\"Optional caption\" class=\"mtm\"></textarea><div><button data-bind=\"click: saveImage\" class=\"btn btn-primary btn-sm\">Save</button></div></div><div data-bind=\"visible: mediaState()==&quot;view&quot;\"><div data-bind=\"visible: !url(), text: caption\"></div><div data-bind=\"visible: url\"><a href=\"\" data-bind=\"attr: {href: url}, text: caption\" target=\"_blank\"></a></div><button data-bind=\"visible: !isStatic(), click: changeImage\" class=\"btn btn-default btn-sm\">Change</button></div></div><div class=\"col-md-6\"><div data-bind=\"visible: editing\"><form role=\"form\" class=\"form-inline mbm\"><div class=\"form-group\"><div class=\"fwb\">Label Style&nbsp;</div></div><div class=\"form-group\"><select class=\"form-control mrm\"><option value=\"Rect\">Unordered</option><option value=\"Point\">123</option><option value=\"Point\">ABC</option><option value=\"Point\">abc</option></select></div><div class=\"form-group\"><div class=\"fwb\">Highlight Type&nbsp;</div></div><div class=\"form-group\"><select data-bind=\"value: highlightType\" class=\"form-control mrm\"><option value=\"Rect\">Region</option><option value=\"Point\">Point</option></select></div></form><div class=\"models-concept-FlashcardList\"></div></div></div></div><hr/></div></div>"}),deftmp("models.concept.ImagePointHighlight",{template:"<div class=\"models-concept-ImagePointHighlight\"><canvas style=\"cursor: default\"></canvas></div>"}),deftmp("models.concept.ImageRectHighlight",{template:"<div class=\"models-concept-ImageRectHighlight\"><canvas style=\"cursor: default\"></canvas></div>"}),deftmp("models.concept.InteractiveBlock",{template:"<div data-bind=\"css: {&quot;editable-block&quot;: editing}\" class=\"models-concept-InteractiveBlock\"><div class=\"block-body\"><button data-bind=\"visible: editing, click: remove\" class=\"close rfloat\">&times;</button><div class=\"row\"><div class=\"col-md-6\"><div data-bind=\"visible: mediaState()==&quot;new&quot;\"><a href=\"\" data-bind=\"ajax: newScene\">New Scene</a></div><div data-bind=\"visible: mediaState()==&quot;change&quot;\"><div><a href=\"\" data-bind=\"text: editLink, attr: {href: editLink}\" target=\"_blank\"></a></div><textarea type=\"text\" data-bind=\"value:caption\" style=\"width:300px; height:100px\" placeholder=\"Optional caption\" class=\"mtm\"></textarea><div><button data-bind=\"click: saveScene\" class=\"btn btn-primary btn-sm\">Save</button></div></div><div data-bind=\"visible: mediaState()==&quot;view&quot; &amp;&amp; editing\"><div><a href=\"\" data-bind=\"text: editLink, attr: {href: editLink}\" target=\"_blank\"></a></div></div><div style=\"width: 100%; height: 400px\" class=\"plugin-space\"></div><div data-bind=\"visible: mediaState()==&quot;view&quot; &amp;&amp; editing\"><div data-bind=\"text: caption\" class=\"mtm\"></div><button data-bind=\"click: changeScene\" class=\"btn btn-default btn-sm\">Change</button></div></div><div class=\"col-md-6\"></div></div><hr/></div></div>"}),deftmp("models.concept.LearnBlock",{template:"<div class=\"models-concept-LearnBlock mtl mbxxxl\"></div>"}),deftmp("models.concept.MediaBlock",{template:"<div class=\"concept-InsertMedia\"><div>test</div></div>"}),deftmp("models.concept.MetaBlock",{template:"<div class=\"models-concept-MetaBlock mtxl\"><div class=\"fwb\">Card Status</div><div class=\"mlm\"><div class=\"fp80\">For videos, <b>High Quality</b> = Equivalent to Osmosis-produced video, <b>Good Quality</b> = Covers core concepts but production quality is lacking, <b>Low Quality</b> = Priority to replace</div><form data-bind=\"foreach: status\" style=\"width:500px\" class=\"form-horizontal mtm\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label data-bind=\"text: label\" class=\"control-label col-md-4\"></label><div class=\"col-md-8\"><select data-bind=\"value: value, options:options, optionsText: &quot;label&quot;, optionsValue: &quot;value&quot;, enable: $root.mode()==&quot;edit&quot;\" class=\"form-control\"></select></div></div></form></div><div class=\"fwb\">Quiz<form style=\"width:100%\" class=\"form-horizontal mtm\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-2\">Caption</label><div class=\"col-md-10\"><input type=\"text\" required=\"required\" data-bind=\"enable: mode()==&quot;edit&quot;, value: quizCaption\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-2\">Quiz</label><div class=\"col-md-10\"><input type=\"text\" required=\"required\" data-bind=\"enable: mode()==&quot;edit&quot;, value: quizAddr\" style=\"min-width:200px\" class=\"form-control\"/></div></div></form></div><div class=\"fwb\">Wiki<form style=\"width:100%\" class=\"form-horizontal mtm\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-2\">Link</label><div class=\"col-md-10\"><input type=\"text\" data-bind=\"enable: mode()==&quot;edit&quot;, value: wikiLink\" style=\"min-width:200px\" class=\"form-control\"/></div></div></form></div><div data-bind=\"visible: editing || window.userID==256\"><button data-bind=\"visible: mode()==&quot;view&quot;, click: editText\" class=\"btn btn-default btn-sm\">Edit</button><button data-bind=\"visible: mode()==&quot;edit&quot;, click: saveText\" class=\"btn btn-primary btn-sm\">Save</button></div></div>"}),deftmp("models.concept.QuesBlock",{template:"<div data-bind=\"css: {&quot;editable-block&quot;: editing}\" class=\"models-concept-QuesBlock\"><div class=\"block-body\"><button data-bind=\"visible: editing, click: remove\" title=\"Remove entire question\" class=\"close rfloat tip\">&times;</button><div class=\"clearfix\"></div><div class=\"row mtm\"><div class=\"col-md-6\"><div class=\"ques\"></div><div data-bind=\"click: editQuestion\" class=\"btn btn-default mtm\"><i class=\"fa fa-pencil-alt\"></i><span> Edit Question</span></div><div data-bind=\"click: moveQuestion\" class=\"btn btn-default mtm mls\"><i class=\"fa fa-crosshairs\"></i><span> Move Question</span></div><div data-bind=\"foreach: tags\"><div data-bind=\"text: tag, css: group\" class=\"content-tools-tag\"></div></div></div><div class=\"col-md-6\"><div class=\"models-concept-FlashcardList\"></div></div></div><hr/></div></div>"}),deftmp("models.concept.SearchBlock",{template:"<div class=\"models-concept-SearchBlock\"><div class=\"ui-TimelineSearch\"></div></div>"}),deftmp("models.concept.TableBlock",{template:"<div class=\"models-concept-TableBlock\"><button data-bind=\"visible: editing &amp;&amp; window.userID==256, click: remove\" class=\"close rfloat\">&times;</button><div class=\"mtm\"><input type=\"text\" required=\"required\" data-bind=\"visible: mode()==&quot;edit&quot;, value: nodeID\" style=\"width:200px\" class=\"form-control\"/><div data-bind=\"visible: editing || window.userID==256\"><button data-bind=\"visible: mode()==&quot;view&quot;, click: editNode\" class=\"btn btn-default btn-sm\">Edit</button><button data-bind=\"visible: mode()==&quot;edit&quot;, click: importNode\" class=\"btn btn-primary btn-sm\">Import</button></div></div><div class=\"table-preview\"></div></div>"}),deftmp("models.concept.TextBlock",{template:"<div class=\"models-concept-TextBlock\"><button data-bind=\"visible: editing &amp;&amp; window.userID==256, click: remove\" class=\"close rfloat\">&times;</button><div style=\"width:70%\" class=\"textEditor mtl noattach multiline\"></div><div data-bind=\"visible: editing || window.userID==256\"><button data-bind=\"visible: mode()==&quot;view&quot;, click: editText\" class=\"btn btn-default btn-sm\">Edit</button><button data-bind=\"visible: mode()==&quot;edit&quot;, click: saveText\" class=\"btn btn-primary btn-sm\">Save</button></div></div>"}),deftmp("models.concept.VideoBlock",{template:"<div data-bind=\"css: {&quot;editable-block&quot;: editing}\" class=\"models-concept-VideoBlock\"><div class=\"block-body\"><button data-bind=\"visible: editing, click: remove\" class=\"close rfloat\">&times;</button><div class=\"row\"><div class=\"col-md-6\"><div class=\"playback-speeds\"><h4>Play:</h4><div class=\"rounded-buttons mlm\"><div data-bind=\"click:changeSpeed(1)\" class=\"rounded-btn rounded-btn-primary rounded-btn-sm mrs\"><span>1x (Normal)</span></div><div data-bind=\"click:changeSpeed(1.5)\" class=\"rounded-btn rounded-btn-primary rounded-btn-sm mrs\"><span>1.5x (Recommended)</span></div><div data-bind=\"click:changeSpeed(2)\" class=\"rounded-btn rounded-btn-primary rounded-btn-sm\"><span>2x</span></div></div></div><div style=\"width: 100%; height: 400px\" class=\"video-space\"></div><div data-bind=\"visible: mediaState()==&quot;change&quot;\"><textarea type=\"text\" data-bind=\"value:caption\" style=\"width:300px; height:100px\" placeholder=\"Optional caption\" class=\"mtm\"></textarea><div><button data-bind=\"click: saveVideo\" class=\"btn btn-primary btn-sm\">Save</button></div></div><div data-bind=\"visible: mediaState()==&quot;view&quot; &amp;&amp; editing\"><div data-bind=\"text: caption\" class=\"mtm\"></div><button data-bind=\"click: changeVideo\" class=\"btn btn-default btn-sm\">Change</button></div></div><div class=\"col-md-6\"><div class=\"models-concept-FlashcardList\"></div><div data-bind=\"visible: !editing\" class=\"center mtxxl\"><i class=\"fa fa-flag\"/> <a href=\"\" data-bind='click: flagFlashcards'>Flag flashcards</a> to start building your next quiz when you're done with the video.</div></div></div><hr/></div></div>"}),deftmp("models.concept.Wiki",{template:"<div class=\"models-concept-Wiki mtxxl\"><div class=\"row\"><div class=\"col-md-9\"><div class=\"ui-WikiArticle\"></div></div><div class=\"col-md-3\"></div></div></div>"}),deftmp("models.concept.WikiBlock",{template:"<div class=\"models-concept-WikiBlock mtxxl\"><div class=\"row\"><div class=\"col-md-9\"><div data-bind=\"visible: !hasConceptCard()\" class=\"alert alert-warning\">Looks like this concept does not have an entry in the Osmosis library yet, but here's an overview that you might find useful.</div><div class=\"ui-WikiArticle\"></div></div><div class=\"col-md-3\"><div data-bind=\"visible: articles().length\" class=\"fwb\">Recommended Reading</div><div data-bind=\"foreach: articles\" class=\"recommended-articles\"><div class=\"the-article mvm\"><div class=\"logo\"><img src=\"https://osmose-it.s3.amazonaws.com/rwVmG10JR7SaKooHZvDoDDP8RFOGqE32/_.png\" alt=\"medscape logo\"/></div><div class=\"link\"><a href=\"\" data-bind=\"text: t, attr: {href: u}\" target=\"_blank\"></a><i class=\"fas fa-external-link-alt mls fcg fp80\"></i></div></div></div></div></div></div>"}),deftmp("models.concept.learn.InteractiveSection",{template:"<table data-bind=\"visible: visible\" class=\"models-concept-learn-InteractiveSection\"><tr><td class=\"margin-green block-title\"><h5 data-bind=\"text: label\"></h5><div class=\"models-concept-learn-RecMargin\"></div></td><td class=\"main-content\"><div class=\"mobile-block-title\"><h5 data-bind=\"text:label\"></h5></div><div class=\"plugin-space\"></div></td><td class=\"side-content\"><div data-bind=\"visible:label()==&quot;Pathophysiology&quot;\" class=\"shortcut-helper\"><p>Use <i class='fa fa-long-arrow-alt-down'></i> to jump between sections.</p><p data-bind=\"visible:isSeries\">Use <i class='fa fa-long-arrow-alt-right'></i> to change topics.</p></div></td></tr></table>"}),deftmp("models.concept.learn.LinkSection",{template:"<table class=\"models-concept-learn-LinkSection\"><tr><td class=\"margin-red block-title\"><h5 data-bind=\"text: label\"></h5><div class=\"models-concept-learn-RecMargin\"></div></td><td class=\"full-content\"><div class=\"mobile-block-title\"><h5 data-bind=\"text:label\"></h5></div><div data-bind=\"foreach: links\" class=\"flex-left\"><div class=\"link-block\"><a href=\"\" data-bind=\"attr: {href: url}\" target=\"_blank\"><img data-bind=\"attr: {src: src}\"/></a><a href=\"\" data-bind=\"attr: {href: url}, text: caption\" target=\"_blank\" class=\"fwb\"></a></div></div></td></tr></table>"}),deftmp("models.concept.learn.RecMargin",{template:"<div class=\"models-concept-learn-RecMargin\"><div data-bind=\"visible: state()==&quot;skim&quot;\" class=\"fp80\"><i class=\"fa fa-book fcg\"></i><span> Skim</span></div><div data-bind=\"visible: state()==&quot;recommended&quot;\" class=\"fp80\"><i style=\"color: green\" class=\"fa fa-check\"></i><span> Recommended</span></div><div data-bind=\"visible: state()==&quot;optional&quot;\" class=\"fp80\"><span> Optional</span></div><div data-bind=\"html: caption\" style=\"color: lightgray\" class=\"fp80 mts\"></div></div>"}),deftmp("models.concept.learn.RefSection",{template:"<table class=\"models-concept-learn-RefSection\"><tr><td class=\"margin-red block-title\"><h5><span data-bind='text: editionStr()'/></h5><div class=\"models-concept-learn-RecMargin\"></div><div><span class=\"fp80\">Switch to <a href='' data-bind='visible: edition()!=\"f15\", ajax: switchEdition(\"f15\")'>2015</a> <a href='' data-bind='visible: edition()!=\"f16\", ajax: switchEdition(\"f16\")'>2016</a> <a href='' data-bind='visible: edition()!=\"f17\", ajax: switchEdition(\"f17\")'>2017</a></span></div></td><td class=\"full-content\"><div data-bind=\"visible: visible\"><div class=\"mobile-block-title\"><h5><span data-bind='text: editionStr()'/></h5><div><span class=\"fp80\">Switch to <a href='' data-bind='visible: edition()!=\"f15\", ajax: switchEdition(\"f15\")'>2015</a> <a href='' data-bind='visible: edition()!=\"f16\", ajax: switchEdition(\"f16\")'>2016</a> <a href='' data-bind='visible: edition()!=\"f17\", ajax: switchEdition(\"f17\")'>2017</a></span></div></div><div><div class=\"row mbl\"><div class=\"col-1 col-md-4\"></div><div class=\"col-2 col-md-4\"></div><div class=\"col-3 col-md-4\"></div></div></div></div><div data-bind=\"visible: !visible()\"><div class=\"fcg\">There aren't any references for this edition of the book. You might try a different edition.</div></div></td></tr></table>"}),deftmp("models.concept.learn.SummarySection",{template:"<table class=\"models-concept-learn-SummarySection\"><tr><td class=\"margin-red block-title\"><h5>Summary</h5><div class=\"models-concept-learn-RecMargin\"></div></td><td class=\"main-content text-block\"><div class=\"mobile-block-title\"><h5>Summary</h5></div><div data-bind=\"html: text\"></div><div data-bind=\"visible: redirect, html: redirect\" class=\"mtm redirect wikify\"></div></td><td class=\"side-content\"><div class=\"mlxl\"><div data-bind=\"visible: articles().length\" class=\"fwb\">References <sup><i class=\"fa fa-question-circle tip fp80\" title=\"The summary has been adapted from the Wikipedia article listed below and has been edited for clarity, brevity, and accuracy. The text is licensed under the Creative Commons CC-BY-SA 3.0 Unported License. (https://creativecommons.org/licenses/by-sa/3.0/)\"></i></sup></div><div data-bind=\"foreach: articles\" class=\"recommended-articles\"><div class=\"the-article mvm\"><div data-bind=\"visible: publisher==&quot;Medscape&quot;\" class=\"logo\"><img src=\"https://osmose-it.s3.amazonaws.com/rwVmG10JR7SaKooHZvDoDDP8RFOGqE32/_.png\" alt=\"medscape logo\"/></div><div data-bind=\"visible: publisher==&quot;Wikipedia&quot;\" class=\"logo\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/J-hUjuJtRAi5dZ8rqS4595w5SsuCg0YE/_.png\" alt=\"wikipedia logo\"/></div><div class=\"link\"><a href=\"\" data-bind=\"text: data.t, attr: {href: data.u}, css: publisher\" target=\"_blank\"></a><i data-bind=\"visible: publisher==&quot;Medscape&quot;\" class=\"fas fa-external-link-alt mls fcg fp80\"></i></div></div></div></div></td></tr></table>"}),deftmp("models.concept.learn.TableSection",{template:"<table data-bind=\"visible: visible\" class=\"models-concept-learn-TableSection\"><tr><td class=\"margin-green block-title\"><h5 data-bind=\"text: label\"></h5><div class=\"models-concept-learn-RecMargin\"></div></td><td class=\"main-content\"></td><td class=\"side-content\"></td></tr></table>"}),deftmp("models.concept.learn.VideoSection",{template:"<table data-bind=\"visible: visible\" class=\"models-concept-learn-VideoSection\"><tr><td class=\"margin-green block-title\"><h5 data-bind=\"text: label\"></h5><div class=\"models-concept-learn-RecMargin\"></div></td><td class=\"main-content\"><div class=\"mobile-block-title\"><h5 data-bind=\"text:label\"></h5></div><div class=\"video-space\"></div><div class=\"rounded-buttons center mts\"><div data-bind=\"click:changeSpeed(1)\" class=\"rounded-btn rounded-btn-primary rounded-btn-sm mrs\"><span>Play 1x</span></div><div data-bind=\"click:changeSpeed(1.5)\" class=\"rounded-btn rounded-btn-primary rounded-btn-sm mrs\"><span>1.5x</span></div><div data-bind=\"click:changeSpeed(2)\" class=\"rounded-btn rounded-btn-primary rounded-btn-sm\"><span>2x</span></div></div></td><td class=\"side-content\"><div data-bind=\"visible:label()==&quot;Pathophysiology&quot;\" class=\"shortcut-helper\"><p>Use <i class='fa fa-long-arrow-alt-down'></i> to jump between sections.</p><p data-bind=\"visible:isSeries\">Use <i class='fa fa-long-arrow-alt-right'></i> to change topics.</p></div></td></tr></table>"}),deftmp("models.concept.tabIcons",{template:"<div class=\"models-concept tabIcons\"><div class=\"picmonic\"><img src=\"https://osmose-it.s3.amazonaws.com/zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png\"/></div><div class=\"sketchy\"><img src=\"https://osmose-it.s3.amazonaws.com/VU-xguGLT6SJHKGxkWyl_QqVTWSY-rgr/_.jpg\"/></div><div class=\"celeb\"><img src=\"https://osmose-it.s3.amazonaws.com/uItg_sGtRYi5ouWRrB9n26KXTkWE6xrN/_.png\"/></div><div class=\"youtube\"><i class=\"fa fa-youtube\"></i></div><div class=\"table\"><i class=\"fa fa-th\"></i></div><div class=\"anatomy\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/anat50.png\"/></div><div class=\"book\"><i class=\"fa fa-book\"></i></div><div class=\"cards\"><i class=\"fa fa-th-large\"></i></div><div class=\"timeline\"><i class=\"fa fa-history\"></i></div><div class=\"feedback\"><i class=\"fa fa-envelope\"></i></div><div class=\"question\"><i class=\"fa fa-question\"></i></div><div class=\"flashcard\"><i class=\"fa fa-th\"></i></div><div class=\"delete\"><i class=\"fa fa-trash-alt\"></i></div><div class=\"sideline\"><i class=\"fas fa-code-branch\"></i></div><div class=\"check\"><i class=\"fa fa-check\"></i></div><div class=\"redirect\"><i class=\"fas fa-external-link-square-alt\"></i></div></div>"}),deftmp("models.feed.PostBlock",{template:"<div class=\"models-feed-PostBlock\"><div data-bind=\"visible: header, html: header\" class=\"fp80\"></div><div data-bind=\"css: {&quot;post-disabled&quot;: !enabled()}\" class=\"panel white\"><div class=\"panel-heading\"><div class=\"picture\"><div data-bind=\"visible: avatar\"><img data-bind=\"visible: avatar, attr:{src:avatar}\" src=\"\" alt=\"avatar\" class=\"avatar-img\"/></div><div class=\"avatar\"></div></div><div class=\"info\"><div data-bind=\"text: title\" class=\"name\"></div><div data-bind=\"text: subtitle\" class=\"time\"></div><div data-bind=\"text: caption\" class=\"item-descr\"></div></div></div><div class=\"panel-body\"></div></div></div>"}),deftmp("models.feed.PostView",{template:"<div class=\"models-feed-PostView commentable\"><div class=\"panel white\"><div class=\"panel-heading\"><div class=\"picture\"><div class=\"ui-Avatar\">  </div></div><div class=\"info\"><div data-bind=\"text: authorName\" class=\"name\"></div><div data-bind=\"text: postedOnStr\" class=\"time\"></div><div data-bind=\"html: itemTypeDescr\" class=\"item-descr\"></div></div></div><div class=\"panel-body\"><div class=\"item-content\"><p class=\"post-body\"></p></div><div class=\"ActionLinks item-links\"><ul class=\"actionControls\"><li><a href=\"#\" data-bind=\"click: comment\">Comment</a></li><li data-bind=\"visible: post.userID()==userID &amp;&amp; post.comments().length == 0\"><a href=\"#\" data-bind=\"click: remove\">Delete</a></li></ul></div></div></div><div class=\"commentList\"></div></div>"}),deftmp("models.feed.QuickViewQuestions",{template:"<div class=\"models-feed-QuickViewQuestions\"><div class=\"item-content mtm\"><div class=\"quiz\"></div></div></div>"}),deftmp("models.learn.FeaturedQuizzesSection",{template:"<div class=\"models-learn-FeaturedQuizzesSection\"><div data-bind=\"foreach:quizTypes\" class=\"quiz-items\"><div data-bind=\"css:$data.quizClass, visible: $data.count\" class=\"quiz-item featured-quiz\"><div data-bind=\"click: $root.startQuizNow(id,&quot;start&quot;)\" class=\"quiz-object default\"><div data-bind=\"css:(id==&quot;fc&quot;)?&quot;blue&quot;:&quot;green&quot;, visible:!$root.card.docMode()\" class=\"action-panel\"><span>Start</span></div><i data-bind=\"css:(id==&quot;fc&quot;)?&quot;fi-flashcard-bolt&quot;:&quot;fi-question-nav&quot;\" class=\"fi\"></i><div data-bind=\"html:count\" class=\"count\"></div><div data-bind=\"html:type\" class=\"type\"></div><div class=\"avatars\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/7576b2685f2eac1582b3c3d64f467f3cf2172722.png\" class=\"osmosis-avatar\"></div></div><div class=\"progress-section\"><div class=\"progress-count\"><div data-bind=\"visible:completed() &gt; 0\" class=\"has-started\"><span data-bind=\"html:completed\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:count\"></span><span>&nbsp;completed</span></div><div data-bind=\"visible:completed() == 0\" class=\"not-started\"><span data-bind=\"html:count\"></span><span>&nbsp;</span><span data-bind=\"html:type\"></span></div></div><div class=\"progress-bar\"><div data-bind=\"style:{width: correctPercent()+&quot;%&quot;}\" class=\"correct\"></div><div data-bind=\"style:{width: incorrectPercent()+&quot;%&quot;,left:correctPercent()+&quot;%&quot;}\" class=\"incorrect\"></div></div></div><div class=\"quiz-actions\"><div data-bind=\"click:$root.addQuiz(id)\" class=\"action-item save\"><i data-bind=\"css:(id==&quot;fc&quot;)?&quot;fi-flashcard-bolt&quot;:&quot;fi-question-nav&quot;\" class=\"fi\"></i><span class=\"the-label\">Save to queue</span></div><div data-bind=\"click: $root.startQuizNow(id,&quot;repeat&quot;), visible:!$root.card.docMode()\" class=\"action-item\"><i class=\"fa fa-history\"></i><span class=\"the-label\">Repeat<span class='desktop-only'>:</span> older <span class='desktop-only'>cards</span></span></div><div data-bind=\"ajax:$root.browseCards(), visible:id==&quot;fc&quot;\" class=\"action-item\"><i class=\"fa fa-search\"></i><span class=\"the-label\">Browse</span></div></div></div></div><div data-bind=\"visible:breadcrumb\" class=\"quiz-breakdown\"><div data-bind=\"\" class=\"custom-quiz\"><div class=\"custom-quiz-heading\">Quiz related topics</div><div class=\"custom-quiz-actions\"><div data-bind=\"click:toggleQuizBreakdownDropdown\" class=\"current-quiz\"><div data-bind=\"html: currentQuizInfo().prefix+currentQuizInfo().name\" class=\"the-label\"></div><i class=\"fa fa-angle-down\"></i><div data-bind=\"visible: quizBreakdownDropdownVisible, foreach: broadQuizzes\" class=\"quiz-dropdown\"><div data-bind=\"html: Array($index()*3).join(&quot;&nbsp;&quot;)+($index() &lt; $root.broadQuizzes().length-1 ? &quot; &lt;span class='fa fa-angle-down'/&gt; &quot; : &quot;&lt;span class='mlm'/&gt;&quot;)+name, click: $root.updateCurrentQuiz($data)\" class=\"quiz-type\"></div></div></div><div class=\"custom-quiz-cta\"><div data-bind=\"click:handleUpdateQuizzesClick\" class=\"select\">Update</div></div></div></div></div></div>"}),deftmp("models.learn.LearnCard",{template:"<div class=\"models-learn-LearnCard\"><section data-bind=\"css: { &quot;minimum-height&quot;: !noVideo() }\" class=\"video-section\"><div data-bind=\"visible: browseMode, click: closeCard\" class=\"fas fa-times modal-close\"></div><header class=\"main-header\"><div data-bind=\"foreach: breadcrumb, click: breadcrumbClick\" class=\"breadcrumb\"><span data-bind=\"text: $data\"></span></div><div class=\"main-header-spacer\"></div><div data-bind=\"visible: window.nightModeAvailable()\" class=\"night-mode-toggle\"><label for=\"night-mode-input-toggle\" class=\"night-mode-text\">Night Mode&nbsp;&nbsp;</label><div class=\"toggle-input small\"><label><input id=\"night-mode-input-toggle\" type=\"checkbox\" data-bind=\"checked: window.nightMode\"/><div class=\"slider\"></div></label></div></div></header><section class=\"main-content\"><section data-bind=\"css: { 'no-playlist': !showPlaylist() }\" class=\"video\"><header class=\"video-header\"><span class=\"title\"><h1 data-bind=\"text: clusterTitle\"></h1><a href=\"\" data-bind=\"visible: window.ADMIN.editor, attr: {href: editURL}\" target=\"_blank\" class=\"fas fa-pencil admin-edit-link\"></a><div class=\"ui-SharePopup\"></div></span><span data-bind=\"visible:views() &gt; 0, html: (views() &gt; 9999 ? views().toLocaleString() : views())+&quot; views&quot;\" class=\"views\"></span></header><div class=\"video-space-container\"><div class=\"review-prompt prompt\"></div><div class=\"share-prompt prompt\"></div><div class=\"resume-prompt prompt\"></div><div data-bind=\"visible: autoplayCounting\" class=\"autoplay-timer\"><div class=\"autoplay-inner\"><div class=\"next-vid\">Next up:</div><div data-bind=\"text: nextAutoplay\" class=\"next-title\"></div><div class=\"autoplay-controls\"><div data-bind=\"visible: autoplaySettings.list, click: cancelNext\" class=\"cancel button inverted thin\">Cancel</div><div data-bind=\"visible: autoplaySettings.list, click: playNext\" class=\"play-now button inverted olive thin left-icon\"><i class=\"fas fa-play\"></i><span data-bind=\"text: 'Playing in '+ autoplayTimer()\"></span></div><div data-bind=\"click: playNext, visible: !autoplaySettings.list()\" class=\"play-now button inverted olive thin left-icon\"><i class=\"fas fa-play\"></i><span>Play</span></div></div><div class=\"autoplay-enabler\"><span data-bind=\"visible: autoplaySettings.list, click: function(){autoplaySettings.list(false);}\">Disable autoplay</span><span data-bind=\"visible: !autoplaySettings.list(), click: function() {autoplaySettings.list(true);}\">Enable autoplay</span></div></div></div><div data-bind=\"css: { 'no-video': noVideo }\" class=\"video-space\"><header data-bind=\"visible: noVideo\" class=\"summary-header\"><div class=\"fas fa-list-ul\"></div><h2>Summary</h2></header><div data-bind=\"visible: !hasPrime() &amp;&amp; isPrimeOnly() &amp;&amp; !noVideo()\" class=\"prime-only-thumb\"><img data-bind=\"attr: { src: primeOnlyThumb() }\"><div class=\"prime-overlay\"><div class=\"wrapper\"><i data-bind=\"attr: { &quot;class&quot;: primeLockIcon() }\"></i><div data-bind=\"visible: freeTrialExpired\" class=\"trial-expired-wrapper\"><div class=\"negative message\"><h3 data-bind=\"text: freeTrialExpiredText\" class=\"text\"></h3></div></div><h2 data-bind=\"html: primeLockTitle()\" class=\"title\">Upgrade to Osmosis Prime</h2><p data-bind=\"html: primeLockSubtext()\" class=\"subtext\">Upgrade to Osmosis Prime Get access to hundreds more Osmosis videos only with Osmosis Prime.</p><button data-bind=\"click: startFreeTrial, visible: !freeTrialExpired() &amp;&amp; !hasPrime() &amp;&amp; !startedFreeTrial()\" class=\"basic button\">Start free trial</button><button data-bind=\"click: purchase, visible: !hasPrime() &amp;&amp; !startedFreeTrial()\" class=\"blue button\">Purchase Prime</button><button data-bind=\"click: reloadPage, visible: startedFreeTrial()\" class=\"blue button\">Watch video</button></div></div></div></div></div><div class=\"tools\"><div data-bind=\"visible: flashcardTotal() &gt; 0, click: startQuiz('flashcards'), css: { complete: flashcardCount() == flashcardTotal() }\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Click here to save the cards to review later\" class=\"flashcards\"><div data-bind=\"visible: !quizzesLoading()\" class=\"fa fa-fw fi fi-flashcard-bolt\"></div><div data-bind=\"visible: quizzesLoading\" class=\"loading-spinner\"></div><div class=\"flashcards-counter\"><h5>Flashcards</h5><div class=\"counter-container tool-counter\"><div class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: flashcardCount() == flashcardTotal()\"/><label><span data-bind=\"text: flashcardCount\" class=\"done\"></span><span>&nbsp;/&nbsp;</span><span data-bind=\"text: flashcardTotal\" class=\"max\"></span><span>&nbsp;complete</span></label></div></div></div></div><div data-bind=\"visible: questionTotal() &gt; 0, click: startQuiz('questions'), css: { complete: questionCount() == questionTotal() }\" class=\"questions\"><div data-bind=\"visible: !quizzesLoading()\" class=\"fa fa-fw fa-stethoscope\"></div><div data-bind=\"visible: quizzesLoading\" class=\"loading-spinner\"></div><div class=\"questions-counter tool-counter\"><h5>Questions</h5><div class=\"counter-container\"><div class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: questionCount() == questionTotal()\"/><label><span data-bind=\"text: questionCount\" class=\"done\"></span><span>&nbsp;/&nbsp;</span><span data-bind=\"text: questionTotal\" class=\"max\"></span><span>&nbsp;complete</span></label></div></div></div></div><div data-bind=\"visible: notes, if: notes, click: openNotes\" class=\"notepad\"><div class=\"new-badge\">New</div><div class=\"fa fa-fw fa-file-alt\"></div><div class=\"notepad-container tool-counter\"><h5>High-yield notes</h5><!--.pages-container.counter-container--></div></div></div></section><aside data-bind=\"visible: showPlaylist\" class=\"playlist\"></aside></section></section><div class=\"contents-section\"><div class=\"wrapper\"><div class=\"index-column\"><h3>Contents</h3><div class=\"divider\"></div><div data-bind=\"foreach:indexSidebar\" class=\"index-list\"><div data-bind=\"css:id+&quot; &quot;+theme+&quot; &quot;+$root.getBorder($data),visible:visible\" class=\"index-item\"><div data-bind=\"css:{active:active}, click:$root.handleSidebarClick($data)\" class=\"wrapper\"><div class=\"icon\"><i data-bind=\"css:icon\"></i></div><div data-bind=\"html:name\" class=\"name\"></div></div></div></div></div><div class=\"index-sections\"></div><div class=\"feedback-section\"><div data-bind=\"click:submitFeedback\" class=\"thin basic box button left-icon\"><i class=\"far fa-comment\"></i><span>Feedback</span></div></div></div></div></div>"}),deftmp("models.learn.LearnCardSection",{template:"<div data-bind=\"css:theme+&quot; &quot;+id, visible:visible\" class=\"models-learn-LearnCardSection\"><div class=\"title\"><div class=\"icon\"><i data-bind=\"css:icon\"></i></div><div data-bind=\"html:name\" class=\"heading\"></div></div><div class=\"divider\"></div><div class=\"content\"></div></div>"}),deftmp("models.learn.LearnPlaylist",{template:"<div data-bind=\"css: currentCategory\" class=\"models-learn-LearnPlaylist\"><header><div class=\"title\"><img data-bind=\"attr: { src: icon }\"/><div class=\"name\"><h4 data-bind=\"text: title, click: breadcrumbClick\"></h4><div class=\"topic-count\"> </div><!--<span data-bind=\"text: topicCount\"></span><span>&nbsp;topics</span>--></div><div class=\"settings\"><div data-bind=\"click: openSettings\" class=\"fa fa-cog\"></div></div></div><div data-bind=\"foreach: categories\" class=\"categories\"><div data-bind=\"text: $data, css: { [$data]: true, current: $root.currentCategory() === $data }, click: function() { $root.currentCategory($data); }\" class=\"category\"></div></div></header><div data-bind=\"visible: loading\" class=\"loading-spinner\"></div><div data-bind=\"visible: failed\" class=\"failed-container\"><p>Server Error</p><p>It would be greatly appreciated if you report this as a bug to <a href=\"mailto:support@osmosis.org\">support@osmosis.org</a></p></div><div class=\"playlist-content\"></div></div>"}),deftmp("models.learn.PlaylistTopic",{template:"<div class=\"models-learn-PlaylistTopic\"><div data-bind=\"text: topic.subtopic\" class=\"category-title\"></div><div class=\"content\"></div></div>"}),deftmp("models.learn.sections.DocSearchSection",{template:"<div class=\"models-learn-sections-DocSearchSection\"><div data-bind=\"visible: !hasPrime\" class=\"models-learn-sections-PrimeLockOverlay\"></div><div data-bind=\"visible: !hasPrime\" class=\"doc-search\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/TfpWgPcaS46ZVwzpC9D_QLt1R8u30Dad.png\"/><h3 class=\"explainer\">You can search your documents for this key concept.  </h3><button data-bind=\"click: searchDocs\" class=\"button olive left-icon\"> <i class=\"fi fi-doc-search\"></i><span>Search my documents</span></button></div><div data-bind=\"visible: hasPrime\" class=\"title-bar\"><h3 class=\"search-title\"><span data-bind=\"visible: hasDocs()\" class=\"has-results\">Search results for&nbsp;</span><span data-bind=\"visible: !hasDocs()\" class=\"no-results\">No results for&nbsp;</span><span data-bind=\"text: &quot;\u201C&quot; + searchTerm + &quot;\u201D&quot;\" class=\"title-concepts\"></span><span data-bind=\"visible: !hasDocs()\" class=\"no-results\">&nbsp;in your workspaces</span></h3><a data-bind=\"attr: { href: timelineSearchLink }\" target=\"_blank\" class=\"button small timeline-search-button\"><i class=\"fas fa-external-link-alt\"></i>Open timeline search</a></div><div data-bind=\"visible: hasDocs() &amp;&amp; hasPrime\" class=\"content-wrapper\"><div data-bind=\"visible: searching\" class=\"loading-spinner large\"></div><div data-bind=\"foreach: columns, visible: !searching()\" class=\"content\"><div data-bind=\"foreach: groups\" class=\"column\"><div data-bind=\"visible: documents().length\" class=\"doc-group\"><div data-bind=\"text: name\" class=\"doc-group-name\"></div><div data-bind=\"foreach: documents\" class=\"doc-group-documents\"><div class=\"document\"><div class=\"left-side\"><div data-bind=\"text: name\" class=\"document-name\"></div><div class=\"document-subsection\"><span data-bind=\"text: pages.length + &quot; match&quot; + (pages.length !== 1 ? &quot;es&quot; : &quot;&quot;)\" class=\"document-matches\"></span>&nbsp;-&nbsp;<span data-bind=\"text: moment(date).format(&quot;MMM[.] Do YYYY&quot;)\" class=\"document-date\"></span></div></div><div class=\"right-side\"><a data-bind=\"click: function(){window.open(&quot;/open/&quot; + id + &quot;?p=&quot; + pages[0], &quot;_blank&quot;); eventTracker.track(&quot;doc_search_open&quot;, {}, [&quot;intercom&quot;], 21600);}, attr: { href: &quot;/open/&quot; + id + &quot;?p=&quot; + pages[0]}\" target=\"_blank\" class=\"button thin olive\">Open</a></div></div></div></div></div></div></div></div>"}),deftmp("models.learn.sections.MemoryAnchorSection",{template:"<div class=\"models-learn-sections-MemoryAnchorSection\"><div data-bind=\"visible: !hasPrime\" class=\"models-learn-sections-PrimeLockOverlay\"></div><div data-bind=\"foreach: concepts\" class=\"concepts\"><div data-bind=\"visible: anchors.length &gt; 0\" class=\"concept-col\"><h3 data-bind=\"html: name\"></h3><div data-bind=\"foreach: anchors\" class=\"anchors\"><div data-bind=\"click: $root.handleClick($data)\" class=\"anchor\"><div class=\"thumb\"><img src=\"\" data-bind=\"attr: { src:&quot;https://osmose-it.s3.amazonaws.com/&quot; + thumb }\"/></div><div class=\"info\"><div data-bind=\"html: title\" class=\"anchor-title\"></div><div class=\"anchor-src\"><div data-bind=\"html: $root.getLogo(src)\" class=\"logo\"></div><div data-bind=\"html: src\" class=\"name\"></div></div></div></div></div></div></div></div>"}),deftmp("models.learn.sections.NotesSection",{template:"<div class=\"models-learn-sections-NotesSection\"><div data-bind=\"foreach:concepts\" class=\"concepts\"><div data-bind=\"html:title\" class=\"title\"></div><div data-bind=\"html:notes\" class=\"notes\"></div></div></div>"}),deftmp("models.learn.sections.PrimeLockOverlay",{template:"<div class=\"models-learn-sections-PrimeLockOverlay\"><div data-bind=\"css: theme\" class=\"lock-overlay\"><div class=\"lock-icon\"><i class=\"fas fa-lock\"></i></div><div data-bind=\"visible: !primeExpired()\" class=\"lock-text\"><h2 data-bind=\"text: title\" class=\"inverted title-text\">This is an Osmosis Prime feature.</h2><p data-bind=\"text: description\" class=\"description inverted\"></p></div><div data-bind=\"visible: primeExpired()\" class=\"lock-text\"><h2 class=\"inverted title-text\">Sorry, your Osmosis Prime has expired.</h2><p class=\"description inverted\">Purchase more Osmosis Prime to access this content.</p></div><div data-bind=\"visible: !loggedOut\" class=\"button-group\"><button data-bind=\"visible: !primeExpired(), click: activateFreeTrialClick\" class=\"thin basic button\">Start free trial</button><button data-bind=\"click: purchasePrimeClick\" class=\"thin button olive\">Purchase Prime</button></div><div data-bind=\"visible: loggedOut\" class=\"button-group\"><button data-bind=\"click: signupClick\" class=\"thin olive button\">Sign up</button></div></div></div>"}),deftmp("models.learn.sections.QuizFlashSection",{template:"<div class=\"models-learn-sections-QuizFlashSection\"><div data-bind=\"visible: !hasPrime\" class=\"models-learn-sections-PrimeLockOverlay horizontal\"></div><div class=\"main-concept\"><div class=\"concept-quiz quiz-item-row\"><div class=\"wrapper\"><div data-bind=\"click: toggleSubdeck, css: {clickable: concepts.length &gt; 1 &amp;&amp; concepts[1].data.list &amp;&amp; concepts[1].data.list.length &gt; 0}\" class=\"info\"><div class=\"main-progress-circle\"></div><h3 data-bind=\"html: mainConcept.name\"></h3><div class=\"progress-text\"><span data-bind=\"html:mainConcept.data.progress.attempted\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:(mainConcept.data.list) ? mainConcept.data.list.length : 0\"></span><span data-bind=\"visible: !isMobile()\">&nbsp;complete          </span></div></div><div class=\"mobile-actions\"> <i data-bind=\"click: $root.openDropDown\" class=\"fas fa-ellipsis-h dropdown-menu-button\"></i></div><div data-bind=\"visible: !isMobile()\" class=\"actions\"><button data-bind=\"click: () =&gt; $root.startQuizNow(mainConcept.data.list), visible:!$root.card.docMode()\" class=\"thin button purple\">Start</button><button data-bind=\"click: () =&gt; $root.save(mainConcept.data.list)\" class=\"thin button basic\">Save to Queue</button><button data-bind=\"click: () =&gt; $root.browse(mainConcept.data.list)\" class=\"thin button basic\">Quick view</button></div></div></div></div><div data-bind=\"fadeVisible: subdeckOpen, foreach:concepts, css: { open: subdeckOpen() }\" class=\"concepts\"><div data-bind=\"visible: name !== $parent.mainConcept.name &amp;&amp; data.list &amp;&amp; data.list.length &gt; 0\" class=\"concept-quiz quiz-item-row subdeck\"><div class=\"wrapper\"><div class=\"info\"><div data-bind=\"attr: {id: $index}\" class=\"progress-circle\"></div><h3 data-bind=\"html: name\"></h3><div data-bind=\"visible: !$root.isMobile()\" class=\"progress-text\"><span data-bind=\"html:data.progress.attempted\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:(data.list) ? data.list.length : 0\"></span><span>&nbsp;complete </span></div></div><div class=\"mobile-actions\"><i data-bind=\"click: $root.openDropDown\" class=\"fa fa-ellipsis-h dropdown-menu-button\"></i></div><div data-bind=\"visible: !$root.isMobile()\" class=\"actions subdeck-actions\"><button data-bind=\"click: () =&gt; $root.startQuizNow(data.list), visible:!$root.card.docMode()\" class=\"thin button purple\">Start</button><button data-bind=\"click: () =&gt; $root.save(data.list)\" class=\"thin button basic\">Save to Queue</button><button data-bind=\"click: () =&gt; $root.browse(data.list)\" class=\"thin button basic\">Quick view</button></div></div></div></div></div>"}),deftmp("models.learn.sections.QuizQuesSection",{template:"<div class=\"models-learn-sections-QuizQuesSection\"><div data-bind=\"visible: !hasPrime\" class=\"models-learn-sections-PrimeLockOverlay horizontal\"></div><div data-bind=\"foreach: {data: concepts, as: &quot;step&quot;}\" class=\"concepts-container\"><div class=\"main-concept\"><div class=\"concept-quiz quiz-item-row\"><div class=\"wrapper\"><div data-bind=\"click: $root.toggleSubdeck($index()), css: {clickable: concepts.length &gt; 1}\" class=\"info\"><div data-bind=\"css: `step${$index()+1}`\" class=\"progress-circle main\"></div><h3 data-bind=\"html: mainConcept.name\"></h3><div class=\"progress-text\"><span data-bind=\"html:mainConcept.data.progress.attempted\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:(mainConcept.data.list) ? mainConcept.data.list.length : 0\"></span><span data-bind=\"visible: !$root.isMobile()\">&nbsp;complete</span></div></div><div class=\"mobile-actions\"> <i data-bind=\"click: $root.openDropDown\" class=\"fas fa-ellipsis-h dropdown-menu-button\"></i></div><div data-bind=\"visible: !$root.isMobile()\" class=\"actions\"><button data-bind=\"click: () =&gt; $root.startQuizNow(mainConcept.data.list,mainConcept.name), visible:!$root.card.docMode()\" class=\"button thin red\">Start</button><button data-bind=\"click: () =&gt; $root.save(mainConcept.data.list,mainConcept.name)\" class=\"button basic thin\">Save to Queue</button></div></div></div></div><div data-bind=\"fadeVisible: subdeckOpen(), foreach: {data: concepts, as: &quot;subconcept&quot;}, css: { open: subdeckOpen() }\" class=\"concepts\"><div data-bind=\"visible: step.concepts.length &gt; 1 &amp;&amp; data &amp;&amp; data.list.length &gt; 0\" class=\"concept-quiz quiz-item-row\"><div class=\"wrapper\"><div class=\"info\"><div data-bind=\"attr: {id: `${$parentContext.$index()}-${$index()}`}\" class=\"progress-circle sub\"></div><h3 data-bind=\"html: name\"></h3><div data-bind=\"visible: !$root.isMobile()\" class=\"progress-text\"><span data-bind=\"html: data.progress.attempted\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html: data.list ? data.list.length : 0\"></span><span>&nbsp;complete</span></div></div><div class=\"mobile-actions\"> <i data-bind=\"click: $root.openDropDown\" class=\"fas fa-ellipsis-h dropdown-menu-button\"></i></div><div data-bind=\"visible: !$root.isMobile()\" class=\"actions subdeck-actions\"><button data-bind=\"click: () =&gt; $root.startQuizNow(data.list, name), visible:!$root.card.docMode()\" class=\"button thin red\">Start</button><button data-bind=\"click: () =&gt; $root.save(data.list, name)\" class=\"button basic thin\">Save to Queue</button></div></div></div></div></div></div>"}),deftmp("models.learn.sections.ReferencesSection",{template:"<div class=\"models-learn-sections-ReferencesSection\"><div data-bind=\"visible: !hasPrime\" class=\"models-learn-sections-PrimeLockOverlay horizontal\"></div><div data-bind=\"foreach: concepts\" class=\"concepts\"><h3 data-bind=\"html: name\"> </h3><div data-bind=\"foreach: data\" class=\"references\"><a data-bind=\"click: $root.handleLinkClick($data)\" class=\"reference\"><div data-bind=\"html: $root.getSourceName($data)\" class=\"ref-text\"></div><i class=\"fas fa-external-link-alt\"></i></a></div></div></div>"}),deftmp("models.learn.sections.RelatedSection",{template:"<div class=\"models-learn-sections-RelatedSection\"><div data-bind=\"foreach: card.breadcrumb, click: breadcrumbClick\" class=\"concept-breadcrumb breadcrumb\"><span data-bind=\"text: $data\"></span></div><div data-bind=\"foreach:concepts\" class=\"concepts\"><div data-bind=\"click:$root.openCard($data)\" class=\"anchor\"><div class=\"thumb\"><img src=\"\" data-bind=\"attr:{src:&quot;https://osmose-it.s3.amazonaws.com/&quot;+thumb}\"/></div><div class=\"info\"><div data-bind=\"html:concept\" class=\"anchor-title\"></div></div></div></div></div>"}),deftmp("models.learn.sections.ResourcesSection",{template:"<div class=\"models-learn-sections-ResourcesSection\"><div data-bind=\"foreach:concepts\" class=\"concepts\"><h3 data-bind=\"html:name\"></h3><div class=\"models-learn-sections-PrimeLockOverlay\"></div><div data-bind=\"foreach:($data.data) ? $data.data.faBooks : []\" class=\"book-refs\"><div data-bind=\"attr:{&quot;book-id&quot;:bookID}, visible:$root.currentBook()==bookID\" class=\"book-ref\"><div class=\"title-section\"><div data-bind=\"html:bookTitle\" class=\"book-title\"></div><div data-bind=\"html:bookYear\" class=\"book-year\"></div><div data-bind=\"foreach:$parent.data.faBooks\" class=\"editions\"><div data-bind=\"click:$root.updateBook(bookID), html:bookYear, visible:bookID != $parent.bookID\" class=\"book\"></div></div></div><div class=\"divider\">     </div><div data-bind=\"visible:data.length &lt; 1\" class=\"empty-version\"><p>There aren't any references for this edition of the book. You might try a different edition.</p></div><div data-bind=\"foreach:data, visible:data.length &gt;= 1\" class=\"ref-cols\"><div class=\"ref-col\"><div class=\"main-index wikify\"><span data-bind=\"html:(ref.split(&quot;|&quot;))[0]\" class=\"name content-text\"></span><span data-bind=\"html:((ref.split(&quot;|&quot;))[1]) ? &quot; p. &quot;+(ref.split(&quot;|&quot;))[1] : &quot;&quot;\" class=\"pageNum\"></span><div data-bind=\"foreach: $data.group\" class=\"crossrefs\"><div class=\"crossref\"><span data-bind=\"html:($data.split(&quot;|&quot;))[0]\" class=\"name content-text\"></span><span data-bind=\"html:(($data.split(&quot;|&quot;))[1]) ? &quot; p. &quot;+($data.split(&quot;|&quot;))[1] : &quot;&quot;\" class=\"pageNum\"></span></div></div></div></div></div></div></div></div></div>"}),deftmp("models.learn.sections.SummarySection",{template:"<div class=\"models-learn-sections-SummarySection\"><div data-bind=\"foreach:concepts\" class=\"concepts\"><div data-bind=\"visible: !$parent.hideHeader\" class=\"name\"><h2 data-bind=\"html:name\"></h2><a href=\"\" data-bind=\"visible: ADMIN.editor, attr: {href: &quot;/editconcept?term=&quot;+$root.getURL(name)}\" target=\"_blank\" class=\"edit-link fp80\"><i class=\"fa fa-pencil-alt\"></i><span> Edit</span></a></div><div class=\"summary wikify\"><p data-bind=\"html: $data.data\" class=\"content-text\"></p></div></div></div>"}),deftmp("models.learn.sections.TableSection",{template:"<div class=\"models-learn-sections-TableSection\"><div class=\"main-content\"></div></div>"}),deftmp("models.ques.AdvancedTools",{template:"<div class=\"models-ques-AdvancedTools\"><div data-bind=\"visible: mode()==&quot;edit&quot;\"><div class=\"fp80\"><span class=\"fwb\">Add&nbsp;</span><ul data-bind=\"foreach: tools\" class=\"navlist\"><li><span data-bind=\"visible: $data==&quot;takeaway&quot;\"><a href=\"#\" data-bind=\"toggle: $root.hasMajorTakeaway\">Major Takeaway</a><span>&nbsp;</span></span><span data-bind=\"visible: $data==&quot;ref&quot;\"><a href=\"#\" data-bind=\"click: $root.addReference()\">Reference</a><span>&nbsp;</span></span></li></ul></div></div><div class=\"models-ques-ExtendedInput\"></div><div class=\"models-ques-ref-Block\"></div><div class=\"models-ques-TopicTags\"></div></div>"}),deftmp("models.ques.ContentTeamTags",{template:"<div class=\"models-ques-ContentTeamTags\"><div><a href=\"\" data-bind=\"visible: parent.mode()==&quot;edit&quot;, click: addAdminTag\" class=\"fp80 fcg\">Add Content Team Tags</a><div><div data-bind=\"visible:isElsevier\" class=\"content-tools-tag Elsevier\">Elsevier</div><!-- ko foreach: tags--><div data-bind=\"text: tag, css: group\" class=\"content-tools-tag\"></div><!-- /ko--></div></div></div>"}),deftmp("models.ques.DifficultyBar",{template:"<div data-bind=\"css: { &quot;in-pop-up&quot;: inPopup }\" class=\"models-ques-DifficultyBar\"><div data-bind=\"css: { active: __getKOHasDifficulty(0) }, click: difficultyClicked(0)\" class=\"difficulty-wrapper\"><svg width=\"21\" height=\"9\" viewBox=\"0 0 21 9\" class=\"difficulty easy\"><path d=\"M2.93459 8.99996H19.0001C20.1047 8.99996 21.0001 8.10453 21.0001 6.99996V2.6185C21.0001 1.29975 19.7461 0.341985 18.4739 0.688967L2.40837 5.07043C0.157232 5.68437 0.601234 8.99996 2.93459 8.99996Z\"></path></svg></div><div data-bind=\"css: { active: __getKOHasDifficulty(1) }, click: difficultyClicked(1)\" class=\"difficulty-wrapper\"><svg width=\"30\" height=\"19\" viewBox=\"0 0 30 19\" class=\"difficulty medium\"><path d=\"M26.9478 0.741701L1.8556 7.58498C0.98548 7.82228 0.381836 8.6126 0.381836 9.5145V17C0.381836 18.1046 1.27727 19 2.38184 19H27.474C28.5786 19 29.474 18.1046 29.474 17V2.67123C29.474 1.35249 28.2201 0.394719 26.9478 0.741701Z\"></path></svg></div><div data-bind=\"css: { active: __getKOHasDifficulty(2) }, click: difficultyClicked(2)\" class=\"difficulty-wrapper\"><svg width=\"23\" height=\"27\" viewBox=\"0 0 23 27\" class=\"difficulty hard\"><path d=\"M22.9989 25L22.9998 2.6186C22.9999 1.29983 21.7459 0.342005 20.4736 0.688997L1.89467 5.75593C1.02454 5.99324 0.420898 6.78356 0.420898 7.68546V24.9999C0.420898 26.1045 1.31633 26.9999 2.4209 26.9999H20.9989C22.1035 26.9999 22.9989 26.1045 22.9989 25Z\"></path></svg></div><div data-bind=\"visible: !inPopup, css: { &quot;popup-visible&quot;: popupVisible }\" class=\"popup-container\"><div data-bind=\"text: difficultyText\" class=\"popup-title\"></div><hr/><div class=\"popup-content\"><div class=\"popup-section\"><div class=\"popup-section-difficulty\"></div><div class=\"popup-section-title\">Easy:</div><div class=\"poup-section-content\">More than 70% of Osmosis users answer these questions correctly.</div></div><div class=\"popup-section\"><div class=\"popup-section-difficulty\"></div><div class=\"popup-section-title\">Medium:</div><div class=\"poup-section-content\">50 - 70% of Osmosis users answer these questions correctly.</div></div><div class=\"popup-section\"><div class=\"popup-section-difficulty\"></div><div class=\"popup-section-title\">Hard:</div><div class=\"poup-section-content\">Less than 50% of Osmosis users answer these questions correctly.</div></div></div></div></div>"}),deftmp("models.ques.EditBtns",{template:"<div data-bind=\"visible: visible\" class=\"models-ques-EditBtns\"><div data-bind=\"visible: parent.canPublish()\" class=\"mbs mtl\"><button data-bind=\"ajax:saveEditsAsPublic\" title=\"Shortcut: Ctrl/Cmd+S\" class=\"btn btn-primary save-btn\">Publish to Group</button><span class=\"mls\"></span><button data-bind=\"ajax:saveEditsAsDraft\" class=\"btn btn-default\">Save as Private</button><span class=\"mls\"></span><button data-bind=\"click:cancelEdits\" class=\"btn btn-default\">Cancel</button></div><div data-bind=\"visible: !parent.canPublish()\" class=\"mbs mtl\"><button data-bind=\"ajax:saveEditsAsDraft\" title=\"Shortcut: Ctrl/Cmd+S\" class=\"btn btn-purple save-btn\">Save as Private</button><span class=\"mls\"></span><button data-bind=\"click:cancelEdits\" class=\"btn btn-default\">Cancel</button></div></div>"}),deftmp("models.ques.EditContainer",{template:"<div data-bind=\"visible: visible\" class=\"models-ques-EditContainer\"><div class=\"models-ques-QuesType\"></div><div class=\"quesBlock\"></div><div class=\"models-ques-QuesTags\"></div><div class=\"models-ques-ContentTeamTags\"></div><div class=\"models-ques-EditBtns\"></div></div>"}),deftmp("models.ques.ExtendedInput",{template:"<div class=\"models-ques-ExtendedInput\"><div data-bind=\"visible: hasExtendedInput() || hasMajorTakeaway()\"><div class=\"fwb mtm\">Major Takeaway</div><div class=\"mtm quesKeyPoints froalaObject multiline\"></div><div data-bind=\"visible: window.useStrictEdits\"><div data-bind=\"visible: takeawayWordCount() &lt;= 50, css: {&quot;fc-warn&quot;: takeawayWordCount() &lt; 20}\"><span data-bind='text: takeawayWordCount'/> words (minimum 20 words)</div><div data-bind=\"visible: takeawayWordCount() &gt; 50\" class=\"fcr\">Major takeaway exceeds 50 words (currently <span data-bind='text: takeawayWordCount'/> words)!</div></div></div><div data-bind=\"visible: hasExtendedInput\"><div class=\"fwb mtm\">Objective</div><div class=\"mtm quesObjective froalaObject simpleBar\"></div><div class=\"fwb mtm\">Keywords</div><div class=\"mtm quesKeywords froalaObject simpleBar\"></div></div></div>"}),deftmp("models.ques.FlashcardPreview",{template:"<div class=\"models-ques-FlashcardPreview models-ques-Preview\"><button data-bind=\"visible: !selectOnly(), click: remove\" title=\"Remove flashcard\" class=\"close rfloat tip\">&times;</button><div data-bind=\"visible: !index()\" class=\"select\"><a data-bind=\"click: select\" class=\"btn btn-md btn-outline btn-primary\"><i class=\"fa fa-check\"></i><span>Select</span></a></div><div data-bind=\"visible: index\" class=\"fwb\"><span data-bind=\"text: index\"></span><i data-bind=\"visible: !selectOnly(), click: startHighlighting, css: {fcg: !highlighting()}\" class=\"fa fa-eye fcg mlm clickable\"></i></div><div class=\"ques-body\"></div><div class=\"ques-ans\"></div><div class=\"ques-exp\"></div><a data-bind=\"visible: !selectOnly(), click: editCard\" class=\"rfloat btn btn-default btn-sm\"><i class=\"fa fa-pencil-alt\"></i><span> Edit Card</span></a><div class=\"clearfix\"></div><hr/></div>"}),deftmp("models.ques.HighlightButton",{template:"<div class=\"models-ques-HighlightButton\"><div class=\"highlight-container mts\"><a data-bind=\"click: toggleHighlight, css: css\" class=\"toggle-highlight btn btn-outline-darkcta-container clickable btn-md\"><span>highlight</span><i aria-label=\"highlight\" class=\"fas fa-edit\"></i></a></div></div>"}),deftmp("models.ques.NavBtnWrapper",{template:"<div class=\"models-ques-NavBtnWrapper\"><div class=\"models-ques-NavBtns\"></div></div>"}),deftmp("models.ques.NavBtns",{template:"<div class=\"models-ques-NavBtns\"><div class=\"row\"><div class=\"col-md-12\"><div data-bind=\"visible: visible\" class=\"nextButtons\"><div data-bind=\"visible: quizType()==&quot;questions&quot;\" class=\"mvm\"><div class=\"rate-question\">Rate question: <i class=\"far fa-thumbs-up clickable tip\" data-bind='click: rate(1), css: { \"rating-good\": rating()==1}' title='Helpful'/> <i class=\"far fa-thumbs-down clickable mls tip\" data-bind='click: rate(-1), css: {\"rating-bad\":rating()==-1}' title='Not Helpful'/></div></div></div></div></div><div data-bind=\"scaleVisible: (visible() &amp;&amp; displayFloatingPrompt()), click: spacebar\" class=\"floating-prompt\"><div data-bind=\"visible:quizType()==&quot;questions&quot;\" class=\"question\"><span data-bind=\"visible: keyboardControl\" class=\"ques-spacebar-next\">Press <b class=\"spacebar-key\">spacebar</b> to continue</span><span data-bind=\"visible:!keyboardControl()\">Next question</span></div><div data-bind=\"visible:quizType()==&quot;flashcards&quot;\" class=\"flashcard\"><div data-bind=\"click: spacebar\">Press <strong class=\"spacebar-key\">spacebar</strong> to repeat <span class=\"fwb\" data-bind='text: defaultRepetitionText'/> or...</div></div><div data-bind=\"visible: keyboardControl(), click: hideFloatingPrompt\" class=\"floating-prompt-action-icon\"><i class=\"far fa-times\"></i></div><div data-bind=\"visible: !keyboardControl()\" class=\"floating-prompt-action-icon\"><i class=\"far fa-chevron-right\"></i></div></div></div>"}),deftmp("models.ques.PlaylistContainer",{template:"<div class=\"models-ques-PlaylistContainer\"><div class=\"panel background-panel\"><div class=\"panel-body\"><div class=\"row mbs\"><div class=\"col-md-12 fp80 answer-stats\"><span data-bind=\"style:{&quot;background-color&quot;:accConfColor}\" class=\"scoreboard-circle\"></span><span data-bind=\"text: accConfMsg\" class=\"msg\"></span></div></div><div class=\"row\"><div class=\"quesBlock col-md-6\"><div class=\"card-face card-front wikify\"><div class=\"card-body flashcardFront\"></div></div><div class=\"card-face card-back wikify\"><div class=\"card-body flashcardBack\"></div></div></div><div class=\"recommended col-md-6\"><div class=\"recommendedList\"></div><div data-bind=\"visible: buffer().length &gt; 0\" class=\"bufferList\"><div data-bind=\"visible: showingBuffer\"><div class=\"bufferedRecommendedList\"></div></div><div data-bind=\"visible: !showingBuffer()\"><a href=\"\" data-bind=\"click: showBuffer\"><span data-bind='text: buffer().length'/> resources have been hidden because they already appeared on this page</a></div></div></div></div></div></div></div>"}),deftmp("models.ques.QuesPreview",{template:"<div class=\"models-ques-QuesPreview models-ques-Preview\"><div></div><span class=\"fp80\">ID: <a href='' data-bind='text: node.nodeID, attr: {href: \"/editcontent?n=\"+node.nodeID+\"&show=rev\"}' target='_blank'/></span><span class=\"fp80 fwb\"> <span data-bind='text: editCaption'/></span><div data-bind=\"visible: count\"><span data-bind='text: idx'/>/<span data-bind='text: count'/> Score: <span data-bind='text: score'/></div><div class=\"ques-body wikify\"></div><ul class=\"ques-ans wikify\"></ul><div class=\"fwb\">Explanation</div><div class=\"ques-exp wikify\"></div><div data-bind=\"visible: hasMajorTakeaway\"><div class=\"fwb\">Major Takeaway</div><div class=\"ques-kp wikify\"></div></div><div data-bind=\"visible: mode!=&quot;view&quot;\"><div class=\"fwb mtl\">Category (required)</div><div><a href=\"\" data-bind='ajax: categorize(\"Step 1+2 Case\")'>Step 1 or 2 Case</a> | <a href=\"\" data-bind='ajax: categorize(\"Step 1 Case\")'>Step 1 Case</a> | <a href=\"\" data-bind='ajax: categorize(\"Step 1 Factoid\")'>Step 1 Factoid</a> | <a href=\"\" data-bind='ajax: categorize(\"Step 2 Case\")'>Step 2 Case</a> | <a href=\"\" data-bind='ajax: categorize(\"Celeb Case\")'>Celeb Case</a> | <a href=\"\" data-bind='ajax: categorize(\"COMLEX\")'>COMLEX</a></div></div><hr class=\"mtxxl\"/><div data-bind=\"visible: matchTabVisible\" style=\"background-color: #FEA; border-radius: 5px\" class=\"match-tab\"><div>Tag to <span class=\"fwb\" data-bind='text: matchTerm'/> <a class=\"fp80\" href=\"\" target='blank' data-bind='attr: {href: termURL}'>go to card</a></div><div><a href=\"\" data-bind='ajax: moveAway(\"Step 1+2 Case\")'>Step 1 or 2 Case</a> | <a href=\"\" data-bind='ajax: moveAway(\"Step 1 Case\")'>Step 1 Case</a> | <a href=\"\" data-bind='ajax: moveAway(\"Step 1 Factoid\")'>Step 1 Factoid</a> | <a href=\"\" data-bind='ajax: moveAway(\"Step 2 Case\")'>Step 2 Case</a> | <a href=\"\" data-bind='ajax: moveAway(\"Celeb Case\")'>Celeb Case</a> | <a href=\"\" data-bind='ajax: moveAway(\"COMLEX\")'>COMLEX</a> | <a href=\"\" data-bind='ajax: moveAway(\"COMLEX Factoid\")'>COMLEX Factoid</a></div></div></div>"}),deftmp("models.ques.QuesTags",{template:"<div class=\"models-ques-QuesTags\"><div data-bind=\"visible: parent.mode()==&quot;edit&quot;\"><div class=\"tagSection\"><div data-bind=\"visible: !collapsed()\"><span>Tags:&nbsp;</span><div style=\"width: 300px\" class=\"ui-SelectBox tagSelect multiple\"></div><div style=\"font-size:90%\">Can't find the tag you're looking for? <a href='#' data-bind='click:createNewTag'>Create a new one.</a></div></div><div data-bind=\"visible: collapsed\"><a href=\"\" data-bind=\"toggle: collapsed\" class=\"fcg fp80\">Add tags</a></div></div></div><div data-bind=\"visible: parent.mode()!=&quot;edit&quot;\"></div></div>"}),deftmp("models.ques.QuesType",{template:"<div class=\"models-ques-QuesType\"><div data-bind=\"visible: parent.mode()==&quot;edit&quot;\"><div data-bind=\"visible:!ques._nodeID()\" class=\"mbm\"><div style=\"width:200px\" class=\"ui-SelectBox quesTypeSelect\"></div></div></div><div data-bind=\"visible: parent.mode()!=&quot;edit&quot;\"><span>Type:</span><span>&nbsp;</span><span data-bind=\"text: types.names[ques.subtype()-1]\"></span></div></div>"}),deftmp("models.ques.QuizActions",{template:"<div data-bind=\"visible: __visible\" class=\"models-ques-QuizActions ActionLinks\"><div data-bind=\"visible: parent.hasLocalAccess\" class=\"mtm\"><div data-bind=\"attr:{title:&quot;Added &quot;+createdStr()+&quot; by &quot;+ ques.user()}\" class=\"avatar tip\"><div class=\"ui-Avatar\"></div></div><ul class=\"action-controls\"><li data-bind=\"visible: (ques.status()&gt;0) &amp;&amp; (ques.status()&lt;4)\"><div data-bind=\"click:comment\" title=\"Comment\" class=\"fa fa-comment tip\"></div></li><li data-bind=\"visible: canEdit\"><div data-bind=\"click:edit\" title=\"Edit\" class=\"fa fa-pencil-alt tip\"></div></li><li data-bind=\"visible: (ques.status()==0)\"><div data-bind=\"click:remove\" title=\"Delete\" class=\"fa fa-trash-alt tip\"></div></li><li data-bind=\"visible: ADMIN.editor\"><a href=\"#\" data-bind=\"attr: {href: &quot;/editcontent?n=&quot;+ques.nodeID, title: &quot;Admin Edit: &quot;+ques.nodeID}\" target=\"_blank\" class=\"fa fa-edit tip\"></a></li><li class=\"added-info\"><span>Added&nbsp;</span><span data-bind=\"text:createdStr\"></span><span><span>&nbsp;by&nbsp;</span><span data-bind=\"text:ques.user\"></span></span></li></ul><div class=\"rfloat\"><ul style=\"margin-top:5px\" class=\"action-controls\"><li data-bind=\"visible: isRepeatable\"><div data-bind=\"click:flag, css: {active: flagged}\" title=\"Flag as priority for daily repetition\" class=\"fa fa-flag tip\"></div></li><li data-bind=\"visible: isRepeatable\"><div data-bind=\"click:noRepeat\" title=\"Do not repeat\" class=\"fa fa-ban tip\"></div></li><li data-bind=\"visible: isRepeatable() &amp;&amp; parent.grading()\"><div data-bind=\"click:changeRepeat\" title=\"Custom repeat time\" class=\"fa fa-history tip\"></div></li><li><div data-bind=\"click:skip\" title=\"Skip (Shortcut key: spacebar)\" class=\"fa fa-caret-right tip\"></div></li></ul></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: !parent.hasLocalAccess()\" class=\"mtm\"><ul class=\"action-controls\"><li data-bind=\"visible: ADMIN.editor\"><a data-bind=\"attr: {href: &quot;/editcontent?n=&quot;+ques.nodeID, title: &quot;Admin Edit: &quot;+ques.nodeID}\" target=\"_blank\" class=\"fa fa-edit tip\"></a></li><li><div data-bind=\"click:reportIssue\" title=\"Report an issue\" class=\"fas fa-comment-dots tip\"></div></li></ul><div class=\"rfloat\"><ul style=\"margin-top:5px\" class=\"action-controls\"><li data-bind=\"visible: isRepeatable\"><div data-bind=\"click:flag, css: {active: flagged}\" title=\"Flag as priority for daily repetition\" class=\"fa fa-flag tip\"></div></li><li data-bind=\"visible: isRepeatable\"><div data-bind=\"click:noRepeat\" title=\"Do not repeat\" class=\"fa fa-ban tip\"></div></li><li data-bind=\"visible: isRepeatable() &amp;&amp; parent.grading()\"><div data-bind=\"click:changeRepeat\" title=\"Custom repeat time\" class=\"fa fa-history tip\"></div></li><li><div data-bind=\"click:skip\" title=\"Skip (Shortcut key: spacebar)\" class=\"fa fa-arrow-circle-right tip\"></div></li></ul></div><div class=\"clearfix\"></div></div></div>"}),deftmp("models.ques.QuizContainer",{template:"<div data-bind=\"css: &quot;view-as-&quot;+mode() + &quot; &quot; + (!showQuizControls() ? &quot;quiz-controls-hidden&quot; : &quot;&quot;)\" class=\"models-ques-QuizContainer commentable\"><div class=\"col-sm-6 scrollable no-header-height main-ques\"><div class=\"quesBlock\"></div><div class=\"models-ques-QuizActions\"></div><div class=\"models-ques-NavBtns\"> </div><div data-bind=\"visible:commentsVisible\" class=\"commentList\"></div><div class=\"footer\"></div></div><div class=\"scrollable no-header-height main-ques-explain\"><div class=\"quesSideview\"></div><div class=\"ui-MiniSlideViewer\"></div></div></div>"}),deftmp("models.ques.QuizPanel",{template:"<div class=\"models-ques-QuizPanel\"><div class=\"quiz\"></div></div>"}),deftmp("models.ques.SubmitBtns",{template:"<div class=\"models-ques-SubmitBtns\"><div class=\"AnsChoice mhm\"><div data-bind=\"html: descr\" class=\"descr fwb center\"></div><div data-bind=\"visible: mode()==&quot;confidence&quot;\" class=\"confidenceButtons\"><div data-bind=\"click:parent.submit(3), css: {fwb: selected()==3}\" class=\"cbtn\"><div title=\"Shortcut key: 1\" data-bind=\"css:{tip:!window.mobile.mobile()}\" class=\"thin box button light-blue\">I'm sure</div></div><div data-bind=\"click:parent.submit(2), css: {fwb: selected()==2}\" class=\"cbtn\"><div title=\"Shortcut key: 2\" data-bind=\"css:{tip:!window.mobile.mobile()}\" class=\"thin box button blue\">Feeling lucky</div></div><div data-bind=\"click:parent.submit(1), css: {fwb: selected()==1}\" class=\"cbtn\"><div title=\"Shortcut key: 3\" data-bind=\"css:{tip:!window.mobile.mobile()}\" class=\"thin box button dark-blue\">No clue</div></div><div class=\"clearfix\"></div></div></div></div>"}),deftmp("models.ques.TableField",{template:"<div class=\"models-ques-TableField\"><div class=\"mtm\"><div style=\"width:10%\" class=\"lfloat\">Field</div><div style=\"width:90%\" class=\"lfloat\"><div class=\"fieldName froalaObject noattach simpleBar\"></div></div><div class=\"clearfix\"></div></div><div class=\"mts\"><div style=\"width:10%\" class=\"lfloat\">Descr</div><div style=\"width:90%\" class=\"lfloat\"><div class=\"fieldDescr froalaObject multiline\"></div></div><div class=\"clearfix\"></div></div></div>"}),deftmp("models.ques.TopicTags",{template:"<div class=\"models-ques-TopicTags\"><div data-bind=\"visible: mode()==&quot;edit&quot;\"><div data-bind=\"visible: addingTopicTags()\"><div class=\"fwb\">Topic Tags</div><input style=\"width: 100%\" data-bind=\"value: tags\" class=\"topicTag\"/></div></div><div data-bind=\"visible: mode()!=&quot;edit&quot; &amp;&amp; addingTopicTags()\"><div class=\"fwb\">Topic Tags</div><div data-bind=\"html: tagStr\"></div></div></div>"}),deftmp("models.ques.ViewActions",{template:"<div data-bind=\"visible: __visible\" class=\"models-ques-ViewActions ActionLinks\"><div data-bind=\"visible: parent.hasLocalAccess\" class=\"mtm\"><div data-bind=\"attr:{title:&quot;Added &quot;+createdStr()+&quot; by &quot;+ ques.user()}\" class=\"avatar tip\"><div class=\"ui-Avatar\"></div></div><ul class=\"action-controls\"><li data-bind=\"visible: (ques.status()&gt;0) &amp;&amp; (ques.status()&lt;4)\"><a href=\"\" data-bind=\"click:comment\" title=\"Comment\">Comment</a></li><li data-bind=\"visible: canEdit\"><a href=\"\" data-bind=\"click:edit\" title=\"Edit\">Edit</a></li><li data-bind=\"visible: (ques.status()&lt;3) &amp;&amp; (role() &gt; 0 &amp;&amp; role() &lt;= 3)\"><a href=\"#\" data-bind=\"click:clone\">Clone</a></li><li data-bind=\"visible: (canEdit() &amp;&amp; ques.status()==0)\"><a href=\"\" data-bind=\"click:remove\" title=\"Delete\">Delete</a></li><li data-bind=\"visible: (canEdit() &amp;&amp; ques.status()==2)\"><a href=\"\" data-bind=\"click:retire\" title=\"Delete\">Delete</a></li><li data-bind=\"visible: ADMIN.editor\"><a href=\"\" data-bind=\"attr: {href: &quot;/editcontent?n=&quot;+ques.nodeID, title: &quot;Admin Edit: &quot;+ques.nodeID}\" target=\"_blank\">Admin edit</a></li><li class=\"added-info\"><span>Added&nbsp;</span><span data-bind=\"text:createdStr\"></span><span><span>&nbsp;by&nbsp;</span><span data-bind=\"text:ques.user\"></span></span></li></ul></div><div data-bind=\"visible: !parent.hasLocalAccess()\" class=\"mtm\"><ul class=\"action-controls\"><li data-bind=\"visible: ADMIN.editor\"><a href=\"\" data-bind=\"attr: {href: &quot;/editcontent?n=&quot;+ques.nodeID, title: &quot;Admin Edit: &quot;+ques.nodeID}\" target=\"_blank\">Admin edit</a></li><li><a href=\"\" data-bind=\"click:reportIssue\" title=\"Report an issue\">Report issue</a></li></ul></div></div>"}),deftmp("models.ques.ViewContainer",{template:"<div data-bind=\"visible: visible\" class=\"models-ques-ViewContainer\"><div class=\"models-ques-QuesType\"></div><div class=\"quesBlock\"></div><div class=\"ui-MiniSlideViewer\"></div><div class=\"models-ques-ViewActions\"></div><div class=\"models-ques-QuesTags\"></div><div class=\"models-ques-ContentTeamTags\"></div><hr/><div class=\"commentList mtm\"></div></div>"}),deftmp("models.ques.quiz.AnswerChoice_quiz",{template:"<div data-bind=\"fadeVisible: visible\" class=\"models-ques-quiz-AnswerChoice_quiz\"><div data-bind=\"css: {clickable: (parent.parent.mode()==&quot;quiz&quot; || hasExpLink()) &amp;&amp; (parent.selected()!=self), eliminated: strikethrough}, visible: (status() !== &quot;ungradedAns&quot;) || !strikethrough() || eliminatedAnswersAreVisible() &amp;&amp; strikethrough()\" class=\"answer-container\"><div data-bind=\"click: eliminate, css: { hideAnswerButtonIsVisible: hideAnswerButtonIsVisible, circleSlideRight: slideRight, circleSlideLeft: slideLeft }\" class=\"eliminate-ans-circle\"> <i data-bind=\"css: { eliminated: strikethrough }\" class=\"fal fa-times eliminate-button\"></i></div><div data-bind=\"hold:strike, tap: select, css: statusClass() + &quot; &quot; + explanationClass() + &quot; &quot; + animationClass()\" class=\"AnsChoice mhm\"><div style=\"width:100%\" class=\"inner-answer-container\"><span style=\"display:inline\" data-bind=\"visible:parent.parent.mode()==&quot;graded&quot;, html:accStat\" class=\"mrs\"></span><span data-bind=\"css: statusClass\" class=\"mrm answer-letter\"><div data-bind=\"html: ansId\" class=\"letter\"></div><div class=\"icon\"></div></span><span data-bind=\"css:{fst:strikethrough}\" style=\"display:inline\" class=\"answerChoice wikify\"></span></div><div data-bind=\"slideVisible: hasExpLink() || !hidePercentChose()\" class=\"answer-explanation-container\"><div data-bind=\"css: { &quot;hide-text&quot;: !hasExpLink() }\" class=\"explain-text\">Show explanation</div><div data-bind=\"css:{ hidden: hidePercentChose }\" title=\"The percent of students that selected this answer.\" class=\"percent-users-container tip\"><span class=\"percent-users\"><span data-bind=\"text: percent\"></span><span>%&nbsp</span></span></div></div><div data-bind=\"visible: (ansType()==&quot;matched&quot;) &amp;&amp; (parent.parent.mode()==&quot;quiz&quot;) &amp;&amp; (parent.selected()==self)\" class=\"labelButtons\"><div style=\"margin-right: auto; margin-left: auto\"><div data-bind=\"click: unmatch\" style=\"display: inline-block; width:70px\" class=\"mtm mlm clickable\"><div class=\"labelButton\">Unmatch</div></div></div></div><div data-bind=\"visible: (ansType()==&quot;labelMatching&quot;) &amp;&amp; (parent.parent.mode()==&quot;quiz&quot;) &amp;&amp; (parent.selected()==self)\" class=\"labelButtons\"><div data-bind=\"foreach: parent.labels\" style=\"margin-right: auto; margin-left: auto\"><div style=\"display: inline-block\"><div data-bind=\"visible: $data.visible, click: $root.parent.match($data,$root)\" style=\"width:70px\" class=\"mtm mlm clickable\"><div data-bind=\"text:label\" class=\"labelButton\"></div></div></div></div></div><div data-bind=\"visible: feedback\" class=\"labelMatchingIncorrect\"><div data-bind=\"html: feedback()+&quot;&nbsp;&quot;\" class=\"lfloat\"></div><div class=\"feedback lfloat\"></div><div class=\"clearfix\"></div></div><div data-bind=\"slideVisible: (ansType()==&quot;multipleChoice&quot;) &amp;&amp; (parent.parent.mode()==&quot;quiz&quot;) &amp;&amp; (parent.selected()==self)\" class=\"confidenceButtons\"><div class=\"button-container\"><button data-bind=\"click: function(data, event) { parent.beforeSubmit ? parent.beforeSubmit(parent, data, 1) : parent.submit(1)() }\" class=\"thin box button light-blue\"><div class=\"sure\">I'm sure</div></button><button data-bind=\"click: function(data, event) { parent.beforeSubmit ? parent.beforeSubmit(parent, data, 2) : parent.submit(2)() }\" class=\"thin box button blue\"><div class=\"lucky\">Feeling lucky</div></button><button data-bind=\"click: function(data, event) { parent.beforeSubmit ? parent.beforeSubmit(parent, data, 3) : parent.submit(3)() }\" class=\"thin box button dark-blue\"><div class=\"noclue\">No clue</div></button></div></div><div data-bind=\"slideVisible: expVisible\" class=\"mls\"><div class=\"individualAnsExp mtm wikify\"></div></div></div></div></div>"}),deftmp("models.ques.quiz.EliminationTool",{template:"<div class=\"models-ques-quiz-EliminationTool\"><div class=\"elimination-container\"><div class=\"container\"><div data-bind=\"click: toggleElimination\" class=\"text\">Elimination tool</div><div class=\"small toggle-input\"><label><input data-bind=\"checked: eliminationIsActive\" type=\"checkbox\"/><div class=\"slider\"></div></label></div></div><div data-bind=\"click: toggleHideEliminated, visible: eliminationIsActive() == true &amp;&amp; (parent.parent.mode()!==&quot;graded&quot;) &amp;&amp; hasEliminatedAnAnswer, text: hideEliminatedText\" class=\"hide-eliminated\"></div></div></div>"}),deftmp("models.ques.quiz.FillInFactoid",{template:"<div class=\"models-ques-quiz-FillInFactoid models-ques-quiz-Ques\"><div data-bind=\"visible: !data()\" class=\"center\"><div class=\"busy-large\"></div></div><div data-bind=\"visible: data()\" class=\"question\"><div data-bind=\"visible:canShowSubmitBtns() &amp;&amp; mode()==&quot;quiz&quot;\" style=\"font-size:90%\" class=\"mbs\">Use the <span class='fwb'>tab or enter key</span> to navigate. When inside an edit box, use the <b>down arrow</b> to view the word bank.</div><div class=\"factoid wikify\"></div><div data-bind=\"visible: canShowSubmitBtns() &amp;&amp; mode()==&quot;quiz&quot;\" style=\"font-size:90%\" class=\"mtl\">Need a hint? You can use a <a href=\"#\" data-bind='click:useWordBank'>word bank</a><span data-bind='visible: canFillInBlanks'>, randomly fill in <a href=\"#\" data-bind='click:fillInBlanks'>half the blanks</a>,</span> or <a href=\"#\" data-bind='click:showAnswers'>show the answers</a>.</div><div data-bind=\"visible: hasWordBank() &amp;&amp; mode()==&quot;quiz&quot;\"><div class=\"mtm fwb\">Word Bank</div><div data-bind=\"foreach: words\" class=\"mts\"><div data-bind=\"text:$data\" class=\"lfloat mhl\"></div></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: readyForSubmit() &amp;&amp; canShowSubmitBtns() &amp;&amp; mode()==&quot;quiz&quot;\" class=\"mtm\"><div class=\"models-ques-SubmitBtns\"></div></div></div></div>"}),deftmp("models.ques.quiz.Flashcard",{template:"<div class=\"models-ques-quiz-Flashcard models-ques-quiz-Ques\"><div data-bind=\"css:{cardFlip:flipped}, event: {mouseover:mouseover, mouseout:mouseout}\" class=\"theFlashcard\"><div data-bind=\"click: clickCard, css:{correct: isCloze() &amp;&amp; accuracy(),incorrect: isCloze() &amp;&amp; accuracy()==false}\" class=\"the-front\"><div class=\"flashcard cardFront wikify\"></div></div><div data-bind=\"visible:!sentConfidence() &amp;&amp; (confidenceSelVisible() || mouseover())\" class=\"mts\"><div class=\"models-ques-SubmitBtns\"></div></div></div><div data-bind=\"visible:sentConfidence\" class=\"accuracy-box\"><div data-bind=\"visible:mode()==&quot;quiz&quot;\" class=\"center\"><div style=\"font-size: 16px\" class=\"title\">How did you do?</div><div class=\"flex-center\"><div><button data-bind=\"click: beforeSubmit(1), css:{tip:!window.mobile.mobile()}\" style=\"width:120px\" title=\"Shortcut key: 1\" class=\"thin box button green tip\">I got it</button><div data-bind=\"visible: hasRepeatTimes, click: setRepeatIntervals\" class=\"repeat-msg\"><span class=\"fas fa-cog\"/> <span data-bind='text: repeatTimeIfCorrect'/></div></div><div class=\"mlm\"><button data-bind=\"click: beforeSubmit(0), css:{tip:!window.mobile.mobile()}\" style=\"width:120px\" title=\"Shortcut key: 4\" class=\"thin box button red tip\">I missed it</button><div data-bind=\"visible: hasRepeatTimes, click: setRepeatIntervals\" class=\"repeat-msg\"><span class=\"fas fa-cog\"/> <span data-bind='text: repeatTimeIfIncorrect'/></div></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: customRepeatVisible\"><div data-bind=\"click:setRepeatOverride(&quot;off&quot;)\" class=\"rateButton btn btn-danger btn-sm mrs\">Never</div><div data-bind=\"click:setRepeatOverride(&quot;1m&quot;)\" class=\"rateButton btn btn-primary btn-sm mrs\">in 1m</div><div data-bind=\"click:setRepeatOverride(&quot;10m&quot;)\" class=\"rateButton btn btn-primary-darker btn-sm mrs\">in 10m</div><div data-bind=\"click:setRepeatOverride(&quot;1d&quot;)\" class=\"rateButton btn btn-primary-darkest btn-sm\">in 1d</div></div></div></div><div data-bind=\"visible: mode()==&quot;graded&quot; &amp;&amp; responses().length\" class=\"mtl\"><div class=\"fwb\">Response History</div><div data-bind=\"foreach: responses\" class=\"mlm\"><div class=\"mts\"><span data-bind=\"style:{&quot;background-color&quot;:color}\" class=\"scoreboard-circle\"></span><span>&nbsp;</span><span data-bind=\"text: text\"></span></div></div></div></div>"}),deftmp("models.ques.quiz.FlashcardSideview",{template:"<div class=\"models-ques-quiz-FlashcardSideview models-ques-quiz-Flashcard models-ques-quiz-Ques\"><div data-bind=\"visible: mainView.hasBack() &amp;&amp; mainView.flipped()\" class=\"theFlashcard\"><div class=\"the-back\"><div class=\"flashcard cardBack mtm wikify\"></div></div></div></div>"}),deftmp("models.ques.quiz.LabelMatching",{template:"<div class=\"models-ques-quiz-LabelMatching models-ques-quiz-Ques option\"><div data-bind=\"visible: !data()\" class=\"center\"><div class=\"busy-large\"></div></div><div data-bind=\"visible: data()\" class=\"question\"><div style=\"margin-top:40px\" class=\"quesStem mbm mtxl wikify\"></div></div></div>"}),deftmp("models.ques.quiz.LabelMatchingSideview",{template:"<div class=\"models-ques-quiz-LabelMatchingSideview models-ques-quiz-LabelMatching models-ques-quiz-Ques option\"><div data-bind=\"visible: data()\" class=\"question\"><div class=\"quesAnswers\"></div><div data-bind=\"visible: mode()==&quot;quiz&quot;\"><div class=\"models-ques-SubmitBtns\"></div><div class=\"mtxl fwb\">Current Matches</div><div class=\"quesMatches\"></div></div><div data-bind=\"visible:mode()==&quot;graded&quot;\" class=\"quesExpSection mtm\"><div data-bind=\"visible:mainView.hasExp\" class=\"fwb mtl mbs\">Main Explanation</div><div class=\"quesExp mlm wikify\"></div></div><div class=\"quesFooter\"></div></div></div>"}),deftmp("models.ques.quiz.MultipleChoice",{template:"<div class=\"models-ques-quiz-MultipleChoice models-ques-quiz-Ques\"><div data-bind=\"visible: !data()\" class=\"center\"><div class=\"busy-large\"></div></div><div data-bind=\"visible: data()\" class=\"question mtl\"><div class=\"quesStem mbm wikify\"></div><div class=\"fifty-fifty-container\"><div class=\"models-ques-quiz-EliminationTool\"></div><div class=\"models-ques-DifficultyBar\"></div></div><div class=\"quesAnswers\"></div><div class=\"quesFooter\"></div></div></div>"}),deftmp("models.ques.quiz.MultipleChoiceSideview",{template:"<div class=\"models-ques-quiz-MultipleChoiceSideview models-ques-quiz-MultipleChoice models-ques-quiz-Ques\"><div data-bind=\"visible: data()\" class=\"question\"><div data-bind=\"fadeVisible: mainView.mode() === &quot;graded&quot;\" class=\"question-explanation-section\"><div class=\"explanation-section\"><h3 data-bind=\"visible:hasObjective\" class=\"header\">Objective</h3><div wiki-bin=\"key\" class=\"quesObjective mlm wikify\"></div></div><div class=\"explanation-section\"><h3 data-bind=\"visible:hasKeyPoints\" class=\"header\">Major takeaway</h3><div wiki-bin=\"key\" class=\"quesKeyPoints wikify\"></div></div><div class=\"explanation-section\"><h3 data-bind=\"visible:mainView.hasExp\" class=\"header\">Main explanation</h3><div wiki-bin=\"explanation\" class=\"quesExp wikify\"></div></div></div><div class=\"quesFooter\"></div></div></div>"}),deftmp("models.ques.quiz.TableFlashcard",{template:"<div class=\"models-ques-quiz-TableFlashcard\"></div>"}),deftmp("models.ques.quiz.TrueFalse",{template:"<div class=\"models-ques-quiz-TrueFalse models-ques-quiz-Ques\"><div data-bind=\"visible: !data()\" class=\"center\"><div class=\"busy-large\"></div></div><div data-bind=\"visible: data()\" class=\"question\"><div class=\"quesStem mbm wikify\"></div><div class=\"quesAnswers\"></div><div data-bind=\"visible:mode()==&quot;graded&quot;\" class=\"quesExpSection mtm\"><div data-bind=\"visible:hasExp\" class=\"fwb mtl mbs\">Main Explanation</div><div class=\"quesExp mlm wikify\"></div></div><div class=\"quesFooter\"></div></div></div>"}),deftmp("models.ques.ref.Block",{template:"<div class=\"models-ques-ref-Block\"><div class=\"mtm quesReferences\"></div></div>"}),deftmp("models.ques.ref.BookRef",{template:"<div class=\"models-ques-ref-BookRef\"></div>"}),deftmp("models.ques.ref.BookSectionRef",{template:"<div class=\"models-ques-ref-BookSectionRef\"></div>"}),deftmp("models.ques.ref.Container",{template:"<div class=\"models-ques-ref-Container\"><div data-bind=\"visible: editing\"><div class=\"ui-SelectBox refTypeSelect\"></div></div><div class=\"mbm\"><div class=\"reference\"></div><div data-bind=\"visible: !editing() &amp;&amp; parent.parent.parent.mode()==&quot;edit&quot;\"><div data-bind=\"visible: !readonly()\"><ul style=\"margin-top:-3px\" class=\"actionControls\"><li><a href=\"#\" data-bind=\"click:edit\" style=\"font-size:80%\">Edit</a></li><li><a href=\"#\" data-bind=\"click:remove\" style=\"font-size:80%\">Remove</a></li></ul><div class=\"clearfix\"></div></div><div data-bind=\"visible: readonly\"><ul style=\"margin-top:-3px\" class=\"actionControls\"><li><a href=\"#\" data-bind=\"click:remove\" style=\"font-size:80%\">Remove</a></li></ul><div class=\"clearfix\"></div><div data-bind=\"click:remove\" style=\"font-size:80%\">This reference is read only</div></div></div></div><div data-bind=\"visible: editing\"><form style=\"width:500px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8\"><button data-bind=\"click:preview\" class=\"btn btn-sm btn-primary\">Save Reference</button><button data-bind=\"click:cancel\" class=\"btn btn-default btn-sm mls\">Cancel</button></div></div></form><div class=\"clearfix\"></div></div></div>"}),deftmp("models.ques.ref.JournalRef",{template:"<div class=\"models-ques-ref-JournalRef\"></div>"}),deftmp("models.ques.ref.NodeRef",{template:"<div class=\"models-ques-ref-NodeRef\"><div data-bind=\"visible: editing\"><div class=\"mts\"></div><div class=\"ui-SelectBox refSelect multiple\"></div></div><div data-bind=\"visible: !editing()\"><div data-bind=\"text: title\" class=\"fwb\"></div><div data-bind=\"foreach:topics\" class=\"mlm\"><div data-bind=\"text: $data\"></div></div></div></div>"}),deftmp("models.ques.ref.WebRef",{template:"<div class=\"models-ques-ref-WebRef\"></div>"}),deftmp("models.ques.ref.standard",{template:"<div><div data-bind=\"visible: !editing()\"><div data-bind=\"html: formattedRef\"></div></div><div data-bind=\"visible: editing\"><div data-bind=\"visible: (refType()==&quot;bk&quot; || refType()==&quot;bkS&quot;) &amp;&amp; (bookRefs().length &gt; 1)\" class=\"mts\"><div class=\"ui-SelectBox bookSelect\"></div></div><div class=\"mtm\"><form style=\"width:500px\" class=\"form-horizontal\"><div data-bind=\"foreach: fields\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label data-bind=\"text:title\" class=\"control-label col-md-4\"></label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"attr:{placeholder:help}, value:value\" style=\"min-width:200px\" class=\"testInput\"/><div><button data-bind=\"visible: searchMode(), click: onSearch\" class=\"btn btn-primary btn-sm\">Search</button><img data-bind='visible: searchMode()==\"busy\"' src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"width:20px\" class=\"mls\"><span data-bind=\"visible: searchMode() &amp;&amp; !$root.showDOIExp()\" class=\"mls\"><a href=\"#\" data-bind=\"click: $root.explainDOI($root)\" style=\"font-size:80%\">What's a DOI?</a></span><div data-bind=\"visible: searchMode() &amp;&amp; $root.showDOIExp()\">A DOI (Digital Object Identifier) uniquely identifies a journal article and can be used to automatically import a reference. It generally looks something like this 10.7326/M13-2286 and sometimes can be found in pubmed but almost always can be found on the journal's page for the article.</div></div></div><div class=\"clearfix\"></div></div></div></form></div></div></div>"}),deftmp("models.ques.view.AnswerChoice_edit",{template:"<div class=\"models-ques-view-AnswerChoice_edit\"><div style=\"width:20px\" class=\"lfloat ansInput\"><input data-bind=\"visible: mode()==&quot;edit&quot;, attr:{name:&quot;ques&quot;+name()+&quot;Choices&quot;,value:value(), type: query}, checked: selected\"/></div><div style=\"width:90%\" data-placeholder=\" \" class=\"lfloat answerChoice froalaObject simpleBar\"></div><div class=\"clearfix\"></div><div data-bind=\"visible: expMode()==&quot;allowed&quot; &amp;&amp; mode()==&quot;edit&quot;\"><a href=\"#\" style=\"font-size:90%\" data-bind=\"click:createExp\" class=\"fwb\">Click Here to Explain Why This Choice is Right/Wrong</a></div><div data-bind=\"visible: expMode()==&quot;show&quot;\"><div style=\"background-color:#EEE\" data-theme=\"purple\" data-placeholder=\"Explain this answer choice\" class=\"answerExplanation froalaObject multiline\"></div><div data-bind=\"visible: window.useStrictEdits\"><div data-bind=\"visible: expWordCount() &lt;= 50, css: {&quot;fc-warn&quot;: expWordCount() &lt; 20}\"><span data-bind='text: expWordCount'/> words (range: 20-50 words)</div><div data-bind=\"visible: expWordCount() &gt; 50\" class=\"fcr\">Explanation exceeds 50 words (currently <span data-bind='text: expWordCount'/> words)!</div><div data-bind=\"visible: isCorrect\"><div data-bind=\"visible: expWordCount() &gt; 0\" class=\"fcr fwb\">The correct answer should be explained in the main explanation below.</div></div></div></div><div class=\"mbm\"></div></div>"}),deftmp("models.ques.view.AnswerChoice_view",{template:"<div class=\"models-ques-view-AnswerChoice_view\"><div data-bind=\"css:{correctAns:isCorrect}\" class=\"lfloat ansInput\"><span data-bind='text:value'/>.&nbsp;</div><div class=\"lfloat\"><div data-bind=\"css:{correctAns:isCorrect}\" data-placeholder=\" \" class=\"answerChoice froalaObject simpleBar wikify\"></div><div style=\"background-color:#EEE\" data-theme=\"purple\" data-placeholder=\"Explain this answer choice\" class=\"answerExplanation froalaObject multiline wikify\"></div></div><div class=\"clearfix\"></div></div>"}),deftmp("models.ques.view.FillInFactoid",{template:"<div class=\"models-ques-view-FillInFactoid\"><div data-bind=\"visible:parent.mode()==&quot;edit&quot;\" class=\"fwb fcr\">Please Note: This question type is scheduled to be retired. Use cloze deletion in Flashcards instead.</div><div data-bind=\"visible:parent.mode()==&quot;edit&quot;\">Anything underlined will become a blank in quiz mode. Ex: Skip is a <u>dog</u> becomes Skip is a ____.</div><div data-theme=\"light-blue\" class=\"froalaObject multiline noattach\"></div><div class=\"models-ques-AdvancedTools\"></div><div class=\"fp80 mtl\">Because this question type is legacy only. You cannot save it to the group.</div></div>"}),deftmp("models.ques.view.Flashcard",{template:"<div class=\"models-ques-view-Flashcard\"><div class=\"card-face card-front wikify\"><div data-theme=\"light-blue\" data-title=\"Front of card\" class=\"card-body flashcardFront froalaObject multiline\"></div></div><div data-bind=\"visible:parent.mode()==&quot;edit&quot;\" class=\"cloze-types mbs mts fp80\"><span>Cloze Style:&nbsp;</span><a href=\"\" tabindex=\"-1\" data-bind=\"visible: clozeType()==&quot;0&quot;, click: setCloze(&quot;0&quot;), css: {active: clozeType()==&quot;0&quot;}\">None</a><a href=\"\" tabindex=\"-1\" data-bind=\"click: setCloze(&quot;u&quot;), css: {active: clozeType()==&quot;u&quot;}\">Single blank (Underline)</a><a href=\"\" tabindex=\"-1\" data-bind=\"click: setCloze(&quot;ua&quot;), css: {active: clozeType()==&quot;ua&quot;}\">All blank</a><a href=\"\" tabindex=\"-1\" data-bind=\"click: setCloze(&quot;a&quot;), css: {active: clozeType()==&quot;a&quot;}\">Anki-style</a></div><div style=\"font-size:90%\" data-bind=\"visible: parent.mode()==&quot;edit&quot;, html: clozeDescr\"></div><div data-bind=\"visible: hasBack\" class=\"card-face card-back wikify\"><div data-bind=\"visible:parent.mode()!=&quot;quiz&quot;\" data-theme=\"light-blue\" data-title=\"Back of card (optional if using cloze deletion)\" class=\"card-body flashcardBack froalaObject multiline\"> </div></div><div data-bind=\"visible: hasContent() &amp;&amp; parent.mode()==&quot;edit&quot;\" class=\"quality-controls\"><div><span class=\"fwb\"> Flashcard Style: <span class=\"green\" data-bind='visible: minInfo() && usesCloze()'>Great Job!</span> <span class=\"fcr\" data-bind='visible: !minInfo() || !usesCloze()'>Consider these changes before publishing to the group</span></span> <a href=\"\" class=\"fp80\" data-bind='click: publishAnyway, visible: !minInfo() || !usesCloze()'>Publish anyway</a></div><div class=\"mlm\"><div><span data-bind=\"css: {&quot;fa-check green&quot;: minInfo, &quot;fa-times fcr&quot;: !minInfo()}\" class=\"fa\"></span><span> Obeys the minimum information principle <a href='' class=\"fp80\" data-bind='visible: !minInfoHelp(), toggle: minInfoHelp'>Learn more</a></span></div><div data-bind=\"visible: !minInfo()\" class=\"fcr fp80 mll\">Card is too detailed</div><div data-bind=\"visible: minInfoHelp\" class=\"mll\"><div><b>The minimum information principle</b> for flashcards states that repetitions of simple items are easier to remember and easier to schedule. In general try to make cards 200 characters or less.</div></div><div><span data-bind=\"css: {&quot;fa-check green&quot;: usesCloze, &quot;fa-times fcr&quot;: !usesCloze()}\" class=\"fa\"></span><span> Uses cloze deletion or is image <a href='' class=\"fp80\" data-bind='visible: !usesClozeHelp(), toggle: usesClozeHelp'>Learn more</a></span></div><div data-bind=\"visible: usesClozeHelp\" class=\"mll\"><b>Cloze deletion is easy and effective</b><ul><li>Short factual statements with 1-2 blanks have been shown to be the most effective for spaced repetition.</li><li>Cloze cards are easier for other people to understand b/c they provide context and easier for you to understand weeks after you create them as well.</li><li>Instead of writing \"What collagen defect is present in osteogenesis imperfecta\", write \"{{Type I}} collagen deficiency causes osteogenesis imperfecta.\"</li></ul><b>How to make a cloze card</b><ul><li>A cloze is simply a factual statement or definition with an important term deleted.</li><li>By default, anything you <u>underline</u> on the <b>front</b> of a flashcard will be blanked out when presented.</li><li>To speed things up while typing, use {{braces}} and underlines will be automatically inserted when you save.</li><li>Use Ctrl/Cmd+S to save and you'll find that creating and saving cloze cards is incredibly easy.</li></ul></div></div></div></div>"}),deftmp("models.ques.view.LabelMatching",{template:"<div class=\"models-ques-view-LabelMatching\"><div data-theme=\"purple\" class=\"quesStem froalaObject multiline mbs\"></div><div data-bind=\"visible: parent.mode()==&quot;edit&quot;\"><div class=\"mbs\"><div style=\"clear:both\"></div><span>Answer Order:&nbsp;</span><div style=\"width: 40%\" class=\"ui-SelectBox labelStyleSel\"></div></div></div><div class=\"mtm quesAnswers\"></div><div data-bind=\"visible: parent.mode()==&quot;edit&quot;\"><a href=\"#\" data-bind=\"click:addAnswerChoice\" class=\"fwb\">Add Answer Choice</a></div><div data-bind=\"visible:parent.mode()!=&quot;quiz&quot;\" data-theme=\"purple\" class=\"mtm quesExplanation froalaObject multiline\"></div><div class=\"models-ques-AdvancedTools\"></div></div>"}),deftmp("models.ques.view.MultipleCheckbox",{template:"<div class=\"models-ques-view-MultipleCheckbox\"><div data-theme=\"purple\" class=\"quesStem froalaObject multiline mbs\"></div><div data-bind=\"visible: parent.__editing\"><div class=\"mbs\"><div style=\"clear:both\"></div><span>Answer Order:&nbsp;</span><div style=\"width: 40%\" class=\"ui-SelectBox answerOrderSel\"></div></div></div><div class=\"mtm quesAnswers\"></div><div data-bind=\"visible: parent.__editing\"><a href=\"#\" data-bind=\"click:addAnswerChoice\" class=\"fwb\">Add Answer Choice</a></div><div data-bind=\"visible:parent.mode()!=&quot;quiz&quot;\" data-theme=\"purple\" class=\"mtm quesExplanation froalaObject multiline\"></div><div class=\"models-ques-ref-Block\"></div></div>"}),deftmp("models.ques.view.MultipleChoice",{template:"<div class=\"models-ques-view-MultipleChoice\"><div data-theme=\"purple\" class=\"quesStem froalaObject multiline mbs wikify\"></div><div data-bind=\"visible: window.useStrictEdits\"><div data-bind=\"visible: stemWordCount() &lt;= 150, css: {&quot;fc-warn&quot;: stemWordCount() &lt; 50}\"><span data-bind='text: stemWordCount'/> words (range: 50-150 words)</div><div data-bind=\"visible: stemWordCount() &gt; 150\" class=\"fcr\">Question stem exceeds 150 words (currently <span data-bind='text: stemWordCount'/> words)!</div></div><div data-bind=\"visible: parent.mode()==&quot;edit&quot;\"><div class=\"mbs\"><div style=\"clear:both\"></div><span>Answer Order:&nbsp;</span><div style=\"width: 75%\" class=\"ui-SelectBox answerOrderSel\"></div></div><div data-bind=\"visible: window.useStrictEdits\"><a href=\"\" data-bind=\"click: alphabetize\" class=\"fp80\">Alphabetize</a></div></div><div data-bind=\"visible: (!parent.style || parent.style() == &quot;list&quot;) || parent.mode()==&quot;edit&quot; || showFeaturedAns()\"><div class=\"mtm quesAnswers\"></div><div data-bind=\"visible: parent.mode()==&quot;edit&quot;\"><a href=\"#\" data-bind=\"click:addAnswerChoice\" class=\"fwb\">Add Answer Choice</a></div><div class=\"fwb mtm\">Main Explanation</div><div data-bind=\"visible:parent.mode()!=&quot;quiz&quot;\" data-theme=\"purple\" class=\"mtm quesExplanation froalaObject multiline wikify\"></div><div data-bind=\"visible: window.useStrictEdits\"><div data-bind=\"visible: expWordCount() &lt;= 200, css: {&quot;fc-warn&quot;: expWordCount() &lt; 100}\"><span data-bind='text: expWordCount'/> words (range: 100-200 words)</div><div data-bind=\"visible: expWordCount() &gt; 200\" class=\"fcr\">Explanation exceeds 200 words (currently <span data-bind='text: expWordCount'/> words)!</div></div><div class=\"models-ques-AdvancedTools\"></div></div><div data-bind=\"visible: parent.style &amp;&amp; parent.style() == &quot;feature&quot; &amp;&amp; parent.mode()!=&quot;edit&quot; &amp;&amp; !showFeaturedAns()\"><button data-bind=\"toggle: showFeaturedAns\" class=\"btn btn-default\">Show Answers</button></div></div>"}),deftmp("models.ques.view.TableFlashcard",{template:"<div class=\"models-ques-view-TableFlashcard\"><div class=\"fwb\">Front of card <span data-bind='visible:parent.__editing'>(what is shown initially, probably should be a fact or image)</span></div><div class=\"flashcardFront froalaObject multiline\"></div><div class=\"mbs mtm\"><span class=\"fwb\">Card Color:</span><div data-bind=\"visible: !parent.__editing()\" style=\"display:inline;width:55px;border: 1px solid gray\" class=\"colorDisplay\"></div><div data-bind=\"visible: parent.__editing\" class=\"colorPicker\"></div></div><div class=\"fwb\">Back of card <span data-bind='visible:parent.__editing'>(what is revealed after submit)</span></div><div class=\"mtm flashcardFields\"></div><div data-bind=\"visible: parent.__editing\" class=\"mtm\"><a href=\"#\" data-bind=\"click:addField\" class=\"fwb\">Add Field</a></div></div>"}),deftmp("models.ques.view.TrueFalse",{template:"<div class=\"models-ques-view-TrueFalse\"><div data-theme=\"light-blue\" class=\"quesStem froalaObject multiline\"></div><div data-bind=\"visible:parent.mode()==&quot;view&quot;, text: ansText\" class=\"mtm viewAns fwb\"></div><div data-bind=\"visible:parent.mode()==&quot;edit&quot; || parent.mode()==&quot;quiz&quot;\" class=\"mtm\"><div class=\"radio\"><label class=\"control-label\"><input type=\"radio\" value=\"t\" data-bind=\"attr:{name:&quot;ques&quot;+name()+&quot;Choices&quot;}, checked: selected\"/><span>True</span></label></div><div class=\"radio\"><label class=\"control-label\"><input type=\"radio\" value=\"f\" data-bind=\"attr:{name:&quot;ques&quot;+name()+&quot;Choices&quot;}, checked: selected\"/><span>False</span></label></div></div><div data-bind=\"visible:parent.mode()!=&quot;quiz&quot;\" data-theme=\"light-blue\" class=\"mtm quesExplanation froalaObject multiline\"></div><div class=\"models-ques-AdvancedTools\"></div></div>"}),deftmp("models.resource.AtomContainer",{template:"<div class=\"models-resource-AtomContainer\"><div class=\"resources\"></div></div>"}),deftmp("models.resource.BookRefContainer",{template:"<div class=\"models-resource-BookRefContainer wikify\"><div data-bind=\"text: title\" class=\"fwb\"></div><div data-bind=\"foreach: resources\"><span data-bind=\"html: name()+&quot; &quot;+page()\" class=\"content-text\"></span><div data-bind=\"foreach: children\"><div style=\"font-size:90%\" data-bind=\"html: $data.ref, css: {alpha20: !$data.active}\" class=\"mll content-text\"></div></div></div></div>"}),deftmp("models.resource.FactContainer",{template:"<div data-bind=\"visible: flashcardCount\" class=\"models-resource-FactContainer\"><a href=\"\" data-bind=\"visible: unscheduledCount, ajax: scheduleAll\">Add <span data-bind='text: unscheduledCount()'/> facts to the review feed for tomorrow</a><div href=\"\" data-bind=\"visible: scheduledCount\" class=\"fp80\"><span data-bind='text: scheduledCount()'/> of these facts are already scheduled</div><div class=\"flashcard\"></div><div data-bind=\"visible: !showingAll() &amp;&amp; flashcardCount() &gt; 10\" class=\"center\"><a href=\"\" data-bind=\"click: showMore\">Show <span data-bind='text: flashcardCount()-10'/> More Facts</a></div></div>"}),deftmp("models.resource.SingleFact",{template:"<div class=\"models-resource-SingleFact\"><div style=\"margin-top:20px\"><div data-bind=\"visible: !showingAnswer()\" class=\"fp80 show-answer\"><a href=\"\" data-bind=\"click: showAnswer, event: {mouseover: showAnswer}\" class=\"rfloat\">Mouse Over for Answer</a><div class=\"clearfix\"></div></div><span data-bind=\"visible: justScheduledMsgVisible() &amp;&amp; scheduledMsg() == &quot;Remove from queue&quot;\" class=\"fp80\">This card will appear in your queue (<a href=\"\" data-bind='ajax: flag'>click here</a> to remove)</span><span data-bind=\"visible: !justScheduledMsgVisible() &amp;&amp; scheduledMsg() == &quot;Remove from queue&quot;\" class=\"fp80\">This card is in your queue (<a href=\"\" data-bind='ajax: flag'>click here</a> to remove)</span><div class=\"flag\"><a data-bind=\"visible: scheduledMsg() != &quot;Remove from queue&quot;, ajax: flag, attr: {title: scheduleHint, &quot;data-original-title&quot;: scheduleHint}\" class=\"btn btn-md btn-outline btn-primary\"><i class=\"fi fi-flashcard-bolt\"></i><span data-bind=\"text: scheduledMsg\"></span></a></div><div class=\"cardFront\"></div><div class=\"cardBack hidden\"></div></div></div>"}),deftmp("models.scheduleClassic.BookToDo",{template:"<div data-bind=\"visible: visible, css:{&quot;fa-orange&quot;:title.indexOf(&quot;First Aid&quot;) &gt; -1, &quot;blue&quot;: title.indexOf(&quot;First Aid&quot;) == -1, dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-BookToDo models-scheduleClassic-ToDo\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3><span data-bind=\"text: title\" class=\"source\"></span><span class=\"sep\">:</span><span data-bind=\"visible: todo.pEnd-todo.pStart &gt; 0\" class=\"subject\">p.<span data-bind='text: todo.pStart'/>-<span data-bind='text: todo.pEnd'/></span><span data-bind=\"visible: todo.pEnd-todo.pStart == 0\" class=\"subject\">p.<span data-bind='text: todo.pStart'/></span></h3><div data-bind=\"visible: todo.sub\" class=\"secondary\"><span data-bind='text: todo.sub'/></div></div><div class=\"secondary-section\"><span class=\"count\"><span data-bind=\"visible: todo.pEnd-todo.pStart == 0\">1 page</span><span data-bind=\"visible: todo.pEnd-todo.pStart &gt; 0\"><span data-bind='text: (todo.pEnd-todo.pStart)+1'/> pages</span><div data-bind=\"visible: doToday\" style=\"font-weight: 200\" title=\"Finish this today to stay on schedule\" class=\"do-today tip\">Complete today</div></span></div></div>"}),deftmp("models.scheduleClassic.ConceptToDo",{template:"<div class=\"models-scheduleClassic-ConceptToDo\"><div class=\"checkbox-status\"><div data-bind=\"visible:state() != &quot;later&quot; &amp;&amp; state() != &quot;ignore&quot;, click: changeState(&quot;done&quot;)\" class=\"status-type done\"><i class=\"square\"></i><i data-bind=\"visible: state()==&quot;done&quot;\" class=\"fa fa-check\"></i></div></div><div class=\"concept-info\"><a href=\"\" data-bind=\"attr: {href: link.u || link.v}\" target=\"_blank\" class=\"thumb\"><img src=\"\" data-bind=\"attr: {src: &quot;https://osmose-it.s3.amazonaws.com/&quot;+link.$}\" class=\"resource-thumbnail\"/><div class=\"thumb-overlay\"><i data-bind=\"visible:link.u\" class=\"fas fa-external-link-alt\"></i><i data-bind=\"visible:link.v\" class=\"fa fa-play\"></i></div></a><a href=\"\" data-bind=\"attr: {href: link.u || link.v}, text: link.t\" target=\"_blank\" class=\"name mlm\"></a></div><div class=\"concept-cta\"><a href=\"\" data-bind=\"attr: {href: link.u || link.v}\" target=\"_blank\" class=\"cta rounded-btn rounded-btn-success rounded-btn-sm\"><span data-bind=\"html:(link.u) ? &quot;View Resource&quot; : &quot;Play Video&quot;\">   </span></a></div></div>"}),deftmp("models.scheduleClassic.CrunchTime",{template:"<div class=\"models-scheduleClassic-CrunchTime\"><div class=\"alert alert-success\"><div>Congrats! You've made it to the end of your study schedule and now it's crunch time!</div><div>Here are some tips on what to do during these last few days:</div><ul><li>Make sure you understand the explanations of ALL the UWorld questions including incorrect answer explanations</li><li>Make sure you to repeat ALL UWorld questions that you have missed in the past</li><li>Take the time to LOOK UP CONCEPTS on Osmosis that you missed in UWorld and use the relevant resources on each CONCEPT PAGE to reinforce the knowledge</li><li>You might consider scheduling an additional full length exam if you have one left over.</li><li><b>Relax:</b> This might be the most important piece of advice. You've made it this far, you're well prepared, and you're going to do great!</li></ul></div></div>"}),deftmp("models.scheduleClassic.DailyGoalChecklist",{template:"<div data-bind=\"css:{&quot;has-todos&quot;:customTodos}\" class=\"models-scheduleClassic-DailyGoalChecklist mlm\"><h4>Today's Goals</h4><div class=\"goal-todos mll\"></div><a href=\"\" data-bind=\"click: addCustomGoal\" class=\"custom-goal\"> <i class=\"fa fa-plus\"></i>add custom goal</a></div>"}),deftmp("models.scheduleClassic.DaysOffEditor",{template:"<div class=\"models-scheduleClassic-DaysOffEditor\"><div data-bind=\"visible: mode()==&quot;view&quot;\"><div data-bind=\"visible: modified\" class=\"alert alert-warning\">Click \"Apply Edits\" to finalize.</div><h4>Days Off<a href=\"\" data-bind=\"click: addDaysOff\" style=\"font-size: 70%\" class=\"mls\">Add</a></h4><div data-bind=\"foreach: dates\"><div><div data-bind=\"click: $root.removeRange($data)\" class=\"remove-range\">&times;</div><span data-bind=\"visible: start != stop\"><span data-bind=\"text: moment(start).format(&quot;MMM D&quot;)\"></span><span> -&nbsp;</span><span data-bind=\"text: moment(stop).format(&quot;MMM D&quot;)\"></span></span><span data-bind=\"visible: start == stop\"><span data-bind=\"text: moment(start).format(&quot;MMM D&quot;)\"></span></span></div></div></div><div data-bind=\"visible: mode()==&quot;add&quot;\"><div class=\"add-days mll\"></div></div></div>"}),deftmp("models.scheduleClassic.DividerToDo",{template:"<div class=\"models-scheduleClassic-DividerToDo mtm\"></div>"}),deftmp("models.scheduleClassic.ExamDay",{template:"<div class=\"models-scheduleClassic-ExamDay\"><div><span data-bind='text: exam==\"nbme\" ? \"NBME\" : \"UWorld\"'/> Form <span data-bind='text: form'/></div><div data-bind=\"visible: mode()==&quot;prompt&quot;\"><div class=\"form-group\"><input type=\"text\" data-bind=\"value: score\" placeholder=\"Exam Score\" class=\"form-control\"/></div><button data-bind=\"ajax: submitScore\" class=\"btn btn-primary mls\">Mark as Complete</button><div data-bind=\"visible: mode()==&quot;display&quot;\"></div></div><div data-bind=\"visible: mode()==&quot;display&quot;\"><b>Score</b> <span data-bind='text: score'/></div></div>"}),deftmp("models.scheduleClassic.FixedVideoToDo",{template:"<div data-bind=\"visible: visible, css:{dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-FixedVideoToDo models-scheduleClassic-ToDo blue\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3><span data-bind=\"text: title\" class=\"source\"></span></h3><div data-bind=\"visible: todo.sub\" class=\"secondary\"><span data-bind='text: todo.sub'/>    </div></div><div class=\"secondary-section\"><span data-bind=\"visible: todo.count == 1\" class=\"count\">1 video</span><span data-bind=\"visible: todo.count != 1\" class=\"count\"><span data-bind='text: todo.count'/> videos</span></div></div>"}),deftmp("models.scheduleClassic.ItemBankToDo",{template:"<div data-bind=\"visible: visible, css:{green:todo.type==&quot;flashcards&quot;, purple:todo.type==&quot;questions&quot;, dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-ItemBankToDo models-scheduleClassic-ToDo\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3><span data-bind='text: count'/> <span data-bind='text: title'/></h3><div class=\"secondary\"><span data-bind='text: todo.title'/></div></div><div class=\"secondary-section\"><span style=\"margin-top: 8px\" data-bind=\"ajax: addToQueue\" class=\"rounded-btn rounded-btn-purple rounded-btn-md add-to-queue\"><span>Save to queue</span></span><span style=\"margin-top: 5px; margin-right: 2px\" data-bind=\"ajax: buildQuiz\" class=\"rounded-btn rounded-btn-sm\"><span>Build Quiz</span></span><div data-bind=\"visible: doToday\" style=\"font-weight: 200\" title=\"Finish this today to stay on schedule\" class=\"do-today tip\">Complete today</div></div></div>"}),deftmp("models.scheduleClassic.OsmosisToDo",{template:"<div data-bind=\"visible: visible, css:{dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-OsmosisToDo models-scheduleClassic-ToDo blue\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3 data-bind=\"text: title\"></h3><div class=\"secondary\"><span data-bind='text: todo.title'/></div></div><div class=\"secondary-section\"><div data-bind=\"toggle: conceptsVisible, css: {&quot;rounded-btn-sm&quot;: conceptsVisible, &quot;rounded-btn-md&quot;: !conceptsVisible()}\" class=\"rounded-btn rounded-btn-primary\"><span data-bind=\"visible: !conceptsVisible() &amp;&amp; conceptCount()==1, text: verb+&quot; 1 &quot;+predicate\"></span><span data-bind=\"visible: !conceptsVisible() &amp;&amp; conceptCount()!=1, text: verb+&quot; &quot;+conceptCount()+&quot; &quot;+predicate+&quot;s&quot;\"></span><span data-bind=\"visible: conceptsVisible\">collapse</span></div><div data-bind=\"visible: doToday\" style=\"font-weight: 200\" title=\"Finish this today to stay on schedule\" class=\"do-today tip\">Complete today</div></div><div data-bind=\"visible: conceptsVisible\" class=\"concept-subsection\"></div></div>"}),deftmp("models.scheduleClassic.PagesToDo",{template:"<div data-bind=\"visible: visible, css: {dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-PagesToDo models-scheduleClassic-ToDo blue\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3><span data-bind=\"text: title\" class=\"source\"></span></h3><div data-bind=\"visible: todo.sub\" class=\"secondary\"><span data-bind='text: todo.sub'/>      </div></div><div class=\"secondary-section\"><span class=\"count\"><span data-bind=\"visible: todo.count == 1\">1 page</span><span data-bind=\"visible: todo.count != 1\"><span data-bind='text: todo.count'/> pages</span><div data-bind=\"visible: doToday\" style=\"font-weight: 200\" title=\"Finish this today to stay on schedule\" class=\"do-today tip\">Complete today</div></span></div></div>"}),deftmp("models.scheduleClassic.QBankToDo",{template:"<div data-bind=\"visible: visible, css:{dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-QBankToDo models-scheduleClassic-ToDo blue\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3><span data-bind=\"text: title\" class=\"source\"></span></h3><div data-bind=\"visible: todo.sub\" class=\"secondary\"><span data-bind='text: todo.sub'/>    </div></div><div class=\"secondary-section\"><span class=\"count\"><span data-bind='text: todo.count'/> questions</span></div></div>"}),deftmp("models.scheduleClassic.ScheduleDay",{template:"<div data-bind=\"attr:{&quot;data-timestamp&quot;:timestamp}\" class=\"models-scheduleClassic-ScheduleDay\"><h3><span data-bind='text: title'/></h3><div data-bind=\"visible: isRestartDay\"><div class=\"alert alert-success\">Congrats! You've finished the first dedicated pass of your schedule! You'll now make a second pass of the same material so you can strengthen your weak areas.</div></div><div class=\"models-scheduleClassic-DailyGoalChecklist\"></div><div class=\"sections mlm\"></div><div data-bind=\"visible: isFreeDay\"><div class=\"alert alert-success\">Take today off! (or use it to catch up)</div></div><hr/></div>"}),deftmp("models.scheduleClassic.ScheduleSection",{template:"<div class=\"models-scheduleClassic-ScheduleSection mbxxl\"><h4><span data-bind='text: section.title'/></h4><div class=\"section-todos mll\"></div></div>"}),deftmp("models.scheduleClassic.Target",{template:"<div class=\"models-scheduleClassic-Target\"><div class=\"rfloat\"><div data-bind=\"click: remove\" class=\"close\">&times;</div></div><div><span data-bind='html: behavior'/> <input class=\"datepicker\" type='text' data-bind='value: targetDate, attr: {placeholder: descr}'/></div><div class=\"mts\"><div class=\"topicSelect multiple\"></div></div><hr/></div>"}),deftmp("models.scheduleClassic.ToDoState",{template:"<div class=\"models-scheduleClassic-ToDoState\"><div class=\"checkbox-status\"><div data-bind=\"visible:state() != &quot;later&quot; &amp;&amp; state() != &quot;ignore&quot;, click: changeState(&quot;done&quot;)\" class=\"status-type done\"><i class=\"square\"></i><i data-bind=\"visible: state()==&quot;done&quot;\" class=\"fa fa-check\"></i></div><div data-bind=\"visible: state() == &quot;later&quot;\" class=\"status-type later\"><i class=\"fas fa-clock\"></i></div><div data-bind=\"visible:state()==&quot;ignore&quot;\" class=\"status-type ignore\"><i class=\"fa fa-eye-slash\">   </i></div></div><div class=\"more-actions\"><i class=\"fa fa-caret-down\"></i><div class=\"more-actions-dropdown\"><ul><li data-bind=\"visible: state()==&quot;done&quot;, click:changeState(&quot;&quot;)\"><i class=\"fa fa-check\"></i><span>Uncheck</span></li><li data-bind=\"visible: state()!=&quot;done&quot;, click:changeState(&quot;done&quot;)\"><i class=\"fa fa-check\"></i><span>Mark as Complete</span></li><li data-bind=\"click:changeState(&quot;later&quot;)\"><i class=\"fas fa-clock\"></i><span>Return to Later</span></li><li data-bind=\"click:changeState(&quot;ignore&quot;)\"><i class=\"fa fa-eye-slash\"></i><span>Ignore</span></li></ul></div></div></div>"}),deftmp("models.scheduleClassic.VideoToDo",{template:"<div data-bind=\"visible: visible, css:{teal:title.indexOf(&quot;Pathoma&quot;) &gt; -1, dimmed: state()==&quot;ignore&quot;, done: state()==&quot;done&quot;}\" class=\"models-scheduleClassic-VideoToDo models-scheduleClassic-ToDo\"><div class=\"primary-action\"><div class=\"models-scheduleClassic-ToDoState\"></div></div><div class=\"primary-info\"><h3><span data-bind=\"text: title\" class=\"source\"></span><span class=\"sep\">:</span><span data-bind=\"text: todo.sub\" class=\"subject\"></span></h3><div class=\"secondary\"><span data-bind='text: todo.title'/></div></div><div class=\"secondary-section\"><span class=\"count\">Time: <span data-bind='text: todo.min'/>:<span data-bind='text: pad(todo.sec,2)'/></span><div data-bind=\"visible: doToday\" style=\"font-weight: 200\" title=\"Finish this today to stay on schedule\" class=\"do-today tip\">Complete today</div></div></div>"}),deftmp("models.step1_calendar.Day",{template:"<div data-bind=\"css: {     empty: empty,     &quot;other-month&quot;: otherMonth,     &quot;is-clickable&quot;: (!empty &amp;&amp; !otherMonth),     &quot;in-week-view&quot;: mode === &quot;WeekView&quot;,     &quot;empty-week&quot;: emptyWeek,     &quot;current-day&quot;: currentDay,     &quot;free-day&quot;: freeDay,     &quot;exam-day&quot;: examDay   }, attr: { &quot;data-date&quot;: otherMonth ? fullDate + &quot;-OM&quot; : fullDate }\" class=\"models-step1_calendar-Day day\"><div data-bind=\"text: date\" class=\"day-number\"></div><div data-bind=\"visible: !empty\" class=\"day-info-heading\"><div data-bind=\"text: borderWidth === &quot;default&quot; ? topic : &quot;&quot;, css: &quot;fc-&quot; + color, click: dayInfoHeadingClicked\" class=\"day-info-title\"></div><div data-bind=\"css: borderWidth + &quot; bc-&quot; + color\" class=\"day-info-seperator\"></div></div><div data-bind=\"visible: !empty, css: { &quot;free-day&quot;: freeDay, &quot;exam-day&quot;: examDay }\" class=\"day-info\"><div data-bind=\"text: subTopics, visible: !freeDay &amp;&amp; !examDay\" class=\"day-info-description\"></div><div data-bind=\"visible: freeDay\" class=\"day-info-free-day\"><div data-bind=\"visible: mode === &quot;WeekView&quot;\"><div class=\"ti ti-resp\"></div></div><div>Take today off!</div><div>(or use it to catch up)</div></div><div data-bind=\"visible: examDay\" class=\"day-info-exam-day\"><div data-bind=\"visible: mode === &quot;WeekView&quot;\"><div class=\"ti ti-psych\"></div></div><div data-bind=\"text: examTitle\"></div></div></div><div data-bind=\"visible: mode === &quot;WeekView&quot; &amp;&amp; !freeDay &amp;&amp; !examDay, foreach: summary\" class=\"day-checkbox-items-container\"><div data-bind=\"css: { &quot;none-to-do&quot;: !count }\" class=\"day-checkbox-item\"><div class=\"day-checkbox\"><i data-bind=\"css: { &quot;fa-check&quot;: checked }\" class=\"fa\"></i></div><div class=\"day-checkbox-name\"> <span data-bind=\"text: count\"></span><span>&nbsp;</span><span data-bind=\"text: label\"></span></div></div></div><div data-bind=\"visible: !empty &amp;&amp; !freeDay &amp;&amp; !examDay, click: dayInfoClicked\" class=\"day-info-click-overlay\"></div></div>"}),deftmp("models.step1_calendar.MobileTopicView",{template:"<div class=\"models-step1_calendar-MobileTopicView\"><div class=\"topic\"></div></div>"}),deftmp("models.step1_calendar.MobileView",{template:"<div class=\"models-step1_calendar-MobileView\"><div class=\"models-step1_calendar-SidebarCalendar\"></div><div class=\"seperator\"></div><div class=\"models-step1_calendar-MobileTopicView\"></div></div>"}),deftmp("models.step1_calendar.Month",{template:"<div class=\"models-step1_calendar-Month month\"><div class=\"month-title-wrapper\"><div class=\"month-title\"><span data-bind=\"text: name\"></span>&nbsp;<span data-bind=\"text: year\"></span></div></div><div class=\"weeks-container\"></div></div>"}),deftmp("models.step1_calendar.MonthView",{template:"<div class=\"models-step1_calendar-MonthView\"><div data-bind=\"css: { &quot;previous-loading&quot;: previousLoading }, click: previousLoadingClick\" class=\"months-previous-loading-block\"><i data-bind=\"visible: !firstMonthInSchedule()\" class=\"fa fa-arrow-up months-loading-arrow left\"></i><div data-bind=\"visible: !firstMonthInSchedule()\" class=\"months-loading-text\"><span data-bind=\"text: window.mobile.mobile() ? &quot;Tap&quot; : &quot;Click&quot;\"></span>&nbsp;to load the previous month</div><div data-bind=\"visible: firstMonthInSchedule()\" class=\"months-loading-text\">This is the beginning of your schedule!</div><i data-bind=\"visible: !firstMonthInSchedule()\" class=\"fa fa-arrow-up months-loading-arrow right\"></i><div class=\"spin-loader\"></div></div><div class=\"months-container\"></div><div data-bind=\"css: { loading: loading }, click: nextLoadingClick\" class=\"months-loading-block\"><i data-bind=\"visible: !lastMonthInSchedule()\" class=\"fa fa-arrow-down months-loading-arrow left\"></i><div data-bind=\"visible: !lastMonthInSchedule()\" class=\"months-loading-text\">Keep scrolling to load the next month</div><div data-bind=\"visible: lastMonthInSchedule()\" class=\"months-loading-text\">You've reached the end of your schedule! Add more courses&nbsp;<span data-bind=\"click: endOfScheduleCTAClicked\" class=\"endCTA\">here</span>.</div><i data-bind=\"visible: !lastMonthInSchedule()\" class=\"fa fa-arrow-down months-loading-arrow right\"></i><div class=\"spin-loader\"></div></div></div>"}),deftmp("models.step1_calendar.SidebarCalendar",{template:"<div data-bind=\"css: { mobile: mobileView }\" class=\"models-step1_calendar-SidebarCalendar\"><div class=\"header\"><div class=\"month-year\"><span data-bind=\"text: monthName\"></span>&nbsp;<span data-bind=\"text: monthYear\"></span></div><div class=\"control-container\"><div data-bind=\"click: prevMonth\" class=\"control\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"click: nextMonth\" class=\"control\"><i class=\"fa fa-angle-right\"></i></div></div></div><div data-bind=\"foreach: month\" class=\"month\"><div data-bind=\"visible: $index() === 0\" class=\"week heading\"><div class=\"day heading\">S</div><div class=\"day heading\">M</div><div class=\"day heading\">T</div><div class=\"day heading\">W</div><div class=\"day heading\">T</div><div class=\"day heading\">F</div><div class=\"day heading\">S</div></div><div data-bind=\"foreach: $data\" class=\"week\"><div data-bind=\"click: $root.dateClicked(),                       css: {                         &quot;other-month&quot;: $data.otherMonth,                         &quot;current-date&quot;: $data.currentDate,                         &quot;selected-date&quot;: (!$data.otherMonth) &amp;&amp; $data.date === $root.selectedDate().date() &amp;&amp; $root.currentDate.month() === $root.selectedDate().month() &amp;&amp; $root.currentDate.year() === $root.selectedDate().year()                       }\" class=\"day\"><div class=\"day-mobile-background\"></div><span data-bind=\"text: $data.date\"></span><div data-bind=\"css: $data.borderWidth + &quot; bc-&quot; + $data.color, visible: $root.mobileView &amp;&amp; !$data.otherMonth &amp;&amp; !$data.empty\" class=\"day-info-seperator\"></div></div></div></div></div>"}),deftmp("models.step1_calendar.SidebarTopic",{template:"<div class=\"models-step1_calendar-SidebarTopic sidebar-topic-controls\"><div class=\"sidebar-topic-controls-arrows-container\"><div data-bind=\"click: goToPrevBlock, visible: prevBlock().blockNum &lt; currentBlock().blockNum\" class=\"sidebar-topic-controls-arrow\"><div class=\"sidebar-topic-controls-arrow-top\">PREVIOUSLY</div><div data-bind=\"text: prevBlock().name\" class=\"sidebar-topic-controls-arrow-bottom\"></div></div><div data-bind=\"click: goToNextBlock, visible: nextBlock().blockNum &gt; currentBlock().blockNum\" class=\"sidebar-topic-controls-arrow\"><div class=\"sidebar-topic-controls-arrow-top\">UP NEXT</div><div data-bind=\"text: nextBlock().name\" class=\"sidebar-topic-controls-arrow-bottom\"></div></div></div><div data-bind=\"foreach: currentBlock().days\" class=\"sidebar-topic-controls-selectors-container\"><div data-bind=\"visible: $index() === 0\" class=\"sidebar-topic-controls-selector-title\"><span data-bind=\"text: $parent.currentBlock().name, css: &quot;fc-&quot; + color\"></span><div data-bind=\"css: &quot;bc-&quot; + color\" class=\"sidebar-topic-title-seperator\"></div></div><div data-bind=\"text: moment($data.date).format(&quot;dddd, MMMM Do&quot;), click: $root.selectorClickHandler()\" class=\"sidebar-topic-controls-selector\"></div></div><div class=\"sidebar-seperator\"></div></div>"}),deftmp("models.step1_calendar.Subtopic",{template:"<div data-bind=\"visible: name &amp;&amp; name!=&quot;Free&quot;\" class=\"models-step1_calendar-Subtopic subtopic\"><div class=\"subtopic-title\"><span data-bind=\"text: name\" class=\"fwb\"></span><div class=\"subtopic-title-border\"></div></div><div class=\"todo-container\"></div><div class=\"mobile-todo-side-container\"></div></div>"}),deftmp("models.step1_calendar.Todo",{template:"<div data-bind=\"visible: shownInFilters(), css: { mobile: mobileView, mobileSide: mobileSideView, complete: status() === &quot;checked&quot; }\" class=\"models-step1_calendar-Todo\"><div data-bind=\"visible: mobileSideView, click: close\" class=\"todo-mobile-side-action\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"css: { fa: type.indexOf(&quot;fa&quot;) === 0, ques: type === &quot;questions&quot;, fc: type === &quot;flashcards&quot;, vid: type === &quot;osmosis&quot; || type === &quot;picmonic&quot; || type === &quot;qbank&quot; || type === &quot;uworld&quot; || type === &quot;sketchy&quot;, pa: type === &quot;pathoma&quot; }, visible: type !== &quot;exam&quot;\" class=\"todo-border\"></div><div class=\"todo\"><div draggable=\"true\" class=\"todo-drag\"><i class=\"fa fa-ellipsis-v\"></i><i class=\"fa fa-ellipsis-v\"></i></div><div data-bind=\"click: checkClicked\" class=\"todo-checkbox\"><i data-bind=\"css: { &quot;fa-check&quot;: status() === &quot;checked&quot;, &quot;fa-clock&quot;: status() === &quot;later&quot;, &quot;fa-eye-slash&quot;: status() === &quot;ignore&quot; }\" class=\"fa\"></i><div class=\"square\"></div></div><div class=\"todo-dropdown\"><i class=\"fa fa-caret-down\"></i><div class=\"todo-dropdown-menu\"><div data-bind=\"visible: status() !== &quot;unchecked&quot;, click: $root.dropdownClickHandler(&quot;unchecked&quot;)\" class=\"todo-dropdown-menu-item\"><i class=\"fa fa-times\"></i>Uncheck</div><div data-bind=\"visible: status() !== &quot;checked&quot;, click: $root.dropdownClickHandler(&quot;checked&quot;)\" class=\"todo-dropdown-menu-item\"><i class=\"fa fa-check\"></i>Mark as Complete</div><div data-bind=\"click: $root.dropdownClickHandler(&quot;later&quot;)\" class=\"todo-dropdown-menu-item\"><i class=\"fa fa-clock\"></i>Return to Later</div><div data-bind=\"click: $root.dropdownClickHandler(&quot;ignore&quot;)\" class=\"todo-dropdown-menu-item\"><i class=\"fa fa-eye-slash\"></i>Ignore</div><div data-bind=\"visible: group!=&quot;core&quot;, click: $root.dropdownClickHandler(&quot;remove&quot;)\" class=\"todo-dropdown-menu-item\"><i class=\"fa fa-trash-alt\"></i>Remove</div></div></div><div data-bind=\"visible: type !== &quot;exam&quot;\" class=\"todo-info\"><div class=\"todo-title\"><span data-bind=\"text: name\"></span>&nbsp;<span data-bind=\"text: nameExtra\" class=\"todo-title-extra\"></span></div><div class=\"todo-sub-title\"><span data-bind=\"text: topicName\"></span><span data-bind=\"visible: topicName\">:&nbsp;</span><span data-bind=\"text: subtopicName\"></span></div><div data-bind=\"text: blockName\" class=\"todo-block-number\"></div><!--.todo-block-numberBlock #<span data-bind=\"text: blockNum + 1\"></span>--></div><div data-bind=\"visible: mobileView, click: onMobileActionClick\" class=\"todo-mobile-action\"><i class=\"fa fa-angle-right\"></i></div><div data-bind=\"visible: !mobileView\" class=\"todo-action-container\"><div data-bind=\"visible: type === &quot;picmonic&quot;\" class=\"todo-action todo-action-fc-ques todo-action-picmonic\"><div data-bind=\"click: toggleSubitemsVisible\" class=\"todo-action-button\">Study&nbsp;<span data-bind=\"text: count\"></span>&nbsp;Picmonic<span data-bind=\"visible: count !== 1\">s</span></div></div><div data-bind=\"visible: type === &quot;flashcards&quot; || type === &quot;questions&quot;\" class=\"todo-action todo-action-fc-ques\"><div data-bind=\"ajax: addToQueue\" class=\"todo-action-button todo-action-button-save-to-queue\">Save to Queue</div><div data-bind=\"ajax: buildQuiz\" class=\"todo-action-button todo-action-button-build-quiz\">Build Quiz</div></div><div data-bind=\"visible: type === &quot;osmosis&quot; || type === &quot;sketchy&quot;\" class=\"todo-action todo-action-video\"><div data-bind=\"click: toggleSubitemsVisible\" class=\"todo-action-button\">Watch&nbsp;<span data-bind=\"text: count\"></span>&nbsp;Video<span data-bind=\"visible: count !== 1\">s</span></div></div><div data-bind=\"visible: type === &quot;video&quot;\" class=\"todo-action todo-action-misc\"><div class=\"todo-action-text\"><span data-bind=\"text: count\"></span>&nbsp;Video<span data-bind=\"visible: count !== 1\">s</span></div></div><div data-bind=\"visible: type.indexOf(&quot;fa&quot;) === 0 || type === &quot;pages&quot; || type === &quot;book&quot;\" class=\"todo-action todo-action-misc\"><div class=\"todo-action-text\"><span data-bind=\"text: count\"></span>&nbsp;Page<span data-bind=\"visible: count !== 1\">s</span></div></div><div data-bind=\"visible: type === &quot;pathoma&quot; || type === &quot;boardsAndBeyond&quot;\" class=\"todo-action todo-action-misc\"><div class=\"todo-action-text\">Time:&nbsp;<span data-bind=\"text: count\"></span></div></div><div data-bind=\"visible: type === &quot;qbank&quot; || type === &quot;uworld&quot;\" class=\"todo-action todo-action-misc\"><div class=\"todo-action-text\"><span data-bind=\"text: count\"></span>&nbsp;Question<span data-bind=\"visible: count !== 1\">s</span></div></div><div data-bind=\"visible: type === &quot;exam&quot;\" class=\"todo-action todo-action-practice-exam\"><input type=\"number\" data-bind=\"value: examScore, valueUpdate: [&quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;keyup&quot;, &quot;input&quot;]\" class=\"exam-score\"/><div class=\"exam-score-placeholder-text\">Exam score:</div><div data-bind=\"click: submitExamScoreClickHandler, css: { valid: examScore() != &quot;&quot; }, text: submittedExamScore() ? &quot;Re-Enter&quot; : &quot;Enter&quot;\" class=\"todo-action-button\">Enter</div></div></div></div><div data-bind=\"visible: type === &quot;exam&quot; &amp;&amp; submittedExamScore()\" class=\"todo-exam-message\"><div class=\"todo-exam-message-icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cd78875588fdaed98dba341b24f43a1aeaf7f3f3.png\"></div><div class=\"todo-exam-message-text\">Congrats! You've finished a full length practice exam in your schedule. Tell your friends how Osmosis helped you study!</div></div><div data-bind=\"visible: subitemsVisible()\" class=\"todo-subitem-container\"></div></div>"}),deftmp("models.step1_calendar.TodoSubitem",{template:"<div class=\"models-step1_calendar-TodoSubitem todo-subitem\"><div data-bind=\"click: checkClicked\" class=\"todo-subitem-checkbox\"><i data-bind=\"css: { &quot;fa-check&quot;: status() === &quot;checked&quot;, &quot;fa-clock&quot;: status() === &quot;later&quot;, &quot;fa-eye-slash&quot;: status() === &quot;ignore&quot; }\" class=\"fa\"></i><div class=\"square\"></div></div><a data-bind=\"click: playItem, attr: { href: url }\" target=\"_blank\" class=\"todo-subitem-img\"><img data-bind=\"attr: { src: img }\"/></a><a data-bind=\"text: title, click: playItem, attr: { href: url }\" target=\"_blank\" class=\"todo-subitem-title\"></a><div data-bind=\"visible: !mobileSideView\" class=\"todo-subitem-action\"><a data-bind=\"click: playItem, attr: { href: url }\" target=\"_blank\" class=\"todo-subitem-action-button\"><span data-bind=\"visible: type === &quot;osmosis&quot;\">Play Video</span><span data-bind=\"visible: type !== &quot;osmosis&quot;\">View Resource</span></a></div></div>"}),deftmp("models.step1_calendar.TopicDay",{template:"<div data-bind=\"attr: { &quot;data-date&quot;: date }, css: { popup: popup, mobile: mobileView }\" class=\"models-step1_calendar-TopicDay topic-day\"><div class=\"topic-title\"><div data-bind=\"text: name, css: &quot;fc-&quot; + color\" class=\"topic-title-name\"></div><div data-bind=\"text: displayDate\" class=\"topic-title-date\"></div><div data-bind=\"css: &quot;bc-&quot; + color\" class=\"topic-title-border\"></div></div><div class=\"todo-add-custom-goal-wrapper\"><div class=\"todo-add-custom-goal-spacer\"></div><div data-bind=\"click: addCustomGoal\" class=\"todo-add-custom-goal\">+ Add Custom Goal</div></div><div class=\"subtopic-container\"></div></div>"}),deftmp("models.step1_calendar.TopicPopup",{template:"<div class=\"models-step1_calendar-TopicPopup\"><div data-bind=\"click:close\" class=\"bg-overlay\"></div><div class=\"content\"><div class=\"topic\"></div></div></div>"}),deftmp("models.step1_calendar.TopicView",{template:"<div class=\"models-step1_calendar-TopicView main-topic-container-wrapper\"><div class=\"main-topic-container\"><div class=\"topic\"></div><div data-bind=\"visible: firstLoadDone, css: { loading: isLoading }, click: loadNext\" class=\"topic-loading-block\"><div class=\"topic-loading-text\">Click here to load the next day</div><div class=\"spin-loader\"></div></div><div data-bind=\"visible: firstLoadDone, css: { loading: isLoading }, click: loadNextWeek\" class=\"topic-loading-block\"><div class=\"topic-loading-text\">Click here to load the&nbsp;<span data-bind=\"text: loadingMode() === &quot;day&quot; &amp;&amp; moment(lastLoadedDate()).day() !== 6 ? &quot;current&quot; : &quot;next&quot;\"></span>&nbsp;week</div><div class=\"spin-loader\"></div></div></div></div>"}),deftmp("models.step1_calendar.Week",{template:"<div data-bind=\"css: { &quot;in-week-view&quot;: mode === &quot;WeekView&quot;, empty: empty }, attr: { &quot;data-date&quot;: fullDate }\" class=\"models-step1_calendar-Week week\"><div class=\"day-headings-container\"><div class=\"day-heading\">Sun</div><div class=\"day-heading\">Mon</div><div class=\"day-heading\">Tue</div><div class=\"day-heading\">Wed</div><div class=\"day-heading\">Thu</div><div class=\"day-heading\">Fri</div><div class=\"day-heading\">Sat</div></div><div class=\"week-side\"> <div class=\"week-side-text\">Week&nbsp;<span data-bind=\"text: num\"></span></div></div><div class=\"days-container\"></div></div>"}),deftmp("models.step1_calendar.WeekView",{template:"<div class=\"models-step1_calendar-WeekView\"><div data-bind=\"css: { &quot;previous-loading&quot;: previousLoading }, click: previousLoadingClick\" class=\"months-previous-loading-block\"><i data-bind=\"visible: !firstMonthInSchedule()\" class=\"fa fa-arrow-up months-loading-arrow left\"></i><div data-bind=\"visible: !firstMonthInSchedule()\" class=\"months-loading-text\"><span data-bind=\"text: window.mobile.mobile() ? &quot;Tap&quot; : &quot;Click&quot;\"></span>&nbsp;to load the previous month</div><div data-bind=\"visible: firstMonthInSchedule()\" class=\"months-loading-text\">This is the beginning of your schedule!</div><i data-bind=\"visible: !firstMonthInSchedule()\" class=\"fa fa-arrow-up months-loading-arrow right\"></i><div class=\"spin-loader\"></div></div><div class=\"months-container\"></div><div data-bind=\"css: { loading: loading }, click: nextLoadingClick\" class=\"months-loading-block\"><i data-bind=\"visible: !lastMonthInSchedule()\" class=\"fa fa-arrow-down months-loading-arrow left\"></i><div data-bind=\"visible: !lastMonthInSchedule()\" class=\"months-loading-text\">Keep scrolling to load the next month</div><div data-bind=\"visible: lastMonthInSchedule()\" class=\"months-loading-text\">You've reached the end of your schedule! Add more courses&nbsp;<span data-bind=\"click: endOfScheduleCTAClicked\" class=\"endCTA\">here</span>.</div><i data-bind=\"visible: !lastMonthInSchedule()\" class=\"fa fa-arrow-down months-loading-arrow right\"></i><div class=\"spin-loader\"></div></div></div>"}),deftmp("models.step1_calendar.modal.Feedback",{template:"<div class=\"models-step1_calendar-modal-Feedback\"><div class=\"schedule-modal-description\">How did the schedule work for you?<br/>We'd love to know how to make it even better!</div><textarea id=\"userfeedback\" name=\"userfeedback\" data-bind=\"value: userFeedback, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"feedback-user-feedback\"></textarea></div>"}),deftmp("models.step1_calendar.modal.MobileApp",{template:"<div class=\"models-setp1_calendar-modal-MobileApp\"></div>"}),deftmp("models.step1_calendar.modal.Over",{template:"<div class=\"models-step1_calendar-modal-Over\"><div class=\"schedule-modal-description\">You\u2019re all done with your schedule,<br/>let\u2019s set up another schedule to help you study!</div><div class=\"over-cta-container\"><div data-bind=\"click: nopeClicked\" class=\"over-cta\"><div class=\"over-cta-image-wrapper\"><img src=\"/assets/images/icons/guest_O_03.png\"/></div><div class=\"over-cta-description\">No thanks, I don't want to set up another schedule</div></div><div data-bind=\"click: setupClicked\" class=\"over-cta\"><div class=\"over-cta-image-wrapper\"><img src=\"/assets/images/icons/Thumbsup.png\"/></div><div class=\"over-cta-description\">Sounds good, set up another schedule</div></div></div></div>"}),deftmp("models.step1_calendar.modal.ScheduleModal",{template:"<div data-bind=\"visible: modalVisible\" class=\"models-step1_calendar-modal-ScheduleModal\"><div class=\"schedule-modal\"><div class=\"schedule-modal-title-bar\"><div data-bind=\"text: modalTitle\" class=\"schedule-modal-title\"></div><div data-bind=\"click: exitClicked\" class=\"schedule-modal-close\">Exit</div></div><div class=\"schedule-modal-content-container\"></div><div data-bind=\"foreach: ctas, visible: ctas().length\" class=\"schedule-modal-cta-container\"><button data-bind=\"text: title, click: $root.onClickCTAHandler, css: styles() + (enabled() ? &quot; enabled&quot; : &quot; disabled&quot;)\" class=\"schedule-modal-cta\"></button></div></div><div data-bind=\"visible: confirmationDialogModalVisible\" class=\"schedule-confirmation-modal-wrapper\"><div data-bind=\"css: confirmationDialogOptions.theme\" class=\"schedule-confirmation-modal\"><div class=\"schedule-confirmation-modal-title-bar\"><div data-bind=\"text: confirmationDialogOptions.title\" class=\"schedule-confirmation-modal-title\"></div></div><div class=\"schedule-confirmation-modal-content-container\"><div data-bind=\"text: confirmationDialogOptions.content\" class=\"schedule-confirmation-modal-description\"></div></div><div class=\"schedule-confirmation-modal-cta-container\"><button data-bind=\"text: confirmationDialogOptions.no.title, click: getConfirmationDialogCTAClicked(&quot;no&quot;)\" class=\"schedule-confirmation-modal-cta no\"></button><button data-bind=\"text: confirmationDialogOptions.yes.title, click: getConfirmationDialogCTAClicked(&quot;yes&quot;)\" class=\"schedule-confirmation-modal-cta yes\"></button></div></div></div></div>"}),deftmp("models.step1_calendar.modal.Setup",{template:"<div class=\"models-step1_calendar-modal-Setup\"><div class=\"schedule-modal-description\">What's the schedule for?</div><div class=\"setup-cta-container\"><div class=\"setup-cta active\"><div class=\"setup-cta-title\">Classes</div><div class=\"setup-cta-description\">I'm studying for <span class=\"emph\">class exams</span></div></div><div class=\"setup-cta\"><div class=\"setup-cta-title\">Boards</div><div class=\"setup-cta-description\">I'm studying for <span class=\"emph\">board</span> exams</div></div><div class=\"setup-cta\"><div class=\"setup-cta-title\">Both</div><div class=\"setup-cta-description\">I'm studying for both <span class=\"emph\">class</span> and <span class=\"emph\">board</span> exams</div></div><div class=\"setup-cta\"><div class=\"setup-cta-title\">Summer Review</div><div class=\"setup-cta-description\">I'm not in classes now and I'm <span class=\"emph\">preparing</span> for or <span class=\"emph\">reviewing</span> material</div></div></div></div>"}),deftmp("models.study.ActionItem",{template:"<div class=\"models-study-ActionItem\"><div data-bind=\"visible: action()==&quot;priming&quot;\"><div data-bind=\"visible: dashboard.primeAvailableCount\"><div>Quickly skim <a href='' data-bind='click: trigger()'>these <b data-bind='text: dashboard.primeAvailableCount'>30</b> facts</a> <u>before</u> the lecture <a style='font-size:80%' href='' data-bind='click: learn(\"priming\")'>Learn why</a></div></div><div data-bind=\"visible: !dashboard.primeAvailableCount()\">hmmm... looks like we couldn't match any high-yield facts to this material. But go ahead and read the documents and look for the links to identified terms.</div><div data-bind=\"visible: dashboard.primeAvailableCount\"></div></div><div data-bind=\"visible: action()==&quot;consolidation&quot;\"><div data-bind=\"visible: dashboard.primeAvailableCount\"><div data-bind=\"visible: dashboard.primeAvailableCount\">Take a <a href='' data-bind='click: trigger(\"primeQuiz\")'>short quiz</a> to commit the <b data-bind='text: dashboard.primeAvailableCount'></b> quick facts to long-term memory <a style='font-size:80%' href='' data-bind='click: learn(\"quick-consolidation\")'>Learn why</a></div><div data-bind=\"visible: dashboard.fcAvailableCount\">Then take a <a href='' data-bind='click: trigger(\"fcQuiz\")'>quiz</a> on the <b data-bind='text: dashboard.fcAvailableCount'></b> flashcards you and your classmates wrote <a style='font-size:80%' href='' data-bind='click: learn(\"fc-consolidation\")'>Learn why</a></div><div data-bind=\"visible: !dashboard.primeAvailableCount() &amp;&amp; !dashboard.fcAvailableCount()\">Osmosis couldn't find any high-yield facts for this lecture.</div></div><div data-bind=\"visible: !dashboard.primeAvailableCount()\">We couldn't find any facts!</div></div><div data-bind=\"visible: action()==&quot;practice&quot;\"><div data-bind=\"visible: dashboard.quesAvailableCount\">Challenge yourself to <a href='' data-bind='click: trigger()'><b data-bind='text: dashboard.quesAvailableCount'></b> questions</a> that your classmates wrote and repeat them later for interleaved practice <a style='font-size:80%' href='' data-bind='click: learn(\"practice\")'>Learn why</a></div><div data-bind=\"visible: !dashboard.quesAvailableCount()\">There aren't any practice questions written by you or your classmates yet for this material. See \"Pair Studying\" below to sign up.</div></div></div>"}),deftmp("models.study.CourseEventTitle",{template:"<div class=\"models-study-CourseEventTitle\"><h3><span data-bind=\"text:event.title\"></span><span data-bind=\"visible:event.instructor\"> -&nbsp;</span><span data-bind=\"text:event.instructor\"></span></h3><div data-bind=\"html:formattedDate\" class=\"time\"></div><div style=\"margin-top:-6px\"><div data-bind=\"visible: dashboard.controlsVisible\" class=\"ActionLinks eventActions\"><ul data-bind=\"visible: dashboard.mode()==&quot;view&quot;\" class=\"actionControls\"><li data-bind=\"visible: GROUP.contrib\"><a href=\"#\" data-bind=\"click: trigger(dashboard.addDocs)\">Add/Edit Docs</a></li><li data-bind=\"visible: GROUP.admin\"><a href=\"#\" data-bind=\"click: trigger(dashboard.editEvent)\">Edit Event</a></li><li data-bind=\"visible: GROUP.admin &amp;&amp; !event.docs().length\"><a href=\"#\" data-bind=\"click: trigger(dashboard.deleteEvent)\">Delete Event</a></li></ul><div data-bind=\"visible: dashboard.mode()==&quot;edit&quot;\"><a href=\"#\" data-bind=\"click: trigger(dashboard.doneEditing)\">Done</a></div></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: dashboard.mode() == &quot;view&quot; &amp;&amp; window.user.prime.recs\" class=\"mtm\">Here's a plan we've created for you in order to optimize how you study this material.</div></div>"}),deftmp("models.study.MaxEfficiency",{template:"<div class=\"models-study-MaxEfficiency\"><div>These are some other optional techniques that can maximize your ability to cover large amounts of material.</div><ul><li><div><b>Pair Studying</b> <a style='font-size:80%' href='' data-bind='click: learn(\"pair-studying\")'>Learn more</a></div><div style=\"font-size:80%\" class=\"mbm\"><div class=\"signup-status\"><span data-bind=\"text: event.signUpStatus\"></span><span data-bind=\"visible: !userAlreadySignedUp()\"><span data-bind=\"visible: event.signUps().length\"><span> (More than one person can sign up.</span>&nbsp;<a href=\"#\" data-original-title=\"\" data-bind=\"click:signUpForEvent\">Sign up!</a>)</span><span data-bind=\"visible: !event.signUps().length\">&nbsp;<a href=\"#\" data-original-title=\"\" data-bind=\"click:signUpForEvent\">Sign up!</a></span></span></div></div></li><li><div><b>Write your own questions</b> <a style='font-size:80%' href='' data-bind='click: learn(\"question-writing\")'>Learn more</a></div></li><li><div><b>Respond to push notifications</b> <a style='font-size:80%' href='' data-bind='click: learn(\"push-notifications\")'>Learn more</a></div></li></ul></div>"}),deftmp("models.study_calendar.MultiScheduleDay",{template:"<div data-bind=\"css: { &quot;is-today&quot;: isToday, &quot;free-day&quot;: isFreeDay() &amp;&amp; !canDropTopic(), &quot;complete&quot;: complete() &amp;&amp; examComplete() &amp;&amp; !canDropTopic(), &quot;outside-bounds&quot;: !withinBounds(), &quot;outside-month&quot;: outsideMonth }\" class=\"models-study_calendar-MultiScheduleDay\"><div class=\"multi-schedule-day-wrapper\"><div data-bind=\"click: tabletQuery() ? goToDayView : null\" class=\"multi-schedule-day-container\"><div class=\"title-bar\"><div data-bind=\"click: goToDayView\" class=\"date-container\"><div data-bind=\"text: date.format(&quot;dddd&quot;)\" class=\"day-of-week\"></div><div data-bind=\"visible: inPast &amp;&amp; !isFreeDay() &amp;&amp; !complete()\" class=\"past-due-icon\"><i class=\"fas fa-clock\"></i></div><div data-bind=\"text: date.format(&quot;D&quot;)\" class=\"day-of-month\"></div></div><hr/><div data-bind=\"foreach: topics, visible: !hasExam()\" class=\"topics-container\"><div data-bind=\"css: { expanded: true || $root.expandedTopic() === $index(), &quot;force-size&quot;: forceSize() }, click: $root.expandTopic($index())\" class=\"topic\"><div data-bind=\"css: $root.getTopicBorderColor(name) + &quot; &quot; + $root.getTopicColor(name), clickdisabled: $root.openTopicSettings()\" class=\"topic-name-wrapper topic-bubble\"><!--i.fas.fa-cog--><span data-bind=\"text: name\" class=\"topic-name\"></span></div><!-- ko foreach: subtopics--><span class=\"subtopic-name-wrapper\"><div data-bind=\"text: title, css: $root.getTopicBGColor($parent.name)\" class=\"topic-bubble subtopic-name\"></div></span><!-- /ko--></div></div></div><div data-bind=\"visible: isFreeDay() &amp;&amp; examComplete() &amp;&amp; !canDropTopic()\" class=\"free-day-info\"><div data-bind=\"html: freeDayInfo.icon\" class=\"free-day-icon\"></div><div data-bind=\"html: freeDayInfo.title\" class=\"free-day-title\"></div><div data-bind=\"html: freeDayInfo.subtitle\" class=\"free-day-subtitle\"></div></div><div data-bind=\"visible: !isFreeDay() &amp;&amp; complete() &amp;&amp; examComplete() &amp;&amp; !canDropTopic(), click: openDayView\" class=\"completed-day-info\"><div class=\"completed-day-icon\"><div class=\"fas fa-check-circle\"></div></div><div data-bind=\"html: completedMessage\" class=\"completed-day-title\"></div><div data-bind=\"html: `You completed all ${totalCount() ? totalCount() : &quot;&quot;} tasks.`\" class=\"completed-day-subtitle\"></div></div><div data-bind=\"visible: hasExam() &amp;&amp; !examComplete() &amp;&amp; complete(), click: openDayView\" class=\"exam-day-info\"><div class=\"exam-day-icon\"><i class=\"fas fa-calendar-exclamation\"></i></div><div class=\"exam-day-title\">Full-length practice exam</div></div><div data-bind=\"visible: !complete() || (hasExam() &amp;&amp; !examComplete() &amp;&amp; !complete())\" class=\"todo-count-wrapper\"><div data-bind=\"visible: hasExam() &amp;&amp; !examComplete() &amp;&amp; !complete()\" class=\"todo-count\"><div class=\"todo-count-exam-icon\"><i class=\"fas fa-calendar-exclamation\"></i></div><div class=\"todo-count-str\">Full-length practice exam</div></div><div data-bind=\"foreach: todoCounts, visible: !complete()\" class=\"todo-count-container\"><div data-bind=\"css: { complete: complete }, visible: count &gt; 0\" class=\"todo-count\"><div class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: complete\"/><label data-bind=\"click: $root.checkBoxClicked()\"></label></div><div data-bind=\"text: count\" class=\"todo-count-num\"></div><div data-bind=\"html: $root.parseCountStr($data)\" class=\"todo-count-str\"></div></div></div><div role=\"button\" aria-label=\"Open day view modal\" data-bind=\"click: $root.openDayView\" class=\"todo-count-container-click-handler\"></div></div></div></div></div>"}),deftmp("models.study_calendar.ScheduleDay",{template:"<div data-bind=\"visible: !loading() &amp;&amp; visible() &amp;&amp; withinBounds(), css: css\" class=\"models-study_calendar-ScheduleDay\"><div class=\"schedule-day-header-section\"><div class=\"schedule-day-title\"><span data-bind=\"text: schedule.name\"></span><span data-bind=\"text: ` - ${todos().length} action items`, visible: todos().length &amp;&amp; !isFreeDay() &amp;&amp; !isCompletedDay()\" class=\"schedule-day-title-action-items\"></span></div><i data-bind=\"click: showScheduleActions, clickBubble: false\" class=\"fas fa-ellipsis-h schedule-actions\"></i></div><div data-bind=\"visible: loading, foreach: [1,2,3,4,5,6]\" class=\"loading-container\"><div class=\"loading-box\"></div></div><div data-bind=\"visible: isFreeDay() &amp;&amp; (isDragging() ? draggingSchID() !== scheduleID : true)\" class=\"free-day-info schedule-day-box\"><div data-bind=\"text: freeDayInfo().title\" class=\"free-day-title small\"></div></div><div data-bind=\"visible: isCompletedDay() &amp;&amp; (isDragging() ? draggingSchID() !== scheduleID : true)\" class=\"completed-day-info\"><div class=\"completed-day-icon\"><i class=\"fas fa-check-circle\"></i></div><div data-bind=\"text: completedDayInfo.title\" class=\"completed-day-title\"></div><div data-bind=\"text: todos().length &gt; 1 ? `You completed ${todos().length} tasks` : 'You completed 1 task'\" class=\"completed-day-subtitle\"></div></div><div data-bind=\"css: { &quot;force-size&quot;: isDragging() &amp;&amp; draggingSchID() === scheduleID }\" class=\"todos-container\"></div><div data-bind=\"css: { expanded: completedItemsVisible }\" class=\"schedule-day-box\"><div data-bind=\"click: toggleCompletedItemsVisible, visible: todosLocCount[1]() &gt; 0\" class=\"completed-items-button\"><span data-bind=\"text: completedItemsVisible() ? &quot;Hide&quot; : &quot;Show&quot;\"></span>&nbsp;completed items<span data-bind=\"text: &quot; (&quot; + todosLocCount[1]() + &quot;)&quot;\"></span></div><div data-bind=\"slideVisible: completedItemsVisible\" class=\"completed-todos-container alt-todos-container\"></div></div><div data-bind=\"css: { expanded: savedForLaterItemsVisible }\" class=\"schedule-day-box\"><div data-bind=\"click: toggleSavedForLaterItemsVisible, visible: todosLocCount[2]() &gt; 0\" class=\"saved-for-later-items-button\"><span data-bind=\"text: savedForLaterItemsVisible() ? &quot;Hide&quot; : &quot;Show&quot;\"></span>&nbsp;saved for later<span data-bind=\"text: &quot; (&quot; + todosLocCount[2]() + &quot;)&quot;\"></span></div><div data-bind=\"slideVisible: savedForLaterItemsVisible\" class=\"saved-for-later-todos-container alt-todos-container\"></div></div><div style=\"display: none !important;\" class=\"ignored-todos-container alt-todos-container\"></div></div>"}),deftmp("models.study_calendar.TodoController",{template:"<div data-bind=\"css: `${size()} ${topicClass} ${status()} resource-color-${type} ${isFirstOfClass()}`, visible: !filtered()\" class=\"models-study_calendar-TodoController\"><div data-bind=\"visible: isFirstOfType\" class=\"type-banner\"><div data-bind=\"text: todoTypeText[type]\" class=\"banner-title\"></div></div><div data-bind=\"visible: isFirstOfSub\" class=\"topic-banner tip\"><div data-bind=\"css: {invisible: !topicIcon()}, attr: {&quot;data-title&quot;: topicTip}\" class=\"todo-topic-icon-wrapper tip\"><img data-bind=\"attr:{src: topicIcon()}\" class=\"todo-topic-icon\"/></div><div data-bind=\"text: parsedTitle(), attr: {&quot;data-title&quot;: parsedTitle()}\" class=\"banner-title tip\"></div></div><div data-bind=\"css: { clickable: clickable(), &quot;grab-cursor&quot;: group !== &quot;repeat&quot; }, click: clicked, attr: todoAttrs()\" class=\"todo-controller-wrapper\"><div class=\"todo-done-animation\"><div class=\"done-background\"></div><div class=\"done-content\"><div class=\"done-check fas fa-check\"></div></div></div><div class=\"todo-title-bar\"><div data-bind=\"visible: shouldShowCheckbox()\" class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: checked, attr: { id: `todo-controller-checkbox-${todoControllerID}` }\"/><label data-bind=\"attr: { for: `todo-controller-checkbox-${todoControllerID}` }\"></label></div><div class=\"todo-top-bar-wrapper\"><div class=\"todo-type-section\"><div class=\"left-wrapper\"><div data-bind=\"text: todoTypeText[type]\" class=\"todo-type-text\"><div class=\"type-text\"></div></div><div data-bind=\"html: completedHTML\" class=\"todo-complete-count\"></div></div><div class=\"right-wrapper\"><div class=\"todo-actions\"><div data-bind=\"click: openActions, clickBubble: false\" class=\"todo-actions-icon\"><i class=\"fas fa-ellipsis-h\"></i></div><div class=\"todo-action-container\"></div></div></div></div><div data-bind=\"if: sub &amp;&amp; sub !== title\" class=\"todo-sub-title-wrapper\"><div data-bind=\"text: sub\" class=\"todo-sub-title\"></div></div><div class=\"todo-status-section\"><div class=\"todo-name\"><div data-bind=\"visible: title &amp;&amp; !todo.hideTitle, text: title\" class=\"todo-title\"></div></div></div></div><div data-bind=\"visible: inlineTodo()\" class=\"todo-container-inline\"></div></div><div data-bind=\"visible: !inlineTodo()\" class=\"todo-container\"></div></div></div>"}),deftmp("models.study_calendar.todos.Todo",{template:"<div class=\"models-study_calendar-todos-Todo\"></div>"}),deftmp("models.study_calendar.todos.TodoCustVideo",{template:"<div class=\"models-study_calendar-todos-TodoCustVideo models-study_calendar-todos-Todo\"></div>"}),deftmp("models.study_calendar.todos.TodoExam",{template:"<div class=\"models-study_calendar-todos-TodoExam models-study_calendar-todos-Todo\"><div data-bind=\"visible: checked\" class=\"results-container\"><form><div class=\"text-input\"><label>How did you do?</label><div class=\"flexed-inputs\"><input type=\"text\" placeholder=\"Exam score: 250\" data-bind=\"attr: { disabled: submitted }, value:examScore\"/><input type=\"submit\" value=\"Submit\" data-bind=\"click: submit, attr: { disabled: submitted }\" class=\"button\"/></div></div></form></div><div data-bind=\"fadeVisible: submitted, fadeDirection: 'up'\" class=\"congrats-container\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cd78875588fdaed98dba341b24f43a1aeaf7f3f3.png\" class=\"balloon\"><div class=\"congrats\">Congrats! You completed a practice exam.</div></div></div>"}),deftmp("models.study_calendar.todos.TodoPages",{template:"<div class=\"models-study_calendar-todos-TodoPages models-study_calendar-todos-Todo\"></div>"}),deftmp("models.study_calendar.todos.TodoQBank",{template:"<div class=\"models-study_calendar-todos-TodoQBank models-study_calendar-todos-Todo\"></div>"}),deftmp("models.study_calendar.todos.TodoQuiz",{template:"<div class=\"models-study_calendar-todos-TodoQuiz models-study_calendar-todos-Todo\"></div>"}),deftmp("models.study_calendar.todos.TodoSingleVideo",{template:"<div class=\"models-study_calendar-todos-TodoSingleVideo models-study_calendar-todos-Todo\"></div>"}),deftmp("models.study_calendar.todos.TodoVideo",{template:"<div data-bind=\"slideVisible: expanded\" class=\"models-study_calendar-todos-TodoVideo models-study_calendar-todos-Todo\"><div data-bind=\"css: type\" class=\"video-list-wrapper\"><hr class=\"very-specific-tag-because-css-specificity-is-weird-sometimes\"/><div class=\"ui-VideoList\"></div></div></div>"}),deftmp("models.study_calendar.views.DayView",{template:"<div data-bind=\"css: theme() + &quot; &quot; + style + &quot; &quot; + todayClass()\" class=\"models-study_calendar-views-DayView\"><div data-bind=\"visible: onboardingHints().length\" class=\"day-view-onboarding\"><div class=\"day-view-onboarding-header\"><button data-bind=\"click: toggleOnboardingHints\" class=\"box button left-icon\"><i class=\"fas fa-info-circle\"></i>Best practices &amp; FAQs</button></div><div data-bind=\"fadeVisible: onboardingHintsVisible, fadeDirection: &quot;down&quot;, foreach: onboardingHints\" class=\"day-view-onboarding-hint-container\"><div data-bind=\"css: &quot;onboarding-&quot; + type + &quot;-type&quot;\" class=\"day-view-onboarding-hint\"><div data-bind=\"click: $root.closeOnboardingHint()\" class=\"day-view-onboarding-hint-close\"><i class=\"fas fa-times day-view-onboarding-hint-close-icon\"></i></div><div data-bind=\"html: title\" class=\"day-view-onboarding-hint-title\"></div><!-- ko if: $data.src--><div class=\"day-view-onboarding-hint-image-wrapper\"><img data-bind=\"attr: { src: src }\" class=\"day-view-onboarding-hint-image\"/></div><!-- /ko--><!-- ko if: $data.message--><div data-bind=\"html: message\" class=\"day-view-onboarding-hint-message\"></div><!-- /ko--><!-- ko if: $data.items--><div data-bind=\"foreach: items\" class=\"day-view-onboarding-hint-item-container\"><div data-bind=\"html: $data\" class=\"day-view-onboarding-hint-item\"></div></div><!-- /ko--><!-- ko if: $data.cta && $data.action--><button data-bind=\"html: $data.cta, click: $data.action\" class=\"button blue day-view-onboarding-hint-cta\"></button><!-- /ko--><!-- ko if: $data.cta && $data.href--><a target=\"_blank\" data-bind=\"css: $data.classes, html: $data.cta, attr: { href: $data.href }\" class=\"button day-view-onboarding-hint-cta\"></a><!-- /ko--></div></div></div><div data-bind=\"css: { &quot;calendar-box&quot;: style !== &quot;plain&quot; }\" class=\"day-view-wrapper\"><div class=\"day-view-control-bar\"><div class=\"day-view-date-container\"><div data-bind=\"click: goToPrevDay\" class=\"day-view-date-arrow left\"><i class=\"fas fa-chevron-left\"></i></div><div data-bind=\"html: dateHTML\" class=\"day-view-date\"></div><div data-bind=\"click: goToNextDay\" class=\"day-view-date-arrow right\"><i class=\"fas fa-chevron-right\"></i></div></div><div class=\"day-view-controls-container\"><div role=\"button\" aria-label=\"Theme button\" tabindex=\"0\" data-bind=\"click: openThemeMenu, clickBubble: false\" class=\"day-view-theme-control\"><i class=\"fas fa-th-list\"></i><i class=\"fas fa-chevron-down\"></i></div><div class=\"day-view-theme-menu\"></div><div class=\"day-view-options\"><button data-bind=\"click: openSortByMenu, clickBubble: false\" class=\"thin basic inverted button\">Sort by...</button><span class=\"day-view-sort-menu\"></span><button data-bind=\"click: checkAll\" class=\"thin basic inverted button\">Check all items</button><button data-bind=\"click: uncheckAll\" class=\"thin basic inverted button\">Uncheck all items</button></div><div data-bind=\"visible: theme() !== &quot;kanban&quot;\" class=\"day-view-options-toggle\"><i data-bind=\"click: openOptions, clickBubble: false\" class=\"fas fa-ellipsis-h\"></i></div><span class=\"day-view-options-menu\"></span></div></div><hr class=\"header-divider\"/><div data-bind=\"visible: freeDay\" class=\"all free-day-info schedule-day-box\"><div data-bind=\"html: freeDayInfo().icon\" class=\"free-day-icon\"></div><div data-bind=\"text: freeDayInfo().title\" class=\"free-day-title\"></div><div data-bind=\"text: freeDayInfo().subtitle\" class=\"free-day-subtitle\"></div></div><div data-bind=\"visible:loading, foreach: [1,2,3,4,5,6,7]\" class=\"loading top\"><div class=\"loading-box\"></div></div><div data-bind=\"visible:!loading()\" class=\"schedules-container\"></div><button data-bind=\"click: addCustomGoalDialog\" class=\"box button left-icon schedule-day-button add-custom-item\"> <div class=\"center-container\"><i class=\"fas fa-plus\"></i>Add custom item</div></button></div><div data-bind=\"visible: theme() === &quot;list&quot; &amp;&amp; onboardingHints().length\" class=\"day-view-flex-spacer\"></div></div>"}),deftmp("models.study_calendar.views.MonthView",{template:"<div class=\"models-study_calendar-views-MonthView\"><div class=\"month-view-date-container\"><div data-bind=\"click: goToPrevMonth\" class=\"month-view-date-arrow left\"><i class=\"fas fa-chevron-left\"></i></div><div data-bind=\"html: dateHTML\" class=\"month-view-date\"></div><div data-bind=\"click: goToNextMonth\" class=\"month-view-date-arrow right\"><i class=\"fas fa-chevron-right\"></i></div></div><hr/><div data-bind=\"visible: loading, foreach: new Array(30)\" class=\"loading days-container\"><div class=\"loading-box\"></div></div><div class=\"loaded days-container\"></div></div>"}),deftmp("models.study_calendar.views.WeekView",{template:"<div class=\"models-study_calendar-views-WeekView\"><div class=\"week-view-date-container\"><div data-bind=\"click: goToPrevWeek\" class=\"week-view-date-arrow left\"><i class=\"fas fa-chevron-left\"></i></div><div data-bind=\"html: dateHTML\" class=\"week-view-date\"></div><div data-bind=\"click: goToNextWeek\" class=\"week-view-date-arrow right\"><i class=\"fas fa-chevron-right\"></i></div></div><div data-bind=\"foreach: daysOfTheWeek\" class=\"days-container\"><div class=\"day calendar-box\"><div data-bind=\"visible:$root.loading\" class=\"loading\"><div class=\"loading-header\"></div><div data-bind=\"foreach: [1,2,3,4,5,6,7]\" class=\"loading-boxes\"><div class=\"loading-box\"></div></div></div><div data-bind=\"css: $data, visible:!$root.loading()\" class=\"day-wrapper\"></div></div></div></div>"}),deftmp("modtabs.search.module",{template:"<div class=\"modtabs-search-module\"><div data-bind=\"visible: searching\"><div class=\"center\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"width:25px\"></div></div><div data-bind=\"visible: !searching()\"><h3>Search Results</h3><div data-bind=\"foreach: links\"><h4><a data-bind=\"html: title, click:$root.clickSearchLink($data), attr: {href: urlPrefix+&quot;/study&quot;}\"></a></h4></div><div data-bind=\"visible: objectivesResultsList.length() || regularResultsList.length()\" class=\"mtl\"><div data-bind=\"visible: objectivesResultsList.length()\"><h4>\"<span data-bind='text: keywords'/>\" was found on the objectives slides of the following lectures</h4><div class=\"objectivesResultsList\"></div><div style=\"width:1px; height:50px\"></div></div><div data-bind=\"visible: !objectivesResultsList.length()\"><h4>\"<span data-bind='text: keywords'/>\" was not found on any objectives slides in this module</h4></div><div data-bind=\"visible: regularResultsList.length()\"><h4>\"<span data-bind='text: keywords'/>\" was found in the following lectures</h4><div class=\"regularResultsList\"></div></div></div><div data-bind=\"visible: !(objectivesResultsList.length() || regularResultsList.length())\" class=\"mtl\"><h4>\"<span data-bind='text: keywords'/>\" was not found in documents in this module. Try timeline search to search across modules.</h4></div></div></div>"}),deftmp("page.OsmosisQuest",{template:"<div id=\"top\" class=\"page-OsmosisQuest\"><div class=\"map-trail-wrapper\"><svg width=\"836\" height=\"1686\" viewBox=\"0 0 836 1686\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"map-trail\"><path d=\"M291.425 26.797C372.436 -13.3518 408.441 7.83785 471.339 27.3546C532.458 66.9458 754.989 12.8565 793.495 68.061C818.498 95.3845 832 159.106 832 213.043C832 261.5 788.996 559.89 816 604.5C843.004 649.11 744.488 819.736 697.481 733.862C684.48 722.957 635.263 738.389 646.474 691.482C671.256 587.803 514.305 637.951 478.451 637.951C458.522 637.951 438.594 637.951 418.665 637.951C336.431 597.802 418.665 571.036 352.434 550.962C291.425 510.813 121.654 488.833 78.3957 523.948C20.3877 571.036 206.413 664.717 78.3957 664.717C-113.631 789.624 197.879 773.279 177.52 789.624C154.537 808.077 142.404 851.933 142.404 882.065C142.404 917.445 138.404 952.3 138.404 987.642C138.404 1009.58 148.176 1022.51 156.629 1041.92C186.795 1111.17 51.0587 1084.83 6.38572 1115.28C-27.619 1162.12 147.568 1128.48 138.404 1150.96C96.3982 1188.88 306.427 1115.28 390.439 1115.28C498.454 1101.89 834 1033.3 687.48 1187.21C540.96 1341.11 763.99 1243.53 791.494 1382.38C810.528 1523.76 770.991 1549.33 709.983 1655.05C674.978 1746.17 585.966 1580.89 512.456 1631.63\" stroke=\"#D33B3E\" stroke-width=\"8\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-dasharray=\"8 20\"></path></svg></div><div class=\"content-block-wrapper intro\"><div class=\"content-block\"><div class=\"content-title\"><h1>Osmosis Scavenger Hunt</h1><h3>Compete in the Osmosis Scavenger Hunt!</h3></div><div class=\"content-description\"><p>From Monday, March 25th to Friday, March 29th, begin your quest to win 6 months of Osmosis Prime!</p><br/><b>How to Win:</b><p>1. Complete the Osmosis Scavenger Hunt checklist by exploring Osmosis\u2019s social channels and the Osmosis Prime web and mobile apps to find clues and hidden gems.</p><br/><p>2. Everyone who completes the challenge will earn 1 free month of Osmosis Prime awarded April 5th and be automatically entered into the grand prize drawing for 6 months of Osmosis Prime!</p></div><div class=\"embeded-survey\"><h5>Start your quest</h5><div class=\"survey-wrapper\"><script id=\"smcx-sdk\" type=\"text/javascript\" async=\"true\" src=\"https://widget.surveymonkey.com/collect/website/js/tRaiETqnLgj758hTBazgd6dA_2B_2BC8wNx4EFNwaVYBrBDAJcsdtuuzU_2BueT96Owv6p.js\"></script></div></div></div></div><div class=\"content-block-wrapper fun-zone\"><div class=\"content-block\"><div class=\"scroll-container\"><div class=\"scroll-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/tgxGCBsNRzmyEFe4OaJWK2FkRFiZgv2u.png\"><label class=\"fake-check\"><input type=\"checkbox\" data-bind=\"checked: checkboxes.freeAccount\"/><span style=\"margin-top: 41%\">X</span></label><label class=\"fake-check\"><input type=\"checkbox\" data-bind=\"checked: checkboxes.scavengerHunt\"/><span>X</span></label><label class=\"fake-check\"><input type=\"checkbox\" data-bind=\"checked: checkboxes.freePrime\"/><span>X</span></label></div></div><div class=\"parrot-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cozJ4HtZS_Wlo5Pvv6HNe4wXQlyb4q78.png\"></div><div class=\"skull-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3-xHPsn6S1Kk1T3KO7hDTaGfRemz8Rzd.png\"></div><div class=\"ozzy-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/G07bpCCYSr_BkfRkWks6Y6hORwC7aokj.png\"></div></div></div><div class=\"content-block-wrapper treasures\"><div class=\"content-block\"><div class=\"content-title grey\"><h1>Treasures for learning</h1><h3>Osmosis Features</h3></div><div class=\"chest-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/b3xtT5-nT4myc7e3yFnvG6AWSnSM19CF.png\"></div><div class=\"ui-ToolsMenu\"></div><div class=\"x-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/LQLsMkePS8a_Igi4I-cJeeFsTYySpRl4.png\"></div><svg width=\"282\" height=\"334\" viewBox=\"0 0 282 334\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"small-map-trail-bottom\"><path d=\"M283 4C171 74 -13 254 5.00005 330\" stroke=\"#D33B3E\" stroke-width=\"8\" stroke-linecap=\"round\" stroke-dasharray=\"8 20\"></path></svg><div class=\"small-ozzy-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/G07bpCCYSr_BkfRkWks6Y6hORwC7aokj.png\"></div><a href=\"#top\" class=\"button blue survey-button\">Start the survey</a></div></div><div class=\"content-block-wrapper learnby\"><div class=\"content-block\"><div class=\"content-title center\"><h1>Learn by Osmosis today</h1></div><div class=\"lungs-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d7e328f612dd2990a22234e58dc5870c79d7ba77.png\"></div></div></div></div>"}),deftmp("page.about",{template:"<div class=\"page-about\"><div id=\"landing-about-masthead\"><div class=\"block\"><div class=\"two column grid\"><div class=\"row\"><div class=\"column left\"><h2 class=\"inverted\">Our mission is to empower the world\u2019s clinicians and caregivers with the best learning experience possible.</h2></div><div class=\"column right\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/tb87_xU9QmGeFX-kSwH-iTWZTBeE70XJ.png\" class=\"image\"></div></div></div></div></div><div id=\"landing-about-founders\"><div class=\"block\"><div class=\"grid\"><div class=\"row\"><div class=\"column left\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/bsBICUyQTU22Uk9Az-HfXws3TzmzgJ8p.png\" class=\"image\"></div><div class=\"column right\"><h1>Our founders</h1><p>Ryan Haynes and Shiv Gaglani started building Osmosis as medical students at Johns Hopkins.</p><p>Outside of the classroom, they knew there had to be a better way to learn medicine more effectively. What began as a tool to help Shiv, Ryan, and their classmates has transformed into the Osmosis of today, a comprehensive platform that helps people around the world understand health more thoroughly.</p></div></div></div></div></div><div id=\"landing-about-values\"><div class=\"block\"><h1 class=\"center aligned inverted\">Our values</h1><div class=\"video container center aligned\"><div id=\"values-video-wrapper\"></div></div><div class=\"three column grid\"><div class=\"row\"><div class=\"column\"><h3>Start with the heart</h3><p>We care about each other, our learners, and improving access to medical and health education.</p></div><div class=\"column\"><h3>Spread joy</h3><p>We strive every day to bring joy to our learners and our team.</p></div><div class=\"column\"><h3>Have each other's backs</h3><p>Our learners and teammates can rely on us for support as they work to reach their goals.</p></div></div><div class=\"row\"><div class=\"column\"><h3>Imagine more</h3><p>We work to innovate and draw new connections to bring our learners the best experience possible.</p></div><div class=\"column\"><h3>Open your arms</h3><p>We welcome all learners, and focus on making learning simple and approachable.</p></div><div class=\"column\"><h3>Reach further</h3><p>We\u2019re committed to maximizing our potential and touching more lives.</p></div></div></div></div></div><div id=\"landing-about-team\"><div class=\"block\"><div class=\"header-container\"><div class=\"divider\"></div><h1 class=\"center aligned\">Our team </h1><div class=\"divider\"></div></div><div class=\"team container\"><div data-bind=\"foreach: { data: teamCore, as: &quot;person&quot; }\" class=\"grid\"><div class=\"column\"><div class=\"team-card\"><div data-bind=\"css: { flip: person.imgAlt }\" class=\"team-card-wrapper\"><div class=\"team-card-flip-inner\"><div class=\"team-card-flip-front\"><img data-bind=\"attr: { src: person.img }\" class=\"image\"></div><div data-bind=\"if: person.imgAlt\" class=\"team-card-flip-back\"><img data-bind='attr: { src: \"/assets/images/landing/team/\" + person.imgAlt }' class=\"image\"></div></div></div><div class=\"content\"><h1 data-bind=\"html: person.name\" class=\"name\">Tanner Marshall, MS</h1><p data-bind=\"html: person.title\" class=\"title\">Creative Director</p><i class=\"fas fa-map-marker-alt\">&nbsp;</i><p data-bind=\"html: person.location\" class=\"location\">Vancouver, BC, Canada</p></div></div></div></div></div><div class=\"header-container contributors\"><div class=\"divider\"></div><h1 class=\"center aligned\">Our contributors </h1><div class=\"divider\"></div></div><div class=\"team container\"><div data-bind=\"foreach: { data: teamAux, as: &quot;person&quot; }\" class=\"grid\"><div class=\"column\"><div class=\"team-card\"><div class=\"content\"><h1 data-bind=\"html: person.name\" class=\"name\">Tanner Marshall, MS</h1><p data-bind=\"html: person.title\" class=\"title\">Creative Director</p></div></div></div></div></div></div></div><div id=\"landing-join-cta-block\">   <div class=\"block\"><div class=\"grid\"><div class=\"row\"><div class=\"column left\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/MDUQF6E8TZmZltZhuhBWHhQtTNaGdq-g.png\" class=\"image\"></div><div class=\"column right\"><h2 class=\"inverted\">We\u2019re always looking for people who are passionate about healthcare and education.</h2><div class=\"button-container\"><a href=\"https://help.osmosis.org/open-positions-and-careers\" target=\"_blank\" class=\"button secondary inverted\">Join our team</a></div></div></div></div></div></div><div id=\"contact\"><div class=\"block\"><h1>Contact us</h1><a data-bind=\"attr: {href: &quot;mailto:&quot;+&quot;hi&quot;+&quot;@osmosis.org&quot;}\" target=\"_blank\" class=\"button basic left-icon\"><i class=\"far fa-envelope\"></i>Email</a><a id=\"contact-chat-button\" data-bind=\"click: chatClick\" class=\"button blue left-icon\"><i class=\"fas fa-comment\"></i>Chat</a></div></div></div>"}),deftmp("page.action",{template:"<div class=\"page-action\"><div class=\"container\"><div class=\"row mtl\"><div class=\"col-md-12\"><div class=\"center\"><div data-bind=\"html: message, css: &quot;alert-&quot;+type()\" class=\"alert\"></div><div><a href=\"/\">Click here to return to the home page</a></div></div></div></div></div></div>"}),deftmp("page.admindoc",{template:"<div class=\"page-admindoc\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12 mtl\"><div class=\"fwb\">Document filename</div><div data-bind=\"text: window.docFilename\" class=\"mlm\"></div><div class=\"fwb\">Event</div><div data-bind=\"text: moment(window.event.begin).format(&quot;YYYY-MM-DD HH-mm-ss&quot;)\" class=\"mlm\"></div><div class=\"fwb\">Group name</div><div data-bind=\"text: window.group.name\" class=\"mlm\"></div><div class=\"fwb\">Group url</div><div data-bind=\"text: window.group.url\" class=\"mlm\"></div><div class=\"fwb\">Link module</div><div data-bind=\"text: window.linkModule\" class=\"mlm\"></div><div class=\"fwb\">Doc module</div><div data-bind=\"text: window.docModule\" class=\"mlm\"></div><div class=\"fwb\">Event module</div><div data-bind=\"text: window.eventModule\" class=\"mlm\"></div><div><a href=\"\" data-bind=\"ajax: fix\">Fix document</a></div></div></div></div></div>"}),deftmp("page.adminedit",{template:"<div class=\"page-adminedit\"><div class=\"container\"><div class=\"row\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"fwb\">Search Content</div><form class=\"form-inline\"><div class=\"form-group\"><input type=\"text\" placeholder=\"Content\" data-bind=\"value:query\"/><button type=\"submit\" data-bind=\"ajax:search\" class=\"mls btn btn-primary\">Search</button></div></form><div class=\"quesList\"></div><form class=\"form-inline mtm\"><div class=\"form-group\"><input type=\"text\" placeholder=\"Node ID\" data-bind=\"value:nodeID\"/><button type=\"submit\" data-bind=\"ajax:searchConceptCards\" class=\"mls btn btn-primary\">Search Concept Cards</button></div></form><div data-bind=\"foreach: searchResults\"><div><a data-bind=\"text: name, attr: {href: &quot;/editconcept?term=&quot;+url}\" target=\"_blank\"></a><span> -&nbsp;</span><span data-bind=\"text: tab\"></span></div></div><div data-bind=\"html: packName\"></div><div data-bind=\"visible: searched() &amp;&amp; !searchResults().length &amp;&amp; !packName()\">Not found</div><div class=\"mtl\"><div class=\"fwb\">Add Prime Credit</div><form class=\"form-inline\"><div class=\"form-inline\"><div class=\"radio\"><label><input type=\"radio\" name=\"gender\" value=\"11\" data-bind=\"checked: primeReason\"/> Typo (1 day)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label></div><div class=\"radio\"><label><input type=\"radio\" name=\"gender\" value=\"10\" data-bind=\"checked: primeReason\"/> Factual Error (1 week)&nbsp;&nbsp;</label></div><div class=\"form-group\"><input type=\"text\" placeholder=\"Email Address\" data-bind=\"value:userEmail\"/><button type=\"submit\" data-bind=\"ajax:addPrime\" class=\"mls btn btn-primary\">Add Prime</button></div></div></form></div></div></div></div></div></div>"}),deftmp("page.analyticsBeta",{template:"<div class=\"page-analyticsBeta\"><div class=\"box\"><div class=\"box__body\"><div class=\"box__text\"><h1 class=\"box__heading\">Welcome Admins</h1><p><b>Student analytics has been activated, </b><span>access them from your dashboard, or the side-menu.</span></p><p>Get your coffee ready, this is going to be good.</p></div><div class=\"box__figure\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/oXLPOPr9SrClvk6Gj9GCZh1LSZGVv8aE.png\"></div></div><div class=\"box__footer\"><a href=\"/analytics/summary\" class=\"button olive\">Go to dashboard</a></div></div><div class=\"quote\"><div class=\"quote__text\">\"The goal is to turn data into information, and information into insight\"</div><div class=\"quote__author\">- Carly Fiorina</div></div></div>"}),deftmp("page.ankiBeta",{template:"<div class=\"page-ankiBeta\"><i class=\"fa fa-upload\"></i><h2>Anki Import Has Been Activated!</h2><p class=\"explain\">Here are a few things to know about the beta version:</p><ul><li>While we are actively working on Image Occlusion, it is not yet supported so any occluded cards will be dropped from your deck.</li><li>The interface is subject to change over the next 2-3 weeks as we collect feedback</li></ul><p class=\"closer\">Please remember that this is a beta version. Your feedback <em>and patience</em> are greatly appreciated.</p><a href=\"/quiz/builder\" class=\"btn btn-lg btn-primary tabNavLink\">Got it, Let's get started!</a></div>"}),deftmp("page.app",{template:"<div class=\"page-app\"><div style=\"height: 100%\" class=\"container mtm\"><div class=\"page-tab\"><div style=\"height: 100%\" class=\"ui-Emulator\"></div></div></div></div>"}),deftmp("page.appendToQues",{template:"<div class=\"page-appendToQues\"><div class=\"container\"><div style=\"position: relative\" class=\"row mtxl\"><div><a href=\"\" data-bind='click: next'>next</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following is most likely?\")'>likely</a> | <a href=\"\" data-bind='ajax: append(\"What is the most likely diagnosis?\")'>diagnosis</a> | <a href=\"\" data-bind='ajax: append(\"What is the most likely cause?\")'>cause</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following would you also expect to find?\")'>find</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following would be the best treatment option?\")'>best treatment</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following should be performed next?\")'>best next procedure</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following should be measured next?\")'>best next test</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following labs would be expected?\")'>expected labs</a> | <a href=\"\" data-bind='ajax: append(\"What deficiency is the most likely cause?\")'>cause</a> | <a href=\"\" data-bind='ajax: append(\"This is an example of:\")'>example</a> | <a href=\"\" data-bind='ajax: append(\"Which of the following markers is associated with this condition?\")'>post-treatment</a></div><div><span class=\"fwb\" data-bind='text: count'/> remaining</div><div>ID: <span data-bind='text: nodeID'/></div><div class=\"ques\"></div></div></div></div>"}),deftmp("page.apply",{template:"<div class=\"page-apply\"><div class=\"sleek\"><div id=\"landing\"><div class=\"container\"><h1>Become an Osmosis Ambassador</h1><p class=\"main-explain\">You'll be glad you did. We guarantee it.</p></div></div><section id=\"content\" class=\"light-gray\"><div class=\"container\"><div class=\"span10\"> <h2>We'd love to have you on board!</h2><p class=\"explain\">We know every medical school is unique. We're seeking Osmosis Class Ambassadors: students passionate about improving medical education who want to see Osmosis customized to their own and their classmates' needs. Our ambassadors will get early access to new features, perks such as free or discounted prep material, and membership in a larger community of student innovators who want to transform medical education.</p></div></div></section><section><div class=\"container\"><h2>Apply Now</h2><p class=\"explain required-msg\">Fields marked with (*) are required.</p><form><div class=\"form-group\"><label>Name<span class=\"require\">*</span></label><input type=\"text\" data-bind=\"value:name\"/></div><div class=\"form-group\"><label>Email<span class=\"require\">*</span></label><input type=\"text\" data-bind=\"value:email\"/></div><div class=\"form-group\"><label>School<span class=\"require\">*</span></label><input type=\"text\" data-bind=\"value:school\"/></div><div class=\"form-group\"><label>Class Year<span class=\"require\">*</span></label><select data-bind=\"value:schoolClassification\"><option></option><option>Med School Year 1</option><option>Med School Year 2</option><option>Med School Year 3</option><option>Med School Year 4</option></select></div><div class=\"form-group\"><label>Why do you want to be an Osmosis Ambassador?<span class=\"require\">*</span></label><textarea rows=\"8\" data-bind=\"value:why\"></textarea></div><div class=\"form-group\"><label>Name <strong>one</strong> thing you love about Osmosis and <strong>one</strong> thing you would improve.<span class=\"require\">*</span></label><textarea rows=\"8\" data-bind=\"value:feedback\"></textarea></div><div class=\"form-group\"><button data-bind=\"click:submitForm, disable: success, visible: !success()\" class=\"btn btn-primary\">Submit</button><p data-bind=\"visible: success\" class=\"ss-secondary-text\">Thanks for applying! We'll contact you soon!</p></div></form></div></section></div></div>"}),deftmp("page.aroundTheWorld",{template:"<div class=\"page-aroundTheWorld\"><div class=\"submit-a-review-header-container\"><div class=\"submit-a-review-header\"><div class=\"details-section-container\"><div class=\"details-section\"><h1 class=\"title inverted\">Osmosis Around the World!</h1><div class=\"intro-video\"></div><p class=\"inverted\">Osmosis is more than a health education platform, it\u2019s a global movement. We are looking for short video reviews from students, professionals, and patients around the world who learn by Osmosis. Here\u2019s your chance to join the movement and win awards in the process!</p><h4 class=\"inverted\">Early applicants are given preference!</h4><div class=\"divider\"></div><h2 class=\"inverted\">Awards</h2><ul><li class=\"header-item\">Top submission from each country<ul><li>Two year membership to Osmosis Prime </li><li>An Osmosis <a class=\"link\" target=\"_blank\" href=\"http://books.osmosis.org\">book</a> or <a class=\"link\" target=\"_blank\" href=\"https://shop.osmosis.org/\">swag</a> item of your choice* <br></li></ul></li><li class=\"header-item\">Runner up<ul><li><b>One-year Osmosis Prime membership</b></li><li><b>50% off</b> an Osmosis <a class=\"link\" target=\"_blank\" href=\"http://books.osmosis.org\">book</a> or <a class=\"link\" target=\"_blank\" href=\"https://shop.osmosis.org/\">swag</a> item of your choice* <br></li></ul></li><li class=\"header-item\">Everyone else<ul><li><b>2-month Osmosis Prime membership</b></li><li><b>30% off</b> an Osmosis <a class=\"link\" target=\"_blank\" href=\"http://books.osmosis.org\">book</a> or <a class=\"link\" target=\"_blank\" href=\"https://shop.osmosis.org/\">swag</a> item of your choice* <br></li></ul></li></ul><p class=\"inverted asterisk\">* In cases where a country is not eligible for shipping, an additional month of Osmosis Prime will be awarded.</p></div><div class=\"details-image-section\"><div class=\"details-section-image\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/EzLozPaJRVGKCPSbZsuyW6UJT3qqG34P/_.png\"/></div></div></div><div class=\"example-review-section\"><div class=\"example-review-video-container\"><h2 class=\"inverted example-review-header\">Sample video</h2><div class=\"example-review-video\"></div></div><div class=\"example-review-content\"><div class=\"example-review-content-text\"><h2 class=\"inverted header\">Video requirements</h2><ul><li>Less than two minutes long</li><li>Start by saying \u201CI learn by Osmosis\u201D in the official language of your country, then speak the rest in English</li><li>Describe why you learn by Osmosis</li><li>Bonus points if there is something in your video specific to your country, e.g. the flag, a poster, etc.</li></ul></div></div></div></div></div><div data-bind=\"fadeVisible: submitted, fadeDirection: 'down'\" class=\"form-container submitted\"><div class=\"submitted-image\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/mxg_HsMqQfGlE7RVxW_ZLO1QS6iChRLl/_.png\"/></div><div class=\"submitted-message\"><h2>Thanks for supporting Osmosis's global movement!</h2><p>Reviews like yours will help others get started learning by Osmosis.</p><p>Once we've reviewed your submission, you'll receive 2 weeks of Osmosis Prime as well as a discount on Osmosis books and swag.</p></div></div><div data-bind=\"visible: !submitted()\" class=\"form-container\"><div class=\"form-components\"></div><div class=\"submit-a-review-form-footer\"><div class=\"checkbox-input\"><input id=\"review-permission-input\" type=\"checkbox\" data-bind=\"checked: permissionGranted\"/><label for=\"review-permission-input\">I grant permission to Osmosis to share this review for marketing purposes.</label></div><button data-bind=\"ajax: submitReview, enable: allValidForms()\" class=\"button teal\">Submit my video</button></div></div></div>"}),deftmp("page.beyondflippedclassroom",{template:"<div class=\"page-beyondflippedclassroom\"><div class=\"row\"><div class=\"col-lg-8 col-md-8 col-md-offset-2\"><div class=\"video-testimonial embed-responsive embed-responsive-16by9\"><iframe src=\"//www.youtube.com/embed/PR8o2MIQ3cE\" allowfullscreen=\"allowfullscreen\" class=\"embed-responsive-item\"></iframe></div></div></div></div>"}),deftmp("page.bookMatching",{template:"<div class=\"page-bookMatching\"><div class=\"row\"><div class=\"col-md-5\"><object data-bind=\"attr: {data: mainPageURL}\" type=\"image/svg+xml\" style=\"width: 100%; background-color: white\"></object></div><div class=\"col-md-7\"><button data-bind=\"click: prev\" class=\"btn btn-default\">Prev</button><button data-bind=\"click: next\" class=\"btn btn-default mls\">Next</button><input type=\"text\" data-bind=\"value: sectionIdx\" class=\"mls\"/><button data-bind=\"click: goTo\" class=\"btn btn-default mls\">Go</button><button data-bind=\"click: splitPage\" class=\"btn btn-default mll\">Split Page</button><button data-bind=\"click: mergeNextPage\" class=\"btn btn-default mls\">Merge Next</button><button data-bind=\"click: save\" class=\"btn btn-primary mlm\">Save</button><div><div class=\"fwb\">Title</div><input type=\"text\" data-bind=\"value: title\" class=\"form-control\"/><div class=\"fwb\">Topic</div><input type=\"text\" data-bind=\"value: topic\" class=\"form-control\"/><div class=\"row\"><div class=\"col-md-6\"><div><span class=\"fwb\">Notes</span><a href=\"\" data-bind=\"click: wikify\" class=\"fp80 mls\">wikify</a></div><textarea data-bind=\"value: notes, valueUpdate: &quot;keypress&quot;\" cols=\"40\" rows=\"10\" style=\"font-family: Courier\"></textarea></div><div class=\"col-md-6\"><div class=\"mts fwb\">Primary Concepts <a href=\"\" class=\"fp80\" data-bind=\"click: addConcept\">add concept</a></div><div data-bind=\"foreach: concepts\"><div><span data-bind=\"text: $data\"></span><span data-bind=\"click: $root.removeConcept($root.concepts,$data)\" class=\"times clickable mls\">&times;</span></div></div><div class=\"mts fwb\">Other Concepts</div><div data-bind=\"foreach: others\"><div><span data-bind=\"text: $data\"></span><span data-bind=\"click: $root.removeConcept($root.others,$data)\" class=\"times clickable mls\">&times;</span></div></div><div class=\"mtm fwb\">Concept candidates</div><div data-bind=\"foreach: candidates\"><div><span data-bind=\"text: $data\"></span><span data-bind=\"click: $root.removeConcept($root.candidates,$data)\" class=\"times clickable mls\">&times;</span></div></div><div class=\"mts fwb\">Tags</div><div data-bind=\"foreach: tags\" class=\"mlm\"><div><label><input type=\"checkbox\" data-bind=\"checked: checked\"/><span data-bind=\"text: name\" style=\"font-weight: 200\" class=\"mls\"></span></label></div></div></div></div><div class=\"fwb\">Pages</div><div data-bind=\"foreach: altPages\"><div class=\"lfloat mrs\"><object data-bind=\"attr: {data: url}\" type=\"image/svg+xml\" style=\"width: 100px; background-color: white\"></object><div href=\"\" data-bind=\"text: version+&quot; p.&quot;+page, click: $root.showPage($data)\" class=\"fp80 clickable\"></div></div></div><div class=\"clearfix\"></div></div></div></div></div>"}),deftmp("page.bqTest",{template:"<div class=\"page-bqTest\"><h4>Your 2018 engagement dashboard</h4><!--button(data-bind='click: getData') GetData--><p>Number of items you answered:<span data-bind=\"text: totalItems2018\"></span></p><p>Number of Flashcards:<span data-bind=\"text: fcAnswered2018\"></span></p><p>Number of MCQ's:<span data-bind=\"text: mcqAnswered2018\"></span></p><p>Number of Concept Videos Viewed:<spangit data-bind=\"text: conceptVideosViewed2018\"></spangit></p></div>"}),deftmp("page.buy",{template:"<div class=\"page-buy\"><div class=\"pusher\"></div><div class=\"buy-entry\"></div></div>"}),deftmp("page.cardioAndNotes",{template:"<div data-bind=\"css:{&quot;no-prime&quot;:!hasPrime(), locked:locked}\" class=\"page-cardioAndNotes\"><div class=\"ui-PrimeLockOverlay\"></div><div class=\"container fullpage\"><div class=\"explain\"><h2>Use our Cardiovascular Pathology ebook alongside our complete set of Cardiovascular Pathology videos.  </h2><p>Complete your studying for USMLE, COMLEX, NCLEX, and PANCE with our NEW Osmosis High-Yield Pathology Notes! It offers concise descriptions, full-color images and tables, and extra-wide margins for note-taking. Each condition, like the sample Acute Coronary Syndromes, is clearly separated into pathology, symptoms, diagnosis, and treatment sections, so you can quickly identify exactly what you need to remember. Don\u2019t study it, Osmose it! </p></div><div class=\"downloads\"><div class=\"ebook\"><div class=\"prime-user\"><h3 class=\"center\">Cardiovascular Pathology ebook</h3></div><div class=\"main-image\"><a href=\"\" data-bind=\"attr:{ href: downloadLink }\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/8b1da4fa87c39c34ab74174133deb8391b92b9ca.png\"></a></div><div class=\"prime-user\"><div class=\"cta center\"><a href=\"\" data-bind=\"attr:{ href: downloadLink }\" target=\"_blank\" class=\"left-icon blue button\"><i class=\"fas fa-download\"></i><span>Download </span></a></div></div></div><div class=\"notes\"><div class=\"prime-user\"><h3 class=\"center\">Osmosis High-Yield Pathology Notes: Cardiovascular chapter</h3></div><div class=\"main-image\"><a href=\"\" data-bind=\"attr:{ href: notesDownloadLink }\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/sHS90rbUQb24stlZydhI4_aJSwGt_4St.png\"></a></div><div class=\"prime-user\"><div class=\"cta center\"><a href=\"\" data-bind=\"attr:{ href: notesDownloadLink }\" target=\"_blank\" class=\"left-icon blue button\"><i class=\"fas fa-download\"></i><span>Download </span></a></div></div></div></div></div></div>"}),deftmp("page.chart",{template:"<div class=\"page-chart\"><div id=\"chartContainer\"></div></div>"}),deftmp("page.consams",{template:"<div class=\"page-consams\"><section><div class=\"container\"><h1>Partnership with the Consortium of New Southern African Medical Schools</h1><p class=\"mtl\"> <span class=\"rfloat mlm mbm\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/b570707c455298001d0dbfb088619ca9a58b82c3.jpg\" alt=\"consams logo\"></span>Osmosis is committed to opening up education and making it affordable to students everywhere. This is one reason the <a href=\"http://www.rwjf.org/en/culture-of-health/2014/05/another_step_toward.html\" target=\"_blank\">Robert Wood Johnson Foundation</a> awarded Osmosis a grant to develop open medical education resources, and also why we are a .org. We believe in the power of crowd-sourcing and collaboration to improve education and, downstream, the clinical care of patients.</p><p>In line with this mission, Osmosis is proud to partner with the Consortium of New Southern African Medical Schools (<a href=\"http://www.consams.org/\" target=\"_blank\">CONSAMs</a>) to provide complimentary Osmosis learning resources to students, faculty, and administrators at their schools. The member schools of CONSAMs include:</p><div class=\"row\"><div class=\"col-lg-5 col-md-5 col-sm-5\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/f954a258b83938de914a8fe52e426527d8faed27.jpg\" alt=\"consams map\"></div><div class=\"col-lg-7 col-md-7 col-sm-7\"><ul><li><a href=\"http://www.unam.edu.na/school-of-medicine/\" target=\"_blank\">University of Namibia School of Medicine</a>, Windhoek Namibia</li><li><a href=\"http://www.cbu.edu.zm/index.php/academic-information/schools/medicine-(som)\" target=\"_blank\">Copperbelt University School of Medicine</a>, Ndola, Zambia<a href=\"http://blog.osmosis.org/2015/07/leaders-medical-education-dr-kasonde-bowa-founding-dean-copperbelt-university-school-medicine-ndola/\" style=\"font-size:70%;color:#5cb85c;\" class=\"read-more mlm\">Learn more about the school &#8594;</a></li><li>Lurio University School of Medicine, Nampula, Mozambique</li><li><a href=\"http://www.ub.bw/\" target=\"_blank\">University of Botswana School of Medicine</a>, Botswana</li><li>National University of Lesotho, Lesotho</li></ul></div></div></div></section></div>"}),deftmp("page.donate",{template:"<div class=\"page-donate\"><div class=\"support-masthead\"><div class=\"block\"><div class=\"row\"><div class=\"column left\"><h1 class=\"inverted\">Sponsor the education of current &amp; future clinicians and caregivers!</h1><h4 class=\"inverted\">Osmosis provides freely available health education to a global audience in the form of clear, concise, and innovative videos. Our YouTube channel features hundreds of videos that have been viewed <strong>more than 50 million times</strong> by millions of current & future clinicians and caregivers. In addition, we donate free access to the complete Osmosis Prime learning platform to students in regions such as Syria and Sub-Saharan Africa. Help support this mission by sponsoring an individual student or an entire school - thank you!</h4><div class=\"container\"><img src=\"assets/images/landing/illustrations/globe.png\"><img src=\"assets/images/landing/illustrations/people-researchers.png\"></div></div><div class=\"column right\"><script src=\"https://donorbox.org/widget.js\" paypalexpress=\"false\"></script><iframe src=\"https://donorbox.org/embed/support-global-health-medical-education?show_content=true\" height=\"650px\" width=\"100%\" style=\"max-width:100%; min-width:100%; max-height:none !important\" seamless=\"seamless\" name=\"donorbox\" frameborder=\"0\" scrolling=\"no\" allowpaymentrequest=\"\"></iframe></div></div></div></div><div class=\"around-section\"><div class=\"block\"><div class=\"column\"><h1>Osmosis helps 1,000+ future Syrian doctors learn health &amp; medicine</h1><div class=\"row\"><div class=\"column\"><div id=\"iframe-wrapper-world\"></div><p>Meet Lamia, a medical student at Damascus University. We worked with her and her colleagues at the University of Aleppo and Tishreen University to provide more than 1,000 future doctors completely free access to Osmosis Prime. Your support helps us help students like Lamia. Thank you!</p></div><img src=\"assets/images/landing/illustrations/stay-organized.png\" class=\"side-pic\"></div></div></div></div></div>"}),deftmp("page.editAliases",{template:"<div class=\"page-editAliases\"><div data-bind=\"text: altTerm\"></div><div data-bind=\"foreach: terms\" class=\"mlm\"><div><a href=\"\" style=\"font-size: 18px\" data-bind=\"click: $root.remove($data)\" class=\"fwb fcg\">&times;</a><span>&nbsp;</span><a data-bind=\"text: name, attr: {href: &quot;https://en.wikipedia.org/wiki/&quot;+name}\" target=\"_blank\"></a></div></div><div><a href=\"\" data-bind=\"click: goNext\">Next</a></div><input type=\"checkbox\" data-bind=\"checked: locked\"/><label> Lock</label></div>"}),deftmp("page.editStudySchedule",{template:"<div class=\"page-editStudySchedule\"><div data-bind=\"visible: showRecompileSchedule\" class=\"alert alert-success\"><div class=\"fwb\">To recomplie schedule</div><pre><div>cd /data/osmosis_schedules</div><div>node run fa/schedule/master/listScheduleMasterUpdates</div><div>Review changes using the UI</div><div>Commit suggested changes (in case something goes wrong)</div><div>node run fa/schedule/master/commitScheduleMasterUpdates</div><div>Commit updates</div></pre></div><div class=\"row\"><div class=\"col-md-2\"><div class=\"panel\"><div class=\"panel-body\"><h4>Subjects</h4><div data-bind=\"foreach: subjects\" class=\"mls\"><div><a href=\"\" data-bind=\"text: $data, click: $root.showSubject($data), css: {fwb: $data==$root.currentSubject()}\"></a></div></div><div class=\"mtxl\"><button href=\"\" data-bind=\"click: checkSchedule\" class=\"btn btn-default\">Build schedule</button></div><div class=\"mts\"><button href=\"\" data-bind=\"visible: !showRecompileSchedule() &amp;&amp; window.userID == 256, click: showRecompileSchedule\" class=\"btn btn-default\">Recompile</button></div></div></div></div><div class=\"col-md-3\"><div class=\"panel\"><div class=\"panel-body\"><h4 data-bind=\"text: currentSubject\"></h4><ol data-bind=\"foreach: sections\"><li><a href=\"\" data-bind=\"text: $data, click: $root.showSection($data), css: {fwb: $data==$root.currentSection()}\"></a></li></ol></div></div></div><div class=\"col-md-4\"><div class=\"panel\"><div style=\"min-height: 500px\" class=\"panel-body\"><h4>First Aid</h4><div><span class=\"fp80\">Edition: <a href='' data-bind='click: switchEdition(\"f19\"), css: {fwb: currentFA()==\"f19\"}'>2019</a> <a href='' data-bind='click: switchEdition(\"f18\"), css: {fwb: currentFA()==\"f18\"}'>2018</a> <a href='' data-bind='click: switchEdition(\"f17\"), css: {fwb: currentFA()==\"f17\"}'>2017</a> <a href='' data-bind='click: switchEdition(\"f16\"), css: {fwb: currentFA()==\"f16\"}'>2016</a></div><ul data-bind=\"foreach: mainPages\" class=\"nav nav-pills\"><li data-bind=\"click: $root.showPage($index()), css: {active: $root.currentFAPage()==$index()}\" class=\"nav-item\"><a href=\"#\" class=\"nav-link\">p. <span data-bind='text: page'/></a></li></ul><div class=\"book-page\"></div></div></div></div><div class=\"col-md-3\"><div class=\"panel\"><div class=\"panel-body\"><h4 data-bind=\"text: currentSection\"></h4><div data-bind=\"foreach: majorConcepts\"><div><span data-bind=\"visible: icons().length, foreach: icons\" class=\"mrs\"><img data-bind=\"attr: {src: $data}\" class=\"topic-icon\"/></span><span data-bind=\"text: concept, css: {removed: removed, new: isNew}\"></span><span data-bind=\"visible: !removed(), click: $root.demoteConcept($data)\" class=\"times clickable mls\">&darr;</span><span data-bind=\"click: $root.removeConcept($data)\" class=\"times clickable mlm\">&times;</span></div></div><div data-bind=\"visible: currentSection\" class=\"mtl\"><div class=\"ui-SearchBar\"></div></div><div data-bind=\"visible: minorConcepts().length\" class=\"mtm\"><h5>Minor concepts</h5><div data-bind=\"foreach: minorConcepts\" class=\"mlm\"><div><span data-bind=\"text: concept, css: {removed: removed, new: isNew}\"></span><span data-bind=\"visible: !removed(), click: $root.promoteConcept($data)\" class=\"times clickable mls\">&uarr;</span><span data-bind=\"click: $root.removeConcept($data)\" class=\"times clickable mls\">&times;</span></div></div></div></div></div></div></div></div>"}),deftmp("page.editanatomy",{template:"<div class=\"page-editanatomy\"><div class=\"container\"><div class=\"row mtl\"><div class=\"col-md-6\"><form class=\"form-horizontal mbm\"><button data-bind=\"click:save\" class=\"btn btn-primary\">Save</button><button data-bind=\"click:refresh\" class=\"btn btn-default mls\">Refresh</button><button data-bind=\"click:editJSON\" class=\"btn btn-default mls\">Edit JSON</button></form><div class=\"anatomyPlayer\"></div><div data-bind=\"text: clickedPart\"></div><div data-bind=\"text: statusText\"></div></div><div class=\"col-md-6\"><ul class=\"nav nav-tabs\"><li data-bind=\"click: changeTab(&quot;view&quot;), css: {active: tab()==&quot;view&quot;}\"><a href=\"#\">View</a></li><li data-bind=\"click: changeTab(&quot;structures&quot;), css: {active: tab()==&quot;structures&quot;}\"><a href=\"#\">Structures</a></li><li data-bind=\"click: changeTab(&quot;labels&quot;), css: {active: tab()==&quot;labels&quot;}\"><a href=\"#\">Labels</a></li><li data-bind=\"click: changeTab(&quot;templates&quot;), css: {active: tab()==&quot;templates&quot;}\"><a href=\"#\">Templates</a></li><li data-bind=\"click: changeTab(&quot;flashcards&quot;), css: {active: tab()==&quot;flashcards&quot;}\"><a href=\"#\">Flashcards</a></li></ul><div><div data-bind=\"visible: tab()==&quot;view&quot;\" class=\"scrollable-tab\"><div class=\"fwb\"><span>Control Points:</span><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;origin&quot;)\" class=\"mll\">Origin</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;head-top&quot;)\" class=\"mll\">Head Top</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;head-mid&quot;)\" class=\"mll\">Head Mid</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;midbrain&quot;)\" class=\"mll\">Midbrain</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;neck&quot;)\" class=\"mll\">Neck</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;shoulder&quot;)\" class=\"mll\">Shoulder</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;arm&quot;)\" class=\"mll\">Arm</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;elbow&quot;)\" class=\"mll\">Elbow</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;forearm&quot;)\" class=\"mll\">Forearm</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;wrist&quot;)\" class=\"mll\">Wrist</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;pelvis&quot;)\" class=\"mll\">Pelvis</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;hip&quot;)\" class=\"mll\">Hip</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;thigh&quot;)\" class=\"mll\">Thigh</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;knee&quot;)\" class=\"mll\">Knee</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;leg&quot;)\" class=\"mll\">Leg</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;ankle&quot;)\" class=\"mll\">Ankle</a><a href=\"#\" data-bind=\"click:addCtrlPt(&quot;chest&quot;)\" class=\"mll\">Chest</a></div><div data-bind=\"foreach: controlPoint.pos\" class=\"mll\"><div><span>Origin.</span><span data-bind=\"text: name\"></span><span data-bind=\"text: value\" class=\"mlm\"></span></div><div class=\"mlm\"><a href=\"#\" data-bind=\"click: change(1)\" class=\"mlm\">+1</a><a href=\"#\" data-bind=\"click: change(5)\" class=\"mlm\">+5</a><a href=\"#\" data-bind=\"click: change(10)\" class=\"mlm\">+10</a><a href=\"#\" data-bind=\"click: change(100)\" class=\"mlm\">+100</a><a href=\"#\" data-bind=\"click: change(-1)\" class=\"mlm\">-1</a><a href=\"#\" data-bind=\"click: change(-5)\" class=\"mlm\">-5</a><a href=\"#\" data-bind=\"click: change(-10)\" class=\"mlm\">-10</a><a href=\"#\" data-bind=\"click: change(-100)\" class=\"mlm\">-100</a></div></div><div class=\"mtm\"><span class=\"fwb\">Views:&nbsp;</span><span data-bind=\"foreach: views\"><a href=\"#\" data-bind=\"click: $root.setView($index()), text:$index, css: {fwb: $data == $root.currentView()}\" class=\"mll\"></a></span><a href=\"#\" data-bind=\"click: addView\" class=\"mll\">Add</a></div><div data-bind=\"foreach: views\"><div data-bind=\"visible: $data == $root.currentView()\"><div class=\"mtm\"><span class=\"fwb\">Origin:&nbsp;</span><span>(<span data-bind=\"text:origin.x\"/>,<span data-bind=\"text:origin.y\"/>,<span data-bind=\"text:origin.z\"/>)</span><a href=\"#\" data-bind=\"click: $root.setOrigin()\" class=\"mlm\">Set Origin</a></div><div class=\"mtm\"><span class=\"fwb\">Camera:&nbsp;</span></div><div class=\"mll\">pos (<span data-bind=\"text:camera.pos.x\"/>,<span data-bind=\"text:camera.pos.y\"/>,<span data-bind=\"text:camera.pos.z\"/>)<a href=\"#\" data-bind=\"click: $root.resetCameraPos()\" class=\"mlm\">Reset</a></div><div class=\"mll\">up (<span data-bind=\"text:camera.up.x\"/>,<span data-bind=\"text:camera.up.y\"/>,<span data-bind=\"text:camera.up.z\"/>)<a href=\"#\" data-bind=\"click: $root.resetCameraUp()\" class=\"mlm\">Reset</a></div><textarea rows=\"5\" style=\"width:500px\" placeholder=\"Caption goes here\" data-bind=\"value: caption, valueUpdate: &quot;keypress&quot;\" class=\"mtm\"></textarea></div></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: tab()==&quot;structures&quot;\" class=\"scrollable-tab\"><h4>Structures <a href=\"\" style=\"font-size: 60%\" data-bind='click: cleanVersions'>clean</a></h4><form data-bind=\"foreach: structs\" class=\"form-horizontal\"><div data-bind=\"css: className\"><div data-bind=\"visible: !editing()\" class=\"lfloat\"><div><span data-bind=\"text: id\"></span><span>&nbsp;</span><span data-bind=\"text: parts\" class=\"fp80\"></span></div></div><div data-bind=\"visible: editing\" class=\"lfloat\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Structure</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:$data.id, valueUpdate: &quot;keypress&quot;\" class=\"autocompleteAnatomy form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Parts</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:$data.parts, valueUpdate: &quot;keypress&quot;\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Style</label><div class=\"col-md-8\"><select data-bind=\"value: style\" class=\"form-control\"><option value=\"custom\">Custom</option><option value=\"bone\">Bone</option><option value=\"muscle\">Muscle</option><option value=\"organ\">Organ</option><option value=\"vein\">Vein</option><option value=\"artery\">Artery</option><option value=\"nerve\">Nerve</option><option value=\"brain\">Brain</option><option value=\"cartilage\">Cartilage</option><option value=\"fascia\">Fascia</option><option value=\"skin\">Skin</option><option value=\"tooth\">Tooth</option><option value=\"eye\">Eye</option></select></div></div><div data-bind=\"visible: style()==&quot;custom&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Color</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:$data.color\" class=\"form-control\"/></div></div><div data-bind=\"visible: style()==&quot;custom&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Opaque</label><div class=\"col-md-8\"><div class=\"checkbox mll\"><input type=\"checkbox\" data-bind=\"checked:$data.opaque\"/></div></div></div><div data-bind=\"visible: style()==&quot;custom&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Self collides</label><div class=\"col-md-8\"><div class=\"checkbox mll\"><input type=\"checkbox\" data-bind=\"checked:$data.selfCollides\"/></div></div></div></div></div><i data-bind=\"click: $root.deleteStructure($data)\" class=\"rfloat fa fa-trash-alt fcg clickable mrl\"></i><i data-bind=\"toggle: editing\" class=\"rfloat fa fa-pencil-alt fcg mrm clickable\"></i><i data-bind=\"click: populate\" class=\"rfloat fa fa-rocket fcg mrm clickable\"></i><div class=\"clearfix\"></div><hr/></form><form class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">&nbsp;</label><div class=\"col-md-8\"><button data-bind=\"click:addStructure\" class=\"btn btn-primary\">Add Structure</button></div></div></form></div><div data-bind=\"visible: tab()==&quot;labels&quot;\" class=\"scrollable-tab\"><div class=\"mlm\"><span>On click:&nbsp;&nbsp;</span><a href=\"#\" data-bind=\"click: setClickMode(&quot;nothing&quot;), css: {fwb: clickMode()==&quot;nothing&quot;}\">Nothing</a><span>&nbsp;&nbsp;</span><a href=\"#\" data-bind=\"click: setClickMode(&quot;addLabel&quot;), css: {fwb: clickMode()==&quot;addLabel&quot;}\">Add Label</a><span>&nbsp;&nbsp;</span><a href=\"#\" data-bind=\"click: setClickMode(&quot;addPin&quot;), css: {fwb: clickMode()==&quot;addPin&quot;}\">Add Pin</a></div><div class=\"mlm\"><form data-bind=\"foreach: labels\" class=\"form-horizontal\"><div class=\"mbl\"><div data-bind=\"visible: editing\" class=\"lfloat\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Text</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:$data.label\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Label</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:$data.id\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Descr</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:$data.descr\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Primary</label><div class=\"col-md-8\"><div class=\"checkbox mll\"><input type=\"checkbox\" data-bind=\"checked:$data.primary\"/></div></div></div></div><div data-bind=\"visible: !editing()\" class=\"lfloat\"><div><span data-bind=\"html: index\" class=\"fwb\"></span><span>&nbsp;</span><span data-bind=\"text:$data.label\"></span></div></div><i data-bind=\"click: $root.deleteLabel($data)\" class=\"rfloat fa fa-trash-alt fcg clickable mrl\"></i><i data-bind=\"toggle: editing\" class=\"rfloat fa fa-pencil-alt fcg mrm clickable\"></i><div class=\"clearfix\"></div></div></form></div></div><div data-bind=\"visible: tab()==&quot;templates&quot;\" class=\"scrollable-tab\"><div class=\"mhm mtm\"><select data-bind=\"value: selectedTemplate, options: templates, optionsValue: &quot;nodeID&quot;, optionsText:&quot;name&quot;\" class=\"form-control mls\"></select></div><div class=\"mtm mhm\"><button data-bind=\"click: applyTemplate\" class=\"btn btn-primary\">Apply</button><a data-bind=\"click: copyOrientation\" class=\"btn btn-default mls\">Copy Orientation</a><a href=\"\" data-bind=\"attr: {href: &quot;/editanatomy?n=&quot;+selectedTemplate()}\" target=\"_blank\" class=\"btn btn-default mls\">Edit</a><a href=\"\" data-bind=\"click: saveAsTemplate\" target=\"_blank\" class=\"btn btn-default mls\">Save as Template</a></div></div><div data-bind=\"visible: tab()==&quot;flashcards&quot;\" class=\"scrollable-tab\"><div>Identify &nbsp;&nbsp; <a href='' data-bind='click: fcTemplate(\"structure\")'>Structure</a> &nbsp;&nbsp; <a href='' data-bind='click: fcTemplate(\"muscle\")'>muscle</a> &nbsp;&nbsp; <a href='' data-bind='click: fcTemplate(\"artery\")'>artery</a> &nbsp;&nbsp; <a href='' data-bind='click: fcTemplate(\"bone\")'>bone</a></div><div class=\"flashcard\"><div class=\"front multiline\"></div><div class=\"mtm\"><input data-bind=\"value: frontScreenshot\"/><button data-bind=\"click: takeUnlabeledScreenshot(frontScreenshot)\" class=\"btn btn-default mls\">Take Unlabeled Screenshot</button><button data-bind=\"click: takeLabeledScreenshot(frontScreenshot,&quot;front&quot;)\" class=\"btn btn-default mls\">Take Labeled Screenshot</button></div><div class=\"mts\"><input data-bind=\"value: cardAnswer\" class=\"form-control\"/></div><div class=\"back multiline mtm\"><input data-bind=\"value: backScreenshot\"/></div><div class=\"mtm\"><input data-bind=\"value: backScreenshot\"/><button data-bind=\"click: takeUnlabeledScreenshot(backScreenshot)\" class=\"btn btn-default mls\">Take Unlabeled Screenshot</button><button data-bind=\"click: takeLabeledScreenshot(backScreenshot,&quot;back&quot;)\" class=\"btn btn-default mls\">Take Labeled Screenshot</button></div><button data-bind=\"click: showAnatomyTable\" class=\"btn btn-default\">Show Anatomy Table</button></div><div data-bind=\"visible: anatomyTableVisible\" class=\"anatomy-table\"><div data-bind=\"foreach: anatomyTable\"><div class=\"checkbox\"><label><input type=\"checkbox\" name=\"anatomy-struct\" data-bind=\"checked: checked\"/><span data-bind=\"text: name\"></span></label></div></div><div class=\"backtable multiline mtm\"></div><button data-bind=\"click: addTable\" class=\"btn btn-default\">Add Table</button></div><div class=\"mts\"><button data-bind=\"ajax: createFlashcard\" class=\"btn btn-primary\">Create Flashcard</button><button data-bind=\"ajax: createThumbnails\" class=\"btn btn-default mls\">Create Thumbnails</button></div></div></div></div></div></div></div>"}),deftmp("page.editarticles",{template:"<div class=\"page-editarticles\"><div class=\"mhl\"><div data-bind=\"foreach: topics\"><div data-bind=\"text: topic\" class=\"fwb\"></div><div data-bind=\"foreach: articles\" class=\"mlm\"><div><span style=\"color: gray\" data-bind=\"text: wiki\"></span><span>: &nbsp;</span><a href=\"\" data-bind=\"text: title, attr: {href: URL}, style: {color: linkColor}\" target=\"_blank\"></a><span class=\"fp80\"><span>&nbsp;</span><a href=\"\" data-bind=\"click: setInclude(1)\">Include</a><span>&nbsp;</span><a href=\"\" data-bind=\"click: setInclude(-1)\">Exclude</a></span></div></div></div></div></div>"}),deftmp("page.editconcept",{template:"<div class=\"page-editconcept\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12 mtl\"><div data-bind=\"visible: hasPages\"><div class=\"models-concept-Card\"></div></div><div data-bind=\"visible: !hasPages()\"><div class=\"alert alert-success center\">A concept card does not yet exist for this topic. <a href=\"\" data-bind='click: createConceptCard'>Click here</a> to create one.</div></div></div></div></div></div>"}),deftmp("page.editcontent",{template:"<div class=\"page-editcontent\"><div class=\"container\"><div class=\"row mtl\"><div class=\"col-md-9\"><a href=\"\" data-bind=\"click: edit\">Edit</a><div class=\"panel\"><div class=\"panel-body\"><div class=\"quesList\"></div><div data-bind=\"visible: mode()==&quot;edit&quot;\" class=\"mbs mtl\"><button data-bind=\"ajax: save\" class=\"btn btn-primary save-btn\">Save</button><span class=\"mls\"></span><button data-bind=\"click: cancel\" class=\"btn btn-default\">Cancel</button></div></div></div></div><div class=\"col-md-3\"><div data-bind=\"visible: urlQuery.show!=&quot;edit&quot;\"><div>&nbsp;</div><div class=\"panel\"><div class=\"panel-body\"><div class=\"fwb\">Edits</div><a href=\"\" data-bind=\"click: $root.showRevision({})\">Current</a><div data-bind=\"foreach: revs\"><div class=\"mts\"><a href=\"\" data-bind=\"text: $root.when($data.modified), attr: {title: moment($data.modified).format(&quot;YYYY-MM-DD@ha&quot;)}, click: $root.showRevision($data.oldData)\" class=\"tip\"></a><span> by&nbsp;</span><span data-bind=\"text: $data.preferredName+&quot; &quot;+$data.lastName\"></span></div></div><div class=\"mtm\"><div class=\"fwb\">Original Author</div><div class=\"mts\"><span data-bind=\"text: $root.when(window.createdOn), attr: {title: moment(window.createdOn).format(&quot;YYYY-MM-DD@ha&quot;)}\" class=\"tip\"></span><span> by&nbsp;</span><span data-bind=\"text: window.author\"></span></div></div><div data-bind=\"visible: false\" class=\"mtm\"><div class=\"fwb\">Approval</div><div class=\"ui-QuesEditPanel\"></div></div></div></div></div></div></div></div></div>"}),deftmp("page.editkinetic",{template:"<div class=\"page-editkinetic\"><div class=\"mtm mhl\"><div class=\"cms-ContentGallery\"></div></div></div>"}),deftmp("page.editlearn",{template:"<div class=\"page-editlearn\"><div class=\"video-management\"></div></div>"}),deftmp("page.edittable",{template:"<div class=\"page-edittable\"><div class=\"container\"><div class=\"row mtl\"><div class=\"col-md-9\"><div class=\"sections\"></div><div class=\"footnotes multiline\"></div><div class=\"mvl\"><a href=\"\" data-bind=\"visible: !conceptTargets().length, click: getConceptCards\">determine concept targets</a><div data-bind=\"visible: conceptTargets().length\"><div class=\"fwb\">Concept Card Targets</div><div data-bind=\"foreach: conceptTargets\"><div data-bind=\"text: $data\"></div></div><div><a href=\"\" data-bind=\"click: addConceptTarget\">add concept</a></div><div><a href=\"\" data-bind=\"ajax: pushTableToConceptCards\" class=\"fwb\">push tables</a></div></div></div></div><div class=\"col-md-3\"><div><div>&nbsp;</div><div class=\"panel\"><div class=\"panel-body\"><div class=\"fwb\">Table title</div><div data-bind=\"visible: editing\" class=\"mlm\"><input type=\"text\" required=\"required\" data-bind=\"value: title\" class=\"form-control\"/></div><div data-bind=\"visible: !editing()\" class=\"mlm\"><span data-bind=\"text: title\"></span></div><div data-bind=\"visible: editing\"><div class=\"fwb\">Columns</div><div class=\"mlm\"><div><a href=\"\" data-bind=\"click: addColumn()\">Add column</a></div><div><a href=\"\" data-bind=\"click: addColumn(-1)\">Add column left</a></div><div><a href=\"\" data-bind=\"click: addColumn(1)\">Add column right</a></div><div><a href=\"\" data-bind=\"click: removeColumn\">Remove column</a></div></div><div class=\"fwb mtm\">Rows</div><div class=\"mlm\"><div><a href=\"\" data-bind=\"click: addRow()\">Add row</a></div><div><a href=\"\" data-bind=\"click: addRow(-1)\">Add row above</a></div><div><a href=\"\" data-bind=\"click: addRow(1)\">Add row below</a></div><div><a href=\"\" data-bind=\"click: removeRow\">Remove row</a></div></div><div class=\"fwb mtm\">Sections</div><div class=\"mlm\"><div><a href=\"\" data-bind=\"click: addSectionClick\">Add section</a></div><div><a href=\"\" data-bind=\"click: removeSectionClick\">Remove section</a></div></div><div><div class=\"fwb mtm\">Save table</div><div data-bind=\"click: save\" class=\"btn btn-primary btn-sm mlm\">Save</div></div></div></div></div></div></div></div></div></div>"}),deftmp("page.edittables",{template:"<div class=\"page-edittables\"><div class=\"mtm mhl\"><div class=\"cms-ContentGallery\"></div></div></div>"}),deftmp("page.edittags",{template:"<div class=\"page-edittags\"><div class=\"container\"><div class=\"row\"><div class=\"panel\"><div class=\"panel-body\"><div data-bind=\"foreach: letters\"><a href=\"\" data-bind=\"click: $root.clickLetter($data), text: $data\" class=\"fwb mlm\"></a></div><div class=\"tags\"></div></div></div></div></div></div>"}),deftmp("page.editterms",{template:"<div class=\"page-editterms\"><div class=\"container mtl\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"row\"><div class=\"col-md-2\"><div class=\"fwb\">Unclassified <span data-bind='text: unclassified().length'/></div><div data-bind=\"foreach: unclassified\"><div class=\"mtm\"><a href=\"\" data-bind=\"text: name, attr:{href:&quot;http://en.wikipedia.org/wiki/&quot;+name}\" target=\"_blank\" class=\"fcg\"></a><div class=\"fp80 mlm\"><a href=\"\" data-bind=\"click: $root.setClass($data,1), css: {fwb: classID()==1}\" class=\"mls\"> Anatomy</a><a href=\"\" data-bind=\"click: $root.setClass($data,2), css: {fwb: classID()==2}\" class=\"mls\"> Physiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,3), css: {fwb: classID()==3}\" class=\"mls\"> Pathophysiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,4), css: {fwb: classID()==4}\" class=\"mls\"> Pharmacology</a><a href=\"\" data-bind=\"click: $root.setClass($data,0), css: {fwb: classID()==0}\" class=\"mls\"> None</a></div></div></div></div><div class=\"col-md-2\"><div class=\"fwb\">Anatomy <span data-bind='text: anatomy().length'/></div><div data-bind=\"foreach: anatomy\"><div class=\"mtm\"><a href=\"\" data-bind=\"text: name, attr:{href:&quot;http://en.wikipedia.org/wiki/&quot;+name}\" target=\"_blank\" class=\"fcg\"></a><div class=\"fp80 mlm\"><a href=\"\" data-bind=\"click: $root.setClass($data,1), css: {fwb: classID()==1}\" class=\"mls\"> Anatomy</a><a href=\"\" data-bind=\"click: $root.setClass($data,2), css: {fwb: classID()==2}\" class=\"mls\"> Physiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,3), css: {fwb: classID()==3}\" class=\"mls\"> Pathophysiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,4), css: {fwb: classID()==4}\" class=\"mls\"> Pharmacology</a><a href=\"\" data-bind=\"click: $root.setClass($data,0), css: {fwb: classID()==0}\" class=\"mls\"> None</a></div></div></div></div><div class=\"col-md-2\"><div class=\"fwb\">Physiology <span data-bind='text: physiology().length'/></div><div data-bind=\"foreach: physiology\"><div class=\"mtm\"><a href=\"\" data-bind=\"text: name, attr:{href:&quot;http://en.wikipedia.org/wiki/&quot;+name}\" target=\"_blank\" class=\"fcg\"></a><div class=\"fp80 mlm\"><a href=\"\" data-bind=\"click: $root.setClass($data,1), css: {fwb: classID()==1}\" class=\"mls\"> Anatomy</a><a href=\"\" data-bind=\"click: $root.setClass($data,2), css: {fwb: classID()==2}\" class=\"mls\"> Physiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,3), css: {fwb: classID()==3}\" class=\"mls\"> Pathophysiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,4), css: {fwb: classID()==4}\" class=\"mls\"> Pharmacology</a><a href=\"\" data-bind=\"click: $root.setClass($data,0), css: {fwb: classID()==0}\" class=\"mls\"> None</a></div></div></div></div><div class=\"col-md-2\"><div class=\"fwb\">Pathophysiology <span data-bind='text: pathophysiology().length'/></div><div data-bind=\"foreach: pathophysiology\"><div class=\"mtm\"><a href=\"\" data-bind=\"text: name, attr:{href:&quot;http://en.wikipedia.org/wiki/&quot;+name}\" target=\"_blank\" class=\"fcg\"></a><div class=\"fp80 mlm\"><a href=\"\" data-bind=\"click: $root.setClass($data,1), css: {fwb: classID()==1}\" class=\"mls\"> Anatomy</a><a href=\"\" data-bind=\"click: $root.setClass($data,2), css: {fwb: classID()==2}\" class=\"mls\"> Physiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,3), css: {fwb: classID()==3}\" class=\"mls\"> Pathophysiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,4), css: {fwb: classID()==4}\" class=\"mls\"> Pharmacology</a><a href=\"\" data-bind=\"click: $root.setClass($data,0), css: {fwb: classID()==0}\" class=\"mls\"> None</a></div></div></div></div><div class=\"col-md-2\"><div class=\"fwb\">Pharmacology <span data-bind='text: pharmacology().length'/></div><div data-bind=\"foreach: pharmacology\"><div class=\"mtm\"><a href=\"\" data-bind=\"text: name, attr:{href:&quot;http://en.wikipedia.org/wiki/&quot;+name}\" target=\"_blank\" class=\"fcg\"></a><div class=\"fp80 mlm\"><a href=\"\" data-bind=\"click: $root.setClass($data,1), css: {fwb: classID()==1}\" class=\"mls\"> Anatomy</a><a href=\"\" data-bind=\"click: $root.setClass($data,2), css: {fwb: classID()==2}\" class=\"mls\"> Physiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,3), css: {fwb: classID()==3}\" class=\"mls\"> Pathophysiology</a><a href=\"\" data-bind=\"click: $root.setClass($data,4), css: {fwb: classID()==4}\" class=\"mls\"> Pharmacology</a><a href=\"\" data-bind=\"click: $root.setClass($data,0), css: {fwb: classID()==0}\" class=\"mls\"> None</a></div></div></div></div></div></div></div></div></div>"}),deftmp("page.freeevents",{template:"<div class=\"page-freeevents\"><div class=\"sleek\"><div id=\"landing\"><div class=\"container center\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/386190daf19ddd7d9200df6eefaedd00e1e48e3d.png\" class=\"logo\"><h1 class=\"center\">Free Events</h1><p class=\"explain center\">Join us for free events and learn how you can study efficiently, tackle high-stakes exams, and succeed throughout your medical career.</p></div></div><section class=\"video-section\"><div class=\"container\"><p class=\"explain center\">(yeah, we're excited too...)</p><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c699edd6f684e56c807352a684fb69b1c5825176.png\"></div></section><section class=\"form-section\"><div class=\"container\"><span class=\"intro-text\">Sign up for</span><h2>Future free events and updates</h2><p class=\"explain\">Dates and times TBD. Please stay tuned.</p><form id=\"mG61Hd\" action=\"https://docs.google.com/forms/d/e/1FAIpQLSfW_A1_WXA_d7cPvg0ADI1UxJwTgapJJ841hr0g410FffLjAg/formResponse\" target=\"_self\" method=\"POST\">       <div class=\"form-item first\"><label><h4 class=\"formstyle ss-q-title\">First Name<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*    </span></h4></label><input type=\"text\" autocomplete=\"off\" tabindex=\"0\" aria-label=\"First Name\" aria-describedby=\"i.desc.1901028095 i.err.1901028095\" name=\"entry.659196718\" value=\"\" dir=\"auto\" data-initial-dir=\"auto\" data-initial-value=\"\" aria-required=\"true\" required=\"\" class=\"quantumWizTextinputPaperinputInput exportInput\"/></div><div class=\"form-item last\"><label><h4 class=\"formstyle ss-q-title\">Last Name<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*    </span></h4></label><input type=\"text\" jsname=\"YPqjbf\" autocomplete=\"off\" tabindex=\"0\" aria-label=\"Last Name\" aria-describedby=\"i.desc.782873402 i.err.782873402\" name=\"entry.1868602887\" value=\"\" dir=\"auto\" data-initial-dir=\"auto\" data-initial-value=\"\" aria-required=\"true\" required=\"\" class=\"quantumWizTextinputPaperinputInput exportInput\"/></div><div class=\"form-item email\"><label><h4 class=\"formstyle ss-q-title\">School Email<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*</span></h4></label><input type=\"text\" jsname=\"YPqjbf\" autocomplete=\"off\" tabindex=\"0\" aria-label=\"School Email\" aria-describedby=\"i.desc.1803613857 i.err.1803613857\" name=\"entry.947113332\" value=\"\" dir=\"auto\" data-initial-dir=\"auto\" data-initial-value=\"\" aria-required=\"true\" required=\"\" class=\"quantumWizTextinputPaperinputInput exportInput\"/></div><div class=\"form-item year\"><label><h4 class=\"formstyle ss-q-title\">Graduation Year<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*  </span></h4></label><select name=\"entry.711656279\" aria-label=\"Class Year\" aria-required=\"true\" required=\"\" title=\"\" class=\"ss-q-short\"><option value=\"\">Select</option><option value=\"2022\">2022</option><option value=\"2021\">2021  </option><option value=\"2020\">2020</option><option value=\"2019\">2019</option><option value=\"2018\">2018</option><option value=\"2017\">2017</option><option value=\"2016\">2016</option><option value=\"2015\">2015</option><option value=\"2014\">2014</option><option value=\"2013\">2013</option><option value=\"2012\">2012</option><option value=\"other\">Other</option></select></div><div class=\"form-item school\"> <label><h4 class=\"formstyle ss-q-title\">School Name<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*</span></h4></label><select autocomplete=\"off\" tabindex=\"0\" aria-label=\"School Name\" name=\"entry.1087634364\" aria-required=\"true\" required=\"\" class=\"school-name\"><option value=\"A. T. Still UniversityKirksville College of Osteopathic Medicine\">A. T. Still UniversityKirksville College of Osteopathic Medicine</option><option value=\"A.T. Still University School of Osteopathic Medicine in Arizona\">A.T. Still University School of Osteopathic Medicine in Arizona</option><option value=\"Alabama College of Osteopathic Medicine\">Alabama College of Osteopathic Medicine</option><option value=\"Albany Medical College\">Albany Medical College</option><option value=\"Albert Einstein College of Medicine at Yeshiva University\">Albert Einstein College of Medicine at Yeshiva University</option><option value=\"All American Institute of Medical Sciences\">All American Institute of Medical Sciences</option><option value=\"All Saints University College of Medicine\">All Saints University College of Medicine</option><option value=\"All Saints University School of Medicine\">All Saints University School of Medicine</option><option value=\"Alpert Medical School at Brown University\">Alpert Medical School at Brown University</option><option value=\"American International Medical University\">American International Medical University</option><option value=\"American International School of Medicine\">American International School of Medicine</option><option value=\"American University of Antigua College of Medicine\">American University of Antigua College of Medicine</option><option value=\"American University of Barbados School of Medicine\">American University of Barbados School of Medicine</option><option value=\"American University of Integrative Sciences\">American University of Integrative Sciences</option><option value=\"American University of St Vincent School of Medicine\">American University of St Vincent School of Medicine</option><option value=\"American University of the Caribbean School of Medicine\">American University of the Caribbean School of Medicine</option><option value=\"Arkansas State University\">Arkansas State University</option><option value=\"Atlantic University School of Medicine\">Atlantic University School of Medicine</option><option value=\"Aureus University School of Medicine\">Aureus University School of Medicine</option><option value=\"Australian National University\">Australian National University</option><option value=\"Avalon University School of Medicine\">Avalon University School of Medicine</option><option value=\"Baylor College of Medicine\">Baylor College of Medicine</option><option value=\"Bond University\">Bond University</option><option value=\"Boonshoft School of Medicine at Wright State University\">Boonshoft School of Medicine at Wright State University</option><option value=\"Boston University School of Medicine\">Boston University School of Medicine</option><option value=\"California Northstate University College of Medicine\">California Northstate University College of Medicine</option><option value=\"Campbell University School of Osteopathic Medicine\">Campbell University School of Osteopathic Medicine</option><option value=\"Caribbean Medical University School of Medicine\">Caribbean Medical University School of Medicine</option><option value=\"Case Western Reserve University School of Medicine\">Case Western Reserve University School of Medicine</option><option value=\"Central Michigan University College of Medicine\">Central Michigan University College of Medicine</option><option value=\"CIMTESES University\">CIMTESES University</option><option value=\"Cleveland Clinic Lerner College of Medicine\">Cleveland Clinic Lerner College of Medicine</option><option value=\"College of Medicine and Health Sciences - Saint Lucia\">College of Medicine and Health Sciences - Saint Lucia</option><option value=\"College of Osteopathic Medicine of the Pacific, Northwest\">College of Osteopathic Medicine of the Pacific, Northwest</option><option value=\"Columbia University College of Physicians and Surgeons\">Columbia University College of Physicians and Surgeons</option><option value=\"Cooper Medical School of Rowan University\">Cooper Medical School of Rowan University</option><option value=\"Creighton University School of Medicine\">Creighton University School of Medicine</option><option value=\"Cumming School of Medicine\">Cumming School of Medicine</option><option value=\"Dalhousie University Faculty of Medicine\">Dalhousie University Faculty of Medicine</option><option value=\"David Geffen School of Medicine at UCLA\">David Geffen School of Medicine at UCLA</option><option value=\"Deakin University\">Deakin University</option><option value=\"Des Moines University College of Osteopathic Medicine\">Des Moines University College of Osteopathic Medicine</option><option value=\"Drexel University College of Medicine\">Drexel University College of Medicine</option><option value=\"Duke University School of Medicine\">Duke University School of Medicine</option><option value=\"East Tennessee State University James H. Quillen College of Medicine\">East Tennessee State University James H. Quillen College of Medicine</option><option value=\"Eastern Virginia Medical School\">Eastern Virginia Medical School</option><option value=\"Edward Via College of Osteopathic Medicine\">Edward Via College of Osteopathic Medicine</option><option value=\"Edward Via College of Osteopathic Medicine\">Edward Via College of Osteopathic Medicine</option><option value=\"Edward Via College of Osteopathic Medicine - Carolinas Campus\">Edward Via College of Osteopathic Medicine - Carolinas Campus</option><option value=\"Emory University School of Medicine\">Emory University School of Medicine</option><option value=\"Flinders University\">Flinders University</option><option value=\"Florida Atlantic University Charles E. Schmidt College of Medicine\">Florida Atlantic University Charles E. Schmidt College of Medicine</option><option value=\"Florida International University Herbert Wertheim College of Medicine\">Florida International University Herbert Wertheim College of Medicine</option><option value=\"Florida State University College of Medicine\">Florida State University College of Medicine</option><option value=\"Forthcoming\">Forthcoming</option><option value=\"Frank H. Netter M.D. School of Medicine at Quinnipiac University\">Frank H. Netter M.D. School of Medicine at Quinnipiac University</option><option value=\"Geisel School of Medicine at Dartmouth\">Geisel School of Medicine at Dartmouth</option><option value=\"George Washington University Medical School\">George Washington University Medical School</option><option value=\"Georgetown American University\">Georgetown American University</option><option value=\"Georgetown University School of Medicine\">Georgetown University School of Medicine</option><option value=\"Georgia Regents University Medical College of Georgia\">Georgia Regents University Medical College of Georgia</option><option value=\"Griffith University\">Griffith University</option><option value=\"Harvard Medical School\">Harvard Medical School</option><option value=\"Heritage College of Osteopathic Medicine\">Heritage College of Osteopathic Medicine</option><option value=\"Heritage College of Osteopathic Medicine\">Heritage College of Osteopathic Medicine</option><option value=\"Hofstra UniversityNorth Shore\u2013LIJ School of Medicine\">Hofstra UniversityNorth Shore\u2013LIJ School of Medicine</option><option value=\"Howard University College of Medicine\">Howard University College of Medicine</option><option value=\"Icahn School of Medicine at Mount Sinai\">Icahn School of Medicine at Mount Sinai</option><option value=\"Indiana University School of Medicine\">Indiana University School of Medicine</option><option value=\"International American University College of Medicine\">International American University College of Medicine</option><option value=\"International University of the Health Sciences (IUHS)\">International University of the Health Sciences (IUHS)</option><option value=\"International University School of Medicine\">International University School of Medicine</option><option value=\"James Cook University\">James Cook University</option><option value=\"Joan C. Edwards School of Medicineat Marshall University\">Joan C. Edwards School of Medicineat Marshall University</option><option value=\"Johns Hopkins University School of Medicine\">Johns Hopkins University School of Medicine</option><option value=\"Kansas City University of Medicine and Biosciences College of Osteopathic Medicine\">Kansas City University of Medicine and Biosciences College of Osteopathic Medicine</option><option value=\"Keck School of Medicine of University of Southern California\">Keck School of Medicine of University of Southern California</option><option value=\"King School of Medicine\">King School of Medicine</option><option value=\"Lake Erie College of Osteopathic Medicine\">Lake Erie College of Osteopathic Medicine</option><option value=\"Lake Erie College of Osteopathic Medicine\">Lake Erie College of Osteopathic Medicine</option><option value=\"Liberty University College of Osteopathic Medicine (LUCOM)\">Liberty University College of Osteopathic Medicine (LUCOM)</option><option value=\"Lincoln Memorial University DeBusk College of Osteopathic Medicine\">Lincoln Memorial University DeBusk College of Osteopathic Medicine</option><option value=\"Loma Linda University School of Medicine\">Loma Linda University School of Medicine</option><option value=\"Louisiana State University School of Medicine in New Orleans\">Louisiana State University School of Medicine in New Orleans</option><option value=\"Louisiana State University School of Medicine in Shreveport\">Louisiana State University School of Medicine in Shreveport</option><option value=\"Loyola University Chicago Stritch School of Medicine\">Loyola University Chicago Stritch School of Medicine</option><option value=\"Marian University College of Osteopathic Medicine\">Marian University College of Osteopathic Medicine</option><option value=\"Mayo Clinic College of Medicine\">Mayo Clinic College of Medicine</option><option value=\"Mayo Medical School - Arizona\">Mayo Medical School - Arizona</option><option value=\"McGill University Faculty of Medicine\">McGill University Faculty of Medicine</option><option value=\"McMaster University Medical School\">McMaster University Medical School</option><option value=\"Medical College of Wisconsin\">Medical College of Wisconsin</option><option value=\"Medical University of South CarolinaCollege of Medicine\">Medical University of South CarolinaCollege of Medicine</option><option value=\"Medical University of the Americas - Nevis\">Medical University of the Americas - Nevis</option><option value=\"Meharry Medical College School of Medicine\">Meharry Medical College School of Medicine</option><option value=\"Memorial University of Newfoundland Faculty of Medicine\">Memorial University of Newfoundland Faculty of Medicine</option><option value=\"Mercer University School of Medicine\">Mercer University School of Medicine</option><option value=\"Michigan State University College of Human Medicine\">Michigan State University College of Human Medicine</option><option value=\"Michigan State University College of Osteopathic Medicine\">Michigan State University College of Osteopathic Medicine</option><option value=\"Midwestern University Arizona College of Osteopathic Medicine\">Midwestern University Arizona College of Osteopathic Medicine</option><option value=\"Midwestern University Chicago College of Osteopathic Medicine\">Midwestern University Chicago College of Osteopathic Medicine</option><option value=\"Monash University\">Monash University</option><option value=\"Monash University\">Monash University</option><option value=\"Morehouse School of Medicine\">Morehouse School of Medicine</option><option value=\"New Mexico State University's Burrell College of Osteopathic Medicine\">New Mexico State University's Burrell College of Osteopathic Medicine</option><option value=\"New York Institute of Technology College of Osteopathic Medicine\">New York Institute of Technology College of Osteopathic Medicine</option><option value=\"New York Medical College\">New York Medical College</option><option value=\"New York University School of Medicine\">New York University School of Medicine</option><option value=\"Northeast Ohio Medical University\">Northeast Ohio Medical University</option><option value=\"Northern Ontario School of Medicine\">Northern Ontario School of Medicine</option><option value=\"Northwestern University Feinberg School of Medicine\">Northwestern University Feinberg School of Medicine</option><option value=\"Nova Southeastern University College of Osteopathic Medicine\">Nova Southeastern University College of Osteopathic Medicine</option><option value=\"Oakland University William Beaumont School of Medicine\">Oakland University William Beaumont School of Medicine</option><option value=\"Ohio UniversityHeritage College of Osteopathic Medicine\">Ohio UniversityHeritage College of Osteopathic Medicine</option><option value=\"Oklahoma State University Center for Health Sciences College of Osteopathic Medicine\">Oklahoma State University Center for Health Sciences College of Osteopathic Medicine</option><option value=\"Oregon Health &amp; Science UniversitySchool of Medicine\">Oregon Health & Science UniversitySchool of Medicine</option><option value=\"Osteopathic Medical College of Wisconsin\">Osteopathic Medical College of Wisconsin</option><option value=\"OU - TU School of Community Medicine\">OU - TU School of Community Medicine</option><option value=\"Pacific Northwest University of Health Sciences\">Pacific Northwest University of Health Sciences</option><option value=\"Palm Beach Medical College\">Palm Beach Medical College</option><option value=\"Pennsylvania State University College of Medicine\">Pennsylvania State University College of Medicine</option><option value=\"Perelman School of Medicine at the University of Pennsylvania\">Perelman School of Medicine at the University of Pennsylvania</option><option value=\"Philadelphia College of Osteopathic Medicine\">Philadelphia College of Osteopathic Medicine</option><option value=\"Philadelphia College of Osteopathic Medicine - Georgia Campus\">Philadelphia College of Osteopathic Medicine - Georgia Campus</option><option value=\"Ponce School of Medicine\">Ponce School of Medicine</option><option value=\"Queen's School of Medicine\">Queen's School of Medicine</option><option value=\"Rocky Vista University College of Osteopathic Medicine\">Rocky Vista University College of Osteopathic Medicine</option><option value=\"Rosalind Franklin University - Chicago Medical School\">Rosalind Franklin University - Chicago Medical School</option><option value=\"Roseman University of Health Sciences\">Roseman University of Health Sciences</option><option value=\"Ross University School of Medicine\">Ross University School of Medicine</option><option value=\"Rowan University School of Osteopathic Medicine\">Rowan University School of Osteopathic Medicine</option><option value=\"Rush Medical College\">Rush Medical College</option><option value=\"Rutgers New Jersey Medical School\">Rutgers New Jersey Medical School</option><option value=\"Rutgers Robert Wood Johnson Medical School\">Rutgers Robert Wood Johnson Medical School</option><option value=\"Saba University School of Medicine\">Saba University School of Medicine</option><option value=\"Saint James School of Medicine\">Saint James School of Medicine</option><option value=\"Saint Louis University School of Medicine\">Saint Louis University School of Medicine</option><option value=\"San Juan Bautista School of Medicine\">San Juan Bautista School of Medicine</option><option value=\"Sanford School of Medicine of theUniversity of South Dakota\">Sanford School of Medicine of theUniversity of South Dakota</option><option value=\"Schulich School of Medicine &amp; Dentistry\">Schulich School of Medicine & Dentistry</option><option value=\"Sidney Kimmel Medical College atThomas Jefferson University\">Sidney Kimmel Medical College atThomas Jefferson University</option><option value=\"Southern Illinois University School of Medicine\">Southern Illinois University School of Medicine</option><option value=\"Spartan Health Sciences University\">Spartan Health Sciences University</option><option value=\"St. George's University School of Medicine\">St. George's University School of Medicine</option><option value=\"St. Martinus University Faculty of Medicine\">St. Martinus University Faculty of Medicine</option><option value=\"St. Matthew's University School of Medicine\">St. Matthew's University School of Medicine</option><option value=\"Stanford University School of Medicine\">Stanford University School of Medicine</option><option value=\"State University of New York Downstate Medical CenterCollege of Medicine\">State University of New York Downstate Medical CenterCollege of Medicine</option><option value=\"State University of New York Upstate Medical University\">State University of New York Upstate Medical University</option><option value=\"Stony Brook University School of Medicine\">Stony Brook University School of Medicine</option><option value=\"Temple University School of Medicine\">Temple University School of Medicine</option><option value=\"Temple University School of Medicine at Allegheny Health Network\">Temple University School of Medicine at Allegheny Health Network</option><option value=\"Texas A&amp;M Health Science Center College of Medicine\">Texas A&M Health Science Center College of Medicine</option><option value=\"Texas Tech University Health Sciences Center Paul L. Foster School of Medicine\">Texas Tech University Health Sciences Center Paul L. Foster School of Medicine</option><option value=\"Texas Tech University Health Sciences Center School of Medicine\">Texas Tech University Health Sciences Center School of Medicine</option><option value=\"Texila American University\">Texila American University</option><option value=\"The Brody School of Medicine at East Carolina University\">The Brody School of Medicine at East Carolina University</option><option value=\"The Commonwealth Medical College\">The Commonwealth Medical College</option><option value=\"The Ohio State University College of Medicine\">The Ohio State University College of Medicine</option><option value=\"Touro College of Osteopathic Medicine\">Touro College of Osteopathic Medicine</option><option value=\"Touro College of Osteopathic Medicine\">Touro College of Osteopathic Medicine</option><option value=\"Touro University California College of Osteopathic Medicine\">Touro University California College of Osteopathic Medicine</option><option value=\"Touro University Nevada College of Osteopathic Medicine\">Touro University Nevada College of Osteopathic Medicine</option><option value=\"Trinity School of Medicine\">Trinity School of Medicine</option><option value=\"Tufts University School of Medicine\">Tufts University School of Medicine</option><option value=\"Tulane University School of Medicine\">Tulane University School of Medicine</option><option value=\"UC Davis School of Medicine\">UC Davis School of Medicine</option><option value=\"UC Riverside School of Medicine\">UC Riverside School of Medicine</option><option value=\"Uniformed Services University of the Health Sciences F. Edward Hebert School of Medicine\">Uniformed Services University of the Health Sciences F. Edward Hebert School of Medicine</option><option value=\"Universidad Central del Caribe School of Medicine\">Universidad Central del Caribe School of Medicine</option><option value=\"Universit\xE9 de Montr\xE9al Facult\xE9 de M\xE9decine\">Universit\xE9 de Montr\xE9al Facult\xE9 de M\xE9decine</option><option value=\"Universit\xE9 de Sherbrooke Facult\xE9 de M\xE9decine et des sciences de la sant\xE9\">Universit\xE9 de Sherbrooke Facult\xE9 de M\xE9decine et des sciences de la sant\xE9</option><option value=\"Universit\xE9 Laval Facult\xE9 de M\xE9decine\">Universit\xE9 Laval Facult\xE9 de M\xE9decine</option><option value=\"University at Buffalo School of Medicine and Biomedical Sciences\">University at Buffalo School of Medicine and Biomedical Sciences</option><option value=\"University of Adelaide\">University of Adelaide</option><option value=\"University of Alabama School of Medicine\">University of Alabama School of Medicine</option><option value=\"University of Alaska at Fairbanks\">University of Alaska at Fairbanks</option><option value=\"University of Alberta Faculty of Medicine and Dentistry\">University of Alberta Faculty of Medicine and Dentistry</option><option value=\"University of Arizona College of Medicine\">University of Arizona College of Medicine</option><option value=\"University of Arkansas for Medical Sciences/UAMS College of Medicine\">University of Arkansas for Medical Sciences/UAMS College of Medicine</option><option value=\"University of Auckland Faculty of Medical and Health Sciences\">University of Auckland Faculty of Medical and Health Sciences</option><option value=\"University of British Columbia Faculty of Medicine\">University of British Columbia Faculty of Medicine</option><option value=\"University of California, Irvine School of Medicine\">University of California, Irvine School of Medicine</option><option value=\"University of California, Merced School of Medicine\">University of California, Merced School of Medicine</option><option value=\"University of California, San Diego School of Medicine\">University of California, San Diego School of Medicine</option><option value=\"University of California, San Francisco School of Medicine\">University of California, San Francisco School of Medicine</option><option value=\"University of Central Florida College of Medicine\">University of Central Florida College of Medicine</option><option value=\"University of Chicago Pritzker School of Medicine\">University of Chicago Pritzker School of Medicine</option><option value=\"University of Cincinnati College of Medicine\">University of Cincinnati College of Medicine</option><option value=\"University of Colorado School of Medicine\">University of Colorado School of Medicine</option><option value=\"University of Connecticut School of Medicine\">University of Connecticut School of Medicine</option><option value=\"University of Florida College of Medicine\">University of Florida College of Medicine</option><option value=\"University of Hawaii at Manoa John A. Burns School of Medicine\">University of Hawaii at Manoa John A. Burns School of Medicine</option><option value=\"University of Houston\">University of Houston</option><option value=\"University of Illinois College of Medicine\">University of Illinois College of Medicine</option><option value=\"University of Iowa Roy J. and Lucille A. Carver College of Medicine\">University of Iowa Roy J. and Lucille A. Carver College of Medicine</option><option value=\"University of Kansas School of Medicine\">University of Kansas School of Medicine</option><option value=\"University of Kentucky College of Medicine\">University of Kentucky College of Medicine</option><option value=\"University of Louisville School of Medicine\">University of Louisville School of Medicine</option><option value=\"University of Manitoba College of Medicine\">University of Manitoba College of Medicine</option><option value=\"University of Maryland School of Medicine\">University of Maryland School of Medicine</option><option value=\"University of Massachusetts Medical School\">University of Massachusetts Medical School</option><option value=\"University of Melbourne\">University of Melbourne</option><option value=\"University of Miami Leonard M. Miller School of Medicine\">University of Miami Leonard M. Miller School of Medicine</option><option value=\"University of Michigan Medical School\">University of Michigan Medical School</option><option value=\"University of Minnesota Medical School\">University of Minnesota Medical School</option><option value=\"University of Mississippi School of Medicine\">University of Mississippi School of Medicine</option><option value=\"University of Missouri-Columbia School of Medicine\">University of Missouri-Columbia School of Medicine</option><option value=\"University of Missouri\u2013Kansas City School of Medicine\">University of Missouri\u2013Kansas City School of Medicine</option><option value=\"University of Nebraska College of Medicine\">University of Nebraska College of Medicine</option><option value=\"University of Nevada School of Medicine\">University of Nevada School of Medicine</option><option value=\"University of Nevada, Las Vegas School of Medicine\">University of Nevada, Las Vegas School of Medicine</option><option value=\"University of New England\">University of New England</option><option value=\"University of New England College of Osteopathic Medicine\">University of New England College of Osteopathic Medicine</option><option value=\"University of New Mexico School of Medicine\">University of New Mexico School of Medicine</option><option value=\"University of New South Wales\">University of New South Wales</option><option value=\"University of Newcastle\">University of Newcastle</option><option value=\"University of North Carolina School of Medicine\">University of North Carolina School of Medicine</option><option value=\"University of North Dakota School of Medicine and Health Sciences\">University of North Dakota School of Medicine and Health Sciences</option><option value=\"University of North Texas Health Science CenterTexas College of Osteopathic Medicine\">University of North Texas Health Science CenterTexas College of Osteopathic Medicine</option><option value=\"University of Notre Dame Australia\">University of Notre Dame Australia</option><option value=\"University of Oklahoma College of Medicine\">University of Oklahoma College of Medicine</option><option value=\"University of Otago Dunedin School of Medicine\">University of Otago Dunedin School of Medicine</option><option value=\"University of Otago, Christchurch\">University of Otago, Christchurch</option><option value=\"University of Otago, Wellington\">University of Otago, Wellington</option><option value=\"University of Ottawa Faculty of Medicine\">University of Ottawa Faculty of Medicine</option><option value=\"University of Pikeville Kentucky College of Osteopathic Medicine\">University of Pikeville Kentucky College of Osteopathic Medicine</option><option value=\"University of Pittsburgh School of Medicine\">University of Pittsburgh School of Medicine</option><option value=\"University of Puerto Rico School of Medicine\">University of Puerto Rico School of Medicine</option><option value=\"University of Queensland\">University of Queensland</option><option value=\"University of Rochester School of Medicine and Dentistry\">University of Rochester School of Medicine and Dentistry</option><option value=\"University of Saskatchewan College of Medicine\">University of Saskatchewan College of Medicine</option><option value=\"University of Science, Arts &amp; Technology Faculty of Medicine\">University of Science, Arts & Technology Faculty of Medicine</option><option value=\"University of South Alabama College of Medicine\">University of South Alabama College of Medicine</option><option value=\"University of South Carolina School of Medicine\">University of South Carolina School of Medicine</option><option value=\"University of South Florida College of Medicine\">University of South Florida College of Medicine</option><option value=\"University of Sydney\">University of Sydney</option><option value=\"University of Tasmania\">University of Tasmania</option><option value=\"University of Tennessee College of Medicine\">University of Tennessee College of Medicine</option><option value=\"University of Texas at Austin - Dell Medical School\">University of Texas at Austin - Dell Medical School</option><option value=\"University of Texas Medical BranchSchool of Medicine\">University of Texas Medical BranchSchool of Medicine</option><option value=\"University of Texas Medical School at Houston\">University of Texas Medical School at Houston</option><option value=\"University of Texas Medical School at San Antonio\">University of Texas Medical School at San Antonio</option><option value=\"University of Texas Southwestern Medical School at Dallas\">University of Texas Southwestern Medical School at Dallas</option><option value=\"University of Texas\u2013Rio Grande Valley\">University of Texas\u2013Rio Grande Valley</option><option value=\"University of the Incarnate Word\">University of the Incarnate Word</option><option value=\"University of the Virgin Islands\">University of the Virgin Islands</option><option value=\"University of the West Indies Faculty of Medicine (Cave Hill)\">University of the West Indies Faculty of Medicine (Cave Hill)</option><option value=\"University of the West Indies Faculty of Medicine (St. Augustine)\">University of the West Indies Faculty of Medicine (St. Augustine)</option><option value=\"University of the West Indies Faculty of Medicine(Mona)\">University of the West Indies Faculty of Medicine(Mona)</option><option value=\"University of Toledo College of Medicine\">University of Toledo College of Medicine</option><option value=\"University of Toronto Faculty of Medicine\">University of Toronto Faculty of Medicine</option><option value=\"University of Utah School of Medicine\">University of Utah School of Medicine</option><option value=\"University of Vermont College of Medicine\">University of Vermont College of Medicine</option><option value=\"University of Virginia School of Medicine\">University of Virginia School of Medicine</option><option value=\"University of Washington School of Medicine\">University of Washington School of Medicine</option><option value=\"University of Western Australia\">University of Western Australia</option><option value=\"University of Wisconsin School of Medicine and Public Health\">University of Wisconsin School of Medicine and Public Health</option><option value=\"University of Wollongong\">University of Wollongong</option><option value=\"Vanderbilt University School of Medicine\">Vanderbilt University School of Medicine</option><option value=\"VCU School of Medicine, Medical College of Virginia Health Sciences Division\">VCU School of Medicine, Medical College of Virginia Health Sciences Division</option><option value=\"Virginia TechCarilion School of Medicine\">Virginia TechCarilion School of Medicine</option><option value=\"Wake Forest School of Medicine\">Wake Forest School of Medicine</option><option value=\"Washington Medical Sciences Institute\">Washington Medical Sciences Institute</option><option value=\"Washington State University\">Washington State University</option><option value=\"Washington University School of Medicine\">Washington University School of Medicine</option><option value=\"Wayne State University School of Medicine\">Wayne State University School of Medicine</option><option value=\"Weill Cornell Medical College\">Weill Cornell Medical College</option><option value=\"West Virginia School of Osteopathic Medicine\">West Virginia School of Osteopathic Medicine</option><option value=\"West Virginia University School of Medicine\">West Virginia University School of Medicine</option><option value=\"Western Michigan University Homer Stryker M.D. School of Medicine\">Western Michigan University Homer Stryker M.D. School of Medicine</option><option value=\"Western Sydney University\">Western Sydney University</option><option value=\"Western University of Health SciencesCollege of Osteopathic Medicine of the Pacific\">Western University of Health SciencesCollege of Osteopathic Medicine of the Pacific</option><option value=\"William Carey University College of Osteopathic Medicine\">William Carey University College of Osteopathic Medicine</option><option value=\"Windsor University School of Medicine\">Windsor University School of Medicine</option><option value=\"Xavier University School of Medicine\">Xavier University School of Medicine</option><option value=\"Yale School of Medicine\">Yale School of Medicine</option><option value=\"other\">Other</option></select></div><div class=\"form-item other-school-name hidden\"><label><h4 class=\"formstyle ss-q-title\">Other School Name<span aria-hidden=\"true\" class=\"require ss-required-asterisk\">*</span></h4></label><input type=\"text\" jsname=\"YPqjbf\" autocomplete=\"off\" tabindex=\"0\" aria-label=\"Other School Name\" aria-describedby=\"i.desc.541173749 i.err.541173749\" name=\"entry.1191186091\" value=\"\" dir=\"auto\" data-initial-dir=\"auto\" data-initial-value=\"\" class=\"other-school\"/></div><div class=\"form-item submit\"><input type=\"hidden\" name=\"fvv\" value=\"1\"/><input type=\"hidden\" name=\"draftResponse\" value=\"[,,&quot;-5733055205449216059&quot;] \"/><input type=\"hidden\" name=\"pageHistory\" value=\"0\"/><input type=\"hidden\" name=\"fbzx\" value=\"-5733055205449216059\"/><input type=\"submit\" value=\"Submit\" name=\"submit\" class=\"btn btn-md btn-primary\"/></div></form></div></section></div></div>"}),deftmp("page.giftcard",{template:"<div class=\"page-giftcard\"><div class=\"sale-banner\"></div><div class=\"giftcard-banner\"><div class=\"giftcard-banner-image\"><img src=\"assets/images/image-assets/gift-bot.png\"></div><div class=\"giftcard-banner-message\"><h2 class=\"giftcard-banner-message-header inverted\">Osmosis eGift cards</h2><p class=\"giftcard-banner-message-text inverted\">Give someone close to you the gift of learning by Osmosis so they can develop into the best clinician they can be.</p></div></div><div class=\"giftcard-content-container\"><div class=\"giftcard-steps-container\"><div class=\"giftcard-section-container\"><h3 class=\"giftcard-step-title\">1. eGift card design</h3><div class=\"ui-CardPicker\"></div></div><div class=\"giftcard-section-container giftcard-details\"><h3 class=\"giftcard-step-title\">2. eGift card details</h3><div data-bind=\"foreach: { data: plans, as: &quot;plan&quot; }\" class=\"thin radio-alt-input\"><label data-bind=\"click: function (data, event) { $parent.selectPlan(data, $parent); }, css: { error: !$parent.validInputs.selectedPlan() &amp;&amp; $parent.attemptedPurchase(), checked: plan.checked }\" class=\"option\"><span data-bind=\"text: &quot;$&quot; + $parent.totalPrice(plan.time) / 100\" class=\"giftcard-total-price\"></span><div class=\"checkmark\"><p data-bind=\"text: plan.title\" class=\"text\"></p></div></label></div><div data-bind=\"visible: !validInputs.selectedPlan() &amp;&amp; attemptedPurchase()\" class=\"negative message\">Please select a plan.</div><div data-bind=\"css: { error: !validInputs.recipientEmail() &amp;&amp; attemptedPurchase() }\" class=\"text-input\"><label for=\"recipient-email\">Recipient email</label><div class=\"label-helper\">(required)</div><input id=\"recipient-email\" data-bind=\"value: recipientEmail\" type=\"text\" placeholder=\"Enter recipient&#39;s email\"/></div><div data-bind=\"css: { error: !validInputs.senderEmail() &amp;&amp; attemptedPurchase() }\" class=\"text-input\"><label for=\"sender-email\">Your email</label><div class=\"label-helper\">(required)</div><input id=\"sender-email\" data-bind=\"value: senderEmail\" type=\"text\" placeholder=\"Enter your email\"/></div><div class=\"text-input giftcard-message\"><label for=\"message\">Message</label><div class=\"label-helper\">(optional)</div><textarea id=\"message\" data-bind=\"value: messageInput, valueUpdate: &quot;input&quot;, attr: { placeholder: defaultMessage }\" rows=\"2\" cols=\"50\"></textarea></div><div data-bind=\"css: { error: !validInputs.deliveryDate() }\" class=\"date-input\"><label for=\"delivery-date\">Delivery date</label><div class=\"label-helper\">(optional)</div><input id=\"delivery-date\" data-bind=\"value: deliveryDate, valueUpdate: &quot;input&quot;\" placeholder=\"Today\" type=\"text\" class=\"datepicker\"/></div><div data-bind=\"visible: !validInputs.deliveryDate()\" class=\"negative message\">Delivery date must be in the future.</div></div><div class=\"giftcard-section-container giftcard-payment-container\"><h3 class=\"giftcard-step-title\"> <span>3. Payment information</span><div class=\"payment-options\"><img data-bind=\"css: { active: cardType() === 'visa' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/T6x945meSAu4wnXXTLO4taBDRuyTxugp.svg\" alt=\"Visa\" class=\"credit-card-icon\"><img data-bind=\"css: { active: cardType() === 'mastercard' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/bTWgeJgGQD_Gp6vZlt_7g1yVQpmnoNCg.svg\" alt=\"Mastercard\" class=\"credit-card-icon\"><img data-bind=\"css: { active: cardType() === 'discover' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/5_JJV74XTom6P2a59Nn6gejrQ-_mYyB0.svg\" alt=\"Discover\" class=\"credit-card-icon\"><img data-bind=\"css: { active: cardType() === 'amex' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/jgEo2Uc-QrCCA_V05CXQYJpvRsaFrFtK.svg\" alt=\"American Express\" class=\"credit-card-icon\"></div></h3><div class=\"giftcard-payment-container\"><div class=\"ui-Creditcard\"></div></div><div class=\"giftcard-total-charged\"><p class=\"giftcard-total-charged-text\">Total charged</p><h2 class=\"giftcard-total-charged-amount\"><span>$</span><span data-bind=\"text: totalPrice(selectedPlan().time) / 100\"></span></h2></div></div><div class=\"giftcard-submit-container\"><div class=\"giftcard-button-container\"><button data-bind=\"ajax: purchaseClick\" class=\"left-icon olive button purchase-button\"><i class=\"far fa-lock\"></i><span>Pay&nbsp;</span><span>$</span><span data-bind=\"text: totalPrice(selectedPlan().time) / 100\"></span><span>&nbsp;and send</span></button></div></div><div class=\"message-container\"><div data-bind=\"visible: !allInputsValid() &amp;&amp; attemptedPurchase()\" class=\"negative message\">Oops, please fill out all required fields.</div><div data-bind=\"visible: purchaseError, text: purchaseError\" class=\"negative message\"></div><div data-bind=\"visible: purchaseSuccess\" class=\"confirmation-message positive message\">   <h2 class=\"header\">Success!</h2><p class=\"explain\"><span>You're good to go. You'll receive a confirmation email shortly and your recipient will receive their eGift card </span><span data-bind=\"text: deliveryDate() === &quot;&quot; ? &quot;today.&quot; : &quot;on &quot; + deliveryDate() + &quot;.&quot;\"></span></p><p class=\"explain\">If you have any questions or comments, please email <span>s</span>upport&#64;o<span>smos<span>is<span>.</span>org.</p></div></div></div><div class=\"giftcard-preview-container\"><div class=\"giftcard-preview\"><div class=\"giftcard-preview-image\"><img data-bind=\"attr: { src: selectedCard().src }\"/></div><div class=\"giftcard-preview-text\"><pre data-bind=\"text: message\"></pre></div><div class=\"divider\"></div><div class=\"giftcard-preview-footer\"><div class=\"giftcard-preview-footer-logo\"><img src=\"assets/images/logo/new/handdrawn-o-hi-trans.png\"></div><div class=\"giftcard-preview-footer-text\"><p class=\"giftcard-preview-footer-gift\">Osmosis Prime</p><h2 data-bind=\"text: selectedPlan() ? selectedPlan().title : &quot;&quot;\" class=\"giftcard-preview-footer-amount\"></h2></div></div></div><div class=\"giftcard-quote\"><p class=\"quote\"><i>\"Where would I be without Osmosis?! Up a creek without a paddle, lost in the trees without seeing the forest, knowing less than Jon Snow. Seriously I could not have gotten through my preclinical years without Osmosis. It combines the best resources and incorporates them into a well-organized platform. It's so easy to get overwhelmed with the amount of material available out there, but Osmosis makes the material digestible. 100% recommendation to anyone!</i> <b>Osmosis is the perfect consolidation of all study materials including flash cards, videos, patient experiences, and First Aid.</b>\"</p><div class=\"author-container\"><div class=\"author-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/11zsk0frSySeDUiqk2Pgl7iDT8u83YY0.jpg\"></div><div class=\"author-information\"><h4 class=\"author-name\">TR Harris</h4><p class=\"author-school\">Dartmouth University</p></div></div></div></div></div></div>"}),deftmp("page.grid",{template:"<div class=\"page-grid\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"mtl\"><input data-bind=\"value: category\" class=\"form-control\"/></div><div class=\"mtm\"><textarea data-bind=\"value: concepts, valueUpdate: &quot;afterkeydown&quot;\" class=\"form-control\"></textarea></div><div class=\"mtm\"><button data-bind=\"click: submit\" class=\"btn btn-primary\">Submit</button></div></div></div></div></div>"}),deftmp("page.groupinvite",{template:"<div class=\"page-groupinvite\"><div class=\"alert alert-success\"><div class=\"center\"><h4>Welcome to Osmosis!</h4><h4>Click below to join the group</h4><h3 style=\"color:black\" data-bind=\"text:groupName\"></h3><div><button data-bind=\"click:joinGroup\" class=\"btn btn-large btn-primary\">Join Group</button></div><div class=\"mtm\"><button data-bind=\"click:cancel\" class=\"btn btn-default btn-sm\">This is not my class</button></div><h5 data-bind=\"visible:afterPopup\">If this isn't your school's group or not your class year, contact us (hi@osmosis.org) to get your school's link</h5></div></div><div data-bind=\"visible:isSchoolSpecific\"><div class=\"center\"><h4>If you haven't already, get the <a href=\"https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&mt=8\" target=\"_blank\">iOS app</a> or <a href=\"https://play.google.com/store/apps/details?id=org.osmosis.med\" target=\"_blank\">Android app</a> now!</h4></div><h3 class=\"center\">Why should you join <span data-bind='text:groupName'></span>?</h3><div class=\"container-fluid\"><div class=\"row span6 col-centered\"><ul><li>Get review questions pushed intelligently to your phone (<a href=\"https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&mt=8\" target=\"_blank\">get the iOS app</a> or the <a href=\"https://play.google.com/store/apps/details?id=org.osmosis.med\" target=\"_blank\">Android app</a>)</li><li>Answer questions relevant to <b>your exam schedule</b></li><li>Review past material automatically to ace the boards</li><li>Be social!</li></ul></div></div><div class=\"container\"><div class=\"row\"><div class=\"ui-ExamSchedule\"></div></div></div></div><div class=\"mbl\">&nbsp;</div></div>"}),deftmp("page.highlightingBeta",{template:"<div class=\"page-highlightingBeta\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/f38dfab88114b40e8cffd070b4e80b5a63608a8a.png\"><h2>Highlighting Has Been Activated!</h2><p class=\"explain\">Here are a few things to know about the beta version:</p><ul><li>To get started on the mobile app you'll need to restart or \"Sync app\" from the menu</li><li>Please use iOS 9 or greater on an iPad for best results</li><li>The interface is subject to change over the next 2-3 weeks as we collect feedback</li></ul><p class=\"closer\">Please remember that this is a beta version. Your feedback <em>and patience</em> are greatly appreciated.</p><a href=\"/\" class=\"btn btn-lg btn-primary tabNavLink\">Got it, Let's get started!</a></div>"}),deftmp("page.institutions",{template:"<div class=\"page-institutions\"><section class=\"main\"><div class=\"container\"><div class=\"heading\"><h1>Osmosis For Institutions</h1><p class=\"explain\">Osmosis is an advanced learning platform that improves student performance while simultaneously providing actionable data to faculty & administrators. You may learn more by reading the material below as well as contacting us for a custom demonstration of Osmosis. </p><div class=\"cta\"><a href=\"\" data-bind=\"click: contactForDemo()\" class=\"btn btn-success btn-lg\"><i class='fa fa-envelope'></i> Request a Demo</a></div></div></div></section><section id=\"evidence-based-education\" class=\"teal-bg\"><div class=\"container\"><div class=\"heading\"><h2>Practice Evidence-Based Education</h2></div><div class=\"content\"><p>Similar to evidence-based medicine, Osmosis believes in evidence-based education. Our team includes PhDs in neuroscience &amp; education, practicing clinicians, and medical students, who have built into the Osmosis platform proven cognitive techniques such as test-enhanced learning, spaced repetition, memory anchors, collaborative learning, Fogg behavior model, and gamification, among others. </p><p>In addition to being featured in the bestselling book, <a target='_blank' href='http://makeitstick.net/about.php'>Make it Stick: The Science of Successful Learning</a>, Osmosis has published the following peer-reviewed papers and is actively engaged in research, including a cross-institutional study with UIC and UCF on its intelligent formative assessment system funded by a <a target='_blank' href='http://www.nbme.org/research/grantsawarded.html'>Stemmler Grant</a> from the National Board of Medical Examiners.    </p><div class=\"pubs\"><ul><li><a href=\"https://osmose-it.s3.amazonaws.com/oKVgiQbEQsSvm3EI1qG1f2_NRCq4qWb0/_.pdf\" target=\"_blank\"><img src=\"https://osmose-it.s3.amazonaws.com/oKVgiQbEQsSvm3EI1qG1f2_NRCq4qWb0/thumb.png\"/><span class=\"title\">What can medical education learn from Facebook &amp; Netflix?</span><span class=\"source\">Annals of Internal Medicine, May 2014</span></a></li><li><a href=\"https://osmose-it.s3.amazonaws.com/dKBdgB7sRYicSg7dwEtkFnBHTCSfv8cH/_.pdf\" target=\"_blank\"><img src=\"https://osmose-it.s3.amazonaws.com/dKBdgB7sRYicSg7dwEtkFnBHTCSfv8cH/thumb.png\"><span class=\"title\">Learning through Osmosis: A collaborative platform for medical education.</span><span class=\"source\">Innovations in Global Medical & Health Education, November 2014</span></a></li><li><a href=\"https://osmose-it.s3.amazonaws.com/wOta0nN8QDqz92ZLKJxInDIzSh2ym-OX/_.pdf\" target=\"_blank\"><img src=\"https://osmose-it.s3.amazonaws.com/wOta0nN8QDqz92ZLKJxInDIzSh2ym-OX/thumb.png\"><span class=\"title\">The association between confidence and accuracy among users of a mobile web platform for medical education.</span><span class=\"source\">Annals of Internal Medicine, March 2015</span></a></li></ul></div><p>We also have <a target='_blank' href='https://www.osmosis.org/boardstudy'>analyzed performance on high-stakes board exams</a> and have found that students who use Osmosis for more than three months scored an average of a <strong>247 on the USMLE Step 1 exam</strong>. Osmosis continues to learn and improve based on the latest evidence.</p></div></div></section><section id=\"student-analytics\"> <div class=\"container\"><div class=\"heading\"><h2>Receive Detailed Analysis on Student Performance &amp; Competencies</h2></div><div class=\"content\"><div class=\"row\"><div class=\"col-lg-5 col-md-6\"><p>Osmosis is a data-driven company that operates with the adage, \u201CIf you cannot measure it, you cannot improve it.\u201D </p><p>In addition to tracking learner behavior on the Osmosis system, we generate easy-to-understand visualizations that allow faculty &amp; administrators to determine how cohorts and individual students are doing overall and within specific curricular topics. </p><p>Through the Osmosis system you will be able to answer questions such as, \u201CWhich of my students are at-risk and need support?\u201D, \u201CAre there any gaps in our curriculum?\u201D, and others.</p></div><div class=\"col-lg-7 col-md-6\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/be6b2d13c91cc4784f67b8871b28cda2a97ac492.png\"></div></div></div></div></section><section id=\"security-guarantee\" class=\"security\"><div class=\"container\"><p><i class='fa fa-shield'></i> Highest Level of Encryption &amp; Security Guaranteed</p></div></section><section id=\"visualize-curriculum\"> <div class=\"container\"><div class=\"heading\"><h2 style=\"margin-bottom: 15px;\" class=\"center\">Visualize and Manage Your Curriculum</h2><p class=\"center explain lg\">Like Never Before</p></div><div class=\"content\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/2c724110325d06069a45d23f9f23762d6c778a9e.png\"><p style=\"width: 75%; text-align: center; margin: 50px auto; line-height: 40px; font-size: 23px;\">Osmosis also has powerful tools designed to help your faculty & administration, including our one-of-a-kind curriculum visualization & mapping tool, Timeline Search. By uploading course documents to the private and secure Osmosis Class Groups, you can benefit from the Timeline Search feature that enables you to pinpoint specifically where topics are covered in your curriculum. This is especially useful for accreditation purposes, such as the LCME self-study, and for enabling your faculty to identify and resolve potential gaps in the evolving medical education curriculum.</p></div><div class=\"cta center\"><a href=\"\" data-bind=\"click: contactForDemo()\" class=\"btn btn-success btn-lg\"><i class='fa fa-envelope'></i> Request a Demo</a></div></div></section><section id=\"osmosis-partners\" class=\"partners-section\"> <div class=\"container\"><div class=\"heading\"><h2 class=\"center\">Provide the Best Resources To Your Learners</h2></div><div class=\"content\">   <p class=\"center\">Osmosis is a learning platform that seamlessly combines curricular material with board &amp; ward preparation. We bring the best resources to your learners, including those developed by our team of clinicians, residents, and advanced clinical students, as well as those from our collaborators which include:</p><div class=\"row center\"><div class=\"partner\"><a href=\"http://www.elsevier.com/\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/45d6d908aac1054d428ac0431270735e69ef0beb.png\"></a></div><div class=\"partner\"><a href=\"/medscape\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c61eae97297b6f41439b2db96a96b76a34f1db0e.png\"></a></div><div class=\"partner\"><a href=\"/picmonic\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/4dc87a73562bdaa05a3b3727457bf3b2d3fbe915.png\"></a></div></div><div style=\"margin-top:50px\" class=\"row center\"> <div class=\"partner\"><a href=\"https://reeldx.com/\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d7f947ac5470be4b00536a99db36ad6519419339.png\"></a></div><div class=\"partner\"><a href=\"https://www.acponline.org/\" target=\"_blank\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/e3151937b41de7935715691b6a073e760af2c23a.png\"></a></div></div></div></div></section><section id=\"schools-using-osmosis\" class=\"green-bg\"> <div class=\"container\"> <div class=\"heading\"><h2>Current Schools Using Osmosis</h2></div><div class=\"content\">   <p>A number of schools have already signed on to officially use Osmosis to improve student performance as well as empower faculty & administrators with novel features, a few of which include:</p><ul><li>UC Berkeley-UCSF Joint Masters Program</li><li>Rush Medical College</li><li>University of Central Florida (NBME-funded Stemmler Grant)</li><li>Duke-National University of Singapore</li><li>University of Illinois-Chicago (NBME-funded Stemmler Grant)</li><li>West Virginia School of Osteopathic Medicine</li><li>Western University College of Osteopathic Medicine (MSMS Program)</li><li>Midwestern University-Chicago College of Osteopathic Medicine</li></ul><p>In addition, students at more than 300 institutions, including each US & Canadian medical schools, are already using Osmosis.    </p></div></div></section><section id=\"osmosis-press\"> <div class=\"container\"> <div class=\"heading\"><h2>Relevant Press &amp; Presentations</h2></div><div class=\"content\">   <p>Osmosis has been invited to present at a number of conferences, including:</p><ul><li> <a target=\"_blank\" href=\"http://macyfoundation.org/publications/publication/enhancing-health-professions-education-technology\">Macy Foundation Conference on Enhancing Health Professions Education through Technology 2015: </a><span>&nbsp;Washington DC</span></li><li><a target=\"_blank\" href=\"http://wish-qatar.org/research/innovation-catalogue/catalogue-item?innovationID=85\">World Innovation Summit on Health 2015: </a><span>&nbsp;Doha, Qatar</span></li><li><span>Association of American Medical Colleges 2014: Chicago, IL</span></li><li><span>American Medical Association 2014: Chicago, IL</span></li><li><a target=\"_blank\" href=\"http://blog.osmosis.org/2014/02/osmosis-at-transformingedu-2014/\">TransformingEDU 2014: </a><span>&nbsp;Las Vegas, NV</span></li></ul><p>We have also been written about extensively in the media & have written articles about health education & innovation:</p><ul><li>Medical Daily - <a href='http://www.medicaldaily.com/osmosis-app-manages-med-school-you-323008' target='_blank'>Osmosis is the App that Manages Medical School For You</a></li><li>Games and Learning - <a href='http://www.gamesandlearning.org/2014/06/23/med-school-cognitive-science-inspire-award-winning-education-app/' target='_blank'>Med School, Cognitive Science Inspire Award-winning Education App</a></li><li>InTheCapital - <a href='http://inthecapital.streetwise.co/2014/06/04/osmosis-med-app-will-help-you-ace-the-boards/' target='_blank'>This Award-Winning Johns Hopkins App Will Help You Ace the Boards</a></li><li>Fast Company - <a href='http://www.fastcolabs.com/3014088/open-company/the-memory-hack-that-got-me-through-med-school-and-inspired-a-startup' target='_blank'>The Memory Hack That Got Me Through Med School - And Inspired a Start-Up</a>        </li><li>TEDMED - <a href='http://blog.tedmed.com/?p=3765' target='_blank'>Can Med Students Learn by Osmosis?</a></li><li>Quartz - <a href='http://qz.com/104679/why-so-many-medical-school-students-are-failing-the-exams-to-become-a-doctor/' target='_blank'>Why so many medical school students are failing the exams to become a doctor</a>          </li><li>Medscape - T<a href='http://www.medscape.com/viewarticle/846869' target='_blank'>he New MCAT: Is Today\u2019s Exam Right for Tomorrow\u2019s Physicians?</a></li><li>AAMC Reporter - <a href='https://www.aamc.org/newsroom/reporter/february2014/370352/technology.html' target='_blank'>Medical Students Expand Entrepreneurial Zeal for App Development</a></li><li>The Almost Doctor\u2019s Channel - <a href='http://almost.thedoctorschannel.com/the-memory-trick-every-med-student-should-know/' target='_blank'>The Memory Trick Every Med Student Should Know</a></li><li>The Doctor\u2019s Channel - <a href='http://www.thedoctorschannel.com/view/osmosis-education-through-gamification/' target='_blank'>Osmosis: Education through Gamification</a></li><li>The Healthcare Blog - <a href='http://thehealthcareblog.com/blog/2013/07/05/the-real-problem-with-board-exams-and-how-to-solve-it/' target='_blank'>The Real Problem with Board Exams - and How to Solve It</a></li><li>iMedicalApps - <a href='http://www.imedicalapps.com/2013/09/osmosis-app/' target='_blank'>The Osmosis App Prevents Cramming and Promotes Learning</a></li><li>MedCity News - <a href='http://medcitynews.com/2013/08/what-does-pop-culture-have-to-do-with-a-med-school-study-app/' target='_blank'>What does pop culture have to do with a med school study app?</a></li><li>Johns Hopkins Medicine - <a href='http://www.hopkinsmedicine.org/institute_basic_biomedical_sciences/about_us/scientists/osmosis.html' target='_blank'>Meet Osmosis Co-founders: Shiv Gaglani and Ryan Haynes</a></li><li>WhiteCoat DO - <a href='http://www.whitecoatdo.com/learning-by-osmosis-a-more-effective-way-to-study-in-med-school/' target='_blank'>Learning by Osmosis - A more effective way to study in med school</a></li><li>AAMC GIR Viewpoint - <a href='https://www.aamc.org/members/gir/resources/412358/viewpointstudentsandapps.html' target='_blank'>Encouraging Medical Students to Develop Mobile Apps</a></li></ul><div style=\"margin-top: 100px;\" class=\"cta center\"><a href=\"\" data-bind=\"click: contactForDemo()\" class=\"btn btn-success btn-lg\"><i class='fa fa-envelope'></i> Request a Demo</a></div></div></div></section></div>"}),deftmp("page.interview",{template:"<div class=\"page-interview container\"><div class=\"mtxxl\">&nbsp;</div><h2>Osmosis Frontend Developer Interview Project</h2><h4>Purpose</h4><ul><li>To provide an introduction to frameworks that Osmosis uses.</li><li>To evaluate technical skills in using javascript, knockout.js, and the custom internal framework that Osmosis uses.</li><li>To evaluate technical skills in using CSS/Less.</li></ul><h4>Goal</h4><h5>To recreate the UI elements shown in the image below.</h5><p>This is an older UI that we previously used for our video pages.</p><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/51f15fc0addf921e8cbe024427c6989834bc635b.png\" width=\"100%\" class=\"mtm\"/><h4>Starting Resources</h4><p>Prior to starting the project you should become familiar with the following tools:</p><ul><li><b>Knockout.js</b> - They have some great tutorials and documentation on the site, but it is a bit of a rabbit hole because knockout can do a lot of things that are not relevant to this starter project. As long as you know how to put together a todo list that can add/remove items you'll have the basics.</li><li><b>Jade/Pug</b> - Mostly a shorthand for html (Pug was previously called Jade and we continue to use this name internally). Using <a href=\"http://html2jade.org\">http://html2jade.org</a> is recommended to get up to speed with how it works. We also generally don't use a lot of the more complicated syntax that it's capable of just because most of what we do with lists/loops happens with knockout. Therefore, like knockout, only a basic familiarity is necessary to get started.</li><li><b>Less</b> - We keep css encapsulated to individual components by wrapping a class around the less file that contains it's full directory path. So for example, if we have a component called Calendar in the models directory, there would be a Calendar.js file, a Calendar.jade file, and a Calendar.less file. The Calendar.less file would be nested in a class .models-Calendar so that the styles only get applied to the Calendar component and nowhere else. This is handled automatically by the server.</li></ul><p>Once you're familiar with the tools above, you'll be added to a starter repo with some basic component code. Additionally, you'll be added to a repo called \"fusion\" which is our custom internal framework.</p><h4>Expected Time Required</h4><p>Based on previous candiates' experience, it is possible to complete this project in 2-3 days. Ideally, this project should be completed in a week or less.</p><h4>Simplifying Assumptions</h4><p>In order to limit the scope of this project, the following can be assumed:</p><ul><li>It is not necessary for any of the buttons to perform the specified actions. Clicking a button or icon should just display a javascript alert box that says clicked.</li><li>The video can be found at <a href=\"https://www.youtube.com/watch?v=xIZQRjkwV9Q\">https://www.youtube.com/watch?v=xIZQRjkwV9Q</a> and can be embedded with any standard video embedding technique.</li><li>Elements should scale well (including the video) for various screen widths above 800px but do not need to be mobile responsive.</li></ul><h4>Additional Resources</h4><ul><li>The style file for fonts used on the page can be found <a href=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/8dc6d531b274e54c602d56283b6bb7710d2922ce/style.css\">here</a></li><li>The following images can be used as thumbnails for the up next section (note that some of the thumbnails in the image above are outdated so feel free to use these instead):</li><img src=\"https://osmose-it.s3.amazonaws.com/fbUt_zeLT0CZ94mrPJ2_GLqiQVGz87PR/_.jpg\" style=\"width: 150px\" class=\"mrl\"/><img src=\"https://osmose-it.s3.amazonaws.com/A14eSNpGRtOfvDcXtnVmTjsoRqqxX_xG/_.jpg\" style=\"width: 150px\" class=\"mrl\"/><img src=\"https://osmose-it.s3.amazonaws.com/5s6MQgmrSD_2Q3GjhxabpBgGRwuSghw6/_.jpg\" style=\"width: 150px\" class=\"mrl\"/><img src=\"https://osmose-it.s3.amazonaws.com/uwKvi18vTIiR2orcrbtJaM7FS3uxCfR4/_.jpg\" style=\"width: 150px\" class=\"mrl\"/><img src=\"https://osmose-it.s3.amazonaws.com/zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png\" style=\"width: 50px\" class=\"mrl\"/><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/7576b2685f2eac1582b3c3d64f467f3cf2172722.png\" style=\"width: 50px\" class=\"mrl\"/></ul><h4>Additional Notes</h4><p>There are instructions in the repo's readme that explain how to set it up. Mainly, you'll need nodejs and npm which will do most of the work for you via npm install but you'll need to manually clone the fusion repo (you should have read access to it) into a folder called local. Once you get up and running you should be able to navigate to the index page in your browser. If you explore the repo a bit, you should be able to figure out how things fit together. The client-side code is in the folder called \"client\". Individual components on a page are broken down into 3 parts (logic, layout, and style). The logic is of course a .js file, the layout is .jade, and the style is .less. You'll see that each component name has a variant with each of those extensions. One exception to this structure is the .less file which is actually optional. The purpose of the less file for a component is to give styles to an individual component only that are hidden from the rest of the page. The way it works is that the .jade file always has to begin with a div of a class that represents the path to the object (i.e. a component in client/ui/ExampleA starts with .ui-ExampleA). This .ui-ExampleA class is then used as a wrapper for the less file when it's compiled by the server and that keeps the styles from affecting any other component. Of course, not all components are styled so not all of them need .less files. Also take a look at the css directory. These are where global styles (global.less) are stored.</p><p>As for the .js file, the main thing that can be a little confusing is the bind,args syntax at the top of the component's constructor. bind(this) is called <b>after</b> observables are declared and <b>before</b> any subcomponents are mixed into the page (see the code for fs.mix, fs.mixAppend, etc to understand mixins and subcomponents). The reason bind(this) is required is that in knockout.js bindings cannot be applied multiple times to the same elements so what needs to happen is that observables are declared and then the bindings are applied followed by the child component declarations and subsequent bindings. The args variable is simply a way to pass arguments into the constructor from the parent elements. There are a few examples of how this works. Another thing to note re: observables, knockout can be used with standard javascript variables (and it's actually more memory efficient to do so) if you know the value is never going to change. So for example in the .js file you might have</p><pre>this.title = args.title</pre><p>and in the .jade file:</p><pre>h1(data-bind='text: title')</pre><p>the following syntax is equivalent but not necessary unless you assume title is going to change.</p><pre>this.title = ko.observable(args.title)</pre><div data-bind=\"visible: isAdmin\" class=\"alert alert-success mtl\"><div class=\"mhl\"><h2>Internal: Setting up the starter repo</h2><ul><li><a href=\"https://github.com/organizations/OsmosisKD/repositories/new\">Create a new repo</a> on github called starter-repo-******.git where ****** is the interviewee's name.</li><li>Clone the starter repo into the new repo:</li></ul><div class=\"mhxxl\"><pre>git clone --bare git@github.com:OsmosisKD/starter_repo.git</pre><pre>cd starter_repo.git</pre><pre>git push --mirror git@github.com:OsmosisKD/starter-repo-******.git</pre></div><ul><li><a href=\"https://github.com/orgs/OsmosisKD/new-team\">Create a new team</a> called \"Interview-******\" and add the repo and all participants.</li></ul></div></div></div>"}),deftmp("page.learningScienceBook",{template:"<div data-bind=\"css:{ &quot;no-prime&quot;: !hasPrime(), locked: locked }\" class=\"page-learningScienceBook\"><div class=\"ui-PrimeLockOverlay\"></div><div class=\"container fullpage\"><div class=\"prime-user\"><h1 data-bind=\"html:title\" class=\"center\">How to Study in Medical School</h1><p class=\"explain center\">Download the study guide and learn how to study like a pro.</p></div><div class=\"main-image\"><a href=\"\" data-bind=\"attr:{ href: downloadLink }\"><img data-bind=\"attr: { src: bookCoverImg }\" src=\"\"/></a></div><div class=\"prime-user\"><div class=\"cta center\"><a href=\"\" data-bind=\"attr:{ href: downloadLink }\" class=\"blue left-icon button\"><i class=\"fas fa-download\"></i><span>Download </span></a></div></div></div></div>"}),deftmp("page.lists",{template:"<div class=\"page-lists container\"><h2>Mailing List Controls</h2><table class=\"table table-striped\"><thead><tr><th>Mailing List</th><th>Frequency</th><th>Description</th><th>Subscription</th></tr></thead><tbody><tr><td>Progress Report</td><td>Weekly</td><td>A summary of your progress across all topics.</td><td><div class=\"controls\"><div data-bind=\"bootstrapSwitchOn:progressReportList\" class=\"make-switch\"><input type=\"checkbox\"/></div></div></td></tr><tr><td>Updates</td><td>Rarely</td><td>Notifications when Osmosis implements significant feature updates (it's strongly recommended to not disable this list).</td><td><div class=\"controls\"><div data-bind=\"bootstrapSwitchOn:updatesList\" class=\"make-switch\"><input type=\"checkbox\"/></div></div></td></tr></tbody></table><div class=\"form-group\"><div class=\"controls\"><div class=\"row\"><div class=\"span9\"><button data-bind=\"click:submit, disable: !subscriptionModified()\" class=\"btn btn-primary pull-right\">Save Changes</button><img style=\"width:24px\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" data-bind=\"visible:savePending\" class=\"mlm pull-right\"></div></div></div></div></div>"}),deftmp("page.loggedOutDecks",{template:"<div class=\"page-loggedOutDecks\"><div class=\"container\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"quiz-section\"><div class=\"quiz-item-row\"><div class=\"deck-section\"><div data-bind=\"css:deckTheme || &quot;default&quot;\" class=\"quiz-object\"><i class=\"fi fi-flashcard-bolt\"></i><div data-bind=\"html:total\" class=\"count\"></div><div data-bind=\"visible:hasAvatar\" class=\"avatars\"></div></div><div class=\"quiz-info deck-info\"><div class=\"name\"><span data-bind=\"text: name\"></span></div><div class=\"progress-count\"><div class=\"author\"><span>Author:&nbsp;</span><span>Ryan Haynes</span><span class=\"sep\">&#8226;</span></div><div class=\"not-started\"><span data-bind=\"html:total\"></span><span>&nbsp;</span><span>Flashcards</span></div></div><div class=\"progress-bar\"></div></div></div></div><div class=\"deck-descr\"><p data-bind=\"html:deckDescr\"></p></div></div><div class=\"content-section\"><div class=\"quiz-preview\"><span class=\"intro\">Preview</span><div data-bind=\"foreach:ques\" class=\"ques-list\"><div data-bind=\"css:{active:$root.currentQues()==$index()}, attr:{&quot;data-ques&quot;:$index}\" class=\"ques-body\"><div data-bind=\"html:stem\" class=\"stem\"></div></div></div><div class=\"nav-arrows\"><div data-bind=\"visible:currentQues() &gt; 0, click:prev\" class=\"arrow arrow-left\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"visible:currentQues() &lt; (ques().length - 1), click:next\" class=\"arrow arrow-right\"><i class=\"fa fa-angle-right\"></i></div></div><div data-bind=\"foreach:ques\" class=\"nav-markers\"><div data-bind=\"css:{active:$root.currentQues()==$index()}, click:$root.navToQues($index())\" class=\"marker\"><i>&#8226;</i></div></div></div><div class=\"intro-section\"><div class=\"intro-info\"><div class=\"highlight\"><span>What Osmosis added</span></div><p><strong>To increase retention:</strong> We integrated <span data-bind='html:linkCount'/> hyperlinks to Osmosis videos, Patient cases, mneumonics, Pimonics, &amp; Sketchy Medical.</p></div><div class=\"intro-icons\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3cbe3ffd685917d6e2a989236fe5ddef067120ea.png\" class=\"osmosis\"/><img src=\"https://osmose-it.s3.amazonaws.com/VU-xguGLT6SJHKGxkWyl_QqVTWSY-rgr/_.jpg\" class=\"sketchy\"/><img src=\"https://osmose-it.s3.amazonaws.com/I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png\" class=\"youtube\"/><img src=\"https://osmose-it.s3.amazonaws.com/zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png\" class=\"picmonic\"/></div></div></div></div></div><div class=\"cta-section\"><div class=\"msg\">Create new account to see the whole deck with answers</div><div class=\"cta start-now\"> <span data-bind=\"click:login(&quot;start&quot;)\">Log in - Start now</span></div><div class=\"cta save\"> <span data-bind=\"click:login(&quot;save&quot;)\">Log in - Save for later</span></div></div></div></div>"}),deftmp("page.matchOMMQues",{template:"<div data-bind=\"css:{loading:loading}\" class=\"page-matchOMMQues\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-4 main-left-sidebar scrollable\"><div data-bind=\"foreach:ommTerms\" class=\"omm-list\"><div data-bind=\"click:$root.handleTermClick($data)\" class=\"omm-term\"><div data-bind=\"html:title\" class=\"the-term\"></div></div></div></div><div style=\"position: relative; padding-top: 15px;\" class=\"col-md-8\"><div><span class=\"fwb\" data-bind='text: count'/> remaining <a href='' data-bind='click: addWikiTerm'>Add Wiki Term</a></div><div class=\"ques\"></div><button data-bind=\"click: ignoreQues\" class=\"btn btn-default\">No Available Match</button><button data-bind=\"click: removeQues\" class=\"btn btn-default mls\">Discard Question</button></div></div></div></div>"}),deftmp("page.matchQues",{template:"<div class=\"page-matchQues\"><div class=\"container\"><div style=\"position: relative\" class=\"row mtxl\"><div><span class=\"fwb\" data-bind='text: count'/> remaining <a href='' data-bind='click: addWikiTerm'>Add Wiki Term</a></div><div class=\"ques\"></div><div data-bind=\"visible: matchTabVisible\" style=\"background-color: #FEA; border-radius: 5px\" class=\"match-tab\"><div>Tag to <span class=\"fwb\" data-bind='text: matchTerm'/> <a class=\"fp80\" href=\"\" target='blank' data-bind='attr: {href: termURL}'>go to card</a></div><div><a href=\"\" data-bind='ajax: categorize(\"Step 1+2 Case\")'>Step 1 or 2 Case</a> | <a href=\"\" data-bind='ajax: categorize(\"Step 1 Case\")'>Step 1 Case</a> | <a href=\"\" data-bind='ajax: categorize(\"Step 1 Factoid\")'>Step 1 Factoid</a> | <a href=\"\" data-bind='ajax: categorize(\"Step 2 Case\")'>Step 2 Case</a> | <a href=\"\" data-bind='ajax: categorize(\"Celeb Case\")'>Celeb Case</a> | <a href=\"\" data-bind='ajax: categorize(\"COMLEX\")'>COMLEX</a> | <a href=\"\" data-bind='ajax: categorize(\"COMLEX Factoid\")'>COMLEX Factoid</a></div></div><button data-bind=\"click: ignoreQues\" class=\"btn btn-default\">No Available Match</button><button data-bind=\"click: removeQues\" class=\"btn btn-default mls\">Discard Question</button></div></div></div>"}),deftmp("page.medscape",{template:"<div class=\"page-medscape\"><div class=\"hero-section\"><div class=\"container\"><span class=\"logo-section\"><a target=\"_blank\" href=\"http://www.medscape.com/medicalstudents?src=ban_acq_new_osm\"><img id=\"medscape-logo\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c61eae97297b6f41439b2db96a96b76a34f1db0e.png\" alt=\"osmosis logo\"></a><a href=\"/\"><img id=\"osmosis-logo\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/2a0fb2fca4c6ba847391c5f1bd01d37b581267f2.png\" alt=\"osmosis logo\"></a></span><div class=\"pre-heading\">Back By Popular Demand!</div><h1>The Medscape-Osmosis Collaboration</h1><p class=\"explain\">We've joined forces to help deliver the best med school experience possible.</p></div></div><div class=\"partnership-section\"><div class=\"container\"><h2 class=\"center mbl\">Our Collaboration</h2><p>Osmosis is committed to developing the absolute best learning platform for medical students. To this end we are excited to announce our collaboration with <a target=\"_blank\" href='http://www.medscape.com/medicalstudents?src=ban_acq_new_osm'>Medscape</a>, the leading online destination physicians turn to for timely and trusted medical information. </p><p>Osmosis now recommends Medscape reference content, including tens of thousands of disease and drug articles, right along side your course documents and quizzes. </p></div></div><div class=\"competition-section\"><div class=\"container\"><h2>The Competition</h2><p class=\"explain mtl\">The competition has ended.</p></div></div><div class=\"video-section\"><div class=\"container\"><h3>\"What's Osmosis?\" You Ask...</h3><p class=\"explain center\">Hold on to your seatbelts and start this video!   </p><div class=\"video\"><iframe src=\"https://www.youtube.com/embed/HW4H80XHRGc\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"> </iframe></div></div></div><div class=\"about-section\"><div class=\"container\"><h2 class=\"center\"><a href=\"http://www.medscape.com/medicalstudents?src=ban_acq_new_osm\" target=\"_blank\">About Medscape</a></h2><p style=\"text-align: center;width: 85%;margin: 15px auto 33px;\"><a href='http://www.medscape.com/medicalstudents?src=ban_acq_new_osm' target='_blank'>Medscape</a> is the leading online destination physicians turn to for timely and trusted medical information.  Check out our site dedicated to medical students, where you can access the latest medical news, drug and disease information, patient cases, and much more.</p><div class=\"center\"><a target=\"_blank\" href=\"http://www.medscape.com/medicalstudents?src=ban_acq_new_osm\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/457b455a061e0b7aac17f84b1372cf6eb7a8250d.gif\" alt=\"medscape\"></a></div></div></div><div class=\"disclaimer-section\"><div class=\"container center\"><p class=\"small\">*Any complimentary Prime you earn will add on to your existing Prime level and cannot be converted into monetary value.        </p></div></div></div>"}),deftmp("page.medscape_register",{template:"<div class=\"page-medscape_register\"><div class=\"hero-section\"><div class=\"container\"><div class=\"pre-heading\">Introducing</div><h1>The Medscape-Osmosis Collaboration</h1><span class=\"logo-section\"><a target=\"_blank\" href=\"http://www.medscape.com/medicalstudents?src=ban_acq_new_osm\"><img id=\"medscape-logo\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c61eae97297b6f41439b2db96a96b76a34f1db0e.png\" alt=\"osmosis logo\"></a><a href=\"/\"><img id=\"osmosis-logo\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/2a0fb2fca4c6ba847391c5f1bd01d37b581267f2.png\" alt=\"osmosis logo\"></a></span><p class=\"explain\">We've joined forces to help deliver the best med school experience possible.</p></div></div><div class=\"partnership-section\"><div class=\"container\"><h2 class=\"center mbl\">Our Collaboration</h2><p>Osmosis is committed to developing the absolute best learning platform for medical students. To this end we are excited to announce our collaboration with <a target=\"_blank\" href='http://www.medscape.com/medicalstudents?src=ban_acq_new_osm'>Medscape</a>, the leading online destination physicians turn to for timely and trusted medical information. </p><p>Osmosis now recommends Medscape reference content, including tens of thousands of disease and drug articles, right along side your course documents and quizzes.</p></div></div><div class=\"competition-section\"><div class=\"container\"><h2>The Competition</h2><p class=\"explain mtl\">The competition has ended. But don't worry, there are still ways to get free Osmosis Prime! </p><div class=\"div\"> <a href=\"/referral\" class=\"btn btn-xl btn-warning\">Get Free Months of Osmosis Prime</a></div></div></div><div class=\"about-section\"><div class=\"container\"><h2 class=\"center\">About Medscape</h2><p style=\"text-align: center;width: 85%;margin: 15px auto 33px;\">Medscape is the leading online destination physicians turn to for timely and trusted medical information.  Check out our site dedicated to medical students, where you can access the latest medical news, drug and disease information, patient cases, and much more.      </p></div></div></div>"}),deftmp("page.member",{template:"<div class=\"page-member\"><div class=\"tabs-account-analytics\"></div></div>"}),deftmp("page.mobileBeta",{template:"<div class=\"page-mobileBeta\"><i class=\"fa fa-mobile-alt\"></i><h2>Mobile Beta has been activated!</h2><p class=\"explain\">Here are a few things to know about the beta version:</p><ul><li>You might need to completely stop the app and restart it to get the new version.</li><li>The mobile interface is subject to change over the next few weeks as we collect feedback</li></ul><p class=\"closer\">Please remember that this is a beta version. Your feedback <em>and patience</em> are greatly appreciated.</p></div>"}),deftmp("page.newaccount",{template:"<div class=\"page-newaccount\"><div class=\"page-register\"></div></div>"}),deftmp("page.picmonic",{template:"<div class=\"page-picmonic\"><div class=\"main-image center\"><div class=\"container\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/351403df7624c84aeb72e822d70a3f3fcf0d1fea.png\" alt=\"picmonic and osmosis playing with brain\"></div></div><div data-bind=\"visible: logInVisible\" class=\"authStep\"><div class=\"center\"><h3>Log into Osmosis to Redeem your offer from Picmonic</h3><p>Choose either Facebook or Google login so you can <b>access questions via the web platform</b></p></div><div class=\"span12 mbxxxl\"><div class=\"form-inline center\"><button data-bind=\"click:withFacebook\" class=\"btn btn-lg btn-default\"><i style=\"font-size: 130%; color:#3b5999\" class=\"fab fa-facebook-square\"></i> with Facebook</button><button data-bind=\"click:withGoogle\" class=\"btn btn-lg btn-default mls\"><i style=\"font-size: 130%; color:#A52A2A\" class=\"fab fa-google-plus-square\"></i> with Google</button><div class=\"fp80\">Don't have facebook or gmail? Click <a href=\"/newaccount?traditional\">here</a></div></div></div></div><div class=\"content-section deal\"><div class=\"container\"><h1 style=\"color:#ffffff\" class=\"center\">Picmonic and Osmosis<br />Play Well Together</h1><p class=\"explain center\">Yep, it's getting real up in this cerebrum!</p></div></div><div class=\"content-section\"><div class=\"container\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/e6e2d93ef2f31b51762f13d70aa7d603764e9eba.png\"><h2>Get Intelligently Recommended Picmonics</h2><p>Try Osmosis if you'd like to get your Picmonics recommended right alongside your own course documents as well as access to 6,500+ multiple choice questions and 15,000+ flashcards covering preclinical, clinical, and boards material. Osmosis combines the latest in cognitive science with cutting-edge technologies, including the only machine learning recommendation engine for medical school.</p></div></div><div data-bind=\"visible: logInVisible\" class=\"authStep\"><div class=\"center\"><h3>Log into Osmosis to Redeem your offer from Picmonic</h3><p>Choose either Facebook or Google login so you can <b>access questions via the web platform</b></p></div><div class=\"span12 mbl\"><div class=\"form-inline center\"><button data-bind=\"click:withFacebook\" class=\"btn btn-lg btn-default\"><i style=\"font-size: 130%; color:#3b5999\" class=\"fab fa-facebook-square\"></i> with Facebook</button><button data-bind=\"click:withGoogle\" class=\"btn btn-lg btn-default mls\"><i style=\"font-size: 130%; color:#A52A2A\" class=\"fab fa-google-plus-square\"></i> with Google</button></div></div></div><div data-bind=\"visible: !logInVisible()\" class=\"cta-section\"><div class=\"container\"><div class=\"cta-container\"><a href=\"/login\" class=\"cta btn btn-lg btn-success\">Try Osmosis Prime for Free!</a><span class=\"cta-secondary\">Already have an account? <a href='/login'>Login now</a></span></div></div></div></div>"}),deftmp("page.plans",{template:"<div data-bind=\"css:{&quot;holiday-sale&quot;:window.isHolidaySale}\" class=\"page-plans\"><section id=\"banner-section\" data-bind=\"visible: state()==&quot;expired&quot;\" class=\"sale expired\"><div class=\"banner\"> <h3>This deal has expired<span data-bind=\"visible: currentDeal\">, check out the latest deal </span><a class=\"button small red inverted\" data-bind=\"text: currentDeal() ? 'Check it out' : 'Check out our plans',attr: { href: currentDeal() ? currentDeal : '/plans' }\">Check it out</a></h3></div><div class=\"container center aligned\"><h2 class=\"center inverted\">This deal has expired</h2><a href=\"/plans\" data-bind=\"visible: !currentDeal\" class=\"normal-text-a contact inverted\">See plans</a><a data-bind=\"visible: currentDeal, attr: { href: currentDeal }\" class=\"normal-text-a contact inverted\">Check out the latest deal<!--a.inverted.blue(data-bind=\"attr: { href: currentDeal }\") Buy Now--></a></div></section><div data-bind=\"visible: (state()==&quot;plans&quot; || state()==&quot;live&quot;)\"><div class=\"ui-Plans\"></div><div class=\"ui-PlansInfo\"></div></div></div>"}),deftmp("page.playlist",{template:"<div class=\"page-playlist\"><div class=\"ui-VideoPlaylist\"></div></div>"}),deftmp("page.prime",{template:"<div class=\"page-prime\"><div>Prime page will go here</div></div>"}),deftmp("page.primeCardioBook",{template:"<div data-bind=\"css:{&quot;no-prime&quot;:!hasPrime(), locked:locked}\" class=\"page-primeCardioBook\"><div class=\"ui-PrimeLockOverlay\"></div><div class=\"container fullpage\"><div class=\"prime-user\"><h1 class=\"center\">Cardiovascular Pathology book</h1><p class=\"explain center\">Let the moment sink in. You've <em>earned</em> this.</p></div><div class=\"main-image\"><a href=\"\" data-bind=\"attr:{ href: downloadLink }\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/8b1da4fa87c39c34ab74174133deb8391b92b9ca.png\"></a></div><div class=\"prime-user\"><div class=\"cta center\"><a href=\"\" data-bind=\"attr:{ href: downloadLink }\" class=\"left-icon blue button\"><i class=\"fas fa-download\"></i><span>Download </span></a></div></div></div></div>"}),deftmp("page.primeECGSeries",{template:"<div class=\"page-primeECGSeries\"><div class=\"container fullpage\"><div class=\"prime-user\"><h1 class=\"center\">Osmosis Prime ECG Video Series </h1><p class=\"explain center\">Cover all the high-yield ECG concepts with our ECG video series.</p></div><div class=\"main-image\"><a href=\"\" data-bind=\"attr:{ href:loginLink }\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/71a2d30c1a9b81507a85f91f62b7a3d1af2d2c22.png\"></a></div><div class=\"cta center\"><a href=\"\" data-bind=\"attr:{ href:loginLink }\" class=\"blue button left-icon\"> <i class=\"fas fa-play\"></i><span>Start free trial</span></a></div></div></div>"}),deftmp("page.primeRenalPreview",{template:"<div data-bind=\"css:{&quot;no-prime&quot;:!hasPrime(), locked:locked}\" class=\"page-primeRenalPreview\"><div class=\"ui-PrimeLockOverlay\"></div><div class=\"container fullpage\"><div class=\"prime-user\"><h1 class=\"center\">Osmosis Renal Pathology textbook</h1><p class=\"explain center\">Let the moment sink in. You've <em>earned</em> this.</p></div><div class=\"main-image\"><a href=\"\" data-bind=\"attr:{href:downloadLink}\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/1b3a14c5e923f539140e54c31555aa1ebf18a287.jpg\"></a></div><div class=\"cta center\"><a href=\"\" data-bind=\"attr:{href:downloadLink}\" class=\"blue button left-icon\"> <i class=\"fas fa-download\"></i>Download</a></div></div></div>"}),deftmp("page.primetrial",{template:"<div class=\"page-primetrial\"><div id=\"splash-content\"><h1><span data-bind=\"text:salutation\"></span><span>Your Free Trial of Osmosis Prime Starts Now!</span></h1><p>Here's a few things to expect from Osmosis Prime Membership:</p><ul class=\"fa-ul\"><li><i class=\"fa-li fa fa-check-square\"></i>Over 2,300 Practice Questions</li><li><i class=\"fa-li fa fa-check-square\"></i>High-yield study recommendations based on your uploaded course documents</li><li><i class=\"fa-li fa fa-check-square\"></i>15,000 flashcards pushed via spaced repetition to your mobile app</li></ul><p>Plus, with the features of <b>Osmosis Basic</b> you can write and critique your own questions and flashcards with friends.</p><p>Get ready for the most efficient and enjoyable way to tackle med school!</p><a href=\"#\" data-bind=\"click:activatePrime\" class=\"btn btn-lg btn-success\">Start 2 Week Free Trial!</a><small>Osmosis Basic is available for free after Prime ends.</small><!-- Facebook Conversion Code for Web Signups -->       <script>if(serverURL.indexOf('localhost') == -1){\n  (function() {\n    var _fbq = window._fbq || (window._fbq = []);\n    if (!_fbq.loaded) {\n      var fbds = document.createElement('script');\n      fbds.async = true;\n      fbds.src = '//connect.facebook.net/en_US/fbds.js';\n      var s = document.getElementsByTagName('script')[0];\n      s.parentNode.insertBefore(fbds, s);\n      _fbq.loaded = true;\n    }\n  })();\n  window._fbq = window._fbq || [];\n  window._fbq.push(['track', '6032936799452', {'value':'0.00','currency':'USD'}]);\n}      \n</script><noscript><img height=\"1\" width=\"1\" alt=\"\" style=\"display:none\" src=\"https://www.facebook.com/tr?ev=6032936799452&amp;cd[value]=0.00&amp;cd[currency]=USD&amp;noscript=1\" />    </noscript></div></div>"}),deftmp("page.privacy",{template:"<div class=\"page-privacy\"><div id=\"landing-privacy\"><div class=\"container header\"><div class=\"row\"><div class=\"span8\"><h1>Privacy Policy</h1><p class=\"mtl\">Effective Date: May 25, 2018</p><p>Last Updated Date: May 25, 2018 (Version 1.2)</p></div></div></div><div id=\"content\" class=\"txt-left\"><div class=\"container\"><div class=\"row\"><div class=\"span1\"></div><div class=\"span8\"> <p>PLEASE REVIEW THIS PRIVACY POLICY CAREFULLY. BY USING OSMOSIS (AS DEFINED BELOW), YOU ACKNOWLEDGE THAT YOU ACCEPT THE PRIVACY POLICIES AND PRACTICES SET FORTH HEREIN. IF YOU DO NOT ACCEPT SUCH POLICIES AND PRACTICES, YOU MUST EXIT OSMOSIS IMMEDIATELY.</p><p>This Privacy Policy is incorporated by reference into the <a href=\"/terms\">Knowledge Diffusion Terms of Use</a> (https://www.osmosis.org/terms). The term \u201C<b><u>Knowledge Diffusion</u></b>,\u201D \u201C<b><u>we</u></b>,\u201D and \u201C<b><u>us</u></b>\u201D includes Knowledge Diffusion Inc. (also known as \u201COsmosis\u201D) and our affiliates and subsidiaries. The Privacy Policy explains how Knowledge Diffusion may:<ul class=\"annotate2\"><div class=\"pll\"><li>collect,</li><li>use, and</li><li> disclose</li></div></ul></p><p> information we obtain through \u201COsmosis.\u201D</p><p>\u201C<b><u>Osmosis</u></b>\u201D means any website, mobile application, or Internet service under Knowledge Diffusion\u2019s control, whether partial or otherwise, in connection with providing the services provided by Knowledge Diffusion, including osmose-it.com and freetext.org.</p><p>\u201C<b><u>Personal Information</u></b>\u201D means information that alone or when in combination with other information may be used to readily identify, contact, or locate you, such as: name, address, email address, or phone number, as well as payment information. We do not consider Personal Information to include information that has been anonymized so that it does not allow a third party to easily identify a specific individual. We collect, retain and process Personal Information about Users (as defined below) in order to provide Osmosis and for the other purposes described in this Privacy Policy.</p><p>\u201C<b><u>User</u></b>\u201D means a person who uses services offered by Knowledge Diffusion through Osmosis. Users may be students who purchase and use Osmosis directly, or who have been provided access to Osmosis by one of our University Customers (as defined below).  </p><p>\u201C<b><u>University Customer</u></b>\u201D means a customer who is an educational institution or universities and who purchase and use services offered by Knowledge Diffusion through Osmosis.</p><p>We have included several annotations in boxes to help explain or identify key sections.  These annotations are for convenience only and have no legal or contractual effect.</p><h3 class=\"mtl\">OSMOSIS COLLECTS YOUR INFORMATION</h3><p>We collect Personal Information when you:<ul class=\"annotate2\"><div class=\"pll\"> <li>register to use Osmosis; </li><li>log in with social networking credentials;</li><li>use Osmosis; and</li><li>communicate with us.  </li></div></ul><p>We also collect information, such as anonymous usage statistics, by using cookies, server logs, and other similar technology as you use Osmosis.</p></p><p><b>Personal Information Collection.</b>  You must register to use Osmosis.  To register, you may need to provide Personal Information, such as your name, email address, gender, and social network log-in credentials. You may also provide other optional information.</p><p><b>Social Sign-On.</b>  We collect Personal Information from the social media website when you use your social media credentials to log into Osmosis or connect your Osmosis account to the social media website account. For example, when you log in with your Facebook credentials, we may collect the Personal Information you have made publicly available in Facebook, such as your name and profile picture.  We may also obtain other information with your permission, such as your Birthday, Groups, Institutional Affiliation, Graduation Year, Friend List, and Current City. You may also sign into your social media account to find friends who also use Osmosis.</p><p><b>Using Osmosis.</b>  We collect information you post through Osmosis.  For example, when you interact with other users by posting comments or by updating your account information, Osmosis will collect the information you provide in such submissions, including any Personal Information.</p><p><b>Location Information from Your Mobile Device.</b>  We may collect and store your location information if you enable your mobile device to send it to us.  Collection of this information may improve the provision of Osmosis.</p><p><b>Customer Support.</b>  We may collect Personal Information through your communications with our customer-support team.  </p><p><b>Cookies, Automatic Data Collection, and Related Technologies.</b>  Osmosis collects and stores information that is generated automatically as you use it, including your preferences and anonymous usage statistics.</p><p>When you visit Osmosis, we and our third-party service providers receive and record information on our server logs from your browser, including your IP address, and from cookies and similar technology.  Cookies are small text files placed in visitors\u2019 computer browsers to store their preferences. Most browsers allow you to block and delete cookies.  However, if you do that, Osmosis may not work properly.</p><p>By using Osmosis, you are authorizing us to gather, parse, and retain data related to the provision of Osmosis. We store your Personal Information for as long as is necessary to provide Osmosis to you and as long as you have an account on Osmosis.</p><h3 class=\"mtl\">HOW WE USE YOUR INFORMATION</h3><p>We use Personal Information: <ul class=\"annotate2\"><div class=\"pll\"><li>\tto provide Osmosis to you and to improve Osmosis;</li><li>\tto operate, improve, and personalize the products and services we offer, and to give each user a more consistent and personalized experience when interacting with us;</li><li>\tto provide you with information about products and services that we think may be of interest to you;</li><li>\tfor customer service, security, to detect fraud or illegal activities, and for archival and backup purposes in connection with the provision of the Services;</li><li>\tfor research and analysis purposes; </li><li>\tto communicate with users; and to enforce our Terms of Use or other applicable policies.</li></div></ul><p>We may use [de-identified] aggregated information for any purpose, including for marketing purposes.</p></p><p><b>Internal and Service-Related Usage.</b>  We use information, including Personal Information, for internal and service-related purposes and may provide it to third parties to allow us to facilitate Osmosis. We may use and retain any data we collect to provide and improve our services.</p><p><b>Marketing.</b>  In the future, we may use information, including Personal Information, to provide advertising on Osmosis and to facilitate transmittal of information that may be useful, relevant, valuable or otherwise of interest to you. </p><p><b>Communications.</b>  We may send email to the email address you provide to us to verify your account and for informational and operational purposes, such as account management, customer service, or system maintenance.  We may also send email and text messages to you when you choose to receive Knowledge Diffusion Content (as defined in the Terms of Use) in this format.</p><p><b>Aggregate Data.</b>  We may anonymize and aggregate data collected through Osmosis and use it for any purpose, including for educational research and development and marketing purposes..</p><h3 class=\"mtl\">WE MAY DISCLOSE YOUR INFORMATION</h3><p>We may share your information:<ul class=\"annotate2\"><div class=\"pll\"><li>with our third-party service providers as necessary for the provision of Osmosis;</li><li>to comply with legal obligations;</li><li>to protect and defend our rights and property; and</li><li>with your permission.</li></div></ul><p>We do not rent, sell, or share Personal Information about you with other people or nonaffiliated companies for their direct marketing purposes, unless we have your permission.</p></p><p><b>We Use Vendors and Service Providers.</b>  We may share any information we receive with vendors and service providers retained in connection with the provision of Osmosis.</p><p><b>Displaying to Other Users.</b>  The content you post to Osmosis may be displayed on Osmosis.  Other users of Osmosis, including Knowledge Diffusion-approved research and educational institutions, may be able to see some information about you, such as your name, information in the comments you post, and aggregate information about your question responses.  We may provide you with privacy settings to control where Personal Information is displayed on Osmosis.  We are not responsible for privacy practices of the other users who will view and use the posted information.</p><p><b>Social Networking and Other Websites.</b>  Osmosis may allow you to share information, including Personal Information, with social networking websites, such as Facebook.  We do not share your Personal Information with them unless you direct Osmosis to share it.  Their use of the information will be governed by their privacy policies, and you may be able to modify your privacy settings on their websites.</p><p><b>Marketing.</b>  We do not rent, sell, or share Personal Information about you with other people or nonaffiliated companies for their direct marketing purposes, unless we have your permission.  </p><p><b>As Required By Law and Similar Disclosures.</b>  We may access, preserve, and disclose your Personal Information, other account information, and content if we believe doing so is required or appropriate to: comply with law enforcement requests and legal process, such as a court order or subpoena; respond to your requests; or protect yours\u2019, ours\u2019 or others\u2019 rights, property, or safety.</p><p><b>Merger, Sale, or Other Asset Transfers.</b>  If we are involved in a merger, acquisition, financing due diligence, reorganization, bankruptcy, receivership, sale of Knowledge Diffusion assets, or transition of service to another provider, your information may be sold or transferred as part of such a transaction as permitted by law and/or contract.  We cannot control how such entities may use or disclose such information.</p><p>We may also disclose your Personal Information with your permission. </p><p>Within a reasonable time after you terminate your account, your Personal Information will be deleted and will no longer be stored by Knowledge Diffusion. Knowledge Diffusion may continue to use aggregated information from your account in the manner described in this policy and in the Terms even after your account has been cancelled.</p><h3 class=\"mtl\">SECURITY OF YOUR INFORMATION</h3><p>We take steps designed to secure your information from unauthorized access or use. Unfortunately, the Internet cannot be guaranteed to be 100% secure, and we cannot ensure or warrant the security of any information you provide to us. We do not accept liability for unintentional disclosure.</p><p>By using Osmosis or providing Personal Information to us, you agree that we may communicate with you electronically regarding security, privacy, and administrative issues relating to your use of Osmosis. </p><h3 class=\"mtl\">CHANGING THE USE OF INFORMATION </h3><p>You can let us know if you do not want us to send you information by taking the following steps:</p><ul class=\"annotate2\"><div class=\"pll\"><li>To stop further delivery of informational emails, click the opt-out link at the bottom of the messages;</li><li>To let us know about your other communication preferences please send an email to datasupport@osmosis.org. Please identify all the email addresses, postal address information, and phone numbers that you may have submitted to us, so we can ensure that we respect your wishes.</li></div></ul><p>You can let us know if you do not want us to share your data with other companies by sending an email to datasupport@osmosis.org. If you do so it can help facilitate our response if you identify all the contact information you have submitted to us, so we can ensure that all your email addresses, postal address information, and phone numbers are marked \"do not share.\"</p><h3 class=\"mtl\">SPECIAL NOTICE TO CALIFORNIA RESIDENTS</h3><p>Under California Law SB 27,\xA0California residents have the right to receive, once a year, information about third parties with whom we have shared information about you or your family for their marketing purposes during the previous calendar year, and a description of the categories of personal information shared.\xA0 To make such a request, please send an email to <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b> and please include the phrase \u201CCalifornia Privacy Request\u201D in the subject line, and provide us with your name. address and email address.\xA0 We will respond to you within-thirty days of receiving such a request.</p><h3 class=\"mtl\">GOVERNING LAW</h3><p>By choosing to visit Osmosis or otherwise provide information to us, you agree that any dispute over privacy or the terms contained in this Privacy Policy will be governed by the law of the Commonwealth of Pennsylvania, United States of America and the adjudication of any disputes arising in connection with Knowledge Diffusion or Osmosis will be in accordance with the Terms of Use.</p><h3 class=\"mtl\">INTERNATIONAL USERS</h3><p>By using Osmosis, you will transfer data to the United States.</p><p>By using Osmosis, you will transfer data to the United States.</p><h3 class=\"mtl\">YOUR RIGHTS OVER YOUR INFORMATION AND QUESTIONS OR SUGGESTIONS</h3><p>If you would like to access, correct or ask us to restrict our processing or delete any Personal Information that you have provided to us through your use of Osmosis or otherwise, or if you have suggestions for improving this Privacy Policy, please send an email to datasupport@osmosis.org.</p><h3 class=\"mtl\">CHANGES TO OUR PRIVACY POLICY AND PRACTICES</h3><p>We may revise this Privacy Policy, so review it periodically.</p><p><b>Posting of Revised Privacy Policy.</b>  We will post any adjustments to the Privacy Policy on this web page, and the revised version will be effective when it is posted.  If you are concerned about how your information is used, bookmark this page and read this Privacy Policy periodically.</p><p><b>New Uses of Personal Information.</b>  From time to time, we may desire to use Personal Information for uses not previously disclosed in our Privacy Policy.  If our practices change regarding previously collected Personal Information in a way that would be materially less restrictive than stated in the version of this Privacy Policy in effect at the time we collected the information, we will make reasonable efforts to provide notice and obtain consent to any such uses as may be required by law.</p><h3 class=\"mtl\">DO NOT TRACK</h3><p>Osmosis does not support Do Not Track at this time. Do Not Track is a privacy preference that you can set in your web browser to indicate that you do not want certain information about your webpage visits collected across websites when you have not interacted with that service on the page. For all the details, including how to turn on Do Not Track, visit <a href=\"www.donottrack.us\">www.donottrack.us</a>.</p><h3 class=\"mtl\">MISCELLANEOUS</h3><p><b>Log In Issues.</b> In the event that you forget your username/password or are unable to log in, please e-mail us at <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>.</p><p><b>Product Notifications.</b> In the event that we need to send out a product notification, e.g. an app recall or another issue, we will notify you via our mailing list. You may also contact us at <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b> to learn more or for any reason.</p><p><b>Children.</b> No part of Osmosis is directed to persons under the age of 13. IF YOU ARE UNDER 13 YEARS OF AGE, PLEASE DO NOT USE OR ACCESS OSMOSIS AT ANY TIME OR IN ANY MANNER. In the event that we learn any information from a child 13 years of age or under is knowingly or unknowingly uploaded to Osmosis, we will delete this information.</p><h3 class=\"mtl\">CONTACT INFORMATION</h3><p style=\"white-space:pre;\">Knowledge Diffusion Inc.\n  37 S. Ellwood Avenue\n  Baltimore, MD 21224\n  <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b></p><h3 class=\"mtl\">ADDITIONAL INFORMATION FOR EU RESIDENTS</h3><p>If you are a User who purchases and uses Osmosis directly, we serve as the \u201Ccontroller\u201D of the personal data you provide to us. If you are a User who has been provided access to Osmosis through one of our University Customers, we process your personal data on behalf of our University Customers to fulfill our contractual obligations to them, in which case we serve as a \u201Cprocessor\u201D of your personal data and the University Customer providing you access to Osmosis acts as the \u201Ccontroller.\u201D</p><p>If you are using Osmosis from the European Union, we will only transfer your Personal Information to the United States through the use of appropriate safeguards such as standard contractual clauses adopted by the European Commission or with your consent. If the transfer of your Personal Information or processing of your Personal Information is based on your consent, you may contact us at datasupport@osmosis.org to withdraw your consent. If you withdraw your consent we will not be able to provide you with access to Osmosis. </p><p>We process personal data as necessary to pursue our legitimate interest of providing Osmosis to both Users and University Customers and to fulfill our contractual obligations. You have the right to access your personal data, correct inaccuracies in your personal data, request the erasure of your personal data and restrict the processing of your personal data. For more information about how you can access, rectify and erase your personal data, please see the Section of this Privacy Policy entitled, \u201CYour Rights Over Your Information and Questions or Suggestions\u201D above. In addition, you have the right to lodge a complaint with a supervisory data protection authority.</p></div></div></div></div></div></div>"}),deftmp("page.progress",{template:"<div class=\"page-progress\"><div style=\"width: 600px\" class=\"panel center\"><div class=\"panel-body\"><div class=\"ui-stats-AnalyticsDashboard\"></div></div></div></div>"}),deftmp("page.redeem",{template:"<div class=\"page-redeem\"><div class=\"redeem-content-container\"><div class=\"redeem-message-wrapper\"><div class=\"ui-RedeemMessage\"></div></div></div></div>"}),deftmp("page.reeldxedu",{template:"<div class=\"page-reeldxedu\"><section class=\"main\"><div class=\"container\"><div class=\"heading\"><h1>Osmosis &amp; ReelDx Education</h1><p class=\"explain\">As part of Osmosis' mission to provide the highest quality educational content to our future clinicians, we are proud to partner with <a target='_blank' href='https://reeldx.com/reeldx-free-videos/'>ReelDx Education</a>. </p><div class=\"cta\"><a href=\"https://reeldx.com/reeldx-free-videos/\" class=\"btn btn-success btn-lg\">Learn More About ReelDx Education</a></div></div></div></section><section class=\"main-content\"><div class=\"container\"><div class=\"content\"><div class=\"row\"><div class=\"col-lg-5 col-md-6\"><div class=\"heading\"><h2>Relevant Patient Videos to Aid Your Studies  </h2></div><p>Thanks to ReelDx Education's patient video library and Osmosis curriculum syncing, you can now get patient videos recommended alongside your curricular material &amp; Osmosis' growing bank of questions, flashcards, and other resources. </p></div><div class=\"col-lg-7 col-md-6\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/7cea4473f9ee64b7cc5c60820ee70de0bd653fe4.png\"></div></div></div></div></section><section class=\"quote\"><div class=\"container\"><p class=\"the-quote\">&#8220;He who studies medicine without books sails an uncharted sea, but he who studies medicine without patients does not go to sea at all.&#8221;</p><p class=\"the-author\">\u2013 Dr. William Osler</p></div></section><section class=\"about\"><div class=\"container\"><div class=\"content\"><div class=\"center-logo\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d7f947ac5470be4b00536a99db36ad6519419339.png\"></div><p class=\"center\">ReelDx Education brings clinical students to the bedside through a large and growing collection of HIPAA-compliant real patient video cases. Their 500+ video case studies, covering 1,000+ topics, are created by clinicians at Yale University, the University of Louisville, and Oregon Health & Science University, as well as clinics and ambulance agencies across the country and internationally.</p><div style=\"margin-top: 100px;\" class=\"cta center\"><a href=\"https://reeldx.com/reeldx-free-videos/\" class=\"btn btn-success btn-lg\">Learn More About ReelDx Education</a></div></div></div></section></div>"}),deftmp("page.register",{template:"<div class=\"page-register\"><div class=\"osmosis-logo\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cnHo2JFrRbiJCiHmTL7LT4hHQxq73nnm.png\" alt=\"Osmosis Logo\" class=\"osmosis-logo-img\"></div><div class=\"register-content\"><div class=\"register-content-container\"></div><div class=\"register-content-seperator\"></div><div class=\"register-content-container\"></div></div></div>"}),deftmp("page.school_love",{template:"<div class=\"page-school_love\"><header><p> <span class=\"school-search\">School Search</span><span class=\"dot\">&bull;</span><span class=\"find-schools\">Find schools that match the following</span></p><div class=\"school-searcher text-input\"><label>School</label><input id=\"schoolInput\" type=\"text\" placeholder=\"Type something\" data-bind=\"hasFocus: inputFocused, value: inputVal\"/><div data-bind=\"visible: hideX\" class=\"fas fa-search\"></div><div data-bind=\"click: emptySchool, visible: !hideX()\" class=\"fas fa-times\"></div></div></header><div class=\"stats-section\"><div data-bind=\"visible: noStudents()\" class=\"no-students-subsection\"><img src=\"assets/images/icons/magnifying_glass.png\"><p>Looks like there aren\u2019t any students at that school. If this seems like an error, try checking the spelling, and searching again.</p></div><div class=\"ui-dashboard-Stats\"></div></div><div class=\"splash-section\"><div class=\"title\"><h1 data-bind=\"html:splashTitle\" class=\"inverted\"></h1><p class=\"explain\">Read a few reviews to find out why!</p></div><div data-bind=\"visible: hasFeaturedQuote, if: hasFeaturedQuote\" class=\"featured-testimonial\"><img data-bind=\"attr:{src:&quot;https://osmose-it.s3.amazonaws.com/&quot;+featuredHeadshot()}, visible:featuredHeadshot\" class=\"headshot\"/><div data-bind=\"html:featuredName\" class=\"student\"></div><div data-bind=\"html:featuredSchool\" class=\"school\"></div><div class=\"quote\"><span class=\"quote-left quote-mark\">\"</span><span data-bind=\"html:featuredTestimonial\" class=\"the-quote\"></span><span class=\"quote-right quote-mark\">\"</span></div></div></div><div data-bind=\"css:{'cut-default':noMoreTestimonials() &amp;&amp; hasFeaturedQuote()}\" class=\"testimonial-list\"></div></div>"}),deftmp("page.schooldeal",{template:"<div class=\"page-schooldeal\"><section id=\"banner-section\" data-bind=\"visible: state()==&quot;expired&quot;\" class=\"sale expired\"><div class=\"expired container\"><h2 class=\"center aligned\">This Deal Has Expired</h2><p class=\"center aligned\">Still hoping for an awesome deal? Contact us at <a href='mailto:hi@osmosis.org'>hi@osmosis.org</a> and ask about our current specials and discounts.</p></div></section><div data-bind=\"visible: state()==&quot;plans&quot; || state()==&quot;live&quot;\"><div class=\"ui-Plans\"></div><div class=\"ui-PlansInfo\"></div></div></div>"}),deftmp("page.spreadJoy",{template:"<div class=\"page-spreadJoy page-giftcard\"><div class=\"ui-SaleBanner\"></div><div class=\"giftcard-banner\"><div class=\"giftcard-banner-message\"><h2 class=\"giftcard-banner-message-header inverted\">Osmosis eGreeting Cards</h2><p class=\"giftcard-banner-message-text inverted\">Spread joy by sending your peers and loved ones an Osmosis eGreeting card.</p></div><div class=\"giftcard-banner-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/fdB7U8_xR2SwMAP62zsZlT17RRGA7KOX.png\"></div></div><div data-bind=\"visible: !emailSent()\" class=\"greeting-card-creator-wrapper\"><div class=\"giftcard-content-container\"><div class=\"giftcard-steps-container\"><div class=\"giftcard-section-container\"><h3 class=\"giftcard-step-title\">1. Choose design</h3><div class=\"ui-CardPicker\"></div></div><div class=\"giftcard-section-container\"><div class=\"giftcard-section-container recipient-input-section\"><h3 class=\"giftcard-step-title\">2. Enter recipient</h3><div data-bind=\"css: { error: !validInputs.recipientEmail() &amp;&amp; inputsUsed.recipientEmail() }\" class=\"text-input\"><label for=\"recipient-email\">Recipient email</label><div class=\"label-helper\">(required)</div><input id=\"recipient-email\" data-bind=\"value: recipientEmail\" type=\"text\" placeholder=\"Enter recipient&#39;s email\"/></div><div class=\"text-input giftcard-message\"><label for=\"message\">Message</label><div class=\"label-helper\">(optional)</div><textarea id=\"message\" data-bind=\"value: messageInput, valueUpdate: &quot;input&quot;, attr: { placeholder: defaultMessage }\" rows=\"2\" cols=\"50\"></textarea></div><div data-bind=\"css: { error: !validInputs.deliveryDate() }\" class=\"date-input\"><label for=\"delivery-date\">Delivery date</label><div class=\"label-helper\">(optional)</div><input id=\"delivery-date\" data-bind=\"value: deliveryDate, valueUpdate: &quot;input&quot;\" placeholder=\"Today\" type=\"text\" class=\"datepicker\"/></div></div><div data-bind=\"visible: !validInputs.deliveryDate()\" class=\"negative message\">Delivery date must be in the future.</div></div></div><div class=\"giftcard-preview-container\"><div class=\"giftcard-preview\"><div class=\"giftcard-preview-image\"><img data-bind=\"attr: { src: selectedCard().src }\"/></div><div class=\"giftcard-preview-text\"><pre data-bind=\"text: displayMessage\"></pre></div><div class=\"divider\"></div><div class=\"giftcard-preview-footer\"><div class=\"giftcard-preview-footer-text\"><h3>Sent with </h3><div class=\"love-image\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/7wRjHdzfTpe50g7meLl2LIfiTkyDCd_V/_.png\"/></div><h3>by </h3><div class=\"osmosis-logo\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/q3pNI-dsTsulRbnYNyD-_8uwTuuzsPzS.png\"></div></div></div></div></div></div><div class=\"giftcard-submit-container\"><div class=\"giftcard-button-container\"><button data-bind=\"ajax: sendCardClick, enable: allInputsValid\" class=\"left-icon olive button send-button\"><i class=\"far fa-paper-plane\"></i><span>Send eGreeting card</span></button></div></div></div><div data-bind=\"fadeVisible: emailSent, fadeDirection: 'down'\" class=\"greeting-card-success-wrapper\"><div class=\"greeting-card-success-container\"><div class=\"greeting-card-success-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/rFgct-s8S9ejzmP8Y9K1jPSfQuWhC-Pn.png\"></div><h2 data-bind=\"text: cardSendSuccessMessage\" class=\"greeting-card-success-header inverted\"></h2><p class=\"greeting-card-success-text inverted\">Great work, everybody could use a little more joy in their life, why not send some more?</p><div class=\"button-container\"><button data-bind=\"click: sendAnotherClick\" class=\"blue button inverted\">Send another card</button></div></div></div></div>"}),deftmp("page.srqueue",{template:"<div class=\"page-srqueue\"><div class=\"panel center\"><div class=\"panel-body\"><h3>Daily Spaced Repetition</h3><p>Flashcards created/uploaded by you and classmates (Flashcards created by Osmosis are not included in this list)</p><div class=\"ajax-loader\"><div class=\"table-container\"><table style=\"width: 100%\"><thead><tr data-bind=\"foreach: headings\" class=\"row\"><th class=\"heading-cell\"><div data-bind=\"attr: { title: tooltip }\" class=\"heading-row tip\"><span data-bind=\"text: heading\"></span><div data-bind=\"visible: tooltip.length &gt; 0\" class=\"infolink-container\"><div class=\"infolink\">?</div></div></div><div class=\"offset\"></div></th></tr></thead><tbody data-bind=\"foreach: modules\" class=\"body\"><tr class=\"row\"><td data-bind=\"text: name\" style=\"text-align: left\" class=\"cell\"></td><td data-bind=\"text: total\" class=\"cell\"></td><td data-bind=\"text: scheduled\" class=\"cell\"></td><td data-bind=\"text: excluded\" class=\"cell\"></td><td data-bind=\"text: soon\" class=\"cell\"></td><td data-bind=\"text: overdue\" class=\"cell\"></td></tr></tbody></table></div></div></div></div></div>"}),deftmp("page.start",{template:"<div class=\"page-start\"><div class=\"ui-onboarding-Start\"></div></div>"}),deftmp("page.styleGuide",{template:"<div class=\"page-styleGuide\"><div class=\"main-container\"><div id=\"left\" class=\"table-of-contents column\"><h3 class=\"header top-left\">Contents</h3><div class=\"bottom\"><ul data-bind=\"foreach: { data: sections, as: &quot;section&quot; }\" class=\"sections\"><li data-bind=\"text: section.name, click: $parent.smoothScroll\"></li></ul></div></div><div id=\"right\" class=\"contents column\"><div class=\"bottom\"><div class=\"section\"><h1 class=\"header\">Usage</h1><div class=\"divider\"></div><div class=\"sub-section\"><h2 class=\"header\">Folder structure</h2><pre><code class=\"language-html\">stylesheets/\n|\n|-- modules/              # Common modules\n|   |-- all.less          # Include to get all modules\n|   |-- colors.less       # Color definitions\n|   ...\n|\n|-- partials/             # Partials\n|   |-- base.less         # Include to get all partials\n|   |-- buttons.less      # buttons\n|   |-- typography.less   # typography\n|   ...\n|\n`-- all.less             # Imports all partials and modules\n</code></pre><h3>Modules directory</h3><p>Reserved for mixins, functions, and variable definitions.</p><h3>Partials directory</h3><p>UI element CSS and style definitions. </p><h3>Global less file</h3><p>The file at the root of stylesheets (<code>all.less</code>) imports all partials and modules. That file is then imported into <code>global.less</code>, making all variables and class definitions available for use.</p></div></div><div class=\"section\"><h1 class=\"header\">UI Components</h1><p>Components are generally composed of a <code>js</code> file to control the logic, a <code>less</code> file for the styling, and a <code>jade</code> file for the dom.</p><div class=\"divider\"></div><h3>Example:</h3><pre><code class=\"language-javascript\">// MyComponent.js\n\nclass MyComponent {\n  constructor (bind, args) {\n  \n    // Declare variables\n    // e.g. Here we set the variable to args.foo if it exists, or false by default\n    this.fooVisible = ko.observable(args.foo || false);\n    \n    // Bind this component to the DOM\n    bind(this);\n  }\n  \n  // Define a method that can be used by the DOM (or elsewhere)\n  myMethod() {\n    // Toggles the state of fooVisible\n    this.fooVisible(!this.fooVisible());\n  }\n}\n\nmodule.exports = MyComponent;\n</code></pre><pre><code class=\"language-pug\">// MyComponent.jade\n\n// Root div syntax must match the ui/... directory location, in this case MyComponent is in ...ui/styleguide/MyComponent[.js/.jade/.less]\n.ui-styleguide-MyComponent\n  button.blue.button(data-bind='click: myMethod') Toggle foo\n  p.message(data-bind='visible: fooVisible') I'm a message!\n  </code></pre><pre><code class=\"language-less\">// MyComponent.less\n\n& {\n  display: flex;\n  align-items: center;\n}\n\n.message {\n  margin: auto 15px;  \n}\n</code></pre><h3>Component in action:</h3><div class=\"element-container\"><div class=\"my-component\"></div></div><div class=\"divider\"></div><h2>VideoDialog</h2><p>A component that displays a standalone video in a dialog.</p><div class=\"element-container\"><button data-bind=\"click: showVideoDialog\" class=\"blue button\">Show dialog</button></div><pre><code class=\"language-javascript\">dialog('ui/dialogs/video/VideoDialog', {\n  videoSrc: 'dQw4w9WgXcQ',\n  videoTitle: 'Respiratory anatomy',\n  theme: 'teal',\n});\n</code></pre></div><div class=\"section\"><h1 class=\"header\">Typography</h1><div class=\"divider\"></div><h1>Header 1</h1><h2>Header 2</h2><h3>Header 3</h3><h4>Header 4</h4><p>Paragraph</p><pre><code class=\"language-pug\">h1 Header 1\nh2 Header 2\nh3 Header 3\nh4 Header 4\np Paragraph\n</code></pre><div class=\"sub-section\"><h2 class=\"header\">Inverted</h2><p>Each basic text html element has a <code>.inverted</code> class that can be used when the text is displayed on a dark background.</p><div class=\"inverted-container\"><h1 class=\"inverted\">Inverted &lt;h1&gt;</h1><h2 class=\"inverted\">Inverted &lt;h2&gt;</h2><h3 class=\"inverted\">Inverted &lt;h3&gt;</h3><h4 class=\"inverted\">Inverted &lt;h4&gt;</h4><p class=\"inverted\">Inverted &lt;p&gt;</p></div><pre><code class=\"language-pug\">h1.inverted Inverted &lt;h1&gt;\nh2.inverted Inverted &lt;h2&gt;\nh3.inverted Inverted &lt;h3&gt;\nh4.inverted Inverted &lt;h4&gt;\np.inverted Inverted &lt;p&gt;\n</code></pre></div><div class=\"sub-section\"><h2 class=\"header\">Icons</h2><p>We primarily use the free icons from Font Awesome (version 5.x), <a href='https://fontawesome.com/'>see their website</a> for a full list of available icons.</p><div class=\"element-container\"><p>Icons can be used with html elements via the &lt;i&gt; tag and the appropriate classes.</p><i class=\"fab fa-rebel\"></i></div><pre><code class=\"language-pug\">i.fab.fa-rebel</code></pre><div class=\"element-container\"><p>Icons can also be used with via CSS pseudo elements.</p><div class=\"icon-container\"></div><pre><code class=\"language-pug\">// Jade\n.icon-container</code><br/><br/><code class=\"language-less\">// Less\n.icon-container::after {\n  content: '\\f1d1';\n  font-family: \"Font Awesome 5 Brands\"; \n  font-weight: 900;\n  font-size: 32px;\n}</code></pre></div></div></div><div class=\"section\"><h1 class=\"header\">Colors</h1><div class=\"divider\"></div><h2>Base</h2><div class=\"element-container\"><div class=\"color-container blue\"><h3 class=\"text\">Blue</h3></div><div class=\"color-container teal\"><h3 class=\"text\">Teal</h3></div><div class=\"color-container olive\"><h3 class=\"text\">Olive</h3></div><div class=\"color-container green\"><h3 class=\"text\">Green</h3></div></div><div class=\"element-container\"><div class=\"color-container orange\"><h3 class=\"text\">Orange</h3></div><div class=\"color-container red\"><h3 class=\"text\">Red</h3></div><div class=\"color-container pink\"><h3 class=\"text\">Pink</h3></div><div class=\"color-container lavender\"><h3 class=\"text\">Lavender</h3></div><div class=\"color-container grey\"><h3 class=\"text\">Grey</h3></div></div><pre><code class=\"language-less\">div {\n  background: @blue;\n}\n</code></pre><h2>Light colors</h2><p>Each color has a variety of lightened variations, accessible globally as variables. Each one has a base light color, <code>@light-[color]</code>, which is 5% lighter, and then 5 lighter variations in 10% increments up to 50% (e.g <code>@light-blue-10</code>).</p><div class=\"element-container\"><div class=\"color-container light-green light-color\"><h3 class=\"text\">@light-green</h3></div><div class=\"color-container light-green-10 light-color\"><h3 class=\"text\">@light-green-10</h3></div><div class=\"color-container light-green-20 light-color\"><h3 class=\"text\">@light-green-20</h3></div><div class=\"color-container light-green-30 light-color\"><h3 class=\"text\">@light-green-30</h3></div><div class=\"color-container light-green-40 light-color\"><h3 class=\"text\">@light-green-40</h3></div><div class=\"color-container light-green-50 light-color\"><h3 class=\"text\">@light-green-50</h3></div></div><pre><code class=\"language-less\">// Lightened by 5%\ndiv {\n  background: @light-green;\n}\n\n// Lightened by 10%\ndiv {\n  background: @light-green-10;\n}\n</code></pre><h2>Dark colors</h2><p>Each color has a variety of darkened variations, accessible globally as variables. Each one has a base dark color, <code>@dark-[color]</code>, which is 5% darker, and then 2 darker variations in 10% increments up to 20% (e.g <code>@dark-blue-10</code>).</p><div class=\"element-container\"><div class=\"color-container dark-green dark-color\"><h3 class=\"text\">@dark-green</h3></div><div class=\"color-container dark-green-10 dark-color\"><h3 class=\"text\">@dark-green-10</h3></div><div class=\"color-container dark-green-20 dark-color\"><h3 class=\"text\">@dark-green-20</h3></div></div><pre><code class=\"language-less\">// Darkened by 5%\ndiv {\n  background: @dark-green;\n}\n\n// Darkened by 10%\ndiv {\n  background: @dark-green-10;\n}\n</code></pre><h2>Night mode</h2><p>Use the base <code>@night</code> color to for the primary background on night mode pages, with light and dark variations to distinguish between child UI components. Additionally, <code>@night-[color]</code> variables have also been added to help when using color with night-mode.</p><div class=\"night-mode-toggle\"><p>Toggle night mode</p><div class=\"toggle-input\"><label><input data-bind=\"checked: window.nightMode\" type=\"checkbox\"/><div class=\"slider\"></div></label></div></div><div class=\"night-mode-container\"><div class=\"night-mode-dark-element\"> <h1 class=\"night-mode\">@dark-night</h1></div><h3 class=\"night-mode-background night-mode\">@night</h3><div class=\"night-mode-lower-container\"><div class=\"night-mode-light-element side\"><h3 class=\"night-mode\">@light-night</h3></div><div class=\"night-mode-light-element middle\"><h3 class=\"night-mode\">@light-night-10</h3></div></div><div class=\"night-mode-element-container\"><div class=\"night-mode-paragraph-element\"><h3 class=\"night-mode\">@light-night-20</h3><p class=\"night-mode\">A hero can be anyone. Even a man doing something as simple and reassuring as putting a coat around a little boy\u2019s shoulders to let him know that the world hadn\u2019t ended.</p></div><div class=\"night-mode-color-element-container\"><div class=\"night-mode-light-element\"><div class=\"night-flex-container\"><h3 class=\"night-blue\">@night-blue</h3><h3 class=\"night-teal\">@night-teal</h3><h3 class=\"night-olive\">@night-olive</h3><h3 class=\"night-green\">@night-green</h3><h3 class=\"night-yellow\">@night-yellow</h3></div><div class=\"night-flex-container\"><h3 class=\"night-orange\">@night-orange</h3><h3 class=\"night-red\">@night-red</h3><h3 class=\"night-pink\">@night-pink</h3><h3 class=\"night-lavender\">@night-lavender</h3></div></div></div></div></div></div><div class=\"section\"><h1 class=\"header\">Breakpoints</h1><p>There are a variety of variables to use for defining responsive breakpoints.</p><div class=\"divider\"></div><h2>Breakpoint variables</h2><pre><code class=\"language-less\">@responsiveLargeDesktop: 1280px;\n@responsiveDesktop: 980px;\n@responsiveTablet: 768px;\n@responsiveMobile: 480px;</code></pre><h2>Media query aliases</h2><p>Generally we want to promote mobile-first styling, so each media query shortcut uses the 'min-width' property, and generally the order of styling cascade goes from small (mobile) to large (desktop).</p><div class=\"container-example breakpoints-example\"><h3>Current view:</h3></div><pre><code class=\"language-less\">@largeDesktop: ~\"only screen and (min-width: 1280px)\";\n@desktop: ~\"only screen and (min-width: 980px)\";\n@tablet: ~\"only screen and (min-width: 768px)\";\n\n// Example usage\n.breakpoints-example {\n  // Mobile styles\n  \n  &::after {\n    content: 'Mobile';\n  }\n  \n  @media @tablet {\n    // Tablet styles\n    \n    &::after {\n      content: 'Tablet';\n    }\n  }\n  \n  @media @desktop {\n    // Desktop styles\n    \n    &::after {\n      content: 'Desktop';\n    }\n  }\n  \n  @media @largeDesktop {\n    // Large desktop styles\n    \n    &::after {\n      content: 'Large desktop';\n    }\n  }\n}\n</code></pre><h2>Helper functions</h2><p>Used for checking media queries in javascript. There are two basic functions for each size (corresponding with the four sizes available - mobile, tablet, desktop, largeDesktop).</p><h3>Listen</h3><p>Runs a function each time the MediaQuery for the specified dom object changes. Returns true if it matches and false if it doesn't.</p><div class=\"element-container\"><div class=\"mobile-queries\"><span>Mobile resize count: </span><span data-bind=\"text: totalMobileQueries\" class=\"count\"></span></div></div><pre><code class=\"language-javascript\">MediaQuery.ListenMobile(function (mobileResize) {\n  if (mobileResize) {\n    self.totalMobileQueries(self.totalMobileQueries() + 1);\n  }\n});\n</code></pre><h3>Observable</h3><p>Used to check if a MediaQuery matches.</p><div class=\"element-container\"><div class=\"mobile-queries\"><span>On mobile: </span><span data-bind=\"text: mobileQuery()\" class=\"count\"></span></div></div><pre><code class=\"language-javascript\">this.mobileQuery = MediaQuery.ObservableMobile;\n</code></pre></div><div class=\"section\"><h1 class=\"header\">Containers</h1><p>In general, containers maintain a similar look with regards to borders, shadows, and radii.</p><div class=\"divider\"></div><h2>Basic</h2><div class=\"container-example\"><h3>I'm a flat container</h3></div><pre><code class=\"language-less\">div {\n  border-radius: 5px;\n  border: 2px solid @light-grey-50;\n}</code></pre><h2>Elevation</h2><p>Sometimes containers should be given a box shadow to emulate elevation off of the page, e.g. with dialogs, modals, and generally elements that need more emphasis. Elevations can be 0-10 (0 is no elevation), that can either be added directly to an element via classes, or added via less variables.</p><div data-bind=\"css: &quot;elevation-&quot; + rangeValue()\" class=\"container-example\"><h3 data-bind=\"text: &quot;@elevation-&quot; + rangeValue()\"></h3></div><div class=\"input-slider\"><input data-bind=\"value: rangeValue, valueUpdate: &quot;input&quot;\" type=\"range\" min=\"0\" max=\"10\"/></div><pre><code class=\"language-less\">// Added via Less variable\nmy-container {\n  box-shadow: @elevation-5;\n}</code></pre><pre><code class=\"language-pug\">// Added via Jade\n.my-container.elevation-5;\n</code></pre></div><div class=\"section\"> <h1 class=\"header\">Inputs </h1><div class=\"divider\"></div><h2>Checkboxes</h2><div class=\"element-container code-block\"><div class=\"checkbox-input\"><input id=\"checkbox\" type=\"checkbox\"/><label for=\"checkbox\">This is the label for the checkbox.</label></div><pre><code class=\"language-pug\">.checkbox-input\n  input#checkbox(type='checkbox')\n  label(for='checkbox') This is the label for the checkbox.</code></pre></div><h2>Text input</h2><div class=\"element-container\"><div class=\"text-input\"><label for=\"text-input\">Label</label><div class=\"label-helper\">(optional)</div><input id=\"text-input\" type=\"text\" placeholder=\"Placeholder text\"/></div><pre><code class=\"language-pug\">.text-input\n  label(for='text-input') Label\n  .label-helper (optional)\n  input#text-input(type='text', placeholder='Placeholder text')</code></pre></div><div class=\"element-container\"><div class=\"text-input error\"><label for=\"text-input-error\">Label</label><input id=\"text-input-error\" type=\"text\" placeholder=\"Invalid input\"/></div><pre><code class=\"language-pug\">.text-input.error\n  label(for='text-input-error') Label\n  input#text-input-error(type='text', placeholder='Invalid input')</code></pre></div><div class=\"element-container\"><div class=\"text-input\"><label for=\"text-input-error\">Label</label><div class=\"label-helper\">(required)</div><input id=\"text-input-error\" type=\"text\" placeholder=\"Invalid input\"/></div><pre><code class=\"language-pug\">.text-input.error\n  label(for='text-input-error') Label\n  .label-helper (required)\n  input#text-input-error(type='text', placeholder='Invalid input')</code></pre></div></div><h2>Textarea input<div class=\"element-container\"><div class=\"text-input\"><label for=\"textarea\">Label</label><textarea id=\"textarea\" rows=\"2\" cols=\"50\" placeholder=\"Placeholder text\"></textarea></div></div><pre><code class=\"language-pug\">.text-input\n  label(for='textarea') Label\n  textarea#textarea(rows='2', cols='50', placeholder='Placeholder text')\n  </code></pre><h2>Date picker  </h2><div class=\"element-container\"><h4 class=\"date-selected\"><span>Date selected: </span><span data-bind=\"text: selectedDate\"> </span></h4><div class=\"date-input\"><label for=\"datePicker\">Select date</label><input data-bind=\"value: selectedDate, valueUpdate: 'input'\" name=\"datePicker\" type=\"text\" placeholder=\"12/09\" class=\"datepicker day-month\"/></div></div><pre><code class=\"language-javascript\">// JS\nthis.selectedDate = ko.observable('Select date');</code></pre><pre><code class=\"language-pug\">// Jade\nh4.date-selected\n  span Date selected: \n  span(data-bind='text: selectedDate') \n  \n.date-input\n  label(for='datePicker') Select date\n  input.datepicker.day-month(data-bind=\"value: selectedDate, valueUpdate: 'input'\", name=\"datePicker\",type=\"text\", placeholder=\"12/09\")</code></pre><h2>Radio</h2><div class=\"element-container\"><div class=\"radio-input\"><h3 class=\"header\">Select option</h3><label for=\"radio-option-1\" class=\"option\">Option 1<input type=\"radio\" name=\"radio\" value=\"option-1\" id=\"radio-option-1\"/><span class=\"checkmark\"></span></label><label for=\"radio-option-2\" class=\"option\">Option 2<input type=\"radio\" name=\"radio\" value=\"option-2\" id=\"radio-option-2\"/><span class=\"checkmark\"></span></label><label for=\"radio-option-3\" class=\"option\">Option 3<input type=\"radio\" name=\"radio\" value=\"option-3\" id=\"radio-option-3\"/><span class=\"checkmark\"></span></label></div><pre><code class=\"language-pug\">.radio-input\n  h3.header Select option\n  label.option(for='radio-option-1') Option 1\n    input(type='radio', name='radio', value='option-1', id='radio-option-1')\n    span.checkmark\n  label.option(for='radio-option-2') Option 2\n    input(type='radio', name='radio', value='option-2', id='radio-option-2')\n    span.checkmark\n  label.option(for='radio-option-3') Option 3\n    input(type='radio', name='radio', value='option-3', id='radio-option-3')\n    span.checkmark\n    </code></pre></div><div class=\"element-container\"><div class=\"radio-alt-input\"><h3 class=\"header\">Select option</h3><label class=\"option\"><input type=\"radio\" name=\"radio-alt\" value=\"option-1\" id=\"radio-alt-option-1\"/><div class=\"checkmark\"><p class=\"text\">Option 1</p></div></label><label class=\"option\"><input type=\"radio\" name=\"radio-alt\" value=\"option-2\" id=\"radio-alt-option-2\"/><div class=\"checkmark\"><p class=\"text\">Option 2</p></div></label><label class=\"option\"> <input type=\"radio\" name=\"radio-alt\" value=\"option-3\" id=\"radio-alt-option-3\"/><div class=\"checkmark\"><p class=\"text\">Option 3</p></div></label></div></div><pre><code class=\"language-pug\">.radio-alt-input\n  h3.header Select option\n  label.option\n    input(type='radio', name='radio-alt', value='option-1', id='radio-alt-option-1')\n    .checkmark\n      p.text Option 1\n  label.option\n    input(type='radio', name='radio-alt', value='option-2', id='radio-alt-option-2')\n    .checkmark\n      p.text Option 2\n  label.option  \n    input(type='radio', name='radio-alt', value='option-3', id='radio-alt-option-3')\n    .checkmark\n      p.text Option 3\n      </code></pre><div class=\"element-container\"><div class=\"radio-alt-input block\"><h3 class=\"header\">Select option</h3><label class=\"option\"><input type=\"radio\" name=\"radio-alt\" value=\"option-1\" id=\"radio-alt-option-1\"/><div class=\"checkmark\"><p class=\"text\">Option 1</p></div></label><label class=\"option\"><input type=\"radio\" name=\"radio-alt\" value=\"option-2\" id=\"radio-alt-option-2\"/><div class=\"checkmark\"><p class=\"text\">Option 2</p></div></label><label class=\"option\"> <input type=\"radio\" name=\"radio-alt\" value=\"option-3\" id=\"radio-alt-option-3\"/><div class=\"checkmark\"><p class=\"text\">Option 3</p></div></label></div></div><pre><code class=\"language-pug\">.radio-alt-input.block\n  h3.header Select option\n  label.option\n    input(type='radio', name='radio-alt', value='option-1', id='radio-alt-option-1')\n    .checkmark\n      p.text Option 1\n  label.option\n    input(type='radio', name='radio-alt', value='option-2', id='radio-alt-option-2')\n    .checkmark\n      p.text Option 2\n  label.option  \n    input(type='radio', name='radio-alt', value='option-3', id='radio-alt-option-3')\n    .checkmark\n      p.text Option 3\n      </code></pre><h2>Toggle</h2><div class=\"element-container\"><div class=\"small toggle-input\"><label><input type=\"checkbox\"/><div class=\"slider\"></div></label></div></div><div class=\"element-container\"><div class=\"toggle-input\"><label><input type=\"checkbox\"/><div class=\"slider\"></div></label></div></div><div class=\"element-container\"><div class=\"large toggle-input\"><label><input type=\"checkbox\"/><div class=\"slider\"></div></label></div></div><pre><code class=\"language-pug\">.small.toggle-input\n  label\n    input(type='checkbox')\n    .slider\n    \n.toggle-input\n  label\n    input(type='checkbox')\n    .slider\n    \n.large.toggle-input\n  label\n    input(type='checkbox')\n    .slider\n    </code></pre><h2>Range Slider</h2><div class=\"element-container\"><div class=\"range-slider-value\"><h3><span>Value: </span><span data-bind=\"text: rangeValue\"></span></h3></div><div class=\"range-slider-input\"><input data-bind=\"value: rangeValue, valueUpdate: &quot;input&quot;\" type=\"range\" min=\"1\" max=\"100\" class=\"slider\"/></div></div><pre><code class=\"language-pug\">.range-slider-value\n  h3\n    span Value: \n    span(data-bind='text: rangeValue')\n.range-slider-input\n  input.slider(data-bind='value: rangeValue, valueUpdate: \"input\"', type='range', min='1', max='100')\n  </code></pre></h2><div class=\"section\"> <h1 class=\"header\">Dropdowns </h1><div class=\"divider\"></div><div class=\"element-container\"><div class=\"dropdown-container\"></div></div><p>Example<pre><code class=\"language-pug\">// Jade\n.dropdown-container</code></pre><pre><code class=\"language-javascript\">// JS\nthis.dropdownOptions = ko.observableArray([\n  { value: 'wolverine', display: 'Wolverine' },\n  { value: 'spiderman', display: 'Spider-Man' },\n  { value: 'cyclops', display: 'Cyclops' },\n  { value: 'thor', display: 'Thor' },\n]);\n\nfs.mixAppend($('.dropdown-container', this.dom), 'ui/Dropdown', {\n  options: this.dropdownOptions,\n  optionsText: 'display',\n  optionsValue: 'value',\n  placeholder: 'Select character',\n});</code></pre></p><h2>Usage</h2><div class=\"table\"><table><thead><tr><th>Option</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>options</td><td>[Array or Observable Array]</td><td> </td></tr><tr><td>optionsText</td><td>[String]</td><td>(optional) - Property of the Object that should be displayed in the dropdown</td></tr><tr><td>optionsValue</td><td>[String]</td><td>(Optional) - Property of the Object that should be used as value</td></tr><tr><td>value</td><td>[String]</td><td>(Optional) Current value selected</td></tr><tr><td>placeholder</td><td>[String]</td><td>(Optional) Placeholder to show by default (\"E.g. Select your...\")</td></tr></tbody></table></div></div><div class=\"section\"> <h1 class=\"header\">Buttons</h1><div class=\"divider\"></div><h2>Regular</h2><div class=\"element-container button-container\"><button class=\"button\">Button</button><button class=\"basic button\">Basic button</button></div><pre><code class=\"language-pug\">button.button Button\nbutton.basic.button Basic button\n</code></pre><h2>Thin</h2><div class=\"element-container button-container\"><button class=\"thin button\">Thin button</button></div><pre><code class=\"language-pug\">button.thin.button Thin button\n</code></pre><h2>Box</h2><div class=\"element-container button-container\"><button class=\"box button\">Box button</button><button class=\"light box button\">Light box button</button></div><pre><code class=\"language-pug\">button.box.button Box button\nbutton.light.box.button Light box button\n</code></pre><h2>Colors</h2><p>Buttons can be styled using the base color classes. Additionally, button styles are automatically updated when night mode is active.</p><div class=\"night-mode-toggle\"><p>Toggle night mode</p><div class=\"toggle-input\"><label><input data-bind=\"checked: window.nightMode\" type=\"checkbox\"/><div class=\"slider\"></div></label></div></div><div class=\"toggle-night-mode-container\"><div class=\"element-container button-container\"><button class=\"button blue\">Button</button><button class=\"button teal\">Button</button><button class=\"button olive\">Button</button><button class=\"button green\">Button</button></div><div class=\"element-container button-container\"><button class=\"button orange\">Button</button><button class=\"button red\">Button</button><button class=\"button pink\">Button</button><button class=\"button lavender\">Button</button></div><div class=\"element-container button-container\"><button class=\"basic button blue\">Basic color button</button><button class=\"basic button teal\">Basic color button</button><button class=\"basic button olive\">Basic color button</button><button class=\"basic button green\">Basic color button</button></div></div><pre><code class=\"language-pug\">button.button.blue Button\nbutton.button.teal Button\nbutton.button.olive Button\nbutton.button.green Button\nbutton.button.orange Button\nbutton.button.red Button\nbutton.button.pink Button\nbutton.button.lavender Button\nbutton.basic.button.blue Basic color button\nbutton.basic.button.teal Basic color button\nbutton.basic.button.olive Basic color button\nbutton.basic.button.green Basic color button\n</code></pre><h2>Inverted</h2><div class=\"element-container inline button-container\"><div class=\"inverted-button-container\"><button class=\"button inverted\">Inverted button</button></div><div class=\"inverted-button-container teal\"><button class=\"button inverted teal\">Inverted button          </button></div><div class=\"inverted-button-container olive\"><button class=\"button inverted olive\">Inverted button          </button></div><div class=\"inverted-button-container green\"><button class=\"button inverted green\">Inverted button          </button></div></div><div class=\"element-container inline button-container\"><div class=\"inverted-button-container orange\"><button class=\"button inverted orange\">Inverted button</button></div><div class=\"inverted-button-container red\"><button class=\"button inverted red\">Inverted button          </button></div><div class=\"inverted-button-container pink\"><button class=\"button inverted pink\">Inverted button          </button></div><div class=\"inverted-button-container lavender\"><button class=\"button inverted lavender\">Inverted button</button></div></div><pre><code class=\"language-pug\">// Defaults to transparent\nbutton.button.inverted Inverted button\nbutton.button.inverted.teal Inverted button          \nbutton.button.inverted.olive Inverted button          \nbutton.button.inverted.green Inverted button          \n// etc...\n</code></pre><h2>Icons</h2><div class=\"element-container button-container\"><button class=\"button blue left-icon\"><i class=\"fas fa-thumbs-up\"></i><span>Radical</span></button><button class=\"box button left-icon\"><i class=\"fas fa-plus\"></i><span>Icon box button</span></button></div><pre><code class=\"language-pug\">button.button.blue.left-icon\n  i.fas.fa-thumbs-up\n  span Radical\nbutton.box.button.left-icon\n  i.fas.fa-plus\n  span Icon box button</code></pre><h2>Circle</h2><div class=\"element-container button-container\"><button class=\"small circle button\"><i class=\"fas fa-code-branch\"></i></button><button class=\"circle button\"><i class=\"fas fa-code-branch\"></i></button><button class=\"large circle button\"><i class=\"fas fa-code-branch\"></i></button></div><pre><code class=\"language-pug\">button.small.circle.button\n  i.fas.fa-code-branch\nbutton.circle.button\n  i.fas.fa-code-branch\nbutton.large.circle.button\n  i.fas.fa-code-branch\n  </code></pre><h2>Disabled</h2><div class=\"element-container button-container\"><button disabled=\"disabled\" class=\"button disabled basic\">Disabled</button></div><pre><code class=\"language-pug\">button.button.disabled(disabled) Disabled\n</code></pre><h2>Wide</h2><p>Takes on the width of it's container</p><div class=\"button-flex-container\"><button class=\"blue button wide\">Wide button</button></div><pre><code class=\"language-pug\">button.blue.button.wide Wide button\n</code></pre><h2>Combinations</h2><p>You can combine the above classes to get different styles of buttons.</p><div class=\"element-container button-container\"><button class=\"box basic blue button\">Basic blue box</button><button class=\"basic circle green button\"><i class=\"far fa-axe-battle\"></i></button><button class=\"pink basic button right-icon\"><span>Right icon</span><i class=\"far fa-book-dead\"></i></button></div><pre><code class=\"language-pug\">.element-container.button-container\n  button.box.basic.blue.button Basic blue box\n  button.basic.circle.green.button\n    i.far.fa-axe-battle\n  button.pink.basic.button.right-icon\n    span Right icon\n    i.far.fa-book-dead\n    </code></pre></div><div class=\"section\"><h1 class=\"header\">Messages</h1><div class=\"divider\"></div><h2>Neutral message</h2><p class=\"message\">Did you know that this is a neutral message?</p><pre><code class=\"language-pug\">p.message Did you know that this is a neutral message?\n</code></pre><h2>Postive message</h2><p class=\"positive message\">OMG! This is such a positive message!</p><pre><code class=\"language-pug\">p.positive.message OMG! This is such a positive message!\n</code></pre><h2>Negative message</h2><p class=\"negative message\">Bummer. This is a negative message.    </p><pre><code class=\"language-pug\">p.negative.message Bummer. This is a negative message.</code></pre></div><div class=\"section\"><h1 class=\"header\">Loading spinner</h1><div class=\"divider\"></div><h2>Classes</h2><div class=\"spinner-container\"><div class=\"loading-spinner small\"></div></div><div class=\"spinner-container\"><div class=\"loading-spinner\"></div></div><div class=\"spinner-container\"><div class=\"loading-spinner large\"></div></div><pre><code class=\"language-pug\">.loading-spinner.small\n.loading-spinner\n.loading-spinner.large\n</code></pre><h2>Binding</h2><p>The <code>ajax</code> binding accepts a callback function along with several options to control the final state of the button.</p><div class=\"button-container\"><button data-bind=\"ajax: loading\" class=\"green button\">Load stuff</button></div><pre><code class=\"language-pug\">button.green.button(data-bind='ajax: loading') Load stuff\n</code></pre><pre><code class=\"language-javascript\">styleGuide.prototype.loading = function(done) {\n  setTimeout(function () { \n    done();\n  }, 2000);\n}\n</code></pre><div class=\"button-container\"><button data-bind=\"ajax: loadingOptions\" class=\"green button\">Load stuff with options</button></div><pre><code class=\"language-pug\">button.green.button(data-bind='ajax: loadingOptions') Load stuff with options\n</code></pre><pre><code class=\"language-javascript\">styleGuide.prototype.loadingOptions = function(done) {\n  setTimeout(function () { \n  \n    const options = {\n      message: 'Success',  // Default: [original inner HTML]\n      disabled: true,      // Default: false\n      classes: 'disabled', // Default: [none]\n    }\n    \n    done(options);\n  }, 2000);\n}\n</code></pre><div class=\"table\"><table><thead><tr><th>Option</th><th>Default</th><th>Type</th><th>Info</th></tr></thead><tbody><tr><td>message</td><td>[original inner HTML]</td><td>string, HTML element</td><td></td></tr><tr><td>disabled</td><td>false</td><td>boolean</td><td></td></tr><tr><td>classes</td><td>[none]</td><td>string</td><td>E.g. \"my-class your-class\"</td></tr></tbody></table></div></div><div class=\"section\"><h1 class=\"header\">Dividers</h1><div class=\"divider\"></div><h2>Regular</h2><div class=\"text-divider-container\"><p>Top content</p><div class=\"divider\"></div><p>Bottom content</p></div><h2>Text divider</h2><div class=\"text-divider-container\"><p>Top content</p><div class=\"text divider\">OR</div><p>Bottom content</p></div><h2>Icon divider</h2><div class=\"text-divider-container\"><p>Top content</p><div class=\"text divider\"><i class=\"fas fa-grin-beam-sweat\"></i></div><p>Bottom content</p></div><pre><code class=\"language-pug\">p Top content\n.divider\np Bottom content\n\np Top content\n.text.divider OR\np Bottom content\n\np Top content\n.text.divider\n  i.fas.fa-grin-beam-sweat\np Bottom content\n</code></pre></div><div class=\"section\"><h1 class=\"header\">Dialogs</h1><p>Generally used for messages to the user.</p><div class=\"divider\"></div><div class=\"element-container dialog-example\"><button data-bind=\"click: openDialog(&quot;&quot;)\" class=\"button blue\">Toggle dialog</button><div class=\"button-container\"><button data-bind=\"click: openDialog(&quot;positive&quot;)\" class=\"thin box button green\">Positive</button><button data-bind=\"click: openDialog(&quot;negative&quot;)\" class=\"thin box button red\">Negative</button><button data-bind=\"click: openDialog(&quot;blue&quot;)\" class=\"thin box button blue\">Blue</button><button data-bind=\"click: openDialog(&quot;blue wide&quot;)\" class=\"thin box button\">Wide</button><button data-bind=\"click: openDialog(&quot;blue extra-wide&quot;)\" class=\"thin box button\">Extra-wide</button></div></div><pre><code class=\"language-pug\">.ui-dialogs-ExampleDialog.dialog\n  i.dialog-close.button\n  .dialog-header\n    h3.header Some fancy title goes up here\n  .dialog-content\n    p This is a pretty simple dialog\n  .dialog-footer\n    button.button.cancel Cancel\n    button.button.blue.primary.action Take an action\n    </code></pre><h3>Basic usage:</h3><pre><code class=\"language-javascript\">dialog('ui/dialogs/ExampleDialog')\n\n</code></pre><h3>Calling with args (same as args in fs.mix)</h3><pre><code class=\"language-javascript\">dialog('ui/dialogs/ExampleDialog',{dialogStyle: 'positive'});\n</code></pre><h3>Calling with handling by caller (note callback function comes before args)</h3><pre><code class=\"language-javascript\">dialog('ui/dialogs/ExampleDialog',function(vm,res,done) {\n  // vm contains a reference to the viewModel that was created by fs.mix\n  // res is either true if the primary button was selected or false if cancel was selected\n  // done should be called to close the dialog\n},{dialogStyle: 'positive'});\n</code></pre><h3>Calling with handling by callee (this code is inside the ExampleDialog component)</h3><pre><code class=\"language-javascript\">// Both action and cancel are optional (i.e., handling could be by the caller)\n// If action is specified, it is called when the button with the class \"primary\" is clicked\n// If the \"primary\" button also has a class \"action\" then a spinner appears\n// The \"done\" function closes the dialog and the \"abort\" function stops the spinner\nExampleDialog.prototype.action = function(done,abort) {\n  setTimeout(function() {\n    var res = prompt('Enter done or abort:');\n    if (res == 'done') done()\n    else if (res == 'abort') abort();\n  },1000);\n}\n\n// If cancel is specified, it is called when the buton with the class \"cancel\" is clicked\n// If this function returns false then the default cancel action (to close the dialog) is skipped\n// If the default action is skipped, this function is responsible for calling cancel to close the dialog\nExampleDialog.prototype.cancel = function(cancel) {\n  var res = confirm('Exit without saving changes?');\n  if (res) cancel();\n  return false;\n}\n</code></pre><h3>Calling with handling by caller and the callee:</h3><p>Both a callback and an action function can be defined. In this case the callback fires after the action function.</p><h2>Should the caller or callee handle the action?</h2><p>Whether or not a dialog's action is handled by the caller or the callee depends on the use case. If a dialog is very encapsulated, it should probably handle it's actions through the action method (the callee). If the dialog is generic and used in many places, the callback syntax provides more flexibility and easy reuse.</p><h3>Internal functions (possibly useful but rarely called)</h3><pre><code class=\"language-javascript\">// To simply close the dialog without firing any callbacks\nthis.__dialog.close();\n\n// To fire the cancel callback and close the dialog\nthis.__dialog.cancel();\n</code></pre><h3>Additional classes</h3><pre><code class=\"language-pug\">// Colors\n.blue\n.negative (red)\n.positive (green)\n\n// Width 768px (desktop only)\n.wide.dialog\n\n// Width 95% (desktop only)\n.extra-wide.dialog\n\n// Footer button alignment (desktop only)\n.dialog-footer.right-aligned\n.dialog-footer.left-aligned\n</code></pre><h3>Closing on background click</h3><p>Oftentimes it's desirable to also close the dialog when anywhere but the dialog is clicked. To do this, you can use the helper class <code>.background.dialog-close</code> on a div behind the dialog.</p><p>Anything with the class <code>.dialog-close</code> automatically will trigger the dialog to close.</p><pre><code class=\"language-pug\">.ui-dialogs-ExampleDialog\n  .dialog\n    i.dialog-close.button\n    .dialog-header\n      h3.header Some fancy title goes up here\n    .dialog-content\n      p This is a pretty simple dialog\n    .dialog-footer\n      button.button.cancel Cancel\n      button.button.blue.primary.action Take an action\n      \n  // Background div is behind the dialog\n  .background.dialog-close\n  </code></pre></div><div class=\"section\"><h1 class=\"header\">Transitions</h1><p>There are a handful of custom KO bindings that can be used to transition elements into and out of the page. These generally work by passing a true/false observable to whichever transition binding you choose to use.</p><div class=\"divider\"></div><h2>Scale</h2><p>Zooms the element into and out of view. Accepts true/false binding that represents the visible state of element.</p><h3>Usage</h3><div class=\"table\"><table><thead><tr><th>Binding</th><th>Description</th><th>Accepts</th><th>Info</th></tr></thead><tbody><tr><td>scaleVisible</td><td>Scales in if true, scales out if false.</td><td>[Boolean]</td><td>Required</td></tr><tr><td>scaleDuration</td><td>Adjust the duration of the animation.</td><td>[Number]</td><td>Optional (default: 500)</td></tr><tr><td>onScaleComplete</td><td>Callback function to run when the scale animation has finished.</td><td>[Function]</td><td>Optional</td></tr></tbody></table></div><pre><code class=\"language-pug\">// Example\n.color-container.blue(data-bind='scaleVisible: scaleBoxVisible')\n  h2.inverted Scale</code></pre><div class=\"transitions-container\"><div class=\"transition-container\"><button data-bind=\"click: toggleScale\" class=\"button\">Scale</button><div class=\"element-box\"><div data-bind=\"scaleVisible: scaleBoxVisible\" class=\"color-container blue\"><h2 class=\"inverted\">Scale      </h2></div></div></div></div><h2>Fade</h2><p>Fades the element into and out of view. Accepts true/false binding that represents the visible state of element.</p><h3>Usage</h3><div class=\"table\"><table><thead><tr><th>Binding</th><th>Description</th><th>Accepts</th><th>Info</th></tr></thead><tbody><tr><td>fadeVisible</td><td>Fades in if true, scales out if false.</td><td>[Boolean]</td><td>Required</td></tr><tr><td>fadeDuration</td><td>Adjust the duration of the animation.</td><td>[Number]</td><td>Optional (default: 250)</td></tr><tr><td>fadeDirection</td><td>Direction of fade in animation (fade out moves in opposite direction)</td><td>[String]: \"up\", \"down\", \"left\", \"right\"</td><td>Optional (default: null)</td></tr><tr><td>fadeDistance</td><td>How far to transform the fade (when paired with fadeDirection)</td><td>[Number]</td><td>Optional (default: 25)</td></tr><tr><td>onFadeComplete</td><td>Callback function to run when the scale animation has finished.</td><td>[Function]</td><td>Optional</td></tr></tbody></table></div><pre><code class=\"language-pug\">// Examples\n.color-container.blue(data-bind='fadeVisible: fadeBoxVisible')\n  h2.inverted Fade\n  \n.color-container.blue(data-bind='fadeVisible: fadeUpBoxVisible, fadeDirection: \"up\"')\n  h2.inverted Fade up</code></pre><div class=\"transitions-container\"><div class=\"transition-container\"><button data-bind=\"click: toggleFade\" class=\"button\">Fade</button><div class=\"element-box\"><div data-bind=\"fadeVisible: fadeBoxVisible\" class=\"color-container blue\"><h2 class=\"inverted\">Fade</h2></div></div></div></div><div class=\"transitions-container\"><div class=\"transition-container\"><button data-bind=\"click: toggleFadeUp\" class=\"button\">Fade up</button><div class=\"element-box\"><div data-bind=\"fadeVisible: fadeUpBoxVisible, fadeDirection: &quot;up&quot;\" class=\"color-container blue\"><h2 class=\"inverted\">Fade up</h2></div></div></div></div></div><div class=\"section\"><h1 class=\"header\">Tooltips</h1><p>Simple tooltip explainers for a small amount of text. <code>.tip</code> is the default class for adding tooltips, but we use Bootstraps tooltip component, check the <a class='custom-tooltip-container' target='_blank' href= 'https://getbootstrap.com/docs/4.1/components/tooltips/'>Bootstrap docs</a> for available custom options.</p><div class=\"divider\"></div><div class=\"element-container\"><p><span data-title=\"Hello \uD83D\uDC4B\" class=\"tip\">Hover me!</span></p></div><pre><code class=\"language-pug\">span.tip(data-title=\"Hello \uD83D\uDC4B\") Hover me!\n</code></pre><div class=\"element-container\"><p><span data-title=\"Hello \uD83D\uDC35\" class=\"custom-tooltip\">Custom tooltip</span></p><pre><code class=\"language-pug\">span.custom-tooltip(data-title='Hello \uD83D\uDC35') Custom tooltip\n</code></pre></div><pre><code class=\"language-javascript\">$('.custom-tooltip').tooltip({\n  placement: 'right',\n});\n</code></pre></div><div class=\"section\"><h1 class=\"header\">Popup menu</h1><div class=\"element-container\"><button data-bind=\"click: openPopupMenu, clickBubble: false\" class=\"box button left-icon\"><i class=\"fas fa-cog\"></i><span>Settings</span></button><div class=\"settings-popup\"></div></div><pre><code class=\"language-pug\">// Set clickBubble to false to stop event propagation\nbutton.box.button.left-icon(data-bind='click: openPopupMenu, clickBubble: false')\n.settings-popup</code></pre><pre> <code class=\"language-javascript\">styleGuide.prototype.openPopupMenu = function () {\n\n// Append PopupMenu to dom container element\nfs.mixAppend($('.settings-popup', this.dom), 'ui/PopupMenu', {\n  header: 'Settings',\n  // Array of items to display in menu\n  items: [{\n    // Toggle item\n    text: 'Toggle item',\n    type: 'toggle',\n    action: toggleState => {\n      console.log(toggleState);\n    }\n  }, {\n    // Action item\n    text: 'Action item',\n    type: 'action',\n    action: () => {\n      console.log('Action');\n    }\n  }, {\n    // Header item\n    text: 'Header item',\n    type: 'header',\n  }, {\n    // Link item\n    text: 'Link item',\n    type: 'link',\n    href: '#',\n  }, {\n    // Action item with icon\n    text: 'Action item with icon',\n    type: 'action',\n    icon: 'fas fa-times',\n    action: () => {\n      console.log('Action');\n    }\n  }],\n});</code>}</pre></div><div class=\"section\"><h1 class=\"header\">Background overlay</h1><p>A global function that generates a background overlay for use behind modals, dialogs, etc.</p><div class=\"divider\"></div><div class=\"element-container\"><button data-bind=\"click: createOverlay\" class=\"blue button\">Create overlay</button></div><pre> <code class=\"language-javascript\">createOverlay() {\n  window.createCustomOverlay({\n    dom: this.dom, // Default: $('body')\n    onClick: () => {\n      // e.g. Remove fade out and remove the element\n      $('.custom-classes').fadeOut(function() {\n        this.remove();\n      });\n    },\n    classes: 'custom-classes', // Add custom classes\n    zIndex: 999999, // Default: 990\n  });\n}\n</code></pre></div><div class=\"changelog section\">     <h1 class=\"header\">Changelog</h1><ul><li><h3 class=\"mvs\">7-31-18</h3><ul><li>Updated <code>&lt;a&gt;</code> button tags to <code>&lt;button&gt;</code> in examples to improve accessibility.</li><li>Updated <code>.option</code> in <code>.radio-input-alt</code> to <code>label.option</code> in examples to improve accessibility.</li><li>Fixed positioning for <code>&lt;input&gt;</code> tags in <code>.radio-input</code> and <code>.radio-input-alt</code>.</li></ul></li><li><h3 class=\"mvs\">8-01-18</h3><ul><li>Updated all <code>&lt;input&gt;</code> tags to have a focus state to improve accessibility.</li></ul></li><li><h3 class=\"mvs\">8-02-18</h3><ul><li>Added basic <code>&lt;select&gt;</code>-based dropdowns.</li></ul></li><li><h3 class=\"mvs\">8-10-18</h3><ul><li>Added light and dark color variations.</li><li>Added inverted definition for typography.</li></ul></li><li><h3 class=\"mvs\">8-15-18</h3><ul><li>Added <code>height: 2.57142858em</code> to all buttons to allow resizing of button based on font-size.</li></ul></li><li><h3 class=\"mvs\">8-28-18</h3><ul><li>Added thin buttons, box buttons, and toggles.</li></ul></li><li><h3 class=\"mvs\">8-29-18</h3><ul><li>Added icon section about Font Awesome.</li></ul></li><li><h3 class=\"mvs\">9-3-18</h3><ul><li>Added divider and divider with centered text or icon definitions.</li></ul></li><li><h3 class=\"mvs\">9-4-18</h3><ul><li>Added two new knockout bindings for transitioning elements (<code>scaleVisible</code> and <code>fadeVisible</code>).</li></ul></li><li><h3 class=\"mvs\">9-7-18</h3><ul><li>Added <code>PopupMenu</code> component usage and examples.</li></ul></li><li><h3 class=\"mvs\">9-11-18</h3><ul><li>Added a generic <code>.dialog</code> class that creates an absolute positioned dialog.</li></ul></li><li><h3 class=\"mvs\">9-11-18</h3><ul><li>Added <code>@elevation</code> variables and usage.</li></ul></li><li><h3 class=\"mvs\">9-12-18</h3><ul><li>Added breakpoint variables and media query aliases.</li></ul></li><li><h3 class=\"mvs\">9-14-18</h3><ul><li>Added <code>load</code> binding to bindingHandlers that adds a loadings spinner to buttons.</li></ul></li><li><h3 class=\"mvs\">9-20-18</h3><ul><li>Added sidebar navigation for quick access and overview of the contents.</li></ul></li><li><h3 class=\"mvs\">9-27-18</h3><ul><li>Added `ui-Dropdown` component.</li></ul></li><li><h3 class=\"mvs\">10-1-18</h3><ul><li>Added an entry for <code>MediaQuery</code> helper function usage.</li></ul></li><li><h3 class=\"mvs\">10-3-18</h3><ul><li>Added entry for tooltips using the <code>.tip</code> class and <code>title</code> attribute.</li><li>Added an entry for <code>BaseModal</code> components to be extended with custom modals.</li></ul></li><li><h3 class=\"mvs\">10-11-18</h3><ul><li>Added an extra <code>.block</code> class to the <code>radio-alt-input</code> input.</li></ul></li><li><h3 class=\"mvs\">10-18-18</h3><ul><li>Updated the tooltips entry to have description about customization via Bootstrap docs.</li></ul></li><li><h3 class=\"mvs\">10-25-18</h3><ul><li>Updated documentation for dialogs</li></ul></li><li><h3 class=\"mvs\">10-31-18</h3><ul><li>Added a <code>&lt;textarea&gt;</code> element.</li></ul></li><li><h3 class=\"mvs\">10-31-18</h3><ul><li>Added circular buttons with a <code>.circle</code> class.</li></ul></li><li><h3 class=\"mvs\">11-7-18 </h3><ul><li>Added VideoDialog component example.</li></ul></li><li><h3 class=\"mvs\">11-21-18</h3><ul><li>Added background-close option example for dialogs.</li></ul></li><li><h3 class=\"mvs\">11-27-18</h3><ul><li>Updated Datepicker styles and added an example.</li></ul></li><li><h3 class=\"mvs\">11-27-18</h3><ul><li>Added helper for input labels.</li></ul></li><li><h3 class=\"mvs\">12-04-18</h3><ul><li>Added a .label-helper class for inputs for things like (optional) or (required) labels on inputs.</li></ul></li><li><h3 class=\"mvs\">12-18-18</h3><ul><li>Added color classes to <code>basic</code> buttons.</li></ul></li><li><h3 class=\"mvs\">12-18-18</h3><ul><li>Added transparent default inverted buttons.</li></ul></li><li><h3 class=\"mvs\">01-09-19</h3><ul><li>Added <code>.wide</code> class.</li></ul></li><li><h3 class=\"mvs\">03-07-19</h3><ul><li>Added night mode colors and examples.</li></ul></li></ul></div></div></div><div style=\"height: 300px;\"></div></div></div>"}),deftmp("page.submitAReview",{template:"<div class=\"page-submitAReview\"><div class=\"submit-a-review-header\"><div class=\"details-section\"><h1>Submit a review</h1><p>Help your peers understand why Osmosis is so awesome by submitting a testimonial. Additionally,&nbsp;<b>the more you complete, the more Osmosis Prime you earn</b>:</p><ul><li><b>Written testimonial -&nbsp;</b>2 weeks of Osmosis Prime</li><li><b>Headshot -&nbsp;</b>2 weeks of Osmosis Prime</li><li><b>Video Testimonial -&nbsp;</b>4 weeks of Osmosis Prime</li></ul></div><div class=\"example-review-section\"><div class=\"example-review-video\"></div><div class=\"example-review-content\"><div class=\"example-review-content-text\"><span class=\"quote-char\">\u201C</span>Osmosis has really changed my way of learning things. Instead of focusing on straight memorization, I'm learning and integrating that knowledge by applying it to clinical cases found in the Osmosis Question Bank. That's the key to what I think makes Osmosis so great: how integrative, concise, yet still comprehensive everything is. The videos are so welcoming compared to other resources, which can be really dense.<span class=\"quote-char\">\u201D</span></div><div class=\"example-review-user\"><div class=\"example-review-user-image-wrapper\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/CZ4foRH4QYa23HmAYwtMxHi8Q4m_-7iZ/_.png\"/></div><div class=\"example-review-user-info\"><div class=\"example-review-user-name\">Josh Bliss</div><div class=\"example-review-user-school\">Weill Cornell Medical College</div></div></div></div></div></div><div class=\"ui-SubmitReviewForm\"></div></div>"}),deftmp("page.surveyadmin",{template:"<div class=\"page-surveyadmin container mtl\"><div class=\"row\"><div class=\"col-md-10 col-md-offset-1\"><div class=\"surveyGroups\"></div></div></div></div>"}),deftmp("page.terms",{template:"<div class=\"page-terms\"><div id=\"landing-terms\"><div class=\"container header\"><div class=\"row\"><div class=\"span8\"><h1>Terms of Use</h1><p class=\"mtl\">Effective Date: May 25, 2018</p><p>Last Updated Date: May 25, 2018 (Version 1.3)</p></div></div></div><div id=\"content\" class=\"txt-left\"><div class=\"container\"><div class=\"row\"><div class=\"span1\"></div><div class=\"span8\"> <h3 class=\"mtl\">I. Introduction and Eligibility</h3><p>Please read these Terms of Use (\u201C<b>Terms</b>\u201D) carefully before using Osmosis.</p><p>These Terms include <a href=\"/privacy\">Knowledge Diffusion\u2019s Privacy Policy</a>, which is incorporated by reference into these Terms.  We have included several annotations in boxes to help explain or identify key sections.  These annotations are for convenience only and have no legal or contractual effect.</p><p>This agreement is a legally binding contract.  It may change as our business changes, and you agree you will review it and any updates regularly.  We will notify you of material changes and obtain your consent as may be required by law. <b>Your continued use of the Services means you accept any changes.</b> </p><p><b>Binding Agreement.</b>  These Terms constitute a binding agreement between you and Knowledge Diffusion Inc. and its affiliates and subsidiaries (\u201C<b>Knowledge Diffusion</b>,\u201D \u201C<b>we</b>,\u201D \u201C<b>us</b>\u201D).  \u201C<b>You</b>\u201D and \u201C<b>users</b>\u201D shall mean all visitors to Osmosis.  You accept these Terms each time you access Osmosis.  If you do not accept these Terms, you must not use Osmosis.  If you are under 18 years of age, you represent and agree that you possess the legal consent of your parent or guardian to access and use Osmosis.</p><p><b>Revisions to Terms.</b>  We may revise these Terms at any time by posting an updated version. You should visit this page periodically to review the most current Terms, because you are bound by them.  Your continued use of Osmosis after a change to these Terms constitutes your binding acceptance of these Terms. If we implement changes to these Terms which would materially affect your rights or obligations as set forth in these Terms, we will make reasonable efforts to provide notice and obtain consent as may be required by law.</p><p>The terms \u201C<b>post</b>\u201D and \u201C<b>posting</b>\u201D as used in these Terms shall mean the act of submitting, uploading, publishing, displaying, or similar action on Osmosis.</p><h3 class=\"mtl\">II. Osmosis</h3><p>\u201C<b><u>Osmosis</u></b>\u201D means any website, mobile application, or Internet service under Knowledge Diffusion\u2019s control, whether partial or otherwise, in connection with providing the services provided by Knowledge Diffusion, including osmose-it.com and freetext.org.  Osmosis provides an online and mobile platform for content and learning management.</p><p>\u201CPersonal Information\u201D means information that alone or when in combination with other information may be used to identify or that is identifiable to an individual. Personal Information does not include information that has been anonymized so that it does not allow a third party to easily identify a specific individual. We collect, retain and process Personal Information about you in order to provide Osmosis.</p><p>The content available on Osmosis is for educational and informational purposes only.  We are not responsible for the effects of your reliance upon the content.</p><p><b>Educational Content.</b> The content available on Osmosis is intended for educational and informational purposes only. We do not guarantee the validity and accuracy of such content.  We may, but are not required to, moderate the content to improve its accuracy.  We are not liable for the effects of your reliance on such content.</p><p><b>Participation In Research Studies on Osmosis.</b>  You may choose to participate in research studies conducted on Osmosis by answering questions in questionnaires.  By answering questions in such questionnaires through Osmosis, you consent to take part in the research study and to have data collected through the questionnaires, including your name and other identifying information, shared with research institutions, such as Johns Hopkins.  We may also share aggregate response data (e.g., number of questions answered, accuracy, time spent) with your educational institution.  If you are a student at such research or educational institutions, your choice to participate in a research study and aggregate information about your question responses may be used by such institutions and/or professors according to their policies. You should contact your institution or professor for more information about how such information will be used.</p><p><b>Approval as a Contributor.</b>  To post content to Osmosis, you must be approved by the proprietors and administrators, which may include Knowledge Diffusion and educational institution employees.  You agree that Knowledge Diffusion has the right of final approval for all contributors and that such approval shall be carried out at Knowledge Diffusion\u2019s sole discretion.</p><h3 class=\"mtl\">III. Eligibility to Use Osmosis</h3><p><b>Children.</b>  No part of Osmosis is directed to persons under the age of 13.  IF YOU ARE UNDER 13 YEARS OF AGE, PLEASE DO NOT USE OR ACCESS Osmosis AT ANY TIME OR IN ANY MANNER.</p><p><b>Agent of a Company, Entity, or Organization.</b>  If you are using Osmosis on behalf of a company, entity, or organization (collectively \u201C<b><u>Organization</u></b>\u201D), then you represent and warrant that you:</p><ol class=\"annotate2\"><div class=\"pll\"><li>are an authorized representative of that Organization;</li><li>have the authority to bind that Organization to these Terms; and</li><li>agree to be bound by these Terms on behalf of that Organization.</li></div></ol><h3 class=\"mtl\">IV. Your Account</h3><p> <p>You are responsible for your log-in credentials and for keeping your information accurate.</p><p>You are responsible for any activity resulting from the use of your log-in credentials on Osmosis.</p></p><p>You represent and warrant that the information you provide to Knowledge Diffusion upon the licensing of Osmosis and at all other times will be true, accurate, current, and complete.</p><p><b>Your Log-In Credentials.</b>  To use Osmosis, you will have log-in information, including a username and password or social networking log-in credentials.  Your account is personal to you, and you may not share your account information with, or allow access to your account by, any third party.  As you will be responsible for all activity that occurs under your access credentials, you agree to use reasonable efforts to prevent unauthorized access to or use of Osmosis and to preserve the confidentiality of your credentials, and any device that you use to access Osmosis. </p><p>You agree to notify us immediately of any breach in secrecy of your log-in information.  If you have any reason to believe that your account information has been compromised or that your account has been accessed by a third party, you agree to immediately notify Knowledge Diffusion by e-mail to <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>.  You will be solely responsible for the losses incurred by Knowledge Diffusion and others due to any unauthorized use of your account.</p><p>You may review and update your personal data in your account by clicking the [\"Update My Profile\"] icon on your membership page. If you have any questions about our treatment of your data, or if you wish to update your personal data, you can email us at <b>data<span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>.</p><h3 class=\"mtl\">V. Communications</h3><p> <p>We may send you push notifications and text messages, with your permission and you are responsible for all associated charges.</p><p><b>We may communicate with you by email or by posting notices on Osmosis.  You may request that we provide notice of security breaches in writing.</b></p></p><p>You agree to receive email from us at the email address you provided to us for customer service-related purposes. You may also receive push notifications and/or text messages for both content delivery and customer service-related purposes. DO NOT VIEW OR ANSWER THESE WHILE DRIVING OR OPERATING HEAVY MACHINERY.</p><p><b>Push Notifications from Osmosis.</b> By downloading the Osmosis mobile app and requesting that we communicate information to you by push notification, you consent to receive push notifications on your mobile device (e.g. smartphone or tablet) as requested.\xA0 In addition, standard messaging, data, and other fees may be charged by your wireless service carrier.\xA0 You are responsible for these charges.\xA0 You may turn off these notifications by navigating to the Settings page of the app and disabling the push notifications.\xA0</p><p>We are not responsible for the timeliness or final delivery of the push notification, as this is out of our control and is the responsibility of network relays.</p><p><b>Text Messages from Osmosis.</b>  By providing us your mobile telephone number and requesting that we communicate information to you by text message, you consent to receive commercial text messages at that number as requested.\xA0 We may charge you a fee if you sign up to receive text messages.  In addition, standard messaging, data, and other fees may be charged by your wireless service carrier.\xA0 You are responsible for these charges.\xA0 You may turn off or unsubscribe from these messages by texting UNSUBSCRIBE in reply to text messages from Osmosis.\xA0 You may also be able to change your text message preferences using Osmosis.\xA0</p><p>We may send and receive text messages through cellular telephone operators or other networks, and the level of reliability may vary.  We are not responsible for the timeliness or final delivery of the message, as this is out of our control and is the responsibility of the cellular telephone operator or other networks.</p><p><b>Electronic Notices.</b>  By using Osmosis or providing Personal Information to us, you agree that we may communicate with you electronically regarding security, privacy, and administrative issues relating to your use of Osmosis.  If we learn of a security system\u2019s breach, we may attempt to notify you electronically by posting a notice on Osmosis or sending an email to you.  You may have a legal right to receive this notice in writing.  To enable the receipt of free written notice of a security breach (or to withdraw your consent from receiving electronic notice), please write to us at <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>.</p><h3 class=\"mtl\">VI. Knowledge Diffusion\u2019s Content Ownership and Use</h3><p>Knowledge Diffusion owns or has rights to all of the content we make available through Osmosis, but you may use it as you use Osmosis.  You cannot use our logos without our written permission.</p><p>The contents of Osmosis include:  designs, text, graphics, images, video, information, logos, button icons, software, audio files, computer code, and other Knowledge Diffusion content not covered under the Creative Commons license described below (collectively, \u201C<b><u>Knowledge Diffusion Content</u></b>\u201D).  All Knowledge Diffusion Content and the compilation (meaning the collection, arrangement, and assembly) of all Knowledge Diffusion Content are the property of Knowledge Diffusion or its licensors and are protected under copyright, trademark, and other laws.</p><p><b>License to You.</b>  We authorize you, subject to these Terms, to access and use Osmosis and the Knowledge Diffusion Content solely for the use of Osmosis.  Any other use is expressly prohibited.  This license is revocable at any time without notice and with or without cause.  Unauthorized use of the Knowledge Diffusion Content may violate copyright, trademark, and applicable communications regulations and statutes and is strictly prohibited.  You must preserve all copyright, trademarks, service marks, and other proprietary notices contained in the original Knowledge Diffusion Content on any copy you make of the Knowledge Diffusion Content. </p><p><b>Knowledge Diffusion Marks.</b>  \u201CKnowledge Diffusion,\u201D \u201COsmosis,\u201D the Knowledge Diffusion logo, the Osmosis logo, and other Knowledge Diffusion logos and product and service names are or may be trademarks of Knowledge Diffusion (the \u201C<b><u>Knowledge Diffusion Marks</u></b>\u201D). You agree not to display or use in any manner the Knowledge Diffusion Marks without our prior written permission for each use and subject to the terms of such permission.</p><h3 id=\"intellectual-property\" class=\"mtl\">VII. Intellectual Property and Your License to Use</h3><p><p>You, or the people who allow you to use their content, own all of the content you post using Osmosis.  However, by making the content \u201Cpublic,\u201D we may use it for any purpose, including in our marketing materials.  We may also modify your content to make it work better.</p><p>It is very important that you have permission to use other people\u2019s content or they may be able to sue you for violating their legal rights.</p></p><p><b>Knowledge Diffusion Claims No Ownership.</b>  Osmosis may provide you with the ability to create, post, or share content (\u201C<b><u>Your User Content</u></b>\u201D).  Knowledge Diffusion claims no ownership or control over Your User Content.  You or a third-party licensor, as appropriate, retain all copyright, patent, and trademark rights to any of the content you post on or through Osmosis.  You are responsible for protecting those rights.</p><p><b>Knowledge Diffusion\u2019s Use of Posted Content on Osmosis.</b>  By creating, posting, or sharing Your User Content and making it \u201Cpublic\u201D on or through Osmosis, and subject to Knowledge Diffusion\u2019s Privacy Policy, you grant Knowledge Diffusion a world-wide, non-exclusive, royalty-free license to use, modify, remove, publish, transmit, sub-license, or display Your User Content for any purpose without compensation to you, including for the purpose of promoting Knowledge Diffusion and its services.  This same license applies to all question responses.   By creating, posting, or sharing Your User Content and keeping it \u201Cprivate\u201D on or through Osmosis, you grant Knowledge Diffusion a world-wide, non-exclusive, royalty-free license to use, modify, remove, publish, transmit, or display such content on Osmosis for the sole purpose of providing the Osmosis services.   You waive any rights you may have regarding Your User Content being altered or manipulated in any way that may be objectionable to you. Knowledge Diffusion reserves the right to refuse to accept, post, display, or transmit any User Content in its sole discretion.  Within a reasonable time after you terminate your account, your Personal Information will be deleted  and will no longer be stored by Knowledge Diffusion. The license you grant Knowledge Diffusion under these Terms includes Knowledge Diffusion\u2019s use of aggregated information from your account in the manner described in these terms and in the Privacy Policy even after it is cancelled.</p><p><b>Creative Commons Licenses.</b>  A user may view User Content from contributors provided under a Creative Commons license.  Certain Creative Commons licenses, such as Attribution-NonCommercial-ShareAlike (BY-NC-SA), prohibit its use for commercial purposes without prior written approval and require attribution to Knowledge Diffusion and the content author.  For more information about this Creative Commons license, click <a href=\"http://creativecommons.org/licenses/by-nc-sa/3.0/\">here.</a>  You may not use such content for commercial purposes unless you have the written consent of Knowledge Diffusion.  If you want to reproduce such content you must properly attribute Knowledge Diffusion and the content author.  Some content, such as lecture slides, course syllabi, and professors\u2019 notes, may not be covered by the Creative Commons license.  Such content may not be shared.  Please contact us at <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b> if you have questions about what content may be shared.</p><p><b>You Acquire No Ownership of Others\u2019 Content.</b>  You understand and agree that you will not obtain, as a result of your use of Osmosis, any right, title, or interest in or to such content delivered via Osmosis or in any intellectual property rights (including, without limitation, any copyrights, patents, trademarks, trade secrets, or other rights) in the content.</p><p><b>You Must Have Rights to the Content You Post.</b>  You represent and warrant that: (i) you own the content posted by you on or through Osmosis or otherwise have the right to grant the licenses set forth in these Terms, (ii) the posting and use of Your User Content on or through Osmosis does not violate the privacy rights, publicity rights, copyrights, contract rights, intellectual property rights, creative commons license, or any other rights of any person, and (iii) the posting of Your User Content on Osmosis does not result in a breach of contract between you and a third party. You agree to pay for all royalties, fees, and any other monies owing any person by reason of content you post on or through Osmosis.  You also acknowledge and agree that Your User Content is non-confidential and non-proprietary.</p><p>Osmosis contains content from users and other Knowledge Diffusion licensors.  Except as provided within these Terms, you may not copy, modify, translate, publish, broadcast, transmit, distribute, perform, display, or sell any content appearing on or through Osmosis.</p><h3 class=\"mtl\">VIII. Copyright Policy</h3><p>Tell us if you think a user has violated your copyright using Osmosis, or if you think someone incorrectly reported that you violated his or her copyright.</p><p>The Digital Millennium Copyright Act of 1998 (the \u201C<b><u>DMCA</u></b>\u201D) provides recourse for copyright owners who believe that material appearing on the Internet infringes their rights under U.S. copyright law. If you believe in good faith that materials posted on Osmosis infringe your copyright, you (or your agent) may send Knowledge Diffusion a \u201CNotification of Claimed Infringement\u201D requesting that the material be removed, or access to it blocked.  The notice must include the following information:</p><ol class=\"annotate2\"><div class=\"pll\"><li>A physical or electronic signature of a person authorized to act on behalf of the owner of the works that have been allegedly infringed;</li><li>Identification of the copyrighted work alleged to have been infringed (or if multiple copyrighted works located on Osmosis are covered by a single notification, a representative list of such works);</li><li>Identification of the specific material alleged to be infringing or the subject of infringing activity, and information reasonably sufficient to allow Knowledge Diffusion to locate the material on Osmosis;</li><li>Your name, address, telephone number, and email address (if available);</li><li>A statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or the law; and</li><li>A statement that the information in the notification is accurate, and under penalty of perjury, that the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.</li></div></ol><p>If you believe in good faith that a notice of copyright infringement has been wrongly filed against you, the DMCA permits you to send Knowledge Diffusion a counter-notice. </p><p>Notices and counter-notices must meet the then-current statutory requirements imposed by the DMCA; see <a href=\"http://www.loc.gov/copyright/\" target=\"_blank\">http://www.loc.gov/copyright/</a> for details.  Notices and counter-notices with respect to Osmosis should be sent to A Registered Agent, Inc 1521 Concord Pike #303, Wilmington, DE 19803 (<b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>).  Consult your legal advisor and see 17 U.S.C. \xA7 512 before filing a notice or counter-notice as there are penalties for false claims under the DMCA.</p><h3 class=\"mtl\">IX. Suggestions and Submissions</h3><p>We appreciate your comments.  If you provide us creative ideas, we may acknowledge your input, but we can use them without compensating you.</p><p>We appreciate hearing from our users and welcome your comments regarding Osmosis.  Please be advised, however, that if you provide us creative ideas, suggestions, inventions, or materials (\u201C<b><u>creative ideas</u></b>\u201D), we shall:</p><ol class=\"annotate2\"><div class=\"pll\"><li>own, exclusively, all now known or later discovered rights to the creative ideas;</li><li>not be subject to any obligation of confidentiality and shall not be liable for any use or disclosure of any creative ideas; and</li><li>be entitled to unrestricted use of the creative ideas for any purpose whatsoever, commercial or otherwise, without compensation to you or any other person.</li></div></ol><h3 class=\"mtl\">X. Privacy</h3><p>Privacy Policy. Our information collection and use policies with respect to the privacy of your Personal Information are set forth in <a href=\"https://www.osmosis.org/privacy\">Knowledge Diffusion\u2019s Privacy Policy</a>, which as stated above. You further acknowledge and agree that you are solely responsible for: (i) the accuracy and content of Personal Information and (ii) if you are providing Personal Information about a third party to us, for obtaining any consents and authorizations of the applicable third party that may be required by applicable law before providing such Personal Information to us.</p><p>Data Protection Legislation. Personal Information provided to us through Osmosis may include \u201Cpersonal data\u201D as defined by and subject to any national law of an EU member state adopted pursuant to Regulation (EU) 2016/679 (\u201CPersonal Data\u201D). With regard to our processing of Personal Data: (a) if you are a user who purchases and uses Osmosis directly, we serve as the \u201Ccontroller\u201D of the personal data you provide to us; and (b) if you are a an entity such as one of our University Customers (as defined in our Privacy Policy), we process the personal data that you and your users provide to us on your behalf as a \u201Cprocessor\u201D of such personal data. If you are an entity such as one of our University Customers (i) you acknowledge and agree that you are the controller of such Personal Data and we are a processor of such Personal Data under the Terms of Use, (ii) you will comply with your obligations as a controller under applicable law, and (iii) you and we agree to comply with the Data Processing Agreement available at: <a href=\"/dataprocessing\">www.osmosis.org/dataprocessing</a>. In the event Personal Data processed by us is transferred from any EU member country to the United States, (A) if you are an individual, you explicitly consent to the transfer of your data to the United States and (B) if you are an entity, you and we agree to comply with the Standard Contractual Clauses available at: <a href=\"/clauses\">www.osmosis.org/clauses</a>. </p><h3 class=\"mtl\">XI. User Content Disclaimers, Limitations, and Prohibitions</h3><p>You are responsible for your actions when using and relying on Osmosis or content available on Osmosis.</p><p>We do not represent or guarantee the truthfulness, accuracy, or reliability of content, posted by users (\u201C<b><u>User Content</u></b>\u201D).  You accept that any reliance on material posted by other users or third-party service providers will be at your own risk.  By using Osmosis you accept the risk that you might be exposed to content that is objectionable or otherwise inappropriate.</p><p>You are solely responsible for Your User Content on Osmosis.  Knowledge Diffusion does not endorse any, nor is it responsible for, User Content on Osmosis.  You assume all risks associated with Your User Content, including anyone\u2019s reliance on its quality, accuracy, or reliability.  You may expose yourself to liability if, for example, Your User Content contains material that is false, intentionally misleading, or defamatory; violates third-party rights; or contains material that is unlawful or advocates the violation of any law or regulation.</p><p>Do not do bad things with Osmosis, try to break it, or steal our hard work.</p><p>You agree to use Osmosis only for its intended purpose.  You must use Osmosis in compliance with all privacy, data protection, intellectual property, and other applicable laws.  The following uses of Osmosis are prohibited.  You may not:</p><ol class=\"annotate2\"><div class=\"pll\"><li>attempt to interfere with, harm, reverse engineer, steal from, or gain unauthorized access to Osmosis, user accounts, or the technology and equipment supporting Osmosis;</li><li>frame or hotlink to Osmosis or content available on Osmosis without permission;</li><li>use data mining on any content other than content provided under a Creative Commons license;</li><li>use robots or other data gathering devices on or through Osmosis, without our permission;</li><li>post incomplete, false, or misleading information, impersonate another person, or misrepresent your affiliation with a person or entity;</li><li>disclose personal information about another person or harass, abuse, or post objectionable material;</li><li>post offensive and/or unreasonably graphic material, such as text or images to which the average user base would take offense (e.g., posting educational anatomy photographs depicting nudity to medical education modules is acceptable, while posting gratuitous and pornographic images is not);</li><li>post questions taken from other sources, such as preparation books and academic institutional exams;</li><li>post plagiarized content;</li><li>sell, transfer, or assign any of your rights to use Osmosis to a third party without our express written consent;</li><li>post advertising or marketing links or content, except as specifically allowed by these Terms;</li><li>use Osmosis in an illegal way or to commit an illegal act in relation to Osmosis or that otherwise results in fines, penalties, and other liability to Knowledge Diffusion or others; or</li><li>access Osmosis from a jurisdiction where it is illegal or unauthorized.</li></div></ol><h3 class=\"mtl\">XII. Consequences of Violating These Terms</h3><p>If you do not act acceptably, we may prohibit your use of Osmosis.</p><p>We reserve the right to suspend or terminate your account and prevent access to Osmosis for any reason, at our discretion.  We reserve the right to refuse to provide Osmosis to you in the future.</p><p>Knowledge Diffusion is under no obligation to review any User Content. Notwithstanding the above, Knowledge Diffusion may review and remove any User Content at any time for any reason, including activity which, in its sole judgment: violates these Terms; violates applicable laws, rules, or regulations; is abusive, disruptive, offensive or illegal; or violates the rights of, or harms or threatens the safety of, users of Osmosis.</p><p>You are responsible for any claims, fees, fines, penalties, and other liability incurred by us or others caused by or arising out of your breach of these Terms and your use of Osmosis.</p><h3 class=\"mtl\">XIII. Knowledge Diffusion\u2019s Liability</h3><p>We are not liable for the actions of users when they use Osmosis.  We may also change Osmosis at any time and are not liable for how this may affect you.  We do not guarantee the quality or accuracy of any content you view using Osmosis or other websites.</p><p><b>Changes to Osmosis.</b>  We may change, suspend, or discontinue any aspect of Osmosis at any time, including hours of operation or availability of Osmosis or any feature, without notice or liability.</p><p><b>User Disputes.</b>  We are not responsible for any disputes or disagreements between you and any third party you interact with using Osmosis.  You assume all risk associated with dealing with third parties.  You agree to resolve disputes directly with the other party.  You release Knowledge Diffusion of all claims, demands, and damages in disputes among users of Osmosis.  You also agree not to involve us in such disputes.  Use caution and common sense when using Osmosis.     </p><p><b>Content Accuracy.</b>  We make no representations about accuracy, reliability, completeness, or timeliness of any contents of Osmosis.  Similarly, we make no representations about accuracy, reliability, completeness, or timeliness of any data from a third-party service provider or the quality or nature of third-party products or services obtained through Osmosis.  Use Osmosis at your own risk.  </p><p><b>Third-Party Websites.</b>  Osmosis may include links to third party websites and applications.  You are responsible for evaluating whether you want to access or use them.  We are not responsible for and do not endorse any features, content, advertising, products, or other materials on other websites or applications.  You assume all risk and we disclaim all liability arising from your use of them.</p><p>We make no promises and disclaim all liability of specific results from the use of Osmosis.</p><p><b>Released Parties Defined.</b>  \u201C<b><u>Released Parties</u></b>\u201D include Knowledge Diffusion and its affiliates, officers, employees, agents, partners, and licensors.</p><p>A. DISCLAIMER OF WARRANTIES</p><p>You use Osmosis at your own risk.  We make no warranties or guarantees.</p><p>YOU EXPRESSLY UNDERSTAND AND AGREE THAT: (A) YOUR USE OF Osmosis IS AT YOUR SOLE RISK, AND Osmosis IS PROVIDED ON AN \u201CAS IS\u201D AND \u201CAS AVAILABLE\u201D BASIS AND THE RELEASED PARTIES EXPRESSLY DISCLAIM ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, WARRANTIES AS TO PRODUCTS OR SERVICES OFFERED BY BUSINESSES LISTED ON Osmosis, IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT; (B) THE RELEASED PARTIES MAKE NO WARRANTY THAT (i) Osmosis WILL MEET YOUR REQUIREMENTS, (ii) Osmosis WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE, (iii) THE RESULTS THAT MAY BE OBTAINED FROM THE USE OF Osmosis WILL BE ACCURATE OR RELIABLE, (iv) THE QUALITY OF ANY GOODS OR SERVICE AVAILABLE ON Osmosis WILL MEET YOUR EXPECTATIONS, OR (iv) ANY ERRORS IN Osmosis WILL BE CORRECTED; AND (C) ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF Osmosis IS ACCESSED AT YOUR OWN DISCRETION AND RISK, AND YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR MOBILE DEVICE OR LOSS OF DATA THAT RESULTS FROM THE DOWNLOAD OR USE OF ANY SUCH MATERIAL.</p><p>B. LIMITATION OF LIABILITY AND INDEMNIFICATION</p><p>We are not liable for anything that happens to you that somehow may be connected to your use of Osmosis.  If you use Osmosis in a way that causes us to be included in litigation, you agree to pay all legal fees and costs for Released Parties.</p><p>YOU EXPRESSLY UNDERSTAND AND AGREE THAT THE RELEASED PARTIES SHALL NOT BE LIABLE TO YOU FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR EXEMPLARY DAMAGES, INCLUDING, BUT NOT LIMITED TO, DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER INTANGIBLE LOSSES (EVEN IF Knowledge Diffusion HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM: (i) THE USE OR THE INABILITY TO USE Osmosis; (ii) THE COST OF PROCUREMENT OF SUBSTITUTE GOODS AND SERVICES RESULTING FROM ANY GOODS, DATA, INFORMATION OR SERVICES OBTAINED OR MESSAGES RECEIVED OR TRANSACTIONS ENTERED INTO THROUGH, FROM, OR AS A RESULT OF Osmosis; (iii) UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; (iv) STATEMENTS OR CONDUCT OF ANY USER OR THIRD PARTY ON Osmosis; (v) YOUR RELIANCE ON CONTENT MADE AVAILABLE BY US; OR (vi) ANY OTHER MATTER RELATING TO Osmosis.  SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, SOME OF THE ABOVE LIMITATIONS IN THIS PARAGRAPH MAY NOT APPLY TO YOU.</p><p>TO THE FULLEST EXTENT POSSIBLE BY LAW, THE RELEASED PARTIES\u2019 MAXIMUM LIABILITY ARISING OUT OF OR IN CONNECTION WITH OSMOSIS OR YOUR USE OF Knowledge Diffusion CONTENT, REGARDLESS OF THE CAUSE OF ACTION (WHETHER IN CONTRACT, TORT, BREACH OF WARRANTY, OR OTHERWISE), WILL NOT EXCEED $100.</p><p>You agree to defend, indemnify, and hold harmless the Released Parties from and against any claims, actions, or demands, including without limitation reasonable legal and accounting fees, alleging or resulting from (i) your use of or reliance on any third-party content, (ii) your use of or reliance on any Knowledge Diffusion Content, or (iii) your breach of these Terms.  We shall provide notice to you promptly of any such claim, suit, or proceeding.</p><p>C. EDUCATIONAL PURPOSES ONLY NOT MEANT AS MEDICAL ADVICE</p><p>Knowledge Diffusion Inc (DBA Osmosis) does not provide medical advice. Osmosis and the content available on Osmosis's properties (Osmosis.org, YouTube, and other channels) do not provide a diagnosis or other recommendation for treatment and are not a substitute for the professional judgment of a health care professional in diagnosis and treatment of any person or animal. The determination of the need for medical services and the types of healthcare to be provided to a patient are decisions that should be made only by a physician or other licensed health care provider. Always seek the advice of a physician or other qualified health care provider with any questions you have regarding a medical condition.</p><h3 class=\"mtl\">XIV. General Terms</h3><p>These Terms constitute the entire agreement between you and Knowledge Diffusion concerning your use of Osmosis.  Our failure to exercise or enforce any right or provision of these Terms shall not constitute a waiver of such right or provision. If any provision of these Terms is found by a court of competent jurisdiction to be invalid, the parties nevertheless agree that the court should endeavor to give effect to the parties\u2019 intentions as reflected in the provision, and the other provisions of these Terms remain in full force and effect. The section titles and annotations in these Terms are for convenience only and have no legal or contractual effect.</p><h3 class=\"mtl\">XV. Arbitration, Class Waiver, and Waiver of Jury Trial</h3><p>We are located in Pennsylvania, so all disputes must be resolved there.  We will use arbitration to resolve any problems, and you cannot join a class action lawsuit or obtain a jury trial for any disputes you have with us related to your use of Osmosis.</p><p>These Terms and the relationship between you and Knowledge Diffusion shall be governed by the laws of the state of Pennsylvania without regard to its conflict of law provisions.  You and Knowledge Diffusion agree to submit to the personal and exclusive arbitration of any disputes relating to your use of Osmosis under the rules of the American Arbitration Association.  Any such arbitration, to the extent necessary, shall be conducted in Philadelphia, Pennsylvania.  You covenant not to sue Knowledge Diffusion in any other forum. </p><p>You also acknowledge and understand that, with respect to any dispute with the Released Parties arising out of or relating to your use of Osmosis or these Terms:</p><p>YOU ARE GIVING UP YOUR RIGHT TO HAVE A TRIAL BY JURY;</p><p>YOU ARE GIVING UP YOUR RIGHT TO SERVE AS A REPRESENTATIVE, AS A PRIVATE ATTORNEY GENERAL, OR IN ANY OTHER REPRESENTATIVE CAPACITY, OR TO PARTICIPATE AS A MEMBER OF A CLASS OF CLAIMANTS, IN ANY LAWSUIT INVOLVING ANY SUCH DISPUTE; AND</p><p>YOU MUST FILE ANY CLAIM WITHIN ONE (1) YEAR AFTER SUCH CLAIM AROSE OR IT IS FOREVER BARRED.</p><h3 class=\"mtl\">XVI. Miscellaneous</h3><p><b>Log In Issues.</b> In the event that you forget your username/password or are unable to log in, please e-mail us at <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>.</p><p><b>Product Notifications.</b> In the event that we need to send out a product notification, e.g. an app recall or another issue, we will notify you via our mailing list. You may also contact us at <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b> to learn more or for any reason.</p><p><b>Requesting Personal Information.</b> If you would like to access information about your usage of Osmosis, please email us at <b>data<span>s</span>upport&#64;o<span>smos<span>is<span>.org</b>.</p><h3 class=\"mtl\">CONTACT INFORMATION</h3><p style=\"white-space:pre;\">Knowledge Diffusion Inc.\n  37 S Ellwood Avenue\n  Baltimore, MD 21224\n  <b><span>s</span>upport&#64;o<span>smos<span>is<span>.org</b></p></div></div></div></div></div></div>"}),deftmp("page.testData",{template:"<div class=\"page-testData\"><h4>Test data endpoints</h4><!--button(data-bind='click: getData') GetData--><p>list of groups:<span data-bind=\"text: listGroups\"></span></p><p>group data:<span data-bind=\"text: groupData\"></span></p><p>fcSummary:<span data-bind=\"text: fcSummary\"></span></p><p>mcqSummary:<span data-bind=\"text: mcqSummary\"></span></p><p>VideoSummary:<span data-bind=\"text: videoSummary\"></span></p><p>VideosByTopic:<span data-bind=\"text: videosByTopic\"></span></p><p>FCAnsweredByMonth:<span data-bind=\"text: fcByMonth\"></span></p><p>FCCreatedByMonth:<span data-bind=\"text: fcCreatedByMonth\"></span></p><p>Schedule Start Date Dist:<span data-bind=\"text: schStartDateDist\"></span></p><p>Schedule Items Completed Dist:<span data-bind=\"text: schItemsCompleted\"></span></p><p>Member Data:<span data-bind=\"text: memberData\"></span></p><p>snapshotData:<span data-bind=\"text: snapshot\"></span></p></div>"}),deftmp("page.testimonials",{template:"<div class=\"page-testimonials\"><div class=\"splash-section\"><div class=\"title\"><h1 data-bind=\"html:splashTitle\" class=\"inverted\"></h1><p class=\"explain\">Read a few reviews to find out why!</p></div><div class=\"featured-testimonial\"><img data-bind=\"attr:{src:&quot;https://osmose-it.s3.amazonaws.com/&quot;+featuredHeadshot()}, visible:featuredHeadshot\" class=\"headshot\"/><div data-bind=\"html:featuredName\" class=\"student\"></div><div data-bind=\"html:featuredSchool\" class=\"school\"></div><div class=\"quote\"><span class=\"quote-left quote-mark\">\"</span><span data-bind=\"html:featuredTestimonial\" class=\"the-quote\"></span><span class=\"quote-right quote-mark\">\"</span></div></div></div><div class=\"testimonial-list\"></div><div class=\"container center aligned\"><a data-bind=\"click: moreTestimonials, visible: showing() &lt; window.totalTestimonials\" class=\"blue button\">Show More</a><p class=\"showing\">Showing <span data-bind='text: Math.min(showing(), window.totalTestimonials)'/> of <span data-bind='text: window.totalTestimonials'></p></div></div>"}),deftmp("page.userdeal",{template:"<div class=\"page-userdeal\"><section id=\"banner-section\" data-bind=\"visible: state()==&quot;expired&quot;\" class=\"sale expired\"><div class=\"expired container\"><h2 class=\"center aligned\">This Deal Has Expired</h2><p class=\"center aligned\">Still hoping for an awesome deal? Contact us at <a href='mailto:hi@osmosis.org'>hi@osmosis.org</a> and ask about our current specials and discounts.</p></div></section><div data-bind=\"visible: state()==&quot;plans&quot; || state()==&quot;live&quot;\"><div class=\"ui-Plans\"></div><div class=\"ui-PlansInfo\"></div></div></div>"}),deftmp("page.video",{template:"<div class=\"page-video\"></div>"}),deftmp("page.viewconcept",{template:"<div class=\"page-viewconcept\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12 mtl\"><div class=\"center\"><a href=\"\" data-bind=\"text: term, click: showCard\" class=\"fwb\"></a></div></div></div></div></div>"}),deftmp("page.viewcontent",{template:"<div class=\"page-viewcontent\"><div class=\"container\"><div class=\"row mtl\"><div class=\"col-md-9\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"quesList\"></div></div></div></div></div></div></div>"}),deftmp("page.welcome",{template:"<div class=\"page-welcome\"></div>"}),deftmp("tabs.account.analytics",{template:"<div data-bind=\"css: { locked: locked }\" class=\"tabs-account-analytics\"><div class=\"account-analytics\"><div class=\"ui-dialogs-MemberAnalyticsDialog ui-b2b-Dashboard\"><div class=\"dashboard__controls\"><div class=\"dashboard__control-item\"><div class=\"dashboard__control-item-icon\"><i class=\"fas fa-calendar\"></i></div><div class=\"dashboard__date-inputs\"><div class=\"dashboard__filter-date text-input\"><label>Start Date</label><input type=\"text\" required=\"required\" data-bind=\"value: inputStartDate\" class=\"js-datepicker\"/></div><div class=\"dashboard__filter-date text-input\"><label>End Date</label><input type=\"text\" required=\"required\" data-bind=\"value: inputEndDate\" class=\"js-datepicker\"/></div></div></div><div class=\"dashboard__control-item\"><div class=\"dashboard__control-item-icon\"><i class=\"fas fa-layer-group\"></i></div><div class=\"dashboard__group-options\"><label class=\"mrm\">Group by:</label><span data-bind=\"foreach: groupByOptions\" class=\"radio-alt-input block\"><label class=\"option\"><input type=\"radio\" data-bind=\"attr: {value: $data.key}, checked: $parent.groupBy\"/><div class=\"checkmark\"><p data-bind=\"text: $data.label\" class=\"text\"></p></div></label></span></div></div></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"ui-b2b-MemberProfileAnalytics account-analytics__card\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><span><div class=\"member-analytics-card__icon fa fa-user-circle\"></div><h2 class=\"member-analytics-card__heading\">Profile</h2></span></div><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"ui-b2b-MemberActivity account-analytics__card\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Activity</h2></div><div class=\"loading-spinner large\"></div></div></div></li></ul></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"ui-b2b-MemberFlashcardAnalytics account-analytics__card\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div class=\"member-analytics-card__heading-wrap\"><i class=\"fa fa-bolt member-analytics-card__icon\"></i><h2 class=\"member-analytics-card__heading\">Flashcards</h2></div><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>All-time</label></div></div><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"member-analytics-card account-analytics__card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Flashcards answered</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div></div><div class=\"member-analytics-card__intro-text\">Including flashcards created by Osmosis and Students, answered on web and mobile platforms.</div><div class=\"js-flashcards-answered\"><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"member-analytics-card account-analytics__card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Flashcards Topics</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div></div><div class=\"member-analytics-card__intro-text\">Including flashcards created by Osmosis, answered on web and mobile platforms.</div><div class=\"js-flashcards-topics\"></div></div></li></ul></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"ui-b2b-MemberVideoAnalytics account-analytics__card\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div class=\"member-analytics-card__heading-wrap\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3a5b04bfa420a986f99c90691170899695fba456.svg\" class=\"member-analytics-card__icon\"/><h2 class=\"member-analytics-card__heading\">Videos</h2></div><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>Past Year</label></div></div><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"member-analytics-card account-analytics__card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Video library statistics</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div></div><div class=\"member-analytics-card__intro-text\">Including videos viewed on web platform.</div><div class=\"js-videos-watched\"><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"member-analytics-card account-analytics__card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Video Topics</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div></div><div class=\"member-analytics-card__intro-text\">Total video views / total available</div><div class=\"js-video-topics\"></div></div></li></ul></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"ui-b2b-MemberQuestionAnalytics account-analytics__card\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div class=\"member-analytics-card__heading-wrap\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73277199348036c8f9c6d1f60e24d1eefc92c6bb.svg\" class=\"member-analytics-card__icon\"/><h2 class=\"member-analytics-card__heading\">Case questions</h2></div><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>Past Year</label></div></div><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"member-analytics-card account-analytics__card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Case questions answered</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div></div><div class=\"member-analytics-card__intro-text\">Including Case Questions answered on web and mobile platforms </div><div class=\"js-questions-answered\"><div class=\"loading-spinner large\"></div></div></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"member-analytics-card account-analytics__card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Question Topics</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div></div><div class=\"member-analytics-card__intro-text\">Total number of unique Step 1 questions that have been answered / total available</div><div class=\"js-question-topics\"></div></div></li></ul></div></div></div><div class=\"modal-entry\"></div></div>"}),deftmp("tabs.account.index",{template:"<div class=\"tabs-account-index\"><div class=\"ui-account-Page\"></div></div>"}),deftmp("tabs.account.profile",{template:"<div class=\"tabs-account-profile\"><canvas id=\"confetti\"></canvas><div data-bind=\"style: { display: progressCompleted() || receivedPrime ? 'none' : 'initial' }, css: currentProgressCss\" class=\"complete-account floater\"><div class=\"complete-account-header\"><h3>Complete your account</h3></div><div class=\"complete-account-content\"><div data-bind=\"visible: computedProgress() &lt; 1\" class=\"complete-account-text\"></div><div data-bind=\"visible: computedProgress() === 1\" class=\"complete-account-text\"><h3>Great job completing your profile!</h3></div><div class=\"progress-total\"><div data-bind=\"style: { width: computedProgress() * 100 + '%' }\" class=\"current-progress\"></div></div><div data-bind=\"visible: startCelebrating\" class=\"celebratory-bot\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c482acde1854d617bcae5dc3a0db0144cbab40cf.png\"></div><div data-bind=\"visible: computedProgress() &lt; .99\" class=\"current-step\"><div class=\"current-step-input\"></div></div></div><div data-bind=\"visible: computedProgress() &lt; .99\" class=\"continue\"><div data-bind=\"click: skip, visible: currentlyUpdating() &amp;&amp; currentlyUpdating().skippable\" class=\"button skip-btn\">No thanks</div><div data-bind=\"click: calcProgress()\" class=\"button olive\">Save and continue</div></div></div><div class=\"details\"><div class=\"picture-container\"><h4 class=\"floater-header\">Profile Picture</h4><div class=\"floater avatar-section\"><div class=\"avatar-container\"><img data-bind=\"attr: {src: avatarPreview}\" class=\"avatar\"/></div><div data-bind=\"visible:hasNewAvatar\" class=\"save-avatar\"><button data-bind=\"click:cancelAvatar\" class=\"button basic\">Cancel</button><button data-bind=\"click:saveAvatar\" class=\"button blue\">Save</button></div><div data-bind=\"visible:!hasNewAvatar()\" class=\"upload-avatar\"><button data-bind=\"click:openAvatarInput, text: avatarText\" class=\"button basic\">Choose file</button></div><div data-bind=\"html:uploadStatus\" class=\"upload-status\"> </div></div></div><div class=\"settings\"><h4 class=\"floater-header\">Osmosis Prime</h4><div class=\"prime floater\"><h3>Prime plan</h3><div data-bind=\"visible: onTrial\" class=\"on-trial\"><div data-bind=\"css: {'danger-box': primeDaysLeft() &lt; 14 }, attr: { 'data-title': primeAddedMessage }\" class=\"days-left prime-added-tip\"><span data-bind=\"text: primeDaysLeft\"></span><span>&nbsp;days of prime trial left</span></div><a href=\"/plans\" class=\"button olive\">Become a member</a></div><div data-bind=\"visible: expiredPrime\" class=\"expired-prime\"><div class=\"danger-box\"><span>Your prime has expired!</span></div><a href=\"/plans\" class=\"button olive\">Renew Prime</a></div><div data-bind=\"visible: onPrime\" class=\"on-prime\"><div data-bind=\"css: {'danger-box': primeDaysLeft() &lt; 14 }, attr: { 'data-title': primeAddedMessage }\" class=\"days-left prime-added-tip\"><span data-bind=\"text: primeDaysLeft\"></span><span>&nbsp;days of prime left</span></div><div data-bind=\"visible: primeDaysLeft() &gt; 13\" class=\"badge\">Prime Member</div><a href=\"/plans\" data-bind=\"visible: primeDaysLeft() &lt; 14\" class=\"button olive\">Buy More</a></div><div data-bind=\"visible: freeUser\" class=\"expired-prime access-prime\"><div class=\"prime-features\"><div class=\"fas fa-lock\"></div><div class=\"explain\"><h3>Access Prime features</h3><p>Prime videos, Study Schedule, Workspaces, Flashcards, QBank, and so much more, start your free trial today.</p><div class=\"buttons\"><a data-bind=\"click: startFreeTrial\" class=\"basic button\">Activate free trial</a><a data-bind=\"click: purchase\" class=\"blue button\">Purchase</a></div></div></div></div></div><h4 class=\"floater-header\">Personal info</h4><div class=\"info floater\"></div></div></div><div class=\"modal-entry\"></div></div>"}),deftmp("tabs.account.referral",{template:"<div class=\"tabs-account-referral scrollable\"><div class=\"ui-account-Referral\"></div></div>"}),deftmp("tabs.account.settings",{template:"<div class=\"tabs-account-settings\"><h4 class=\"floater-header\">Osmosis</h4><div class=\"flex-container\"><div class=\"floater info\"></div><div class=\"floater help\"><img src=\"/assets/images/icons/osmobot-lab-coat.png\"/><h3>Help</h3><p>Can\u2019t find what you\u2019re looking for? Advice and answers from the Osmosis Team.</p><a href=\"https://help.osmosis.org\" target=\"_blank\" class=\"button\">Help Center</a></div></div><div class=\"modal-entry\"></div></div>"}),deftmp("tabs.activate.clinical",{template:"<div class=\"tabs-activate-clinical activate-page\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"alert alert-info mhl center\"><h3>Starting rotations?</h3><h5>We've got you covered</h5><div>Here's what's in clinical rotations mode:</div><ul><li>Calendar for when your rotations begin and end that personalizes reviews throughout rotations</li><li>Adaptive spaced repetition so you hold on to what you learn</li><li>Both flashcards and board-style questions</li></ul><form><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: checked\"/>I'm done with classes and entering clinical rotations</label></div></form><button data-bind=\"click: activate\" class=\"btn btn-purple btn-lg\">Activate Clinical Rotation Mode</button></div></div></div></div>"}),deftmp("tabs.activate.index",{template:"<div class=\"tabs-step1-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.activate.step2",{template:"<div class=\"tabs-activate-step2 activate-page\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"alert alert-info center mhl\"><h3>Taking Step 2 this year?</h3><div>Osmosis is built to help you review as you go <b>during</b> rotations</div><div>Use <a href=\"/activate/clinical\">Clinical Rotations Mode</a> to schedule reviews in the weeks/months before Step 2</div><div>Osmosis will use spaced repetition to make sure you remember what you need to before Step 2</div></div></div></div></div>"}),deftmp("tabs.analytics.documents",{template:"<div class=\"tabs-analytics-documents\"> <div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-flashcards-median\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-flashcards-answered\"></div></li></ul></div><div class=\"js-dialog\"></div></div>"}),deftmp("tabs.analytics.flashcards",{template:"<div class=\"tabs-analytics-flashcards\"> <div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-flashcards-median\"></div><div class=\"dashboard__card js-flashcards-accuracy\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-flashcards-answered\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"dashboard__card js-flashcards-topics\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"dashboard__card js-user-confidence-table\"></div></li></ul></div></div>"}),deftmp("tabs.analytics.index",{template:"<div class=\"tabs-analytics-index\"><div class=\"ui-b2b-Dashboard\"></div></div>"}),deftmp("tabs.analytics.members",{template:"<div class=\"tabs-analytics-members\"><ul class=\"dashboard__card-list dashboard-grid js-dashboard-grid\"></ul></div>"}),deftmp("tabs.analytics.questions",{template:"<div class=\"tabs-analytics-questions\"> <div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-questions-median\"></div><div class=\"dashboard__card js-questions-accuracy\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-questions-answered\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"dashboard__card js-flashcards-topics\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"dashboard__card js-user-confidence-table\"></div></li></ul></div></div>"}),deftmp("tabs.analytics.summary",{template:"<div class=\"tabs-analytics-summary\"><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-members-median\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-active-users\"></div></li></ul></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-flashcards-median\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-flashcards-answered\"></div></li></ul></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-questions-median\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-questions-answered\"></div></li></ul></div><div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-videos-median\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-videos-watched\"></div></li></ul></div><div class=\"js-dialog\"></div></div>"}),deftmp("tabs.analytics.videos",{template:"<div class=\"tabs-analytics-videos\">         <div class=\"dashboard__well\"><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--2-6\"><div class=\"dashboard__card js-videos-median\"></div></li><li class=\"dashboard-grid__item dashboard-grid__item--4-6\"><div class=\"dashboard__card js-videos-watched\"></div></li></ul><ul class=\"dashboard__card-list dashboard-grid\"><li class=\"dashboard-grid__item dashboard-grid__item--6-6\"><div class=\"dashboard__card js-topic-selector\"></div></li></ul></div></div>"}),deftmp("tabs.clinical.index",{template:"<div class=\"tabs-clinical-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.clinical.schedule",{template:"<div data-bind=\"css:{locked:locked}\" class=\"tabs-clinical-schedule\"><div data-bind=\"visible:onboardMode()!=&quot;off&quot;\" class=\"tab-onboarding\"><div class=\"ui-TabOnboarding\"></div></div><div data-bind=\"visible:onboardMode()!=&quot;full&quot;\" class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-9 scrollable\"><div class=\"mbxl\"><div class=\"ui-clinical-MedSchoolClinical\"></div></div></div><div class=\"col-md-3 main-right-sidebar scrollable\"><div class=\"ui-StudyPreferencesSidetab\"></div></div></div></div></div>"}),deftmp("tabs.create.group",{template:"<div class=\"tabs-create-group activate-page scrollable ui-ConfigTool\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"get-started\"><div data-bind=\"visible: !mode()\" class=\"intro\"><div class=\"icon\"><i class=\"fa fa-users\"></i></div><div class=\"info\"><h1>Create a Team Workspace</h1><p class=\"explain\">A team workspace contains all the same tools\u2013<strong>calendar organization, document analysis, flashcard creation, slide annotation, etc</strong>\u2013as a private workspace. The only difference... you save time by <b>collaborating with your classmates</b> to create flashcards and study faster.</p></div><div class=\"action\"><a href=\"/create/group?mode=search\" class=\"btn btn-primary btn-lg tabNavLink\">Search for an Existing Group</a><a href=\"/create/group?mode=new\" class=\"btn btn-success mlm btn-lg tabNavLink\">Create a New Group</a></div></div><div data-bind=\"visible: mode()==&quot;new&quot;\" class=\"create\"><div class=\"icon\"><i class=\"fa fa-users\"></i></div><div class=\"action\"><div class=\"ui-NewGroupForm\"></div></div></div><div data-bind=\"visible: mode()==&quot;search&quot;\" class=\"search\"><div class=\"icon\"><i class=\"fa fa-users\"></i></div><div class=\"action\"><div class=\"ui-GroupOnboardingForm\"></div></div></div></div><div class=\"secondary\"><p class=\"small-text\">More of a lone wolf? Create a <a href='' data-bind='click:createPrivate'>Private Workspace</a> instead.</p></div></div></div></div></div>"}),deftmp("tabs.create.index",{template:"<div class=\"tabs-create-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.create.workspace",{template:"<div class=\"tabs-create-workspace activate-page scrollable ui-ConfigTool\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"get-started\"><div data-bind=\"visible: needsConfirm\" class=\"intro\"><div class=\"icon\"><i class=\"fa fa-street-view\"></i></div><div class=\"info\"><h1>Create a New Workspace</h1><p class=\"explain\">A workspace contains tools like <strong>calendar organization, document analysis, flashcard creation, slide annotation, etc</strong>. You can even invite friends and collaborate on study material!</p></div><div class=\"action\"><button data-bind=\"toggle: needsConfirm\" class=\"btn btn-primary\">Ok, Let's Create One</button></div></div><div data-bind=\"visible: !needsConfirm()\" class=\"create\"><div class=\"icon\"><i class=\"fa fa-street-view\"></i></div><div class=\"info\"><p data-bind=\"visible: !editingName()\" class=\"workspace-name\">Enter a name for this workspace:</p></div><div class=\"action\"> <input type=\"text\" placeholder=\"My Coursework\" data-bind=\"value: name\" style=\"min-width:200px\" class=\"mrs mtxl\"/><button data-bind=\"click: createNewWorkspace\" class=\"btn btn-success\">Create Private Workspace</button></div></div></div></div></div></div></div>"}),deftmp("tabs.decks.index",{template:"<div class=\"tabs-decks-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.decks.list",{template:"<div class=\"tabs-decks-list scrollable\"><div style=\"height:100%\" class=\"container fullpage\"><div style=\"background-color: white\" class=\"row\"><div class=\"col-md-offset-1 col-md-11\"><div class=\"ui-QuizBlockByDeck\"></div></div></div></div></div>"}),deftmp("tabs.default.account",{template:"<div class=\"tabs-default-account\"><div class=\"fullpage content scrollable\"><div class=\"ui-account-SideNav\"></div><div class=\"current-tab scrollable\"></div></div></div>"}),deftmp("tabs.default.dashboard",{template:"<div class=\"tabs-default-dashboard\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-2 main-left-sidebar scrollable\"><div class=\"ui-ProfileSidebar\">   </div><div class=\"sidebar-menu\"><ul><li class=\"no-filters selected\"><a data-bind=\"\" class=\"apps\"> <span class=\"menu-name\">Dashboard</span><i class=\"fa fa-angle-right indicator\"></i></a></li><li data-bind=\"\" class=\"no-filters\"><a href=\"/account\" class=\"settings\"> <span class=\"menu-name\">Settings </span><i class=\"fa fa-angle-right indicator\"></i></a></li></ul></div></div><div class=\"col-md-10 scrollable\"><div class=\"secondary-panel\"><div class=\"lfloat\"><h3>Tools</h3></div><div class=\"rfloat ptl pbs\"><div class=\"btn-group\"><button data-bind=\"css: {active: view()==&quot;app&quot;}, click: changeView(&quot;app&quot;)\" class=\"btn btn-default btn-sm\">App View</button><button data-bind=\"css: {active: view()==&quot;tutorial&quot;}, click: changeView(&quot;tutorial&quot;)\" class=\"btn btn-default btn-sm\">Tutorial View</button></div></div><div class=\"clearfix\"></div><div class=\"panel available-apps\"><div data-bind=\"visible: view()==&quot;app&quot;, foreach: apps\" class=\"panel-body app-view\"><div data-bind=\"attr: {title: hint}\" class=\"panel-section course-apps tip\"><div class=\"title\"><h5 data-bind=\"text: group\"></h5></div><div data-bind=\"foreach: apps\" class=\"app-list\"><a data-bind=\"css: {&quot;added-item&quot;: $data.isPrimary}, attr: {href: $data.href}\" class=\"app-item\"><div class=\"icon\"><i data-bind=\"css: icon\" class=\"fi\"></i></div><div data-bind=\"text: title\" class=\"name\"></div></a></div></div></div><div data-bind=\"visible: view()==&quot;tutorial&quot;\" class=\"panel-body tutorial-view\"><div data-bind=\"foreach: apps\"><h3 data-bind=\"text: group\"></h3><div data-bind=\"text: hint\" class=\"fwb\"></div><table style=\"width: 100%\"><tbody data-bind=\"foreach: apps\"><tr class=\"tutorial-row\"><td class=\"tutorial-icon\"><a data-bind=\"css: {&quot;added-item&quot;: $data.isPrimary}, attr: {href: $data.href}\" class=\"app-item\"><div class=\"icon\"><i data-bind=\"css: icon\" class=\"fi\"></i></div></a></td><td data-bind=\"click:$root.launchTool($data.href)\" class=\"tutorial-what\"><h4 data-bind=\"text: title\"></h4><div data-bind=\"html: what\"></div><span data-bind=\"css:theme\" class=\"cta\">Launch <span data-bind='html:title'/></span></td><td class=\"tutorial-prompt why\"><span class=\"ques\">Why should I use this?</span><span data-bind=\"html:$root.ellipsizeWhy($data.why), visible:!$data.showMore()\" class=\"ans show-less\"></span><span data-bind=\"html:$data.why, visible:showMore\" class=\"ans show-more\"></span><span data-bind=\"click:$root.toggleWhy($data.showMore), html:($data.showMore()) ? &quot;show less&quot; : &quot;show more&quot;\" class=\"toggle\"></span></td><td class=\"tutorial-prompt when\"><span class=\"ques\">When should I use this?</span><span data-bind=\"html:$data.when\" class=\"ans\"></span></td><td class=\"tutorial-prompt\"><div data-bind=\"visible: $data.replaces\" class=\"replaces\"><span class=\"ques\">Can be used in place of</span><span data-bind=\"html:$data.replaces\" class=\"ans\"></span></div><div data-bind=\"visible: $data.similar\" class=\"similar\"><span class=\"ques\">Similar to/use with</span><span data-bind=\"html:$data.similar\" class=\"ans\"></span></div></td></tr></tbody></table></div></div></div></div><div class=\"row\"><div class=\"col-lg-12 secondary-panel analytics\"><div class=\"panel\"><img src=\"assets/images/activity.png\"/></div></div></div><div class=\"row\"><div class=\"col-md-6 secondary-panel analytics\"><h3>Prime Videos</h3><div class=\"resource-panel\"><div class=\"example-vid\"><div class=\"video-item\"><div class=\"vid-thumbnail\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/FRxIss0hTeyhRbPiQ_8TFTv1TIicX5dU/_.jpg\"/><div class=\"duration-overlay\"><span>11:51</span></div></div><div><div class=\"vid-title\"><h4>Myocardial infarction</h4></div><div class=\"vid-source\"><span>Osmosis</span></div></div></div></div><div class=\"example-vid\"><div class=\"video-item\"><div class=\"vid-thumbnail\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/TEd4RWm5SiuvIHENrWr9BCA3Tkyy9Ekl/_.jpg\"/><div class=\"duration-overlay\"><span>11:51</span></div></div><div><div class=\"vid-title\"><h4>Cystic Fibrosis</h4></div><div class=\"vid-source\"><span>Osmosis</span></div></div></div></div><div class=\"example-vid\"><div class=\"video-item\"><div class=\"vid-thumbnail\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/4DBBD1B7ScK8k3PT9KAmIV9aQEqCG21L/_.jpg\"/><div class=\"duration-overlay\"><span>11:51</span></div></div><div><div class=\"vid-title\"><h4>Hypolykemia</h4></div><div class=\"vid-source\"><span>Osmosis</span></div></div></div></div><div class=\"example-vid\"><div class=\"video-item\"><div class=\"vid-thumbnail\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/zPXHtFZ5RMGTSlKC2Zxo5DxORu_8yi0O/_.jpg\"/><div class=\"duration-overlay\"><span>11:51</span></div></div><div><div class=\"vid-title\"><h4>Multiple Sclerosis</h4></div><div class=\"vid-source\"><span>Osmosis</span></div></div></div></div></div></div><div class=\"col-md-6 secondary-panel resources\"> <h3>Integrations</h3><div class=\"resource-panel\"><div data-bind=\"foreach: integrations\" class=\"resource-list\"><div data-bind=\"attr: {title: $data.why}\" data-placement=\"right\" class=\"resource-item picmonic tip\"><div class=\"info\"><div data-bind=\"html: logo\" class=\"logo\"></div><div data-bind=\"text: title\" class=\"title\"></div></div><div data-bind=\"toggle: enabled\" class=\"toggle-section\"><div class=\"toggle-item\"><div data-bind=\"css: {off: !enabled()}\" class=\"toggle\"></div></div></div></div></div></div></div></div></div></div></div></div>"}),deftmp("tabs.default.docanalysis",{template:"<div class=\"tabs-default-docanalysis scrollable\"><div class=\"container\"><div class=\"row\"><div class=\"col-lg-12\"><div class=\"doc-search-uploader\"><div><div class=\"ui-LibraryUploader\"></div></div></div></div></div></div></div>"}),deftmp("tabs.default.groups",{template:"<div class=\"tabs-default-groups\"><div class=\"row\"><div class=\"col-md-12 scrollable center\"><div class=\"panel-container mhl mtl\"><div class=\"groups flex-center\"></div></div></div></div></div>"}),deftmp("tabs.default.landing",{template:"<div style=\"background-color:white\" class=\"tabs-landing\"><div class=\"sleek blue-bkgd landingHeader\"><div style=\"padding-top:90px;margin-top:5px\" class=\"container\"><div class=\"row center\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span12\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/pXamkOQ9SKiJ24BT5cuVPHRqSwW8vDem/_.png\" style=\"width:600px; height:auto;\"/><h1 class=\"center\">Don't study it. <a href=\"#\" class=\"jumpToLogin noLinkUnderline\">Osmose  it.</a><sup style='font-size:60%'>&trade;</sup></h1></div></div><div class=\"row mtxl center\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span12\"><div style=\"max-width:700px\" class=\"lead center\"><div>Ever wish you could learn by Osmosis? Now you can!</div><div><a href=\"#\" class=\"jumpToLogin noLinkUnderline\" style='font-weight:bold'>Read more</a> to find out how you can join thousands of other medical students to <a href=\"#\" class=\"jumpToLogin noLinkUnderline\" style='font-weight:bold'>ace the boards and your classes</a> by using Osmosis, or create an account with one of these popular logins:</div></div></div></div><div class=\"row mtxl center\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span12\"><div class=\"realtimeAnalytics center\"></div></div></div><div class=\"row center\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span12 mbl tryOsmosis\"><button style=\"width:250px\" data-bind=\"click:withFacebook\" class=\"btn btn-large\"><i style=\"font-size: 130%; color:#3b5999\" class=\"fab fa-facebook-sign\"></i> with Facebook</button><button style=\"width:250px\" data-bind=\"click:withGoogle\" class=\"btn btn-large mam\"><i style=\"font-size: 130%; color:#A52A2A\" class=\"fab fa-google-plus-sign\"></i> with Google</button></div></div></div></div><div id=\"divLearnMore\" style=\"margin-top:75px\"></div><div style=\"width:75%\" class=\"container marketing\"><div class=\"featurette\"><div style=\"background-color: #444; padding:12px; border-radius:10px; width:70%\" class=\"featurette-image mtxl pull-right setWidthByWindowSize\"><div src=\"https://player.vimeo.com/video/89976493?title=0&amp;byline=0&amp;portrait=0&amp;color=38e8ae\" class=\"js-video\"><iframe width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen=\"webkitAllowFullScreen\" mozallowfullscreen=\"mozallowfullscreen\" allowfullscreen=\"allowFullScreen\"></iframe></div></div><h2 class=\"featurette-heading\">The Osmosis Med App<span class=\"muted\"> Efficient, Enjoyable, and Social</span></h2><ul class=\"lead\"><b>Features:</b><li class=\"tabbed\">Question Push Notifications</li><li class=\"tabbed\">Syncs with Curriculum & Exam Schedule</li><li class=\"tabbed\">Detailed Explanations and Multimedia</li><li class=\"tabbed\">Custom Quizzes</li><li class=\"tabbed fwb\">Osmose with your Friends!<sup style='font-size:60%'>&trade;</sup></li></ul><div class=\"clearfix\"></div><a href=\"https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&amp;mt=8\" target=\"_blank\" class=\"pull-left mas\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/0I7V677jQRGasgInWDmZJK6xS2GYZqka/_.png\" class=\"storeLogos\"/></a><a href=\"https://play.google.com/store/apps/details?id=org.osmosis.med\" target=\"_blank\" class=\"pull-left mas\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/ueFAf8lXSSaBFIq1wQma-hLPQzK6K5wu/_.png\" class=\"storeLogos\"/></a></div><div class=\"clearfix\"></div><div class=\"sleek\"><hr class=\"dashed\"/></div><div class=\"featurette\"><a href=\"https://d16qt3wv6xm098.cloudfront.net/lyU6zMdVTMimp3lYT0SJInqzRSOJnDsZ/_.jpg\" title=\"Osmosis has everything to help you study smarter.\" class=\"ptl gallery\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/y_iixxNuTR6TIFXWtFut1sTcRpWBKF4_/_.jpg\" style=\"width:740px; height:auto\" class=\"featurette-image pull-right\"/></a><h2 class=\"featurette-heading\">Learning reimagined.<span class=\"muted\"> Osmosis is not a product: It's a Movement.</span></h2><p class=\"lead hidden\"><a class=\"gallery\", href=\"https://d16qt3wv6xm098.cloudfront.net/sOE5Ddz3Tne0pCX5SFe7HyXdQzuIAVA4/_.jpg\", title=\"Osmosis has thousands of practice questions with detailed explanations moderated by our review board.\"></a>\n<a class=\"gallery\", href=\"https://d16qt3wv6xm098.cloudfront.net/urM_ryWwQcukfXb8qX2GXywMRCi7GpeF/_.jpg\", title=\"Scoreboard and tags and filters.\"></a>\n<a class=\"gallery\", href=\"https://d16qt3wv6xm098.cloudfront.net/qtwwB3cvQUScyu5o-minY63MR1asXi1W/_.jpg\", title=\"Wikipedia integration for quick reference\"></a></p><p class=\"lead\">Right now the web tools you use to socialize and watch TV are managed by more intuitive interfaces and advanced algorithms than the tools you use to learn.</p><a href=\"https://d16qt3wv6xm098.cloudfront.net/lyU6zMdVTMimp3lYT0SJInqzRSOJnDsZ/_.jpg\" title=\"Osmosis is more than just a question bank\" class=\"gallery3 noLinkUnderline\"><p class=\"lead\">Osmosis is changing this.</p></a><p class=\"lead hidden\"><a class=\"gallery3\", href=\"https://d16qt3wv6xm098.cloudfront.net/sOE5Ddz3Tne0pCX5SFe7HyXdQzuIAVA4/_.jpg\", title=\"Osmosis has thousands of practice questions with detailed explanations moderated by our review board.\"></a>\n<a class=\"gallery3\", href=\"https://d16qt3wv6xm098.cloudfront.net/urM_ryWwQcukfXb8qX2GXywMRCi7GpeF/_.jpg\", title=\"Scoreboard and tags and filters.\"></a>\n<a class=\"gallery3\", href=\"https://d16qt3wv6xm098.cloudfront.net/qtwwB3cvQUScyu5o-minY63MR1asXi1W/_.jpg\", title=\"Wikipedia integration for quick reference\"></a></p><p class=\"lead\">Our innovative web- and mobile-platforms combine cutting-edge technologies such as machine learning with proven cognitive techniques and <b>thousands of high quality resources</b> including practice questions, videos, and Wikipedia references. Our mission is to ultimately enable you to <b>Learn by Osmosis.</b></p><p><a href=\"/register\" class=\"btn btn-large btn-primary mlm pull-right span2\"><b>Join the Movement</b></a></p></div><div class=\"clearfix\"></div><div class=\"sleek\"><hr class=\"dashed\"/></div><div class=\"featurette\"><a href=\"https://d16qt3wv6xm098.cloudfront.net/gNaMTWvwQGKdNCU-sSeqCWYtSs_6FxLy/_.jpg\" style=\"width:350px\" title=\"Osmosis pushes questions straight to your phone!\" class=\"gallery2\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/tHt3XoyxS76LxLJjN13f29GAQdWODIex/_.png\" style=\"width:250px; height:auto\" class=\"featurette-image pull-left\"/></a><h2 style=\"width:100%\" class=\"featurette-heading\">A revolutionary way to review.<span class=\"muted\"> Because who has time to sit down with a textbook after the exam is over?</span></h2><p style=\"width:75%\" class=\"lead hidden\"><a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/6Z3JGlYgSY_tcCVd7FUaLbpaTO6_3YTb/_.png\" title=\"Get questions anytime, anywhere!\"></a>\n<a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/8VVq_1SETB2sbRRPJFlbDzpESSeh4LT9/_.png\" title=\"Rate your confidence!\"></a>\n<a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/-bh21j7nTIuspCn1AKPZ86fKRFSzNdj_/_.png\" title=\"Helpful videos and resources!\">Youtube and other resources</a>\n<a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/L23rED5ES1Ck_3BDGWTMZ0TTT1WRy9EL/_.png\" Title=\"Rate your favorite questions!\"></a>\n<a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/H3OUwjA2QSGnkB_NLvueIIv7S4CLNJdr/_.png\" title=\"Keep track of your progress!\">The Scoreboard!</a>\n<a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/Mv7hrdzDTPmv87tYUy4aAqI4SpOqAGof/_.png\" title=\"18 Preclinical Topics\">Tons of Topics!</a>\n<a class=\"gallery2 \" href=\"https://d16qt3wv6xm098.cloudfront.net/5JxtRXFgS1_dMP1fkZlF3y4CQZaTAToW/_.png\" title=\"More on the way!\">Much more coming!</a></p><p class=\"lead\">Now you can Osmose<sup style='font-size:60%'>&trade;</sup> anywhere and at any time with our freely downloadable\n<a href='https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&mt=8', target='_blank', class=\"fwb noLinkUnderline\" >iPhone, iPad</a>\nAND\n<a href='https://play.google.com/store/apps/details?id=org.osmosis.med', target='_blank' , class=\"fwb noLinkUnderline\" >Android</a> apps.\nBased on solid principles of spaced repetition, testing effect, and behavior change, the mobile app sends you\nintelligent push notifications to help you review by Osmosis \u2013 a passive process, as opposed to actively sitting down with prep materials.\nIn this way\n<a class='gallery4 fwb noLinkUnderline', href='https://d16qt3wv6xm098.cloudfront.net/gNaMTWvwQGKdNCU-sSeqCWYtSs_6FxLy/_.jpg', title='Osmosis pushes questions straight to your phone!'>\nour bank of thousands of questions, images, videos, and mnemonics comes to you</a>, not the other way around.</p><p style=\"width:75%\" class=\"lead hidden\"><a class=\"gallery4 \" href=\"https://d16qt3wv6xm098.cloudfront.net/6Z3JGlYgSY_tcCVd7FUaLbpaTO6_3YTb/_.png\" title=\"Get questions anytime, anywhere!\"></a>\n<a class=\"gallery4\", href=\"https://d16qt3wv6xm098.cloudfront.net/8VVq_1SETB2sbRRPJFlbDzpESSeh4LT9/_.png\" title=\"Rate your confidence!\"></a>\n<a class=\"gallery4\", href=\"https://d16qt3wv6xm098.cloudfront.net/-bh21j7nTIuspCn1AKPZ86fKRFSzNdj_/_.png\" title=\"Helpful videos and resources!\">Youtube and other resources</a>\n<a class=\"gallery4\", href=\"https://d16qt3wv6xm098.cloudfront.net/L23rED5ES1Ck_3BDGWTMZ0TTT1WRy9EL/_.png\" Title=\"Rate your favorite questions!\"></a>\n<a class=\"gallery4\", href=\"https://d16qt3wv6xm098.cloudfront.net/H3OUwjA2QSGnkB_NLvueIIv7S4CLNJdr/_.png\" title=\"Keep track of your progress!\">The Scoreboard!</a>\n<a class=\"gallery4\", href=\"https://d16qt3wv6xm098.cloudfront.net/Mv7hrdzDTPmv87tYUy4aAqI4SpOqAGof/_.png\" title=\"18 Preclinical Topics\">Tons of Topics!</a>\n<a class=\"gallery4\", href=\"https://d16qt3wv6xm098.cloudfront.net/5JxtRXFgS1_dMP1fkZlF3y4CQZaTAToW/_.png\" title=\"More on the way!\">Much more coming!</a></p><a href=\"https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&amp;mt=8\" target=\"_blank\" class=\"pull-right mas\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/0I7V677jQRGasgInWDmZJK6xS2GYZqka/_.png\" class=\"storeLogos\"/></a><a href=\"https://play.google.com/store/apps/details?id=org.osmosis.med\" target=\"_blank\" class=\"pull-right mas\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/ueFAf8lXSSaBFIq1wQma-hLPQzK6K5wu/_.png\" class=\"storeLogos\"/></a></div><div class=\"clearfix\"></div><div class=\"sleek\"><hr class=\"dashed\"/></div><div class=\"featurette\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/JpCFFflXSLOxJlyHbDW36uhHS7SHuPHU/_.jpg\" style=\"width:350px; height:auto\" class=\"ptl featurette-image pull-right\"/><h2 class=\"featurette-heading\">Knowledge diffusion.<span class=\"muted\"> Because everything should be in one place \u2013 your head</span></h2><p class=\"lead\">Osmosis is developing a completely new way for knowledge to be aggregated, created, and shared.<ul class=\"lead\"><b>List of Features</b><li class=\"tabbed\">Review Questions</li><li class=\"tabbed\">Wikipedia Articles</li><li class=\"tabbed\">Detailed Images</li><li class=\"tabbed\">Scoreboard Progress</li><li class=\"tabbed\">YouTube Videos</li><li class=\"tabbed\">Intelligent Filtering</li><li class=\"tabbed\">Mnemonics</li><li class=\"tabbed\">Commenting</li><li class=\"tabbed\">Hide Answer Choices</li><li class=\"tabbed\">Rating Questions</li><li class=\"tabbed\">More coming soon!</li></ul></p></div><div class=\"clearfix\"></div><div class=\"sleek\"><hr class=\"dashed\"/></div><div class=\"featurette\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/ROQr79WpSYSIITqnmkQsVRWPQNuQZ9BP/_.jpg\" style=\"width:400px; height:auto\" class=\"pal featurette-image pull-left\"/><h2 class=\"featurette-heading\">We\u2019re growing fast.<span class=\"muted\"> Be a part of the Osmosis movement</span></h2><p class=\"lead\">Every few weeks we release new features that make Osmosis even more useful.</p><p class=\"lead\">We are looking for ambassadors from each school who want to bring the vision to everyone. Contact us and see what being an ambassador can do for your school and, most importantly, for you!</p><a href=\"/apply\" class=\"btn btn-large btn-primary mam mtxl pull-right span2\"><b>Learn More</b></a></div><div class=\"clearfix\"></div><div class=\"sleek\"><hr class=\"dashed\"/></div></div><div class=\"sleek blue-bkgd\"><div class=\"row\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span9\"><h2 style=\"margin-top:50px\" class=\"center\">See what medical students are saying about Osmosis:<div id=\"sliderId\"><div class=\"unoSliderNav center\"></div><ul style=\"overflow:show\"><li class=\"current\"><h4 style=\"padding:0px;margin:0px\">\"I've tried out several apps to help with my Step prep, and they all pale in comparison to Osmosis. Until I found Osmosis, I was seriously considering paying hundreds of dollars for one of the major competitors. I'm actively involved in helping the MS1 students transition into medical school, especially with the task of wading through the countless study resources on the market. I have over a decade of experience as an educator, and Osmosis perfectly fits with my main strategy for learning: to practice/study a little bit at a time every day, progressively cementing knowledge into your memory.\"</h4><h4 class=\"fsi\">&mdash; MS2, TTUHSC Paul L. Foster School of Medicine</h4></li><li><h4 class=\"pll prl\">\"I love the explanatory YouTube videos. As a visual learner, it makes it easier to conceptualize and memorize certain concepts!\"</h4><h4 class=\"fsi\">&mdash; MS2, University of Hawaii School of Medicine</h4></li><li><h4 class=\"pll prl\">\"To get to my school in the morning, I have to take a 45 minute bus ride. Osmosis is my go to \"entertainment\" for the bus rides. I am learning things as I go to school, and can be reviewing other subjects that are not just what I am currently learning.\"</h4><h4 class=\"fsi\">&mdash; MS2, Royal College of Surgeons in Ireland</h4></li><li><h4 class=\"pll prl\">\"I really love Osmosis. It's the only way I've been keeping up with doing questions daily and it's been very helpful.\"</h4><h4 class=\"fsi\">&mdash; MS2, University of the Caribbean School of Medicine</h4></li><li><h4 class=\"pll prl\">\"I love that with Osmosis I get accurate ways of studying without having to write the questions! Also the YouTube videos take away the need to find those resources myself.\"</h4><h4 class=\"fsi\">&mdash; OMS1, Lake Erie College of Osteopathic Medicine</h4></li><li><h4 class=\"pll prl\">\"Osmosis is a great, well-designed app with a beautiful and easy-to-use UI. The questions are high-yield, clinically-based, and reliable (i.e. I can trust the info). It's designed with the lives of med students in mind, so it's easy to use in short bursts in between other responsibilities. Using Osmosis is almost effortless so users can focus on learning the material without distractions.\"</h4><h4 class=\"fsi\">&mdash; MS2, University of Pittsburgh School of Medicine</h4></li><li><h4 class=\"pll prl\">\"I firmly believe that Osmosis is the way to learning in the future. To deliver education that best fits an individual rather a \"one fits all\" model is at the heart of Osmosis. I have been advocating for the use of Osmosis at my school since the summer.\"</h4><h4 class=\"fsi\">&mdash; MS2, University of Arkansas for Medical Sciences College of Medicine</h4></li></ul></div></h2></div></div></div><div class=\"sleek\"><div class=\"container\"><div class=\"row\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span12\"><h2 style=\"margin-bottom:30px; margin-top:50px\" class=\"center\">As seen in:<span class=\"muted\"> Osmosis is getting a lot of press, read more to find out why!</span></h2></div></div><div class=\"row\"><div style=\"float:none; margin-left:auto; margin-right:auto;\" class=\"span12 center\"><a href=\"http://blog.tedmed.com/?p=3765\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/3rMzRVmYRZGrE9hre1G4UJLYRH_EWBMM/_.png\" class=\"landingLogos\"/></a><a href=\"http://www.fastcolabs.com/3014088/open-company/the-memory-hack-that-got-me-through-med-school-and-inspired-a-startup\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/DsM9wlqeSkiWu5uXXWgcsH5GSyywEQJ9/_.png\" class=\"landingLogos\"/></a><a href=\"http://qz.com/104679/why-so-many-medical-school-students-are-failing-the-exams-to-become-a-doctor/\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/AhqSIZF1SgmRo7jlVVpzfQwWQgeBVSSa/_.png\" class=\"landingLogos\"/></a><a href=\"http://medcitynews.com/2013/08/what-does-pop-culture-have-to-do-with-a-med-school-study-app/\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/VJMHyM0hTGyU089e_YbDVIDbRCGnWXHb/_.png\" class=\"landingLogos\"/></a><a href=\"http://thehealthcareblog.com/blog/2013/07/05/the-real-problem-with-board-exams-and-how-to-solve-it/\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/xc4sdjZSTISxya-24XUN7QRBQgOS-WhW/_.png\" class=\"landingLogos\"/></a><a href=\"http://www.whitecoatdo.com/learning-by-osmosis-a-more-effective-way-to-study-in-med-school/\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/N8FlqiYPQeqaBN_ocXw0wm_XQpWbItop/_.png\" class=\"landingLogos\"/></a><a href=\"\" target=\"_blank\" class=\"hidden\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/1wzzAiKjRI6A4jxKL34H4RRuQ1CDYPLk/_.png\" class=\"landingLogos\"/></a><a href=\" https://www.aamc.org/newsroom/reporter/february2014/370352/technology.html\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/1wzzAiKjRI6A4jxKL34H4RRuQ1CDYPLk/_.png\" class=\"landingLogos\"/></a><a href=\"http://www.hopkinsmedicine.org/institute_basic_biomedical_sciences/about_us/scientists/osmosis.html\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/AiFF7q1OTs6HHzzWk4TjTiJgT9eZAeJ-/_.png\" class=\"landingLogos\"/></a><a href=\"http://www.imedicalapps.com/2013/09/osmosis-app/\" target=\"_blank\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/rfJPVe_OTLWUpHk2B1ndJfH5SCC7gxUx/_.png\" class=\"landingLogos\"/></a></div><div class=\"clearfix\"></div></div></div><div class=\"sleek\"><hr style=\"margin-bottom:30px;\" class=\"dashed\"/></div></div><div class=\"sleek white-bkgd\"><div class=\"row\"><div class=\"span12\"><p>&nbsp;</p></div></div></div></div>"}),deftmp("tabs.default.referral",{template:"<div class=\"tabs-default-referral scrollable\"><div class=\"ui-account-Referral\"></div></div>"}),deftmp("tabs.default.responseMap",{template:"<div class=\"tabs-responseMap\"><div class=\"realtimeAnalytics\"></div></div>"}),deftmp("tabs.default.unarchive",{template:"<div class=\"tabs-default-unarchive ui-ConfigTool\"><div class=\"container\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"get-started\"><div class=\"intro\"><div class=\"icon\"><i class=\"fa fa-archive\"></i></div><div class=\"info\"><p class=\"explain\">One or more of your workspaces is archived. Go to <a href=\"/account\">account settings</a> to unarchive workspaces.</p></div></div></div></div></div></div></div>"}),deftmp("tabs.default.workspaces",{template:"<div class=\"tabs-default-workspaces\"><div class=\"row\"><div class=\"col-md-12 scrollable\"><div data-bind=\"visible: teamWorkspaceCount\" class=\"mll\"><div data-bind=\"visible: teamWorkspaceCount()+privateWorkspaceCount()&gt;2\"><h3 data-bind=\"visible: teamWorkspaceCount()&gt;1\">Team Workspaces</h3><h3 data-bind=\"visible: teamWorkspaceCount()==1\">Team Workspace</h3></div><div class=\"panel-container mhl mtl\"><div class=\"team flex-center\"></div></div></div><div data-bind=\"visible: privateWorkspaceCount\" class=\"mll\"><div data-bind=\"visible: teamWorkspaceCount()+privateWorkspaceCount()&gt;2\"><h3 data-bind=\"visible: privateWorkspaceCount()&gt;1\">Private Workspaces</h3><h3 data-bind=\"visible: privateWorkspaceCount()==1\">Private Workspace</h3></div><div class=\"panel-container mhl mtl\"><div class=\"private flex-center\"></div></div></div><div data-bind=\"visible: canCreateWorkspaces\" class=\"center mbxl\"><a href=\"/create/workspace\" class=\"basic button\">Create New Workspace</a></div></div></div></div>"}),deftmp("tabs.editors.edits",{template:"<div class=\"tabs-editors-edits\"><div class=\"container\"><div class=\"row mtm\"><div class=\"ajax-loader\"><table class=\"table\"><thead><tr><th>ID</th><th>Ques Stem</th><th></th><th>Activity</th><th>Respond to Review (optional)</th></tr></thead><tbody class=\"edits\"></tbody></table></div></div></div></div>"}),deftmp("tabs.editors.grid",{template:"<div class=\"tabs-editors-grid\"><div class=\"ajax-loader\"><div class=\"mvm mrm\"><div class=\"lfloat mlm\"><span data-bind='text: rowCount'/> rows</div><a href=\"\" data-bind=\"ajax: refresh\" class=\"rfloat\">Refresh</a><div class=\"clearfix\"></div></div><div class=\"conceptTable\"></div></div></div>"}),deftmp("tabs.editors.index",{template:"<div class=\"tabs-group-index\"><div class=\"tab-nav-menu\"><div class=\"tab-nav-left\"><div class=\"item main-item\"><a href=\"/editors/edits\" class=\"tabNavLink\">Reviewed Edits</a></div><div data-bind=\"visible: window.user.isEditor==&quot;admin&quot;\" class=\"item main-item\"><a href=\"/editors/review\" class=\"tabNavLink\">Review</a></div><div data-bind=\"visible: window.user.isEditor==&quot;admin&quot;\" class=\"item main-item\"><a href=\"/editors/grid\" class=\"tabNavLink\">Grid</a></div><div class=\"tab-nav-items\"><i class=\"fa fa-caret-down\"></i><div class=\"tab-nav-dropdown\"><ul><li><a href=\"/editors/edits\" class=\"tabNavLink\">Reviewed Edits</a></li><li data-bind=\"visible: window.user.isEditor==&quot;admin&quot;\"><a href=\"/editors/review\" class=\"tabNavLink\">Review</a></li><li data-bind=\"visible: window.user.isEditor==&quot;admin&quot;\"><a href=\"/editors/grid\" class=\"tabNavLink\">Grid</a></li></ul></div></div></div><div class=\"clearfix\"></div></div><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.editors.review",{template:"<div class=\"tabs-editors-review\"><div class=\"container\"><div class=\"row mtm\"><div class=\"ajax-loader\"><div class=\"rfloat\"><a href=\"/contributorData\" download=\"contributors.csv\" class=\"fp80\">Download contributor stats</a></div><div class=\"clearfix\"></div><table class=\"table\"><thead><tr><th>ID</th><th>Ques Stem</th><th></th><th>Activity</th><th>Last Modified</th><th>Actions</th></tr></thead><tbody class=\"edits\"></tbody></table></div></div></div></div>"}),deftmp("tabs.flashcards.index",{template:"<div class=\"tabs-flashcards-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.flashcards.nursing",{template:"<div class=\"tabs-flashcards-nursing scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.flashcards.step1",{template:"<div class=\"tabs-flashcards-step1 scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.flashcards.topics",{template:"<div class=\"tabs-flashcards-topics scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.group.analysis",{template:"<div class=\"tabs-group-analysis scrollable\"><div class=\"container\"><div class=\"breadcrumb-box-section\"><div class=\"icon-left osmobot\"><i class=\"fa fa-calendar\"></i></div><div class=\"bread-nav\"><a href=\"/group/coursework\" class=\"tabNavLink\"><i class=\"fa fa-angle-left\"></i><div class=\"back\">Back to Course Documents</div></a></div></div><div class=\"row\"><div class=\"col-lg-12\"><div class=\"ui-LibraryAnalysis\"></div></div></div></div></div>"}),deftmp("tabs.group.analytics",{template:"<div class=\"tabs-group-analytics\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-12 scrollable\"><div class=\"secondary-actions nav-actions\"><a href=\"/group\" title=\"Group Home\" class=\"tip tabNavLink\"><i class=\"fa fa-home\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/members\" title=\"Group Members\" class=\"tip tabNavLink\"><i class=\"fa fa-users\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/messages\" title=\"Messages\" class=\"tip tabNavLink\"><i class=\"fa fa-comments\"></i><div class=\"message-count\"><div data-bind=\"visible: messages, text: messages\" class=\"badge danger\"> </div></div></a><span>&nbsp;|&nbsp;</span><a href=\"/group/schedule\" title=\"Settings\" class=\"tip tabNavLink\"><i class=\"fa fa-cog\"></i></a><span data-bind=\"visible:GROUP.owner\">&nbsp;|&nbsp;</span><a data-bind=\"visible:GROUP.owner\" title=\"Analytics\" class=\"tip current\"><i class=\"fas fa-chart-area\"></i></a></div><ul class=\"nav nav-tabs mtm\"><li data-bind=\"css:{active:sidebarNav()==&quot;cumulative&quot;}\"><a href=\"#\" data-bind=\"click: switchView(&quot;cumulative&quot;)\">Cumulative</a></li><li data-bind=\"css:{active:sidebarNav()==&quot;segmentation&quot;}\"><a href=\"#\" data-bind=\"click: switchView(&quot;segmentation&quot;)\">Segmentation</a></li></ul><div data-bind=\"visible:sidebarNav()==&quot;cumulative&quot;\"><div class=\"ui-analytics-CumulativeAnalytics\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;segmentation&quot;\" style=\"background-color: white\" class=\"mtm\"><div class=\"ui-analytics-Segmentation\"></div></div></div></div></div></div>"}),deftmp("tabs.group.coursework",{template:"<div class=\"tabs-group-coursework\"><div data-bind=\"visible:onboardMode()!=&quot;off&quot;\" class=\"tab-onboarding\"><div class=\"ui-TabOnboarding\"></div></div><div data-bind=\"visible:onboardMode()!=&quot;full&quot;\" class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-2 main-left-sidebar scrollable\"><div class=\"title-section\"><h3 data-bind=\"text:groupName\"></h3><p data-bind=\"visible: window.classmateCount &gt; 0\" class=\"explain\">Shared Workspace</p><p data-bind=\"visible: window.classmateCount == 0\" class=\"explain\">Personal Workspace</p></div><div class=\"sidebar-menu\"><ul><li data-bind=\"css:{selected:sidebarNav()==&quot;docs&quot;}\" class=\"no-filters\"><a data-bind=\"click:doSidebarNav(&quot;docs&quot;)\" class=\"docs\"><span class=\"menu-name\">Course Documents</span><i class=\"fa fa-angle-right indicator\"></i></a></li><li data-bind=\"css:{selected:sidebarNav()==&quot;builder&quot;}\" class=\"no-filters\"><a data-bind=\"click:doSidebarNav(&quot;builder&quot;)\" class=\"decks\"><span class=\"menu-name\">Quiz Builder</span><i class=\"fa fa-angle-right indicator\"></i></a></li><li data-bind=\"css:{selected:sidebarNav()==&quot;modules&quot;}\" class=\"no-filters\"><a data-bind=\"click:doSidebarNav(&quot;modules&quot;)\" class=\"modules\"><span class=\"menu-name\">Course Folders</span><i class=\"fa fa-angle-right indicator\">     </i></a></li></ul></div></div><div data-bind=\"visible:sidebarNav()==&quot;docs&quot;\" class=\"col-md-7 scrollable group-doc-list\"><div data-bind=\"visible: loading\" class=\"spin-loader-lg mtxxl\"></div><div data-bind=\"visible: !loading()\"><div class=\"mobile-calendar-nav hidden-lg hidden-md\"><div data-bind=\"click:prevDay\" class=\"cal-arrow left-arrow\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"click:nextDay\" class=\"cal-arrow right-arrow\"><i class=\"fa fa-angle-right\"></i></div></div><div class=\"ui-GroupDocList\"></div></div></div><div data-bind=\"visible:sidebarNav()==&quot;modules&quot;\" class=\"col-md-10 scrollable course-module-list\"><h4 data-bind=\"visible: window.classmateCount == 0\" class=\"main-heading\">Course Folders</h4><h4 data-bind=\"visible: window.classmateCount &gt; 0\" class=\"main-heading\">Shared Course Folders</h4><div data-bind=\"click: createNewModule\" class=\"rounded-btn rounded-btn-success rounded-btn-sm mlm\"><span><i class=\"fa fa-plus\"></i> New Course Folder</span></div><div class=\"clearfix\"></div><div style=\"margin-top: -20px\" class=\"mlm fp80 fcg mbm\"><div data-bind=\"visible: window.classmateCount &gt; 0\">Create folders to organize documents and flashcard decks by exam date <span data-bind='visible: window.classmateCount > 0'>and share with <span data-bind='text: classmateCountStr'/></span>.</div></div><div class=\"ui-ModuleList\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;docs&quot;\" class=\"col-md-3 scrollable calendar main-right-sidebar\"><div class=\"secondary-actions nav-actions\"><a href=\"\" data-bind=\"click:editCalendar\" title=\"Edit Calendar\" class=\"tip\"><i class=\"fa fa-calendar\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/members\" title=\"Group Members\" class=\"tip tabNavLink\"><i class=\"fa fa-users\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/messages\" title=\"Messages\" class=\"tip tabNavLink\"><i class=\"fa fa-comments\"></i><div class=\"message-count\"><div data-bind=\"visible: messages, text: messages\" class=\"badge danger\"> </div></div></a><span>&nbsp;|&nbsp;</span><a href=\"/group/schedule\" title=\"Settings\" class=\"tip tabNavLink\"><i class=\"fa fa-cog\"></i></a><span data-bind=\"visible:GROUP.owner\">&nbsp;|&nbsp;</span><a href=\"/group/analytics\" data-bind=\"visible:GROUP.owner\" title=\"Analytics\" class=\"tip tabNavLink\"><i class=\"fa chart-area\"></i></a></div><div class=\"ui-CalendarSidetab\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;builder&quot;\" class=\"col-md-10 scrollable quiz-builder\"><div class=\"ui-WorkspaceQuizBuilder\"></div></div></div></div></div>"}),deftmp("tabs.group.index",{template:"<div class=\"tabs-group-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.group.members",{template:"<div class=\"tabs-group-members\"><div class=\"container fullpage\"><div class=\"row\"><div style=\"padding-top:50px\" class=\"col-lg-6 col-md-6 col-sm-6 scrollable ptl\"><div class=\"ui-GroupMembers\"></div></div><div style=\"padding-top:50px\" class=\"col-lg-6 col-md-6 col-sm-6 scrollable ptl\"><div class=\"secondary-actions nav-actions\">       <a href=\"/group\" title=\"Group Home\" class=\"tip tabNavLink\"><i class=\"fa fa-home\"></i></a><span>&nbsp;|&nbsp;</span><a title=\"Group Members\" class=\"tip current\"><i class=\"fa fa-users\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/messages\" title=\"Messages\" class=\"tip tabNavLink\"><i class=\"fa fa-comments\"></i><div class=\"message-count\"><div data-bind=\"visible: messages, text: messages\" class=\"badge danger\"> </div></div></a><span>&nbsp;|&nbsp;</span><a href=\"/group/schedule\" title=\"Settings\" class=\"tip tabNavLink\"><i class=\"fa fa-cog\"></i></a><span data-bind=\"visible:GROUP.owner\">&nbsp;|&nbsp;</span></div><div class=\"ui-GroupInviteLink\"></div></div></div></div></div>"}),deftmp("tabs.group.messages",{template:"<div class=\"tabs-group-messages scrollable\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-lg-12\"><div class=\"secondary-actions nav-actions\"><a href=\"/group\" title=\"Group Home\" class=\"tip tabNavLink\"><i class=\"fa fa-home\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/members\" title=\"Group Members\" class=\"tip tabNavLink\"><i class=\"fa fa-users\"></i></a><span>&nbsp;|&nbsp;</span><a title=\"Messages\" class=\"tip current\"><i class=\"fa fa-comments\"></i><div class=\"message-count\"><div data-bind=\"visible: messages, text: messages\" class=\"badge danger\">   </div></div></a><span>&nbsp;|&nbsp;</span><a href=\"/group/schedule\" title=\"Settings\" class=\"tip tabNavLink\"><i class=\"fa fa-cog\"></i></a><span data-bind=\"visible:GROUP.owner\">&nbsp;|&nbsp;</span><a href=\"/group/analytics\" data-bind=\"visible:GROUP.owner\" title=\"Analytics\" class=\"tip tabNavLink\"><i class=\"fa chart-area\"></i></a></div></div></div></div><div style=\"margin-top: 20px\" class=\"container\"><div class=\"row ptl\"><div class=\"col-lg-12\"><div class=\"ui-DashboardNewsfeed\"></div></div></div></div></div>"}),deftmp("tabs.group.module",{template:"<div class=\"tabs-group-messages scrollable\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-lg-12\"><div class=\"secondary-actions nav-actions\"><a href=\"/group\" title=\"Group Home\" class=\"tip tabNavLink\"><i class=\"fa fa-home\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/members\" title=\"Group Members\" class=\"tip tabNavLink\"><i class=\"fa fa-users\"></i></a><span>&nbsp;|&nbsp;</span><a title=\"Messages\" class=\"tip current\"><i class=\"fa fa-comments\"></i><div class=\"message-count\"><div data-bind=\"visible: messages, text: messages\" class=\"badge danger\">   </div></div></a><span>&nbsp;|&nbsp;</span><a href=\"/group/schedule\" title=\"Settings\" class=\"tip tabNavLink\"><i class=\"fa fa-cog\"></i></a><span data-bind=\"visible:GROUP.owner\">&nbsp;|&nbsp;</span><a href=\"/group/analytics\" data-bind=\"visible:GROUP.owner\" title=\"Analytics\" class=\"tip tabNavLink\"><i class=\"fa chart-area\"></i></a></div></div></div></div><div style=\"margin-top: 20px\" class=\"container\"><div class=\"row ptl\"><div class=\"col-lg-12\"><div class=\"ui-DashboardNewsfeed\"></div></div></div></div></div>"}),deftmp("tabs.group.schedule",{template:"<div class=\"tabs-group-schedule\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-3 main-left-sidebar scrollable\"><div class=\"ui-StudyPreferencesSidetab\"></div></div><div class=\"col-md-9 scrollable\"><div class=\"secondary-actions nav-actions\">         <a href=\"/group\" title=\"Group Home\" class=\"tip tabNavLink\"><i class=\"fa fa-home\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/members\" title=\"Group Members\" class=\"tip tabNavLink\"><i class=\"fa fa-users\"></i></a><span>&nbsp;|&nbsp;</span><a href=\"/group/messages\" title=\"Messages\" class=\"tip tabNavLink\"><i class=\"fa fa-comments\"></i><div class=\"message-count\"><div data-bind=\"visible: messages, text: messages\" class=\"badge danger\"> </div></div></a><span>&nbsp;|&nbsp;</span><a title=\"Settings\" class=\"tip current\"><i class=\"fa fa-cog\"></i></a><span data-bind=\"visible:GROUP.owner\">&nbsp;|&nbsp;</span></div></div></div></div></div>"}),deftmp("tabs.home.clinicalreasoning",{template:"<div class=\"tabs-home-clinicalreasoning scrollable\"></div>"}),deftmp("tabs.home.dashboard",{template:"<div class=\"tabs-home-dashboard scrollable\"><div class=\"modal-entry\"></div><div class=\"container fullpage\"><div class=\"home-section\"><div class=\"message-section\"></div><div class=\"tools-section\"></div><div class=\"stats-section\"></div><div class=\"video-sliders-section\"></div><!--.complete-coverage-section(data-bind=\"visible: !isPrime\")--><div data-bind=\"visible: isPrime\" class=\"featured-series-section\"></div><div class=\"bottom-section\"><div class=\"ui-SubjectsNav\"></div><div class=\"expanded-topics-section\"></div></div></div></div></div>"}),deftmp("tabs.home.index",{template:"<div class=\"tabs-home-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.home.pharmacology",{template:"<div class=\"tabs-home-pharmacology scrollable\"></div>"}),deftmp("tabs.home.scienceoflearning",{template:"<div class=\"tabs-home-scienceoflearning scrollable\"></div>"}),deftmp("tabs.home.timeline",{template:"<div class=\"tabs-home-timeline scrollable\"> <div data-bind=\"visible:originalConcept\" class=\"container fullpage\"><div class=\"back-btn\"><a href=\"\" data-bind=\"attr:{href:originalConceptUrl}\"><i class=\"fa fa-angle-left\"></i><span>Back to&nbsp;</span><span data-bind=\"html:originalConcept\"></span></a></div></div><div data-bind=\"visible: groups.length\" class=\"container\"><div class=\"timeline-options\"> <div class=\"search-term option-item\"><div class=\"option-label\"><span>Timeline Search</span></div><input data-bind=\"value:term\" placeholder=\"i.e. myocardial infarction\"/></div><div class=\"workspace option-item\"><div class=\"option-label\"><span>Workspace</span></div><select data-bind=\"value: groupID, options: groups, optionsText: &quot;name&quot;, optionsValue: &quot;groupID&quot;\" class=\"tooltip-select\"></select></div><div class=\"option-item\"><div class=\"search-btn\"><a data-bind=\"click:runSearch\" class=\"btn btn-md btn-primary\">Search Documents</a></div></div></div></div><div data-bind=\"visible: groups.length\" class=\"container fullpage\"> <div class=\"ui-TimelineSearch\"></div></div><div data-bind=\"visible: !groups.length\" class=\"container no-workspace\"><div class=\"wrapper\"><div class=\"osmobot\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/ad77dc7308ac421a6c5c8e8ac51f2161765a085e.png\"></div><div class=\"title-section\"><h2>Whoops! No documents to search</h2></div><div class=\"explainer\">Timeline searches through all of your documents in any of your workspaces. Before you create a workspace, get a preview of our Document Analysis tool by <a href=\"\" data-bind='click:openDocAnalysis'>uploading a course doc</a>.</div><div class=\"cta\"><a href=\"\" data-bind=\"click:openDocAnalysis\" class=\"btn btn-lg btn-primary\"><i class=\"fa fa-file-alt\"></i>&nbsp;Try out Document Analysis</a></div><div class=\"closer\">Rather just get started with a workspace? <a href='' data-bind='click:openCreateWorkspace'>Create or join a workspace</a> right now!    </div></div></div></div>"}),deftmp("tabs.home.videos",{template:"<div class=\"tabs-home-videos scrollable\"><div class=\"ui-SelectorHeader\"></div><div class=\"ui-TopicsDropdown\"></div><div class=\"container fullpage\"><div class=\"ui-SubjectsNav\"></div><div class=\"tab-content\"><!--.complete-coverage-section(data-bind='visible:!hasPrime')--><div class=\"expanded-topics-section\"></div></div></div></div>"}),deftmp("tabs.intro.decks",{template:"<div class=\"tabs-intro-decks\"><div>Description for decks goes here</div><a href=\"/quiz/builder\" class=\"btn btn-success\">Start Using Decks</a></div>"}),deftmp("tabs.intro.index",{template:"<div class=\"tabs-intro-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.learn.index",{template:"<div class=\"tabs-learn-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.learn.page",{template:"<div class=\"tabs-learn-page scrollable\"><div data-bind=\"visible:notFound\" class=\"not-found\"><div data-bind=\"html:searchQuery\" class=\"term\"></div><div class=\"wrapper\"> <img src=\"/assets/images/image-assets/osmobot-video.png\"/><p>Sorry, no medical concepts matched your search. Please try again or return to the <a href='/'>home page</a>.</p></div></div><div data-bind=\"visible:!notFound()\" class=\"learn-card\"></div></div>"}),deftmp("tabs.legacy.index",{template:"<div class=\"tabs-legacy-index\"><div class=\"tab-nav-menu\"><div class=\"item\"><a href=\"/legacy/playlist\" class=\"tabNavLink\">Playlist</a></div><div class=\"clearfix\"></div></div><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.legacy.playlist",{template:"<div class=\"tabs-legacy-playlist\"><div class=\"ui-Playlist\"></div></div>"}),deftmp("tabs.module.analytics",{template:"<div class=\"tabs-module-analytics\"><div data-bind=\"visible:isLoading\" class=\"loading\"><div class=\"spin-loader-lg\"></div></div><div data-bind=\"visible: !isLoading() &amp;&amp; MID() != 0\" class=\"moduleSpecificAnalytics\"><div class=\"panel\"><div class=\"panel-body\"><div><h2>Contributor Statistics</h2><div class=\"contributorTable\"></div></div></div></div><div><div class=\"moduleAnalytics\"></div></div></div><div data-bind=\"visible: !isLoading() &amp;&amp; MID() == 0\" class=\"overallAnalytics\"></div></div>"}),deftmp("tabs.module.index",{template:"<div class=\"tabs-module-index\"><div class=\"tab-nav-menu\"><div class=\"tab-nav-center\"><div class=\"item\"><a href=\"/module/notes\" class=\"tabNavLink\">Notes</a></div><div class=\"item\"><a href=\"/module/qbank\" class=\"tabNavLink\">QBank</a></div><div class=\"item\"><a href=\"/module/signups\" class=\"tabNavLink\">Lecture Signups</a></div><div data-bind=\"visible: GROUP.owner\" class=\"item\"><a href=\"/module/analytics\" class=\"tabNavLink\">Analytics</a></div></div></div><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.module.notes",{template:"<div class=\"tabs-module-notes\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-4 scrollable ptl\"><div><span>Print Notes:</span><a data-bind=\"attr:{href: urlPrefix+&quot;/notes?print=slides&quot;}\" target=\"_blank\" class=\"mlm\">with slides</a><a data-bind=\"attr:{href: urlPrefix+&quot;/notes?print=noslides&quot;}\" target=\"_blank\" class=\"mlm\">without slides</a></div><div><span>Cloze Blanks:</span><a href=\"\" data-bind=\"visible: !isAutoBlanked(), click: autoBlank\" class=\"mrm mls\">add&nbsp;term&nbsp;blanks</a><a href=\"\" data-bind=\"click: showAllBlanks\" class=\"mrm mls\">reveal&nbsp;all</a></div><div class=\"notes\"></div></div><div class=\"col-md-8 scrollable ptl\"><object type=\"image/svg+xml\" style=\"background-color: white; width:100%\" class=\"media-image docShadow\"></object><div data-bind=\"visible: !slideImgURL()\" class=\"panel\"><div class=\"panel-body center\"><h3>Hover over notes to show slides</h3><h3>Use the <kbd><span class=\"fa fa-arrow-left\"/></kbd> and <kbd><span class=\"fa fa-arrow-right\"/></kbd> arrow keys to navigate</h3></div></div></div></div></div></div>"}),deftmp("tabs.module.settings",{template:"<div class=\"tabs-module-settings\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-lg-6 col-md-6 scrollable ptl\"><div class=\"panel\"><div class=\"panel-body\"><div data-bind=\"visible: moduleData.nodes.nodeID.length == 0 &amp;&amp; moduleData.links.linkID.length == 0\"><div>A module can be deleted only if it is completely empty.</div><button data-bind=\"ajax: deleteModule\" class=\"btn btn-danger\">Delete Module</button></div></div></div></div></div></div></div>"}),deftmp("tabs.module.signups",{template:"<div class=\"tabs-module-signups\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-lg-6 col-md-6 scrollable ptl\"><div class=\"panel gray\"><div class=\"panel-heading\"><p>Sign ups</p></div><div class=\"panel-body\"><div data-bind=\"foreach:days\"><h3 data-bind=\"text: moment(day).format(&quot;ddd, MMM Do&quot;)\"></h3><div data-bind=\"foreach: events\"><div data-bind=\"css: backgroundStatus\" class=\"mbl\"><div data-bind=\"text: event.title()+&quot; - &quot;+event.instructor()\"></div><div data-bind=\"text: event.signUpStatus\"></div><div><a href=\"#\" data-bind=\"click: $root.signup(event)\">Sign up</a></div></div></div></div></div></div></div><div class=\"col-lg-6 col-md-6 scrollable ptl\"><div class=\"panel gray\"><div class=\"panel-heading\"><p>Divide & Conquer</p></div><div class=\"panel-body featured\"><h3>Team up to write review questions</h3><ul><li>Multiple studies of cognitive science have shown that answering questions is a more effective way of studying than taking/reading notes. But how do you get all the questions when it takes time to write them?</li><li>Use Osmosis to divide the question writing workload across a team. One or more people can sign up for a lecture and you always know what has and hasn't been covered b/c you can attach questions directly to lecture slides.</li></ul><h3>What signing up means</h3><ul><li>You agree to make sure the course docs are uploaded to the appropriate lecture event, preferably the night before, but no later than 12 hours after the lecture (i.e., the same day).</li><li>You agree to write questions within 48 hours of the lecture.</li><li>By promising your other classmates to honor these commitments, you reduce the tendency to wait and cram at the last minute. Less cramming means more long term retention when you get to boards.</li><li>By writing questions, you solidify your knowledge base by forcing yourself to think like a test maker and not a test taker. The more lectures you write questions for, the better.</li></ul></div></div></div></div></div></div>"}),deftmp("tabs.prototype.module",{template:"<div class=\"tabs-prototype-module\"><div class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-12 scrollable ptl\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"quiz-item-row\"><div class=\"deck-section\"><div class=\"quiz-object default\"><i class=\"fi fi-flashcard-bolt\"></i><div data-bind=\"html:total\" class=\"count\"></div></div><div class=\"quiz-info deck-info\"><div class=\"name\"><span data-bind=\"text: name\"></span></div><div class=\"mtm\"><input type=\"text\" data-bind=\"value: searchText, valueUpdate: &quot;keypress&quot;\" placeholder=\"Search deck\" class=\"search-module\"/><div class=\"add-filters\"><div style=\"text-align: right\" class=\"fp80\"><a href=\"\" data-bind=\"visible: !filtersVisible(), toggle: filtersVisible\">add search filters</a></div><div data-bind=\"visible: filtersVisible\" class=\"filters\"></div></div></div></div></div><div class=\"deck-actions\"><div data-bind=\"visible: type()==&quot;flashcard&quot;, click: addCard\" class=\"deck-action add-card\"><span><i class=\"fa fa-plus\"></i>&nbsp;Create Cards</span></div><div data-bind=\"visible: type()==&quot;flashcard&quot; &amp;&amp; window.hasSharing\" class=\"deck-action share\"><span>Share</span></div><div data-bind=\"ajax:startQuiz\" class=\"deck-action start\"><span>Quiz</span></div><div data-bind=\"visible: type()==&quot;flashcard&quot;, click: saveToQueue\" class=\"deck-action save\"><span> <i class=\"fi fi-flashcard-bolt\"></i>&nbsp;Save to queue</span></div></div></div></div></div><div class=\"panel\"><div class=\"panel-body\"><div data-bind=\"visible: total() &gt; 0\" class=\"alert alert-success\"><span>Showing items <span data-bind='text: startRow'/>-<span data-bind='text: stopRow'/> of <span data-bind='text: total'/> total items</span></div><div data-bind=\"visible: total() == 0\" class=\"alert alert-danger\"><span>No items to show for this query.</span></div><div data-bind=\"visible: total() &gt; 0 &amp;&amp; pageSize() &lt; total()\" class=\"mbm\"><span data-bind=\"visible: currentPage() &gt; 1\"><a href=\"\" data-bind=\"click: first\" class=\"mlm\"><<</a><a href=\"\" data-bind=\"click: prev\" class=\"mlm mrl\"><</a></span><select data-bind=\"options: pages, value: currentPage\" class=\"form-control\"></select><a href=\"\" data-bind=\"visible: total() &lt; 2500, click: showAll\" class=\"mll\">Show All</a><span data-bind=\"visible: currentPage() &lt; lastPage()\"><a href=\"\" data-bind=\"click: next\" class=\"mll\">></a><a href=\"\" data-bind=\"click: last\" class=\"mlm\">>></a></span><span class=\"mll\">Number of rows: <input type='text' data-bind='value: pageSize, valueUpdate: \"afterkeydown\", enterkey: changePageSize'></span></div><table class=\"item-bank\"></table><div data-bind=\"visible: total() &gt; 0 &amp;&amp; ADMIN.groups\" class=\"mtm\"><span><b>Batch actions: </b> With <span data-bind='text: total'/> total items do&nbsp;&nbsp;</span><select data-bind=\"value: batchAction\" class=\"form-control\"><option selected disabled>Select...</option><option value=\"publish\">Publish all</option><option value=\"unpublish\">Unpublish all</option></select></div><div class=\"mtm\"><div><b>Other actions: </b> <a href='' class='fp80 fcg' data-bind='click: editTags'>edit tags</a></div><div><b>Edit mode: <a href='' class='fp80 fcg' data-bind='css: { fwb: !deleting()}, toggle: deleting'>editing</a> | <a href='' class='fp80 fcg' data-bind='css: {fwb: deleting()}, toggle: deleting'>deleting</a></div></div></div></div></div></div></div></div>"}),deftmp("tabs.prototype.quiz",{template:"<div class=\"tabs-prototype-quiz\"><div class=\"main-status-bar\"><div class=\"ui-QuizStatusBar\"></div></div><div class=\"container fullpage\"><div style=\"background-color:#fff\" class=\"row review-section\"><div style=\"height: 100%; border-right: 1px solid rgba(0, 0, 0, 0.1)\" data-bind=\"visible: showQuizControls\" class=\"col-md-3 quiz-sidebar scrollable no-header-height\"><div class=\"progress-button-container\"><button data-bind=\"click: toggleQuizControls\" class=\"hide-mobile thin basic box button\"><span>Hide progress</span></button></div><div class=\"ui-QuizControls\"></div></div><div data-bind=\"css: { &quot;quiz-controls-shown&quot;: showQuizControls }\" class=\"col-md-9 quiz-section\"><div class=\"ui-ReviewApp\"></div></div><div class=\"ui-LabValuesSidebar\"></div></div></div></div>"}),deftmp("tabs.prototype.search",{template:"<div data-bind=\"css: { menuopen: window.controlbarExpanded }\" class=\"tabs-prototype-search scrollable\"><div data-bind=\"visible:subjectActive\" class=\"dashboard-section\"> <div class=\"ui-SearchDashboard\"></div></div></div>"}),deftmp("tabs.qbank.aanp-ancc",{template:"<div class=\"tabs-qbank-aanp-ancc scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.qbank.comlex",{template:"<div class=\"tabs-qbank-comlex scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.qbank.index",{template:"<div class=\"tabs-qbank-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.qbank.med",{template:"<div class=\"tabs-qbank-med scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"ui-OptionsMenu\"></div></div></div></div></div>"}),deftmp("tabs.qbank.nclex",{template:"<div class=\"tabs-qbank-nclex scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.qbank.np",{template:"<div class=\"tabs-qbank-np scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"ui-OptionsMenu\"></div></div></div></div></div>"}),deftmp("tabs.qbank.nursing",{template:"<div class=\"tabs-qbank-nursing scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"ui-OptionsMenu\"></div></div></div></div></div>"}),deftmp("tabs.qbank.step1",{template:"<div class=\"tabs-qbank-step1 scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.qbank.step2",{template:"<div class=\"tabs-qbank-step2 scrollable\"><div class=\"ui-SelectorHeader\"></div><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizTopicSelector\"></div></div></div>"}),deftmp("tabs.quiz.builder",{template:"<div class=\"tabs-quiz-builder scrollable\"><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizSelOverlay\"></div></div></div>"}),deftmp("tabs.quiz.index",{template:"<div class=\"tabs-quiz-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.quiz.queues",{template:"<div class=\"tabs-quiz-queues scrollable\"><div style=\"height:100%\" class=\"container fullpage\"><div class=\"ui-QuizQueueBrowser\"></div></div></div>"}),deftmp("tabs.step1.index",{template:"<div class=\"tabs-step1-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.step1.schedule",{template:"<div data-bind=\"css:{locked:locked}\" class=\"tabs-step1-schedule\"><div class=\"container fullpage\"><div data-bind=\"visible: mode()==&quot;view&quot;\" class=\"row\"><div class=\"col-md-3 main-left-sidebar schedule-sidebar scrollable\"><div class=\"study-overview\"><h4> \nStudy Plan<span data-bind=\"click: createStudyPlanClick\" class=\"edit\">create new</span></h4><div class=\"study-breakdown\"><div class=\"study-start study-info\"><div class=\"the-label\">Start Date</div><div data-bind=\"text:studyStart\" class=\"the-info\"></div></div><div data-bind=\"visible: dedicated\" class=\"dedicated-start study-info\"><div style=\"margin-left: -10px\" class=\"the-label\">Dedicated Starts</div><a href=\"\" data-bind=\"text:dedicated, click: changeDedicatedDate\" class=\"the-info\"></a></div><div class=\"study-exam study-info\"><div class=\"the-label\">Exam Date</div><a href=\"\" data-bind=\"text:examDate, click: changeExamDate\" class=\"the-info\"></a></div></div></div><div class=\"study-timeline\"><h4>Study Timeline<span data-bind=\"click: modifySchedule\" class=\"edit\">edit</span></h4><div class=\"ui-StudyTimeline\"></div></div></div><div class=\"col-md-9 todo-list-column scrollable\"><div class=\"row\"><div class=\"col-md-9\"><div data-bind=\"visible: loading\" class=\"spin-loader-lg mtxxl\"></div><div data-bind=\"visible: !loading()\"><div data-bind=\"visible: window.userScheduleActive != 8\" class=\"alert alert-warning mtm\"><a href=\"#\" data-bind=\"click: mobileSync\" class=\"btn btn-xs btn-warning pull-right\">Set as Primary Workspace</a><strong>Note:</strong><span> You can also have the Osmosis mobile app push you questions and flashcards based on this schedule. If you would like to enable this, simply set this page as your \"Primary Workspace\".</span></div><div data-bind=\"html: instructions\" class=\"fcg fp80 mlm mtl\"></div><div class=\"daily-todos\"></div></div></div><div class=\"col-md-3\"><div class=\"secondary-actions\"></div><div data-bind=\"visible:showFilters\" class=\"resource-filters\"><div class=\"the-resources\"><h4>Grouped by Topic</h4><div data-bind=\"visible: faVersion()==2019\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.fa19\"/>First Aid 2019</label></div><div data-bind=\"visible: faVersion()==2018\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.fa18\"/>First Aid 2018</label></div><div data-bind=\"visible: faVersion()==2017\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.fa17\"/>First Aid 2017</label></div><div data-bind=\"visible: faVersion()==2016\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.fa16\"/>First Aid 2016</label></div><div data-bind=\"visible: faVersion()==2015\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.fa15\"/>First Aid 2015</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.pathoma\"/>Pathoma</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.boardsAndBeyond\"/>Boards and Beyond</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.osmosis\"/>Osmosis Videos</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.questions\"/>Osmosis Case Questions</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.flashcards\"/>Osmosis Flashcards</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.picmonic\"/>Picmonic</label></div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: filters.sketchy\"/>Sketchy Medical</label></div></div><div class=\"custom-resource-filters\"><h4>Fixed Interval</h4><div class=\"ui-ScheduleDailyGoals\"></div><div data-bind=\"click: addCustomResource\" class=\"edit\"><i class='fa fa-plus'></i> add resource</div></div><div class=\"the-filters\"><h4>Show</h4><div class=\"radio\"><label><input type=\"radio\" name=\"show-filter\" value=\"everything\" data-bind=\"checked: show\"/>Everything</label></div><div class=\"radio\"><label><input type=\"radio\" name=\"show-filter\" value=\"incomplete\" data-bind=\"checked: show\"/>Not Completed</label></div><div class=\"radio\"><label><input type=\"radio\" name=\"show-filter\" value=\"completed\" data-bind=\"checked: show\"/>Completed</label></div><div class=\"radio\"><label><input type=\"radio\" name=\"show-filter\" value=\"later\" data-bind=\"checked: show\"/>Saved for Later</label></div></div></div></div></div></div></div><div class=\"row\"><div data-bind=\"visible: mode()==&quot;build&quot;\" class=\"col-md-12\"><div class=\"build-schedule\"></div></div></div></div></div>"}),deftmp("tabs.study.calendar",{template:"<div data-bind=\"css:{locked:false}\" class=\"tabs-study-calendar scrollable\"><div data-bind=\"visible: mode() === &quot;build&quot;\" class=\"build-schedule\"></div><div data-bind=\"visible: mode() === &quot;view&quot;\" class=\"calendar-wrapper\"><div class=\"calendar-control-bar-wrapper\"><div class=\"calendar-control-bar\"><div class=\"calendar-control schedule-control\"><button data-bind=\"click: openFilterMenu, clickBubble: false, css: { green: filterSortTodos.todoFilters.hasFilters() }\" class=\"box button left-icon right-icon filter-button\"><!-- ko if: filterSortTodos.todoFilters.hasFilters()--><i data-bind=\"click: filterSortTodos.clearTodoFilters, clickBubble: false\" class=\"fas fa-times\"></i><span>Filtering is on</span><!-- /ko--><!-- ko ifnot: filterSortTodos.todoFilters.hasFilters()--><i class=\"fas fa-filter\"></i><span>Filter</span><i class=\"fas fa-angle-down\"></i><!-- /ko--></button></div><div class=\"calendar-view-buttons\"><div class=\"calendar-control\"><button data-bind=\"click: viewClicked(&quot;day&quot;), css: { selected: view() === &quot;day&quot; }\" class=\"box button\">Day</button></div><div class=\"calendar-control\"><button data-bind=\"click: viewClicked(&quot;week&quot;), css: { selected: view() === &quot;week&quot; }\" class=\"box button\">Week</button></div><div class=\"calendar-control\"><button data-bind=\"click: viewClicked(&quot;month&quot;), css: { selected: view() === &quot;month&quot; }\" class=\"box button\">Month</button></div></div><div class=\"calendar-control calendar-today-button\"><button data-bind=\"click: goToToday\" class=\"box button blue\">Today</button></div><div class=\"calendar-control fill time-control\"><div data-bind=\"style: { visibility: progressDates().length ? &quot;visible&quot; : &quot;hidden&quot; }\" class=\"calendar-control fill calendar-timeline\"><div class=\"calendar-progress\"><div data-bind=\"foreach: progressDates\" class=\"calendar-proress-dates-container\"><div data-bind=\"style: { left }, html: text\" class=\"calendar-progress-date\"></div></div><div data-bind=\"style: { right: progressDatesCurrent, background: &quot;#1F79DF&quot; }, attr: { title: &quot;Your progress&quot;}\" class=\"calendar-progress-bar tip\"></div><div data-bind=\"foreach: progressDatesEnd\" class=\"calendar-end-dates\"><div data-bind=\"style: { right: progress + &quot;%&quot;, left: 100 - progress + &quot;%&quot; }, attr: { title: &quot;End of &quot; + name }\" class=\"calendar-end-date tip\"></div></div><div data-bind=\"foreach: examDates\" class=\"calendar-exam-dates\"><div data-bind=\"click: $root.goToDate(date), style: { right: progress() + &quot;%&quot;, left: 100 - progress() + &quot;%&quot;  }, attr: { title: &quot;Practice exam: &quot; + exam }\" class=\"calendar-exam-date tip\"></div></div></div></div></div><div class=\"calendar-control\"><button title=\"Add a new schedule\" data-bind=\"click: createSchedule\" class=\"button box left-icon mrm tip\"><i class=\"fas fa-plus\"></i><span>Create</span></button><button title=\"Settings\" data-bind=\"click:openScheduleSettings()\" style=\"cursor: pointer;\" class=\"box button left-icon settings-button tip\"><div class=\"calendar-icon\"><i style=\"margin-right: 0\" class=\"fas fa-cog\"></i></div></button></div></div></div><div data-bind=\"visible: view() === &quot;day&quot;\" class=\"calendar-content-container\"><div class=\"day-view-entry\"></div></div><div data-bind=\"visible: view() === &quot;week&quot;\" class=\"calendar-content-container\"><div class=\"week-view-entry\"></div></div><div data-bind=\"visible: view() === &quot;month&quot;\" class=\"calendar-content-container\"><div class=\"month-view-entry\"></div></div></div></div>"}),deftmp("tabs.study.index",{template:"<div class=\"tabs-study-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.study.startover",{template:"<div class=\"tabs-study-startover\"><div class=\"center mtl\"><h4>Are you sure you want to archive all schedules and start over?</h4><br/><span class=\"negative message\">Careful! There's no way to undo this action.</span><br/><br/><br/><button data-bind=\"click: startOver\" class=\"button red\">Start Over</button></div></div>"}),deftmp("tabs.study-old.calendar",{template:"<div data-bind=\"css:{locked:false}\" class=\"tabs-study-old-calendar scrollable\"><div data-bind=\"visible: pageIsReady() &amp;&amp; helperBannerVisible()\" class=\"helper-banner\"><div class=\"info-wrapper\"><div data-bind=\"click:openHelperVideo\" class=\"video-thumb\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/b2ae2562e7cc6b3f2ce84c7f1bd73178d73d39ab.png\"><div class=\"play-overlay\"><i class=\"fa fa-play\"></i></div></div><div class=\"info\"><div class=\"title\">How to use the Study Schedule efficiently</div><div class=\"subtitle\">Many others have found this video helpful. Find more information on how to use the schedule <a href='https://help.osmosis.org/step-1-schedule/the-new-osmosis-study-schedule-more-efficient-and-organized-than-ever-before' target='_blank'>here.</a></div><div class=\"action\"><span data-bind=\"click:openHelperVideo\" class=\"watch\">Watch now</span><span data-bind=\"click:closeHelperBanner\" class=\"dismiss\">Dismiss</span></div></div></div></div><div data-bind=\"visible: loading\" class=\"calendar-loading-overlay\"><div class=\"spin-loader-lg\"></div></div><div data-bind=\"visible: mode()==&quot;view&quot;, css: { sidebarOpen: &quot;open&quot; }\" class=\"calendar-sidebar scrollable\"><div class=\"sidebar-schedule\"> <div class=\"sidebar-schedule-title\">Study Schedule</div><div data-bind=\"click: modifySchedule\" class=\"sidebar-schedule-edit\"> <i class=\"fas fa-edit\"></i>Edit</div></div><div data-bind=\"visible: view() !== &quot;Mobile&quot;\" class=\"sidebar-calendar-overview\"><div class=\"models-step1_calendar-SidebarCalendar\"></div></div><div class=\"sidebar-seperator\"></div><div data-bind=\"visible: view() === &quot;Week&quot;\" class=\"sidebar-week-container\"></div><div data-bind=\"visible: view() === &quot;Month&quot;\" class=\"sidebar-month-container\"></div><div class=\"sidebar-all-container\"></div><div data-bind=\"foreach:sidebarSchedules\" class=\"sidebar-schedules\"><div data-bind=\"click:$root.handleSidebarScheduleClick($data), css:{active:scheduleID==$root.activeScheduleID()}\" class=\"schedule\"><div class=\"active-marker\"><i class=\"fa fa-eye\"></i><i class=\"fa fa-eye-slash\"></i></div><div class=\"info\"><div data-bind=\"visible: current\" class=\"subject\"><span data-bind=\"html: current\"></span></div><div data-bind=\"html:name\" class=\"name\"></div><div class=\"dates\"><i class=\"fi fi-calendar-o\"></i><span data-bind=\"html:dateRange\"></span></div></div></div></div><div class=\"sidebar-seperator\"></div><div data-bind=\"visible: view() === &quot;Topic&quot; || view() === &quot;Mobile&quot;\" class=\"sidebar-filters\"><div class=\"sidebar-filter-title\">SHOW/HIDE</div><div class=\"sidebar-filter-container\"><div class=\"sidebar-filter\"><input type=\"radio\" name=\"sidebarfilter\" id=\"sidebarfilterEverything\" value=\"everything\" data-bind=\"checked: show\" class=\"sidebar-filter-radio\"/><label for=\"sidebarfilterEverything\" class=\"sidebar-filter-name\">Everything</label></div><div class=\"sidebar-filter\"><input type=\"radio\" name=\"sidebarfilter\" id=\"sidebarfilterNotCompleted\" value=\"unchecked\" data-bind=\"checked: show\" class=\"sidebar-filter-radio\"/><label for=\"sidebarfilterNotCompleted\" class=\"sidebar-filter-name\">Not Completed</label></div><div class=\"sidebar-filter\"><input type=\"radio\" name=\"sidebarfilter\" id=\"sidebarfilterCompleted\" value=\"checked\" data-bind=\"checked: show\" class=\"sidebar-filter-radio\"/><label for=\"sidebarfilterCompleted\" class=\"sidebar-filter-name\">Completed</label></div><div class=\"sidebar-filter\"><input type=\"radio\" name=\"sidebarfilter\" id=\"sidebarfilterSaved\" value=\"later\" data-bind=\"checked: show\" class=\"sidebar-filter-radio\"/><label for=\"sidebarfilterSaved\" class=\"sidebar-filter-name\">Saved for Later</label></div><!--.sidebar-filter<input type=\"radio\" name=\"sidebarfilter\" id=\"sidebarfilterOverdue\" value=\"overdue\" data-bind=\"checked: show\" class=\"sidebar-filter-radio\"/><label for=\"sidebarfilterOverdue\" class=\"sidebar-filter-name\">Overdue</label>--></div></div><!--.sidebar-seperator--><!--.sidebar-filters<div class=\"sidebar-filter-title\">SHOW/HIDE</div><div class=\"sidebar-filter-container\"><div class=\"sidebar-filter-title\">OSMOSIS PRIME RESOURCES</div><div data-bind=\"click: filterClickedHandler(&quot;osmosis&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.osmosis(), &quot;fa-square&quot;: !filters.osmosis() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Osmosis Videos</span></div><div data-bind=\"click: filterClickedHandler(&quot;flashcards&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.flashcards(), &quot;fa-square&quot;: !filters.flashcards() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Osmosis Flashcards</span></div><div data-bind=\"click: filterClickedHandler(&quot;questions&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.questions(), &quot;fa-square&quot;: !filters.questions() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Osmosis Questions</span></div></div><div class=\"sidebar-filter-container\"><div class=\"sidebar-filter-title\">OTHER RESOURCES</div><div data-bind=\"click: filterClickedHandler(&quot;fa&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters[&quot;fa&quot; + faVersion().substring(2)](), &quot;fa-square&quot;: !filters[&quot;fa&quot; + faVersion().substring(2)]() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">First Aid</span></div><div data-bind=\"click: filterClickedHandler(&quot;picmonic&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.picmonic(), &quot;fa-square&quot;: !filters.picmonic() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Picmonic</span></div><div data-bind=\"click: filterClickedHandler(&quot;sketchy&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.sketchy(), &quot;fa-square&quot;: !filters.sketchy() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Sketchy Micro</span></div><div data-bind=\"click: filterClickedHandler(&quot;pathoma&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.pathoma(), &quot;fa-square&quot;: !filters.pathoma() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Sketchy Path</span></div></div><div class=\"sidebar-filter-container\"><div class=\"sidebar-filter-title\">FIXED INTERVAL RESOURCES</div><div data-bind=\"click: filterClickedHandler(&quot;uworld&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.uworld(), &quot;fa-square&quot;: !filters.uworld() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">UWorld</span></div></div><div class=\"sidebar-filter-container\"><div class=\"sidebar-filter-title\">CUSTOM RESOURCES</div><div data-bind=\"click: filterClickedHandler(&quot;pages&quot;)\" class=\"sidebar-filter\"><i data-bind=\"css: { &quot;fa-check-square&quot;: filters.pages(), &quot;fa-square&quot;: !filters.pages() }\" class=\"fa sidebar-filter-check\"></i><span class=\"sidebar-filter-name\">Pages</span></div></div>--></div><div data-bind=\"visible: mode()==&quot;view&quot;\" class=\"calendar-main-container\"><div data-bind=\"visible: view() === &quot;Mobile&quot;\" class=\"sidebar-pull-tab\"><div data-bind=\"click: sidebarPullTabClicked\" class=\"sidebar-pull-tab-button\"><i class=\"fa fa-ellipsis-v\"></i></div></div><div data-bind=\"visible: view() === &quot;Mobile&quot; &amp;&amp; sidebarOpen, click: sidebarPullTabClicked\" class=\"sidebar-closeable-area\"></div><div class=\"main-nav-bar\"><div data-bind=\"click: goToToday\" class=\"main-nav-bar-item rounded\">Today</div><div data-bind=\"click: goToPrevDate\" class=\"main-nav-bar-item prev\"><div class=\"fa fa-angle-left\"></div><div class=\"main-nav-bar-item-tooltip\">Previous&nbsp;<span data-bind=\"text: view() === &quot;Topic&quot; ? &quot;Day&quot; : view() === &quot;Week&quot; ? &quot;Week&quot; : &quot;Month&quot;\"></span></div></div><div data-bind=\"click: goToNextDate\" class=\"main-nav-bar-item next\"><div class=\"fa fa-angle-right\"></div><div class=\"main-nav-bar-item-tooltip\">Next&nbsp;<span data-bind=\"text: view() === &quot;Topic&quot; ? &quot;Day&quot; : view() === &quot;Week&quot; ? &quot;Week&quot; : &quot;Month&quot;\"></span></div></div><div data-bind=\"text: selectedDateString\" class=\"main-nav-bar-item cur-date\"></div><div class=\"main-nav-bar-seperator\"></div><div data-bind=\"click: changeViewClick(&quot;Topic&quot;), css: { active: view() === &quot;Topic&quot; }\" class=\"main-nav-bar-item left-end\">To Do</div><div data-bind=\"click: changeViewClick(&quot;Week&quot;), css: { active: view() === &quot;Week&quot; }\" class=\"main-nav-bar-item\">Weeks</div><div data-bind=\"click: changeViewClick(&quot;Month&quot;), css: { active: view() === &quot;Month&quot; }\" class=\"main-nav-bar-item right-end\">Month</div></div><div data-bind=\"visible: view() === &quot;Topic&quot; &amp;&amp; !isPending()\" class=\"view-container topic\"><div class=\"models-step1_calendar-TopicView\"></div></div><div data-bind=\"visible: view() === &quot;Week&quot; &amp;&amp; !isPending()\" class=\"view-container week\"><div class=\"models-step1_calendar-WeekView\"></div></div><div data-bind=\"visible: view() === &quot;Month&quot; &amp;&amp; !isPending()\" class=\"view-container month\"><div class=\"models-step1_calendar-MonthView\"></div></div><div data-bind=\"visible: view() === &quot;Mobile&quot; &amp;&amp; !isPending()\" class=\"view-container mobile\"><div class=\"models-step1_calendar-MobileView\"></div></div><div data-bind=\"visible:isPending\" class=\"view-container empty\"><div class=\"models-schedule-EmptySchedule\"> </div></div></div><div style=\"display: flex;width: 100%; height: 100%;justify-content: center;align-items: center;\" data-bind=\"style: { &quot;display&quot;: mode()==&quot;build&quot; ? &quot;flex&quot; : &quot;none&quot; }\"><div style=\"max-height: 100%; overflow-y: auto\" class=\"col-md-12\"><div class=\"build-schedule\"></div></div></div></div>"}),deftmp("tabs.study-old.index",{template:"<div class=\"tabs-study-old-index\"><div class=\"tab-pages\"></div></div>"}),deftmp("tabs.study-old.startover",{template:"<div class=\"tabs-study-old-startover\"><div class=\"center mtl\"><h4>Are you sure you want to archive all schedules and start over?</h4><div data-bind=\"click: startOver\" class=\"btn btn-danger btn-lg\">Start Over</div></div></div>"}),deftmp("templates.dashboardMessage.dashboardMessage",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"COMPONENT_NAME ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"></div><div class=\"message-wrapper\"><div class=\"message-text\"></div></div><div class=\"right-section\"><div class=\"image\"></div></div></div></div>"}),deftmp("templates.dialog.dialog",{template:"<div data-bind=\"css: dialogStyle\" class=\"COMPONENT_NAME dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">Some fancy title goes up here</h3></div><div class=\"dialog-content\"><p>This is a pretty simple dialog</p></div><div class=\"dialog-footer\"><button class=\"button cancel\">Cancel</button><button class=\"button blue primary action\">Take an action</button></div></div>"}),deftmp("templates.new.MyComponent",{template:"<div class=\"COMPONENT_NAME\"></div>"}),deftmp("templates.videoPrompt.videoPrompt",{template:"<div data-bind=\"fadeVisible: promptVisible\" class=\"COMPONENT_NAME ui-video-Prompt\"><div class=\"background-overlay\"></div><div class=\"prompt-container\"><div class=\"prompt-content-wrapper\"><div class=\"prompt-content\"><div class=\"prompt-text\"><h3 class=\"inverted title\">Header</h3><p class=\"inverted text\">Subtext</p></div><div class=\"prompt-buttons\"><button class=\"button\">Secondary action</button><button class=\"blue button\">Primary action</button></div></div></div></div></div>"}),deftmp("ui.AddTools",{template:"<div class=\"ui-AddTools\"><div data-bind=\"visible:toolsMenuVisible, css:{locked:lockedHeight}\" class=\"tools-menu\"><div class=\"title-section\"><div class=\"title\">Tools</div><div data-bind=\"click:hideToolsMenu\" class=\"close-menu\"><i class=\"fa fa-times-thin\"></i></div></div><div class=\"tools-section\"><div data-bind=\"foreach:tools\" class=\"tool-list\"><div data-bind=\"css:{active:active}\" class=\"tool-item\"><div class=\"info-section\"><div class=\"icon\"><i data-bind=\"css:icon\"></i></div><div class=\"info\"><div data-bind=\"html: title + ( newTool ? &quot;&lt;span class='newTool'&gt;&lt;/span&gt;&quot; : &quot;&quot;)\" class=\"name\"></div><div data-bind=\"html:descr\" class=\"extra\"></div></div></div><div class=\"toggle-section\"><div data-bind=\"click:$root.toggleTool($data)\" class=\"toggle\"></div><div data-bind=\"visible: $data.action &amp;&amp; active()\" class=\"action-link-div\"><a href=\"\" data-bind=\"text: $data.action, attr: {href: $data.actionUrl}\" class=\"action-link\"></a></div></div></div></div></div></div></div>"}),deftmp("ui.AdminEditNode",{template:"<div data-bind=\"style: {&quot;background-color&quot;: color}\" class=\"ui-AdminEditNode mtm\"><div data-bind=\"text: node.nodeID\"></div><div data-bind=\"html: ques\"></div><div class=\"models-ques-Container\"></div><div><a href=\"\" data-bind=\"attr: {href: &quot;/editcontent?n=&quot;+node.nodeID}\" target=\"_blank\">Edit</a></div></div>"}),deftmp("ui.AdminSidebar",{template:"<div class=\"ui-AdminSidebar\"><div class=\"ui-ProfileBadge\"></div><div style=\"margin-top:35px;\" class=\"dash-menu-section\"><div class=\"heading\"><i class=\"fas fa-edit\"></i><h4>Admin Tools</h4></div><div class=\"menu-items\"> </div></div></div>"}),deftmp("ui.AppSelectorModal",{template:"<div data-bind=\"visible:visible, click:mainClickHandler\" class=\"ui-AppSelectorModal\"><div data-bind=\"click:close\" class=\"close-modal\"><span>&times;</span></div><div class=\"the-modal\"><div class=\"the-apps\"><div class=\"app-layout\"><div class=\"app-section\"><h3>Manage Favorites</h3><div class=\"panels\"><div class=\"panel-section video-apps\"><div class=\"title\"><h5>Video Tools</h5></div><div class=\"app-list\"><div class=\"app-item added-item\"><div class=\"icon\"><i class=\"fi fi-play dark-green\"></i></div><div class=\"name\">Video Library      </div></div><div class=\"app-item\"><div class=\"icon\"><i class=\"fi fi-play-expanded dark-green\"></i></div><div class=\"name\">Extended Video Library</div></div></div></div><div class=\"panel-section course-apps\"><div class=\"title\"><h5>Coursework Tools</h5></div><div class=\"app-list\"><div class=\"app-item\"><div class=\"icon\"><i class=\"fi fi-group green\"></i></div><div class=\"name\">Team Workspaces</div></div><div data-bind=\"click:showApp(&quot;private&quot;), css:{selected:currentApp()==&quot;private&quot;}\" class=\"app-item\"><div class=\"icon\"><i class=\"fi fi-private light-purple\"></i></div><div class=\"name\">Private Workspace  </div></div><div class=\"app-item added-item\"><div class=\"icon\"><i class=\"fi fi-doc-search blue\"></i></div><div class=\"name\">Document Analysis</div></div></div></div><div class=\"panel-section ques-apps\"><div class=\"title\"><h5>Question &amp; Flashcard Tools</h5></div><div class=\"app-list\"><div class=\"app-item added-item\"><div class=\"icon\"><i class=\"fi fi-flashcards purple\"></i></div><div class=\"name\">Decks</div></div><div class=\"app-item\"><div class=\"icon\"><i class=\"fi fi-flashcard-piggy-bank light-green\"></i></div><div class=\"name\">Flashcard Bank</div></div><div class=\"app-item\"><div class=\"icon\"><i class=\"fi fi-step1-qbank dark-blue\"></i></div><div class=\"name\">Step 1 QBank     </div></div><div class=\"app-item\"><div class=\"icon\"><i class=\"fi fi-step2-qbank orange\"></i></div><div class=\"name\">Step 2 QBank</div></div></div></div><div class=\"panel-section board-apps\"><div class=\"title\"><h5>Board Exam Tools</h5></div><div class=\"app-list\"><div class=\"app-item added-item\"><div class=\"icon\"><i class=\"fi fi-calendar red\"></i></div><div class=\"name\">Step 1 Schedule</div></div></div></div></div></div></div></div><div class=\"app-breakdown\"><div class=\"wrapper\"><div class=\"icon\"><i class=\"fi fi-calendar\"></i></div><div class=\"info\"><div class=\"title\"><h3>Step 1 Schedule<span class=\"favorite\">Favorite</span></h3></div><div class=\"descr\">Get a day by day plan with exactly the resources you want to use.</div><div class=\"actions\"><div class=\"inactive\"><a href=\"\" class=\"hidden btn btn-success btn-sm\">Add to Favorites</a></div><div class=\"active\"><a href=\"\" class=\"btn btn-danger btn-sm\">Remove from Favorites</a></div></div><div class=\"extra\">Similar to: CramFighter</div></div></div></div></div></div>"}),deftmp("ui.Avatar",{template:"<div data-bind=\"attr:{title:avatarDisplayName}\" class=\"ui-Avatar\"><div data-bind=\"visible: hasAvatar\" class=\"img-avatar\"><img src=\"\" alt=\"avatar\" data-bind=\"attr:{src:avatar}\" class=\"avatarImg\"/></div><div data-bind=\"visible: !hasAvatar(), css:avatarBg()\" class=\"generated-avatar\"><p data-bind=\"text: userInitials, css:{empty:emptyInitials}\" class=\"initials\"></p></div></div>"}),deftmp("ui.AvatarList",{template:"<div class=\"ui-AvatarList\"><div class=\"users flex-center\"></div></div>"}),deftmp("ui.BookDealProgress",{template:"<div class=\"ui-BookDealProgress\"><ul class=\"list-unstyled multi-steps\"><li class=\"is-active\">Finalize purchase</li><li> \nSelect book &amp;<br/>enter shipping</li></ul></div>"}),deftmp("ui.BrowserWarning",{template:"<div class=\"ui-BrowserWarning\"><div class=\"panel\"><div class=\"panel-heading\"><div class=\"icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/b7d8ca6abed5d94c77900cd1535f96f98f9db20a.png\"></div><div class=\"heading\"><p>Browser Support</p><a href=\"https://www.google.com/chrome/\" target=\"_blank\" class=\"btn btn-md btn-success\">Download Chrome (Recommended)</a></div><div data-bind=\"click: dismiss\" class=\"dismiss\"><small>Dismiss</small><i class=\"fa fa-times-circle\"></i></div></div><div class=\"panel-body\"><p>Osmosis utilizes the latest browser technology to bring you the best experience possible. To tap into all our features, we recommend using the most advanced browser available\u2013<a href=\"https://www.google.com/chrome/\" target=\"_blank\">Google Chrome</a>.</p><p> <small>You can continue to use Osmosis with your current browser.</small></p></div></div></div>"}),deftmp("ui.Buy",{template:"<div data-bind=\"css: theme\" class=\"ui-Buy\"><div data-bind=\"visible: cartIsNotEmpty\" class=\"sleek\"><div style=\"border:none;\" class=\"txt-middle\"><div><div data-bind=\"visible: authStepStatus()!==&quot;hidden&quot;\" class=\"authStep\"><div class=\"ui-SimpleLoginBox\"></div></div></div><div data-bind=\"visible: bookDealActive\" class=\"book-deal\"><div class=\"ui-BookDealProgress\"></div><div data-bind=\"visible: bookDealActive &amp;&amp; bookDealShown\" class=\"free-book-form-wrapper\"><div class=\"ui-FreeBookForm\"></div></div></div><div data-bind=\"fadeVisible: buyStepStatus() !== &quot;success&quot;, fadeDirection: &quot;down&quot;, onFadeComplete: showCompleteMessage\" class=\"summary-information\"><div class=\"payment-information\"><div data-bind=\"visible: buyStepStatus()!==&quot;hidden&quot;,css:{alpha50: buyStepStatus()==&quot;disabled&quot;}\" class=\"buyStep\"><h2><span data-bind=\"visible: totalCharge() &gt; 0\">Payment method</span><span data-bind=\"visible: totalCharge() == 0\">Activate Questions</span><div class=\"payment-options\"><img data-bind=\"css: { active: cardType() === 'visa' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/T6x945meSAu4wnXXTLO4taBDRuyTxugp.svg\" alt=\"Visa\" class=\"credit-card-icon\"><img data-bind=\"css: { active: cardType() === 'mastercard' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/bTWgeJgGQD_Gp6vZlt_7g1yVQpmnoNCg.svg\" alt=\"Mastercard\" class=\"credit-card-icon\"><img data-bind=\"css: { active: cardType() === 'discover' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/5_JJV74XTom6P2a59Nn6gejrQ-_mYyB0.svg\" alt=\"Discover\" class=\"credit-card-icon\"><img data-bind=\"css: { active: cardType() === 'amex' }\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/jgEo2Uc-QrCCA_V05CXQYJpvRsaFrFtK.svg\" alt=\"American Express\" class=\"credit-card-icon\"></div></h2><form class=\"divChoosePaymentMethod\"><div data-bind=\"visible: totalCharge() &gt; 0\" class=\"span12\"><div class=\"ui-Creditcard\"></div></div><div class=\"span12\"><div class=\"agree-terms-container\"><div class=\"checkbox-input\"><input id=\"accept-terms-checkbox\" type=\"checkbox\" data-bind=\"checked: acceptedTerms, disable: buyStepStatus()!=&quot;enabled&quot;\"/><label for=\"accept-terms-checkbox\">I agree to the <a href='/terms' target=\"_blank\">Osmosis Terms &amp; Conditions</a> and <a href='/privacy' target=\"_blank\">Privacy Policy</a>.</label></div></div></div><div class=\"span12\"><div data-bind=\"visible: purchaseError, text: purchaseError\" class=\"negative message\"></div></div><div style=\"float: none; margin-left: auto; margin-right: auto;\" data-bind=\"visible:buyStepStatus()!==&quot;success&quot;\" class=\"span12 purchase-buttons-container\"><button data-bind=\"visible: totalCharge() == 0, ajax:purchaseQuestions, disable: purchasePending() || (buyStepStatus()!=&quot;enabled&quot;)\" class=\"green button finalizespan\">Activate questions                  </button></div></form></div></div><div data-bind=\"visible: buyStepStatus()!==&quot;hidden&quot;,css:{alpha50: buyStepStatus()==&quot;disabled&quot;}\" class=\"order-summary\"></div><button data-bind=\"visible: totalCharge() &gt; 0, ajax: purchaseQuestions, css: { disabled: purchasePending() || (buyStepStatus() !== &quot;enabled&quot;) || locked() || !allInputsValid() }\" class=\"left-icon green button finalize-purchase\"><div class=\"i fas fa-lock\"></div><span data-bind=\"html: buyText()\"></span></button></div><div data-bind=\"fadeVisible: buyStepStatus() !== 'success', fadeDirection: 'down'\" class=\"user-testimonial-container\"><div class=\"ui-UserTestimonial\"></div></div><div data-bind=\"fadeVisible: showCompleteMessage, fadeDirection: &quot;up&quot;\" class=\"buy-done\"><div data-bind=\"visible: buyStepStatus() === &quot;success&quot;\" class=\"buy-success\"><span data-bind=\"visible: totalCharge()&gt;0\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/oyEftEMGQpmEm40K1XgQ-urQQ-6BB3N8.png\"><h2 class=\"header\">Great news!</h2><p data-bind=\"visible: window.location.pathname == &quot;/buy&quot; || loggedIn()\" class=\"payment-processed\">Your payment was processed and you'll receive a confirmation email shortly.</p><p data-bind=\"visible: window.location.pathname == &quot;/authorize&quot;\">We've authorized your card and you'll receive a confirmation email shortly.</p><p data-bind=\"visible: totalCharge()==0\">Questions were successfully added to your account.</p><a data-bind=\"attr: { href: window.user &amp;&amp; window.user.prime &amp;&amp; !(window.user.profile &amp;&amp; window.user.profile.type) ? &quot;/start&quot; : &quot;/&quot;}\" class=\"green button\">Start Osmosing</a></span></div><div class=\"confirmationStep\"><p class=\"support\">If you have any questions or comments, please email support&#64;osmosis.org.</p></div></div></div></div></div>"}),deftmp("ui.BuySummary",{template:"<div class=\"ui-BuySummary\"><h2>Summary</h2><div data-bind=\"foreach: items\" class=\"items\"><div class=\"item\"><div class=\"product-container\"><div class=\"product-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/FcmL8BYTRC_lGpMPAp3aJFeqQgO8YaFf.png\"></div><div class=\"product-text-container\"><div data-bind=\"text: title\" class=\"product\"></div><a data-bind=\"disable: $root.buyStepStatus()!=&quot;enabled&quot;, click: $root.changePlanCB, visible: $root.allowChangePlan\" class=\"change-plan\">Change plan</a></div></div><div class=\"price-container\"><div data-bind=\"html: $root.currencyMark\" class=\"price-currency\"></div><div data-bind=\"text: formatWithCommas($root.displayPrice($data))\" class=\"price\"></div></div></div></div><!--<table data-bind=\"foreach: items\" style=\"width:100%\"><tr style=\"width:100%\" class=\"product\"><td data-bind=\"text: title\"><td style=\"text-align: right\"><span data-bind=\"html: $root.currencyMark\"></span><span style=\"text-align:right\" data-bind=\"text: formatWithCommas($root.displayPrice($data))\"></span></td></td></tr><tr data-bind=\"visible: $root.bookDealActive\"><td colspan=\"2\" style=\"width: 100%\"><table style=\"width: 100%\"><tr style=\"width: 100%\" class=\"product book-deal\"><td>Osmosis Textbook<td style=\"text-align: right\">Free</td></td></tr></table></td></tr></table>--></div>"}),deftmp("ui.CalendarDateSelector",{template:"<div data-bind=\"css: { mobile: mobileView }\" class=\"ui-CalendarDateSelector\"><div class=\"header\"><div class=\"month-year\"><span data-bind=\"text: monthName\"></span>&nbsp;<span data-bind=\"text: monthYear\"></span></div><div class=\"control-container\"><div data-bind=\"click: prevMonth\" class=\"control\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"click: nextMonth\" class=\"control\"><i class=\"fa fa-angle-right\"></i></div></div></div><div data-bind=\"foreach: month\" class=\"month\"><div data-bind=\"visible: $index() === 0\" class=\"week heading\"><div class=\"day heading\">S</div><div class=\"day heading\">M</div><div class=\"day heading\">T</div><div class=\"day heading\">W</div><div class=\"day heading\">T</div><div class=\"day heading\">F</div><div class=\"day heading\">S</div></div><div data-bind=\"foreach: $data\" class=\"week\"><div data-bind=\"click: $root.dateClicked(),                       css: {                         &quot;other-month&quot;: $data.otherMonth,                         &quot;current-date&quot;: $data.currentDate,                         &quot;selected-date&quot;: (!$data.otherMonth) &amp;&amp; $data.date === $root.selectedDate().date() &amp;&amp; $root.currentDate.month() === $root.selectedDate().month() &amp;&amp; $root.currentDate.year() === $root.selectedDate().year()                       }\" class=\"day\"><div class=\"day-mobile-background\"></div><span data-bind=\"text: $data.date\"></span><div data-bind=\"css: $data.borderWidth + &quot; bc-&quot; + $data.color, visible: $root.mobileView &amp;&amp; !$data.otherMonth &amp;&amp; !$data.empty\" class=\"day-info-seperator\"></div></div></div></div></div>"}),deftmp("ui.CalendarSelector",{template:"<div class=\"ui-CalendarSelector\"><div class=\"alert alert-danger mtm\">This interface will no longer be available after Oct 20. <b>Please use the Quizzes tab instead.</b></div><div class=\"row\"><div class=\"col-md-8 col-sm-8 calendar-col scrollable\"><div class=\"the-calendar mtm\"><div class=\"ui-SelectableCalendar\"></div><div class=\"fcg\">Select any time, day, or range of days (click and drag) to see what quizzes are available</div></div></div><div class=\"col-md-4 col-sm-4 scrollable quizzes-col\"><div class=\"source-title\"><div class=\"intro\">Quizzes for <span data-bind=\"text: dateStr\"></span></div></div><div data-bind=\"visible: has.fc\" class=\"cal-flashcards\"><div data-bind=\"visible: has.fc.osmosis\" class=\"ques-section\"><h4>Flashcards From Osmosis</h4><div class=\"fc-quizzes osmosis\"></div></div><div data-bind=\"visible: has.fc.local\" class=\"ques-section\"><h4>Flashcards From School</h4><div class=\"fc-quizzes local\"> </div></div></div><div data-bind=\"visible: has.ques.osmosis() || has.ques.local()\" class=\"cal-questions\"><h4>Questions</h4><div class=\"ques-quizzes osmosis\"> </div><div class=\"ques-quizzes local\"></div></div></div></div></div>"}),deftmp("ui.CalendarSidetab",{template:"<div class=\"ui-CalendarSidetab\"><div class=\"sidetab-content\"><div class=\"panel\"><div class=\"panel-body\">   <div class=\"center\"><div class=\"ui-SelectableCalendar\"></div></div></div></div></div></div>"}),deftmp("ui.CardPicker",{template:"<div class=\"ui-CardPicker\"><div class=\"cardpicker-image-options\"><!-- ko foreach: cards --><div data-bind=\"css: { selected: $data.id === $parent.selectedCard().id }\" class=\"cardpicker-image-option\"><img data-bind=\"attr: { src: $data.src, &quot;image-id&quot;: $data.id }, click: function (data, event) { $parent.selectImage(data, $parent) }\"/></div><!-- /ko --><button data-bind=\"click: showCardPickerDialog\" class=\"cardpicker-image-option basic blue button box more-images-button\">More<br>designs</button></div></div>"}),deftmp("ui.CardPickerDialog",{template:"<div class=\"ui-CardPickerDialog dialog wide\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">Choose your design</h3></div><div class=\"dialog-content\"><div class=\"card-picker-wrapper\"><div class=\"card-picker-container\"><div data-bind=\"foreach: categories\" class=\"card-picker-category-selection\"><div data-bind=\"text: $data.categoryName, click: $parent.selectCategory($data), css: { selected: $data.selected() }\" class=\"category-name\"></div></div><div class=\"card-picker-category-cards\"><div data-bind=\"foreach: categoryCards().cards\" class=\"card-image-options\"><div data-bind=\"click: $parent.selectCard($data), css: { selected: $data.selected() }\" class=\"card-image-option\"><img data-bind=\"attr: { src: $data.src }\"/></div></div></div></div></div></div><div class=\"dialog-footer-pusher\"></div><div class=\"dialog-footer\"><button class=\"basic button dialog-close\">Cancel</button><button data-bind=\"click: useDesignClick\" class=\"button blue\">Use design</button></div></div>"}),deftmp("ui.CategoryTiles",{template:"<div class=\"ui-CategoryTiles\"><div><div data-bind=\"text: title\" class=\"section-title\"></div><div data-bind=\"visible: hasSubcategories\" class=\"section-expand-link mls\"><a href=\"\" data-bind=\"visible: view()==&quot;collapsed&quot;, click: toggleView(&quot;expanded&quot;)\">Show Concept Categories</a><a href=\"\" data-bind=\"visible: view()==&quot;expanded&quot;, click: toggleView(&quot;collapsed&quot;)\">Collapse</a></div></div><div class=\"subcategories\"></div></div>"}),deftmp("ui.CharacterQuote",{template:"<div class=\"ui-CharacterQuote\"><div data-bind=\"css: theme\" class=\"character-quote-container\"><div data-bind=\"css: position\" class=\"character-container\"><img data-bind=\"attr: { src: character }\"/></div><div class=\"quote-container\"><div class=\"quote\"> <h3 data-bind=\"html: quoteHeader\" class=\"quote-header\"></h3><p data-bind=\"html: quoteBody\" class=\"quote-body\"></p></div><div class=\"arrow left\"></div></div></div></div>"}),deftmp("ui.ClusterConceptCard",{template:"<div class=\"ui-ClusterConceptCard mbl\"><div class=\"lfloat\"><h4 data-bind=\"html: title\"></h4></div><div class=\"rfloat\"><a href=\"\" data-bind=\"visible: ADMIN.editor, attr: {href: &quot;/editconcept?term=&quot;+name}\" target=\"_blank\" class=\"edit-link fp80\"><i class=\"fa fa-pencil-alt\"></i><span> Edit</span></a></div><div class=\"clearfix\"></div><div class=\"mll\"><div data-bind=\"visible: title, html: summary\"></div><div class=\"blocks mtm\"></div></div><hr data-bind=\"visible: !isLast\"/></div>"}),deftmp("ui.ClusterMemoryAnchor",{template:"<div class=\"ui-ClusterMemoryAnchor\"><a href=\"\" class=\"resource-item\"><div class=\"resource-thumbnail\"><img data-bind=\"attr: {src: thumbnail}\"/></div><div class=\"resource-info\"><div class=\"resource-title\"><h5 data-bind=\"text: title\"></h5></div><div class=\"resource-source\"><div class=\"source-thumb\"><img data-bind=\"attr: {src: icon}\"/></div><div data-bind=\"text: name\" class=\"source-name\"></div></div></div></a></div>"}),deftmp("ui.CompleteCoverage",{template:"<div class=\"ui-CompleteCoverage\"><div data-bind=\"visible: !hasPrime\" class=\"featured-prime\"><div class=\"main-title thick-grey-bottom-border\">Featured</div><div class=\"become-member\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/a77e03040e35b4d288d6033d6ea9035b8aa385a8.png\" class=\"left\"><div class=\"right\"><h3>Complete Coverage of Pathology and Physiology</h3><p>Explore our complete video coverage for all Pathology and Physiology!</p><p>While we post our patient facing disease videos on our Youtube channel, you can find all of our pathology and physiology videos on the following topics only with an <a href=\"/plans\">Osmosis Prime membership.</a></p><a href=\"/plans\" class=\"button olive\">Become a member</a></div></div></div></div>"}),deftmp("ui.ConceptBrowser",{template:"<div class=\"ui-ConceptBrowser\"></div>"}),deftmp("ui.ConceptCardNav",{template:"<div class=\"ui-ConceptCardNav\"><div class=\"nav-section no-select\"><div data-bind=\"visible: !parent.editing\" class=\"action-links\"><a data-bind=\"click: submitFeedback\" class=\"rfloat feedback-link\"><i class=\"fa fa-comments\"></i><span> Feedback</span></a><a href=\"\" data-bind=\"visible: ADMIN.editor, attr: {href: &quot;/editconcept?term=&quot;+parent.term}\" target=\"_blank\" class=\"rfloat feedback-link mrm\"><i class=\"fa fa-pencil-alt\"></i><span> Edit</span></a></div><div class=\"arrows\"><div data-bind=\"click: back, css: {clickable: browser.canReverse(), disabled: !browser.canReverse()}\" class=\"left-arrow\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"click: forward, css: {clickable: browser.canAdvance(), disabled: !browser.canAdvance()} \" class=\"right-arrow\"><i class=\"fa fa-angle-right\"></i></div></div><div data-bind=\"click: close\" class=\"close-card clickable\"><i class=\"fa fa-times-thin\"></i></div></div></div>"}),deftmp("ui.ConceptCardNotes",{template:"<div class=\"ui-ConceptCardNotes\"><div class=\"title\"><h4 data-bind=\"html:title\"></h4></div><div data-bind=\"foreach:sections\" class=\"sections\"><div data-bind=\"css:{&quot;image-section&quot;:$root.checkImage($data)}\" class=\"section\"><div data-bind=\"css:theme\" class=\"wrapper\"><div class=\"heading\"><h4 data-bind=\"html:heading\"></h4></div><div data-bind=\"html:body\" class=\"body\"></div></div><div data-bind=\"visible:$root.checkImage($data)\" class=\"image\"><img data-bind=\"attr:{src:$root.getImageSrc($data)}\"/></div></div></div></div>"}),deftmp("ui.ConceptGrid",{template:"<div class=\"ui-ConceptGrid\"><div id=\"topic-tooltip\" class=\"hidden\"><p><span id=\"value\"></span></p></div><div><div style=\"overflow:auto\" class=\"chart\"></div></div></div>"}),deftmp("ui.ConceptMap",{template:"<div class=\"ui-ConceptMap\"><div class=\"row\"><div data-toggle=\"buttons\" class=\"btn-group\"><label id=\"make\" class=\"btn btn-primary active\"><input type=\"radio\" name=\"options\"/> Make</label><label id=\"drive\" class=\"btn btn-primary\"><input type=\"radio\" name=\"options\"/> Drive</label><label id=\"trans\" class=\"btn btn-primary\"><input type=\"radio\" name=\"options\"/> Transmission</label></div></div><div id=\"chart\"></div></div>"}),deftmp("ui.ConceptMapRow",{template:"<div class=\"ui-ConceptMapRow\"><div data-bind=\"visible: isVisible\" class=\"subject-progress\"></div><div data-bind=\"css:theme, visible: isVisible\" class=\"video-list\"><div data-bind=\"slideVisible: visible() || title == mergedCatTitle()\" class=\"list-body\"><div class=\"nav-map\"></div></div></div></div>"}),deftmp("ui.ConceptSearch",{template:"<div class=\"ui-ConceptSearch\"><i data-bind=\"click: search\" class=\"fa fa-search\"></i><div class=\"concept-search\"><span data-bind=\"click:inputFocus\" class=\"placeholder\">Find concepts to study...</span><input type=\"text\" data-bind=\"event:{keyup:setPlaceholder, keypress:setInputWidth,focus:highlight}\"/></div></div>"}),deftmp("ui.ConceptSeriesBrowser",{template:"<div class=\"ui-ConceptSeriesBrowser\"><div class=\"concept-cards\"></div><div class=\"series-nav\"><div data-bind=\"click:showPrevConcept\" class=\"prev-concept concept-nav-arrow\"><i class=\"far fa-angle-left\"></i><span data-bind=\"html:prevConceptName\" class=\"concept\"></span></div><div class=\"series-nav-info\"><div class=\"lecture-info\"><span data-bind=\"html:seriesTitle\" class=\"full-title\"> </span><span data-bind=\"html:seriesTitleAbbr\" class=\"short-title\"></span></div><div data-bind=\"\" class=\"slide-count\">Concept <span data-bind='html:currentConceptCount' /> of <span data-bind='html:conceptCount' /><div class=\"concept-select\"><i class=\"fa fa-caret-down\"></i></div><ul data-bind=\"foreach: concepts\" class=\"concept-list\"><li><a data-bind=\"html:concept, click:$root.skipToConcept($data)\"></a></li></ul></div></div><div data-bind=\"click:showNextConcept\" class=\"next-concept concept-nav-arrow\"><span data-bind=\"html:nextConceptName\" class=\"concept\"></span><i class=\"far fa-angle-right\"></i></div></div></div>"}),deftmp("ui.ConceptSummaryPlaceholder",{template:"<div class=\"ui-ConceptSummaryPlaceholder\"><header class=\"summary-header\"><div class=\"fas fa-list-ul\"></div><h2>Summary</h2></header><p data-bind=\"html: summary\" class=\"summary\"></p><div data-bind=\"visible: redirect, html: redirect\" class=\"redirect\"></div></div>"}),deftmp("ui.ConceptsTable",{template:"<div class=\"ui-ConceptsTable\"><table class=\"table user-data mtl\"><thead><tr><th>Subject</th><th>Category</th><th>Topic</th><th>Concept</th><th>Patient</th><th>Educational</th><th>Ques</th><th>Edited</th><th>Approved</th></tr></thead><tbody data-bind=\"foreach: rows\"><tr data-bind=\"visible: visible\"><td data-bind=\"text: subject\"></td><td data-bind=\"text: category\"></td><td data-bind=\"text: topic\"></td><td><span data-bind=\"click: $root.removeConcept($data)\" class=\"close\">&times;</span><a href=\"\" data-bind=\"text: concept, attr: {href: url}\" target=\"_blank\"></a></td><td data-bind=\"text: patient\"></td><td data-bind=\"text: educational\"></td><td data-bind=\"text: ques\"></td><td data-bind=\"text: edited\"></td><td data-bind=\"text: approved\"></td></tr></tbody></table></div>"}),deftmp("ui.ContentTable",{template:"<div class=\"ui-ContentTable\"></div>"}),deftmp("ui.ControlBarSpacedRep",{template:"<div class=\"ui-ControlBarSpacedRep\"><div class=\"timeframe-select\"><h4 class=\"subheading\">Include topics initially learned...</h4><div data-bind=\"foreach:repTimeGroups\" class=\"time-graph\"><div data-bind=\"css:{active:active}\" class=\"time-group\"><span data-bind=\"html:displayTime\" class=\"time\"></span><span class=\"bar-wrapper\"><span data-bind=\"style:{width:&quot;calc(&quot; + ((count() / $root.repMaxCount()) * 100) + &quot;% - 25px)&quot;}\" class=\"bar\"></span><span class=\"count\">(<span data-bind='html:count' />)</span></span></div></div><div class=\"time-slider\"><input type=\"text\" name=\"rep-slider\" data-bind=\"value: repSliderValue\" class=\"slider\"/></div></div><div class=\"source-select-container\"><div class=\"source-select\"><h4 class=\"subheading\">Flashcard source</h4><div data-bind=\"click: toggleSourceActive(&quot;osmosis&quot;), css: { basic: !source.osmosis() }\" class=\"source-item button thin box blue\">Osmosis</div><div data-bind=\"click: toggleSourceActive(&quot;school&quot;), css: { basic: !source.school() }\" class=\"source-item button thin box blue\">School</div></div><div class=\"flagged-select\"><div class=\"checkbox-input\"><input id=\"checkbox\" type=\"checkbox\" data-bind=\"checked: coverage\"/><label for=\"checkbox\">Flagged as priority for daily repetition</label></div></div></div></div>"}),deftmp("ui.CookieNotice",{template:"<div data-bind=\"css: { &quot;sidebar-exists&quot;: sidebarExists, &quot;show-notice&quot;: showNotice }\" class=\"ui-CookieNotice\"><div class=\"cookie-notice-copy-section\"><div class=\"cookie-notice-copy\"><span class=\"emph\">Cookies</span>: This website uses cookies in order to provide the site and Osmosis service to you, improve service performance and enhance your user experience.&nbsp;\nFor more information about how we use cookies and the choices you have with respect to control of cookies, please read our&nbsp;<a href=\"/privacy\" target=\"_blank\">Privacy Policy</a>.</div><div class=\"cookie-notice-copy disclaimer emph\">By continuing to use the service, you agree to our use of cookies as described in the&nbsp;<a href=\"/privacy\" target=\"_blank\">Privacy Policy</a>.</div></div><div class=\"cookie-notice-button-section\"><div data-bind=\"click: closeNotice\" class=\"button blue ok-button\">OK</div></div></div>"}),deftmp("ui.CourseDocThumbnail",{template:"<div class=\"ui-CourseDocThumbnail doc no-select\"><div data-bind=\"visible: readyForViewing()\"><div class=\"main-wrapper\"><div class=\"primary-display\"><div class=\"thumb\"><a href=\"\" data-bind=\"attr: {href: focusURL, title: tooltip}\" target=\"_blank\" class=\"thumb-container tip\"><img src=\"\" data-bind=\"attr: {src: thumbnailURL}\" class=\"docShadow\"/><div class=\"thumb-overlay\"><div class=\"open-doc\">Click to Take Notes</div></div></a><div class=\"clearfix\"></div><span data-bind=\"visible: hasVideo\" style=\"font-size: 90%;\"><i class=\"fa fa-play-circle mrs\"></i><a data-bind=\"attr:{href:watchURL}\" style=\"display: inline;\" css: tabNavLink:MID=\"[object Object]\">Watch<span class=\"WatchInfo\"></span></a><span data-bind=\"visible: mode()==&quot;edit&quot; &amp;&amp; canAddVideo() &amp;&amp; !addingVideo()\" class=\"mlm\"><a href=\"#\" data-bind=\"click: addVideo\" style=\"display: inline;\">Add Video</a></span></span><span data-bind=\"visible: addingVideo\"><div class=\"form-group mtm\"><label style=\"font-size:90%\" class=\"control-label\">Video Link</label><div class=\"controls\"><input type=\"text\" placeholder=\"Use | to list multiple videos\" data-bind=\"value: videoLink\"/></div></div><div class=\"form-group mtm\"><label style=\"font-size:90%\" class=\"control-label\"></label><div class=\"controls\"><button data-bind=\"click: saveVideo\" class=\"btn btn-primary\">Save Video</button></div></div></span><div data-bind=\"visible: mode() == &quot;edit&quot;\"><div data-bind=\"text: origFilename\" class=\"fp80\"></div><div><div style=\"font-size: 90%;\" data-bind=\"visible: mode() == &quot;edit&quot; &amp;&amp; (window.role &gt; 0 &amp;&amp; window.role &lt;= 2 || window.isSuperUser)\" class=\"lfloat\"><span class=\"lfloat\"><i class=\"fa fa-share-square\"></i><a href=\"#\" data-bind=\"click:moveDoc\" class=\"fp90\"> Move</a></span><span class=\"lfloat mls\"><i class=\"fa fa-trash-alt\"></i><a href=\"#\" data-bind=\"visible: !deletingDoc(), click:deleteDoc\" class=\"fp90\"> Delete</a></span><span data-bind=\"visible: window.isSuperUser\" class=\"lfloat mls\"><i class=\"fa fa-bolt\"></i><a href=\"#\" data-bind=\"visible: !deletingDoc(), click:superDeleteDoc\" class=\"fp90\"> Super Delete</a></span></div><span class=\"rfloat downloadPdf mls\"><i class=\"fa fa-cloud-download\"></i><span>&nbsp;</span><a data-bind=\"attr:{href:pdfURL, download:pdfTitle}\" class=\"fp80\">PDF</a></span><span data-bind=\"visible: origExt() != &quot;PDF&quot;\" class=\"rfloat downloadPdf\"><i class=\"fa fa-cloud-download\"></i><span>&nbsp;</span><a data-bind=\"attr:{href:origURL}\" class=\"fp80\"><span data-bind='text: origExt'/></a></span></div><div class=\"clearfix\"></div></div></div></div></div><div class=\"action-column\"><div class=\"actions\"><div class=\"step-group\"><a href=\"\" data-bind=\"click: osmoseThis\" target=\"_blank\" class=\"basic button analyze\"><span><i style=\"padding-left:4px\" class=\"fas fa-chart-bar\"></i><p class=\"cta-label\">Analyze<br />Text</p></span></a></div><div class=\"step-group\"><a href=\"\" data-bind=\"attr: {href: focusURL}\" target=\"_blank\" class=\"basic button flashcard\"><span><i class=\"fas fa-th-large\"></i><p class=\"cta-label\">Create<br />Flashcards</p></span></a></div><div class=\"step-group\"><a href=\"\" data-bind=\"click: showQuizzes\" class=\"basic button quiz\"><span> <i class=\"fas fa-stethoscope\"></i><p class=\"cta-label\">Quiz<br />Yourself</p></span></a></div></div></div></div><div data-bind=\"visible: !readyForViewing()\"><div><div style=\"display: inline-block\"><span data-bind=\"attr:{node:nodeID}\" class=\"docPlaceholder\"><i data-bind=\"visible: !hasFailed(), css: docIcon\" class=\"fa fa-3x\"></i><i data-bind=\"visible: hasFailed, css: docIcon\" class=\"fa fa-3x fcr\"></i></span></div><div data-bind=\"visible: hasFailed\" style=\"display: inline-block; font-size:80%\" class=\"fcr mlm\"><span><span class=\"fwb\" data-bind='text: origFilename'/> could not be procesed by Osmosis. Here are some things to try:</span></div></div><div data-bind=\"visible: hasFailed\"><ol data-bind=\"visible: docIcon() == &quot;fa-file-pdf&quot;\"><li>Try to open the file on your computer. If it does not open on your computer, you might need to download it from your LMS again.</li><li>If the file opens without errors on your computer, try re-uploading to Osmosis.</li><li>If the pdf still does not process, try opening it in a pdf reader and saving the file again (as pdfs can contain errors that Adobe software can fix).</li></ol><ol data-bind=\"visible: docIcon() != &quot;fa-file-pdf&quot;\"><li>Open the file on your computer and <b>convert it to a pdf</b>.</li><li>Try uploading the pdf to Osmosis.</li></ol><div class=\"mtm\"><a href=\"\" data-bind=\"visible: !deletingDoc(), ajax:deleteDoc\">Close this message</a> before trying to upload again.</div></div><div class=\"mbm\"><a href=\"\" style=\"font-size:80%\" data-bind=\"visible: !hasFailed(), click: checkStatus\">Check Processing Status</a></div><div data-bind=\"visible: !hasFailed()\" style=\"height:10px; margin-bottom: 2px\" title=\"Preparing viewer...\" class=\"progress processingBar\"><div data-bind=\"css: {&quot;progress-bar-danger&quot;:hasFailed}, style: {width: processingProgress()+&quot;%&quot;}, css: {active: processing, &quot;progress-bar-striped&quot;: processing}\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" class=\"progress-bar\"><span data-bind=\"text: processingProgress()+&quot;% Complete&quot;\" class=\"sr-only\"></span></div></div><div data-bind=\"visible: processingProgress() &gt; 5, html: processingMessage\" class=\"fp80\"></div></div></div>"}),deftmp("ui.CreateAccount",{template:"<div data-bind=\"css: { &quot;show-invalid-hints&quot;: showInvalidHints() }\" class=\"ui-CreateAccount\"><h2 data-bind=\"visible: showTitle\" class=\"create-account-title\">Get started with a free trial</h2><form class=\"signup-form\"><div data-bind=\"slideVisible: mode() != &quot;verify&quot;\" class=\"profile-step-container\"><div class=\"names-container\"><div data-bind=\"css: { error: showInvalidHints() &amp;&amp; !validInputs.givenName() }\" class=\"text-input\"><label>First Name</label><input type=\"text\" autocomplete=\"given-name\" placeholder=\"First or Preferred Name\" data-bind=\"value: givenName, attr: {disabled: mode()!=&quot;profile&quot;}, css: { &quot;valid&quot;: validInputs.givenName }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"create-account-first-name\"/></div><div data-bind=\"css: { error: showInvalidHints() &amp;&amp; !validInputs.familyName() }\" class=\"text-input\"><label>Last Name</label><input type=\"text\" autocomplete=\"family-name\" placeholder=\"Last Name\" data-bind=\"value: familyName, attr: {disabled: mode()!=&quot;profile&quot;}, css: { &quot;valid&quot;: validInputs.familyName }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"create-account-last-name\"/></div></div><div data-bind=\"visible: isTraditional, css: passwordStrength\" class=\"password-section\"><div data-bind=\"css: { error: showInvalidHints() &amp;&amp; !validInputs.password() }\" class=\"text-input\"><label data-bind=\"css: { &quot;has-pass&quot;: password().length &gt; 0 }\" class=\"create-account-label-password\"><div class=\"create-account-label-password-text\">Password</div><div data-bind=\"visible: password().length &gt; 0\" data-title=\"\" class=\"tip password-strength\">:&nbsp;<div data-bind=\"text: passwordStrength().replace(/-/g, &quot; &quot;)\" class=\"password-strength-text\"></div><div class=\"password-strength-line\"></div></div></label><p data-bind=\"visible: passwordError\" class=\"password-strength-explain\">Try increasing password length, mixing numbers and letters, symbols, or uppercase characters to increase the strength of your password</p><input type=\"password\" autocomplete=\"new-password\" data-bind=\"value: password, attr: {disabled: mode()!=&quot;profile&quot;}, css: { &quot;valid&quot;: validInputs.password }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" placeholder=\"Password\" class=\"create-account-input-password\"/></div></div></div><div data-bind=\"css: { &quot;valid&quot;: validInputs.mobileStatus, error: showInvalidHints() &amp;&amp; !validInputs.mobileStatus() }\" class=\"radio-alt-input mobile-app-section\"><h3 class=\"header\">Do you have the mobile app?</h3><label class=\"option\"><input type=\"radio\" name=\"mobileStatus\" value=\"yes\" alt=\"\" data-bind=\"checked: mobileStatus, attr: { disabled: mode() != &quot;profile&quot; }\" class=\"mobile-status-yes\"/><div class=\"checkmark\"><p class=\"text\">Yes</p></div></label><label class=\"option\"><input type=\"radio\" name=\"mobileStatus\" value=\"no\" alt=\"\" data-bind=\"checked: mobileStatus, attr: { disabled: mode() != &quot;profile&quot; }\" class=\"mobile-status-no\"/><div class=\"checkmark\"><p class=\"text\">No</p></div></label></div></form><div class=\"email-input-section\"><div data-bind=\"visible: mobileStatus()==&quot;yes&quot;, css: { error: showInvalidHints() &amp;&amp; !validInputs.email() }\" class=\"text-input\"><label>Email you used for the mobile app</label><input id=\"mobile-email\" type=\"email\" autocomplete=\"email\" placeholder=\"Email\" data-bind=\"value: email, attr: {disabled: mode()!=&quot;profile&quot;}, css: { &quot;valid&quot;: validInputs.email }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"visible: mobileStatus()==&quot;no&quot; &amp;&amp; needsEmail(), css: { error: showInvalidHints() &amp;&amp; !validInputs.email() }\" class=\"text-input\"><label>School Email</label><input id=\"school-email\" type=\"email\" autocomplete=\"email\" placeholder=\"School Email\" data-bind=\"value: email, attr: {disabled: mode()!=&quot;profile&quot;}, css: { &quot;valid&quot;: validInputs.email }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"create-account-school-email\"/></div></div><div data-bind=\"slideVisible: mode()==&quot;verify&quot;\" class=\"email-verification-section\"><div data-bind=\"css: { error: showInvalidHints() &amp;&amp; !validInputs.code() }\" class=\"text-input\"><label>Verification Code</label><input type=\"text\" autocomplete=\"off\" data-bind=\"value: code, css: { &quot;valid&quot;: validInputs.code }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"create-account-verification-code\"/></div><div class=\"email-verification-no-code\"><button data-bind=\"visible: !verificationCodeHints(), toggle: verificationCodeHints, click: noVerificationCodeClicked\" class=\"basic red thin button\">I didn't receive a code</button></div><div data-bind=\"visible: verificationCodeHints\" class=\"verification-message negative message\"><div class=\"verification-message-title\">If you haven't received a verification code in 1-2 minutes:</div><ol style=\"text-align:left\"><li>Make sure the email was correctly entered&nbsp;<b>(<span class=\"fwb\" data-bind='text: email'/>)</b></li><li>Double-check your \u201CSpam\u201D or \u201CPromotions\u201D folders.</li><li> <a href=\"#\" data-bind=\"click: chatClicked\" class=\"chat-link\">Click here</a>&nbsp;to chat with support, or send an email to&nbsp;<a href=\"mailto: support@osmosis.org\">support@osmosis.org</a></li></ol></div></div><div data-bind=\"visible: mobileEmailHints() &amp;&amp; mobileStatus() == &quot;yes&quot;\" class=\"email-mobile-not-found negative message\"><div class=\"email-mobile-not-found-title\">We couldn't find a mobile account under that email. </div>Make sure the email was correctly entered&nbsp;<b>(<span class=\"fwb\" data-bind='text: email'/>)</b><br/>If you think this is an error,<br/><a href=\"#\" data-bind=\"click: chatClicked\" class=\"chat-link\">Click here</a>&nbsp;to chat with support, or send an email to&nbsp;<a href=\"mailto: support@osmosis.org\">support@osmosis.org</a></div><div data-bind=\"css: { &quot;valid&quot;: validInputs.agreePrivAndTC, error: showInvalidHints() &amp;&amp; !validInputs.agreePrivAndTC() }\" class=\"checkbox-input check-priv-and-tc\"><input id=\"checkPrivAndTC\" type=\"checkbox\" data-bind=\"checked: agreePrivAndTC\"/><label for=\"checkPrivAndTC\">I agree to the&nbsp;<a href=\"/privacy\" target=\"_blank\">Privacy Policy</a>&nbsp;and&nbsp;<a href=\"/terms\" target=\"_blank\">Terms and Conditions</a></label></div><div class=\"sign-up-buttons\"><button type=\"submit\" data-bind=\"click: submitRegistration, visible: mode()==&quot;profile&quot;, enable: signupEnabled, css: { &quot;disabled&quot;: !(allInputsValid() &amp;&amp; signupEnabled()) }\" class=\"button blue create-account-sign-up\"><span data-bind=\"visible: !submitLoading()\">Sign up</span><div data-bind=\"visible: submitLoading()\" class=\"loading-spinner small\"></div></button><button type=\"submit\" data-bind=\"click: verifyEmail, visible: mode()==&quot;verify&quot;, enable: verifyEnabled, css: { &quot;disabled&quot;: !(validInputs.code() &amp;&amp; verifyEnabled()) }\" class=\"button blue create-account-verify-email\"><span data-bind=\"visible: !submitLoading()\">Verify email</span><div data-bind=\"visible: submitLoading()\" class=\"loading-spinner small\"></div></button></div><p data-bind=\"visible: showInvalidHints() &amp;&amp; (!allInputsValid() || invalidStrength()), text: errorMessage\" class=\"negative message\"></p></div>"}),deftmp("ui.CreateAccountInfoPanel",{template:"<div class=\"ui-CreateAccountInfoPanel\"><h2 class=\"create-info-panel-title\">Become an Osmosis Prime member</h2><div class=\"create-info-panel-check\"><i class=\"fas fa-check\"></i><h3 class=\"create-info-panel-check-title\">Feel more confident</h3><div class=\"create-info-panel-check-description\">Access over 1000 videos covering pathology and physiology, plus additional videos on pharmacology and clinical reasoning.</div></div><div class=\"create-info-panel-check\"><i class=\"fas fa-check\"></i><h3 class=\"create-info-panel-check-title\">Stay organized</h3><div class=\"create-info-panel-check-description\">Your personalized Osmosis study schedule translates your goals into a cohesive study plan you can stick to.</div></div><div class=\"create-info-panel-check\"><i class=\"fas fa-check\"></i><h3 class=\"create-info-panel-check-title\">Study more effectively</h3><div class=\"create-info-panel-check-description\">Our spaced repetition algorithm tells you what you need to review and when, so retain more of what you\u2019re learning.</div></div></div>"}),deftmp("ui.CreateDedicatedStudyPlan",{template:"<div class=\"ui-CreateDedicatedStudyPlan ui-ConfigTool\"><div class=\"get-started\"><div data-bind=\"visible: showIntro\" class=\"intro\"><div class=\"icon\"><i class=\"fa fa-calendar\"></i></div><div class=\"info\"><h1>Create your <br>dedicated schedule</h1></div><div class=\"decision-message\">Let's set up the study schedule you'll use during your dedicated full-time study period.</div><div class=\"rfloat\"><div data-bind=\"click: startBuild\" class=\"btn btn-success btn-next\">Let's get started&nbsp;<i class=\"fa fa-angle-right\"></i></div></div></div><div data-bind=\"visible: !showIntro()\"><div class=\"intro\"><div class=\"ui-scheduleWizard-StudyPlanBuilder\"></div></div></div></div></div>"}),deftmp("ui.CreateModuleDialog",{template:"<div class=\"ui-CreateModuleDialog\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Module Name</label><div class=\"controls\"><input type=\"text\" required=\"required\" data-bind=\"value:name\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start Date</label><div class=\"controls\"><input type=\"text\" required=\"required\" data-bind=\"value:begin\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Module Description</label><div class=\"controls\"><textarea rows=\"3\" style=\"width:100%\" data-bind=\"value:descr\" placeholder=\"Optional: You may want to enter a short description of the module here\" class=\"field\"></textarea></div></div></div>"}),deftmp("ui.CreateStep1ClassicStudyPlan",{template:"<div class=\"ui-CreateStep1ClassicStudyPlan ui-ConfigTool\"><div class=\"get-started\"><div class=\"intro\"><table style=\"width: 100%\"><tr><td data-bind=\"visible: mode()!=&quot;start&quot; &amp;&amp; mode()!=&quot;legacy&quot;\" style=\"width: 25%; border-right: 1px solid #CCC\"><div class=\"ui-StudyScheduleClassicSummary\"></div></td><td style=\"width: 50%\"><div class=\"icon\"><i class=\"fa fa-calendar\"></i></div><div data-bind=\"visible: mode()==&quot;start&quot; || mode()==&quot;configure&quot;\" class=\"decision-tree\"></div><div data-bind=\"visible: mode()==&quot;legacy&quot;\"><div class=\"alert alert-warning mhxl\"><h3>There's a new step 1 schedule tool available!</h3><div>Hey! Before you build a schedule, you should try out the new one. <b>You can find it under \"Add Tools\"</b> in the blue sidebar.</div></div><div class=\"rfloat\"><div data-bind=\"click: useLegacySchedule\" class=\"btn btn-default\">I want to use the classic schedule instead of the new schedule</div><div data-bind=\"click: goToNewSchedule\" class=\"btn btn-success mls\">Let's go to the new schedule</div></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: mode()==&quot;build&quot;\"><div class=\"ui-Step1PlanPassOptions\"></div><div class=\"cta-message\">You're all set! Click below to create your personalized schedule:</div><button data-bind=\"ajax: create, enable: allowGenerate\" class=\"green button\">Generate Schedule</button></div></td></tr></table></div></div></div>"}),deftmp("ui.CreateStudyPlan",{template:"<div class=\"ui-CreateStudyPlan ui-ConfigToolReskin\"><div class=\"get-started\"><div class=\"get-started-container\"><div class=\"header\"><p>New Schedule</p></div><div class=\"intro\"><div class=\"ui-scheduleWizard-StudyPlanBuilder\"></div></div><div class=\"action-bar\"></div></div></div></div>"}),deftmp("ui.CreateStudyPlanDialog",{template:"<div data-bind=\"css: dialogStyle\" class=\"ui-CreateStudyPlanDialog dialog blue\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">New Schedule</h3></div><div class=\"dialog-content\"></div></div>"}),deftmp("ui.Creditcard",{template:"<div class=\"ui-Creditcard\"><div data-bind=\"visible: storedCards().length &gt; 0 &amp;&amp; !addingNewCard()\" class=\"existingCard\"><div data-bind=\"foreach: storedCards\"><div class=\"stored-card\"><div class=\"radio-input\"><label data-bind=\"visible: isVisible\" class=\"option\"><input type=\"radio\" name=\"chooseCard\" data-bind=\"disable: $root.status() != &quot;enabled&quot;, checked: $root.existingCard, attr: {value: stripeToken}\"/><span>Card ending in <span class=\"expires\" data-bind='text:lastFourDigits'/>, Exp. <span data-bind='text: expMonthFormatted'/>/<span data-bind='text: expYearFormatted'/></span>&nbsp;<i data-bind=\"disable: $root.status() != &quot;enabled&quot;, click: function(data, event) { $parent.removeCard( data, $parent ) }\" class=\"fa fa-times remove-card\"></i><span class=\"checkmark\"></span></label></div></div></div></div><div class=\"new-card-container\"><div data-bind=\"visible:storedCards().length == 0 || addingNewCard()\" class=\"newCard\"><form action=\"billing\" method=\"post\" accept-charset=\"utf-8\">           <div class=\"card-inputs\"><div class=\"text-input\"><label for=\"card-number\">Card Number</label><div id=\"card-number\" class=\"fs-block-tracking card-number pseudo-input\"></div></div><div class=\"text-input\"><label for=\"card-expire\">Exp. Date</label><div id=\"card-expire\" class=\"fs-block-tracking card-expire pseudo-input\"></div></div><div class=\"text-input\"><label for=\"card-cvc\">CVC</label><div id=\"card-cvc\" class=\"fs-block-tracking card-cvc pseudo-input\"></div></div></div><div data-bind=\"visible: window.location.pathname == &quot;/buy&quot;\" class=\"form-group save-card-checkbox\"><h3 data-bind=\"visible:saveCardClass==&quot;extra&quot;\">Save Card Info</h3><div class=\"checkbox-input\"><input id=\"save-card-checkbox\" type=\"checkbox\" data-bind=\"checked:saveCardInfo, disable:status()!=&quot;enabled&quot;\"/><label for=\"save-card-checkbox\" data-bind=\"html:saveCardText\"> </label></div></div></form></div><a href=\"#\" data-bind=\"click:addCard, disable:status()!=&quot;enabled&quot;, visible:!addingNewCard() &amp;&amp; hasStoredCards()\" class=\"add-card\">+ Add a different card</a></div></div>"}),deftmp("ui.DashboardFAQ",{template:"<div class=\"ui-DashboardFAQ\"><div data-bind=\"visible: selected()\" class=\"panel\"><div class=\"panel-body\"><div data-bind=\"visible: selected() == &quot;customize&quot;\"><h3>Customizing Osmosis</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield if you are <u>more than 2 months</u> from Step:</b> <u>Uploading course docs</u> is the single best way to customize Osmosis to what you're learning when you're learning.</div></div><div class=\"alert alert-success\"><div><b>High Yield if you are taking the Step <u>within 2 months</u>:</b> Ignore course docs. See to \"Study Plan\" and change it to an Exam-based schedule for Step. This switches Osmosis into a high-volume study mode.</div></div></div></div><div data-bind=\"visible: selected() == &quot;study-schedule&quot;\"><h3>Automated Study Schedule</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield:</b> Look just below the \"How do I...\" block to the right. Try playing around with the settings there.</div></div><div><b>Study Schedules are probably the most important thing to configure on Osmosis. You can create a different schedule based on how close you are to the Step exam. We recommend playing around with the schedule settings and then returning to them in a few days once you get the hang of how those settings are fitting into your study routine.</b></div></div></div><div data-bind=\"visible: selected() == &quot;answer-questions&quot;\"><h3>Here are ways to answer questions/facts</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield:</b> Just scroll down. You'll find plenty of questions. When you want to pick specific topics or filter by accuracy/confidence, come back here and read this FAQ.</div></div><div class=\"mtl\"><h4>1. Use the Review Feed on this page</h4><div><b>(Recommended)</b> The review feed integrates content from all sources you have access to on Osmosis (Osmosis questions, publisher questions, classmate-created questions) into one single place. Scroll through to find things that seem relevant to what you're learning in class. Use the search bar and document uploading to help Osmosis hone in on what you're learning in class.</div></div><div class=\"mtl\"><h4>2. Click the QBanks icon <i class=\"fa fa-graduation-cap\"/> on the main menu</h4><div>Qbanks contain questions written by Osmosis and publishing partners. Since these questions are answered by 1000s of medical students, you can also use them to gauge your percentile rank compared to everyone (see Study Progress).</div></div><div class=\"mtl\"><h4>3. Click the Study Modules icon <i class=\"fa fa-users\"/> on the main menu</h4><div>This will let you create and answer questions you write and that your classmates or instructors write. Documents you upload to the Review Feed will show up in Study Modules and you can write questions directly on slides. Study Modules will be empty if no questions have been written at your school yet.</div></div></div></div><div data-bind=\"visible: selected() == &quot;create-questions&quot;\"><h3>Creating questions</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield:</b> Just click Study Modules <i class=\"fa fa-users\"/> and look for \"Create Questions\" (if you get confused, come back here)</div></div><div>To create questions you need:</div><ul><li>A school group</li><li>A study module to put them in</li><li>(Recommended, but not required) Course documents to attach them to</li></ul><div>Once you have these things:</div><ul><li>Click on any thumbnail for a document and look for the Create tab</li><li>OR Go to \"Create Questions\" to just add questions to a pool</li></ul></div></div><div data-bind=\"visible: selected() == &quot;create-flashcards&quot;\"><h3>Creating flashcards</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield:</b> Flashcards are similar to questions. Wherever you see a \"Questions\" tab, look for a corresponding \"Flashcards\" tab.</div></div></div></div><div data-bind=\"visible: selected() == &quot;track-progress&quot;\"><h3>Progress Tracking</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield:</b> Click \"Progress\" on the left navigation menu.</div></div></div></div><div data-bind=\"visible: selected() == &quot;upload-docs&quot;\"><h3>Uploading Docs</h3><div class=\"mlm\"><div class=\"alert alert-success\"><div><b>High Yield:</b> See \"Populate Review Feed by Uploading Documents\" below. Select an <u>event time</u> and then drag and drop documents.</div></div><div>Osmosis uses machine learning algorithms to read your course docs and select facts you need to know. The algorithm tends to be very conservative so you should also click on the hyperlinks in the Review Feed to see if there are more facts for a specific topic that are relevant to what you're learning in class.</div></div></div></div></div></div>"}),deftmp("ui.DashboardNewsfeed",{template:"<div class=\"ui-DashboardNewsfeed\"><div class=\"posts\"></div><div class=\"ajax-div\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"width:50px\" class=\"center\"></div></div>"}),deftmp("ui.DashboardScheduleCalendar",{template:"<div class=\"ui-DashboardScheduleCalendar\"><div class=\"row center\"><div class=\"col-md-6 colA\"></div><div class=\"col-md-6 colB\"></div></div></div>"}),deftmp("ui.DashboardStatusBar",{template:"<div class=\"ui-DashboardStatusBar ui-GroupStatusBar\"><div class=\"status-items statusBar-section\"></div><div class=\"statusBar-cta statusBar-section\"></div></div>"}),deftmp("ui.DashboardStudyPreferences",{template:"<div class=\"ui-DashboardStudyPreferences\"><div class=\"banner-head\"><h3>Study Preferences</h3><div data-bind=\"toggle: editing, visible:!editing()\" class=\"rounded-btn rounded-btn-warning rounded-btn-sm mls edit-btn\"> <span>Edit</span></div></div><div class=\"sidetab-content\"><div data-bind=\"visible: !editing()\"><div class=\"pref-section hidden\"><div class=\"fwb\"><i class=\"fa fa-th-large mrs\"></i> New Flashcard Rate</div><div class=\"value\"><span data-bind='text: fcRate'/>/day</div></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-th-large mrs\"></i> Repetition Rate</div><div class=\"fwb\"></div><div class=\"value\">Automatically set</div></div><div class=\"pref-section hidden\"><div class=\"fwb\"><i class=\"fa fa-question-circle mrs\"></i> Question Rate</div><div class=\"value\"><span data-bind='text: quesRate'/>/day</div></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-mobile-alt mrs\"></i> Mobile Push</div><div data-bind=\"text: push.pushEnabled() == 1 ? &quot;on&quot; : &quot;off&quot;\" class=\"value\"></div></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-mobile-alt mrs\"></i> Push Mode</div><div data-bind=\"text: push.pushModeFormatted\" class=\"value\"></div></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-mobile-alt mrs\"></i> Push Order</div><div data-bind=\"text: push.pushOrderFormatted\" class=\"value\"></div></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-envelope mrs\"></i> Reminder Emails</div><div data-bind=\"text: push.finalEmail() == &quot;yes&quot; ? &quot;on&quot; : &quot;off&quot;\" class=\"value\"></div></div></div><div data-bind=\"visible: editing\"><div class=\"pref-section hidden\"><div class=\"fwb\"><i class=\"fa fa-th-large mrs\"></i> New Flashcard Rate</div><select data-bind=\"value: fcRate\"><option value=\"0\">0</option><option value=\"25\">25</option><option value=\"50\">50</option><option value=\"100\">100</option><option value=\"150\">150</option><option value=\"200\">200</option><option value=\"250\">250</option></select><span class=\"fp80\"> per day*</span><div class=\"tinytext\">*The actual number of flashcards per day will be higher than the number you set above because of spaced repetition of older cards.</div></div><div class=\"pref-section hidden\"><div class=\"fwb\"><i class=\"fa fa-question-circle mrs\"></i> Question Rate</div><select data-bind=\"value: quesRate\"><option value=\"0\">0</option><option value=\"2\">2</option><option value=\"5\">5</option><option value=\"10\">10</option><option value=\"15\">15</option><option value=\"20\">20</option><option value=\"25\">25</option><option value=\"50\">50</option></select><span class=\"fp80\"> per day</span></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-mobile-alt mrs\"></i> Mobile Push</div><select data-bind=\"value: push.pushEnabled\"><option value=\"1\">on</option><option value=\"0\">off</option></select></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-mobile-alt mrs\"></i> Push Mode</div><select data-bind=\"value: push.pushMode\"><option value=\"minimum\">Minimum</option><option value=\"timid\">Timid</option><option value=\"normal\">Normal</option><option value=\"persistent\">Persistent</option><option value=\"assertive\">Assertive</option><option value=\"epic\">Epic!</option></select><div data-bind=\"html: push.pushModeDescr\" class=\"tinytext\"></div></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-mobile-alt mrs\"></i> Push Order</div><select data-bind=\"value: push.pushOrder\"><option value=\"ques\">Questions first</option><option value=\"fc\">Flashcards first</option><option value=\"random\">Randomized</option></select></div><div class=\"pref-section\"><div class=\"fwb\"><i class=\"fa fa-envelope mrs\"></i> Reminder Emails</div><select data-bind=\"value: push.finalEmail\"><option value=\"yes\">on</option><option value=\"no\">off</option></select></div><div class=\"center\"><button data-bind=\"click: done\" class=\"btn btn-primary\">Done</button></div></div></div></div>"}),deftmp("ui.DataTable",{template:"<div class=\"ui-DataTable\"><table class=\"table user-data mtl\"><thead><tr><th>Subject</th><th>Category</th><th>Topic</th><th>Concept</th><th>Patient</th><th>Educational</th><th>Ques</th><th>TotalQues</th><th>FC</th></tr></thead><tbody data-bind=\"foreach: rows\"><tr data-bind=\"visible: visible\"><td data-bind=\"text: subject\"></td><td data-bind=\"text: category\"></td><td data-bind=\"text: topic\"></td><td><span data-bind=\"click: $root.removeConcept($data)\" class=\"close\">&times;</span><a href=\"\" data-bind=\"text: concept, attr: {href: url}\" target=\"_blank\"></a></td><td data-bind=\"text: patient\"></td><td data-bind=\"text: educational\"></td><td data-bind=\"text: ques\"></td><td data-bind=\"text: totalques\"></td><td data-bind=\"text: fc\"></td></tr></tbody></table></div>"}),deftmp("ui.DeckRow",{template:"<div data-bind=\"visible: totalCards() || author()==&quot;anyone&quot; || recentlyCreatedDecks[MID], css:{&quot;error&quot;:state()==3, &quot;failed&quot;:state()==4, &quot;import&quot;:state()==0}\" class=\"ui-DeckRow\"><div class=\"deck-body quiz-item-row\"><div data-bind=\"visible: hasSubdecks\" class=\"subdeck-toggle\"><i data-bind=\"visible: !subdecksVisible(), ajax:toggleSubdecks\" class=\"fa fa-plus\"></i><i data-bind=\"visible: subdecksVisible, ajax:toggleSubdecks\" class=\"fa fa-minus\"></i></div><div class=\"deck-section\"><div data-bind=\"css:deckTheme() || &quot;default&quot; \" class=\"quiz-object\"><i class=\"fi fi-flashcard-bolt\"></i><div data-bind=\"html:totalCardsLarge\" class=\"count\"></div><div data-bind=\"visible:hasAvatar\" class=\"avatars\"></div></div><div class=\"quiz-info deck-info\"><div class=\"name\"><span data-bind=\"visible: !hasSubdecks(), text: name\"></span><a href=\"\" data-bind=\"visible: hasSubdecks(), text: name, ajax: toggleSubdecks\"></a></div><div class=\"progress-count\"><div data-bind=\"visible: authors().length == 1, foreach: authors\" class=\"author\"><span>Author:&nbsp;</span><span data-bind=\"text: $data\"></span><span class=\"sep\">&#8226;</span></div><div data-bind=\"visible: authors().length &gt;= 2\" class=\"author\"><span><span data-bind='text: authors().length'/> Authors</span><span class=\"sep\">&#8226;</span></div><div data-bind=\"visible:completed() &gt; 0\" class=\"has-started\"><span data-bind=\"html:completed\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:totalCards\"></span><span>&nbsp;completed</span></div><div data-bind=\"visible:completed() == 0\" class=\"not-started\"><span data-bind=\"html:totalCards\"></span><span>&nbsp;</span><span>Flashcards</span></div><div data-bind=\"visible:dueCards() &gt; 0\" class=\"cards-due\"><span class=\"sep\">&#8226;</span><a href=\"\" data-bind=\"ajax: startQuiz(&quot;due&quot;)\" class=\"due-tooltip\"><span data-bind=\"html:dueCards\"></span><span>&nbsp;due</span></a></div></div><div class=\"progress-bar\"><div data-bind=\"style:{width: percentCorrect()+&quot;%&quot;}\" class=\"correct\"></div><div data-bind=\"style:{width: percentIncorrect()+&quot;%&quot;}\" class=\"incorrect\"></div></div><div data-bind=\"visible: totalCards() &amp;&amp; actionsVisible()\" class=\"add-cards\"><a href=\"\" data-bind=\"click: addCard\">create cards</a></div></div></div><div data-bind=\"visible:actionsVisible\" class=\"deck-actions\"><div data-bind=\"visible: totalCards, ajax:startQuiz(&quot;total&quot;)\" class=\"deck-action start\"><span>Start</span></div><div data-bind=\"visible: window.hasSharing &amp;&amp; totalCards(), click:share\" class=\"deck-action share\"><span>Share</span></div><div data-bind=\"visible: !totalCards(), click:addCard\" class=\"deck-action share\"><span>Create Cards</span></div><div class=\"deck-action more\"><span><i>&#8226;</i><i>&#8226;</i><i>&#8226;</i></span><div class=\"options-dropdown\"><div data-bind=\"visible: isDocDeck, click:customize\" class=\"options-item\"><span>Filter by calendar/source</span></div><div data-bind=\"click:browse\" class=\"options-item\"><span>Browse/Create Cards</span></div><div data-bind=\"click:saveToQueue\" class=\"options-item\"><span>Save Deck to Queue</span></div><div data-bind=\"click:removeFromQueue\" class=\"options-item\"><span>Remove from Queue</span></div><div data-bind=\"visible: name()!=&quot;Documents&quot;, click:moveDeck\" class=\"options-item\"><span>Move Deck</span></div><div data-bind=\"visible: name()!=&quot;Documents&quot;, click:rename\" class=\"options-item\"><span>Rename</span></div><div data-bind=\"click:archive, visible: !window.groupID &amp;&amp; state()==1\" class=\"options-item\"><span>Archive</span></div><div data-bind=\"click:unarchive, visible: !window.groupID &amp;&amp; state()==2\" class=\"options-item\"><span>Unarchive</span></div><div data-bind=\"click:safeRemoveDeck\" class=\"options-item\"><span>Delete</span></div></div></div></div><div data-bind=\"visible:state()==0\" class=\"deck-errors import-msg\"><i class=\"fa fa-spinner fa-spin\"></i><div class=\"msg\">Processing deck...</div><div class=\"deck-import-actions error-actions\"><span data-bind=\"click:getDecks\" class=\"check\">check status</span><span class=\"sep\">|</span><span data-bind=\"click:removeDeck\" class=\"delete\">cancel</span></div></div><div data-bind=\"visible:state()==4\" class=\"deck-errors fail-msg\"><i class=\"fa fa-exclamation-triangle\"></i><div class=\"msg\">This deck failed to upload</div><div class=\"deck-fail-actions error-actions\"><span data-bind=\"click:removeDeck\" class=\"delete\">delete</span></div></div><div data-bind=\"visible:state()==3\" class=\"deck-errors errors-msg\"><i class=\"fa fa-exclamation-triangle\"></i><div class=\"msg\"><span data-bind='html:deckErrors()'/> cards had errors and were dropped</div><div class=\"deck-error-actions error-actions\"><span data-bind=\"click:acceptImportErrors\" class=\"accept\">import anyway</span><span class=\"sep\">|</span><span data-bind=\"click:removeDeck\" class=\"delete\">delete deck</span></div></div></div><div class=\"subdecks\"></div></div>"}),deftmp("ui.Decks",{template:"<div data-bind=\"css: {pbxl: subdeck}\" class=\"ui-Decks\"><div data-bind=\"visible: folderIsActive\"><div class=\"quiz-body-section\"><div data-bind=\"visible:!hasActiveDecks() &amp;&amp; !hasArchivedDecks() &amp;&amp; !loading() &amp;&amp; !isUploading()\" class=\"no-deck\"><div data-bind=\"visible: !title()\"><div class=\"intro-helper\"><div class=\"osmobot\"><img src=\"/assets/images/image-assets/osmobot-quiz.png\"/></div><div class=\"message\"><div class=\"title\">No Decks Yet...</div><div class=\"explainer\">Create your first deck to get started</div></div></div><div data-bind=\"click: createDeck\" class=\"btn btn-purple btn-xxl mtm\"><i class=\"fa fa-plus\"></i>&nbsp;Create Deck</div><div data-bind=\"visible:isAnkiBeta, click:uploadDeck\" class=\"upload-deck\"><i class=\"fa fa-upload\"></i>&nbsp;Anki deck</div></div><div data-bind=\"visible: title\" class=\"well\"><div class=\"intro-helper\"><div class=\"message\"><div class=\"title\">No decks yet in your <span class=\"fwb\" data-bind='text: title'/> folder...</div><div class=\"explainer\">Create your first deck to get started</div></div></div><div data-bind=\"click: createDeck\" class=\"btn btn-purple mtm\"><i class=\"fa fa-plus\"></i>&nbsp;Create Deck in <span data-bind='text: title'/></div><div data-bind=\"visible:isAnkiBeta, click:uploadDeck\" class=\"upload-deck\"><i class=\"fa fa-upload\"></i>&nbsp;Anki deck</div></div></div><div data-bind=\"visible:hasActiveDecks() || hasArchivedDecks() || isUploading()\" class=\"has-deck\"><div class=\"main-actions\"><div data-bind=\"click: createDeck\" class=\"btn btn-purple\"><i class=\"fa fa-plus\"></i>&nbsp;Create New Deck <span data-bind='visible: title'>in <span data-bind='text: title'/></span></div><div data-bind=\"visible:isAnkiBeta, click:uploadDeck\" class=\"upload-deck\"><i class=\"fa fa-upload\"></i>&nbsp;Anki deck</div></div><div class=\"active-decks\"><h5 data-bind=\"visible: !title()\" class=\"section-title\">Current Decks</h5><div data-bind=\"css: {mll: subdeck}\"><div data-bind=\"visible:isUploading\" class=\"upload-deck-row\"><div class=\"upload-deck-dropzone\"></div><div data-bind=\"click:closeDeckUpload\" class=\"cancel-upload\">cancel</div></div><div class=\"deck-list\"></div></div></div><div data-bind=\"visible: hasArchivedDecks\" class=\"archived-decks\"><h5 class=\"section-title\">Archived Decks</h5><div class=\"deck-list\"></div></div></div></div></div><div data-bind=\"visible: !folderIsActive()\"><div data-bind=\"ajax: activateFolder\" class=\"well clickable\"><div class=\"center\"><div data-bind=\"visible: archivedDate\" class=\"fp80\">decks stored here were archived after your exam on <span data-bind='text: archivedDate'/></div><a href=\"#\">Click here to view archived decks in <span data-bind='text: title'/></a></div></div></div></div>"}),deftmp("ui.DemoTodoLecture",{template:"<div class=\"ui-DemoTodoLecture\"><div class=\"wrapper\"><div class=\"heading-section\"><div class=\"title-section\"><h2 class=\"center\">Sample Osmosis Lecture</h2></div><div class=\"action-section\"><div data-bind=\"click:closeDemo\" class=\"close-demo clickable\"><span>close</span><i class=\"fa fa-times-circle\"></i></div></div></div><div class=\"tour-section\"><div class=\"demo-todo\"><div class=\"day-event\"><div class=\"event-heading\"><div class=\"info no-select\"><div data-bind=\"click:markEvent\" class=\"checkbox-status\"><i class=\"square\"></i><i data-bind=\"visible:checked\" class=\"fa fa-check\"></i></div><div class=\"time\"><span data-bind=\"text:time\"></span></div></div><div class=\"title\"><h3 data-bind=\"text:title\"></h3><div data-bind=\"text:subtitle\" class=\"secondary\"></div></div><div class=\"action\"><div data-bind=\"click:edit\" class=\"action-item edit\"><i class=\"fa fa-pencil-alt\"></i><span>edit</span></div><div data-bind=\"click:attach\" class=\"action-item attach\"><i class=\"fa fa-paperclip fa-rotate-90\"></i><span>attach </span></div></div></div><div class=\"event-attachments\"> <div class=\"doc-concept-outline\"><div data-bind=\"css:currentTab()==&quot;Pathology&quot;?&quot;path&quot;:&quot;pharm&quot;\" style=\"\" class=\"cat-tabs\"><div data-bind=\"click:switchTab(&quot;Pathology&quot;), css: {active: currentTab()==&quot;Pathology&quot;}\" class=\"category-tab path\">Pathology</div><div data-bind=\"click: switchTab(&quot;Pharmacology&quot;), css: {active: currentTab()==&quot;Pharmacology&quot;}\" class=\"category-tab pharm\">Pharmacology</div></div><div data-bind=\"css:currentTab()==&quot;Pathology&quot;?&quot;path&quot;:&quot;pharm&quot;\" class=\"topics\"><div data-bind=\"foreach:pathTopics, visible:currentTab()==&quot;Pathology&quot;\" class=\"path-group\"><div class=\"topic-group\"><div class=\"heading\"><div class=\"info-section\"><i class=\"fa fa-caret-right\"></i><span data-bind=\"text:name\" class=\"topic-name\"></span></div></div><div data-bind=\"foreach:concepts\" class=\"concepts\"><div class=\"concept-wrapper\"><div class=\"status\"><input data-bind=\"attr:{value:progress}\" class=\"radial-progress\"/></div><div class=\"concept-info\"><a data-bind=\"text:name, click:$root.openConceptCard, style:{&quot;font-size&quot;:fontSize}\" class=\"concept-name\"></a><div class=\"hit-count\"><span data-bind=\"text:hits + &quot; hits&quot;\"></span></div></div><div class=\"concept-action\"><a data-bind=\"click:$root.actionClick(action)\" class=\"watch-link\"><span data-bind=\"text:action\"></span><i data-bind=\"css:{&quot;fa-video&quot;:action==&quot;watch&quot;,&quot;fa-book&quot;:action==&quot;read&quot;}\" class=\"mls fa\">     </i></a></div></div></div></div></div><div data-bind=\"foreach:pharmTopics, visible:currentTab()==&quot;Pharmacology&quot;\" class=\"pharm-group\"><div class=\"topic-group\"><div class=\"heading\"><div class=\"info-section\"><i class=\"fa fa-caret-right\"></i><span data-bind=\"text:name\" class=\"topic-name\"></span></div></div><div data-bind=\"foreach:concepts\" class=\"concepts\"><div class=\"concept-wrapper\"><div class=\"status\"><input data-bind=\"attr:{value:progress}\" class=\"radial-progress\"/></div><div class=\"concept-info\"><a data-bind=\"text:name, click:$root.openConceptCard, style:{&quot;font-size&quot;:fontSize}\" class=\"concept-name\"></a><div class=\"hit-count\"><span data-bind=\"text:hits\"></span></div></div><div class=\"concept-action\"><a data-bind=\"click:$root.actionClick(action)\" class=\"watch-link\"><span data-bind=\"text:action\"></span><i data-bind=\"css:{&quot;fa-video&quot;:action==&quot;watch&quot;,&quot;fa-book&quot;:action==&quot;read&quot;}\" class=\"mls fa\"></i></a></div></div></div></div></div></div></div><div class=\"thumbnails\"><div data-bind=\"foreach:thumbnails\" class=\"thumbs-list\"><div class=\"doc no-select\"><div><div class=\"thumb\"><a href=\"\" data-bind=\"click:$root.clickDoc\" class=\"thumb-container\"><img src=\"\" data-bind=\"attr:{src:src}\" class=\"docShadow\"/></a></div><div class=\"actions\"><a href=\"\" data-bind=\"click:$root.studyDoc()\" class=\"open rounded-btn rounded-btn-default rounded-btn-sm study-doc-button\"><span>Study</span></a><a href=\"\" data-bind=\"click:$root.selectQuiz()\" class=\"quiz rounded-btn rounded-btn-purple rounded-btn-sm select-quiz-button\"><span>Select Quiz    </span></a></div></div></div></div></div></div></div></div></div></div><div class=\"center\"><button data-bind=\"click: getStarted\" class=\"btn btn-primary btn-lg mtm\">Get Started</button></div></div>"}),deftmp("ui.DocControls",{template:"<div class=\"ui-DocControls\"><div class=\"nav-list\"><a data-bind=\"visible: showGroupBtn, click: closeTab\" class=\"btn btn-sm btn-default\"><i class=\"fa fa-times mrm\"></i><span class=\"hidden-xs\">Close</span></a><a data-bind=\"click: showNotes\" class=\"btn btn-sm btn-warning mlm\"><span class=\"hidden-xs\">Review Notes</span><span class=\"hidden-lg hidden-md hidden-sm\">Notes</span><i class=\"fa fa-sign-in-alt mlm\"></i></a><a data-bind=\"click: reviewFlashcards\" class=\"btn btn-sm btn-success mlm hidden\"><span class=\"hidden-xs\">Quiz Yourself</span><span class=\"hidden-lg hidden-md hidden-sm\">Quiz</span><i class=\"fa fa-sign-in-alt mlm\"></i></a></div><div class=\"controls-list\"><a href=\"#\" data-bind=\"click: toggleViewerFullscreen\" class=\"control-item\"><i class=\"fa fa-crosshairs\"></i><span data-bind=\"html: viewerFullscreenLabel\"></span></a><a href=\"#\" data-bind=\"click: showShortcuts\" class=\"control-item\"><i class=\"fa fa-keyboard\"></i><span>Shortcuts    </span></a><a href=\"#\" data-bind=\"click:toggleDocWidth,css:{active:docFullWidthActive()}\" class=\"doc-width-control control-item\"><i class=\"fa fa-columns\"></i><span data-bind=\"html: docWidthLabel\"></span></a></div></div>"}),deftmp("ui.DocHighlightControls",{template:"<div class=\"ui-DocHighlightControls\"><div data-bind=\"click:enableCursor, css:{active:!brushEnabled() &amp;&amp; !editActive()}\" class=\"toolbarButton cursor-btn\"><i class=\"fa fa-mouse-pointer\"></i></div><div data-bind=\"click:togglePen, css:{active:currentType()==&quot;pen&quot; &amp;&amp; brushEnabled}\" class=\"toolbarButton pen-btn\"><i class=\"fa fa-pencil-alt\"></i><i data-bind=\"css:currentPenColor().name\" class=\"color-line\"></i></div><div data-bind=\"click:toggleHighlighter, css:{active:currentType()==&quot;highlight&quot; &amp;&amp; brushEnabled}\" class=\"toolbarButton highlighter-btn\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/e74ebc84c2123f070e623cc47368900c9cabb299.png\"><i data-bind=\"css:currentHighlighterColor().name\" class=\"color-line\"></i></div><div data-bind=\"click:toggleEdit, css:{active:editActive}\" class=\"toolbarButton eraser-btn\"><i class=\"fa fa-eraser\"></i></div><div data-bind=\"visible:highlighterDropdownVisible\" class=\"highlighter-dropdown secondaryToolbar doorHangerRight\"><div data-bind=\"visible: visible &amp;&amp; !locked()\"><div class=\"brush-title\">Highlighter</div><div class=\"brush-color\"><ul data-bind=\"foreach:highlighterColorArray\"><li data-bind=\"css:{active:$parent.currentHighlighterColor().name == name}, click:$parent.handleSetColor(name,&quot;highlight&quot;)\"><span data-bind=\"css:name\"></span></li></ul></div><div class=\"brush-size\"><ul><li data-bind=\"css:{active:currentHighlighterSize() == &quot;fine&quot;} , click:handleSetBrush(&quot;fine&quot;,&quot;highlight&quot;)\"><span class=\"brush-label\">Small</span><span class=\"size-icon small-highlighter\"></span></li><li data-bind=\"css:{active:currentHighlighterSize() == &quot;medium&quot;} , click:handleSetBrush(&quot;medium&quot;,&quot;highlight&quot;)\"><span class=\"brush-label\">Medium</span><span class=\"size-icon medium-highlighter\"></span></li><li data-bind=\"css:{active:currentHighlighterSize() == &quot;large&quot;} , click:handleSetBrush(&quot;large&quot;,&quot;highlight&quot;)\"><span class=\"brush-label\">Large</span><span class=\"size-icon large-highlighter\"></span></li></ul></div><div class=\"brush-custom\"><div data-bind=\"css:{on:lineHighlighter,off:!lineHighlighter()}, click:toggleLineHighlighter\" class=\"toggle-input\"></div><span data-bind=\"click:toggleLineHighlighter\" class=\"toggle-label\">Simple Highlighter</span></div></div><div data-bind=\"visible: !visible() &amp;&amp; !locked()\"><div class=\"mvl\"><div class=\"center\">Use the mobile app for smoother annotations while on an iPad.</div><a style=\"color: gray\" data-bind=\"toggle: visible\" class=\"center mtl\">I want to use the browser</a></div></div><div data-bind=\"visible:locked\" class=\"prime-lock\"><div class=\"title\">Upgrade to Osmosis Prime</div><div class=\"explain\">Subscribe to Osmosis Prime and unlock document highlighting!</div><div class=\"cta\"><a data-bind=\"click:purchasePrime\" class=\"btn btn-primary\">Upgrade to Osmosis Prime</a></div></div></div><div data-bind=\"visible:penDropdownVisible\" class=\"pen-dropdown secondaryToolbar doorHangerRight\"><div data-bind=\"visible: visible &amp;&amp; !locked()\"><div class=\"brush-title\">Pen</div><div class=\"brush-color\"><ul data-bind=\"foreach:penColorArray\"><li data-bind=\"css:{active:$parent.currentPenColor().name == name}, click:$parent.handleSetColor(name,&quot;pen&quot;)\"><span data-bind=\"css:name\"></span></li></ul></div><div class=\"brush-size\"><ul><li data-bind=\"css:{active:currentPenSize() == &quot;fine&quot;} , click:handleSetBrush(&quot;fine&quot;,&quot;pen&quot;)\"><span class=\"brush-label\">Small</span><span class=\"size-icon small-pen\"></span></li><li data-bind=\"css:{active:currentPenSize() == &quot;medium&quot;} , click:handleSetBrush(&quot;medium&quot;,&quot;pen&quot;)\"><span class=\"brush-label\">Medium</span><span class=\"size-icon medium-pen\"></span></li><li data-bind=\"css:{active:currentPenSize() == &quot;large&quot;} , click:handleSetBrush(&quot;large&quot;,&quot;pen&quot;)\"><span class=\"brush-label\">Large</span><span class=\"size-icon large-pen\"></span></li></ul></div><div class=\"brush-custom\"><div data-bind=\"css:{on:penVelocity,off:!penVelocity()}, click:togglePenVelocity\" class=\"toggle-input\"></div><span data-bind=\"click:togglePenVelocity\" class=\"toggle-label\">Ink Pen</span></div></div><div data-bind=\"visible: !visible() &amp;&amp; !locked()\"><div class=\"mvl\"><div class=\"center\">Use the mobile app for smoother annotations while on an iPad.</div><a style=\"color: gray\" data-bind=\"toggle: visible\" class=\"center mtl\">I want to use the browser</a></div></div><div data-bind=\"visible:locked\" class=\"prime-lock\"><div class=\"title\">Upgrade to Osmosis Prime</div><div class=\"explain\">Subscribe to Osmosis Prime and unlock document highlighting!</div><div class=\"cta\"><a data-bind=\"click:purchasePrime\" class=\"btn btn-primary\">Upgrade to Osmosis Prime</a></div></div></div></div>"}),deftmp("ui.DocPlaylist",{template:"<div class=\"ui-DocPlaylist concept-checklist\"><div class=\"primary-section\"><div class=\"checkbox-section clickable\"></div><div class=\"title-section\"><div class=\"topic-tile\"><div class=\"tile\"></div></div><span data-bind=\"text: name\"></span></div><div class=\"topic-right-section\"><div class=\"topic-actions\"><div data-bind=\"click: studyTile\" class=\"action study\">Study</div><div data-bind=\"ajax: selectQuiz(&quot;fc&quot;)\" class=\"action quiz ajax-progress\">Quiz</div></div><div class=\"topic-status\"><input data-bind=\"attr:{value:topicProgress, color: topicProgressColor, title: topicProgressHint}\" class=\"progress-radial topic-progress\"/><span class=\"progress-digital topic-progress-label\"><span data-bind=\"html:topicProgress\"></span><span class=\"symbol\">%</span></span></div></div></div><div data-bind=\"foreach: concepts, visible:concepts().length &gt;= 1\" class=\"concepts\"><div data-bind=\"css: {nobullet: $index()==$root.concepts().length-1}\" class=\"concept\"><div data-bind=\"click:$root.toggleConceptCheckbox($data)\" class=\"checkbox-section clickable\"><i class=\"square\"></i><i data-bind=\"visible:checked\" class=\"fa fa-check\"></i></div><div class=\"concept-name\"><a href=\"\" data-bind=\"html: name, click: $root.openConcept($data)\"></a><span class=\"hits\"><span data-bind='html:hits'/> <span data-bind='visible: docs'> in <span data-bind='html:docs'/></span></span></div><div class=\"concept-right-section\"><div class=\"concept-actions\"><div data-bind=\"click: $root.openConcept($data)\" class=\"action study\">Study</div><div data-bind=\"click: $root.takeConceptQuiz($data), style: {color: available == 0 ? &quot;gray&quot; : &quot;&quot;}\" class=\"action quiz\">Quiz</div></div><div data-bind=\"click: $root.openVideo($data), css:{visible:thumb}\" class=\"concept-media\"><img data-bind=\"attr: {src: thumb}\"/><div class=\"play-overlay\"><i class=\"fa fa-play\"></i></div></div><div class=\"concept-status\"><input data-bind=\"attr:{value:progress, color: color}\" class=\"progress-radial concept-progress\"/><span data-bind=\"visible: progress != null, attr: {title: title}\" class=\"progress-digital concept-progress-label\"><span data-bind=\"html:progress\"></span><span class=\"symbol\">%</span></span></div></div></div></div><div data-bind=\"visible:checkedConcepts().length &gt;= 1\" class=\"concepts-index checked-concepts\"><h3>Concepts Already Learned</h3><div data-bind=\"foreach: checkedConcepts\" class=\"concept-list\"><div data-bind=\"css: {nobullet: $index()==$root.concepts().length-1}\" class=\"concept\"><div class=\"concept-name\"><i data-bind=\"click:$root.toggleConceptCheckbox($data)\" class=\"fa fa-check\"></i><a href=\"\" data-bind=\"html: name, click: $root.openConcept($data)\"></a></div></div></div><div class=\"list-actions concept-actions\"><div data-bind=\"click:studyCheckedConcepts\" class=\"action study\">Study</div><div data-bind=\"click:quizCheckedConcepts\" class=\"action quiz\">Quiz</div></div></div></div>"}),deftmp("ui.DocSearchResults",{template:"<div class=\"ui-DocSearchResults\"><div class=\"panel blue\"><div class=\"panel-heading\"><p data-bind=\"html: title\"></p></div><div class=\"panel-body\"><div data-bind=\"html: occurrences\"></div><div data-bind=\"foreach: pages\"><div class=\"lfloat mhm mvm\"><a href=\"#\" data-bind=\"attr: {href:docURL}\" class=\"svg-link tabNavLink\"><object style=\"max-width:300px;max-height:300px\" data-bind=\"attr:{data:url}\" type=\"image/svg+xml\"></object></a></div></div></div></div></div>"}),deftmp("ui.DocUploader",{template:"<div class=\"ui-DocUploader mvm\"><div class=\"readyUploader\"><div class=\"DocDragDropTarget DragDrop fwb uploaderBox\"></div><button class=\"DocFromFileTrigger btn btn-default\">Browse</button></div><div class=\"busyUploader hidden\"><div class=\"uploaderBox no-drop\"><div class=\"progress processingBar\"><div role=\"progressbar\" class=\"progress-bar active progress-bar-striped progress-bar-warning\"><span class=\"sr-only DocUploadProgress\"></span></div></div></div></div></div>"}),deftmp("ui.DocUserAvatar",{template:"<div data-bind=\"visible:visible, css:{active:active, &quot;not-followed&quot;:notFollowing}, click:click\" class=\"ui-DocUserAvatar\"><div data-bind=\"visible:type != &quot;osmosis&quot;\" class=\"avatar\"></div><div data-bind=\"visible:type == &quot;osmosis&quot;\" class=\"osmosis-avatar\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3cbe3ffd685917d6e2a989236fe5ddef067120ea.png\"></div><div data-bind=\"visible:showBadge\" class=\"notification-badge\"><span data-bind=\"html:count\"></span></div></div>"}),deftmp("ui.DocUserContentCard",{template:"<div data-bind=\"visible: visible, event: {mouseover:toggleSpacebarHint(true), mouseout:toggleSpacebarHint(false)}\" class=\"ui-DocUserContentCard\"><div data-bind=\"visible: !isFollowing() &amp;&amp; collapsed(), css:theme\" class=\"panel menu-panel collapsed-panel\"><div class=\"panel-heading\"><div class=\"heading\"><div data-bind=\"click: expandClassmate\" class=\"clickable classmate-info lfloat\"><span data-bind=\"text: user\"></span><span> created&nbsp;</span><span data-bind=\"visible: flashcardBadge()\"><span data-bind='text: flashcardBadge'/> <span data-bind='text: flashcardBadge() == 1 ? \"card\" : \"cards\"'/></span><span data-bind=\"visible: questionBadge()\" class=\"mls\"><span data-bind='text: questionBadge'/> <span data-bind='text: questionBadge() == 1 ? \"question\" : \"questions\"'/></span></div><a data-bind=\"click:followClassmate, attr: {title: &quot;Follow to always see content &quot;+firstName()+&quot; creates (you can unfollow at any time)&quot;}\" class=\"classmate-action rfloat btn btn-sm btn-dark tip\"><i class=\"fa fa-check-circle\"></i>&nbsp;Follow</a><div class=\"clearfix\"> </div></div></div></div><div data-bind=\"visible: isFollowing() || !collapsed(), css:theme\" class=\"panel menu-panel expanded\"><div class=\"panel-heading\"><div class=\"heading\"><p data-bind=\"text:heading\">Your Content</p><a data-bind=\"visible: isClassmate() &amp;&amp; isFollowing(), click:hideClassmate\" class=\"classmate-action btn btn-sm btn-dark\"><i class=\"fa fa-ban\"></i>&nbsp;Hide</a><a data-bind=\"visible: isClassmate() &amp;&amp; !isFollowing(), click:followClassmate\" class=\"classmate-action btn btn-sm btn-dark\"><i class=\"fa fa-check-circle\"></i>&nbsp;Follow</a><p data-bind=\"text:subHeading\" class=\"explain\">Questions and flashcards created by you</p></div><div class=\"menu\"><ul class=\"main-menu\"><li><a data-bind=\"click:showTab(&quot;flashcards&quot;), css:{selected:showingStatus()==&quot;flashcards&quot;}\" href=\"#\">Flashcards <span data-bind='visible: flashcardBadge(), text: flashcardBadge' class=\"badge\"/></a></li><li><a data-bind=\"click:showTab(&quot;questions&quot;), css:{selected:showingStatus()==&quot;questions&quot;}\" href=\"#\">Questions <span data-bind='visible: questionBadge(), text: questionBadge' class=\"badge\"/></a></li><li><a data-bind=\"click:showTab(&quot;comment-edit&quot;), css:{selected:showingStatus()==&quot;comment-edit&quot;}\" href=\"#\">Comment/Edit</a></li></ul></div></div><div data-bind=\"visible: showingStatus()==&quot;flashcards&quot; || showingStatus()==&quot;questions&quot;\" class=\"panel-body\"><div data-bind=\"visible:showingStatus()==&quot;flashcards&quot;\" class=\"flashcards\"><div class=\"ui-QuickFlashcardBrowser\"></div></div><div data-bind=\"visible:showingStatus()==&quot;questions&quot;\" class=\"questions\"><div class=\"slide-user-ques\"></div></div></div></div><div data-bind=\"visible:showingStatus()==&quot;comment-edit&quot;\" class=\"comment-edit\"></div></div>"}),deftmp("ui.Dropdown",{template:"<div data-bind=\"click: toggleDropdown, clickBubble: false\" class=\"ui-Dropdown\"><div data-bind=\"css: { open: dropdownOpen }\" class=\"select-box\"><div data-bind=\"text: selectedDisplay\" class=\"selected-text\"></div><div data-bind=\"css: { flipped: dropdownOpen }\" class=\"fas fa-fw fa-chevron-down\"></div></div><div data-bind=\"foreach: options, fadeVisible: dropdownOpen, fadeDirection: 'down', style: { 'z-index': zIndex }\" class=\"select-dropdown\"><div data-bind=\"text: $root.optionDisplay($data), click: $root.selectOption($index), clickBubble: false\" class=\"select-option\"></div></div><select data-bind=\"options: options,    optionsText: optionsText,    optionsValue: optionsValue,    value: value,    optionsCaption: placeholder\"></select></div>"}),deftmp("ui.EditEventDialog",{template:"<div class=\"ui-EditEventDialog\"><form accept-charset=\"utf-8\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Title</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:parent.event.title\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Instructor</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:parent.event.instructor\"/></div></div></form></div>"}),deftmp("ui.EditableContentTable",{template:"<div class=\"ui-EditableContentTable mbl\"><div data-bind=\"visible: !editing(), text: title, click: edit\" class=\"clickable\"></div><div data-bind=\"visible: editing() &amp;&amp; !isHeading\"><input type=\"text\" required=\"required\" data-bind=\"value: title\" style=\"min-width:200px\" class=\"form-control\"/></div><table class=\"mts\"></table></div>"}),deftmp("ui.EditableFlashcardList",{template:"<div class=\"ui-EditableFlashcardList\"><div class=\"mtm\"><div class=\"row\"><div class=\"col-md-4\"></div><div class=\"col-md-offset-1 col-md-4\"></div><div class=\"col-md-2\"><button data-bind=\"ajax: saveAll\" title=\"Cmd+Shift+S\" class=\"btn btn-default btn-sm tip\">Save All</button></div></div></div><div class=\"flashcards\"></div><div class=\"new-flashcard\"></div><button data-bind=\"visible: !createBlock() &amp;&amp; !selectable(), click: add\" class=\"btn btn-default btn-sm\">Add</button></div>"}),deftmp("ui.EditableFlashcardRow",{template:"<div class=\"ui-EditableFlashcardRow\"><div data-bind=\"visible: !editing()\" class=\"row view\"><div data-bind=\"click: edit\" class=\"col-md-4 front multiline clickable\"></div><div data-bind=\"click: edit\" class=\"col-md-offset-1 col-md-4 back multiline clickable\"></div><div class=\"col-md-2\"><div data-bind=\"visible: !selectable()\" class=\"move-btns\"><i data-bind=\"click: move(&quot;Flashcards&quot;)\" title=\"Move to published &quot;Flashcards&quot; tab\" class=\"fa fa-th tip mlm clickable\"></i><i data-bind=\"click: move(&quot;Sideline FC&quot;)\" title=\"Move to &quot;FC Sideline&quot; tab\" class=\"fas fa-code-branch tip mlm clickable\"></i><i data-bind=\"click: move(&quot;Discard FC&quot;)\" title=\"Move to &quot;FC Discard&quot; tab\" class=\"fa fa-trash-alt tip mlm clickable\"></i></div><div data-bind=\"visible: !selectMultipleConcepts() &amp;&amp; altConcepts().length &gt; 1\" class=\"associations fp80\"><div class=\"fcr\">This card is linked to multiple concepts. Select the primary concept <span class=\"fcg\">(or <a href=\"\" data-bind=\"click: searchForConcept\">search</a> or <a href=\"\" data-bind=\"toggle: selectMultipleConcepts\">multi select</a>)</span>:</div><div data-bind=\"foreach: altConcepts\"><div><a href=\"\" data-bind=\"text: $data, ajax: $root.setPrimary($data)\"></a></div></div><div><a href=\"\" data-bind=\"ajax: setPrimary(&quot;none&quot;)\">None</a></div></div><div data-bind=\"visible: selectMultipleConcepts\" class=\"associations fp80\"><div class=\"fcr\"><b>Remove the incorrect matches</b> <span class=\"fcg\">(or <a href=\"\" data-bind=\"click: searchForConcept\">search</a> or <a href=\"\" data-bind=\"toggle: selectMultipleConcepts\">single select</a>)</span>:</div><div data-bind=\"foreach: altConcepts\"><div><span href=\"\" data-bind=\"text: $data\"></span><a data-bind=\"ajax: $root.removeConcept($data)\" class=\"fcg mls\">&times;</a></div></div><div><a href=\"\" data-bind=\"ajax: finalizeMatches\" class=\"fwb\">Finalize Matches</a></div></div><div data-bind=\"visible: selectable\" class=\"select\"><a data-bind=\"toggle: selected, css: {active: selected}\" class=\"btn btn-md btn-outline btn-primary\"><i class=\"fa fa-check\"></i><span>Select</span></a></div><div data-bind=\"visible: node.nodeID\"><div><a href=\"\" data-bind=\"attr: {href: &quot;editcontent?n=&quot;+node.nodeID+&quot;&amp;show=rev&quot;}\" target=\"_blank\" class=\"fp80 fcg\">History</a></div><div><a href=\"\" data-bind=\"visible: altConcepts().length &lt;= 1, click: searchForConcept\" target=\"_blank\" class=\"fp80 fcg\">Change Concept</a></div><div><a href=\"\" data-bind=\"click: addTag\" class=\"fp80 fcg\">Add Tags</a></div></div><div data-bind=\"foreach: tags\"><div data-bind=\"text: tag, css: group\" class=\"content-tools-tag\"></div></div></div></div><div data-bind=\"visible: editing\" class=\"row edit\"><div class=\"col-md-4 front multiline\"></div><div class=\"col-md-offset-1 col-md-4 back multiline\"></div><div class=\"col-md-2\"><div><span>Tags&nbsp;</span><a href=\"\" data-bind=\"click: addTag\" class=\"fp80 fcg\">add</a></div><div data-bind=\"foreach: tags\"><div data-bind=\"text: tag, css: group\" class=\"content-tools-tag\"></div></div><div class=\"mtm\"><button data-bind=\"ajax: save, text: saveBtnCaption\" class=\"btn btn-primary btn-sm\"></button><button data-bind=\"click: cancel\" class=\"btn btn-default btn-sm mls\">Cancel</button></div></div></div></div>"}),deftmp("ui.EditableModule",{template:"<div class=\"ui-EditableModule\"><div data-bind=\"visible: isNew\"><div class=\"center\"><h3><i class=\"fa fa-folder-open\"></i> Create a new folder</h3></div><div class=\"center fp80\">Folders organize docs, questions, and flashcards so you can use them to study for your exam</div></div><div data-bind=\"visible: !isNew()\"><div class=\"center\"><h3>Edit Folder</h3></div></div><form style=\"width:100%\" class=\"form-horizontal mtl\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Course Name</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:module.name\" placeholder=\"(The name of your upcoming exam)\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start Date</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:module.startsOn\" style=\"min-width:200px\" placeholder=\"(When this course started)\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Exam Date</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value:module.examDate\" style=\"min-width:200px\" placeholder=\"(When this course ends)\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Topic/Topics</label><div class=\"col-md-8\"><div class=\"topicSelect multiple\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Description</label><div data-bind=\"visible: !wantsDescr()\" style=\"margin-top:7px\" class=\"col-md-8\"><a href=\"\" data-bind=\"toggle: wantsDescr\" class=\"fp80\">Optional</a></div><div data-bind=\"visible: wantsDescr\" class=\"col-md-8\"><textarea type=\"text\" data-bind=\"value:module.descr\" style=\"width:100%; height:100px\"></textarea></div></div><div style=\"margin-bottom:10px\" data-bind=\"visible: !isNew() &amp;&amp; role &gt; 0 &amp;&amp; role &lt;= 2\" class=\"form-group\"><label class=\"control-label col-md-4\"><div><a href=\"\" data-bind=\"ajax: remove\" class=\"fp80 fcg\">remove folder</a></div></label><div class=\"col-md-8\"></div></div><div style=\"margin-bottom:10px\" data-bind=\"visible: ADMIN.groups\" class=\"form-group\"><label class=\"control-label col-md-4\"><div><a href=\"\" data-bind=\"ajax: superRemove\" class=\"fp80 fcg\">super remove</a></div></label><div class=\"col-md-8\"></div></div></form></div>"}),deftmp("ui.EditableTopicTag",{template:"<div class=\"ui-EditableTopicTag\"><div data-bind=\"html: rootName\"></div><div data-bind=\"foreach: group\" class=\"mlm\"><div data-bind=\"css: {alpha20: join == &quot;auto&quot; || join == &quot;special&quot; || join == &quot;manual&quot;}\" class=\"mtm\"><div data-bind=\"html: tag\"></div><div data-bind=\"html: orig\"></div></div><div class=\"fp80\"><div data-bind=\"foreach: parts\"><a href=\"\" data-bind=\"click: $root.addToEdited($parent,$data), html: $data\" class=\"mll\"></a></div><div><input data-bind=\"visible: edited, value: edited\" class=\"form-control\"/></div><a href=\"\" data-bind=\"click: $root.save($root)\">Save</a></div></div></div>"}),deftmp("ui.EmptyStatusBar",{template:"<div class=\"ui-EmptyStatusBar ui-GroupStatusBar\"></div>"}),deftmp("ui.EventImportFilter",{template:"<div class=\"ui-EventImportFilter\"></div>"}),deftmp("ui.EventNotes",{template:"<div data-bind=\"visible: hasNotes\" class=\"ui-EventNotes\"><h1><span data-bind=\"text:event.title\"></span><span>&nbsp;</span><small data-bind=\"text:event.instructor\"></small></h1><div class=\"notesList\"></div><div class=\"mtl\">&nbsp;</div></div>"}),deftmp("ui.EventScroller",{template:"<div class=\"ui-EventScroller\"><div class=\"eventList\"></div></div>"}),deftmp("ui.ExamSchedule",{template:"<div class=\"ui-ExamSchedule\"><div><div data-bind=\"visible: exams().length || editable\"><h3 class=\"center\">Upcoming Exam Dates</h3><div data-bind=\"visible: !exams().length\" class=\"center\"><div><b>There are no upcoming exams currently listed.</b></div><div data-bind=\"visible: GROUP.contrib\">You can add them.</div><div data-bind=\"visible: !GROUP.contrib &amp;&amp; !FEATURES.managed\" class=\"center\"><div>Exam dates at your school are added by Osmosis Ambassadors.</div><div>Does this list need to be updated?</div><button data-bind=\"click: contactOsmosis(&quot;Exam Dates&quot;)\" class=\"btn btn-warning mts\">Let Us Know</button></div></div></div><div style=\"width:200px\" data-bind=\"foreach:exams\" class=\"center\"><div style=\"width:200px; text-align:left\" class=\"mtl\"><div class=\"lfloat mrm\"><img data-bind=\"attr:{src:topicIcon}\"/></div><div class=\"lfloat\"><div><b data-bind=\"text:topicName\"></b></div><div data-bind=\"text:examDateStr\"></div></div></div><div style=\"width:150px\" class=\"clearfix\"></div></div></div><div data-bind=\"visible: oldExams().length || editable\"><h3 class=\"center\">Past Exams</h3><div data-bind=\"visible: !oldExams().length\" class=\"center\"><div><b>There are no past exams currently listed.</b> Past exams are important so Osmosis knows what material you've already covered.</div></div><div style=\"width:200px\" data-bind=\"foreach:oldExams\" class=\"center\"><div style=\"width:200px; text-align:left\" class=\"mtl\"><div class=\"lfloat mrm\"><img data-bind=\"attr:{src:topicIcon}\"/></div><div class=\"lfloat\"><div><b data-bind=\"text:topicName\"></b></div><div data-bind=\"text:examDateStr\"></div></div></div><div style=\"width:150px\" class=\"clearfix\"></div></div></div></div>"}),deftmp("ui.ExamScheduleSmall",{template:"<div class=\"ui-ExamScheduleSmall\"><div><div data-bind=\"visible: exams().length || editable\"><h5>Upcoming Exam Dates</h5><div data-bind=\"visible: !exams().length\"><div><b>There are no upcoming exams currently listed.</b></div><div data-bind=\"visible: GROUP.contrib\">You can add them by creating a corresponding module under Lectures -&gt; Course Modules </div><div data-bind=\"visible: !GROUP.contrib &amp;&amp; !FEATURES.managed\"><div>Exam dates at your school are added by Osmosis Ambassadors.</div><div>Does this list need to be updated?</div><button data-bind=\"click: contactOsmosis(&quot;Exam Dates&quot;)\" class=\"btn btn-warning mts\">Let Us Know</button></div></div></div><div data-bind=\"foreach:exams\" class=\"flex-center\"><img data-bind=\"attr:{src:topicIcon, title: topicName()+&quot; - &quot;+examDateStr()}\" class=\"exam-topic-icon tip\"/></div></div><div data-bind=\"visible: oldExams().length || editable\"><h5>Past Exams</h5><div data-bind=\"visible: !oldExams().length\"><div><b>There are no past exams currently listed.</b> Past exams are important so Osmosis knows what material you've already covered.</div></div><div data-bind=\"foreach:oldExams\" class=\"flex-center\"><img data-bind=\"attr:{src:topicIcon, title: topicName()+&quot; - &quot;+examDateStr()}\" class=\"exam-topic-icon tip\"/></div></div></div>"}),deftmp("ui.FacebookLike",{template:"<div class=\"ui-FacebookLike\"> <div class=\"panel-heading\"><p>Post link to Facebook</p><p class=\"explain\">Get an extra month of Prime just for posting here + 2 weeks for everyone who joins using your link: <span style=\"-webkit-user-select: all; background-color: rgba(38, 185, 193, 0.1)\" data-bind='html: referralLink'/></p></div><div class=\"panel-body\"><referralLink></referralLink><div data-href=\"https://youtu.be/HW4H80XHRGc\" data-width=\"100%\" data-layout=\"standard\" data-action=\"recommend\" data-show-faces=\"true\" data-share=\"true\" class=\"fb-like\"></div><div data-bind=\"visible: liked\" class=\"mtl center\"><button data-bind=\"click: reload\" class=\"btn btn-success\">Thanks! Click here to add a month of Prime</button></div></div></div>"}),deftmp("ui.FillProfileReminder",{template:"<div class=\"ui-FillProfileReminder\"><div data-bind=\"visible: submitted\" class=\"fill-profile-reminder-complete-profile\"><p class=\"inverted\">Great! Complete the rest of your profile on your account page.</p><div class=\"fill-profile-reminder-button-group\"><a href=\"/account\" class=\"olive button\">Complete my profile</a></div></div><div data-bind=\"visible: !submitted()\" class=\"fill-profile-reminder-school-input\"><div class=\"ui-account-input-School\"></div></div></div>"}),deftmp("ui.FlashcardTables",{template:"<div class=\"ui-FlashcardTables\"><div data-bind=\"foreach: sets\"><div style=\"font-size:120%\" class=\"center fwb\"><a href=\"#\" data-bind=\"click: createTable, text:name\"></a></div></div></div>"}),deftmp("ui.FreeBookForm",{template:"<div class=\"ui-FreeBookForm\"><div class=\"free-book-form-container\"><div class=\"package-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/85ce99393c22044df102c2dca943313f34c0e650.png\" data-bind=\"css: { valid: validForm }\" class=\"package\"></div><div class=\"shipping-form mhxxl\"><label for=\"book-select\">Select your <b>free</b> textbook</label><select id=\"book-select\" type=\"text\" data-bind=\"options: bookItems, optionsText: &quot;optionsString&quot;, value: bookSelection\"></select><hr/><h2>Shipping information</h2><label for=\"shipping-name\">Name</label><input id=\"shipping-name\" type=\"text\" data-bind=\"value: shipping.name, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-email\">Email</label><input id=\"shipping-email\" type=\"email\" data-bind=\"value: shipping.email, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-phone-number\">Phone Number</label><input id=\"shipping-phone-number\" type=\"tel\" data-bind=\"value: shipping.phoneNumber, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-addr\">Shipping Address 1 (Street)</label><input id=\"shipping-addr\" type=\"text\" data-bind=\"value: shipping.address, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-addr-line-two\">Shipping Address 2 (Unit #)</label><input id=\"shipping-addr-line-two\" type=\"text\" data-bind=\"value: shipping.addressLineTwo, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-city\">City</label><input id=\"shipping-city\" type=\"text\" data-bind=\"value: shipping.city, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-state\">State</label><input id=\"shipping-state\" type=\"text\" data-bind=\"value: shipping.state, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-zip\">Zip Code</label><input id=\"shipping-zip\" type=\"text\" data-bind=\"value: shipping.zip, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"fs-block-tracking\"/><label for=\"shipping-country\">Country</label><select id=\"shipping-country\" type=\"text\" data-bind=\"options: countries, optionsText: &quot;name&quot;, optionsValue: &quot;name&quot;, value: shipping.country\" class=\"fs-block-tracking\"></select></div><div class=\"disclaimer\"><p><strong>Disclaimer</strong>:</p><span data-bind=\"html: window.deal.disclaimer + &quot; &quot;\"></span><span>No refunds will be given once books are shipped.</span></div><div class=\"controls\"><div data-bind=\"click: noBookClicked\" class=\"no-book\"> <p>No thanks, don\u2019t send me a book</p></div><div data-bind=\"css: { valid: validForm }, click: submitClicked\" class=\"button positive submit\">Submit</div></div><div data-bind=\"visible: modalVisible\" class=\"modal-confirmation-container\"><div data-bind=\"visible: modalMode() == &quot;Exit&quot;\" class=\"modal-confirmation exit-without\"><h2>Are you sure you want to exit?</h2><p>We wont be able to ship you a book if we don't gather your shipping information!</p><div class=\"action-wrapper\"><a data-bind=\"click: exitPageClicked\" class=\"basic button\">Yes<span class='extra-text'>, Exit</span></a><a data-bind=\"click: backToShippingClicked\" class=\"blue button submit\">No<span class='extra-text'>, Back to shipping information</span></a></div></div><div data-bind=\"visible: modalMode() == &quot;Success&quot;\" class=\"modal-confirmation success\"><div class=\"img-container\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/85ce99393c22044df102c2dca943313f34c0e650.png\" class=\"package\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/0be0c19b1e3384123b10b6e686411c00bc0e38c2.png\" class=\"arrow\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/798282730541354243ee0afb1f80b0ee0011f0ed.png\" class=\"house\"></div><h2>Awesome!</h2><div data-bind=\"html: shippingBlurb\" class=\"description\"></div><div class=\"action-wrapper\"><div data-bind=\"click: exitPageSuccessClicked\" class=\"submit\">Continue learning on Osmosis</div></div></div><div data-bind=\"visible: modalMode() == &quot;Restricted&quot;\" class=\"modal-confirmation restricted-country\"><div class=\"img-container\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/78530858b5d6ed06f5b15763c70ead33c193761f.png\" class=\"bear\"></div><div class=\"main-title stylized\">Ruh-Roh</div><div class=\"sub-title\">We cannot ship textbooks to this country.</div><div class=\"description\">Would you like an extra month of Prime ($39 value - same as the Osmosis Renal Pathology or Osmosis Psychological Disorders textbooks)?</div><select data-bind=\"value: restrictedCountryFreePrime, options: restrictedCountryFreePrimeOptions, optionsText: &quot;title&quot;\"></select><div class=\"action-wrapper\"><div data-bind=\"click: restrictedCountryFreePrimeClicked\" class=\"submit\">Continue learning on Osmosis</div></div></div></div></div></div>"}),deftmp("ui.GetStarted",{template:"<div class=\"ui-GetStarted\"><div class=\"ui-RecommendationsDemo\"></div><div class=\"row\"><div class=\"col-sm-6\"><div data-bind=\"click: navToSchedule\" style=\"min-height:400px\" class=\"panel clickable\"><div class=\"panel-body\"><div class=\"mtxxl center\"><h3>Your study schedule is completely customizable too!</h3><h5>Even if you don't have course documents b/c you're studying for Step 1 now,</h5><h5>Osmosis let's you study how <u><b>you</b></u> want to</h5><div class=\"mtxl\"><h4>To customize your study schedule</h4><h5>Click</h5><div><a href=\"/qbanks/questions/schedule\" class=\"fa fa-calendar fa-4x menu-banner-button\"></a></div><h5>here</h5></div></div></div></div></div><div class=\"col-sm-6\"><div data-bind=\"click: navToProgress\" style=\"min-height:400px\" class=\"panel clickable\"><div class=\"panel-body\"><div class=\"mtxxl center\"><h3>And, of course, Osmosis lets you track your progress</h3><h5>You'll start improving your knowledge base in no time</h5><div class=\"mtxl\"><h4>To view your progress</h4><h5>Click</h5><div><a href=\"/qbanks/questions/progress\" class=\"fa fa-history fa-4x menu-banner-button\"></a></div><h5>here</h5></div></div></div></div></div></div><div class=\"panel\"><div class=\"panel-body\"><div class=\"mtxxl center\"><h3>Still want to know more about Osmosis?</h3><h5>We've got you covered with these Frequently Asked Questions</h5><div data-bind=\"visible: !showingFAQs()\" class=\"mtxl\"><h4>To see answers to Frequently Asked Questions</h4><h5>Click</h5><div><a href=\"\" data-bind=\"toggle: showingFAQs\" class=\"fa fa-question-circle fa-4x menu-banner-button\"></a></div><h5>here</h5></div><div data-bind=\"visible: showingFAQs\" class=\"mtxl\"><div class=\"ui-GetStartedFAQ\"></div></div></div></div></div></div>"}),deftmp("ui.GetStartedFAQ",{template:"<div class=\"ui-GetStartedFAQ\"><div class=\"faq-container section-container\"><div class=\"container\"><div class=\"row\"><div class=\"col-sm-8 faq-box faq-box-left\"><div class=\"single-faq\"><h3>Who created Osmosis and why?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Osmosis was created <a href=\"http://www.hopkinsmedicine.org/institute_basic_biomedical_sciences/about_us/scientists/osmosis.html\">by medical students</a> for medical students. It's the tool we wish we had when we were learning medicine, studying for the boards, and rotating on the wards.</p></div></div><div class=\"single-faq\"><h3>Will Osmosis help me get a <b>better score on Step 1</b>?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>YES! Osmosis is the first platform to combine as many proven learning and memory techniques as it does, including test-enhanced learning, the Fogg behavior model, spaced repetition, memory palaces, collaborative learning, and others. Spaced repetition alone has been shown to increase Step 1 scores by more than 10 points. Combine that with mobile push notifications and contextual learning (a majority of Osmosis questions feature a mnemonic, image, video, reference, or anecdote) and your scores will rise even more.</p></div></div><div class=\"single-faq\"><h3>Will Osmosis help me memorize the material in <b>First Aid</b>?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Yes, if you use our unique blend of spaced repetition, push notifications, and automated recommendations to answer flash cards regularly. We make this easier by helping you set a study plan.</p></div></div><div class=\"single-faq\"><h3>How does Osmosis work?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Learning through Osmosis has two parts:</p><h3><b>Passive absorption of knowledge</b></h3><p>Create a <b>Daily Schedule</b> and let the mobile app (<a href=\"https://itunes.apple.com/us/app/osmosis-med/id646540641\" target=\"_blank\">iOS</a> or <a href=\"https://play.google.com/store/apps/details?id=org.osmosis.med\" target=\"_blank\">Android</a>) send you push notifications with questions and flashcards so that you don't have to actively open a review book on a topic you studied months ago. This helps keep knowledge fresh in your brain in the months between when you learned something in class and when you need to review it for boards.</p><h3><b>Diffusion of knowledge among your classmates</b></h3><p>Osmosis lets you crowdsource your own questions and flashcards so that you can create study material for your coursework far more efficiently than if you were just studying by yourself.</p></div></div><div class=\"single-faq\"><h3>What is <b>Osmosis Prime</b>?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Osmosis Prime is the most efficient and enjoyable way to learn medicine. Prime provides you more content paired with automated recommendations so you don't have to spend unnecessary time trying to bridge the gap between your school curriculum and the board exams. Osmosis Prime helps you easily blend board prep with class prep. Learn more about Prime <a href=\"/store\" target=\"_blank\">here</a>.</p></div></div><div class=\"single-faq\"><h3>I'm a <b>1st year</b> med student. Will Osmosis help me even though I'm not preparing for boards yet?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Absolutely. In fact, Osmosis will have the biggest impact on your learning if you start early. Osmosis is the only tool that allows you to integrate your school's curriculum with what you need to know for boards. That way, you don't have to study two separate bodies of knowledge.</p></div></div><div class=\"single-faq\"><h3>What's all this I've heard about <b>uploading course docs</b>?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>One of the really cool features of Osmosis is that when you use it to organize your course material, Osmosis will \"read\" your course documents and make recommendations on what to study. Getting this set up takes a few steps so feel free to contact us at hi@osmosis.org if you need help.</p></div></div><div class=\"single-faq\"><h3>I'm a <b>2nd year</b> med student. Will Osmosis help me even though I'm about to take boards?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Of course! If you're already done with classes or you're very close to being done, you need to create a Step 1 study schedule.</p></div></div><div class=\"single-faq\"><h3>How do I create an automated <b>study schedule</b>?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Click the \"Daily Schedule\" tab at the top of this page:</p><h3 style=\"margin-top:20px\"><b>If you are still taking classes and want to upload course docs:</b></h3><div>Select the study schedule that corresponds to your school. When you upload course docs, Osmosis will automatically push flashcards and questions that are relevant.</div><h3 style=\"margin-top:20px\"><b>If you are done with classes and are studying for boards or if you just want to use Osmosis as a qbank:</b></h3><div>Select the study schedule that corresponds to your school.</div><h3 style=\"margin-top:20px\"><b>What if there's already a study schedule there?</b></h3><div>Just click the \"x\" in the top right of the schedule and you can replace your study schedule with something else.</div></div></div><div class=\"single-faq\"><h3>I'm a <b>3rd</b> or <b>4th</b> year med student. How can I benefit from Osmosis?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>We have a growing bank of clinically-relevant questions that will help you on the wards as well as exams such as Step 2 and the shelfs. For example, we've produced more than 5,000 questions through our grant from the Robert Wood Johnson Foundation and we've also partnered with publishers such as the American College of Physicians to make their content available via Osmosis.</p><p>The learning and memory techniques that we've built into Osmosis will continue being helpful even as you enter the clinic.</p></div></div><div class=\"single-faq\"><h3>Does Osmosis have <b>board-style questions</b>?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Yes! Osmosis actually has a mix of question types. Here's a breakdown of what you'll find.</p><h3><b>Board-style questions</b></h3><p>These questions have long clinical vignettes and detailed explanations.</p><h3><b>Short Recall questions</b></h3><p>These questions have short stems and may or may not have detailed explanations. Short questions are intermixed with longer board-style ones in order to prevent fatigue.</p><h3><b>Flashcards</b></h3><p>Flashcards are single facts with blanks and usually do not have an explanation as most are self-explanatory.</p><h3><b>Crowdsourced Questions and Flashcards</b></h3><p>Crowdsourced questions and flashcards can be found in <b>Study Modules</b>. Crowdsourced questions are created entirely by you and your classmates. You can use the <b>Rating flags</b> to filter questions by quality.</p></div></div><div class=\"single-faq\"><h3>What should I be using <b>in addition</b> to Osmosis for board prep?</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>As medical students ourselves we recommend that you should use First Aid and USMLE World as staples of your board prep. That's why we've built First Aid reference recommendations into Osmosis. Our questions are of a higher yield than most other resources (who else has a USMLE prep pack with celebrity anecdotes as memory anchors?), though we recommend you practice with them before you go on to USMLE World.</p><p>There are a number of other tools that you may find useful, such as Pathoma, Picmonic, and Sketchy Micro, and we're actually speaking with these and others about being able to recommend their content alongside course material. Osmosis fits into your study plan by helping you pass your classes while simultaneously preparing for the boards and wards.</p></div></div><div class=\"single-faq\"><h3>Osmosis would be perfect if it just had...</h3><span><i class=\"fa fa-plus\"></i></span><div class=\"single-faq-text\"><p>Don't be shy! Remember we're med students just like you. Give us a shout at hi@osmosis.org if you have suggestions, questions, feedback, etc.</p></div></div></div><div class=\"col-sm-4 faq-box faq-box-right\"><span>?</span></div></div></div></div></div>"}),deftmp("ui.GettingStartedSeries",{template:"<div class=\"ui-GettingStartedSeries\"><div class=\"video-series\"></div></div>"}),deftmp("ui.GroupCalendar",{template:"<div class=\"ui-GroupCalendar\"><div data-bind=\"visible: !showCalendar()\"><div data-bind=\"visible: GROUP.admin\" class=\"center\"><h2>To import or not to import? That is the question.</h2><div data-bind=\"visible: ADMIN.groups\" class=\"center mts\"><a data-bind=\"click:importEventsFromICalFile\" class=\"green button left-icon\"><i class=\"fa fa-file\"> </i><span>Import from iCal File (.ics)</span></a></div><div data-bind=\"visible: ADMIN.groups\" class=\"center mts\"><a data-bind=\"click:importEventsFromICalUrl\" class=\"green button left-icon\"><i class=\"fa fa-globe\"> </i><span>Import from iCal URL (.ics)</span></a></div><div class=\"center mts\"><a data-bind=\"click:importEventsFromGoogle\" class=\"green button left-icon\"><i class=\"fab fa-google\"> </i><span>Import from Google Calendar</span></a></div><div class=\"center mts\"><a data-bind=\"click: manuallyAdd\" class=\"basic button left-icon\"><i class=\"fa fa-calendar\"> </i><span>Manually Add Events</span></a></div></div><div data-bind=\"visible: !GROUP.admin\" class=\"center\"><h2>Welcome to a new module!</h2><div class=\"mvl\">To fully integrate your curriculum, you need course events. You can import these events but you have to request access to this feature first.</div><button data-bind=\"click: contactOsmosis(&quot;Import Calendar&quot;)\" class=\"btn btn-warning btn-lg mts\">Request Course Admin Privileges</button></div></div><div data-bind=\"visible: showCalendar()\"><div data-bind=\"visible: mode()==&quot;view&quot; &amp;&amp; cal.isEditable()\"><span class=\"fcg\">Click on an existing event or click and drag to create a new one.</span></div><div style=\"width:100%\" class=\"ui-Calendar\"></div><div data-bind=\"visible: tz.timezonesAgree() &amp;&amp; (cal.isEditable() || mode()==&quot;import&quot;)\" style=\"font-size:80%\">You are currently viewing/editing in the <span class=\"fwb\" data-bind='text: tz.timezone'/> timezone.</div><div data-bind=\"visible: !tz.timezonesAgree()\" style=\"font-size:80%\">You are currently viewing in the <span class=\"fwb\" data-bind='text: tz.timezone'/> timezone, but your browser reports <span class=\"fwb\" data-bind='text: tz.clientTimezone'/> (<a href='#' data-bind='click: switchTimezone'>switch</a>).</div><div class=\"mbm\"><button data-bind=\"visible: ADMIN.groups &amp;&amp; mode()==&quot;view&quot;, click:importEventsFromICalFile\" class=\"btn btn-sm btn-primary\">Import from iCal File (.ics)</button><button data-bind=\"visible: ADMIN.groups &amp;&amp; mode()==&quot;view&quot;, click:importEventsFromICalUrl\" class=\"btn btn-sm btn-primary mls\">Import from iCal URL (.ics)</button><button data-bind=\"visible: GROUP.admin &amp;&amp; mode()==&quot;view&quot;, click:importEventsFromGoogle\" class=\"btn btn-sm btn-success mls\">Import from Google Calendar</button><button data-bind=\"visible: GROUP.admin &amp;&amp; mode()==&quot;view&quot;, click:manuallyAddMessage\" class=\"btn btn-sm btn-default mls\">Manually Edit</button><button data-bind=\"visible: ADMIN.groups &amp;&amp; mode()==&quot;view&quot;, ajax:removeFutureEvents\" class=\"btn btn-sm btn-default mls\">Remove Future Events</button><div data-bind=\"visible: mode()==&quot;import&quot;\" class=\"center mtm\"><button data-bind=\"click:doImport\" class=\"btn btn-lg btn-primary mls\">Import All</button><div class=\"mts\"><button data-bind=\"click:cancelImport\" class=\"btn btn-sm btn-danger mls\">Cancel Import</button></div></div></div></div></div>"}),deftmp("ui.GroupClassExams",{template:"<div class=\"ui-GroupClassExams\"><div class=\"ui-ExamScheduleSmall\"></div></div>"}),deftmp("ui.GroupDocList",{template:"<div class=\"ui-GroupDocList\"><div data-bind=\"visible: !days.length()\" class=\"sync-message center mtl\"><div data-bind=\"text: studyRange\" class=\"study-range\"></div></div><div data-bind=\"visible: days.length\" class=\"doc-content\"><div class=\"days\"></div><a href=\"\" data-bind=\"visible: showMoreVisible, click: showMore\" class=\"center mtl show-more-days\">Show Other Days</a><div class=\"days-padding\"></div></div></div>"}),deftmp("ui.GroupDocListDay",{template:"<div class=\"ui-GroupDocListDay mtl\"><div class=\"day-schedule\"><div data-bind=\"event: {mouseover:toggleEditLink(true), mouseout:toggleEditLink(false)}\" class=\"headings\"><div data-bind=\"css:currentDateClass\" class=\"current-date\"><span><span data-bind=\"text: date, css:{&quot;is-today&quot;:isToday}\" class=\"date\"></span><a href=\"\" data-bind=\"visible: editLinkVisible, click: editDay\" class=\"mls fp80 edit\">Edit</a></span><div class=\"clearfix\"></div></div></div><div class=\"day-events\"></div><div data-bind=\"visible: placeholderEvents().length &amp;&amp; !emptyEvents().length\"><div class=\"fwb\">Select a time to add course documents to it</div><div data-bind=\"foreach: placeholderEvents\" class=\"empty-events\"><div data-bind=\"click: $root.enableEvent($data)\" class=\"enable-event\"><span data-bind=\"text: time\" class=\"fwb\"></span></div></div></div><div data-bind=\"visible: emptyEvents().length\" class=\"fwb\">Select an event to add course documents to it</div><div data-bind=\"foreach: emptyEvents\" class=\"empty-events\"><div data-bind=\"click: $root.enableEvent($data)\" class=\"enable-event\"><span data-bind=\"text: time\" class=\"fwb\"></span><span> -&nbsp;</span><span data-bind=\"text: event.title\"></span></div></div></div></div>"}),deftmp("ui.GroupDocListEvent",{template:"<div data-bind=\"attr:{eventID: event.eventID}\" class=\"ui-GroupDocListEvent day-event\"><div class=\"ui-GroupDocListEventUploader\"></div></div>"}),deftmp("ui.GroupDocListEventUploader",{template:"<div class=\"ui-GroupDocListEventUploader ui-DocUploader\"><div data-bind=\"event: {mouseover:mouseover, mouseout:mouseout}\" class=\"event DocDragDropTarget\"><div class=\"event-heading\"><div class=\"info\"><div data-bind=\"click:markEvent, visible:totalDocs\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Stay organized by checking off events after you finish reviewing them\" class=\"checkbox-status tip\"><i class=\"square\"></i><i data-bind=\"visible:event.completed\" class=\"fa fa-check\"></i></div><div data-bind=\"click:toggleAttachmentTray\" class=\"time\"><span data-bind=\"text: time\"></span></div></div><div data-bind=\"click:toggleAttachmentTray\" class=\"title\"><h3 data-bind=\"html:event.title\"></h3><div data-bind=\"visible: event.moduleName()\" class=\"secondary\"><span data-bind=\"html:event.moduleName\"></span><span data-bind=\"visible: !event.hasAttachments()\"><span> -&nbsp;</span><a href=\"\" data-bind=\"click: unlinkModule\">Unlink event from folder</a></span></div><div data-bind=\"visible: !event.moduleName()\" class=\"secondary no-module\"><span data-bind=\"visible: event.activeModules().length != 1\">Not currently linked to a folder</span><span data-bind=\"visible: event.activeModules().length == 1\"><span>Documents will be imported into&nbsp;</span><span data-bind=\"foreach: event.activeModules\" style=\"color: black\" class=\"fwb\"><span data-bind=\"text: name\"></span></span><br/><span class=\"fp80\">(or <a href='' data-bind='click: newModule'>click here</a> to create a new folder)</span></span></div><a href=\"\" data-bind=\"visible: ADMIN.groups &amp;&amp; mode()==&quot;edit&quot;, toggle: showMoveEvent\" style=\"font-size: 12px\">Switch Folder</a><div data-bind=\"visible: showMoveEvent\"><div>Move event to...</div><form class=\"form-inline mtm\"><div class=\"form-group\"><select data-bind=\"value: switchMID, options: modules, optionsValue:&quot;MID&quot;,optionsText:&quot;name&quot;\" style=\"width:400px\" class=\"form-control\"></select><button data-bind=\"enable: !switchingModule(), ajax: switchModule\" class=\"mls btn btn-primary\">Switch Folder</button></div></form></div></div><div data-bind=\"visible:totalDocs, click:showAttachmentTray\" class=\"action\"><div data-bind=\"click: editEvent, css: {active: mode()==&quot;edit&quot;}\" class=\"action-item edit\"><i class=\"fa fa-pencil-alt\"></i><span>edit</span></div><div data-bind=\"toggle: attachVisible\" title=\"Attach more documents\" class=\"action-item attach tip\"> <i class=\"fa fa-paperclip fa-rotate-90\"></i><span>attach</span></div></div></div><div class=\"event-attachments\"><div data-bind=\"visible: attachVisible\" class=\"add-docs mbm\"><div data-bind=\"visible: GROUP.contrib\" class=\"no-docs\"><div class=\"upload-box DocFromFileTrigger clickable\"><div class=\"upload-message\"><span><span class=\"drop-doc-msg\">Drop document here</span><br />Or <a href=\"\" data-bind='click: browse'>browse</a> your files.</span></div></div></div></div><div data-bind=\"visible: totalDocs\" class=\"docs doc-list\"></div><div data-bind=\"visible: mode()==&quot;edit&quot;\" class=\"deleted-docs\"><div><a href=\"\" data-bind=\"ajax: searchDeletedDocs\" class=\"fp80 fcg\"><i class=\"fa fa-search\"></i> Search for Deleted Documents</a></div><table style=\"width: 100%\" class=\"deleted-doc-list table table-striped\"><tbody data-bind=\"foreach: deletedDocs\"><tr><td><img data-bind=\"attr: {src: &quot;https://osmose-it.s3.amazonaws.com/&quot;+data.$+&quot;/thumb.png&quot;}\" style=\"width: 50px\"/></td><td data-bind=\"text: data.s\"></td><td><a href=\"\" data-bind=\"ajax: $root.restoreDeletedDocs($data)\" class=\"fp80\">Restore</a></td></tr></tbody></table></div><div data-bind=\"text: dropMsg\" class=\"center\"></div><div data-bind=\"foreach: progressList\" class=\"mtm\"><div data-bind=\"text: filename\"></div><div style=\"height: 10px\" class=\"progress processingBar mtm\"><div role=\"progressbar\" data-bind=\"style: {width: percent}\" class=\"progress-bar active progress-bar-striped progress-bar-warning\"><span data-bind=\"text: percent\" class=\"sr-only\"></span></div></div></div><div data-bind=\"visible: recsAvailable\" class=\"fp80\"><span class=\"badge\" style=\"background-color: #5cb85c\" data-bind='text: recsAvailable'/> new facts recommended to learn. Click a document to see them.</div></div></div></div>"}),deftmp("ui.GroupDocListGroup",{template:"<div class=\"ui-GroupDocListGroup\"><div class=\"thumbnails\"><div class=\"thumbs-list\"></div></div><div data-bind=\"visible: hasConcepts() &amp;&amp; overviewVisible()\" class=\"quick-review\"><div class=\"fwb fcg\">Quick Review</div><div class=\"doc-concept-outline\"><div class=\"topics\"></div></div></div></div>"}),deftmp("ui.GroupDocListTodo",{template:"<div class=\"ui-GroupDocListTodo topic-group mlm\"><div class=\"info-section mtm\"><div data-bind=\"html: tile\" class=\"topic-name\"></div></div><div class=\"concepts mlm\"></div></div>"}),deftmp("ui.GroupDocListTodoCategory",{template:"<div data-bind=\"visible: visible, css: tab\" class=\"ui-GroupDocListTodoCategory mts\"><div data-bind=\"css: tab, text: tab\" class=\"cat-title\"></div><div class=\"tiles\"></div></div>"}),deftmp("ui.GroupDocListTodoItem",{template:"<span class=\"ui-GroupDocListTodoItem concept-wrapper\"><span class=\"concept-info\"><a href=\"\" data-bind=\"click: openConceptCard, style: {&quot;font-size&quot;: fontSize}, text: item.name\" class=\"concept-name\"></a><a href=\"\" style=\"font-size: 16px; color: gray\" data-bind=\"visible: mode()==&quot;edit&quot; &amp;&amp; GROUP.owner, click: removeTerm\" class=\"close-btn mlm\">&times;</a><span data-bind=\"visible: !isLast\" class=\"small-bullet\"></span></span></span>"}),deftmp("ui.GroupInviteLink",{template:"<div class=\"ui-GroupInviteLink\"><div class=\"panel gray\"><div class=\"panel-heading center\"><h3 class=\"inverted mvm\">Group Invite Link</h3></div><div class=\"panel-body featured\"><div data-bind=\"visible: GROUP.admin\"><div data-bind=\"visible: inviteURLs().length\"><h4 class=\"center\">Email this link to your classmates:</h4><div data-bind=\"foreach:inviteURLs\" class=\"mtm mbm\"><div class=\"center\"><a data-bind=\"attr:{href:serverURL+URL+&quot;&amp;k=&quot;+key}, text: serverURL+URL+&quot;&amp;k=&quot;+key\"></a></div></div><div class=\"fsm mtl\">To disable joining the group with this link, you can delete the link or generate a new link (these actions cannot be undone).</div><div class=\"mtm\"><button data-bind=\"ajax: inviteLink(&quot;remove&quot;)\" class=\"btn btn-danger btn-xs\">Remove Link</button><button data-bind=\"ajax: inviteLink(&quot;regenerate&quot;)\" class=\"btn btn-warning btn-xs mls\">Regenerate Link</button></div></div><div data-bind=\"visible: !inviteURLs().length\"><div>You can invite members to this group by creating an invite link.</div><button data-bind=\"ajax: inviteLink(&quot;create&quot;)\" class=\"btn btn-primary mtm\">Create Invite Link</button></div></div><div data-bind=\"visible: !GROUP.admin\"><div>Friends can join this group if they click on the unique invite link for the group. Ask one of the admins for the invite link (see the members panel to the right).</div></div></div></div><div data-bind=\"visible: ADMIN.groups\" class=\"panel gray\"><div class=\"panel-heading center\"><p>Batch Role Change</p></div><div class=\"panel-body featured\"><div class=\"form-inline\"><select data-bind=\"value: currentRole\" class=\"form-control\"><option value=\"1.1\">Instructor/Course Admin</option><option value=\"2.2\">Student - Admin Editor</option><option value=\"3.2\">Student - Managing Editor</option><option value=\"4.2\">Student - Regular Editor</option><option value=\"3.3\">Student - Managing Contributor</option><option value=\"4.3\">Student - Contributor</option></select><select data-bind=\"value: newRole\" class=\"form-control mls\"><option value=\"1.1\">Instructor/Course Admin</option><option value=\"2.2\">Student - Admin Editor</option><option value=\"3.2\">Student - Managing Editor</option><option value=\"4.2\">Student - Regular Editor</option><option value=\"3.3\">Student - Managing Contributor</option><option value=\"4.3\">Student - Contributor</option></select><button data-bind=\"click: switchMemberRoles\" class=\"btn btn-primary mls\">Switch Roles</button></div></div></div></div>"}),deftmp("ui.GroupMembers",{template:"<div class=\"ui-GroupMembers\"><div class=\"panel white\"><div class=\"panel-heading\"><p class=\"lfloat\">Members/Roles</p><div class=\"rfloat\"><button data-bind=\"click:addMember\" class=\"btn btn-warning\"><i class=\"fa fa-plus\"></i> &nbsp;Add Member</button><span data-bind=\"click: setDefaultRole\" class=\"fa fa-cog mlm clickable\"></span></div><div class=\"clearfix\"></div></div><div class=\"panel-body mtl\"><div class=\"mlm\"><div class=\"lfloat fwb\"><span data-bind='text: members.length'/> Member(s)</div><div style=\"margin-right:12px\" class=\"rfloat fwb\">Role</div><div class=\"clearfix\"></div><div class=\"members\"></div></div></div></div></div>"}),deftmp("ui.GroupModule",{template:"<div class=\"ui-GroupModule\"><div class=\"module-row\"> <div class=\"edit-link\"><i data-bind=\"visible: GROUP.admin, click: editModule\" class=\"fa fa-cog\"></i></div><div data-bind=\"attr: {title: module.descr}, click:openFolderView, css:{open:folderOpen, inactive:!module.isActive()}\" class=\"module-name tip\"><div class=\"folder-wrapper\"><i data-bind=\"css:{&quot;fa-folder&quot;:!folderOpen(),&quot;fa-folder-open&quot;:folderOpen}\" class=\"fa\">     </i><span href=\"\" data-bind=\"text: module.name\"></span></div></div><div class=\"topics\"><!-- ko foreach: icons--><img data-bind=\"attr: {src: $data.src, title: $data.name}\" title=\"\" class=\"tip\"/><!-- /ko--></div><div data-bind=\"text: startDate()+&quot;, &quot;+startYear()\" class=\"start-date\"></div><div class=\"end-date\"><span data-bind=\"text: endDateStr\"></span><span>&nbsp;</span><span class=\"edit-link\"><i data-bind=\"visible: module.isLongTerm(), click: toggleLongTerm(false)\" title=\"Disable long-term retention: By default, spaced repetition for flashcards in this folder will end after the exam date. Click here if you want to end repetition after the exam date.\" class=\"fa fa-circle tip\"></i><i data-bind=\"visible: !module.isLongTerm(), click: toggleLongTerm(true)\" title=\"Enable long-term retention: By default, spaced repetition for flashcards in this folder will end after the exam date. Click here if you want to repeat these flashcards over the long term.\" class=\"fa fa-clock tip\"></i></span></div><div title=\"documents uploaded\" data-bind=\"click: openFolderView\" class=\"module-section-link tip\"><div data-bind=\"text: docCount()!=null ? docCount() : &quot;-&quot;\"></div></div><div title=\"private notes taken\" data-bind=\"click: goTo(&quot;/&quot;+navData.group.url+&quot;/&quot;+module.url+&quot;/notes&quot;)\" class=\"module-section-link tip\"><div data-bind=\"text: notesCount()!=null ? notesCount() : &quot;-&quot;\"></div></div><div class=\"add-card module-section-link\"><span title=\"flashcards crowdsourced\" data-bind=\"click: goTo(&quot;/&quot;+navData.group.url+&quot;/module?id=&quot;+module.moduleID+&quot;&amp;type=flashcard&quot;)\" class=\"module-section-link tip\"><div style=\"display: inline-block\" data-bind=\"text: fcCount()!=null ? fcCount() : &quot;-&quot;\"></div></span><span title=\"add flashcards\" data-bind=\"click: addCard\" class=\"tip add-card\">Add</span></div><div title=\"questions crowdsourced\" data-bind=\"click: goTo(&quot;/&quot;+navData.group.url+&quot;/module?id=&quot;+module.moduleID+&quot;&amp;type=question&quot;)\" class=\"module-section-link tip tabNavLink\"><div data-bind=\"text: quesCount()!=null ? quesCount() : &quot;-&quot;\"></div></div></div><div class=\"folder-container\"> </div></div>"}),deftmp("ui.GroupModuleFolderView",{template:"<div data-bind=\"visible:visible\" class=\"ui-GroupModuleFolderView\"><div data-bind=\"visible:documents().length &gt; 0\" class=\"control-bar\"><div class=\"left-actions\"><div class=\"master-checkbox\"><input type=\"checkbox\" data-bind=\"click:toggleCheckboxes, checked:masterCheck\"/></div><div data-bind=\"click:buildQuiz\" class=\"action-item\">Build quiz</div></div><div class=\"right-actions\"></div></div><div data-bind=\"foreach:documents, visible:documents().length &gt; 0\" class=\"documents-list\"><div class=\"doc-item\"><div class=\"action-checkbox\"><input type=\"checkbox\" data-bind=\"checked: checked\"/></div><div data-bind=\"click:$root.openDoc($data)\" class=\"thumb\"><img data-bind=\"attr:{src:thumb}\"/></div><div data-bind=\"html:name, click:$root.openDoc($data)\" class=\"filename\"></div><div data-bind=\"html:eventDate\" class=\"upload-date\"></div><div class=\"actions\"><span data-bind=\"click:$root.startQuiz($data)\" class=\"action\">Quiz</span><span data-bind=\"click:$root.analyzeDoc($data)\" class=\"action\">Analyze</span><span data-bind=\"click:$root.openDoc($data)\" class=\"action\">Create Flashcards </span></div></div></div><div data-bind=\"visible:documents().length == 0\" class=\"empty-list\"><div class=\"icon\"><i class=\"fa fa-file-alt\"></i></div><div class=\"msg\"><span>No documents have been uploaded to this module. <a href='' data-bind='click:goToCoursework'>Choose a day and time</a> to upload your first document.</span></div><div data-bind=\"click:goToCoursework\" class=\"cta\"><span>Get Started <i class='fa fa-long-arrow-alt-right'></i></span></div></div></div>"}),deftmp("ui.GroupModules",{template:"<div class=\"ui-GroupModules\"><div class=\"panel white admin-module-explanation\"><div class=\"panel-heading\"><p data-bind=\"visible: FEATURES.docs\" class=\"lfloat\">Exam Modules</p><p data-bind=\"visible: !FEATURES.docs\" class=\"lfloat\">QBanks</p><button data-bind=\"click:createModule\" class=\"rfloat btn btn-success\"><i class=\"fa fa-plus\"></i> &nbsp;Create New Folder</button><div class=\"clearfix\"></div></div><div class=\"panel-body featured hidden\"></div><div data-bind=\"visible: modules().length\" class=\"panel-body\"><table style=\"width:100%\"><thead><tr class=\"headings\"><th>Module</th><th>My Notes</th><th>Documents</th><th>Questions</th><th>Flashcards</th></tr></thead><tbody data-bind=\"foreach: modules\"><tr data-bind=\"visible: active()\" class=\"module\"><td><a data-bind=\"text: $data.name, attr: {href: &quot;/&quot;+navData.group.url+&quot;/&quot;+$data.url, title: $data.descr}\" data-placement=\"left\" class=\"moduleLink\"></a></td><td data-bind=\"text: ($data.notesCount() == null) ? &quot;-&quot; : $data.notesCount()\"></td><td data-bind=\"text: ($data.docCount() == null) ? &quot;-&quot; : $data.docCount()\"></td><td data-bind=\"text: ($data.quesCount() == null) ? &quot;-&quot; : $data.quesCount()\"></td><td data-bind=\"text: ($data.fcCount() == null) ? &quot;-&quot; : $data.fcCount()\"></td></tr></tbody></table><div class=\"the-toggle center mtl\"> <a href=\"#\" data-bind=\"click: showAll, text: allModulesVisible() ? 'Hide' : 'Show All' \" class=\"btn btn-md btn-primary\"></a></div></div></div></div>"}),deftmp("ui.GroupModulesStatusBar",{template:"<div class=\"ui-GroupModulesStatusBar ui-GroupStatusBar\"><div class=\"status-items statusBar-section\"></div><div class=\"statusBar-cta statusBar-section\"><a data-bind=\"click: createNewModule\" class=\"cta-container clickable btn btn-md btn-success\"><i class=\"fa fa-plus\"></i> &nbsp;Create New Folder</a></div></div>"}),deftmp("ui.GroupOnboardingForm",{template:"<div class=\"ui-GroupOnboardingForm ui-GroupForm\"><div data-bind=\"visible: state()==&quot;search&quot;\" class=\"email-search\"><p class=\"caption\">Search for your school group using your school email address</p><form class=\"form-inline\"><input type=\"text\" placeholder=\"School Email Address\" data-bind=\"value:schoolEmail\" class=\"school-email\"/><button type=\"submit\" data-bind=\"ajax:doSearchForSchoolGroups\" class=\"mls btn btn-primary btn-sm\">Search for School Group</button><div class=\"helper-text\">If you don't have a school email, you can <a href=\"/create/group?mode=new\">create a new group</a> or if you already have a friend in another group, ask them for an invite link</div></form></div><div data-bind=\"visible: state()==&quot;invalid-email&quot;\" class=\"invalid-email\"><h5 class=\"fcr\">Please use a valid email address</h5><div><button data-bind=\"click:changeState(&quot;search&quot;)\" class=\"btn btn-primary btn-sm\">Re-enter Email </button></div></div><div data-bind=\"visible: state()==&quot;invalid-school-email&quot;\" class=\"invalid-school-email\"><h5 class=\"fcr\">Please use a valid school email</h5><div><button data-bind=\"click:changeState(&quot;search&quot;)\" class=\"btn btn-primary btn-sm\">Re-enter Email</button></div><div class=\"helper-text\">If you don't have a school email, you can <a href=\"/create/group?mode=new\">create a new group</a> or if you already have a friend in another group, ask them for an invite link</div></div><div data-bind=\"visible: state()==&quot;account-conflict&quot;\" class=\"account-conflict\"><h5 class=\"fcr\">This email is already associated with a different user account. Please contact support@osmosis.org to resolve this issue.</h5><div class=\"fp80 fcg\">(It's most likely that you have a duplicate Osmosis account. Don't worry, we can merge your accounts!)</div></div><div data-bind=\"visible: state()==&quot;groups&quot;\" class=\"groups\"><div data-bind=\"foreach: groups\" style=\"margin-top:15px\"><div class=\"mtm\"><span class=\"fwb\"><i class=\"fa fa-lock\"></i><span>&nbsp;</span><span data-bind=\"text: name\"></span></span><div data-bind=\"click: $root.selectGroup(groupID,name,verified)\" class=\"btn btn-warning btn-sm mls\">Request Access</div></div></div><div class=\"helper-text\">Don't see your class group listed? <a href=\"/create/group?mode=new\">Click here</a></div></div><div data-bind=\"visible: state()==&quot;unlock-group&quot;\" class=\"unlock-group\"><h3><i class=\"fa fa-lock\"/> <span data-bind='text: selectedGroup'/></h3><form class=\"form-inline\"><div data-bind=\"visible: !verificationCodeHints()\" class=\"helper-text\"><div>This group is available only to members of your school.</div><p class=\"caption\">We just emailed a verification code to <span class=\"fwb\" data-bind='text: schoolEmail'/>. If you haven't received this code, click <a href='' data-bind='toggle: verificationCodeHints'>here</a>.</p></div><input type=\"text\" placeholder=\"Verification code\" data-bind=\"value:verificationCode\"/><button type=\"submit\" data-bind=\"ajax:joinGroup\" class=\"mls btn btn-primary btn-sm\">Verify School Email</button></form><div data-bind=\"visible: verificationCodeHints\" class=\"code-hints\"><div class=\"fwb\">If you haven't received a verification code in 1-2 minutes:</div><ol style=\"text-align:left\"><li>Make sure the email you entered (<span class=\"fwb\" data-bind='text: schoolEmail'/>) wasn't mistyped. If it was mistyped, <a href='' data-bind='click: fixEmail'>click here to enter the correct email</a>.</li><li>Make sure to check \"Spam\" or \"Promotions\" or search your email for \"Verification Code\".</li><li>If none of these work, email support@osmosis.org and let us know.</li></ol></div></div><div data-bind=\"visible: state()==&quot;no-groups&quot; || state()==&quot;not-listed&quot;\" class=\"no-groups\"><div data-bind=\"visible: state()==&quot;no-groups&quot;\"><h4>We didn't find any school groups under that email</h4><h5>but you can <a href=\"/create/group?mode=new\">create one</a> and invite classmates!</h5></div><h5 data-bind=\"visible: state()==&quot;not-listed&quot;\">You can <a href=\"/create/group?mode=new\">create one</a>create a new group</a> and invite classmates!</h5></div></div>"}),deftmp("ui.GroupPopover",{template:"<div class=\"ui-GroupPopover\"><div class=\"popover-shader\"></div><div class=\"popover-content\"><div class=\"popover-container\"><div class=\"heading center\"><h2>Class Groups are the most powerful feature on Osmosis</h2><p class=\"explain\">but you have to request access for your school first!</p></div><div class=\"body\"><div data-bind=\"visible: showingRequestBox\" class=\"form\"><div class=\"center\"><h3>We'll customize Osmosis exactly for your school's curriculum...</h3><h3 class=\"mtm\">You'll save time by never having to search for what you need!</h3><p class=\"explain\"></p><textarea data-bind=\"value: message\"></textarea><a href=\"#\" data-bind=\"click: submit\" class=\"btn btn-lg btn-primary\">Submit Request</a><a href=\"#\" data-bind=\"visible: ADMIN.groups, click: close\" class=\"btn btn-lg btn-danger mls\">Admin Access</a></div></div><div data-bind=\"visible: !showingRequestBox()\" class=\"form\"><div class=\"center\"><h2>Thanks for contacting us! We'll be in touch shortly!</h2></div></div><div class=\"secondary-cta\"><div class=\"video\"><iframe src=\"https://www.youtube.com/embed/oz9tT4Sutvk\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\" data-bind=\"visible:showingVideo\"></iframe></div><h3>Want to be productive while your group is getting activated?</h3><p class=\"explain\">Start by learning what Osmosis can do for you. Then try out our question bank and integrated recommendation system.</p><div class=\"cta-section\"><a href=\"#\" data-bind=\"click:expandVideo, css:{&quot;btn-warning&quot;: !showingVideo(), &quot;btn-default&quot;:showingVideo()}\" class=\"btn btn-md mrl\">Osmosis Explained<i class=\"fa fa-video mlm\"></i></a><a href=\"/qbanks\" data-bind=\"css:{&quot;btn-warning&quot;: showingVideo(), &quot;btn-default&quot;:!showingVideo()}\" class=\"btn btn-md\">Start Answering Questions<i style=\"font-size: 18px;vertical-align: middle;\" class=\"fa fa-arrow-alt-circle-right mlm\"></i></a></div></div></div></div></div></div>"}),deftmp("ui.ICalUploader",{template:"<div class=\"ui-ICalUploader\"><form style=\"max-width:400px\" class=\"form-horizontal mtm\"><div class=\"form-group\"><label class=\"control-label col-md-4\">Import From</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value: parent.beginDate\" style=\"min-width:150px\" class=\"datepicker dmy form-control\"/></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\">Import Until</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value: parent.endDate\" style=\"min-width:150px\" class=\"datepicker dmy form-control\"/></div></div></form><div><span class=\"mhm\">Once you have the file, click here to upload it.</span><span data-bind=\"visible:editableEvents().length == 0\" class=\"filePicker\"><span class=\"btn btn-primary btn-file mtm btn-sm\">Browse<span class=\"iCalFile\"><input type=\"file\" name=\"Calendar Upload\" accept=\".ics\"/></span></span></span></div></div>"}),deftmp("ui.InfoCard",{template:"<div class=\"ui-InfoCard\"><div class=\"panel white\"><div class=\"panel-heading\"><div class=\"row\"><div class=\"col-el-xxs-10 col-el-xs-9 col-el-sm-9\"><p class=\"term\">Orthopaedic</p><p class=\"explain source\">wikipedia</p></div><div class=\"col-el-xxs-2 col-el-xs-3 col-el-sm-3\"><div data-bind=\"\" class=\"arrow left no-select\"><div class=\"fa fa-arrow-alt-circle-up fa-rotate-270\"></div></div><div data-bind=\"\" class=\"arrow right no-select\"><div class=\"fa fa-arrow-alt-circle-up fa-rotate-90\"></div></div></div></div></div><div class=\"panel-body\"><div class=\"card-menu\"><div class=\"menu-item details active\"><i class=\"fa fa-list-alt\"></i><span>Details</span></div><div class=\"menu-item flashcards\"><i class=\"fa fa-th\"></i><span>Flashcards</span></div><div class=\"menu-item resources\"><i class=\"fa fa-video\"></i><span>Resources</span></div></div><div class=\"card-body\"><div class=\"details-content\"><p><b>Orthopaedic surgery</b> or <b>orthopaedics</b> (sometimes spelled <b>orthopedic surgery</b> and <b>orthopedics</b>) is the branch of <a href=\"http://en.wikipedia.org/wiki/Surgery\" title=\"Surgery\" class=\"internalLink\">surgery</a> concerned with conditions involving the <a href=\"http://en.wikipedia.org/wiki/Musculoskeletal_system\" title=\"Musculoskeletal system\" class=\"mw-redirect internalLink\">musculoskeletal system</a>. Orthopaedic surgeons use both surgical and nonsurgical means to treat <a href=\"http://en.wikipedia.org/wiki/Human_musculoskeletal_system\" title=\"Human musculoskeletal system\" class=\"internalLink\">musculoskeletal</a> <a href=\"http://en.wikipedia.org/wiki/Physical_trauma\" title=\"Physical trauma\" class=\"mw-redirect internalLink\">trauma</a>, <a href=\"http://en.wikipedia.org/wiki/Sports_injury\" title=\"Sports injury\" class=\"internalLink\">sports injuries</a>, <a href=\"http://en.wikipedia.org/wiki/Degenerative_disease\" title=\"Degenerative disease\" class=\"internalLink\">degenerative diseases</a>, <a href=\"http://en.wikipedia.org/wiki/Infection\" title=\"Infection\" class=\"internalLink\">infections</a>, <a href=\"http://en.wikipedia.org/wiki/Tumor\" title=\"Tumor\" class=\"mw-redirect internalLink\">tumors</a>, and <a href=\"http://en.wikipedia.org/wiki/Congenital_disorder\" title=\"Congenital disorder\" class=\"internalLink\">congenital disorders</a>.</p><p></p><h2><span id=\"Nomenclature\" class=\"mw-headline\">Nomenclature</span></h2><div><p><a href=\"http://en.wikipedia.org/wiki/Nicholas_Andry\" title=\"Nicholas Andry\" class=\"mw-redirect internalLink\">Nicholas Andry</a> coined the word &quot;<i>orthop&aelig;dics</i>&quot; in French as <i>orthop&eacute;die</i>, derived from the <a href=\"http://en.wikipedia.org/wiki/Greek_language\" title=\"Greek language\" class=\"internalLink\">Greek</a> words <i>orthos</i> (&quot;correct&quot;, &quot;straight&quot;) and <i>paidion</i> (&quot;child&quot;), when he published <i>Orthopedie</i> (translated as <i>Orthop&aelig;dia: or the Art of Correcting and Preventing Deformities in Children</i><sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\" class=\"hashtagLink\"><span>[</span>1<span>]</span></a></sup>) in 1741. Though as the name implies it was initially developed with attention to children, the correction of spinal and bony deformities in all stages of life eventually became the cornerstone of orthopedic practice.</p><p>As with many words derived with the <a href=\"http://en.wikipedia.org/wiki/%C3%86\" title=\"\xC6\" class=\"internalLink\">&quot;&aelig;&quot; ligature</a>, simplification to either &quot;ae&quot; or just &quot;e&quot; is common. In the US the majority of college, university and residency programs, and even the <a href=\"http://en.wikipedia.org/wiki/American_Academy_of_Orthopaedic_Surgeons\" title=\"American Academy of Orthopaedic Surgeons\" class=\"internalLink\">American Academy of Orthopaedic Surgeons</a>, still use the spelling with the Latinate digraph <a href=\"http://en.wikipedia.org/wiki/Ae_(digraph)\" title=\"Ae (digraph)\" class=\"mw-redirect internalLink\">ae</a>. Elsewhere, usage is not uniform; in Canada, both spellings are acceptable; <i>orthopaedics</i> usually prevails in the rest of the British Commonwealth, especially in the UK.</p></div></div></div></div></div></div>"}),deftmp("ui.IntroStudyModules",{template:"<div class=\"ui-IntroStudyModules\"><div data-bind=\"visible: status()==&quot;all-inactive&quot;\" class=\"all-inactive\"><div class=\"row top-banner\"><h1 class=\"center\">Looks like your groups are all archived</h1><p class=\"main-explain center\">Click <a href=\"/account?item=groups\">here</a> to fix this</p></div></div><div data-bind=\"visible: status()==&quot;has-group&quot; || status()==&quot;no-school&quot; || status()==&quot;no-group&quot;\" class=\"has-group\"><div style=\"max-width: 600px; margin-left: auto; margin-right: auto; border: 1px solid silver; border-radius:5px\" class=\"mtxl\"><div data-bind=\"visible: status()==&quot;has-group&quot;\" class=\"panel-body\"><div class=\"center\"><h4>Study modules always belong to &ldquo;Class Groups&rdquo;</h4><h5>Here are the groups you can access</h5></div><div class=\"ui-dialogs-ClassGroupNav\"></div></div><div data-bind=\"visible: status()==&quot;no-school&quot; || status()==&quot;no-group&quot;\" class=\"panel-body\"><div class=\"ui-SelectGroup\"></div></div></div></div></div>"}),deftmp("ui.Invoice",{template:"<div class=\"ui-Invoice\"><table style=\"text-align:left\" class=\"span6\"><tr style=\"border-bottom: 1px solid black\"><th></th><th>Product(s)</th><th>Price</th></tr><tr style=\"border-bottom: 1px dashed gray\"><td></td><td>Osmosis Preclinical Foundations (1050 questions)</td><td data-bind=\"text:displayPrice\"></td></tr><tr><td><i>Subtotal</i></td><td></td><td data-bind=\"text:displayPrice\"></td></tr><tr style=\"border-bottom: 1px solid black\"><td><i>Tax & Shipping</i></td><td></td><td>$0</td></tr><tr><td><b>Total</b></td><td></td><td><b data-bind=\"text:displayPrice\"></b></td></tr></table></div>"}),deftmp("ui.JoySnackbar",{template:"<div data-bind=\"fadeVisible: snackbarVisible, fadeDirection: 'up'\" class=\"ui-JoySnackbar\"><div data-bind=\"css: theme\" class=\"joy-snackbar-wrapper\"><div data-bind=\"visible: !type\" class=\"joy-snackbar-header\"><h2 data-bind=\"html: headerText\" class=\"joy-snackbar-header-text inverted\"></h2></div><div data-bind=\"visible: type === 'quote'\" class=\"joy-snackbar-quote-container\"><div class=\"joy-snackbar-quote\"><span class=\"quotation-mark top\">&#8220;</span><span data-bind=\"text: quote\"></span><span class=\"quotation-mark bottom\">&#8221;</span></div><div class=\"joy-snackbar-quote-author\"><span>- </span><span data-bind=\"text: quoteAuthor\"></span></div></div><div class=\"joy-snackbar-image\"><img data-bind=\"attr: { src: image }\"/></div><p data-bind=\"html: messageText\" class=\"joy-snackbar-subtext inverted\"></p><div class=\"joy-snackbar-actions\"><button data-bind=\"click: closeClick\" class=\"basic inverted box left-icon button secondary\"><i class=\"far fa-times\"></i><span>Close</span></button></div></div></div>"}),deftmp("ui.JoySnackbarShareDialog",{template:"<div data-bind=\"css: dialogStyle\" class=\"ui-JoySnackbarShareDialog dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">Share quote</h3></div><div class=\"dialog-content\"><div class=\"share-content-container\"><div data-bind=\"css: theme\" class=\"joy-snackbar-wrapper\"><div class=\"joy-snackbar-quote-container\"><div class=\"joy-snackbar-quote\"><span class=\"quotation-mark top\">&#8220;</span><span data-bind=\"text: quote\"></span><span class=\"quotation-mark bottom\">&#8221;</span></div><div class=\"joy-snackbar-quote-author\"><span>- </span><span data-bind=\"text: quoteAuthor\"></span></div></div><div class=\"joy-snackbar-image\"><img data-bind=\"attr: { src: image }\"/></div><div class=\"osmosis-watermark\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/q3pNI-dsTsulRbnYNyD-_8uwTuuzsPzS.png\"></div></div></div><div class=\"dialog-footer-dummy\"></div></div><div class=\"dialog-footer\"><div class=\"social-buttons\"><button class=\"circle button facebook\"><i class=\"fab fa-facebook-f\"></i></button><button class=\"circle button twitter\"><i class=\"fab fa-twitter\"> </i></button></div><button class=\"button blue\">Copy image</button></div></div>"}),deftmp("ui.LabValuesSidebar",{template:"<div data-bind=\"css:{expanded:showLabValues}\" class=\"ui-LabValuesSidebar\"><div data-bind=\"click:toggle\" class=\"close\"><i>x</i></div><div class=\"labs-nav\"><ul><li><a data-bind=\"click:switchTab(&quot;blood&quot;), css:{active:currentTab()==&quot;blood&quot;}\">Blood</a></li><li><a data-bind=\"click:switchTab(&quot;hematologic&quot;), css:{active:currentTab()==&quot;hematologic&quot;}\">Hematologic</a></li><li><a data-bind=\"click:switchTab(&quot;cereberospinal&quot;), css:{active:currentTab()==&quot;cereberospinal&quot;}\">Cereberospinal</a></li><li><a data-bind=\"click:switchTab(&quot;sweat/urine/bmi&quot;), css:{active:currentTab()==&quot;sweat/urine/bmi&quot;}\">Sweat, Urine, BMI  </a></li></ul></div><div data-bind=\"visible:currentTab()==&quot;blood&quot;\" class=\"breakdown blood\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\"><tbody><tr class=\"headings\"><td width=\"33%\"><b>Blood, Plasma, Serum</b></td><td width=\"33%\"><b>Reference Range</b></td><td width=\"33%\"><b>SI Reference Interval</b></td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Alanine aminotransferase (ALT), serum</td><td width=\"33%\">8-40 U/L</td><td width=\"33%\">8-40 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Alkaline phosphatase, serum (p-NPP at 30&deg;C)</td><td width=\"33%\">20-70 U/L</td><td width=\"33%\">20-70 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Amylase, serum</td><td width=\"33%\">25-125 U/L</td><td width=\"33%\">25-125 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Aspartate aminotransferase (AST), serum</td><td width=\"33%\">8-40 U/L</td><td width=\"33%\">8-40 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Bilirubin, serum (adult)</td></tr><tr><td width=\"33%\">Total</td><td width=\"33%\">0.1-1.0 mg/dL</td><td width=\"33%\">2-17 \u03BCmol/L</td></tr><tr><td width=\"33%\">Direct</td><td width=\"33%\">0.0-0.3 mg/dL</td><td width=\"33%\">0.0-0.05 \u03BCmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Calcium, serum (total)</td><td width=\"33%\">8.4-10.2 mg/dL</td><td width=\"33%\">2.1-2.8 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Cholesterol, serum</td></tr><tr><td width=\"33%\">Total</td><td width=\"33%\">150-240 mg/dL</td><td width=\"33%\">3.9-6.2 mmol/L</td></tr><tr><td width=\"33%\">HDL</td><td width=\"33%\">30-70 mg/dL</td><td width=\"33%\">0.8-1.8 mmol/L</td></tr><tr><td width=\"33%\">LDL</td><td width=\"33%\"><160 mg/dL</td><td width=\"33%\"><4.2 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Cortisol, serum</td></tr><tr><td width=\"33%\">0800 h</td><td width=\"33%\">5-23 \u03BCg/dL</td><td width=\"33%\">138-635 nmol/L</td></tr><tr><td width=\"33%\">1600 h</td><td width=\"33%\">3-15 \u03BCg/dL</td><td width=\"33%\">82-413 nmol/L</td></tr><tr><td width=\"33%\">2000 h</td><td width=\"33%\">\u226450% of 0800 h</td><td width=\"33%\">Fraction of 0800 h: \u22640.50</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Creatine kinase, serum</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">25-90 U/L</td><td width=\"33%\">25-90 U/L</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">10-70 U/L</td><td width=\"33%\">10-70 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Creatinine, serum</td><td width=\"33%\">0.6-1.2 mg/dL</td><td width=\"33%\">53-106 \u03BCmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Electrolytes, serum</td></tr><tr><td width=\"33%\">Sodum (Na<sup>+</sup>)</td><td width=\"33%\">136-146 mEq/L</td><td width=\"33%\">136-146 mmol/L</td></tr><tr><td width=\"33%\">Potassium (K<sup>+</sup>)</td><td width=\"33%\">3.5-5.0 mEq/L</td><td width=\"33%\">95-105 mmol/L</td></tr><tr><td width=\"33%\">Chloride (Cl<sup>-</sup>)</td><td width=\"33%\">95-105 mEq/L</td><td width=\"33%\">3.5-5.0 mmol/L</td></tr><tr><td width=\"33%\">Bicarbonate (HCO<sub>3</sub><sup>-</sup>)</td><td width=\"33%\">22-28 mEq/L</td><td width=\"33%\">22-28 mmmol/L</td></tr><tr><td width=\"33%\">Magnesium (Mg<sup>2+</sup>)</td><td width=\"33%\">1.5-2.0 mEq/L</td><td width=\"33%\">0.75-1.0 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Estriol, total, serum (in pregnancy)</td></tr><tr><td width=\"33%\">24-28 wks</td><td width=\"33%\">30-170 ng/mL</td><td width=\"33%\">104-590 nmol/L</td></tr><tr><td width=\"33%\">28-32 wks</td><td width=\"33%\">40-220 ng/mL</td><td width=\"33%\">140-760 nmol/L</td></tr><tr><td width=\"33%\">32-36 wks</td><td width=\"33%\">60-280 ng/mL</td><td width=\"33%\">208-970 nmol/L</td></tr><tr><td width=\"33%\">36-40 wks</td><td width=\"33%\">80-350 ng/mL</td><td width=\"33%\">280-1210 nmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Ferritin, serum</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">15-200 ng/mL</td><td width=\"33%\">15-200 \u03BCg/L</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">12-150 ng/mL</td><td width=\"33%\">12-150 \u03BCg/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Follicle-stimulating hormone, serum/plasma</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">4-25 mIU/mL</td><td width=\"33%\">4-25 U/L</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\"></td><td width=\"33%\"></td></tr><tr><td width=\"33%\">premenopause</td><td width=\"33%\">4-30 mIU/mL</td><td width=\"33%\">4-30 U/L</td></tr><tr><td width=\"33%\">midcycle peak</td><td width=\"33%\">10-90 mIU/mL</td><td width=\"33%\">10-90 U/L</td></tr><tr><td width=\"33%\">postmenopause</td><td width=\"33%\">40-250 mIU/mL</td><td width=\"33%\">40-250 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Gases, arterial blood (room air)</td></tr><tr><td width=\"33%\">Po<sub>2</sub></td><td width=\"33%\">75-105 mm Hg</td><td width=\"33%\">10.0-14.0 kPa</td></tr><tr><td width=\"33%\">Pco<sub>2</sub></td><td width=\"33%\">33-45 mm Hg</td><td width=\"33%\">4.4-5.9 kPa</td></tr><tr><td width=\"33%\">pH</td><td width=\"33%\">7.35-7.45</td><td width=\"33%\">[H<sup>+</sup>] 36-44 nmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Glucose, serum</td></tr><tr><td width=\"33%\">Fasting</td><td width=\"33%\">70-110 mg/dL</td><td width=\"33%\">3.8-6.1 mmol/L</td></tr><tr><td width=\"33%\">2-h postprandial</td><td width=\"33%\">: <120 mg/dL</td><td width=\"33%\"><6.6 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Growth hormone- arginine stimulation</td></tr><tr><td width=\"33%\">Fasting</td><td width=\"33%\">5 ng/mL</td><td width=\"33%\">5 \u03BCg/L</td></tr><tr><td width=\"33%\">Provocative stimuli</td><td width=\"33%\">>7 ng/mL</td><td width=\"33%\">>7 \u03BCg/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Immunoglobulins, serum</td></tr><tr><td width=\"33%\">IgA</td><td width=\"33%\">76-390 mg/dL</td><td width=\"33%\">0.76-3.90 g/L</td></tr><tr><td width=\"33%\">IgE</td><td width=\"33%\">0-380 IU/ml</td><td width=\"33%\">0-380 kIU/L</td></tr><tr><td width=\"33%\">IgG</td><td width=\"33%\">650-1,500 mg/dL</td><td width=\"33%\">6.5-15 g/L</td></tr><tr><td width=\"33%\">IgM</td><td width=\"33%\">40-345 mg/dL</td><td width=\"33%\">0.4-3.45 g/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Iron</td><td width=\"33%\">50-170 \u03BCg/dL</td><td width=\"33%\">9-30 \u03BCmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Lactate dehydrogenase, serum</td><td width=\"33%\">45-90 U/L (100-250 IU/L)</td><td width=\"33%\">45-90 U/L (100-250 IU/L)</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Luteinizing hormone, serum/plasma</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">6-23 mIU/mL</td><td width=\"33%\">6-23 U/L</td></tr><tr><td width=\"33%\">Female: follicular phase</td><td width=\"33%\">5-30 mIU/mL</td><td width=\"33%\">5-30 U/L</td></tr><tr><td width=\"33%\">midcycle</td><td width=\"33%\">75-150 mIU/mL</td><td width=\"33%\">75-150 U/L</td></tr><tr><td width=\"33%\">postmenopause</td><td width=\"33%\">30-200 mIU/mL</td><td width=\"33%\">30-200 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Osmolality, serum</td><td width=\"33%\">275-295 mOsmol/kg H<sub>2</sub>O</td><td width=\"33%\">275-295 mOsmol/kg H<sub>2</sub>O</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Parathyroid hormone, serum, N-terminal</td><td width=\"33%\">10-65 pg/mL</td><td width=\"33%\">10-65 pg/mL</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Phosphate (alkaline), serum (p-NPP at 30\xB0 C</td><td width=\"33%\">20-70 U/L</td><td width=\"33%\">20-70 U/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Phosphorus (inorganic), serum</td><td width=\"33%\">3.0-4.5 mg/dL</td><td width=\"33%\">1.0-1.5 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Prolactin, serum (hPRL)</td><td width=\"33%\">20 ng/mL</td><td width=\"33%\">20 \u03BCg/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Proteins, serum</td></tr><tr><td width=\"33%\">Total (recumbent)</td><td width=\"33%\">6.0-7.8 g/dL</td><td width=\"33%\">60-78 g/L</td></tr><tr><td width=\"33%\">Albumin</td><td width=\"33%\">3.5-5.5 g/dL</td><td width=\"33%\">35-55 g/L</td></tr><tr><td width=\"33%\">Globulin</td><td width=\"33%\">2.3-3.5 g/dL</td><td width=\"33%\">23-35 g/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Thyroid-stimulating hormone (TSH), serum</td><td width=\"33%\">0.5-5.0 \u03BCU/mL</td><td width=\"33%\">0.5-5.0 \u03BCU/mL</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Thyroidal iodine (<sup>123</sup>I) uptake</td><td width=\"33%\">8%-30% of administered dose/24 h</td><td width=\"33%\">0.08-0.30 fraction of administered dose/24 h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Thyroxine (T<sub>4</sub>), serum</td><td width=\"33%\">5-12 \u03BCg/dL</td><td width=\"33%\">64-155 nmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Triglycerides, serum</td><td width=\"33%\">35-160 mg/dL</td><td width=\"33%\">0.4-1.81 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Triiodothyronine (T<sub>3</sub>), serum (RIA)</td><td width=\"33%\">115-190 ng/dL</td><td width=\"33%\">1.8-2.9 nmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Triiodothyronine (T<sub>3</sub>) resin uptake</td><td width=\"33%\">25%-35%</td><td width=\"33%\">0.25-0.35</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Urea nitrogen, serum (BUN)</td><td width=\"33%\">7-18 mg/dL</td><td width=\"33%\">1.2-3.0 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Uric acid, serum</td><td width=\"33%\">3.0-8.2 mg/dL</td><td width=\"33%\">0.18-0.48 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr></tbody></table></div><div data-bind=\"visible:currentTab()==&quot;hematologic&quot;\" class=\"breakdown hematologic\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\"><tr class=\"headings\"><td width=\"33%\"><b>Hematologic</b></td><td width=\"33%\"><b>Reference Range</b></td><td width=\"33%\"><b>SI Reference Interval</b></td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Bleeding time (template)</td><td width=\"33%\">2-7 minutes</td><td width=\"33%\">2-7 minutes</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">CD4+ T-lymphocyte count</td><td width=\"33%\">>500 mm<sup>3</sup></td><td width=\"33%\">>500 x 10<sup>6</sup>/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Erythrocyte count</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">4.3-5.9 million/mm<sup>3</sup></td><td width=\"33%\">4.3-5.9 x 10<sup>12</sup>/L</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">3.5-5.5 million/mm<sup>3</sup></td><td width=\"33%\">3.5-5.5 x 10<sup>12</sup>/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Erythrocyte sedimentation rate (Westergren)</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">0-15 mm/h</td><td width=\"33%\">0-15 mm/h</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">0-20 mm/h</td><td width=\"33%\">0-20 mm/h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Hematocrit</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">41%-53%</td><td width=\"33%\">0.41-0.53</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">36%-46%</td><td width=\"33%\">0.36-0.46</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Hemoglobin A<sub>1c</sub></td><td width=\"33%\">\u22646%</td><td width=\"33%\">\u22640.06%</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Hemoglobin, blood</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">13.5-17.5 g/dL</td><td width=\"33%\">2.09-2.71 mmol/L</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">12.0-16.0 g/dL</td><td width=\"33%\">1.86-2.48 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Leukocyte count and differential</td></tr><tr><td width=\"33%\">Leukocyte count</td><td width=\"33%\">4,500-11,000/mm<sup>3</sup></td><td width=\"33%\">4.5-11.0 x 10<sup>9</sup>/L</td></tr><tr><td width=\"33%\">Neutrophils, segmented</td><td width=\"33%\">54%-62%</td><td width=\"33%\">0.54-0.62</td></tr><tr><td width=\"33%\">Neutrophils, banded</td><td width=\"33%\">3%-5%</td><td width=\"33%\">0.03-0.05</td></tr><tr><td width=\"33%\">Eosinophils</td><td width=\"33%\">1%-3%</td><td width=\"33%\">0.01-0.03</td></tr><tr><td width=\"33%\">Basophils</td><td width=\"33%\">0%-0.75%</td><td width=\"33%\">0-0.0075</td></tr><tr><td width=\"33%\">Lymphocytes</td><td width=\"33%\">25%-33%</td><td width=\"33%\">0.25-0.33</td></tr><tr><td width=\"33%\">Monocytes</td><td width=\"33%\">3%-7%</td><td width=\"33%\">0.03-0.07</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Mean corpuscular hemoglobin (MCH)</td><td width=\"33%\">25.4-35.6 pg/cell</td><td width=\"33%\">0.39-0.54 fmol/cell</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Mean corpuscular hemoglobin concentration (MCHC)</td><td width=\"33%\">31%-36% Hb/cell</td><td width=\"33%\">4.81-5.58 mmol Hb/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Mean corpuscular volume (MCV)</td><td width=\"33%\">80-100 \u03BCm<sup>3</sup></td><td width=\"33%\">80-100 fL</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Partial thromboplastin time (activated)</td><td width=\"33%\">25-40 seconds</td><td width=\"33%\">25-40 seconds</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Platelet count</td><td width=\"33%\">150,000-400,000/mm<sup>3</sup></td><td width=\"33%\">150-400 x 10<sup>9</sup>/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Prothombin time</td><td width=\"33%\">11-15 seconds</td><td width=\"33%\">11-15 seconds</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Reticulocyte count</td><td width=\"33%\">0.5%-1.5% of red cells</td><td width=\"33%\">0.005-0.015 fraction of red cells</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Thrombin time</td><td width=\"33%\"><2 seconds deviation from control</td><td width=\"33%\"><2 seconds deviation from control</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Volume</td></tr><tr class=\"minor-heading\"><td width=\"100%\" colspan=\"3\">Plasma</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">25-43 mL/kg</td><td width=\"33%\">0.025-0.043 L/kg</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">28-45 mL/kg</td><td width=\"33%\">0.028-0.045 L/kg</td></tr><tr class=\"minor-heading\"><td width=\"100%\" colspan=\"3\">Red cell</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">20-36 mL/kg</td><td width=\"50%\">0.020-0.036 L/kg</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">19-31 mL/kg</td><td width=\"50%\">0.019-0.031 L/kg</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr></table></div><div data-bind=\"visible:currentTab()==&quot;cereberospinal&quot;\" class=\"breakdown cereberospinal\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\"><tr class=\"headings\"><td width=\"33%\"><b>Cerebrospinal Fluid</b></td><td width=\"33%\"><b>Reference Range</b></td><td width=\"33%\"><b>SI Reference Interval</b></td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Cell count</td><td width=\"33%\">0-5/mm<sup>3</sup></td><td width=\"33%\">0-5 x 10<sup>6</sup>/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Chloride</td><td width=\"33%\">118-132 mEq/L</td><td width=\"33%\">118-132 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Gamma globulin</td><td width=\"33%\">3%-12% of total proteins</td><td width=\"33%\">0.03-0.12 of total proteins</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Glucose</td><td width=\"33%\">40-70 mg/dL</td><td width=\"33%\">2.2-3.9 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Pressure</td><td width=\"33%\">70-180 mm H<sub>2</sub>O</td><td width=\"33%\">70-180 mm H<sub>2</sub>O</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Proteins, total</td><td width=\"33%\"><40 mg/dL</td><td width=\"33%\"><0.40 g/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr></table></div><div data-bind=\"visible:currentTab()==&quot;sweat/urine/bmi&quot;\" class=\"breakdown sweat-urine-bmi\"><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\"><tr><td width=\"33%\"><b>Sweat</b></td><td width=\"33%\"><b>Reference Range</b></td><td width=\"33%\"><b>SI Reference Intervals</b></td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Chloride</td><td width=\"33%\">0-35 mmol/L</td><td width=\"33%\">0-35 mmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\"><b>Urine</b></td><td width=\"33%\"><b>Reference Range</b></td><td width=\"33%\"><b>SI Reference Intervals</b></td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Calcium</td><td width=\"33%\">100-300 mg/24 h</td><td width=\"33%\">2.5-7.5 mmol/24 h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Chloride</td><td width=\"33%\">Varies with intake</td><td width=\"33%\">Varies with intake</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Creatine clearance</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">97-137 mL/min</td><td width=\"33%\">1.62-2.29 mL/s</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">88-128 mL/min</td><td width=\"33%\">1.47-2.14 mL/s</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">Estriol, total (in pregnancy)</td></tr><tr><td width=\"33%\">30 wks</td><td width=\"33%\">6-18 mg/24 h</td><td width=\"33%\">21-62 \u03BCmol/24 h</td></tr><tr><td width=\"33%\">35 wks</td><td width=\"33%\">9-28 mg/24 h</td><td width=\"33%\">31-97 \u03BCmol/24 h</td></tr><tr><td width=\"33%\">40 wks</td><td width=\"33%\">13-42 mg/24 h</td><td width=\"33%\">45-146 \u03BCmol/24 h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">17-hydroxycoticosteroids</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">3.0-10.0 mg/24 h</td><td width=\"33%\">8.2-27.6 \u03BCmol/24 h</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">2.0-8.0 mg/24 h</td><td width=\"33%\">5.5-22.0 \u03BCmol/24 h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr class=\"subheading\"><td width=\"100%\" colspan=\"3\">17-ketosteroids, total</td></tr><tr><td width=\"33%\">Male</td><td width=\"33%\">8-20 mg/24 h</td><td width=\"33%\">28-70 \u03BCmol/24 h</td></tr><tr><td width=\"33%\">Female</td><td width=\"33%\">6-15 mg/24 h</td><td width=\"33%\">21-52 \u03BCmol/24 h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Osmolality</td><td width=\"33%\">50-1,400 mOsmol/kg H<sub>2</sub>O</td><td width=\"33%\">50-1,400 mmol/kg</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Oxalate</td><td width=\"33%\">8-40 \u03BCg/mL</td><td width=\"33%\">90-445 \u03BCmol/L</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Proteins, total</td><td width=\"33%\"><150 mg/24 h</td><td width=\"33%\">< 0.15 g/24 h</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Sodium, total</td><td width=\"33%\">varies with diet</td><td width=\"33%\">varies with diet</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Uric acid</td><td width=\"33%\">varies with diet</td><td width=\"33%\">varies with diet</td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr><tr><td width=\"33%\">Body Mass Index (Adult)</td><td width=\"33%\">19-25 kg/m<sup>2</sup></td><td width=\"33%\">19-25 kg/m<sup>2</sup></td></tr><tr><td width=\"100%\" colspan=\"3\"><hr/></td></tr></table></div></div>"}),deftmp("ui.Landing",{template:""}),deftmp("ui.LibraryAnalysis",{template:"<div class=\"ui-LibraryAnalysis\"><div data-bind=\"visible:docSearchVisible\" class=\"main-screen\"><div data-bind=\"visible:!docSummaryVisible(), css:{&quot;time-select-active&quot;:timeSelectorVisible}\" class=\"heading-section\"><div class=\"main-icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d4ae746ce14ceaf38b6883a0f102d270d63301c3.png\"></div><div class=\"main-content\"><h2>Lecture Analysis <span data-bind='visible: !timeSelectorVisible(), text: defaultRangeStr'/></h2><p data-bind=\"visible: !timeSelectorVisible()\" class=\"explain\">We've created an outline for high-yield topics you'll cover this week (or click to select a <a href='' data-bind='toggle: timeSelectorVisible'>different week</a>)</p><div data-bind=\"visible: timeSelectorVisible\" class=\"time-selector\"><div style=\"min-height: 110px\" class=\"ui-TimeSelector row timeframe mtl\"><div class=\"col-sm-3 range-col\"><div class=\"fwb subtitle\">Adjust time span</div><div class=\"pill-menu no-select\"><span data-bind=\"click:time.updateTimeframe(&quot;days&quot;), css:{active:time.units()==&quot;days&quot; &amp;&amp; time.mode()==&quot;fixed&quot;}\" class=\"item\">Entire Day</span><span data-bind=\"click:time.updateTimeframe(&quot;weeks&quot;), css:{active:time.units()==&quot;weeks&quot; &amp;&amp; time.mode()==&quot;fixed&quot;}\" class=\"item\">Week</span><span data-bind=\"click:time.updateTimeframe(&quot;months&quot;), css:{active:time.units()==&quot;months&quot; &amp;&amp; time.mode()==&quot;fixed&quot;}\" class=\"item\">Month</span></div><div class=\"fp80 mtm\"><a href=\"\" data-bind=\"click: time.selectCustomRange()\" class=\"fcg\">custom range</a></div></div><div class=\"col-sm-5 col-lg-6 no-select current-col\"><div data-bind=\"visible: time.mode()==&quot;fixed&quot;\"><span data-bind=\"click: time.prev()\" class=\"nav-arrow fa fa-angle-left\"></span><span data-bind=\"text: time.current\" class=\"nav-title\"></span><span data-bind=\"click: time.next()\" class=\"nav-arrow fa fa-angle-right\"></span></div><div data-bind=\"visible: time.mode()==&quot;custom&quot; || time.mode()==&quot;event&quot;\"><span data-bind=\"text: time.customRangeStr\" class=\"nav-title\"></span></div><div data-bind=\"visible: time.mode()==&quot;doc&quot;\" class=\"center\"><img data-bind=\"attr: {src: time.docThumb}\" class=\"doc-thumbnail\"/></div></div><div class=\"col-sm-3 module-col\"><div data-bind=\"visible: foldersVisible\"><div class=\"fwb subtitle\">Select course folders</div><div data-bind=\"foreach: time.modules\" class=\"mlm mtm\"><div data-bind=\"visible: visible\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"value: MID, checked: active\"/><span class=\"fwb\" data-bind='text: name'/></label></div></div></div></div></div></div></div></div><div data-bind=\"visible: isProcessing\" class=\"loading\"><div class=\"loading-ring\"></div><div class=\"status-message center\">Analyzing coursework...</div></div><div data-bind=\"visible: !isProcessing() &amp;&amp; isEmpty()\" class=\"heading-section heading-section-small\"><div data-bind=\"visible: timeSelectorVisible\" class=\"mtm center\">Hmm... looks like we couldn't find anything for the current selection. Try uploading more docs to \"<span data-bind='html: time.currentSelection'/>\".</div><div data-bind=\"visible: !timeSelectorVisible()\" class=\"mtm center\">Try uploading docs on the <b>Lectures</b> tab to get recommendations here.</div></div><div class=\"topics\"></div></div></div>"}),deftmp("ui.LibraryEditorControlView",{template:"<div class=\"ui-LibraryEditorControlView\"><div class=\"fwb\">Single-click editing</div><div class=\"controls\"><div data-bind=\"bootstrapSwitchOn: controls.singleClickEdit\" class=\"make-switch\"><input type=\"checkbox\"/></div></div><div class=\"mts\"><button data-bind=\"click: window.addWikiTerms\" class=\"btn btn-success\">Edit Dictionary</button></div></div>"}),deftmp("ui.LibraryHeaderDropdown",{template:"<div data-bind=\"visible:visible\" class=\"ui-LibraryHeaderDropdown\"><div class=\"heading\"><div class=\"item organ-system\"><div class=\"item-label\">Organ System</div></div></div><div class=\"lists\"><div data-bind=\"foreach:organSystems\" class=\"list organ-system\"><div data-bind=\"click:$root.handleListItemClick($data)\" class=\"list-item\"><div data-bind=\"html:name\" class=\"name\"></div></div></div></div></div>"}),deftmp("ui.LibraryUploadBox",{template:"<div class=\"ui-LibraryUploadBox ui-DocUploader\"><div class=\"event DocDragDropTarget\"><div class=\"event-attachments\"><div data-bind=\"visible: !progressList().length\" class=\"add-docs mbm\"><div class=\"no-docs\"><div class=\"upload-box DocFromFileTrigger clickable\"><div class=\"upload-message\"><span><span class=\"drop-doc-msg\">Drag and drop files here</span><span class=\"sep\">Or </span><a href=\"\" data-bind=\"click: browse\" class=\"btn btn-xl btn-primary\"> <i class=\"fa fa-upload\"></i><span>Select files from your computer</span></a></span></div></div></div></div><div data-bind=\"visible: !progressList().length &amp;&amp; showDropMsg, text: dropMsg\" class=\"drop-msg center\"></div><div data-bind=\"foreach: progressList\" class=\"mtm\"><div data-bind=\"text: filename\"></div><div style=\"height: 10px\" class=\"progress processingBar mtm\"><div role=\"progressbar\" data-bind=\"style: {width: percent}\" class=\"progress-bar active progress-bar-striped progress-bar-warning\"><span data-bind=\"text: percent\" class=\"sr-only\"></span></div></div></div></div></div></div>"}),deftmp("ui.LibraryUploader",{template:"<div class=\"ui-LibraryUploader ui-LibraryAnalysis\"> <div data-bind=\"visible:docSearchVisible\" class=\"main-screen\"><div data-bind=\"visible:!docSummaryVisible()\" class=\"heading-section\"><div class=\"main-icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d4ae746ce14ceaf38b6883a0f102d270d63301c3.png\"></div><div class=\"main-content\"><h2>Lecture Analysis<span class=\"sup\">Lite</span></h2><p class=\"explain\">Drag and drop your course documents and we'll make a study outline with videos, flashcards, and questions for you automatically. Let us do the heavy lifting!</p></div><div data-bind=\"visible:workspaceTipVisible\" class=\"the-info\"><div class=\"doc-message\">This document is <strong>not saved</strong>. <a href='' data-bind='click:navToWorkspaceClick(\"inline\")'>Create or join a workspace</a> to save and organize your docs. </div></div></div><div data-bind=\"visible: isProcessing\" class=\"loading\"><div class=\"loading-ring\"></div><div class=\"status-message center\">Reading your document...</div></div><div data-bind=\"visible:docSummaryVisible\" class=\"doc-summary\"><div class=\"doc-info info-section\"><div data-bind=\"html:docTitle\" class=\"doc-title\"></div><div class=\"icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/118729596b1c8bd2eb4dc43803025b71f9e10fa4.png\"></div><div class=\"doc-actions\"><div class=\"upload-new\"><a data-bind=\"click:newDoc\" class=\"rounded-btn-primary rounded-btn-sm rounded-btn\"><span> <i class=\"fa fa-upload\"></i>New Document</span></a></div></div><div class=\"the-info\"><div class=\"doc-message\">This document is not saved. Use the <a class='tabNavLink' href='/group/coursework'>Lectures</a> tab to save and organize docs.</div></div></div><div data-bind=\"visible:isEmpty\" class=\"count-sections\"><div class=\"subheading\"><em>Great Scott!</em></div><div class=\"alert alert-warning\">It looks like we couldn't find anything for this document. This is often due to formatting issues so we recommend trying another document or browsing the library instead.</div></div><div data-bind=\"visible:!isEmpty()\" class=\"count-sections\">     <div class=\"subheading\"><em>Noice!</em> Here's what we found:</div><div class=\"flashcard-count count-section info-section\"><div data-bind=\"html:flashCount\" class=\"count\"></div><div class=\"the-label\">Flashcards</div></div><div class=\"ques-count count-section info-section\"><div data-bind=\"html:quesCount\" class=\"count\"></div><div class=\"the-label\">Questions</div></div><div class=\"concept-count info-section count-section\"><div data-bind=\"html:conceptCount\" class=\"count\"></div><div class=\"the-label\">Concepts</div></div></div></div><div data-bind=\"visible:!isProcessing() &amp;&amp; uploaderVisible() &amp;&amp; !isEmpty()\" class=\"the-uploader\"><div class=\"ui-LibraryUploadBox\"></div></div><div class=\"topics\"></div><div data-bind=\"visible:isEmpty\" class=\"empty-results\"><div class=\"box-wrapper\"><div class=\"subject-line\"><i class=\"fa fa-exclamation-triangle\"></i><span>Oops, document analysis did not work for that file. </span></div><div class=\"message\">Once in a while Osmosis cannot analyze a file due to its size, formatting, or file type. <br /><br />You can try:</div><ul><li>Uploading this document to the more powerful and full-featured <a data-bind='click:navToWorkspaceClick(\"error-inline\")'>workspace tool</a>,</li><li>Uploading another document here, or</li><li>Message us below and we can try to help!</li></ul><div class=\"cta-section\"><div data-bind=\"click:newDoc\" class=\"cta\">Try another document</div></div></div></div><div data-bind=\"visible: !isProcessing() &amp;&amp; uploadMode()==&quot;next&quot; &amp;&amp; !isEmpty()\" class=\"center mvm\"><button data-bind=\"click: newDoc\" class=\"btn btn-default\">Try another document</button></div></div></div>"}),deftmp("ui.MainHeader",{template:"<div class=\"ui-MainHeader\"><div data-bind=\"fadeVisible: mobileItemsVisible, fadeDirection: &quot;right&quot;, onFadeComplete: toggleMobileSearch\" class=\"navbar-section\"><div data-bind=\"click:openSidebar, visible:sidebarIconVisible\" class=\"menu\"><i class=\"fas fa-bars\"></i></div><a href=\"/home\" class=\"logo\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/0TjqKgR6TumVBGS0hZv3gnuoQAitj83B.png\"></a></div><div data-bind=\"fadeVisible: mobileSearchVisible, fadeDirection: &quot;left&quot;, onFadeComplete: toggleMobileItems\" class=\"navbar-section mobile\"><div data-bind=\"click: toggleMobileSearch\" class=\"mobile-search-back\"><i class=\"fas fa-chevron-left back\"></i></div><div class=\"mobile-search\"></div></div><div data-bind=\"fadeVisible: mobileItemsVisible, fadeDirection: &quot;right&quot;\" class=\"navbar-section middle\"><div class=\"topics\"><div data-bind=\"toggle: topicsActive, css: { active: topicsActive }\" class=\"topics-mobile\"><i class=\"fas fa-book-open\"></i></div><div data-bind=\"toggle: topicsActive, css: { active: topicsActive }\" class=\"topics-label\"><span>Topics</span><i class=\"opener fas fa-angle-down\"></i><i class=\"closer fas fa-times\"></i></div><div class=\"topics-dropdown\"></div></div><div data-bind=\"click: toggleMobileItems\" class=\"mobile-search-icon\"><i class=\"fas fa-search\"></i></div><div data-bind=\"visible: searchVisible\" class=\"search\"></div></div><div data-bind=\"fadeVisible: mobileItemsVisible, fadeDirection: &quot;right&quot;\" class=\"navbar-section\"><div class=\"upgrade-prime-button\"></div><div class=\"queue-section\"></div><div class=\"account-info\"><div data-bind=\"click:navToLink(&quot;/account&quot;)\" class=\"avatar\"></div></div></div></div>"}),deftmp("ui.MegagridMove",{template:"<div class=\"ui-MegagridMove\"><div class=\"form-inline\"><div class=\"form-group\"><input type=\"text\" data-bind=\"value: target\"/></div><div class=\"form-group\"><input type=\"text\" data-bind=\"value: moveTo\" class=\"mls\"/></div><div class=\"form-group\"><div data-bind=\"click: move\" class=\"btn btn-primary btn-sm mls\">Move</div></div></div></div>"}),deftmp("ui.MiniConceptCard",{template:"<div data-bind=\"css:theme\" class=\"ui-MiniConceptCard\"><div data-bind=\"visible:available\" class=\"status tip\"><input data-bind=\"attr:{value:flashcardProgress}\" class=\"radial-progress\"/></div><div data-bind=\"css:{&quot;no-cards&quot;:!available()}\" class=\"concept-info\"><a href=\"\" data-bind=\"click: openConceptCard\" class=\"concept-name\"><span data-bind=\"visible: isOverview\">Overview:&nbsp;</span><span data-bind=\"html:name\"></span></a><div class=\"the-meta\"><div data-bind=\"visible: !available()\" class=\"no-cards\"><span>no flashcards</span></div><div data-bind=\"visible: available\"><span data-bind=\"text:available()\"></span><span>&nbsp;Flashcards</span></div></div></div><div data-bind=\"css:{watch:tab,read:!tab}\" class=\"concept-action\"><a href=\"\" data-bind=\"click: openConceptCardTab, visible:tab\" class=\"watch\"><span>Watch</span><i class=\"mls fa fa-video\"></i></a><a href=\"\" data-bind=\"click: openConceptCard, visible: !tab\" class=\"read\"><span>Read</span><i class=\"mls fa fa-book\"> </i></a></div></div>"}),deftmp("ui.MiniSelectableCalendar",{template:"<div mixed=\"mixed\" class=\"ui-MiniSelectableCalendar fc fc-ltr fc-unthemed noselect\"><div class=\"fc-toolbar\"><div class=\"fc-left\"></div><div class=\"fc-right\"></div><div class=\"fc-center\"><h4 data-bind=\"text: title\"></h4></div><div class=\"fc-clear\"></div></div><div class=\"fc-view-container\"><div style=\"\" class=\"fc-view fc-month-view fc-basic-view\"><table><thead><tr><td class=\"fc-widget-header\"><div class=\"fc-row fc-widget-header\"><table><thead><tr><th class=\"fc-day-header fc-widget-header fc-mon\">Mon</th><th class=\"fc-day-header fc-widget-header fc-tue\">Tue</th><th class=\"fc-day-header fc-widget-header fc-wed\">Wed</th><th class=\"fc-day-header fc-widget-header fc-thu\">Thu</th><th class=\"fc-day-header fc-widget-header fc-fri\">Fri</th><th class=\"fc-day-header fc-widget-header fc-sat\">Sat</th><th class=\"fc-day-header fc-widget-header fc-sun\">Sun</th></tr></thead></table></div></td></tr></thead><tbody style=\"cursor: pointer\" data-bind=\"css: {&quot;small-times&quot;: !largeTimes, &quot;large-times&quot;: largeTimes}\" class=\"calendar-body\"><tr><td class=\"fc-widget-content\"><div class=\"fc-day-grid-container fc-scroller\"><div class=\"fc-day-grid\"></div></div></td></tr></tbody></table></div></div></div>"}),deftmp("ui.MiniSelectableCalendarWeek",{template:"<div class=\"fc-row fc-week fc-widget-content\"><div class=\"fc-bg\"><table><tbody><tr><td class=\"fc-day fc-widget-content fc-mon\"></td><td class=\"fc-day fc-widget-content fc-tue\"></td><td class=\"fc-day fc-widget-content fc-wed\"></td><td class=\"fc-day fc-widget-content fc-thu\"></td><td class=\"fc-day fc-widget-content fc-fri\"></td><td class=\"fc-day fc-widget-content fc-sat\"></td><td class=\"fc-day fc-widget-content fc-sun\"></td></tr></tbody></table></div><div class=\"fc-content-skeleton\"><table><thead><tr class=\"week-days\"><td class=\"fc-day-number fc-mon\"></td><td class=\"fc-day-number fc-tue\"></td><td class=\"fc-day-number fc-wed\"></td><td class=\"fc-day-number fc-thu\"></td><td class=\"fc-day-number fc-fri\"></td><td class=\"fc-day-number fc-sat\"></td><td class=\"fc-day-number fc-sun\"></td></tr></thead></table></div></div>"}),deftmp("ui.MiniSidebarNav",{template:"<div class=\"ui-MiniSidebarNav\"><h3 class=\"sidebar-heading\">Osmosis Questions</h3><div class=\"panel mini-nav-container\">       <div class=\"panel-body\"><ul class=\"mini-nav\"><li data-bind=\"visible:!isDash()\" class=\"blue\"><a href=\"/\"><i class=\"icon fa fa-home\"></i>Dashboard<i class=\"marker fa fa-angle-right\"></i></a></li><li class=\"orange\"><a href=\"/qbanks/questions\"> <i class=\"icon fa fa-graduation-cap\"></i>Select by Topic<i class=\"marker fa fa-angle-right\"></i></a></li><li class=\"pink\"><a href=\"/qbanks/questions/schedule\"> <i class=\"icon fa fa-mobile-alt\"></i>Today's Study Plan<i class=\"marker fa fa-angle-right\"></i></a></li><li class=\"teal\"><a href=\"/qbanks/questions/progress\"> <i class=\"icon fa fa-chart-line\"></i>My Progress<i class=\"marker fa fa-angle-right\"></i></a></li></ul></div></div></div>"}),deftmp("ui.MiniSlideViewer",{template:"<div class=\"ui-MiniSlideViewer\"><div data-bind=\"visible:hasSlide\" class=\"mtm\"><div data-bind=\"visible: parent.mode()==&quot;graded&quot; || (parent.grading &amp;&amp; parent.grading()) || slideVisible()\"><div class=\"fwb\">Lecture Slide</div><div class=\"mts\"><a href=\"#\" data-bind=\"attr: {href:lectureSlideURL}\" target=\"_blank\" class=\"svg-link\"><object style=\"max-width:350px;max-height:350px;width:100%;\" data-bind=\"attr:{data:lectureSlideSrc}\" type=\"image/svg+xml\"></object></a></div></div><div data-bind=\"visible: parent.mode()==&quot;view&quot; &amp;&amp; !slideVisible()\" class=\"mtm\"><div>This question was attached to a slide (<a href='#' data-bind='click:showSlide'>see slide</a>)</div></div></div></div>"}),deftmp("ui.Modal",{template:"<div class=\"ui-Modal\"><div data-bind=\"click: close, fadeVisible: !closeListener()\" class=\"backdrop\"></div><div data-bind=\"fadeVisible: !closeListener(), fadeDirection: &quot;up&quot;, onFadeComplete: clearModal\" class=\"modal-container\"><div data-bind=\"click: close\" class=\"close-btn\"><span class=\"fa fa-times\"></span></div><div data-bind=\"if: opts.showHeader\" class=\"header-container\"><div class=\"header\"><h5 data-bind=\"text: opts.header\"></h5></div></div><div class=\"body\"></div><div data-bind=\"visible: opts.footerButtons\" class=\"footer\"><div data-bind=\"foreach: opts.footerButtons\" class=\"footer-buttons\"><button data-bind=\"text: text, click: $root.btnClick($data), css: classes, attr: { disabled: disabledWhileLoading &amp;&amp; $parent.loading() }\" class=\"button\"></button></div></div></div></div>"}),deftmp("ui.ModuleList",{template:"<div class=\"ui-ModuleList\"><div class=\"active-module-list\"><h2 class=\"module-list-heading\">Active Folders</h2><div class=\"column-headings\"><span class=\"name\">Course</span><span class=\"topics\">Topics</span><span class=\"start-date\">Start Date</span><span class=\"end-date\">Exam Date</span><span class=\"module-section-link\">Docs Uploaded</span><span class=\"module-section-link\">Private Notes</span><span class=\"module-section-link\">Flashcards Created</span><span class=\"module-section-link\">Questions Created  </span></div><div class=\"modules\"></div></div><div class=\"inactive-module-list\"><h2 class=\"module-list-heading\">Inactive Folders</h2><div class=\"column-headings\"> <span class=\"name\">Course</span><span class=\"topics\">Topics</span><span class=\"start-date\">Start Date</span><span class=\"end-date\">Exam Date</span><span class=\"module-section-link\">Docs Uploaded</span><span class=\"module-section-link\">Private Notes</span><span class=\"module-section-link\">Flashcards Created</span><span class=\"module-section-link\">Questions Created  </span></div><div class=\"inactive-modules\"></div></div><div data-bind=\"visible: !hasModules()\" class=\"panel-body center\"><div data-bind=\"visible: GROUP.admin\"><button data-bind=\"click: createNewModule\" class=\"btn btn-success btn-lg\">Create your First Folder</button></div><div data-bind=\"visible: !GROUP.admin &amp;&amp; !FEATURES.managed\" class=\"center\"><div>There are not any modules for your class yet, but you can create one.</div><button data-bind=\"click: contactOsmosis(&quot;Add First Module&quot;)\" class=\"btn btn-warning mts\">Request Access</button></div></div></div>"}),deftmp("ui.ModuleSidebar",{template:"<div class=\"ui-ModuleSidebar\"><div class=\"ui-ProfileBadge\"></div><div class=\"current-module dash-menu-item\"><div class=\"back-btn\"><a data-bind=\"attr: {href: &quot;/&quot;+navData.group.url+&quot;/group/dashboard&quot;}\" class=\"group-back\"><span>Group Dash</span><i class=\"fa fa-level-up-alt fa-rotate-270\"></i></a></div><div data-bind=\"text: moduleName\" class=\"the-module\"> </div></div><div style=\"margin-top:35px;\" class=\"dash-menu-section\"><div class=\"heading\"><i class=\"fas fa-edit\"></i><h4>Study Tools</h4></div><div class=\"menu-items\"> </div></div></div>"}),deftmp("ui.NavDrawerSubjectApp",{template:"<div data-bind=\"css:{&quot;apps-expanded&quot;:appsExpanded}, attr:{&quot;data-id&quot;:subjectID}\" class=\"ui-NavDrawerSubjectApp\"><div data-bind=\"click:toggleApps, attr:{&quot;data-subject-title&quot;:subjectName}\" class=\"subject-name\"><span data-bind=\"html:subjectName\" class=\"name\"></span><i class=\"fa fa-angle-down\"></i></div><div data-bind=\"foreach:appItems, slideVisible:appsExpanded\" class=\"app-list\"><a href=\"\" data-bind=\"visible: total&gt;0 || total === null, attr: {href: href}, css: {active:active}, click:$root.handleAppItemClick($data)\" class=\"app-item\"><div class=\"app-icon\"><i data-bind=\"css:icon\" class=\"fi\"></i></div><div class=\"app-info\"><div data-bind=\"visible: total !== null, html:total\" class=\"total\"></div><div data-bind=\"html:type\" class=\"type\"></div></div></a></div><div data-bind=\"visible:breakoutAvailable() &amp;&amp; appsExpanded()\" class=\"app-breakout scrollable\"></div><div data-bind=\"visible:breakoutAvailable() &amp;&amp; appsExpanded()\" class=\"bg-overlay\"> </div></div>"}),deftmp("ui.NewGroupForm",{template:"<div class=\"ui-NewGroupForm ui-GroupForm\"><div data-bind=\"visible: state()==&quot;needs-school-info&quot;\"><p class=\"caption\">We need some basic info about the group to create...</p><input type=\"text\" placeholder=\"Private Coursework\" required=\"required\" data-bind=\"visible: editingName, value: name\" style=\"min-width:200px\" class=\"mrs mtxl\"/><form class=\"form-horizontal\"><div class=\"form-group\"><label class=\"control-label col-md-4\">School Name</label><div class=\"col-md-4\"><input type=\"text\" required=\"required\" data-bind=\"value: schoolName\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Class Year</label><div class=\"col-md-4\"><select data-bind=\"value: gradYear\" class=\"form-control\"><option value=\"\" selected=\"selected\" disabled=\"disabled\"></option><option>2022</option><option>2021</option><option>2020</option><option>2019</option><option>2018</option><option>2017</option><option>2016</option></select></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Program</label><div class=\"col-md-4\"><select data-bind=\"value: programType\" class=\"form-control\"><option value=\"Med\">Med School</option><option value=\"PGY\">Residency</option><option value=\"Nursing\">Nursing School</option><option value=\"Pharm\">Pharmacy School</option><option value=\"PA\">PA School</option><option value=\"PT\">PT School</option></select></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-4\"></div><div class=\"col-md-4\"><button data-bind=\"click: jumpTo(&quot;confirm-name&quot;), enable: schoolName() &amp;&amp; gradYear()\" class=\"btn btn-default rfloat\">Next: Confirm Group Name</button></div><div class=\"clearfix\"></div></div></form></div><div data-bind=\"visible: state()==&quot;confirm-name&quot;\"><p data-bind=\"visible: !editingName()\" class=\"caption\"><span>This group will be called:</span><br/><br/><span><b data-bind='text: name'></b> <a href=\"\" class=\"btn btn-sm btn-default\" data-bind='toggle: editingName'>change</a></span></p><div data-bind=\"visible: editingName\"><p class=\"caption\">You can change the group name below:</p><input type=\"text\" required=\"required\" data-bind=\"value: name\" style=\"min-width:200px\" class=\"mbxl\"/></div><button data-bind=\"click: jumpTo(&quot;add-friends&quot;), enable: name()\" class=\"btn btn-default\">Next: Add Friends</button></div><div data-bind=\"visible: state()==&quot;add-friends&quot;\"><h3 data-bind=\"text: name\" class=\"center\"></h3><p class=\"caption\">Invite friends to this group by entering their emails below:</p><form class=\"form-horizontal\"><!-- ko foreach: invites--><div class=\"form-group\"><label class=\"control-label col-md-4\">Invite #<span data-bind='text: +$index()+1'></span></label><div class=\"col-md-4\"><input type=\"text\" data-bind=\"value: email\" class=\"form-control\"/></div></div><!-- /ko--><div class=\"form-group\"><label class=\"control-label col-md-4\"></label><div class=\"col-md-4\"><button data-bind=\"click: addInvite\" class=\"btn btn-default btn-sm\">Add Another Invite</button></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\"></label><div class=\"col-md-4\"><button data-bind=\"click: jumpTo(&quot;confirm-create&quot;)\" class=\"btn btn-default\">Next: Confirm Details</button></div></div></form></div><div data-bind=\"visible: state()==&quot;confirm-create&quot;\"><h3 data-bind=\"text: name\" class=\"center\"></h3><p class=\"caption\"></p><div data-bind=\"foreach: invites\"><div data-bind=\"visible: email\"><b>Invite #<span data-bind='text: +$index()+1'></span></b> <span data-bind='text: email' /></div></div><div class=\"center mtl\"><button data-bind=\"click: createNewGroup\" class=\"btn btn-primary\">Create Group</button></div></div></div>"}),deftmp("ui.NewUINotice",{template:"<div class=\"ui-NewUINotice\"><div data-bind=\"click:hideNotice\" class=\"close-section\"><span>&times;</span></div><div class=\"main-section\"><div class=\"image-section\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3f0b38f3460c53ea736504767391293952d8f399.png\"></div><div class=\"info-section\"><div class=\"title\"><h4>Osmosis is upgrading today!</h4></div><div class=\"explainer\">We've been hard at work upgrading Osmosis based on all of the amazing feedback from users like you. Want a sneak-peek?</div><div class=\"closer\">*All of your account information, including your question data, is <strong><u>SAFE</u></strong> and will be preserved. The current version of the site will be available at legacy.osmosis.org</div></div><div class=\"cta\"><a href=\"\" data-bind=\"click:openCanary\" class=\"btn btn-sm btn-primary\">Check out the new site!</a></div></div></div>"}),deftmp("ui.Newsfeed",{template:"<div class=\"ui-Newsfeed\"></div>"}),deftmp("ui.NewsfeedStatusBar",{template:"<div class=\"ui-NewsfeedStatusBar ui-GroupStatusBar\"><div class=\"status-items statusBar-section\"></div><div class=\"statusBar-cta statusBar-section\"></div></div>"}),deftmp("ui.NotesList",{template:"<div class=\"ui-NotesList\"><div style=\"color:red\" data-bind=\"html:autosaveError\"></div><div class=\"mtm notes\"></div></div>"}),deftmp("ui.NotesView",{template:"<div class=\"ui-NotesView\"><div data-bind=\"visible:hasNotes\" class=\"eventList\"></div><div data-bind=\"visible:!hasNotes()\" class=\"noNotes\"><h2 class=\"mtl\">You haven't taken any notes on Osmosis yet for this module.</h2><h3>When you do, they'll be compiled here for you. Check out the buttons above, you can choose to show the lecture slides associated with your notes or download/print them out.</h3></div></div>"}),deftmp("ui.NotificationBanner",{template:"<div data-bind=\"css:theme\" class=\"ui-NotificationBanner\"><div class=\"banner-message\"><i data-bind=\"css:icon\" class=\"fa\"></i><span data-bind=\"html:message\" class=\"the-message\"> </span><a href=\"\" data-bind=\"attr:{href:ctaLink}, html:cta\"> </a></div><i data-bind=\"click:hideBanner\" class=\"fas fa-times close-banner\"></i></div>"}),deftmp("ui.OptionsMenu",{template:"<div class=\"ui-OptionsMenu ui-ToolsMenu\"><div><h3 data-bind=\"html: title\" class=\"main-title thick-grey-bottom-border\"></h3><div data-bind=\"foreach: options\" class=\"flex-container\"><div data-bind=\"click: $root.goToURL($data), css: theme\" class=\"tool-item clickable featured\"><div class=\"tool-item-content\"><div data-bind=\"html: title\" class=\"title\"></div><div data-bind=\"html: descr\" class=\"subtitle\"></div></div></div></div></div></div>"}),deftmp("ui.PDFLeftTray",{template:"<div class=\"ui-PDFLeftTray\"><div class=\"doc-page-margin\"></div></div>"}),deftmp("ui.PDFRightTray",{template:"<div class=\"ui-PDFRightTray\"><div class=\"quesList\"></div><div style=\"color:red\" data-bind=\"html:autosaveError\"></div><div data-bind=\"visible: hasPrivateNotes\" class=\"mbl private-notes\"></div><div class=\"add-sections\"><div data-bind=\"click: createPrivateNote, visible: !hasPrivateNotes()\" class=\"add-section add-notes\"><div class=\"wrapper\"><div class=\"center\"><div class=\"add-icon\"><i class=\"fa fa-plus\"></i></div><div class=\"add-text\"><span>Take Private Notes</span></div></div></div></div><div data-bind=\"click: createFlashcard, css:{active:creatingFlashcard}\" title=\"Shortcut: Ctrl/Cmd+Enter\" class=\"add-section add-flashcard tip\"><div class=\"wrapper\"><div class=\"center\"><div class=\"add-icon\"><i class=\"fa fa-plus\"></i></div><div class=\"add-text\"><span>Create Flashcard</span></div></div></div></div><div data-bind=\"click: createQuestion, css:{active:creatingQuestion}\" class=\"add-section add-question\"><div class=\"wrapper\"><div class=\"center\"><div class=\"add-icon\"><i class=\"fa fa-plus\"></i></div><div class=\"add-text\"><span>Create Question</span></div></div></div></div></div><div data-bind=\"visible:hasQuestions\" class=\"avatar-controllers\"><h4 class=\"tray-subheading\">Attached Flashcards &amp; Questions<span data-bind=\"click:expandContentCards, visible:!contentCardsExpanded()\" class=\"expand-content-cards\">Expand All</span><span data-bind=\"click:collapseContentCards, visible:contentCardsExpanded\" class=\"collapse-content-cards\">Collapse All</span></h4><div class=\"osmosis-controller\"></div><div class=\"user-controller\"></div><div class=\"classmate-controllers\">         </div></div><div class=\"right-tray-assets\"><div class=\"personal-assets\"></div><div data-bind=\"visible:false\" class=\"osmosis-assets right-of-slide\"><div data-bind=\"event: {mouseover:toggleSpacebarHint(true), mouseout:toggleSpacebarHint(false)}\" class=\"panel dark\"><div data-bind=\"toggle: quickSideFlashcard\" class=\"panel-heading\"><div class=\"avatar-section\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3cbe3ffd685917d6e2a989236fe5ddef067120ea.png\"></div><div class=\"heading\"><p data-bind=\"visible: quickSideFlashcards().length == 1\" class=\"explain\">Is this board-tested fact currently relevant? If&nbsp;so, flag&nbsp;it for review!</p><p data-bind=\"visible: quickSideFlashcards().length &gt; 1\" class=\"explain\">Are these board-tested facts currently relevant? If&nbsp;so, flag&nbsp;them for review!</p></div></div><div data-bind=\"visible: quickSideFlashcard\" class=\"panel-body\"><div class=\"ui-QuickFlashcardBrowser\"></div><div class=\"quick-flashcards\"></div></div></div></div><div class=\"classmates\"></div></div><div data-bind=\"visible:hasResources\" class=\"slide-resources\"><h4 class=\"tray-subheading\">Attached Resources</h4><div class=\"resources\"></div></div><div class=\"slide-attachments\"></div></div>"}),deftmp("ui.Plans",{template:"<div data-bind=\"css:{discount:mode() != &quot;regular&quot;, [extraClasses()]: true}\" class=\"ui-Plans\"><div id=\"sale-animation\"></div><div id=\"landing-plans-masthead\"><div id=\"book-deal\" data-bind=\"visible: bookDealActive\"><div class=\"deal-container\"><div class=\"left-side\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/bb03355c83c4f59f3cc632db6b347ebd51c65221.png\" class=\"library-banner-image\"></div><div class=\"right-side\"><h1 data-bind=\"html: bookDealCaption\" class=\"inverted\"></h1><div class=\"subcaption\"><p data-bind=\"html: bookDealSubcaption\" class=\"inverted\"></p>&nbsp;<div class=\"disclaimer-tooltip\"><i class=\"fas fa-info-circle\"></i></div></div></div></div></div><div id=\"school-deal\" data-bind=\"visible: schoolDealActive\"><div class=\"school deal-container\"><div class=\"left-side\"></div><div class=\"right-side\"><h1 data-bind=\"html: caption\" class=\"inverted\"></h1><div class=\"subcaption\"><p data-bind=\"html: subcaption\" class=\"inverted\"></p>&nbsp;<div class=\"share-popup\"></div><div class=\"disclaimer-tooltip\"><i class=\"fas fa-info-circle\"></i></div></div></div></div></div><div id=\"user-deal\" data-bind=\"visible: userDealActive\"><div class=\"user deal-container\"><div class=\"left-side\"></div><div class=\"right-side\"><h1 data-bind=\"html: caption\" class=\"inverted\"></h1><div class=\"subcaption\"><p data-bind=\"html: subcaption\" class=\"inverted\"></p>&nbsp;<div class=\"share-popup\"></div><div class=\"disclaimer-tooltip\"><i class=\"fas fa-info-circle\"></i></div></div></div></div></div><div id=\"deal-without-book\" data-bind=\"visible: state()==&quot;live&quot; &amp;&amp; !bookDealActive &amp;&amp; !schoolDealActive &amp;&amp; !userDealActive, css: { [extraClasses()]: true, &quot;with-sub-banner&quot;: hasSubBanner }\"><div class=\"deal-container\"><img data-bind=\"visible: holidaysDeal\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/AGDntqF3SHiOtqBS8edBSuncQbuyp3zG.png\" class=\"left\"><div class=\"left-side\"><div data-bind=\"visible: hasCountdown()\" class=\"countdown\"><div class=\"fas fa-hourglass-half hourglass\"></div><div class=\"countdown-content\"><div class=\"top\"><div data-bind=\"\" class=\"hours odometer odometer-theme-train-station hours\"></div><div data-bind=\"\" class=\"minutes odometer odometer-theme-train-station minutes\"></div><div data-bind=\"\" class=\"seconds odometer odometer-theme-train-station seconds\"></div></div><div class=\"bottom\"><div class=\"label-hours\">Hrs</div><div class=\"label-minutes\">Mins</div><div class=\"label-seconds\">Secs</div></div></div></div></div><div class=\"right-side\"><h1 data-bind=\"html: caption\" class=\"inverted\"></h1><div class=\"subcaption\"></div><p data-bind=\"html: subcaption\" class=\"inverted\"></p>&nbsp;<div class=\"popups\"><div class=\"share-popup\"></div><div class=\"disclaimer-tooltip\"><i class=\"fas fa-info-circle\"></i></div></div></div></div></div><div data-bind=\"visible: hasSubBanner\" class=\"sub-banner\"><p data-bind=\"text: subBannerText\"></p><div data-bind=\"click: openIntercom\" class=\"button inverted olive\">Contact Us</div></div><div class=\"block\"><h1 data-bind=\"visible: state() !== &quot;live&quot;\" class=\"header center aligned inverted\">Unlock everything you need for studying success</h1></div></div><div id=\"landing-plans-options\"><div class=\"plans-container\"><div id=\"basic-plan\" class=\"plan\"><div class=\"box\"><div class=\"basic pricing\"><div class=\"banner-container\"><h3 data-bind=\"visible: !hasPrime() &amp;&amp; window.userID &amp;&amp; labelCurrentPlan()\" class=\"banner\">Your current Plan</h3></div><div class=\"title\"><h2>Basic</h2></div><div class=\"container\"><div class=\"price\"><h3 class=\"center aligned\">Free</h3></div><div class=\"divider\"></div></div></div><div class=\"container\"><p class=\"header\">Get free access to Osmosis Prime for a limited time. After your trial ends, you\u2019ll retain access to:</p><ul class=\"fa-ul\"><li><span class='fa-li'><i class='fas fa-check'></i></span>A limited number of pathology and patient videos (found on Youtube)</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Documents that you've uploaded to a private workspace</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Flashcards that you\u2019ve created</li></ul><div class=\"container cta\"><a data-bind=\"visible: !window.userID, click: createAccountClick\" class=\"basic button\">Sign up </a></div></div></div></div><div id=\"prime-plan\" class=\"plan\"><div class=\"box\"><div class=\"pricing\"><div data-bind=\"visible: hasPreviouslyPurchasedPrime() &amp;&amp; primePlanBannerText\" class=\"banner-container\"><h3 data-bind=\"text: primePlanBannerText\" class=\"banner\"></h3></div><div class=\"title\"><h1 class=\"inverted\">Osmosis Prime</h1></div><div class=\"ui-PlansSelection\"></div><div class=\"button-container\"><a href=\"/buy\" data-bind=\"click: buyClicked, css: { &quot;deal&quot;: discount }\" class=\"button blue inverted select-plan\">Become a member</a></div><p class=\"inverted pricing-disclaimer\"><span>All prices are listed in </span><span data-bind=\"text: currency()\"></span></p><div data-title=\"An Osmosis Prime membership is a one-time payment, billed upfront.\" class=\"pricing-tooltip\"><i class=\"fas fa-info-circle\"></i></div></div><div class=\"features container\"><div data-bind=\"visible: showQuotes\" class=\"quotes mtm\"><div class=\"quote\"><p class=\"the-quote\">I haven\u2019t found any other study resource that is better than Osmosis! Osmosis helps me stay organized with my lectures, and allows me to integrate my outside resources to further build my understanding of subjects. I really love having all of my resources in one place!</p><div class=\"the-author\"><img src=\"https://osmose-it.s3.amazonaws.com/iRyVdrnmQJSDdwoHH6E0fu4MT56mcNr6/_.jpg\" class=\"author-pic\"/><div class=\"author-info\"><div class=\"author-name\">Patrick Le</div><div class=\"author-school\">University of North Carolina</div></div></div></div><div class=\"separator\"></div><div class=\"quote\"><p class=\"the-quote\">Nothing comes close to the way Osmosis breaks down the vast amount of information thrown at you and tells you exactly what to take away from it. I can\u2019t pick only one favorite thing, but if I had to, it would probably be the videos that are given when I upload my lectures. When I don\u2019t understand a concept, I know right where to look for a better explanation.</p><div class=\"the-author\"><img src=\"https://osmose-it.s3.amazonaws.com/3Y05engqSRC_O41AUxZfEZ0XTU_XcBqe/_.jpg\" class=\"author-pic\"/><div class=\"author-info\"><div class=\"author-name\">Angela Sollitto</div><div class=\"author-school\">American University of Antigua</div></div></div></div><div class=\"separator\"></div><div class=\"quote\"><p class=\"the-quote\">Osmosis is significantly better than any other study platform I\u2019ve used or have seen other people use! The lecture preview feature, with videos that explain course concepts and questions to solidify my understanding of the material, is my favorite! Osmosis gave me a way to not only keep up with current medical school information, but also to remember previously learned information.</p><div class=\"the-author\"><img src=\"https://osmose-it.s3.amazonaws.com/gka128b1SLm81QkzNB_9LQBEQbu0mWuJ/_.jpg\" class=\"author-pic\"/><div class=\"author-info\"><div class=\"author-name\">Zachary Brooks</div><div class=\"author-school\">Campbell University</div></div></div></div></div><div class=\"ui-PrimeFeatures\"></div></div></div></div></div></div></div>"}),deftmp("ui.PlansInfo",{template:"<schoolDeal class=\"ui-PlansInfo\"><div id=\"landing-plans-all-in-one\"><div class=\"block\"><div class=\"two column grid\"><div class=\"row\"><div class=\"column left\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/61f8fffc19ea665c9d8f4b9f5c3a49af29cc33d1.png\" class=\"image\"></div><div class=\"column right\"><h1>The all-in-one learning platform</h1><p>Your Osmosis Prime membership includes everything you need\u2014including hundreds of videos, thousands of high-yield flashcards and questions, and a platform that supercharges your studying experience\u2014all in one place.</p><a data-bind=\"click: becomeMemberClick\" class=\"cta-link\">Become a member <i class=\"fas fa-arrow-right\"></i></a></div></div></div></div></div><div id=\"landing-plans-institution\" data-bind=\"visible: !schoolDealActive\"><div class=\"block\"><div class=\"two column grid\"><div class=\"row\"><div class=\"column left\"><h1 class=\"inverted\">Interested in Osmosis Prime for your school?</h1><p class=\"inverted\">We offer additional features and discounts  to groups and institutions.</p><p class=\"inverted\">If you\u2019re interested in purchasing Osmosis Prime for 10 or more people, please reach out for more information.</p><a data-bind=\"attr: {href: &quot;mailto:&quot;+&quot;support&quot;+&quot;@osmosis.org&quot;}\" target=\"_blank\" class=\"cta-link inverted\">We're interested&nbsp;<i class=\"fas fa-arrow-right\"></i></a></div><div class=\"column right\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c1b34c4b9264aa0bdf88e9d9500f47813b1282a9.png\" class=\"image\"></div></div></div></div></div><div id=\"landing-plans-cta\" data-bind=\"css: { &quot;dark&quot;: schoolDealActive }\"><div class=\"block\"><div class=\"grid\"><div class=\"row\"><div class=\"column left\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/777e62cf92daa8f9102242cee2f6c89a5ef3ee13.png\" class=\"image\"></div><div class=\"column right\"><h2>Ready to get started?</h2><p>Become an Osmosis Prime Member and unlock a toolkit for smarter, more effective studying.</p><div class=\"button-container\"><a data-bind=\"click: becomeMemberClick, css: { &quot;inverted&quot;: schoolDealActive }\" class=\"button pink\">Become a member</a></div></div></div></div></div></div></schoolDeal>"}),deftmp("ui.PlansSelection",{template:"<div data-bind=\"css: theme\" class=\"ui-PlansSelection\"><div data-bind=\"foreach: plans\" class=\"vertical menu\"><div class=\"divider\"></div><div data-bind=\"click: $root.selectPrime(time), css: {selected: $root.selectedPlan()==time}, attr:{time:time}\" class=\"item option plan-option\"><div data-bind=\"html: tag, css: $root.currency\" class=\"column left\"></div><div data-bind=\"css: $root.currency\" class=\"column middle\"><div class=\"select-radio\"></div><div class=\"pricing-text\"><span data-bind=\"text: title\" class=\"duration\"></span><span class=\"for\">&nbsp;for</span><span data-bind=\"visible: $root.showStrikePrice &amp;&amp; $root.strikePrice(time)\"><span>&nbsp;</span><span data-bind=\"html: $root.currencyMark() + $root.strikePrice(time)\" class=\"strike price\"></span></span><span>&nbsp;</span><span data-bind=\"html: $root.currencyMark\" class=\"dollar-symbol\"></span><span data-bind=\"text: $root.totalPrice(time)\" class=\"price\"></span></div></div></div></div></div>"}),deftmp("ui.Playlist",{template:"<div class=\"ui-Playlist\"><div class=\"panel\"><div class=\"panel-body\"><h3>Flashcard Replay: High-yield Techniques</h3><ol><li>This page contains everything you have missed today.</li><li>Work through this page <b>only</b> after you've completed your queues in <b>Review</b>.</li><li>Instead of answering questions, click on all links and all resources to strenghthen your knowledge.</li><li>Seeing the same concept in different contexts will improve your long term retention faster than note taking or repeated study.</li></ol></div></div><div data-bind=\"visible: loading\" class=\"ajax-loading pvl\"><div class=\"spin-loader-lg\"></div></div><div data-bind=\"visible: !loading()\" class=\"mtl\"><form><div class=\"radio\"><label><input type=\"checkbox\" name=\"playlistFilters\" data-bind=\"checked: filters.correct\"/> Correct</label><label><input type=\"checkbox\" name=\"playlistFilters\" data-bind=\"checked: filters.incorrect\"/> Incorrect</label><label><input type=\"checkbox\" name=\"playlistFilters\" data-bind=\"checked: filters.correctButGuessed\"/> Correct but Guessed</label><label><input type=\"checkbox\" name=\"playlistFilters\" data-bind=\"checked: filters.withoutResources\"/> Show cards that do not have resources</label><label><input type=\"checkbox\" name=\"playlistFilters\" data-bind=\"checked: includeYesterday\"/> Show yesterday</label></div></form><div data-bind=\"visible: hasFlashcards() == &quot;hasPassedFC&quot;\"><div class=\"playlist\"></div><div data-bind=\"visible: hasRemaining\" class=\"ajax-loading pvl\"><img src=\"/assets/images/ajax-loader.gif\" style=\"width:50px\" class=\"center\"/></div></div><div data-bind=\"visible: hasFlashcards() == &quot;hasFC&quot;\"><div class=\"alert alert-success center\">The flashcards you've completed have been filtered away.</div></div><div data-bind=\"visible: hasFlashcards() == &quot;none&quot;\"><div class=\"alert alert-success center\">You haven't done any flashcards yet today.</div></div></div></div>"}),deftmp("ui.PlaylistDivider",{template:"<div class=\"ui-PlaylistDivider\"><div><i class=\"fa fa-list\"></i><span data-bind=\"html: title\" class=\"mls\"></span></div></div>"}),deftmp("ui.PlaylistRow",{template:"<div data-bind=\"visible:rowVisible\" class=\"ui-PlaylistRow\"><div data-bind=\"css:theme\" class=\"video-list\"><div data-bind=\"toggle: visible, attr:{&quot;data-cat-title&quot;:title}, css:{&quot;active&quot;:visible}\" class=\"playlist-title clickable\"><h4 data-bind=\"text: title\" class=\"inverted\"></h4><div class=\"video-count\"><span data-bind=\"html: videoCount\" class=\"total\"></span><span data-bind=\"visible: videoCount==1\">&nbsp;Video&nbsp;&nbsp;&nbsp;&nbsp;</span><span data-bind=\"visible: videoCount!=1\">&nbsp;Videos&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div data-bind=\"visible: !(visible() || title == mergedCatTitle())\" class=\"marker\"><i class=\"fa fa-angle-right\"></i></div><div data-bind=\"visible: visible() || title == mergedCatTitle()\" class=\"marker\"><i class=\"fa fa-angle-down\"></i></div></div><div data-bind=\"slideVisible: visible() || title == mergedCatTitle()\" class=\"list-body\"><div class=\"clusters\"></div></div></div></div>"}),deftmp("ui.Popup",{template:"<div data-bind=\"css:theme+&quot; &quot;+position+&quot; &quot;+customCss, visible:visibleConditions\" class=\"ui-Popup\"><div class=\"marker\"><i data-bind=\"css:{&quot;fa-caret-down&quot;:position==&quot;top&quot;, &quot;fa-caret-up&quot;:position==&quot;bottom&quot;, &quot;fa-caret-left&quot;:position==&quot;right&quot;, &quot;fa-caret-right&quot;:position==&quot;left&quot;}\" class=\"fa\"></i></div><div class=\"wrapper\"><div class=\"top-section\"><div data-bind=\"visible:step\" class=\"step-progress\"><div data-bind=\"html:step\" class=\"current-step\"></div><span>&nbsp;of&nbsp;</span><div data-bind=\"html:steps\" class=\"total-steps\"></div></div><div data-bind=\"click:ctaClick\" class=\"closer\"><span>&times;</span></div></div><div data-bind=\"html:title\" class=\"title\"></div><div data-bind=\"html:text\" class=\"explainer\"></div><div class=\"center\"><div data-bind=\"visible:ctaText, click:ctaClick\" class=\"cta\"><div data-bind=\"html:ctaText\" class=\"cta-text\"></div></div><div data-bind=\"visible: ctaSubtext, html: ctaSubtext\" class=\"cta-sub\"></div></div></div></div>"}),deftmp("ui.PopupMenu",{template:"<div data-bind=\"fadeVisible: popupVisible, fadeDirection: &quot;down&quot;, fadeDistance: 15, click:function(){},clickBubble:false\" class=\"ui-PopupMenu\"><header data-bind=\"css: { headless: !header }\"><span data-bind=\"html: header\"></span><div data-bind=\"click: close\" class=\"close-btn fas fa-fw fa-times\"></div></header><ul data-bind=\"foreach: items\" class=\"popup-items\"><span data-bind=\"if: type === &quot;hr&quot;\" class=\"popup-item-wrapper\"><hr/></span><span data-bind=\"if: type !== &quot;hr&quot;\" class=\"popup-item-wrapper\"><li data-bind=\"css: `popup-item-type-${type}`, attr: { &quot;data-item-id&quot;: $index() }\" class=\"popup-item\"><div data-bind=\"click: function(a,e) { $root.handleClick(e, $data); }, css: {highlighted: highlighted}, style: {color: color}\" class=\"popup-item-container\"><span data-bind=\"visible: icon !== '', css: icon\" class=\"popup-item-icon\"></span><span data-bind=\"visible: type !== 'toggle'\" class=\"popup-content\"><span data-bind=\"html: text, visible: text, css: color\" class=\"popup-content-text\"></span><div data-bind=\"foreach: list, visible: list.length\" class=\"popup-list\"><div class=\"popup-list-item-wrapper\"><div data-bind=\"attr: { &quot;data-list-item-id&quot;: $index() }\" class=\"popup-list-item\"><span data-bind=\"html: typeof $data === &quot;string&quot; ? $data : $data.text\" class=\"popup-list-item-text\"></span><span class=\"popup-list-item-icon\"><i class=\"fas fa-arrows-alt\"></i></span></div></div></div></span><span data-bind=\"visible: type === 'toggle'\" class=\"toggle-item popup-content\"><span data-bind=\"html: text, css: color\" class=\"toggle-text\"></span><span class=\"small toggle-input\"><label><span data-bind=\"visible: !$root.toggleIcon\"><input type=\"checkbox\" data-bind=\"checked: currentState\"/><div class=\"slider\"></div></span><span data-bind=\"if: $root.toggleIcon\" class=\"toggle-icon-container\"><span data-bind=\"html: $root.toggleIcon, style: { &quot;visibility&quot;: currentState() ? &quot;visible&quot; : &quot;hidden&quot; }\" class=\"toggle-icon\"></span></span></label></span></span></div></li></span></ul></div>"}),deftmp("ui.PrimeCtaOverlay",{template:"<div class=\"ui-PrimeCtaOverlay\"><div data-bind=\"click:close\" class=\"bg-overlay\"> </div><div class=\"content\"> <div class=\"side-col\"><div class=\"section video\"><div class=\"icon\"><i class=\"fi fi-play\"></i></div><div class=\"the-label\">Watch</br />Videos.    </div></div><div class=\"section quiz\"><div class=\"icon\"><i class=\"fi fi-flashcard-bolt\"></i></div><div class=\"the-label\">Take</br />A<br />Quiz.</div></div><div class=\"section learn\"><div class=\"icon\"><i class=\"fa fa-check\"></i></div><div class=\"the-label\">Learn</br />Medicine.</div></div></div><div class=\"main-col\"><div class=\"title\">Learn medicine by Osmosis.</div><ul><li><i class=\"fa fa-check\"></i><div class=\"info\">Osmosis tells you what you need to review and when</div></li><li><i class=\"fa fa-check\"></i><div class=\"info\">Hundreds of exclusive Osmosis Prime videos you won't find on YouTube</div></li><li><i class=\"fa fa-check\"></i><div class=\"info\">Links to all your favorite resources in one place including First Aid, Pathoma, Picmonic, Sketchymedical, and UWorld</div></li><li><i class=\"fa fa-check\"></i><div class=\"info\">Professionally written and reviewed flashcards and practice questions designed to increase your retention and boost your high-stakes exam scores</div></li><li><i class=\"fa fa-check\"></i><div class=\"info\">Osmose anywhere on Android and iOS</div></li></ul><div data-bind=\"visible:primeStatus() != -1\" class=\"closer\">Try Osmosis.org free for 2 weeks</div><div class=\"cta\"><a data-bind=\"click:start, html:ctaText\" class=\"btn btn-primary btn-lg\"></a></div><div class=\"no-thanks center\"><a data-bind=\"click:close\" href=\"\">Not now, thanks  </a></div></div></div></div>"}),deftmp("ui.PrimeFeatures",{template:"<div class=\"ui-PrimeFeatures\"><h3 data-bind=\"visible: showTitle\">Features:</h3><div class=\"two column grid\"><div class=\"row\"><div class=\"column\"><ul class=\"fa-ul\"><li><span class='fa-li'><i class='fas fa-check'></i></span>Everything in Basic</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Access to a comprehensive library of over 1000 videos</li><li><span class='fa-li'><i class='fas fa-check'></i></span><strong>Comprehensive</strong> video coverage of pathology</li><li><span class='fa-li'><i class='fas fa-check'></i></span><strong>Comprehensive</strong> video coverage of physiology</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Growing video coverage of pharmacology</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Growing video coverage of clinical reasoning</li><li><span class='fa-li'><i class='fas fa-check'></i></span>More than <strong>15,000 Osmosis flashcards</strong> powered by spaced repetition</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Over <strong>8,000 Osmosis case questions</strong> for USMLE&reg; Step 1, USMLE&reg; Step 2, COMLEX-USA&reg; OMM, and NCLEX&reg;</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Personalized daily reminder emails</li></ul></div><div class=\"column\"><ul class=\"fa-ul\"><li><span class='fa-li'><i class='fas fa-check'></i></span><strong>Discounts</strong> on Osmosis textbooks, swag, and partner products</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Prioritized customer support</li><li><span class='fa-li'><i class='fas fa-check'></i></span><strong>Customized exam Study Schedules</strong> linked to all of your study resources</li><li><span class='fa-li'><i class='fas fa-check'></i></span><strong>References</strong> to your favorite study tools including Picmonic, SketchyMedical, Medscape, and First Aid</li><li><span class='fa-li'><i class='fas fa-check'></i></span><strong>Study analytics with recommendations</strong> based on your performance</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Customized flashcard builder</li><li><span class='fa-li'><i class='fas fa-check'></i></span>Access to downloaded flashcards and case questions in <strong>offline mode</strong></li></ul></div></div></div></div>"}),deftmp("ui.PrimeLockOverlay",{template:"<div data-bind=\"css:{ full: fullScreen, fullTab: fullTab }, visible: onboardMode() != &quot;full&quot;\" class=\"ui-PrimeLockOverlay prime-lockout\"><div class=\"lockout-container\"><div class=\"content-type default\"><div class=\"lock-icon\"><i data-bind=\"css: lockIcon\" class=\"fas\"></i></div><div data-bind=\"visible: !freeTrialActive() || primeOnly\" class=\"lock-message\"><div data-bind=\"visible: freeTrialExpired\" class=\"trial-expired-message\"><div class=\"negative message\"><h3 data-bind=\"text: freeTrialExpiredText\" class=\"text\"></h3></div></div><h1 data-bind=\"html: lockoutHeader\" class=\"inverted\"></h1><p data-bind=\"html: lockoutMessage\" class=\"inverted explain\"></p></div><div data-bind=\"visible: freeTrialActive() &amp;&amp; !primeOnly\" class=\"unlocked-message\"><h1 data-bind=\"html: activatedTrialHeader\" class=\"inverted\"></h1><p data-bind=\"html: activatedTrialMessage\" class=\"inverted explain\"></p></div><div data-bind=\"visible: !freeTrialActive() &amp;&amp; !primeOnly\" class=\"extra-content\"><button data-bind=\"visible: !freeTrialExpired(), click: activateFreeTrial\" class=\"basic button free-trial-button\">Activate free trial</button><button href=\"\" data-bind=\"click: purchase\" class=\"blue inverted button\">Purchase Prime</button><button href=\"\" data-bind=\"visible: hasCancel, click: cancel\" class=\"cancel-lockout\">No thanks, not right now</button></div><div data-bind=\"visible: freeTrialActive() &amp;&amp; !primeOnly\" class=\"extra-content\"><a data-bind=\"click: reload, html: activatedButtonText\" class=\"blue button inverted\"></a></div><div data-bind=\"visible: primeOnly\" class=\"extra-content\"><button href=\"\" data-bind=\"click: purchase\" class=\"blue inverted button\">Purchase Prime</button></div></div><div id=\"schedule-video-wrapper\" class=\"video\"></div><div data-bind=\"visible: !window.userID &amp;&amp; hasLoginStep()\" class=\"login-step\"><div class=\"login-step-container\"><div class=\"divider text\">OR</div><p class=\"inverted text\"><span data-bind=\"click: showLoginBtns\" class=\"login-confirm\">Login </span><span>to confirm membership</span></p><div data-bind=\"visible: loginBtnsVisible\" class=\"login-btns\"><div class=\"form-inline center\"><button data-bind=\"click: withFacebook\" class=\"button left left-icon\"><i style=\"color: #3b5999\" class=\"fab fa-facebook\"></i> with Facebook</button><button data-bind=\"click: withGoogle\" class=\"button left-icon\"><i style=\"color:#A52A2A\" class=\"fab fa-google\"></i> with Google</button></div></div></div></div></div></div>"}),deftmp("ui.PrintEventNotes",{template:"<div data-bind=\"visible: hasNotes\" class=\"ui-PrintEventNotes\"><h1><span data-bind=\"text:event.title\"></span><span>&nbsp;</span><small data-bind=\"text:event.instructor\"></small></h1><div class=\"notesList\"></div><div class=\"mtl\">&nbsp;</div></div>"}),deftmp("ui.PrintNotesView",{template:"<div class=\"ui-PrintNotesView\"><div data-bind=\"visible:hasNotes\" class=\"eventList\"></div><div data-bind=\"visible:!hasNotes()\" class=\"noNotes\"><h2 class=\"mtl\">You haven't taken any notes on Osmosis yet for this module.</h2><h3>When you do, they'll be compiled here for you. Check out the buttons above, you can choose to show the lecture slides associated with your notes or download/print them out.</h3></div></div>"}),deftmp("ui.PrivTermNotice",{template:"<div data-bind=\"visible: showNotice\" class=\"ui-PrivTermNotice\"><div class=\"priv-term-popup\"><div class=\"priv-term-logo-wrapper\"><img src=\"/assets/images/logo/new/handdrawn-o2.png\" class=\"priv-term-logo\"/></div><div class=\"priv-term-header\">Osmosis Terms of Service and Privacy Policy agreement</div><div class=\"priv-term-description\">Our site uses cookies to deliver relevant messages during your vists,&nbsp;\nsuch as presenting our latest offers and allowing for easier access for Prime Members.&nbsp;\nTo recieve the best experience, please agree to the&nbsp;<a href=\"/terms\">Terms of Service</a>. and&nbsp;<a href=\"/privacy\">Privacy Policy</a>.</div><div class=\"priv-term-content-container\"></div><div class=\"priv-term-disclaimer\">By clicking on \"Agree\" below you are agreeing to the&nbsp;<a href=\"/terms\">Terms of Service</a>&nbsp;and the&nbsp;<a href=\"/privacy\">Privacy Policy</a>.</div><div class=\"priv-term-cta-container\"><button data-bind=\"click: dontAgreeClicked\" class=\"priv-term-cta priv-term-cta-dont-agree\">Don't agree</button><button data-bind=\"click: agreeClicked\" class=\"priv-term-cta priv-term-cta-agree\">Agree</button></div></div></div>"}),deftmp("ui.ProfileBadge",{template:"<div class=\"ui-ProfileBadge\"><div class=\"dash-menu-item\"><div class=\"info\"><p data-bind=\"text:userName\" class=\"name\"></p><p data-bind=\"text:userExtraInfo\" class=\"extra\"></p></div><div class=\"avatar\"></div></div></div>"}),deftmp("ui.ProfileSidebar",{template:"<div class=\"ui-ProfileSidebar\"><div class=\"user-section\"><div class=\"avatar-container\"><div class=\"avatar\"><div class=\"ui-Avatar\"></div></div><div class=\"upload-overlay\"><i class=\"fa fa-upload\"></i><span>Upload Profile Picture</span></div></div><div class=\"user-data\"><div class=\"the-name\"><span data-bind='html:window.user.first' /> <span data-bind='html:window.user.last' /></div></div><div data-bind=\"visible:primeExpiresSoon\" class=\"prime-cta\"><a href=\"/plans\" class=\"btn btn-primary btn-xs\">Purchase Prime</a><a href=\"/plans\" class=\"hidden btn btn-primary btn-xs\">Add More Prime</a></div></div></div>"}),deftmp("ui.ProgressBars",{template:"<div data-bind=\"css: theme + &quot; &quot; + color + &quot; &quot; + size\" class=\"ui-ProgressBars\"><div data-bind=\"style: progressBarsBackground.style\" class=\"progress-bars-background\"></div><div data-bind=\"style: progressBarsLine.style\" class=\"progress-bars-line\"></div><div data-bind=\"foreach: steps\" class=\"progress-bars-items\"><div data-bind=\"css: $data.css, style: $data.style, text: ($root.themeAllowsText ? $data.text() : &quot;&quot;)\" class=\"progress-bars-item\"></div></div></div>"}),deftmp("ui.ProgressCircle",{template:"<div data-bind=\"style: { width: size, height: size }\" class=\"ui-ProgressCircle\"><div data-bind=\"text: progressText, visible: !hideText\" class=\"circle-text\"></div><div data-bind=\"css: centerIcon\" class=\"circle-icon\"></div><div data-bind=\"visible: !hideBackground, style: { borderWidth: borderSize }\" class=\"circle-background circle\"></div><div data-bind=\"style: { width: size, height: size, clip: wrapperRectSizing }, css: { 'no-clip': progress() &gt;= 0.5 }\" class=\"circle-wrapper\"><div data-bind=\"style: circleLeftSideStyle()\" class=\"circle circle-left-side\"></div><div data-bind=\"style: circleRightSideStyle()\" class=\"circle circle-right-side\"></div></div></div>"}),deftmp("ui.PurchaseModal",{template:"<div data-bind=\"visible: modalVisible()\" class=\"ui-PurchaseModal\"><div class=\"purchase-modal-container\"><div class=\"purchase-modal\"><i data-bind=\"click: closeModal\" class=\"fas fa-times close-modal\"></i><div class=\"form-space\"><div class=\"ui-onboarding-PrimeSelection\"></div></div></div></div></div>"}),deftmp("ui.QBankFilter",{template:"<div class=\"ui-QBankFilter mts\"><select style=\"display: inline-block\" data-bind=\"value: filterType\" class=\"filter-select filter-type\"><option value=\"\">Select filter type...</option><option value=\"tag\" data-bind=\"visible: hasFilter.tags\">Tag</option><option value=\"nodeID\" data-bind=\"visible: hasFilter.id\">Question ID</option><option value=\"author\" data-bind=\"visible: hasFilter.author\">Author</option><option value=\"text\" data-bind=\"visible: hasFilter.text\">Text</option><option value=\"event\" data-bind=\"visible: hasFilter.event\">Lecture/Event</option><option value=\"type\" data-bind=\"visible: hasFilter.type\">Question Type</option></select><select style=\"display: inline-block\" data-bind=\"value: unary, options: unaryOptions, optionsText: &quot;name&quot;, optionsValue:&quot;op&quot;\" class=\"filter-select filter-operator mls mrl\"></select><div data-bind=\"visible: filterType()==&quot;tag&quot;\" class=\"tag-filter filter-option\"><div class=\"ui-SelectBox tagSelect multiple\"></div></div><div data-bind=\"visible: filterType()==&quot;nodeID&quot;\" class=\"id-filter filter-option\"><input type=\"text\" data-bind=\"value: filter.nodeID\"/></div><div data-bind=\"visible: filterType()==&quot;author&quot;\" class=\"author-filter filter-option\"><div class=\"ui-SelectBox authorSelect multiple\"></div></div><div data-bind=\"visible: filterType()==&quot;event&quot;\" class=\"event-filter filter-option\"><div class=\"ui-SelectBox filterByEvents multiple\"></div></div><div data-bind=\"visible: filterType()==&quot;text&quot;\" class=\"text-filter filter-option\"><input type=\"text\" data-bind=\"value: filter.text, valueUpdate: &quot;afterkeydown&quot;, enterkey: apply\"/></div><div data-bind=\"visible: filterType()==&quot;type&quot;\" class=\"type-filter filter-option\"><div class=\"ui-SelectBox quesTypeSelect multiple\"></div></div><div data-bind=\"visible: filterType()==&quot;myRating&quot;\" class=\"my-rating-filter filter-option\"><div class=\"ui-SelectBox myRatingSelect multiple\"></div></div><div data-bind=\"visible: filterType()==&quot;groupRating&quot;\" class=\"my-rating-filter filter-option\"><div class=\"ui-SelectBox myGroupRatingSelect multiple\"></div></div><div data-bind=\"click: remove\" class=\"close-btn clickable\"><div class=\"fa fa-times\"></div></div><div class=\"clearfix\"></div></div>"}),deftmp("ui.QBankFilters",{template:"<div class=\"ui-QBankFilters\"><div class=\"filters\"></div><div class=\"lfloat\"><button data-bind=\"click: addFilter\" class=\"btn btn-default\">And</button></div><div class=\"rfloat\"><button data-bind=\"click: applyFilters\" class=\"btn btn-primary mls\">Apply Filters</button></div></div>"}),deftmp("ui.QBankSidebar",{template:"<div class=\"ui-QBankSidebar\"><div class=\"ui-ProfileBadge\"></div><div class=\"dash-menu-section\"><div id=\"quiz-now\" class=\"dash-menu-item-large blue\"><a data-bind=\"click: launchReview, attr:{href: &quot;/qbanks/quiz/now&quot;}\" class=\"tabNavLink\"><div class=\"icon\"><i class=\"fa fa-flag-checkered\"></i></div><div class=\"text\"><h4>Review</h4><span>Do flashcards via spaced repetition and questions for mastery</span></div></a></div></div><div style=\"margin-top:35px;\" data-bind=\"visible: canSelectByPack\" class=\"dash-menu-section\"><div class=\"heading\"><i class=\"fa fa-question-circle\"></i><h4>Create New Quiz</h4></div><div id=\"flashcards-select\" class=\"dash-menu-item green\"><a href=\"\" data-bind=\"click: launchReview, attr:{href: &quot;/qbanks/flashcards/select&quot;}\" class=\"tabNavLink\">Flashcards</a></div><div id=\"questions-select\" class=\"dash-menu-item purple\"><a href=\"\" data-bind=\"click: launchReview, attr:{href: &quot;/qbanks/questions/select&quot;}\" class=\"tabNavLink\">Questions</a></div></div><div style=\"margin-top:35px;\" class=\"dash-menu-section\"><div class=\"heading\"><i class=\"fa fa-question-circle\"></i><h4>Progress</h4></div><div id=\"progress-playlist\" class=\"dash-menu-item blue\"><a href=\"\" data-bind=\"attr:{href: &quot;/qbanks/progress/playlist&quot;}\" class=\"tabNavLink\">Playlist</a></div></div><div class=\"dash-menu-section advanced sticky-bottom floating mbm\"><div class=\"heading\"><i class=\"fa fa-question-circle\"></i><h4>Personalized Scheduling</h4></div><div id=\"schedule-overview\" class=\"dash-menu-item orange\"><a href=\"\" data-bind=\"attr:{href: &quot;/qbanks/schedule/overview&quot;}\" class=\"tabNavLink\">Overview</a></div><div id=\"schedule-preclinical\" class=\"dash-menu-item orange\"><a href=\"\" data-bind=\"attr:{href: &quot;/qbanks/schedule/preclinical&quot;}\" class=\"tabNavLink\">Preclinical Classes</a></div><div id=\"schedule-step1\" class=\"dash-menu-item orange\"><a href=\"\" data-bind=\"attr:{href: &quot;/qbanks/schedule/step1&quot;}\" class=\"tabNavLink\">Step 1</a></div><div id=\"schedule-clinical\" class=\"dash-menu-item orange\"><a href=\"\" data-bind=\"attr:{href: &quot;/qbanks/schedule/clinical&quot;}\" class=\"tabNavLink\">Clinical Rotations</a></div><div id=\"schedule-step2\" class=\"dash-menu-item orange\"><a href=\"\" data-bind=\"attr:{href: &quot;/qbanks/schedule/step2&quot;}\" class=\"tabNavLink\">Step 2</a></div></div></div>"}),deftmp("ui.QuesEdit",{template:"<tr data-bind=\"style: {&quot;background-color&quot;: statusClass}\" class=\"ui-QuesEdit\"><td data-bind=\"text: edit.nodeID\"></td><td data-bind=\"html: ques\"></td><td><div data-bind=\"visible: view()==&quot;admin&quot;\"><a href='' data-bind='attr: {href: itemURL()+\"&show=rev\"}' target='_blank'>View <i class=\"fas fa-external-link-alt\"/></a></div><div data-bind=\"visible: view()==&quot;editor&quot;\"><a href='' data-bind='attr: {href: itemURL()+\"&show=edit\"}' target='_blank'>Edit <i class=\"fas fa-external-link-alt\"/></a></div></td><td data-bind=\"foreach: edit.msg\"><div><span data-bind='text: name'/>: <span data-bind='text: msg'/> <span data-bind='visible: count'><span data-bind='text: count'/>x</span></div></td><td><div data-bind=\"text: when(edit.timestamp)\"></div></td><td><div data-bind=\"visible: view()==&quot;admin&quot;\"><div data-bind=\"visible: status()&lt;2\"><div data-bind=\"visible: mode()==&quot;review&quot;\" class=\"mtm\"><div data-bind=\"click: writeMsg\" class=\"btn btn-sm btn-default\">Return to Editor</div><div data-bind=\"ajax: approve\" class=\"btn btn-sm btn-success mls\">Approve for Publication</div></div><div data-bind=\"visible: mode()==&quot;return&quot;\" class=\"mtm\"><textarea rows=\"5\" style=\"width: 300px\" data-bind=\"value: returnMsg\" placeholder=\"Message to editor/author\"></textarea><div><div data-bind=\"ajax: returnToEditor\" class=\"btn btn-sm btn-warning\">Return to Editor</div></div></div></div><div data-bind=\"visible: status()==2\" class=\"fwb\">Approved</div></div><div data-bind=\"visible: view()==&quot;editor&quot;\"><div class=\"mtm\"><textarea rows=\"5\" style=\"width: 300px\" data-bind=\"value: returnMsg\" placeholder=\"Respond or ask for more feedback (optional)\"></textarea><div><div data-bind=\"ajax: askForFeedback\" class=\"btn btn-sm btn-warning\">Ask for feedback</div></div></div></div></td></tr>"}),deftmp("ui.QuesEditPanel",{template:"<div data-bind=\"style: {&quot;background-color&quot;: statusClass}\" class=\"ui-QuesEditPanel\"><div class=\"pvm phm\"><div data-bind=\"foreach: edit.msg\"><div><span data-bind='text: name'/>: <span data-bind='text: $data.msg'/> <span data-bind='visible: $data.count'><span data-bind='text: $data.count'/>x</span></div></div><div><div data-bind=\"text: when(edit.timestamp)\"></div></div><div><div><div data-bind=\"visible: status()&lt;2\"><div data-bind=\"visible: mode()==&quot;review&quot;\" class=\"mtm\"><div class=\"mts center\"><div data-bind=\"click: writeMsg\" class=\"btn btn-sm btn-default\">Return to Editor</div></div><div class=\"mts center\"><div data-bind=\"ajax: approve\" class=\"btn btn-sm btn-success\">Approve for Publication</div></div></div><div data-bind=\"visible: mode()==&quot;return&quot;\" class=\"mtm\"><textarea rows=\"5\" style=\"width: 300px\" data-bind=\"value: returnMsg\" placeholder=\"Message to editor/author\"></textarea><div><div data-bind=\"ajax: returnToEditor\" class=\"btn btn-sm btn-warning\">Return to Editor</div></div></div></div><div data-bind=\"visible: status()==2\" class=\"fwb\">Approved</div></div></div></div></div>"}),deftmp("ui.QuesFilters",{template:"<div style=\"width:100%\" class=\"ui-QuesFilters\"><div class=\"filters\"><div data-bind=\"visible: MID\"><div class=\"fwb\"><i class=\"fa fa-tags\"/> Tag Filters</div><div data-bind=\"visible: !filterActive[&quot;tags&quot;]()\" style=\"font-size:90%\">Tag filters let you include or exclude questions by the tags you've created. <a href='' data-bind='click: toggleFilter(\"tags\")'>Turn&nbsp;on</a> tag filters.</div><div data-bind=\"visible: filterActive[&quot;tags&quot;]\"><div class=\"tags\"><label class=\"fwb mrs\">Include&nbsp;</label><div class=\"ui-SelectBox filterSelect multiple\"></div><ul data-bind=\"foreach: popularTags\" class=\"tag-list\"><li data-bind=\"\" class=\"the-tag\"><a href=\"#\" data-bind=\"click:$root.selectTag($data)\" class=\"btn btn-success btn-sm\"><i class=\"fa fa-plus\"></i><span data-bind=\"text:tagName\"></span></a></li></ul></div><div class=\"tags\"><label class=\"fwb mrs\">Exclude any&nbsp;</label><div class=\"ui-SelectBox excludeTagSelect multiple\"></div></div></div></div><div data-bind=\"visible: MID\"><hr/><div class=\"fwb\"><i class=\"fa fa-user\"/> Author Filters</div><div data-bind=\"visible: !filterActive[&quot;author&quot;]()\" style=\"font-size:90%\">Author filters let you include questions written by only a particular author or set of authors. <a href='' data-bind='click: toggleFilter(\"author\")'>Turn&nbsp;on</a> author filters.</div><div data-bind=\"visible: filterActive[&quot;author&quot;]\"><div class=\"tags\"><div class=\"ui-SelectBox userSelect multiple\"></div><ul data-bind=\"foreach: popularAuthors\" class=\"tag-list\"><li class=\"the-tag\"><a href=\"#\" data-bind=\"click:$root.selectTag($data)\" class=\"btn btn-success btn-sm\"><i class=\"fa fa-plus\"></i><span data-bind=\"text:authorName\"></span></a></li></ul></div></div></div><div data-bind=\"visible: MID &amp;&amp; FEATURES.docs\"><hr/><div class=\"fwb\"><i class=\"fa fa-calendar\"/> Lecture/Event Filters</div><div data-bind=\"visible: !filterActive[&quot;lecture&quot;]()\" style=\"font-size:90%\">Lecture/event filters allow you to include questions that were attached to documents by either students or instructors. <a href='' data-bind='click: toggleFilter(\"lecture\")'>Turn&nbsp;on</a> lecture/event filters.</div><div data-bind=\"visible: filterActive[&quot;lecture&quot;]\"><div class=\"mts\"></div><div class=\"filterByEvents\"></div></div></div><div data-bind=\"visible: MID &amp;&amp; FEATURES.docs\"><hr/><div></div><div class=\"fwb\"><i class=\"fa fa-calendar\"/> Formative Assessment Filters</div><div data-bind=\"visible: !filterActive[&quot;assessment&quot;]()\" style=\"font-size:90%\">Osmosis can be used by your instructors to assign formative assessments. If your instructor has created a formative assessment on Osmosis, you can select only those questions here. <a href='' data-bind='click: toggleFilter(\"assessment\")'>Turn&nbsp;on</a> formative assessment filters.</div><div data-bind=\"visible: filterActive[&quot;assessment&quot;]() &amp;&amp; officialQuizzes().length &gt; 2\"><div class=\"mts\"><div class=\"filterByOfficialQuiz\"></div></div></div><div data-bind=\"visible: filterActive[&quot;assessment&quot;]() &amp;&amp; officialQuizzes().length &lt;= 2\"><i>You don't have any formative assessments but feel free to talk to your professors about using Osmosis to create them. Several schools are already using Osmosis to improve students' understanding of lecture material so we'd be happy to speak with any interested faculty at your school. Email us at <b>hi@osmosis.org</b>.</i></div></div><hr/><div class=\"fwb\"><i class=\"fa fa-question-circle\"/> Question Type</div><div data-bind=\"visible: !filterActive[&quot;type&quot;]()\" style=\"font-size:90%\">Is there a particular question type you don't like? Filter it out here. For example, if you're short on time, label matching can be slow so this filter makes it easy to remove. <a href='' data-bind='click: toggleFilter(\"type\")'>Modify</a> question type filters.</div><div data-bind=\"visible: filterActive[&quot;type&quot;]\"><div class=\"mlm\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: selectAllQuesTypes\"/>Select All</label></div><div data-bind=\"visible: parent.type()==&quot;questions&quot;\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: quesTypeFilters[1]\"/>Multiple Choice</label></div><div data-bind=\"visible: parent.type()==&quot;questions&quot;\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: quesTypeFilters[2]\"/>True/False</label></div><div data-bind=\"visible: parent.type()==&quot;questions&quot;\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: quesTypeFilters[4]\"/>Label Matching</label></div><div data-bind=\"visible: parent.type()==&quot;flashcards&quot;\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: quesTypeFilters[5]\"/>Flashcards</label></div><div data-bind=\"visible: parent.type()==&quot;flashcards&quot;\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: quesTypeFilters[7]\"/>Fill-in Factoid</label></div></div></div><hr/><div class=\"fwb\"><i class=\"fa fa-thumbs-up\"/> Rating Filters</div><div data-bind=\"visible: !filterActive[&quot;rating&quot;]()\" style=\"font-size:90%\">When you answer a question you can rate it to decide if you want to repeat it again or to avoid it later. Prior to rating any questions, we can also average your classmates' ratings so you can avoid questions other people did not like. By default, questions you rated \"Not Helpful\" are excluded and only questions that are rated on average \"Good\" to \"Awesome\" by the group anre included <a href='' data-bind='click: toggleFilter(\"rating\")'>Modify</a> question rating filters.</div><div data-bind=\"visible: filterActive[&quot;rating&quot;]\"><div class=\"box\"><h5>My Rating</h5><div class=\"mlm\"><div class=\"radio\"><label><input type=\"radio\" value=\"1\" data-bind=\"checked: myRatingFilter\"/>Exclude Not Helpful</label></div><div class=\"radio\"><label><input type=\"radio\" value=\"2\" data-bind=\"checked: myRatingFilter\"/>Good to Awesome</label></div><div class=\"radio\"><label><input type=\"radio\" value=\"3\" data-bind=\"checked: myRatingFilter\"/>Only Awesome</label></div><div class=\"radio\"><label><input type=\"radio\" value=\"0\" data-bind=\"checked: myRatingFilter\"/>Ignore Ratings</label></div></div></div><div class=\"box\"><h5>Group Average Rating</h5><div class=\"mlm\"><div class=\"radio\"><label><input type=\"radio\" value=\"1\" data-bind=\"checked: groupRatingFilter\"/>Good to Awesome</label></div><div class=\"radio\"><label><input type=\"radio\" value=\"2\" data-bind=\"checked: groupRatingFilter\"/>Only Awesome</label></div><div class=\"radio\"><label><input type=\"radio\" value=\"0\" data-bind=\"checked: groupRatingFilter\"/>Ignore Group Opinions</label></div></div></div></div></div></div>"}),deftmp("ui.QuesItemAnalytics",{template:"<div class=\"ui-QuesItemAnalytics\"><div class=\"fwb\">First Pass</div><div class=\"firstBlock\"></div><div class=\"fwb\">Overall</div><div class=\"allBlock\"></div></div>"}),deftmp("ui.QuesItemAnalyticsBlock",{template:"<div class=\"ui-QuesItemAnalyticsBlock mlm\"><div>This question has been answered <span class=\"fwb\"><span data-bind='text: totalN'/> times</span> with <span class=\"fwb\"><span data-bind='text: Math.round(totalCorrect()/totalN()*100)'/>% accuracy</span></div><div class=\"confidenceGraph\"></div><div data-bind=\"text: choiceBreakdown\"></div></div>"}),deftmp("ui.QuesItemRow",{template:"<tr data-bind=\"attr: {nodeID: node.nodeID}\" class=\"ui-QuesItemRow\"><td><a href=\"\" data-bind=\"visible: !deleting(), click: edit\"><i class=\"fa fa-pencil-alt\"></i><span> Edit</span></a><a href=\"\" data-bind=\"visible: deleting, click: remove\"><i class=\"fa fa-trash-alt\"></i><span> Remove</span></a></td><td><i data-bind=\"click: togglePublish, css: statusIcon, attr: {title: statusStr}, style: {color: statusColor}\" class=\"fa tip\"></i></td><td class=\"content\"></td></tr>"}),deftmp("ui.QueueControlBar",{template:"<div class=\"ui-QueueControlBar\"><div data-bind=\"visible: !isTutorials() || fcCount(), css:{&quot;has-badge&quot;:fcCount() &gt; 0, &quot;no-items&quot;:fcCount()==0}\" class=\"queue-item flashcard-queue\"><div data-title=\"Flashcard queue\" data-bind=\"click:toggleDropdown(&quot;fc&quot;)\" class=\"queue-item-icon queue-tip\"><i class=\"fa fa-bolt\"></i></div><span data-bind=\"html:fcCount, click:toggleDropdown(&quot;fc&quot;)\" class=\"queue-badge\"></span><div class=\"added-message hidden\"></div><div data-bind=\"fadeVisible: dropdownState()==&quot;fc&quot;, fadeDirection: &quot;down&quot;\" class=\"queue-dropdown\"><div data-bind=\"fadeVisible: loading\" class=\"loading-overlay\"><div class=\"loading-spinner large inverted\"></div></div><div class=\"queue-total\"><div class=\"heading\"><div class=\"intro\">Saved flashcards</div><div data-bind=\"css:{&quot;none&quot;:fcTotal()==0}\" class=\"current-quiz-count\"><span class='total' data-bind='text: fcTotal'/> New flashcards</div></div><div class=\"quiz-cta\"><button data-bind=\"click: customizeFlaggedQuiz(fcDropdownList,&quot;fc&quot;)\" title=\"Customize\" class=\"customize-button basic thin box button tip\"><i class=\"far fa-sliders-v\"></i></button><button data-bind=\"click: startFlaggedQuiz(fcDropdownList,&quot;fc&quot;), enable: fcTotal() !== 0\" class=\"thin green box button fc-quiz-btn\">Flashcard quiz</button></div></div><ul data-bind=\"foreach: fcDropdownList\"><li class=\"quiz-item\"><span data-bind=\"css:{&quot;link-off&quot;:off}\"><a href=\"\" data-bind=\"click: $root.customizeQuizItem($data)\" class=\"quiz-link\"><span class=\"count\"><span data-bind='text: total - count'/> / <span data-bind='text: total'/></span><span class=\"type\">complete</span></a><span data-bind=\"text: when\" class=\"time\"></span></span><div data-bind=\"click: $root.toggleItem($data)\" class=\"small toggle-input\"><label> <input data-bind=\"checked: !off()\" type=\"checkbox\"/><div class=\"slider\"></div></label></div></li></ul><div data-bind=\"visible: !hasFlashcards()\" class=\"empty-list\"><div class=\"message\">No recently saved flashcards</div><div class=\"cta\"><a href='' data-bind='click:navToLink(\"/flashcards\")'>Select flashcard topics</a> to get started</div></div><div data-bind=\"click: seeAllFlashcardsClick\" class=\"see-all\">See all</div></div></div><div data-bind=\"visible: !isTutorials() || quesCount(), css:{&quot;has-badge&quot;:quesCount() &gt; 0, &quot;no-items&quot;:quesCount()==0}\" class=\"queue-item question-queue\"><div data-title=\"Question queue\" data-bind=\"click:toggleDropdown(&quot;ques&quot;)\" class=\"queue-item-icon queue-tip\"><i class=\"fa fa-stethoscope\"></i></div><span data-bind=\"html:quesCount, click:toggleDropdown(&quot;ques&quot;)\" class=\"queue-badge\"></span><div class=\"added-message hidden\"></div><div data-bind=\"fadeVisible: dropdownState()==&quot;ques&quot;, fadeDirection: &quot;down&quot;\" class=\"queue-dropdown\"><div data-bind=\"fadeVisible: loading\" class=\"loading-overlay\"><div class=\"loading-spinner large inverted\"></div></div><div class=\"queue-total\"><div class=\"heading\"><div class=\"intro\">Saved questions</div><div data-bind=\"css:{&quot;none&quot;:quesTotal()==0}\" class=\"current-quiz-count\"><span class='total' data-bind='text: quesTotal'/> New questions</div></div><div class=\"quiz-cta\"><button data-bind=\"click: customizeFlaggedQuiz(quesDropdownList,&quot;ques&quot;)\" title=\"Customize\" class=\"customize-button basic thin box button tip\"><i class=\"far fa-sliders-v\"></i></button><button data-bind=\"click: startFlaggedQuiz(quesDropdownList,&quot;ques&quot;), enable: quesTotal() !== 0\" class=\"thin green box button ques-quiz-btn\">Question quiz</button></div></div><ul data-bind=\"foreach: quesDropdownList\"><li class=\"quiz-item\"><span data-bind=\"css:{&quot;link-off&quot;:off}\"><a href=\"\" data-bind=\"click: $root.customizeQuizItem($data)\" class=\"quiz-link\"><span class=\"count\"><span data-bind='text: total - count'/> / <span data-bind='text: total'/></span><span class=\"type\">complete</span></a><span data-bind=\"text: when\" class=\"time\"></span></span><div data-bind=\"click: $root.toggleItem($data)\" class=\"small toggle-input\"><label> <input data-bind=\"checked: !off()\" type=\"checkbox\"/><div class=\"slider\"></div></label></div></li></ul><div data-bind=\"visible: !hasQuestions()\" class=\"empty-list\"><div class=\"message\">No recently saved questions</div><div class=\"cta\"><a href='' data-bind='click:navToLink(\"/qbank\")'>Select question topics</a> to get started</div></div><div data-bind=\"click: seeAllQuestionsClick\" class=\"see-all\">See all</div></div></div><div data-bind=\"visible: repCount() &gt; 0, css:{&quot;has-badge&quot;:repCount() &gt; 0}\" class=\"queue-item repetition-queue\"><div data-title=\"Spaced repetition\" data-bind=\"click: toggleDropdown(&quot;rep&quot;)\" class=\"queue-item-icon queue-tip\"><i class=\"fa fa-history\"></i></div><span data-bind=\"html:repCount, click:toggleDropdown(&quot;rep&quot;)\" class=\"queue-badge\"></span><div data-bind=\"fadeVisible: dropdownState()==&quot;rep&quot;, fadeDirection: &quot;down&quot;\" class=\"queue-dropdown\"><div class=\"queue-total\"><div class=\"heading\"><div class=\"intro\">Daily spaced repetition</div><div data-bind=\"css: {none: repTotal()==0}\" class=\"current-quiz-count\"><span class=\"spaced-rep-due-today\">Due today: </span><span class='total' data-bind='text: repTotal'/> Flashcards</div></div><div class=\"quiz-cta\"><button data-bind=\"click: startSpacedRepQuiz, css: {disabled: repTotal()==0}\" class=\"thin box green button\">Daily repetition quiz</button></div></div><div class=\"selection-panel\"><div class=\"ui-ControlBarSpacedRep\"></div></div></div></div></div>"}),deftmp("ui.QueueItemRow",{template:"<div data-bind=\"attr: {nodeID: node.nodeID}\" class=\"queue-row ui-QueueItemRow\"><div class=\"queue-cell small-column\"><a href=\"\" data-bind=\"ajax: removeFromQueue\" title=\"Remove from your queue\" class=\"tip\"><i class=\"fa fa-ban\"></i></a></div><div class=\"queue-cell small-column\"><span data-bind=\"text: flaggedOn\" title=\"Saved to queue on\" class=\"tip\"></span></div><div data-bind=\"visible: repeatOn\" class=\"queue-cell small-column\"><span data-bind=\"visible: repeatOn, text: repeatOn\" title=\"Repeat on\" class=\"tip\"></span></div><div class=\"queue-cell fcQuesColumn content\"></div></div>"}),deftmp("ui.QueueRow",{template:"<div class=\"ui-QueueRow\"><div class=\"deck-body quiz-item-row\"><div data-bind=\"visible: hasSubdecks\" class=\"subdeck-toggle\"><i data-bind=\"visible: !subdecksVisible(), ajax:toggleSubdecks\" class=\"fa fa-plus\"></i><i data-bind=\"visible: subdecksVisible, ajax:toggleSubdecks\" class=\"fa fa-minus\"></i></div><div class=\"deck-section\"><div class=\"quiz-info deck-info\"><div class=\"name\"><span data-bind=\"visible: !hasSubdecks(), text: name\"></span><a href=\"\" data-bind=\"visible: hasSubdecks(), text: name, ajax: toggleSubdecks\"></a></div><div class=\"progress-count\"><div data-bind=\"visible:completed() &gt; 0\" class=\"has-started\"><span data-bind=\"html:completed\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:totalCards\"></span><span>&nbsp;completed</span></div><div data-bind=\"visible:completed() == 0\" class=\"not-started\"><span data-bind=\"html:totalCards\"></span><span>&nbsp;</span><span data-bind=\"visible: totalCards()==1\">Item</span><span data-bind=\"visible: totalCards()!=1\">Items</span></div><div data-bind=\"visible: flagged\" class=\"author\"><span class=\"sep\">&#8226;</span><i style=\"color: #1d6ecc\" class=\"fa fa-flag\"></i></div></div><div class=\"progress-bar\"><div data-bind=\"style:{width: percentCorrect()+&quot;%&quot;}\" class=\"correct\"></div><div data-bind=\"style:{width: percentIncorrect()+&quot;%&quot;}\" class=\"incorrect\"></div></div></div></div><div class=\"deck-actions\"><div data-bind=\"visible: totalCards, click:startQuiz\" class=\"deck-action start\"><span>Start</span></div><div data-bind=\"click: remove\" class=\"deck-action share\"><span>Remove</span></div><div class=\"deck-action more\"><span><i>&#8226;</i><i>&#8226;</i><i>&#8226;</i></span><div class=\"options-dropdown\"><div data-bind=\"click: action(&quot;promote&quot;)\" class=\"options-item\"><span>Promote all to top</span></div><div data-bind=\"click: action(&quot;promoteNew&quot;)\" class=\"options-item\"><span>Promote new to top</span></div><div data-bind=\"visible: flagged()===true &amp;&amp; type==&quot;fc&quot;, click: action(&quot;unflag&quot;)\" class=\"options-item\"><span>Unflag</span></div><div data-bind=\"visible: flagged()===false &amp;&amp; type==&quot;fc&quot;, click: action(&quot;flag&quot;)\" class=\"options-item\"><span>Flag</span></div></div></div></div></div><div class=\"subdecks\"></div></div>"}),deftmp("ui.QuickFlashcardBrowser",{template:"<div data-bind=\"event: {mouseover:toggleSpacebarHint(true), mouseout:toggleSpacebarHint(false)}\" class=\"ui-QuickFlashcardBrowser\"><div class=\"rfloat\"><i data-bind=\"click: prev, css: {fcg: !prevEnabled()}\" class=\"fa fa-caret-left clickable\"></i><i data-bind=\"click: next, css: {fcg: !nextEnabled()}\" class=\"fa fa-caret-right mlm clickable\"></i></div><div class=\"clearfix\"></div><div class=\"flashcard\"></div><div class=\"fp80\"><span data-bind='text: +idx()+1'/> of <span data-bind='text: count'/> <span class=\"fcg\" data-bind='visible: spacebarHint() && nextEnabled()'>Use the spacebar to see the next card</span></div></div>"}),deftmp("ui.QuickSlideFlashcard",{template:"<div class=\"ui-QuickSlideFlashcard models-resource-SingleFact mbl\"><div data-bind=\"visible: !showingAnswer()\" class=\"fp80 show-answer\"><a href=\"\" data-bind=\"click: showAnswer, event: {mouseover: showAnswer}\" class=\"rfloat\">Mouse Over for Answer</a><div class=\"clearfix\"></div></div><div data-bind=\"visible: justScheduledMsgVisible() &amp;&amp; scheduledMsg() == &quot;Unschedule&quot;\" class=\"fp80\">This card will appear in your queue</div><div class=\"flag\"><a data-bind=\"css:{&quot;btn-outline btn-primary&quot;: scheduledMsg() != &quot;Unschedule&quot;, &quot;btn-warning&quot;: scheduledMsg() == &quot;Unschedule&quot;}, ajax: flag, attr: {title: scheduleHint, &quot;data-original-title&quot;: scheduleHint}\" class=\"btn btn-md\"><i class=\"fa fa-flag\"></i><span data-bind=\"text: scheduledMsg\"></span></a></div><div class=\"cardFront\"></div><div class=\"cardBack hidden\"></div><div data-bind=\"visible: canRemove() &amp;&amp; showingAnswer()\"><a href=\"\" data-bind=\"ajax: removeCard\" class=\"rfloat fp80\">Remove (Not Relevant)</a></div></div>"}),deftmp("ui.QuickSlideQuestion",{template:"<div class=\"ui-QuickSlideQuestion models-resource-SingleFact mbl\"><div class=\"questionBody\"></div></div>"}),deftmp("ui.QuizBlockByCalendar",{template:"<div data-bind=\"css:{locked:locked}\" class=\"ui-QuizBlockByCalendar ui-QuizBlock\"><table><tr><td class=\"quiz-title-section\"><h4>Quiz by Calendar</h4></td></tr><tr><td class=\"quiz-body-section ui-TimeSelector\"><div class=\"row\"><div class=\"col-md-2\"><table class=\"item-stats-table\"><tr><td><div class=\"center\"><div data-bind=\"text: stats().available\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">available</div></div></td><td><div class=\"center\"><div data-bind=\"text: stats().available - stats().completed\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">new</div></div></td></tr></table></div><div class=\"col-md-8\"><div class=\"progress\"><div role=\"progressbar\" data-bind=\"visible: stats().correct, style: {width: stats().correct+&quot;%&quot;}\" class=\"progress-bar progress-bar-success\"><span data-bind='text: stats().correct'/>% Correct</div><div role=\"progressbar\" data-bind=\"visible: stats().incorrect, style: {width: stats().incorrect+&quot;%&quot;}\" class=\"progress-bar progress-bar-danger\"><span data-bind='text: stats().incorrect'/>% Missed</div></div></div><div class=\"col-md-2\"><div class=\"rounded-btn rounded-btn-success rounded-btn-border quiz-block-start-btn\"><span data-bind=\"ajax: build\">Build Quiz</span></div></div></div><hr/><div class=\"row\"><div class=\"col-md-4\"><div class=\"fwb fcg\">Source</div><div data-bind=\"visible: itemType()==&quot;allFC&quot; || itemType()==&quot;flaggedFC&quot;\"><select style=\"width: 100%\" data-bind=\"value: source\" class=\"tooltip-select\"><option value=\"osmosis\" descr=\"items written by Osmosis\">From Osmosis</option><option value=\"school\" descr=\"items created by you and/or classmates\">From my school</option></select></div><div data-bind=\"visible: itemType()==&quot;caseQues&quot;\"><div class=\"fwb\">From Osmosis</div><div class=\"fcg fp80\">items written by Osmosis</div></div><div data-bind=\"visible: itemType()==&quot;otherQues&quot;\"><div class=\"fwb\">From your school</div><div class=\"fcg fp80\">items created by you and/or classmates</div></div><div data-bind=\"visible: (source()==&quot;school&quot; &amp;&amp; itemType()!=&quot;caseQues&quot;) || itemType()==&quot;otherQues&quot;\" class=\"mtm\"><div class=\"fwb fcg\">Authors</div><select style=\"width: 100%\" data-bind=\"value: subfilterSchool\" class=\"tooltip-select\"><option value=\"following\" descr=\"content from your favorite authors\">Written by people I'm following</option><option value=\"me\" descr=\"only content you have created\">Written by me</option><option value=\"anyone\" descr=\"everything written at your school\">Written by anyone</option></select></div><hr/><div class=\"fwb fcg\">Flashcards</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"allFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">All Cards</span><br/><span class=\"fcg fp80\">all cards available</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"flaggedFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Saved/Flagged</span><br/><span class=\"fcg fp80\">Saved to Flachcard Queue or Flagged as priority to Daily Repetition</span></label></div></div><div class=\"fwb fcg\">Questions</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"caseQues\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Board-style Questions</span><br/><span class=\"fcg fp80\">more challenging case-based questions</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"otherQues\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Other Questions</span><br/><span class=\"fcg fp80\">MCQs and label matching questions by classmates</span></label></div></div><div data-bind=\"visible: source()==&quot;osmosis&quot; &amp;&amp; itemType()!=&quot;otherQues&quot;\" class=\"mtm\"><div data-bind=\"visible: itemType()!=&quot;caseQues&quot;\"><div class=\"fwb fcg\">More/fewer items</div><select style=\"width: 100%\" data-bind=\"value: subfilterOsmosis\" class=\"tooltip-select\"><option value=\"best\" descr=\"fewer flashcards, but more specific to your current coursework\">Best matches only</option><option value=\"all\" descr=\"more flashcards, but less specific to your current coursework\">Broadly relevant</option><option value=\"nofilter\" descr=\"most flashcards, but least specificity\">Keyword matching</option></select></div></div></div><div class=\"col-md-5\"><div class=\"ui-MiniSelectableCalendar\"></div><div class=\"calendar-pro-tip\"><div class=\"the-tip\"><strong><em>Pro-tip:</em></strong> click and drag <i class='fas fa-arrows-alt' /> to select multiple days</div><i title=\"Select custom range\" data-bind=\"click: time.selectCustomRange()\" class=\"fa fa-calendar fcg mll tip clickable\"></i></div><div data-bind=\"visible: time.mode()!=&quot;doc&quot; &amp;&amp; time.mode()!=&quot;event&quot;\"><div class=\"fwb subtitle fcg\">Course folders</div><div data-bind=\"foreach: time.modules\" class=\"phs\"><div data-bind=\"visible: visible, css: {disabled: !active()}\" class=\"module-item\"><div data-bind=\"visible: active, click: $root.toggleModuleActive($data,false)\" class=\"module-item-disable\">\xD7</div><span data-bind=\"text: name, css: {clickable: !active()}, click: $root.toggleModuleActive($data,true)\"></span></div></div></div></div><div class=\"col-md-3\"><div data-bind=\"visible: time.mode()==&quot;fixed&quot;\"><div style=\"width: 30px; display: inline-block\"><div data-bind=\"click: time.prev()\" class=\"fa fa-caret-up nav-arrow-btn\"></div><div data-bind=\"click: time.next()\" class=\"fa fa-caret-down nav-arrow-btn\"></div></div><span data-bind=\"text: time.current\" style=\"text-align: left; margin-top: 8px; margin-left: 6px\" class=\"nav-title\"></span></div><div data-bind=\"visible: time.mode()==&quot;custom&quot; || time.mode()==&quot;event&quot;\"><span data-bind=\"text: time.customRangeStr\" class=\"nav-title\"></span></div><div data-bind=\"visible: time.mode()==&quot;doc&quot;\" class=\"center\"><img data-bind=\"attr: {src: time.docThumb}\" class=\"doc-thumbnail\"/></div><div class=\"pill-menu no-select\"><span data-bind=\"click:time.updateTimeframe(&quot;days&quot;), css:{active:time.units()==&quot;days&quot; &amp;&amp; time.mode()==&quot;fixed&quot;}\" class=\"item\">Day</span><span data-bind=\"click:time.updateTimeframe(&quot;weeks&quot;), css:{active:time.units()==&quot;weeks&quot; &amp;&amp; time.mode()==&quot;fixed&quot;}\" class=\"item\">Week</span><span data-bind=\"click:time.updateTimeframe(&quot;months&quot;), css:{active:time.units()==&quot;months&quot; &amp;&amp; time.mode()==&quot;fixed&quot;}\" class=\"item\">Month</span></div></div></div></td></tr></table></div>"}),deftmp("ui.QuizBlockByDailyGoals",{template:"<div class=\"ui-QuizBlockByDailyGoals ui-QuizBlock\"><table><tr><td class=\"quiz-title-section\"><h4>Daily Goals (Legacy)</h4></td></tr><tr><td class=\"quiz-body-section\"><div class=\"ui-mobile-QuizSelector\"></div></td></tr></table></div>"}),deftmp("ui.QuizBlockByDeck",{template:"<div class=\"ui-QuizBlockByDeck ui-QuizBlock\"><div data-bind=\"visible: titleVisible\" class=\"quiz-title-section\"><h4>Quiz by Custom Flashcard Decks</h4></div><div class=\"quiz-body-section\"><div class=\"ui-Decks\"></div></div></div>"}),deftmp("ui.QuizBlockByDocuments",{template:"<div data-bind=\"css:{locked:locked}\" class=\"ui-QuizBlockByDocuments ui-QuizBlock\"><table><tr><td class=\"quiz-title-section\"><h4>Quiz by Documents</h4></td></tr><tr><td class=\"quiz-body-section ui-TimeSelector\"><div class=\"row\"><div class=\"col-md-2\"><table class=\"item-stats-table\"><tr><td><div class=\"center\"><div data-bind=\"text: stats().available\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">available</div></div></td><td><div class=\"center\"><div data-bind=\"text: stats().available - stats().completed\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">new</div></div></td></tr></table></div><div class=\"col-md-8\"><div class=\"progress\"><div role=\"progressbar\" data-bind=\"visible: stats().correct, style: {width: stats().correct+&quot;%&quot;}\" class=\"progress-bar progress-bar-success\"><span data-bind='text: stats().correct'/>% Correct</div><div role=\"progressbar\" data-bind=\"visible: stats().incorrect, style: {width: stats().incorrect+&quot;%&quot;}\" class=\"progress-bar progress-bar-danger\"><span data-bind='text: stats().incorrect'/>% Missed</div></div></div><div class=\"col-md-2\"><div class=\"rounded-btn rounded-btn-success rounded-btn-border quiz-block-start-btn\"><span data-bind=\"ajax: build\">Build Quiz</span></div></div></div><hr/><div class=\"row\"><div class=\"col-md-4\"><div class=\"fwb fcg\">Source</div><div data-bind=\"visible: itemType()==&quot;allFC&quot; || itemType()==&quot;flaggedFC&quot;\"><select style=\"width: 100%\" data-bind=\"value: source\" class=\"tooltip-select\"><option value=\"osmosis\" descr=\"items written by Osmosis\">From Osmosis</option><option value=\"school\" descr=\"items created by you and/or classmates\">From my school</option></select></div><div data-bind=\"visible: itemType()==&quot;caseQues&quot;\"><div class=\"fwb\">From Osmosis</div><div class=\"fcg fp80\">items written by Osmosis</div></div><div data-bind=\"visible: itemType()==&quot;otherQues&quot;\"><div class=\"fwb\">From your school</div><div class=\"fcg fp80\">items created by you and/or classmates</div></div><div data-bind=\"visible: (source()==&quot;school&quot; &amp;&amp; itemType()!=&quot;caseQues&quot;) || itemType()==&quot;otherQues&quot;\" class=\"mtm\"><div class=\"fwb fcg\">Authors</div><select style=\"width: 100%\" data-bind=\"value: subfilterSchool\" class=\"tooltip-select\"><option value=\"following\" descr=\"content from your favorite authors\">Written by people I'm following</option><option value=\"me\" descr=\"only content you have created\">Written by me</option><option value=\"anyone\" descr=\"everything written at your school\">Written by anyone</option></select></div><hr/><div class=\"fwb fcg\">Flashcards</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"allFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">All Cards</span><br/><span class=\"fcg fp80\">all cards available</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"flaggedFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Saved/Flagged</span><br/><span class=\"fcg fp80\">Saved to Flachcard Queue or Flagged as priority to Daily Repetition</span></label></div></div><div class=\"fwb fcg\">Questions</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"caseQues\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Board-style Questions</span><br/><span class=\"fcg fp80\">more challenging case-based questions</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"calendar-item-type\" value=\"otherQues\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Other Questions</span><br/><span class=\"fcg fp80\">MCQs and label matching questions by classmates</span></label></div></div><div data-bind=\"visible: source()==&quot;osmosis&quot; &amp;&amp; itemType()!=&quot;otherQues&quot;\" class=\"mtm\"><div data-bind=\"visible: itemType()!=&quot;caseQues&quot;\"><div class=\"fwb fcg\">More/fewer items</div><select style=\"width: 100%\" data-bind=\"value: subfilterOsmosis\" class=\"tooltip-select\"><option value=\"best\" descr=\"fewer flashcards, but more specific to your current coursework\">Best matches only</option><option value=\"all\" descr=\"more flashcards, but less specific to your current coursework\">Broadly relevant</option><option value=\"nofilter\" descr=\"most flashcards, but least specificity\">Keyword matching</option></select></div></div></div><div class=\"col-md-8\"><div data-bind=\"foreach:docs\" class=\"document-list\"><div class=\"doc-item\"><div class=\"thumb\"><img data-bind=\"attr:{src:thumb}\"/></div><div data-bind=\"html:name\" class=\"name\"></div></div></div></div></div></td></tr></table></div>"}),deftmp("ui.QuizBlockByFlagged",{template:"<div class=\"ui-QuizBlockByFlagged\"><div class=\"quiz-title-section\"><h4>Quiz by Flagged Flashcard &amp; Questions</h4></div><div class=\"main-icons-section\"><div data-bind=\"click:openQueue(&quot;flashcard&quot;)\" class=\"flashcards quiz-type\"><div class=\"the-icon\"><i class=\"fi fi-flashcard-bolt\"></i></div><div class=\"info\"><div class=\"heading\">Flashcard Queue</div><div class=\"explainer\">All of the flashcards you've recently flagged. We recommend flagging flashcards from several concepts and then taking a quiz.</div></div><div class=\"cta\"><button class=\"btn btn-primary btn-md\">See Flagged Flashcards</button></div></div><div data-bind=\"click:openQueue(&quot;question&quot;)\" class=\"questions quiz-type\"><div class=\"the-icon\"><i class=\"fi fi-question-nav\"></i></div><div class=\"info\"><div class=\"heading\">Question Queue</div><div class=\"explainer\">All of the questions you've recently flagged. We recommend taking a flashcard quiz on several concepts and then testing your knowledge with our board-style questions the next day. </div></div><div class=\"cta\"><button class=\"btn btn-primary btn-md\">See Flagged Questions  </button></div></div><div data-bind=\"click:openQueue(&quot;repetition&quot;)\" class=\"repetition quiz-type\"><div class=\"the-icon\"><i class=\"fi fi-rep-clock\"></i></div><div class=\"info\"><div class=\"heading\">Spaced Repetition</div><div class=\"explainer\">All of your flashcards from our spaced repetition queue. Our nerdy\u2013but super sophisticated\u2013algorithm knows exactly which flashcards you need to see so you never lose your hard-fought knowledge. </div></div><div class=\"cta\"><button class=\"btn btn-primary btn-md\">See Spaced Repetition  </button></div></div></div></div>"}),deftmp("ui.QuizBlockByLegacyTopic",{template:"<div class=\"ui-QuizBlockByLegacyTopic ui-QuizBlock\"><table><tr><td class=\"quiz-title-section\"><h4>Quiz by Topic (Legacy)</h4></td></tr><tr><td class=\"quiz-body-section\"><div class=\"ui-mobile-TopicSelector\"></div></td></tr></table></div>"}),deftmp("ui.QuizBlockByModule",{template:"<div data-bind=\"css:{locked:locked}\" class=\"ui-QuizBlockByModule ui-QuizBlock\"><table><tr><td class=\"quiz-title-section\"><h4>Quiz by Course Title</h4></td></tr><tr><td class=\"quiz-body-section\"><div class=\"row\"><div class=\"col-md-2\"><table class=\"item-stats-table\"><tr><td><div class=\"center\"><div data-bind=\"text: stats().available\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">available</div></div></td><td><div class=\"center\"><div data-bind=\"text: stats().available - stats().completed\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">new</div></div></td></tr></table></div><div class=\"col-md-8\"><div class=\"progress\"><div role=\"progressbar\" data-bind=\"visible: stats().correct, style: {width: stats().correct+&quot;%&quot;}\" class=\"progress-bar progress-bar-success\"><span data-bind='text: stats().correct'/>% Correct</div><div role=\"progressbar\" data-bind=\"visible: stats().incorrect, style: {width: stats().incorrect+&quot;%&quot;}\" class=\"progress-bar progress-bar-danger\"><span data-bind='text: stats().incorrect'/>% Missed</div></div></div><div class=\"col-md-2\"><div class=\"rounded-btn rounded-btn-warning rounded-btn-border quiz-block-start-btn\"><span data-bind=\"ajax: quizBuilder.customizeQuiz()\">Build Quiz</span></div></div></div><hr/><div class=\"row\"><div class=\"col-md-8\"><div class=\"fwb fcg mtm\">Course Folders</div><select data-bind=\"options: modules, selectedOptions: selectedModules, optionsText:&quot;name&quot;, optionsValue:&quot;moduleID&quot;\" multiple=\"multiple\" data-placeholder=\"Select folder(s)\" style=\"width: 100%\" class=\"tooltip-select\"></select><div class=\"fwb fcg mtm\">Authors</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"module-author-source\" value=\"following\" data-bind=\"checked: authors\"/><span class=\"fwb\">Written by people I'm following</span><br/><span class=\"fcg fp80\">content from your favorite authors</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"module-author-source\" value=\"me\" data-bind=\"checked: authors\"/><span class=\"fwb\">Written by me</span><br/><span class=\"fcg fp80\">only content you have created</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"module-author-source\" value=\"anyone\" data-bind=\"checked: authors\"/><span class=\"fwb\">Written by anyone</span><br/><span class=\"fcg fp80\">everything written at your school</span></label></div></div></div><div class=\"col-md-4\"><div class=\"fwb fcg\">Source</div><div class=\"mll\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: true, enable: false\"/><span class=\"fwb\">My School</span><br/><span class=\"fcg fp80\">items written at my school</span></label></div></div><hr/><div class=\"fwb fcg\">Flashcards</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"module-item-type\" value=\"allFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">All Cards</span><br/><span class=\"fcg fp80\">short recall facts</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"module-item-type\" value=\"flaggedFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Flagged</span><br/><span class=\"fcg fp80\">as priority to daily repetition</span></label></div></div><div class=\"fwb fcg\">Questions</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"module-item-type\" value=\"ques\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Questions</span><br/><span class=\"fcg fp80\">multiple choice, label matching, etc</span></label></div></div></div></div></td></tr></table></div>"}),deftmp("ui.QuizBlockByTopic",{template:"<div data-bind=\"css:{locked:locked}\" class=\"ui-QuizBlockByTopic ui-QuizBlock\"><table><tr><td class=\"quiz-title-section\"><h4>Quiz by Subjects</h4></td></tr><tr><td class=\"quiz-body-section\"><div class=\"row\"><div class=\"col-md-2\"><table class=\"item-stats-table\"><tr><td><div class=\"center\"><div data-bind=\"text: stats().available\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">available</div></div></td><td><div class=\"center\"><div data-bind=\"text: stats().available - stats().completed\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">new</div></div></td></tr></table></div><div class=\"col-md-8\"><div class=\"progress\"><div role=\"progressbar\" data-bind=\"visible: stats().correct, style: {width: stats().correct+&quot;%&quot;}\" class=\"progress-bar progress-bar-success\"><span data-bind='text: stats().correct'/>% Correct</div><div role=\"progressbar\" data-bind=\"visible: stats().incorrect, style: {width: stats().incorrect+&quot;%&quot;}\" class=\"progress-bar progress-bar-danger\"><span data-bind='text: stats().incorrect'/>% Missed</div><div role=\"progressbar\" data-bind=\"visible: stats().available, style: {width: (100-stats().correct-stats().incorrect)+&quot;%&quot;}\" style=\"background-color: #aaa\" class=\"progress-bar\"><span data-bind='text: 100-stats().correct-stats().incorrect'/>% New</div></div></div><div class=\"col-md-2\"><div class=\"rounded-btn rounded-btn-teal rounded-btn-border quiz-block-start-btn\"><span data-bind=\"ajax: quizBuilder.customizeQuiz()\">Build Quiz</span></div></div></div><hr/><div class=\"source-column custom-column\"><div><span class=\"fwb fcg\">Quiz Size&nbsp;&nbsp;&nbsp;&nbsp;</span><select data-bind=\"value: maxCount\" style=\"display: inline-block; width: auto\" class=\"form-control\"><option>10</option><option>25</option><option>40</option><option>50</option><option>100</option><option>250</option><option>1000</option><option>3000</option></select></div><div class=\"fwb fcg\">Questions</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"item-type\" value=\"step1\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Step 1 Questions</span><br/><span class=\"fcg fp80\">Preclinical/Step 1 style cases</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"item-type\" value=\"step2\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Step 2 Questions</span><br/><span class=\"fcg fp80\">Clinical/Step 2 style cases</span></label></div></div><div class=\"fwb fcg\">Flashcards</div><div class=\"mll\"><div class=\"radio\"><label><input type=\"radio\" name=\"item-type\" value=\"allFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">All Cards</span><br/><span class=\"fcg fp80\">short recall facts</span></label></div><div class=\"radio\"><label><input type=\"radio\" name=\"item-type\" value=\"flaggedFC\" data-bind=\"checked: itemType\"/><span class=\"fwb\">Flagged</span><br/><span class=\"fcg fp80\">as priority to daily repetition</span></label></div></div><div class=\"fwb fcg\">Source</div><div class=\"mll\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: true, enable: false\"/><span class=\"fwb\">Osmosis</span><br/><span class=\"fcg fp80\">items written by Osmosis</span></label></div></div></div><div class=\"topics-column custom-column\"><div class=\"fwb fcg\">Subjects</div><div class=\"mll\"><div class=\"select-all\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked:selectAllChecked, click:toggleAllChecked\"/><span>Select All</span></label></div></div><div data-bind=\"foreach: topicsColA\"><div data-bind=\"visible: visible\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: checked\"/><span data-bind=\"text: name\"></span></label></div></div></div></div><div class=\"topics-column custom-column right-column\"><div data-bind=\"foreach: topicsColB\"><div data-bind=\"visible: visible\" class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: checked\"/><span data-bind=\"text: name\"></span></label></div></div></div></td></tr></table></div>"}),deftmp("ui.QuizBlockByWorkspaceDeck",{template:"<div class=\"ui-QuizBlockByWorkspaceDeck ui-QuizBlock\"><div class=\"quiz-title-section\"><h4 data-bind=\"visible: window.classmateCount == 0\" class=\"main-heading\">Flashcard Decks</h4><h4 data-bind=\"visible: window.classmateCount &gt; 0\" class=\"main-heading\">Shared Flashcard Decks</h4><p data-bind=\"visible: window.classmateCount &gt; 0\" class=\"explain\">Decks created here are shared with <span data-bind='text: window.classmateCountStr'/> <a href='/create/workspace'>Want a private workspace instead?</a></p></div><div class=\"filters-container\"><div class=\"author-filter filter-type\"><div class=\"the-label\">Author:</div><div class=\"wrapper-filter options-3\"><ul data-bind=\"css:{&quot;option-1&quot;:author()==&quot;anyone&quot;, &quot;option-2&quot;:author()==&quot;me&quot;, &quot;option-3&quot;:author()==&quot;following&quot;}\" class=\"filter-bar\"><span class=\"pill\"></span><li data-target=\"option-1\" data-bind=\"css: {active: author()==&quot;anyone&quot;}, click: setAuthor(&quot;anyone&quot;)\" class=\"filter-option option-1\">Anyone</li><li data-target=\"option-2\" data-bind=\"css: {active: author()==&quot;me&quot;}, click: setAuthor(&quot;me&quot;)\" class=\"filter-option option-2\">Me</li><li data-target=\"option-3\" data-bind=\"css: {active: author()==&quot;following&quot;}, click: setAuthor(&quot;following&quot;)\" class=\"filter-option option-3\">Following</li></ul></div></div><div class=\"source-filter filter-type\"><div class=\"the-label\">Show:</div><div class=\"wrapper-filter options-2\"><ul data-bind=\"css:{&quot;option-1&quot;:kind()==&quot;short-term&quot;, &quot;option-2&quot;:kind()==&quot;long-term&quot;}\" class=\"filter-bar\"><span class=\"pill\"></span><li data-target=\"option-1\" data-bind=\"css: {active: kind()==&quot;short-term&quot;}, click: setKind(&quot;short-term&quot;)\" class=\"filter-option option-1\">Course Exams</li><li data-target=\"option-2\" data-bind=\"css: {active: kind()==&quot;long-term&quot;}, click: setKind(&quot;long-term&quot;)\" class=\"filter-option option-2\">Long-term Decks</li></ul></div></div></div><div class=\"ui-WorkspaceDecks\"></div></div>"}),deftmp("ui.QuizBlockWorkspaceOnboarding",{template:"<div class=\"ui-QuizBlockWorkspaceOnboarding ui-QuizBlock\"><div class=\"wrapper\"><div class=\"intro-helper\"><div class=\"osmobot\"><img src=\"/assets/images/image-assets/osmobot-confused.png\"/></div><div class=\"message\"><div data-bind=\"html:title\" class=\"title\"></div><div data-bind=\"html:explainer\" class=\"explainer\"></div></div></div><div data-bind=\"click:action,css:btnStyle\" class=\"btn btn-xxl mtm\"><i class=\"fa fa-plus\"></i><span data-bind=\"html:&quot; &quot;+actionText\"></span></div></div></div>"}),deftmp("ui.QuizControls",{template:"<div class=\"ui-QuizControls\"><div class=\"mtl\"><div style=\"width: 250px; margin-left: auto; margin-right: auto\" class=\"quizScoreboard\"></div></div><div data-bind=\"visible: repeatLinkVisible\" class=\"center fp80 mts\"><span data-bind=\"click: repeatItems\" class=\"button basic\">Repeat selected items</span><div class=\"ui-ScoreboardKey\"></div></div></div>"}),deftmp("ui.QuizDashboard",{template:"<div data-bind=\"css:{locked:locked}\" class=\"ui-QuizDashboard\"><div class=\"container fullpage\"><div class=\"subject-intro\"><img data-bind=\"attr:{src:subjectIcon}\" style=\"max-width: 100px\" class=\"subject\"/><div class=\"title-section\"><h1><span data-bind=\"html:subjectTitle\" class=\"title\"></span><span>&nbsp;</span><span data-bind=\"html:quizType\"></span></h1></div></div><div class=\"row-section\"><div class=\"quiz-clusters\"></div></div></div></div>"}),deftmp("ui.QuizDifficultyCheckbox",{template:"<div class=\"ui-QuizDifficultyCheckbox ui-QuizTopicCheckbox\"><div class=\"checkbox-wrapper\"><div data-bind=\"css: { &quot;checkbox-input--partially-selected&quot;: partiallySelected }\" class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: selected\"/><label data-bind=\"click: select\"></label><div class=\"checkbox-label\"><div class=\"topic\"><div class=\"topic__header\"><span data-bind=\"text: difficulty\" class=\"topic__heading\"></span></div></div></div></div></div></div>"}),deftmp("ui.QuizNavBtns",{template:"<div class=\"ui-QuizNavBtns\"><div data-bind=\"visible:mode()==&quot;quiz&quot;\"><div><b>How confident are you?</b></div><button data-bind=\"click:submitAns(3)\" style=\"width: 120px; font-size:85%\" class=\"btn HighConf mrs\">I'm sure</button><button data-bind=\"click:submitAns(2)\" style=\"width: 120px; font-size:85%\" class=\"btn MedConf mrs\">I'm feeling lucky</button><button data-bind=\"click:submitAns(1)\" style=\"width: 120px; font-size:85%\" class=\"btn LowConf mrs\">No clue</button><button data-bind=\"click:skip\" style=\"width: 120px; font-size:85%\" class=\"btn Skip\">Skip</button></div><div data-bind=\"visible:mode()==&quot;graded&quot;\"><div data-bind=\"visible:selfScored\"><div><b>Score this card:</b></div><div data-toggle=\"buttons-radio\" class=\"btn-group\"><button data-bind=\"click:selfScore(1)\" style=\"width: 110px;\" class=\"btn SelfScoreCorrect btn-success\"><span><i style=\"font-size: 130%;\" class=\"fa fa-smile\"></i></span> Correct</button><button data-bind=\"click:selfScore(0)\" style=\"width: 110px;\" class=\"btn SelfScoreIncorrect btn-danger\"><span><i style=\"font-size: 130%;\" class=\"fa fa-frown\"></i></span> Incorrect</button></div></div><div data-bind=\"visible:(myRating()==0) &amp;&amp; !selfScored()\"><div><b>Rate this question to move on:</b></div><div data-toggle=\"buttons-radio\" class=\"btn-group\"><button data-bind=\"click:rateAndMoveOn\" style=\"width: 110px;\" class=\"btn RateFavorite btn-primary\"><span><i style=\"font-size: 130%;\" class=\"fa fa-star\"></i></span> Awesome</button><button data-bind=\"click:rateAndMoveOn\" style=\"width: 110px;\" class=\"btn RateThumbsUp btn-success\"><span><i style=\"font-size: 130%;\" class=\"fa fa-thumbs-up\"></i></span> Good</button><button data-bind=\"click:rateAndMoveOn\" style=\"width: 110px;\" class=\"btn RateThumbsDown btn-warning\"><span><i style=\"font-size: 130%;\" class=\"fa fa-thumbs-down\"></i></span> Meh</button><button data-bind=\"click:rateAndMoveOn\" style=\"width: 110px;\" class=\"btn RateNotHelpful btn-danger\"><span><i style=\"font-size: 130%;\" class=\"fa fa-trash-alt\"></i></span> Not helpful</button></div></div><div data-bind=\"visible:(myRating()!=0) &amp;&amp; !selfScored()\"><button data-bind=\"click:moveOn\" style=\"width: 120px; margin-top:12px\" class=\"btn\">Next Ques</button></div></div></div>"}),deftmp("ui.QuizQueueBrowser",{template:"<div class=\"ui-QuizQueueBrowser ui-QuizSelector ui-QuizSelOverlay\"><div style=\"height:100%\" class=\"container fullpage\"><div class=\"quiz-selection\"><div class=\"quiz-nav\"><div data-bind=\"css:{current:sidebarNav()==&quot;flashcards&quot;}, click:changeMode(&quot;flashcards&quot;)\" class=\"quiz-nav-item decks\"><div class=\"quiz-icon\"><i class=\"fas fa-clone fa-3x circle-icon7 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Flashcard Queue</div><div class=\"explainer\">Manage your flashcard queue</div></div></div><div data-bind=\"css:{current:sidebarNav()==&quot;questions&quot;}, click:changeMode(&quot;questions&quot;)\" class=\"quiz-nav-item calendar\"><div class=\"quiz-icon\"><i class=\"fa fa-server fa-rotate-180 fa-3x circle-icon7 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Question Queue</div><div class=\"explainer\">Manage your question queue</div></div></div></div><div class=\"quiz-panels\"><ul class=\"nav nav-pills mtm mll\"><li data-bind=\"click: setActive(&quot;time&quot;), css: {active: active()==&quot;time&quot;}\"><a href=\"#\">by Time</a></li><li data-bind=\"click: setActive(&quot;item&quot;), css: {active: active()==&quot;item&quot;}\"><a href=\"#\">by Item</a></li></ul><div data-bind=\"visible: sidebarNav()==&quot;flashcards&quot; &amp;&amp; active()==&quot;time&quot;\" class=\"quiz-panel flashcards byTime\"></div><div data-bind=\"visible: sidebarNav()==&quot;flashcards&quot; &amp;&amp; active()==&quot;item&quot;\" class=\"quiz-panel flashcards byItem\"></div><div data-bind=\"visible: sidebarNav()==&quot;questions&quot; &amp;&amp; active()==&quot;time&quot;\" class=\"quiz-panel questions byTime\"></div><div data-bind=\"visible: sidebarNav()==&quot;questions&quot; &amp;&amp; active()==&quot;item&quot;\" class=\"quiz-panel questions byItem\"></div></div></div></div><div class=\"row hidden\"><div class=\"ui-mobile-QuizSelector\"></div></div></div>"}),deftmp("ui.QuizQueueByItem",{template:"<div class=\"ui-QuizQueueByItem\"><div class=\"container fullpage\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"quiz-item-row\"><div class=\"deck-section\"><div class=\"mtm\"><input type=\"text\" data-bind=\"value: searchText, valueUpdate: &quot;keypress&quot;\" placeholder=\"Search deck\" class=\"search-module\"/><div class=\"add-filters\"><div style=\"text-align: right\" class=\"fp80\"><a href=\"\" data-bind=\"visible: !filtersVisible(), toggle: filtersVisible\">add search filters</a></div><div data-bind=\"visible: filtersVisible\" class=\"filters\"></div></div></div></div></div></div></div><div class=\"panel\"><div class=\"panel-body\"><div data-bind=\"visible: total() &gt; 0\" class=\"alert alert-success\"><span>Showing items <span data-bind='text: startRow'/>-<span data-bind='text: stopRow'/> of <span data-bind='text: total'/> total items</span></div><div data-bind=\"visible: total() == 0\" class=\"alert alert-danger\"><span>No items to show for this query.</span></div><div data-bind=\"visible: total() &gt; 0 &amp;&amp; pageSize() &lt; total()\" class=\"mbm\"><span data-bind=\"visible: currentPage() &gt; 1\"><a href=\"\" data-bind=\"click: first\" class=\"mlm\"><<</a><a href=\"\" data-bind=\"click: prev\" class=\"mlm mrl\"><</a></span><select data-bind=\"options: pages, value: currentPage\" class=\"form-control\"></select><a href=\"\" data-bind=\"visible: total() &lt; 1000, click: showAll\" class=\"mll\">Show All</a><span data-bind=\"visible: currentPage() &lt; lastPage()\"><a href=\"\" data-bind=\"click: next\" class=\"mll\">></a><a href=\"\" data-bind=\"click: last\" class=\"mlm\">>></a></span><span class=\"mll\">Number of rows: <input type='text' data-bind='value: pageSize, valueUpdate: \"afterkeydown\", enterkey: changePageSize'></span></div></div><div class=\"headings-container\"><div class=\"remove heading\"><div data-bind=\"attr: {title: removeTitle}\" class=\"heading-row tip\"><span class=\"remove-text\">Remove</span><i class=\"fa fa-trash-alt\"></i><div class=\"infolink-container\"><div class=\"infolink remove-info\">?</div></div></div><div class=\"offset\"></div></div><div class=\"date saved heading\"><div data-bind=\"attr: {title: savedTitle}\" class=\"heading-row tip\"><span>Date saved</span><i class=\"fi fi-flashcard-bolt\"></i><div class=\"infolink-container\"><div class=\"infolink saved-info\"> ?</div></div></div><div class=\"offset\"></div></div><div data-bind=\"visible: showRepeatOn\" class=\"date repeats heading\"><div title=\"Date to appear in your Daily Spaced Repetition queue, which is calculated by an algorithm based on your answer history.\" class=\"heading-row tip\"><span class=\"date-scheduled-text\">Repeats on</span><i class=\"fi fi-rep-clock\"></i><div class=\"infolink-container\"><div class=\"infolink repeats-info\"> ?</div></div></div><div class=\"offset\"></div></div><div class=\"fcQuesColumn heading\"><div class=\"heading-row\"><span data-bind=\"text: fcOrQues\"></span></div><div class=\"offset\"></div></div></div><div class=\"item-bank\"></div></div></div></div>"}),deftmp("ui.QuizQueueByTime",{template:"<div class=\"ui-QuizQueueByTime\"><div class=\"deck-list\"></div><div data-bind=\"visible: type==&quot;fc&quot;\" class=\"rfloat\"><form class=\"form-inline mtm\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: flaggedOnly\"/> Show only things flagged as a priority for daily repetition</label></div></form></div><div class=\"clearfix\"></div></div>"}),deftmp("ui.QuizRow",{template:"<div data-bind=\"visible: total() &gt; 0\" class=\"ui-QuizRow\"><div data-bind=\"css: theme\" class=\"quiz-list\"><div data-bind=\"click: toggle, css: {hover: hover}, event: {mouseover:toggleHover(true), mouseout:toggleHover(false)}\" class=\"quiz-object-row\"><div class=\"quiz-object-section\"><div data-bind=\"css:theme || &quot;default&quot;, ajax: quizNow, clickBubble:false \" class=\"quiz-object\"><i data-bind=\"css:icon\" class=\"fi\"></i><div data-bind=\"html:total\" class=\"count\"></div><div class=\"type\"><span data-bind=\"html:typeStr()+&quot;s&quot;, visible:total() != 1\"></span><span data-bind=\"html:typeStr(), visible:total() == 1\"> </span></div></div></div><div class=\"quiz-info-section\"><div class=\"playlist-title\"><div data-bind=\"css: {clickable: items.length &gt; 0}\" class=\"title-section\"><h4 data-bind=\"text: title\"></h4></div><div data-bind=\"visible:total\" class=\"item-count\"><span data-bind=\"text: remaining\" class=\"remaining\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"text:total\" class=\"total\"></span><span data-bind=\"visible: total()==1\">&nbsp;<span data-bind='html:typeStr'/></span><span data-bind=\"visible: total()!=1\">&nbsp;<span data-bind='html:typeStr'/>s</span><span>&nbsp;remaining&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div data-bind=\"css: {clickable: items.length &gt; 0}, visible:items.length &gt; 0\" class=\"expand-row\"><span data-bind=\"visible:!visible()\">click to expand<i class=\"fa fa-plus\"></i></span><span data-bind=\"visible:visible\">collapse<i class=\"fa fa-minus\"></i></span></div></div><div class=\"progress-section\"><div class=\"quiz-progress\"><div data-bind=\"style:{width: completed()/total()*100 + &quot;%&quot;}\" class=\"completed\"><div data-bind=\"style: {width: correct()/completed()*100+ &quot;%&quot;}\" class=\"completed-section correct\"></div><div data-bind=\"style: {width: incorrect()/completed()*100+ &quot;%&quot;}\" class=\"completed-section incorrect\"></div></div></div></div></div><div class=\"quiz-action-section\"><div class=\"quiz-actions\">       <div data-bind=\"click: addToQueue, css:theme, clickBubble:false\" class=\"action save\"><span>Save to queue</span></div><div data-bind=\"ajax: quizNow, css:theme, clickBubble:false\" title=\"Quiz or repeat items\" class=\"action start\"><span>Start</span></div></div></div></div><div data-bind=\"slideVisible: visible\" class=\"list-body\"><div class=\"rows mlxxxl\"></div></div></div></div>"}),deftmp("ui.QuizSelFilters",{template:"<div class=\"ui-QuizSelFilters\"><div class=\"scoreboard-tip\">Select a quiz, then click/drag the colored segments below to filter</div><div class=\"scoreboard scoreboard-ring\"></div><div class=\"center start-btn\"><button data-bind=\"click: startQuiz\" class=\"btn btn-lg btn-primary mtl\">Start Filtered Quiz</button></div><div class=\"scoreboardKey\"><div class=\"mvm center legend-header\">Selected by Accuracy and Confidence</div><div data-bind=\"foreach: accConf\"><div style=\"text-align: left; width:300px\" class=\"center\"><span data-bind=\"style:{&quot;background-color&quot;:color}\" class=\"scoreboard-circle\"></span><span>&nbsp;</span><span data-bind=\"text: text\"></span></div></div><div class=\"mvm center legend-header\">Selected by Time</div><div data-bind=\"foreach: times\"><div style=\"text-align: left; width:300px\" class=\"center\"><span data-bind=\"style:{&quot;background-color&quot;:color}\" class=\"scoreboard-circle\"></span><span>&nbsp;</span><span data-bind=\"text: text\"></span></div></div></div></div>"}),deftmp("ui.QuizSelOverlay",{template:"<div class=\"ui-QuizSelOverlay ui-QuizSelector\">   <div style=\"height:100%\" class=\"container fullpage\"><div data-bind=\"visible:breadcrumbVisible\" class=\"breadcrumb-box-section\"><div class=\"icon-left osmobot\"><i class=\"fa fa-users\"></i></div><div class=\"bread-nav\"><a href=\"\" data-bind=\"attr:{href:&quot;/&quot;+groupUrl()+&quot;/coursework&quot;}\"><i class=\"fa fa-angle-left\"></i><div class=\"back\">Back to <span class='' data-bind='html:groupName' /> course documents </div></a></div></div><div class=\"quiz-selection\"><div class=\"quiz-nav\"><div data-bind=\"css:{current:sidebarNav()==&quot;decks&quot;}, click:changeMode(&quot;decks&quot;)\" class=\"quiz-nav-item decks\"><div class=\"quiz-icon\"><i class=\"fa fa-pencil-alt fa-3x circle-icon7 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Custom Decks</div><div class=\"explainer\">Create your own flashcards</div></div></div><div data-bind=\"visible: hasLegacyDailyGoals, css:{current:sidebarNav()==&quot;legacy-daily-goals&quot;}, click:changeMode(&quot;legacy-daily-goals&quot;,&quot;legacyDailyGoals&quot;)\" class=\"quiz-nav-item topic\"><div class=\"quiz-icon\"><i class=\"fa fa-check fa-3x circle-icon5 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Legacy Daily Goals</div><div class=\"explainer\">Old daily goal quizzes</div></div></div><div data-bind=\"css:{current:sidebarNav()==&quot;topic&quot;}, click:changeMode(&quot;topic&quot;)\" class=\"quiz-nav-item topic\"><div class=\"quiz-icon\"><i class=\"fa fa-database fa-3x circle-icon5 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Multi-subject Quiz</div><div class=\"explainer\">Osmosis created questions and flashcards</div></div></div><div data-bind=\"visible: hasLegacyTopics, css:{current:sidebarNav()==&quot;legacy-topic&quot;}, click:changeMode(&quot;legacy-topic&quot;,&quot;legacyTopic&quot;)\" class=\"quiz-nav-item topic\"><div class=\"quiz-icon\"><i class=\"fa fa-database fa-3x circle-icon5 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Legacy Topic Quiz</div><div class=\"explainer\">Old topic quiz selection</div></div></div><div data-bind=\"css:{current:sidebarNav()==&quot;flagged&quot;}, click:changeMode(&quot;flagged&quot;)\" class=\"quiz-nav-item flagged\"><div class=\"quiz-icon icon-group\"><i class=\"fi fi-flashcard-bolt circle-icon4 circle-icon circle-icon-sm first-queue\"></i><i class=\"fi fi-question-nav circle-icon4 circle-icon circle-icon-sm\"></i><i class=\"fi fi-rep-clock circle-icon4 circle-icon circle-icon-sm last-queue\"></i></div><div class=\"quiz-info\"><div class=\"title\">Flagged Items</div><div class=\"explainer\">Questions and flashcards you've saved to your queue</div></div></div></div><div class=\"quiz-panels\"><div data-bind=\"visible:sidebarNav()==&quot;decks&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByDeck\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;legacy-daily-goals&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByDailyGoals\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;topic&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByTopic\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;legacy-topic&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByLegacyTopic\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;flagged&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByFlagged\"></div></div></div></div></div><div class=\"row hidden\"><div class=\"ui-mobile-QuizSelector\"></div></div></div>"}),deftmp("ui.QuizStatusBar",{template:"<div class=\"ui-QuizStatusBar ui-GroupStatusBar\"><div class=\"close-action statusBar-section\"><div data-bind=\"click:closeQuiz\" class=\"basic circle button mlm\"><i class=\"far fa-times\"></i></div><button data-bind=\"visible: !parent.showQuizControls(), click: toggleQuizControls\" class=\"hide-mobile thin basic box button mll\"><span>Show progress</span></button></div><div class=\"status-items statusBar-section\"><ul class=\"list-items\"><li><div class=\"info\"><span data-bind=\"visible: quesCountCurrent\"><button data-bind=\"enabled: prevEnabled, css: { &quot;hide-button&quot;: !prevEnabled() }, click: prevClick\" class=\"thin box button previous-button mrs\"><i class=\"far fa-chevron-left\"></i></button><span data-bind=\"text: quesCountStatus\" class=\"info-text\"></span><button data-bind=\"enabled: nextEnabled, css: { &quot;hide-button&quot;: !nextEnabled() }, click: nextClick\" class=\"thin box button next-button mls\"><i class=\"far fa-chevron-right\"></i></button></span><span data-bind=\"visible: !quesCountCurrent()\" class=\"info-text\">Paused</span></div></li><li class=\"info-correct\"><div class=\"info-label\"><span>Correct</span></div><div class=\"info\"><span data-bind=\"text: quesCorrect\" class=\"info-count\"></span></div></li><li class=\"info-incorrect\"><div class=\"info-label\"><span>Incorrect</span></div><div class=\"info\"><span data-bind=\"text: quesIncorrect\" class=\"info-count\"></span></div></li></ul></div><div class=\"statusBar-cta statusBar-section statusBar-right\"><button data-bind=\"click: toggleHighlight, visible: highlightIsVisible, css: { active: highlightActive }\" class=\"status-bar-button highlighter basic thin box button left-icon\"><i data-bind=\"css: { far: !highlightActive(), fas: highlightActive }\" class=\"fa-highlighter\"></i><span class=\"button-text\">Highlighter</span></button><button data-bind=\"click: toggleLabValues, css: { active: parent.labValues.showLabValues() }\" class=\"status-bar-button lab-values basic thin box left-icon button\"><i data-bind=\"css: { far: !parent.labValues.showLabValues(), fas: parent.labValues.showLabValues() }\" class=\"fa-flask\"></i><span class=\"button-text\">Lab values</span></button></div></div>"}),deftmp("ui.QuizTopicCheckbox",{template:"<div data-bind=\"css:{ selected:topic.selected, expanded:topic.expanded }, visible: topic.progress().total &gt; 0\" class=\"ui-QuizTopicCheckbox\"><div data-bind=\"click: toggleTopic\" class=\"checkbox-wrapper\"><div data-bind=\"css: {&quot;checkbox-input--partially-selected&quot;: topic.partiallySelected}\" class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: topic.selected\"/><label data-bind=\"click: selectAndExpandTopic\"></label><div class=\"checkbox-label\"><div class=\"topic\"><div class=\"topic__header\"><span data-bind=\"text: topic.name\" class=\"topic__heading\"></span><span data-bind=\"visible: topic.progressLoaded() &amp;&amp; !topic.progressHidden(), text: labelText\" class=\"topic__subheading\"></span><div data-bind=\"visible: !topic.progressLoaded() &amp;&amp; !topic.progressHidden()\" class=\"topic__spinner loading-spinner small\"></div></div><div data-bind=\"visible: topic.progressLoaded() &amp;&amp; !topic.progressHidden()\" class=\"topic-progress-bar\"><div data-bind=\"style: {width: topic.percentComplete() + &quot;%&quot;}\" class=\"topic-progress-bar__segment topic-progress-bar__segment--complete\"></div><div data-bind=\"style: {width: topic.percentIncorrect() + &quot;%&quot;}\" class=\"topic-progress-bar__segment topic-progress-bar__segment--incorrect\"></div><div data-bind=\"style: {width: topic.percentCorrect() + &quot;%&quot;}\" class=\"topic-progress-bar__segment topic-progress-bar__segment--correct\"></div></div></div></div></div><div data-bind=\"visible: topic.expands, click: toggleTopic\" class=\"toggle\"><i class=\"fa fa-chevron-right\"></i></div></div></div>"}),deftmp("ui.QuizTopicSelector",{template:"<div data-bind=\"css:{locked:locked, &quot;progress-colors&quot;: showProgressColors, &quot;difficulty-hidden&quot;: !showDifficulty()}\" class=\"ui-QuizTopicSelector ui-QuizBlock\"><div class=\"staging-section\"><div class=\"total\"><div data-bind=\"html:stats().available\" class=\"count\"></div><div data-bind=\"html:typeLabel\" class=\"type\"></div></div><div class=\"status\"><div class=\"data\"><div class=\"available data-point\"><span data-bind=\"text: stats().completed\"></span><span>Answered</span><span data-bind=\"html:typeLabel\"></span></div><div class=\"sep\">&#8226;</div><div class=\"new data-point\"><span data-bind=\"text: (stats().available - stats().completed)\"></span><span>New</span><span data-bind=\"html:typeLabel\"></span></div></div><div class=\"progress-section\"><div class=\"bar\"><div role=\"progressbar\" data-bind=\"style: {width: stats().incorrect+&quot;%&quot;}\" class=\"incorrect bar-type\"><div data-bind=\"visible: stats().incorrect\" class=\"percent\"><span data-bind=\"html:stats().incorrect+&quot;%&quot;\" class=\"percent-text\"></span></div></div><div role=\"progressbar\" data-bind=\"style: {width: stats().correct+&quot;%&quot;}\" class=\"correct bar-type\"><div data-bind=\"visible:stats().correct\" class=\"percent\"><span data-bind=\"html:stats().correct+&quot;%&quot;\" class=\"percent-text\"></span></div></div><div role=\"progressbar\" data-bind=\"visible: stats().available, style: {width: (((stats().available-stats().completed)/stats().available)*100)+&quot;%&quot;}\" class=\"new bar-type\"><div data-bind=\"visible:stats().available\" class=\"percent\"><span data-bind=\"html:Math.floor(((stats().available-stats().completed)/stats().available)*100)+&quot;% New&quot;\" class=\"percent-text\"></span></div></div></div></div></div><div class=\"size\"><div class=\"the-label\">Max Quiz Size</div><select data-bind=\"value: maxCount\" class=\"form-control\"><option>10</option><option>25</option><option>40</option><option>50</option><option>100</option><option>250</option><option>1000</option><option>3000</option></select></div><div class=\"build-quiz-cta\"><button data-bind=\"ajax: onBuildQuizClick()\" class=\"button blue\">Build Quiz</button></div></div><div class=\"selector-container\"><div class=\"subjects-section block-section\"><div class=\"subjects-section-header\"><div class=\"subjects-section-explain\"><div class=\"message select-items-message\"><i class=\"fas fa-info-circle\"></i><div class=\"text\">Select items below to build your quiz.</div></div></div><div class=\"subjects-section-actions\"><div data-bind=\"visible: showDifficulty\" class=\"subjects-section-action\"><div data-bind=\"click: showDifficultyPopup, clickBubble: false\" class=\"subjects-section-action-title\">Difficulty</div><div class=\"models-ques-DifficultyBar\"></div></div><div class=\"subjects-section-action\"><div class=\"subjects-section-action-title\">Show progress</div><div class=\"radio-alt-input\"><label data-title=\"Show total number of items.\" class=\"option action-tip\"><input type=\"radio\" name=\"progressFormat\" value=\"total\" checked=\"checked\" data-bind=\"checked: progressFormat\"/><div class=\"checkmark\"><p class=\"text\">#</p></div></label><label data-title=\"Show the percentage.\" class=\"option action-tip\"><input type=\"radio\" name=\"progressFormat\" value=\"percentage\" data-bind=\"checked: progressFormat\"/><div class=\"checkmark\"><p class=\"text\">%</p></div></label><label data-title=\"Show correct (green) and incorrect (red).\" class=\"option action-tip\"><input type=\"checkbox\" data-bind=\"checked: showProgressColors\"/><div class=\"checkmark\"><p class=\"text\"><i class=\"fas fa-fill-drip\"></i></p></div></label></div></div><div data-bind=\"visible: itemType === &quot;allFC&quot;\" class=\"subjects-section-action create-flashcards\"><a data-bind=\"click: createFlashcardsClick\" class=\"create-flashcards-button box basic button olive left-icon\"><i class=\"far fa-layer-plus\"></i><span class=\"text\">Create flashcards</span></a></div></div></div><div data-bind=\"foreach: breadcrumbs\" class=\"breadcrumbs\"><span data-bind=\"text: $data.name, click: function(data, event) { $parent.smoothScroll(data.col) }\" class=\"breadcrumb\"></span><span data-bind=\"visible: $parent.breadcrumbs().length &gt; $data.col + 1\" class=\"breadcrumb-divider\"><i class=\"fal fa-chevron-right\"></i></span></div><div class=\"columns\"><div data-bind=\"visible: showDifficulty\" class=\"group-wrapper difficulty-group-wrapper\"><div class=\"block-section-title\">Difficulty</div><div class=\"difficulty-group\"><div class=\"difficulty-col\"></div></div></div><div class=\"group-wrapper topic-group-wrapper\"><div data-bind=\"css: { &quot;connect-left&quot;: showDifficulty }\" class=\"block-section-title\"><div class=\"select-all\"><div class=\"checkbox-input\"><input id=\"select-all-checkbox\" type=\"checkbox\" data-bind=\"checked:selectAllChecked\"/><label for=\"select-all-checkbox\">Select All</label></div></div>Select topic</div><div class=\"ui-QuizTopicTree\"></div></div></div></div></div><div data-bind=\"foreach: selectedTopics\" class=\"selected-topics\"><span class=\"selected-topic\"><span data-bind=\"html: $root.displayName(addr)\"></span><i data-bind=\"click: $root.removeTopic($data)\" class=\"fas fa-times\"></i></span></div></div>"}),deftmp("ui.QuizTopicTree",{template:"<div class=\"ui-QuizTopicTree ui-QuizTopicSelector\"><div data-bind=\"css: {&quot;columns--flat&quot;: isRootFlat}\" class=\"columns\"><div class=\"group-A group\"><div class=\"topics-col-A topic-col\"></div><div class=\"topics-col-B topic-col\"></div><div class=\"topics-col-C topic-col\"></div><div class=\"topics-col-D topic-col\"></div><div class=\"topics-col-E topic-col\"></div></div></div></div>"}),deftmp("ui.RecommendationDemoEvent",{template:"<div class=\"ui-RecommendationDemoEvent\"><div class=\"row\"><div class=\"col-md-5\"><div data-bind=\"foreach: docs\"><div class=\"rfloat mrm\"><a href=\"\" data-bind=\"click: $root.goToEvent()\" class=\"thumb-container\"><img data-bind=\"attr: {src: $data}\" class=\"docShadow\"/></a></div></div><div class=\"clearfix\"></div></div><div class=\"col-md-2\"><div class=\"center\"><div class=\"fa fa-magic fa-5x\"></div></div></div><div class=\"col-md-5\"><div class=\"factsDiv\"></div></div></div></div>"}),deftmp("ui.RecommendationsDemo",{template:"<div class=\"ui-RecommendationsDemo\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"center\"><h3>3. Beyond the question bank...</h3></div><div data-bind=\"click: showVideo\" style=\"position: relative; width: 560px; height: 315px; cursor: pointer\" class=\"center\"><img src=\"/assets/images/PrimeVideoThumbnail.jpg\" style=\"position: absolute; z-index: 10; top:0px; left:0px; width: 560px; height: 315px\"><i style=\"color: red; position: absolute; left:0px; right:0px; z-index: 20; line-height: 315px; height:315px\" class=\"fa fa-play-circle fa-4x\"></i></div><div class=\"center\"><h3>Osmosis reads your course docs for you</h3><h4>and pushes facts to know for boards to your mobile device</h4></div><div class=\"mtxxl\"><div class=\"container\"><div class=\"events\"></div></div></div><div class=\"mtxl center\"><h4>These facts will be pushed to your phone</h4><h4>via spaced repetition</h4><i class=\"fa fa-mobile-alt fa-5x\"></i></div><div class=\"mtl center\"><div><span class=\"apple-app app-icon\"><a href=\"https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&amp;mt=8\" target=\"_blank\"><img alt=\"Available on the App Store\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d4dc08f9d166cf25c8a379fd9b3b76459cd2ebc7.png\"></a></span><span class=\"android-app app-icon mlm\"><a href=\"https://play.google.com/store/apps/details?id=org.osmosis.med\" target=\"_blank\"><img alt=\"Android app on Google Play\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/7ba7dc02fdb249538cea3c8f4fb680afb2fdbf3c.png\"></a></span></div><div class=\"clearfix\"></div><h3>(so download the app if you haven't already)</h3></div></div></div></div>"}),deftmp("ui.RecommendedMediaContainer",{template:"<div class=\"ui-RecommendedMediaContainer\"><div class=\"media-item\"></div></div>"}),deftmp("ui.RedeemMessage",{template:"<div class=\"ui-RedeemMessage\"><div data-bind=\"css: theme\" class=\"redeem-message\"><i data-bind=\"css: messageIcon\" class=\"redeem-message-icon\"></i><div class=\"redeem-message-text-wrapper\"><h1 data-bind=\"text: messageHeader\" class=\"redeem-message-header\"></h1><h3 data-bind=\"text: messageBody\" class=\"redeem-message-body\"></h3><p data-bind=\"text: messageFooter\" class=\"redeem-message-footer\"></p></div><div data-bind=\"visible: giftCard &amp;&amp; loggedIn\" class=\"redeem-button-container\"><a href=\"/home\" class=\"blue button\">Dashboard</a></div><div data-bind=\"visible: !loggedIn\" class=\"redeem-button-container sign-in\"><button data-bind=\"click: createAccountClick\" class=\"button\">Create account</button><button data-bind=\"click: signInClick\" class=\"blue button\">Log in</button></div><div data-bind=\"visible: !giftCard\" class=\"redeem-message-input\"><div class=\"text-input\"><input data-bind=\"value: claimCode, valueUpdate: &quot;input&quot;\" type=\"text\" placeholder=\"eGift card code\"/></div><div class=\"redeem-button-container\"><button data-bind=\"click: redeemGiftCard, enable: claimCodeValid\" class=\"blue button\">Redeem eGift card</button></div></div></div></div>"}),deftmp("ui.ReferralLink",{template:"<div class=\"ui-ReferralLink\"><div class=\"referral-link-banner\"><div class=\"content-row\"><div class=\"column\"><h2 class=\"inverted title\">Give 2 weeks, get 2 weeks</h2><p class=\"inverted\">For every friend who creates a new Osmosis account using your referral link, we'll give each of you 2 weeks of Osmosis Prime access.*</p><a class=\"terms\">*See the <a class='terms-link' href='http://help.osmosis.org/faqs/refer-a-friend-program' target='_blank'>terms and conditions</a></a></div><div class=\"column\"><div class=\"image-container\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/efc8f2ec6f92fb8f45e1e176e972e23786869e7e.png\"></div></div></div></div><div class=\"referral-link-container\"><div class=\"referral-unique-link-container\"> <h3 class=\"title\">Your unique link: </h3><div class=\"referral-unique-link-content\"><div class=\"referral-link-box\"><div class=\"referral-link-url\"><input data-bind=\"click: copyLink, value: referralLink\" readonly=\"readonly\" type=\"text\" data-title=\"Link copied to clipboard.\" class=\"copy-tip\"/></div></div><div class=\"referral-unique-link-buttons\"><button data-bind=\"click: copyLink\" class=\"inverted blue button left-icon referral-link-copy\"><i class=\"fas fa-link\"></i>Copy link</button><div class=\"button-container\"><a data-bind=\"click: shareOnFacebook\" class=\"inner-circle facebook\"><i class=\"fab fa-facebook-f\"></i></a></div><div class=\"button-container\"><a data-bind=\"click: shareOnTwitter\" class=\"inner-circle twitter\"><i class=\"fab fa-twitter\"></i></a></div></div></div><div class=\"referral-link-page\"><p class=\"inverted\">You can always find your referral link on your <a href='/account/referral'>account</a> page.</p></div></div></div></div>"}),deftmp("ui.ReferralMessage",{template:"<div class=\"ui-ReferralMessage\"><div data-bind=\"fadeVisible: true, fadeDirection: &quot;up&quot;\" class=\"message-container\"><div class=\"message-box\"><div data-bind=\"visible: user.avatar != &quot;&quot;\" class=\"avatar-profile\"><img data-bind='attr: { src: \"https://osmose-it.s3.amazonaws.com/\" + user.avatar + \"/_.jpg\" }'></div><div data-bind=\"visible: user.avatar == &quot;&quot;\" class=\"avatar-ossy\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/swuFIL-sQI2_jrUbOpJC3wH-TXKVYm76.png\"></div><p data-bind=\"html: message\" class=\"message-text\">;</p></div></div></div>"}),deftmp("ui.ReferralPanel",{template:"<div class=\"ui-ReferralPanel\"><div class=\"mtm mbs\"><div><h5><a href=\"\" style=\"display: inline-block; color: black\" data-bind=\"click: referralHint, text: window.serverURL+&quot;invite/&quot;+referralLink()\"></a></h5><h4><a href=\"\" data-bind=\"visible: !showingSendForm(), toggle: showingSendForm\">Send Invites</a></h4></div><div data-bind=\"visible: showingSendForm\"><textarea data-bind=\"value: emailAddrs\" placeholder=\"Enter email addresses here\" style=\"width:400px; height: 50px; resize: none\" class=\"form-control center mtm\"></textarea><textarea data-bind=\"value: emailMsg\" placeholder=\"Enter a message like &quot;Osmosis is awesome! Check it out.&quot; here\" style=\"width:400px; height: 100px; resize: none\" class=\"form-control center mtm hidden\"></textarea><button data-bind=\"ajax: sendInvites\" class=\"btn btn-primary mtm\">Send Invites</button></div></div></div>"}),deftmp("ui.ResourceCluster",{template:"<div data-bind=\"visible:(!osmosisOnly() || osmosisOnly() &amp;&amp; source == &quot;Osmosis&quot;),css:{isPlaylist:overlayCount, featured:featured, &quot;pulse-marker&quot;:title == globalConcept()}, attr:{&quot;data-concept-title&quot;:title}\" class=\"ui-ResourceCluster concept-link\"><a data-bind=\"click: open, attr: { href: url }\" class=\"video-item\"><div class=\"vid-thumbnail\"><img data-bind=\"attr: {src: thumbnail}\"/><div data-bind=\"visible:primeOnly\" class=\"prime-overlay\"><i class=\"fa fa-star\"></i><span>Prime</span></div><div data-bind=\"visible:duration\" class=\"duration-overlay\"><span data-bind=\"html:duration\"></span></div><div data-bind=\"visible: overlayCount\" class=\"playlist-overlay\"><div class=\"content-container\"><div data-bind=\"text: overlayCount\" class=\"vid-count\"></div><div class=\"playlist-label\">Concepts</div><i class=\"fa fa-list\"></i></div></div></div><div data-bind=\"visible: !overlayCount\"><div class=\"vid-title\"><h4 data-bind=\"text: title\"></h4></div><div class=\"vid-source\"><span data-bind=\"text:source\"></span></div><div data-bind=\"foreach: ratingStars\" class=\"vid-rating\"><i data-bind=\"css: $data\" class=\"fa\"></i></div></div><div data-bind=\"visible: overlayCount\"><div class=\"vid-title\"><h4 data-bind=\"text: section\"></h4></div><div class=\"vid-source\"><span data-bind=\"text: unit\"></span></div></div></a></div>"}),deftmp("ui.ResourceClusterEnhanced",{template:"<div data-bind=\"visible:(!osmosisOnly() || osmosisOnly() &amp;&amp; source == &quot;Osmosis&quot;),css:{isPlaylist:overlayCount, featured:featured, &quot;pulse-marker&quot;:title == globalConcept()}, attr:{&quot;data-concept-title&quot;:title}\" class=\"ui-ResourceClusterEnhanced concept-link\"><a data-bind=\"click: open, attr: { href: url }\" class=\"video-item\"><div class=\"vid-thumbnail\"><img data-bind=\"attr: {src: thumbnail}\"/><div data-bind=\"visible:primeOnly\" class=\"prime-overlay\"><i class=\"fa fa-star\"></i><span>Prime</span></div><div data-bind=\"visible:duration\" class=\"duration-overlay\"><span data-bind=\"html:duration\"></span></div><div data-bind=\"visible: overlayCount\" class=\"playlist-overlay\"><div class=\"content-container\"><div data-bind=\"text: overlayCount\" class=\"vid-count\"></div><div class=\"playlist-label\">Concepts</div><i class=\"fa fa-list\"></i></div></div></div></a></div>"}),deftmp("ui.ResourceClusterRow",{template:"<div class=\"ui-ResourceClusterRow\"><div class=\"video-list\"><div class=\"list-title\"><h4 data-bind=\"text: title\"></h4><div data-bind=\"html: caption\" class=\"fp80 mlm\"></div></div><div class=\"clusters\"><div data-bind=\"visible:carousel\" class=\"carousel-nav\"><div data-bind=\"click:carouselBack\" class=\"nav-arrow left-arrow\"><i class=\"fa fa-angle-left\"></i></div><div data-bind=\"click:carouselForward\" class=\"nav-arrow right-arrow\"><i class=\"fa fa-angle-right\"></i></div></div></div></div></div>"}),deftmp("ui.ResourceClusterSummary",{template:"<div class=\"ui-ResourceClusterSummary\"><div class=\"main-section\"><div class=\"queue-actions\"><div class=\"flashcards type-section\"><div data-bind=\"text: flashcards.length\" class=\"count\"></div><div data-bind=\"visible: flashcards.length==1\" class=\"the-label\">Flashcard</div><div data-bind=\"visible: flashcards.length!=1\" class=\"the-label\">Flashcards</div><div data-bind=\"click: addFlashcards\" title=\"Add to quiz queue\" class=\"queue-add\"><i class=\"fi fi-flashcard-bolt\"></i><i class=\"fa fa-plus\"></i></div></div><div data-bind=\"visible: questions.length\" class=\"questions type-section\"><div data-bind=\"text: questions.length\" class=\"count\"></div><div data-bind=\"visible: questions.length==1\" class=\"the-label\">Question</div><div data-bind=\"visible: questions.length!=1\" class=\"the-label\">Questions</div><div data-bind=\"click: addQuestions\" title=\"Add to quiz queue\" class=\"queue-add\"><i class=\"fi fi-question-nav\"></i><i class=\"fa fa-plus\">     </i></div></div></div><div data-bind=\"visible: hasResourceClusters\" class=\"search-clusters\"></div><div class=\"info\"><div class=\"description\"><p data-bind=\"html: summary\"></p></div><div class=\"secondary-section\"><div data-bind=\"visible: tabsAvailable[&quot;First Aid&quot;], click: viewResource(&quot;fa&quot;)\" class=\"item first-aid\"><i class=\"fa fa-medkit\"></i><span class=\"item-label\">First Aid</span></div><div data-bind=\"visible: window.groupID\" class=\"item timeline\"><i class=\"fa fa-history\"></i><span class=\"item-label\">Timeline</span></div><div data-bind=\"visible: tabsAvailable[&quot;Picmonic&quot;], click: viewResource(&quot;picmonic&quot;)\" class=\"item anchors\"><i class=\"fas fa-code-branch fa-rotate-90\"></i><span class=\"item-label\">Picmonic</span></div></div></div><div class=\"secondary-search-clusters\"></div></div></div>"}),deftmp("ui.ResourceRow",{template:"<div data-bind=\"visible:(!osmosisOnly() || osmosisOnly() &amp;&amp; source == &quot;Osmosis&quot;),css:{isPlaylist:overlayCount, featured:featured, &quot;pulse-marker&quot;:title == globalConcept()}, attr:{&quot;data-concept-title&quot;:title}\" class=\"ui-ResourceRow concept-link\"><a data-bind=\"click: open, attr: { href: url }\" class=\"video-item\"><div class=\"lfloat\"><div class=\"vid-thumbnail\"><span data-bind=\"text: index\" class=\"fcg fp80 mrl\"></span><img data-bind=\"attr: {src: thumbnail}\"/></div><div class=\"vid-info\"><div class=\"vid-title\"><h4 data-bind=\"text: title\"></h4></div><div class=\"vid-source\"><span data-bind=\"text:source\"></span></div></div></div><div data-bind=\"visible:duration\" class=\"rfloat vid-duration\"><span data-bind=\"html:duration\"></span></div><div class=\"clearfix\"></div></a></div>"}),deftmp("ui.ReviewApp",{template:"<div data-bind=\"css: { &quot;quiz-controls-shown&quot;: showQuizControls }\" class=\"ui-ReviewApp\"><div data-bind=\"visible: mode()==&quot;quiz&quot;\"><div data-bind=\"visible:showSelectQuiz\" class=\"quiz-complete-message\"><h3 class=\"header\">No quiz selected</h3><button data-bind=\"click:selectQuiz\" class=\"blue box button\">Select quiz</button></div><div class=\"models-ques-QuizPanel\"></div></div><div data-bind=\"visible: mode()==&quot;done&quot;\"><div class=\"quiz-complete-message\"><h3 class=\"header\">You've finished all the questions in this quiz.</h3><div class=\"buttons-container\"><button data-bind=\"click: repeat\" class=\"basic box button left-icon\"><i class=\"fas fa-sync\"></i><span>Repeat missed</span></button><button data-bind=\"click: close\" class=\"blue box button left-icon\"><i class=\"fas fa-plus\"></i><span>Create new quiz</span></button></div></div></div></div>"}),deftmp("ui.ReviewCtrlPanel",{template:"<div style=\"width:250px\" class=\"lfloat\"><h3 id=\"ScoreboardHeading\" class=\"visibleWidescreen\">Scoreboard</h3><div style=\"padding-left:25px; padding-right:25px\" class=\"divScoreboard\"></div></div><div style=\"width:250px\" class=\"lfloat\"><h3 id=\"FilterHeading\" class=\"visibleWidescreen\">Custom Filters</h3><div class=\"visibleFullscreen mtxl\"></div><div class=\"divQuesCustomFilters\"></div></div>"}),deftmp("ui.SaleBanner",{template:"<div data-bind=\"if: show, css: { [theme()]: true, visible: show }\" class=\"ui-SaleBanner\"><div class=\"banner-message\"><i data-bind=\"visible: desktop() &amp;&amp; !showCountdown(), css:icon\" class=\"fa\"></i><div data-bind=\"visible: showCountdown\" class=\"countdown\"><div class=\"fas fa-hourglass-half hourglass\"></div><div class=\"countdown-content\"><div class=\"top\"><div data-bind=\"\" class=\"hours odometer odometer-theme-train-station hours\"></div><div data-bind=\"\" class=\"minutes odometer odometer-theme-train-station minutes\"></div><div data-bind=\"\" class=\"seconds odometer odometer-theme-train-station seconds\"></div></div><div class=\"bottom\"><div class=\"label-hours\">Hrs</div><div class=\"label-minutes\">Mins</div><div class=\"label-seconds\">Secs</div></div></div></div><h3 data-bind=\"html: desktop() ? message : mobileMessage\" class=\"inverted the-message\"></h3><a data-bind=\"html:cta, attr: { href: ctaLink }, css: theme\" class=\"inverted button\"></a></div><i data-bind=\"click:hideBanner\" class=\"fas fa-times close-banner\"></i></div>"}),deftmp("ui.ScheduleDailyGoals",{template:"<div class=\"ui-ScheduleDailyGoals\"><div data-bind=\"foreach: goals\" class=\"goals-list\"><div class=\"goal-item\"><a href=\"\" data-bind=\"click: $root.editGoal($data), attr: {title: data.hint}, css: {&quot;tip&quot;: data.hint}\" class=\"lfloat\"><span data-bind=\"text: data.title\" class=\"goal-title\"></span><span class=\"sep\">:&nbsp;</span><span data-bind=\"text: data.rate\" class=\"rate\"></span><span class=\"space\">&nbsp;</span><span data-bind=\"text: $root.typeStr(data.type)\" class=\"type\"></span><span class=\"day\">/day</span></a><div data-bind=\"click: $root.removeGoal($data)\" class=\"close\">&times;</div><div class=\"clearfix\"></div></div></div></div>"}),deftmp("ui.ScheduleResources",{template:"<div class=\"ui-ScheduleResources\"><div class=\"decision-message\">Select the additional resources you want to use (you can change these at any time):</div><div style=\"text-align: left; display: flex; flex-wrap: wrap; justify-content: space-evenly;\" class=\"mtl form-horizontal form-type-checkbox\"><div style=\"margin-left: 25px;margin-right: 25px;\" class=\"col schedule-resources-column\"><div class=\"checkbox-header\">Osmosis</div><div class=\"mlxl\"><div class=\"checkbox-input\"><input id=\"osmosis-videos\" type=\"checkbox\" data-bind=\"checked: resources.osmosisVideos\"/><label for=\"osmosis-videos\">Osmosis Videos</label></div><div class=\"checkbox-input\"><input id=\"osmosis-flashcards\" type=\"checkbox\" data-bind=\"checked: resources.osmosisFlashcards\"/><label for=\"osmosis-flashcards\">Osmosis Flashcards</label></div><div class=\"checkbox-input\"><input id=\"osmosis-questions\" type=\"checkbox\" data-bind=\"checked: resources.osmosisQuestions\"/><label for=\"osmosis-questions\">Osmosis Questions (board style)</label></div></div><div class=\"checkbox-input\"><input id=\"pathoma\" type=\"checkbox\" data-bind=\"checked: resources.pathoma\"/><label for=\"pathoma\">Pathoma</label></div><div class=\"checkbox-input\"><input id=\"boardsAndBeyond\" type=\"checkbox\" data-bind=\"checked: resources.boardsAndBeyond\"/><label for=\"boardsAndBeyond\">Boards and Beyond</label></div></div><div style=\"margin-left: 25px;margin-right: 25px;\" class=\"col schedule-resources-column\"><div class=\"checkbox-header\">Sketchy Medical</div><div class=\"mlxl\"><div class=\"checkbox-input\"><input id=\"sketchy-micro\" type=\"checkbox\" data-bind=\"checked: resources.sketchyMicro\"/><label for=\"sketchy-micro\">Sketchy Micro</label></div><div class=\"checkbox-input\"><input id=\"sketchy-pharm\" type=\"checkbox\" data-bind=\"checked: resources.sketchyPharm\"/><label for=\"sketchy-pharm\">Sketchy Pharm</label></div><div class=\"checkbox-input\"><input id=\"sketchy-path\" type=\"checkbox\" data-bind=\"checked: resources.sketchyPath\"/><label for=\"sketchy-path\">Sketchy Path</label></div></div><div class=\"checkbox-input\"><input id=\"picmonic\" type=\"checkbox\" data-bind=\"checked: resources.picmonic\"/><label for=\"picmonic\">Picmonic</label></div></div></div><div style=\"font-size: 90%\" class=\"decision-message\">HINT: Start light on resources and add more later so you don't get overwhelmed.</div></div>"}),deftmp("ui.ScheduleStatusBar",{template:"<div class=\"ui-ScheduleStatusBar ui-GroupStatusBar\"><div class=\"status-items statusBar-section\"></div><div class=\"statusBar-cta statusBar-section\"></div></div>"}),deftmp("ui.ScheduleTopics",{template:"<div class=\"ui-ScheduleTopics\"><div class=\"decision-message\">Select the topics in <span class='fwb' data-bind='text: subject'/> that this exam will cover:</div><div style=\"text-align: left;\" class=\"mtl form-horizontal form-type-checkbox\"><div style=\"margin-left: 25px; margin-right: 25px;\" class=\"col schedule-resources-column\"><div data-bind=\"foreach: categories\" class=\"mlxl\"><div data-bind=\"css: { expanded: expanded }\" class=\"checkbox-input category-checkbox\"><input data-bind=\"checked: selected, attr: { id: $data.name }\" type=\"checkbox\"/><label data-bind=\"text: name, attr: { for: $data.name }, click: $parent.toggleAll\">Osmosis Videos</label><i class=\"far fa-chevron-down dropdown-icon\"></i><div data-bind=\"click: $parent.toggleExpanded\" class=\"dropdown-click-area\"></div></div><div data-bind=\"foreach: group, fadeVisible: expanded, fadeDirection: &quot;down&quot;\" class=\"mlxl\"><div class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: selected, attr: { id: $data.id }\"/><label data-bind=\"text: topic, attr: { for: $data.id }\"></label></div></div></div></div></div></div>"}),deftmp("ui.ScoreboardKey",{template:"<div class=\"ui-ScoreboardKey\"><div class=\"radio-alt-input\"><h4 class=\"mtxxl legend-header\">Group</h4><div class=\"quick-select-container\"><label class=\"option\"><input type=\"radio\" name=\"quick-select\" value=\"new\" id=\"quick-select-new\" data-bind=\"checked: quickSelect\"/><div class=\"checkmark\"> <p class=\"text\">New</p></div></label><label class=\"option\"><input type=\"radio\" name=\"quick-select\" value=\"all\" id=\"quick-select-all\" data-bind=\"checked: quickSelect\"/><div class=\"checkmark\"><p class=\"text\">All</p></div></label><label class=\"option\"><input type=\"radio\" name=\"quick-select\" value=\"wrong\" id=\"quick-select-wrong\" data-bind=\"checked: quickSelect\"/><div class=\"checkmark\"><p class=\"text\">Incorrect</p></div></label><label class=\"option\"><input type=\"radio\" name=\"quick-select\" value=\"old\" id=\"quick-select-old\" data-bind=\"checked: quickSelect\"/><div class=\"checkmark\"><p class=\"text\">Not answered today</p></div></label></div></div><h4 class=\"mtl legend-header\">Accuracy and confidence</h4><div data-bind=\"foreach: accConf\" class=\"accConf\"><div data-bind=\"css: {disabled: !active()}\" class=\"segment\"><i data-bind=\"style:{color: color}\" class=\"fa fa-circle\"></i><div data-bind=\"click: $root.toggle(&quot;accConf&quot;,$data)\" class=\"checkbox-input scoreboard-checkbox\"><input id=\"checkbox\" type=\"checkbox\" data-bind=\"checked: active\"/><label data-bind=\"attr: {for: &quot;checkbox&quot;}, text: text\"></label></div></div></div><h4 data-bind=\"visible: times().length\" class=\"mtl legend-header\">Time</h4><div data-bind=\"foreach: times\" class=\"times\"><div data-bind=\"css: {disabled: !active()}\" class=\"segment\"><i class=\"fa fa-calendar\"></i><div data-bind=\"click: $root.toggle(&quot;times&quot;,$data)\" class=\"checkbox-input scoreboard-checkbox\"><input id=\"checkbox\" type=\"checkbox\" data-bind=\"checked: active\"/><label data-bind=\"attr: {for: &quot;checkbox&quot;}, text: text\"></label></div></div></div></div>"}),deftmp("ui.SearchBar",{template:"<div class=\"ui-SearchBar\"><div data-bind=\"css: mainSearchClasses\" class=\"main-search\"><input type=\"text\" placeholder=\"Search for a topic to study...\" autocorrect=\"off\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\" data-bind=\"event: {                                               change: onInputChanged(),                             keypress: onInputChanged(),                           paste: onInputChanged(),                              drop: onInputChanged(),                               keydown: onKeyDown(),                                 keyup: onKeyUp(),                                     focus: onInputFocus(),                                focusout: onInputFocusout(),                        }, attr:{ placeholder: placeholder }\" class=\"search-input white-placeholder\"/><div data-bind=\"visible:!hideIcon(),click: initSearch\" class=\"search-btn\"><i class=\"fa fa-search\"></i></div><div data-bind=\"click: closeSearch\" class=\"close-search\"><i>&times;</i></div><div data-bind=\"css: autocompleteContainerClasses\" class=\"autocomplete-container\"><div data-bind=\"visible: autocompleteVideoResults().length &gt; 0\" class=\"autocomplete-heading\">OSMOSIS VIDEOS</div><div data-bind=\"foreach: autocompleteVideoResults\" class=\"autocomplete-item-container\"><div data-bind=\"css: {                       active: autocompleteIndex === $parent.autocompleteSelectedIndex(),                       &quot;last-item&quot;: ($parent.autocompleteOtherResults().length === 0) &amp;&amp;                                    ($index() + 1 === $parent.autocompleteVideoResults().length),                       &quot;has-learn-concepts&quot;: $data.htmlLearnConcepts !== &quot;&quot;                     },                     attr: { &quot;data-autocomplete-index&quot;: autocompleteIndex },                     event: {                       mouseenter: $parent.onAutocompleteMouseEnter(),                       mouseleave: $parent.onAutocompleteMouseLeave(),                       mousedown: $parent.onAutocompleteClick(),                     }\" class=\"autocomplete-item\"><div data-bind=\"visible:$data.thumb\" class=\"autocomplete-item-video\"><img data-bind=\"attr: { src: &quot;https://d16qt3wv6xm098.cloudfront.net/&quot; + $data.thumb }\" class=\"autocomplete-item-video-image\"/><i class=\"fa fa-play autocomplete-item-video-play\"></i></div><div data-bind=\"html: $data.htmlName\" class=\"autocomplete-item-name\"></div><div data-bind=\"visible: $data.learnConcepts, html: htmlLearnConcepts\" class=\"autocomplete-item-concepts\"></div><div data-bind=\"foreach: attributes\" class=\"autocomplete-attribute-container\"><br data-bind=\"visible: shouldBreak\"/><div class=\"autocomplete-attribute\"><span data-bind=\"text: count\" class=\"autocomplete-attribute-count\"></span>&nbsp;<span data-bind=\"text: name\" class=\"autocomplete-attribute-name\"></span><span data-bind=\"visible: $index() + 1 !== $parent.attributes.length\">,&nbsp;</span></div></div></div></div><div data-bind=\"visible: autocompleteOtherResults().length &gt; 0\" class=\"autocomplete-heading\"><span data-bind=\"text: autocompleteVideoResults().length &gt; 0 ? &quot;OTHER&quot; : &quot;ALL&quot;\"></span>&nbsp;RESULTS</div><div data-bind=\"foreach: autocompleteOtherResults\" class=\"autocomplete-item-container\"><div data-bind=\"css: {                       active: autocompleteIndex === $parent.autocompleteSelectedIndex(),                       &quot;last-item&quot;: $index() + 1 === $parent.autocompleteOtherResults().length,                       &quot;has-learn-concepts&quot;: $data.htmlLearnConcepts !== &quot;&quot;                     },                     attr: { &quot;data-autocomplete-index&quot;: autocompleteIndex },                     event: {                       mouseenter: $parent.onAutocompleteMouseEnter(),                       mouseleave: $parent.onAutocompleteMouseLeave(),                       mousedown: $parent.onAutocompleteClick(),                     }\" class=\"autocomplete-item\"><div data-bind=\"visible: $data.video\" class=\"autocomplete-item-video\"></div><div data-bind=\"html: $data.htmlName\" class=\"autocomplete-item-name\"></div><div data-bind=\"visible: $data.learnConcepts, html: htmlLearnConcepts\" class=\"autocomplete-item-concepts\"></div><div data-bind=\"foreach: attributes\" class=\"autocomplete-attribute-container\"><br data-bind=\"visible: shouldBreak\"/><div class=\"autocomplete-attribute\"><span data-bind=\"text: count\" class=\"autocomplete-attribute-count\"></span>&nbsp;<span data-bind=\"text: name\" class=\"autocomplete-attribute-name\"></span><span data-bind=\"visible: $index() + 1 !== $parent.attributes.length\">,&nbsp;</span></div></div></div></div></div></div></div>"}),deftmp("ui.SearchDashboard",{template:"<div data-bind=\"css: subjectTitle\" class=\"ui-SearchDashboard\"><div class=\"topic-header-wrapper\"><div data-bind=\"visible: breadcrumb &amp;&amp; breadcrumb().length &gt; 0, css: { expander: window.controlbarExpanded}\" class=\"breadcrumbs\"><span data-bind=\"foreach: breadcrumb\"><span data-bind=\"text: name, click: function(data, event) { $parent.actionFor(data)() }, clickBubble: false, css: $data.classes ? $data.classes : ''\" class=\"crumb\"></span></span><div class=\"subject-dropdown\"></div></div><div class=\"topic-header\"><div class=\"left-data\"><div class=\"topic-image\"><img data-bind=\"attr:{src:subjectIcon}\" style=\"max-width: 100px\" class=\"subject-img\"/></div><div class=\"subject-description-container\"><div class=\"subject-title-section\"><h2 data-bind=\"html:subjectTitle\" class=\"title\"></h2><span data-bind=\"visible: pageType() !== &quot;Resource Map&quot;\">&nbsp;<span data-bind='text: pageType'/></span></div><div data-bind=\"visible: pageType()==&quot;Resource Map&quot;\" class=\"subject-info-box\"><span class=\"topic-count\"><span data-bind=\"text: totalTopics\"></span> topics</span></div></div></div><div data-bind=\"slideVisible: progressBarsVisible, foreach: sections\" class=\"progress-bars\"><div data-bind=\"css: theme\" class=\"section-progress\"><div class=\"completion-data\"><div class=\"completion-mark fa fa-star\"></div><div class=\"wrapper\"><div class=\"completion-text\"><span data-bind=\"text: name\"></span><span>&nbsp;-&nbsp;</span><span data-bind=\"text: $root.calcPercentage($data)\"></span></div><div class=\"progress-total\"><div data-bind=\"style: { width: $root.calcPercentage($data) }\" class=\"current-progress\"></div><div data-bind=\"visible: increasing()\" class=\"increasing-progress\"></div></div></div></div></div></div><div class=\"ui-resourceMap-Filter\"></div></div></div><div class=\"topic-content\"><div class=\"ui-SubjectsNav\"></div><div class=\"dashboard-content\">     <div class=\"video-list-section row-section\"><div data-bind=\"visible: listOptionsAvailable\" class=\"list-options\"><div data-bind=\"click:toggleRows, html:toggleRowsCta\" class=\"toggle-rows\"></div></div><div class=\"dashboard-clusters\"></div></div></div></div></div>"}),deftmp("ui.SelectGroup",{template:"<div class=\"ui-SelectGroup\"><div data-bind=\"visible: status()==&quot;no-school&quot;\" class=\"panel-body\"><h4 data-bind=\"visible: studyModules()\" class=\"center\">To create Study Modules, you need to set up an <br>Osmosis Class Group</h4><h3 data-bind=\"visible: !studyModules()\" class=\"center\">Create a Class Group</h3><p>Chances are your class uses a Facebook group or Google doc to share notes or other resources. Awesome as they may be, these tools are limited for organizing your studying because they were designed for different purposes. Enter Osmosis Study Modules. We think you'll be amazed at what you can do with them.</p><form role=\"form\" style=\"min-width:200px; width: 100%\" class=\"center\"><div class=\"form-group\"><textarea name=\"message\" data-bind=\"value: newGroupRequestMsg\" placeholder=\"Tell us your school name and graduation year and we'll get you set up...\" style=\"height:100px\" class=\"form-control\"></textarea></div><div class=\"form-group\"><button type=\"submit\" data-bind=\"click: requestNewGroup\" class=\"btn btn-success\">Send Message</button></div></form></div><div data-bind=\"visible:status()==&quot;no-group&quot;\" class=\"panel-body\"><h3 data-bind=\"visible: !studyModules()\" class=\"center\">Join a Class Group</h3><h4 data-bind=\"visible: studyModules()\" class=\"center\">To create Study Modules, you need to join a <br> Class Group</h4><p>Based on your school email address we found the following Osmosis Class Groups. Please click on the one to which you belong to begin collaborating with your class and receiving customized learning resources.</p><div data-bind=\"foreach: groupInvites\" class=\"center group-list\"><h2><a data-bind=\"attr:{href:&quot;/groupinvite?id=&quot;+groupID}\"><span data-bind=\"text: name\"></span><button class=\"btn btn-success btn-xs mls\">Join Group</button></a></h2></div><div class=\"new-group mtl\"><p>My group isn't here. <a href=\"#\" data-bind=\"click:newGroupMsg\">Request a new group</a></p><form role=\"form\" data-bind=\"visible:showNewGroupForm()\"><div class=\"form-group\"><textarea name=\"message\" data-bind=\"value: newGroupRequestMsg\" placeholder=\"Tell us your graduation year and we'll get you set up...\" style=\"height:200px; width:100%\" class=\"form-control\"></textarea></div><div class=\"form-group\"><button type=\"submit\" data-bind=\"click: requestNewGroup\" class=\"btn btn-success\">Request Group</button></div></form></div></div><div data-bind=\"visible:status()==&quot;all-inactive&quot;\" class=\"panel-body\"><h2 class=\"center\">Looks like your groups are all archived</h2><p class=\"main-explain center\">Click <a href=\"/account?item=groups\">here</a> to fix this</p></div></div>"}),deftmp("ui.SelectStudySubjects",{template:"<div class=\"ui-SelectStudySubjects\"><h4 data-bind=\"visible: type==&quot;basic&quot;\">Basic Science: What do you want to study?</h4><h4 data-bind=\"visible: type!=&quot;basic&quot;\">Organ Systems: What do you want to study?</h4><label data-bind=\"click: selectAllClicked\" class=\"toggle-item\"><div class=\"toggle-label\">Select All</div><input type=\"checkbox\" value=\"\" data-bind=\"checked: selectAll\" class=\"form-check-input\"/><div class=\"toggle-button\"></div></label><div data-bind=\"foreach: toggleList\" style=\"text-align: left\" class=\"toggle-item-container\"><div class=\"toggle-item-wrapper\"><label data-bind=\"click: $root.toggleItemClicked()\" class=\"toggle-item\"><div data-bind=\"text: name\" class=\"toggle-label\"></div><input type=\"checkbox\" value=\"\" data-bind=\"checked: included\" class=\"form-check-input\"/><div class=\"toggle-button\"></div></label><div data-bind=\"visible: hasCategories &amp;&amp; included\" class=\"path-phys-container form-horizontal form-type-checkbox\"><div class=\"checkbox\"><label><input type=\"checkbox\" value=\"\" data-bind=\"checked: physiology\" class=\"form-check-input\"/><span>Physiology</span></label></div><div class=\"checkbox\"><label><input type=\"checkbox\" value=\"\" data-bind=\"checked: pathology\" class=\"form-check-input\"/><span>Pathology</span></label></div></div><div data-bind=\"visible: !hasCategories &amp;&amp; included() &amp;&amp; $root.type !== &quot;basic&quot;\" class=\"no-path-phys\"><span data-bind=\"text: name\"></span>&nbsp;doesn't have Pathology or Physiology</div></div></div></div>"}),deftmp("ui.SelectableCalendar",{template:"<div mixed=\"mixed\" class=\"ui-SelectableCalendar fc fc-ltr fc-unthemed noselect\"><div class=\"fc-toolbar\"><div class=\"fc-left\"><div class=\"fc-button-group\"><button type=\"button\" data-bind=\"click: prevMonth\" class=\"fc-prev-button fc-button fc-state-default fc-corner-left\"><span class=\"fc-icon fc-icon-left-single-arrow\"></span></button><button type=\"button\" data-bind=\"click: nextMonth\" class=\"fc-next-button fc-button fc-state-default fc-corner-right\"><span class=\"fc-icon fc-icon-right-single-arrow\"></span></button></div></div><div class=\"fc-right\"></div><div class=\"fc-center\"><h4 data-bind=\"text: title\"></h4></div><div class=\"fc-clear\"></div></div><div class=\"fc-view-container\"><div style=\"\" class=\"fc-view fc-month-view fc-basic-view\"><table><thead><tr><td class=\"fc-widget-header\"><div class=\"fc-row fc-widget-header\"><table><thead><tr><th class=\"fc-day-header fc-widget-header fc-mon\">Mon</th><th class=\"fc-day-header fc-widget-header fc-tue\">Tue</th><th class=\"fc-day-header fc-widget-header fc-wed\">Wed</th><th class=\"fc-day-header fc-widget-header fc-thu\">Thu</th><th class=\"fc-day-header fc-widget-header fc-fri\">Fri</th><th class=\"fc-day-header fc-widget-header fc-sat\">Sat</th><th class=\"fc-day-header fc-widget-header fc-sun\">Sun</th></tr></thead></table></div></td></tr></thead><tbody style=\"cursor: pointer\" data-bind=\"css: {&quot;small-times&quot;: !largeTimes, &quot;large-times&quot;: largeTimes}\" class=\"calendar-body\"><tr><td class=\"fc-widget-content\"><div class=\"fc-day-grid-container fc-scroller\"><div class=\"fc-day-grid\"></div></div></td></tr></tbody></table></div></div></div>"}),deftmp("ui.SelectableCalendarDay",{template:"<div class=\"ui-SelectableCalendarDay\"><div data-bind=\"foreach: events\"><a data-bind=\"attr: {title: hint, &quot;data-eventID&quot;: eventID}, css: {completed: completed, hasDocs: hasAttachments(), noDocs: !hasAttachments() &amp;&amp; isCourseEvent(), courseEvent: isCourseEvent, moduleBound: !isCourseEvent()}\" class=\"fc-day-grid-event fc-event fc-start fc-end event-tip\"><div class=\"fc-content\"><span data-bind=\"visible: $root.parent.largeTimes, html: title\" class=\"fc-time\"></span></div></a></div></div>"}),deftmp("ui.SelectableCalendarWeek",{template:"<div class=\"fc-row fc-week fc-widget-content\"><div class=\"fc-bg\"><table><tbody><tr><td class=\"fc-day fc-widget-content fc-mon\"></td><td class=\"fc-day fc-widget-content fc-tue\"></td><td class=\"fc-day fc-widget-content fc-wed\"></td><td class=\"fc-day fc-widget-content fc-thu\"></td><td class=\"fc-day fc-widget-content fc-fri\"></td><td class=\"fc-day fc-widget-content fc-sat\"></td><td class=\"fc-day fc-widget-content fc-sun\"></td></tr></tbody></table></div><div class=\"fc-content-skeleton\"><table><thead><tr class=\"week-days\"><td class=\"fc-day-number fc-mon\"></td><td class=\"fc-day-number fc-tue\"></td><td class=\"fc-day-number fc-wed\"></td><td class=\"fc-day-number fc-thu\"></td><td class=\"fc-day-number fc-fri\"></td><td class=\"fc-day-number fc-sat\"></td><td class=\"fc-day-number fc-sun\"></td></tr></thead><tbody><tr class=\"week-events\"><td class=\"fc-event-container fc-mon\"></td><td class=\"fc-event-container fc-tue\"></td><td class=\"fc-event-container fc-wed\"></td><td class=\"fc-event-container fc-thu\"></td><td class=\"fc-event-container fc-fri\"></td><td class=\"fc-event-container fc-sat\"></td><td class=\"fc-event-container fc-sun\"></td></tr></tbody></table></div></div>"}),deftmp("ui.SelectorHeader",{template:"<div data-bind=\"css: theme\" class=\"ui-SelectorHeader\"><div data-bind=\"visible: breadcrumb &amp;&amp; breadcrumb().length &gt; 0, css: { expander: window.controlbarExpanded}\" class=\"breadcrumb\"><span data-bind=\"foreach: breadcrumb\"><span data-bind=\"text: name, click: $root.actionFor($data), css: $data.classes ? $data.classes : ''\"></span></span></div><div class=\"selector-content\"><img data-bind=\"attr: { src: icon }, visible: icon\"><span data-bind=\"css: iconAlt, visible: iconAlt\" class=\"icon-alt\"></span><h1 data-bind=\"text: title\"> </h1><span data-bind=\"if: list &amp;&amp; list.length &gt; 0\"><span class=\"for\">for</span><div class=\"select-input\"><select data-bind=\"options: list, optionsText: 'text', optionsValue: 'value'\"></select></div></span></div><div class=\"selector-overlay\"><div></div></div></div>"}),deftmp("ui.SettingsItem",{template:"<li class=\"ui-SettingsItem uiCtrlListItem uiListItem uiListLight uiListVerticalItemBorder\"><a href=\"#\" data-bind=\"visible: !expanded(), click:expand\" class=\"pvm phs uiCtrlListLink uiCtrlListActiveLink\"><div class=\"ListItemLabel pls uiCtrlListItemLabel lfloat\"><strong data-bind=\"text: title\"></strong></div><div class=\"ListItemContent fcg lfloat\"><strong data-bind=\"text: value\"></strong></div><div data-bind=\"text: link\" class=\"ListItemLink uiCtrlListItemEdit rfloat\"></div><div class=\"clearfix\"></div><button class=\"close hidden\">&times;</button></a><div data-bind=\"visible: expanded\"><div class=\"viewModel\"></div></div></li>"}),deftmp("ui.SettingsStatusBar",{template:"<div class=\"ui-SettingsStatusBar ui-GroupStatusBar\"><div class=\"status-items statusBar-section\"></div><div class=\"statusBar-cta statusBar-section\"></div></div>"}),deftmp("ui.SharePopup",{template:"<div class=\"ui-SharePopup\"><div class=\"link\"><input type=\"text\" value=\"\" data-bind=\"attr:{value:fullLink}\"/></div><i data-bind=\"click: openPopup, clickBubble: false\" class=\"fas fa-share-alt\"></i><div class=\"popup-entry\"></div></div>"}),deftmp("ui.Sidebar",{template:"<div data-bind=\"css:{expanded:expanded}\" class=\"ui-Sidebar\"><div data-bind=\"click:close\" class=\"close-section\"><i class=\"fa fa-bars\"></i></div><div class=\"logo-section\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cnHo2JFrRbiJCiHmTL7LT4hHQxq73nnm.png\" alt=\"osmosis logo\"></div><div data-bind=\"click:navToLink(&quot;/account&quot;)\" class=\"user-section\"><div class=\"avatar\"></div><div data-bind=\"html:fullName\" class=\"name\"></div><div data-bind=\"html:memberStatus, visible:memberStatus\" class=\"status\">Prime member</div></div><div class=\"links\"><div class=\"static-links\"><div data-bind=\"click:navToLink(&quot;/&quot;)\" class=\"link-item\"><div class=\"icon\"><i class=\"fa fa-home\"></i></div><div class=\"link-label\">Home</div></div></div><div class=\"dynamic-links\"><h5>My tools</h5><div data-bind=\"foreach:primaryApps\" class=\"primary-links\"><div data-bind=\"click:$root.navToLink($data.url)\" class=\"link-item\"><div class=\"icon\"><i data-bind=\"css:icon\"></i></div><div data-bind=\"html:title\" class=\"link-label\"></div></div></div><div data-bind=\"foreach:secondaryApps\" class=\"secondary-links\"><div data-bind=\"click:$root.navToLink($data.url)\" class=\"link-item\"><div class=\"icon\"><i data-bind=\"css:icon\"></i></div><div data-bind=\"html:title\" class=\"link-label\"> </div></div></div><div class=\"edit-apps\"><button data-bind=\"click:openEditTools\" class=\"button box light left-icon\"><i class=\"fa fa-edit\"></i><span>Edit dashboard</span></button></div></div><div class=\"account-links\"><div data-bind=\"click:navToLink(&quot;/account&quot;)\" class=\"link-item\"><div class=\"icon\"><i class=\"fa fa-cog\"></i></div><div class=\"link-label\">Settings</div></div><div class=\"link-item logOutLink\"><div class=\"icon\"><i class=\"fa fa-sign-out-alt\"></i></div><div class=\"link-label\">Sign out</div></div></div><div class=\"extra-links\"><div data-bind=\"click:navToLink(&quot;/plans&quot;)\" class=\"simple-link\">Osmosis Prime Plans </div><div data-bind=\"click:navToLink(&quot;/referral&quot;)\" class=\"simple-link\">Refer a friend</div><div data-bind=\"click:navToLink(&quot;/home/scienceoflearning&quot;)\" class=\"simple-link\">Proven learning methods</div><div data-bind=\"click:navToLink(&quot;https://books.osmosis.org/?utm_source=logged-out&amp;utm_medium=osmosis&quot;, true)\" class=\"simple-link\">Bookshop</div><div data-bind=\"click:navToLink(&quot;https://shop.osmosis.org/?utm_source=logged-out&amp;utm_medium=osmosis&quot;, true)\" class=\"simple-link\">Swag shop</div><div data-bind=\"click:navToLink(&quot;https://help.osmosis.org&quot;, true)\" class=\"simple-link\">Help Center</div></div></div></div>"}),deftmp("ui.SignUps",{template:"<div class=\"ui-SignUps\"><div data-bind=\"visible: signUpCount() &gt; 0\" class=\"alert alert-success\"><div class=\"fwb\">Collaborate to spend less time organizing notes and more time quizzing yourself</div><div data-bind=\"visible: canSignUp\" class=\"fp80\">The following people have agreed to write review questions and/or flashcards for this lecture. Say thanks the next time you see them and think about signing up on another lecture (or this one if you want to). <a href='' data-bind='click: signUp'>Sign Up</a></div><div data-bind=\"visible: !canSignUp()\" class=\"fp80\">Thanks for signing up for this lecture!</div><div class=\"mtm\"><div class=\"avatars\"></div><div class=\"clearfix\"></div></div></div><div data-bind=\"visible: signUpCount() == 0\" class=\"alert alert-warning\"><div class=\"fwb\">Collaborate to spend less time organizing notes and more time quizzing yourself</div><div class=\"fp80\">Be the first to sign up to write review questions and/or flashcards for this lecture. Invite a friend to do the same on other lectures and cut your overall study time in half (plus it's more fun to answer questions you and your friends write). <a href='' data-bind='click: signUp, visible: canSignUp'>Sign Up</a></div></div></div>"}),deftmp("ui.SimpleLoginBox",{template:"<div class=\"ui-SimpleLoginBox\"><div data-bind=\"visible: !registrationWallActive\" class=\"osmosis-logo\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cnHo2JFrRbiJCiHmTL7LT4hHQxq73nnm.png\" alt=\"Osmosis Logo\" class=\"osmosis-logo-img\"></div><div data-bind=\"visible: !singleSignOnMessage()\" class=\"login-content\"><div class=\"login-content-container\"><h2 data-bind=\"visible: showRegister() &amp;&amp; !isBuying &amp;&amp; !registrationWallActive\" class=\"create-account-title\">Get started with a free trial</h2><div data-bind=\"visible: isBuying\" class=\"buying-info\"><div class=\"buying-info-icon\"><i class=\"fas fa-exclamation-circle\"></i></div><div class=\"buying-info-text\"><span data-bind=\"visible: showRegister()\">Before finalizing your purchase, let\u2019s create your account</span><span data-bind=\"visible: !showRegister()\">Before finalizing your purchase, sign in to your account</span></div></div><button data-bind=\"click:withFacebook\" class=\"login-button fb\"><div class=\"login-button-icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c21f08728fb11277fec00fd4b658a87267bb7f2d.png\"></div><div class=\"login-button-text\">Sign&nbsp;<span data-bind=\"text: showRegister() ? &quot;up&quot; : &quot;in&quot;\"></span>&nbsp;with Facebook</div></button><button data-bind=\"click:withGoogle\" class=\"login-button google\"><div class=\"login-button-icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/22d292b7e779addb6e8832edfe68998d27d85746.png\"></div><div class=\"login-button-text\">Sign&nbsp;<span data-bind=\"text: showRegister() ? &quot;up&quot; : &quot;in&quot;\"></span>&nbsp;with Google</div></button><div class=\"login-seperator\"><div class=\"login-seperator-text\">OR</div></div><form data-bind=\"visible: !showRegister() &amp;&amp; !showRegister()\" class=\"traditional-login\"><div data-bind=\"css: { error: showInvalidHints() &amp;&amp; !validInputs.email() }\" class=\"text-input\"><label for=\"input-email\">School email</label><input id=\"input-email\" type=\"email\" placeholder=\"Email\" autocomplete=\"email\" data-bind=\"value:email, css: { &quot;valid&quot;: validInputs.email }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"traditional-login-input\"/></div><div data-bind=\"css: { error: showInvalidHints() &amp;&amp; !validInputs.password() }\" class=\"text-input\"><label for=\"input-password\">Password</label><input id=\"input-password\" type=\"password\" placeholder=\"Password\" autocomplete=\"current-password\" data-bind=\"value:password, css: { &quot;valid&quot;: validInputs.password }, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" class=\"traditional-login-input\"/></div><button type=\"submit\" data-bind=\"click: withPassword, attr: { disabled: submitLoading() }, css: { &quot;disabled&quot;: validInputs.email() &amp;&amp; validInputs.password() &amp;&amp; submitLoading() }\" class=\"blue button sign-in-button\"><span data-bind=\"visible: !submitLoading()\">Sign in</span><span data-bind=\"visible: submitLoading()\" class=\"loading-spinner small\"></span></button><p data-bind=\"visible: !allInputsValid() &amp;&amp; showInvalidHints()\" class=\"negative message invalid-inputs\"><span data-bind=\"text:invalidInputMessage()\">Oops! Please fill out the required fields.</span></p><p data-bind=\"visible: showLoginFailureMessage()\" class=\"negative message login-failure\"><span data-bind=\"text: loginFailureMessage()\"></span></p><div class=\"checkbox-input\"><input id=\"traditional-remember-check\" type=\"checkbox\" name=\"remember\" data-bind=\"checked: remember\"/><label for=\"traditional-remember-check\">Keep me signed in</label></div><a href=\"#\" data-bind=\"click: forgotPassword\" class=\"forgot-password\">Forgot password?</a></form><div data-bind=\"visible: showRegister() || showRegister()\" class=\"create-account-wrapper\"><div class=\"ui-CreateAccount\"></div></div><div class=\"existing-account\"><span data-bind=\"text: showRegister() ? &quot;Already&quot; : &quot;Don&#39;t&quot;\"></span>&nbsp;have an account?&nbsp;<a data-bind=\"attr: { href: showRegister() ? &quot;/login&quot; : &quot;/register&quot; }, click: existingAccountClicked\">Sign&nbsp;<span data-bind=\"text: showRegister() ? &quot;in&quot; : &quot;up&quot;\"></span></a></div></div><div data-bind=\"visible: showRegister()\" class=\"login-content-seperator\"></div><div data-bind=\"visible: showRegister()\" class=\"login-content-container\"></div></div><div data-bind=\"visible: singleSignOnMessage(), html: singleSignOnMessage\" class=\"single-sign-on\"></div></div>"}),deftmp("ui.SinglePageDocContainer",{template:"<div class=\"ui-SinglePageDocContainer\"><div class=\"page redraw-svg\"></div></div>"}),deftmp("ui.SinglePageDocSlide",{template:""}),deftmp("ui.SlideUpBanner",{template:"<div class=\"ui-SlideUpBanner\"><div data-bind=\"click:hideNotice\" class=\"close-section\"><span>&times;</span></div><div class=\"main-section\"><div class=\"image-section\"><img src=\"\" data-bind=\"attr:{src:imgSrc}\"/></div><div class=\"info-section\"><div class=\"title\"><h4 data-bind=\"html:title\"></h4></div><div data-bind=\"html:content\" class=\"explainer\"></div><div data-bind=\"html:secondaryContent\" class=\"closer\"></div></div><div class=\"cta\"><a href=\"\" data-bind=\"click:mainAction, html:ctaText, css:ctaTheme\" class=\"btn btn-sm\"></a></div></div></div>"}),deftmp("ui.Snackbar",{template:"<div data-bind=\"css: { removing: removing }, event: { mouseover: clearTimeout, mouseout: resetTimeout }\" class=\"ui-Snackbar\"> <p data-bind=\"text:text\"></p><div data-bind=\"foreach:actions\" class=\"actions\"><div data-bind=\"text:name,click:function(){action($root)}\" class=\"action\"></div></div><div data-bind=\"click: remove\" class=\"close\"><i class=\"fas fa-times\"></i></div></div>"}),deftmp("ui.SocialShare",{template:"<div class=\"ui-SocialShare\"><h2 data-bind=\"text: header\"></h2><div class=\"share-container\"><div data-bind=\"click: fbShare\" class=\"share fa-stack fa-2x\"><i style=\"color: #4267B2\" class=\"fas fa-circle fa-stack-2x\"></i><i class=\"fab fa-facebook-f fa-stack-1x fa-inverse\"><div class=\"caption\">Facebook</div></i></div><div data-bind=\"click: twShare\" class=\"share fa-stack fa-2x\"><i style=\"color: #1CA1F2\" class=\"fas fa-circle fa-stack-2x\"></i><i class=\"fab fa-twitter fa-stack-1x fa-inverse\"><div class=\"caption\">Twitter</div></i></div><div data-bind=\"click: copyLink\" class=\"button blue\"> <i class=\"fas fa-link\"> </i><span data-bind=\"text: buttonText\"></span></div></div></div>"}),deftmp("ui.SpacedRepetition",{template:"<div class=\"ui-SpacedRepetition ui-QuizSelector\"><div class=\"container fullpage\"><div class=\"mtm center fp80\">Osmosis automatically selects items you should repeat each day to keep your knowledge base strong.</div><div class=\"row repetition-filters mtm\"><div class=\"col-sm-1\"><div class=\"fwb phm\">Daily Reps</div></div><div class=\"col-sm-4\"><div class=\"center fwb\">Select repetition mode</div><div data-bind=\"css:{active:repMode()==&quot;missed&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-mode\" value=\"missed\" data-bind=\"checked: repMode\"/><span class=\"fwb\">Missed only</span>\n<br><span class=\"fcg fp80\">repeat only flashcards previously missed</span></label></div><div data-bind=\"css:{active:repMode()==&quot;1-week&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-mode\" value=\"1-week\" data-bind=\"checked: repMode\"/><span class=\"fwb\">Memory Reinforcement: 1 week</span>\n<br><span class=\"fcg fp80\">repeat missed items + items answered correctly that you are at risk of forgetting</span></label></div><div data-bind=\"css:{active:repMode()==&quot;2-weeks&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-mode\" value=\"2-weeks\" data-bind=\"checked: repMode\"/><span class=\"fwb\">Memory Reinforcement: 2 weeks</span>\n<br><span class=\"fcg fp80\">include previous 2 weeks of material</span></label></div><div data-bind=\"css:{active:repMode()==&quot;1-month&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-mode\" value=\"1-month\" data-bind=\"checked: repMode\"/><span class=\"fwb\">Memory Reinforcement: 1 month</span>\n<br><span class=\"fcg fp80\">include previous 1 month of material</span></label></div><div data-bind=\"css:{active:repMode()==&quot;unlimited&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-mode\" value=\"unlimited\" data-bind=\"checked: repMode\"/><span class=\"fwb\">Memory Reinforcement: Long-term</span>\n<br><span class=\"fcg fp80\">include all previous material</span></label></div></div><div class=\"col-sm-4\"><div class=\"center fwb\">Select source</div><div><div data-bind=\"css:{active:sourceOsmosis}\" class=\"checkbox\"><label><input type=\"checkbox\" value=\"osmosis\" data-bind=\"checked: sourceOsmosis\"/><span class=\"fwb\">From Osmosis</span>\n<br><span class=\"fcg fp80\">items written by Osmosis</span></label></div><div data-bind=\"css:{active:sourceSchool}\" class=\"checkbox\"><label><input type=\"checkbox\" value=\"school\" data-bind=\"checked: sourceSchool\"/><span class=\"fwb\">From your school group</span>\n<br><span class=\"fcg fp80\">items created by you and/or classmates</span></label></div></div></div><div class=\"col-sm-3\"><div class=\"center fwb\">Select coverage</div><div><div data-bind=\"css:{active:coverage()==&quot;any&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-flag-state\" value=\"any\" data-bind=\"checked: coverage\"/><span class=\"fwb\">Any previously answered</span>\n<br><span class=\"fcg fp80\">any card that you have answered and not specifically unflagged</span></label></div><div data-bind=\"css:{active:coverage()==&quot;flagged&quot;}\" class=\"radio\"><label><input type=\"radio\" name=\"repetition-flag-state\" value=\"flagged\" data-bind=\"checked: coverage\"/><span class=\"fwb\">Flagged only</span>\n<br><span class=\"fcg fp80\">only cards that you flagged</span></label></div></div></div></div></div><div class=\"build-quiz-container\"><table style=\"width: 100%; table-layout: fixed\" class=\"mtl\"><tr><td><div class=\"center\"><div data-bind=\"text: completedToday()+&quot;%&quot;\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">of queue <br>completed today</div></div></td><td><div class=\"center\"><div data-bind=\"text: stats().available - completedTodayCount()\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">remaining</div></div></td><td class=\"build-quiz build-quiz-orange\"></td><td><div class=\"center\"><div data-bind=\"text: stats().available\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">total</div></div></td><td><div class=\"center\"><div data-bind=\"text: stats().accuracy+&quot;%&quot;\" class=\"quiz-stat\"></div><div class=\"fp80 fcg\">correct</div></div></td></tr><tr><td data-bind=\"click:buildQuiz\" colspan=\"4\" class=\"mobile-build-quiz\">     <div class=\"rounded-btn rounded-btn-border rounded-btn-white\"><span>Build Quiz      </span></div></td></tr></table></div></div>"}),deftmp("ui.StatusBar",{template:"<div class=\"ui-StatusBar\"><div class=\"statusBar-container\"><div class=\"current-banner statusBar-section\"><i class=\"current-marker fa\"></i><div class=\"banner-info\"><span class=\"category\"> </span><span class=\"filter\"> </span></div><i class=\"pointer fa fa-caret-right\"></i></div><div class=\"statusBar-content statusBar-section\"></div></div></div>"}),deftmp("ui.Step1OnboardingForm",{template:"<div class=\"ui-Step1OnboardingForm\"><h5>How would you like to start?</h5><div class=\"demo section-wrapper\"><div class=\"section\"><div class=\"icon\"><i class=\"fa fa-car\"></i></div><div data-bind=\"click: trySchedule\" class=\"btn rounded-btn-primary rounded-btn btn-lg\"> <span>Test Drive Step 1 mode</span></div><div class=\"help-text\">Clicking won't activate Step 1 mode, it gives you an interactive preview </div></div></div><div class=\"start section-wrapper\"><div class=\"section\"><div class=\"icon\"><i class=\"fa fa-rocket\"></i></div><div data-bind=\"click: startSchedule\" class=\"btn rounded-btn-primary rounded-btn btn-lg\"> <span>Activate Step 1 Mode</span></div><div class=\"help-text\">This will activate Step 1 mode. Recommended only during dedicated Step 1 prep. </div></div></div></div>"}),deftmp("ui.Step1PlanPassOptions",{template:"<div class=\"ui-Step1PlanPassOptions\"><div data-bind=\"foreach: descr\"><div data-bind=\"html: title\" class=\"fwb\"></div><div class=\"fcg fp80\"><ul data-bind=\"foreach: bullets\" class=\"plan-details\"><li data-bind=\"html: $data\"></li></ul></div></div></div>"}),deftmp("ui.Step1SubjectOrder",{template:"<div class=\"ui-Step1SubjectOrder\"><div data-bind=\"visible: mode()==&quot;add-second&quot;\"><div class=\"tip\"><span>You currently have <b>one pass</b> through First Aid scheduled. If you want to do a <b>second pass</b>, you can leave unscheduled days at the end of your schedule <b>or</b> you can add a full second pass by clicking <a href=\"\" data-bind='click: addSecondPass'>here</a>.</span></div></div><div data-bind=\"visible: mode()==&quot;add-early&quot;\"><div class=\"tip\"><span>Because you are still in class and don't have much time between now and when dedicated begins, we haven't scheduled anything in this time period. You can use this time to start getting ahead on your dedicated schedule. <b>Alternatively</b>, you can schedule a few subjects to get an early start by clicking <a href=\"\" data-bind='click: addEarly'>here</a>.</span></div></div><div data-bind=\"visible: mode()==&quot;second-pass-length&quot;\" class=\"mlm\"><div>Over how many days do you want to complete your second pass?</div><form style=\"width:300px\" class=\"form-horizontal mlxl\"><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" required=\"required\" data-bind=\"value: secondPassLength\" style=\"min-width:50px\" class=\"form-control\"/></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div data-bind=\"click: previewSecondPass\" class=\"btn btn-primary\">Preview 2nd Pass</div></div></form></div><div data-bind=\"visible: mode()==&quot;early-subjects&quot;\" class=\"mlm\"><div>What subjects would you like to cover before dedicated begins?</div><form style=\"width:300px\" class=\"form-horizontal mlxl\"><div style=\"margin-bottom:10px\" class=\"form-group\"><select data-bind=\"value: newEarlySubject, options:possibleSubjects\" class=\"form-control\"></select></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div data-bind=\"click: addSubject\" class=\"btn btn-primary\">Add Subject</div></div></form></div><div data-bind=\"visible: subjects().length\" class=\"tip\"><span>Drag and drop to change the subject order. Use the +/- icons to change the number of days per subject.</span></div><div data-bind=\"foreach: subjects\" class=\"subjects\"><div class=\"subject-row\"><div class=\"move-handle\"><i class=\"fas fa-arrows-alt\"></i></div><div class=\"subject-block\"><div class=\"start-date\"><div data-bind=\"click: $root.changeDays($data,-1)\" class=\"change-days\"><div class=\"fa fa-minus\"></div></div><div data-bind=\"visible: length() &gt; 0\" class=\"day-amount\"><div data-bind=\"text: length() == 1 ? 1 : length()\" class=\"day\"></div><div data-bind=\"text: length() == 1 ? &quot;day&quot; : &quot;days&quot;\" class=\"date\"></div></div><div data-bind=\"visible: length() == 0\" style=\"font-size: 60%\" class=\"day-amount\"><div class=\"day\">merge with</div><div class=\"date\">previous</div></div><div data-bind=\"click: $root.changeDays($data,1)\" class=\"change-days\"><div class=\"fa fa-plus\"></div></div></div><div class=\"icon\"><img data-bind=\"visible: icon, attr: {src: icon}\"/></div><div data-bind=\"text: topic\" class=\"topic\"></div><span data-bind=\"click: $root.removeSubject($data)\" class=\"rfloat close mrs\">&times;</span><div class=\"clearfix\"></div></div></div></div></div>"}),deftmp("ui.StepByStep",{template:"<div class=\"ui-StepByStep\"><div class=\"container\"><div style=\"border-bottom: 0; min-width: 500px;\" data-bind=\"foreach: steps\" class=\"row smpl-step smpl-step-top\"><div data-bind=\"css: css\" class=\"smpl-step-step\"><div data-bind=\"html: title, css: {fwb: $root.selected() == title, alpha50: dimmed}\" class=\"text-center smpl-step-num\"></div></div></div><div style=\"border-bottom: 0; min-width: 500px;\" data-bind=\"foreach: steps\" class=\"row smpl-step\"><div data-bind=\"css: css\" class=\"smpl-step-step\"><div data-bind=\"css: {&quot;highlight-progress&quot;: $root.highlight}\" class=\"progress\"></div><a data-bind=\"click: $root.select($data), css: {alpha50: dimmed}, attr: {title: hint}\" data-placement=\"bottom\" class=\"smpl-step-icon\"><i style=\"font-size: 50px; color: black;\" data-bind=\"css: icon, style:{&quot;padding-left&quot;: offset.x+&quot;px&quot;, &quot;padding-top&quot;: offset.y+&quot;px&quot; }\" class=\"fa\"></i></a><div data-bind=\"html: descr, css: {alpha50: dimmed}\" class=\"smpl-step-info text-center\"></div></div></div></div></div>"}),deftmp("ui.StreamingVideo",{template:"<div class=\"divVideoBtn hidden\"><div style=\"position: relative; width: 200px; height: 55px;\" class=\"RoundCorners hand-cursor\"><div class=\"vjs-default-skin\"><div style=\"width: 50px; height: 50px;\" tabindex=\"0\" class=\"large-video-btn\"><span></span></div></div><div style=\"position: absolute; left: 65px; top: 35%; font-size: 120%;\" class=\"fwb\">Watch Lecture</div></div></div><div class=\"divVideo hidden\"></div>"}),deftmp("ui.StudyPlan",{template:"<div data-bind=\"visible: hasScheduledQues\" class=\"ui-StudyPlan\"><div class=\"panel\"><div class=\"panel-body\"><h2 class=\"center\">Customized Study Plan</h2><div data-bind=\"visible: hasMultipleTargets, click: changeStudyTarget\">Click here to change study target from <span data-bind='text: studyTarget'/></div><div class=\"phl\"><div class=\"center\"><div>Here is today's plan. You can close the browser tab at any time and come back later today.</div><div>Your question-by-question progress is always saved.</div></div><ol data-bind=\"visible: planItems().length &gt; 1, foreach: planItems\" style=\"max-width: 600px; margin-left: auto; margin-right: auto\" class=\"mtl\"><li data-bind=\"style: {opacity: active() ? &quot;1&quot; : &quot;0.5&quot;}\" class=\"mtm\"><span data-bind='text: prefix'/><span data-bind='text: type'/><span data-bind='visible: prefix'>.</span> <span data-bind='visible: active, click: skip'>(<a href='' data-bind='click: skip'>Skip</a>)</span><span data-bind='visible: !active()'>(<a href='' data-bind='click: unskip'>Unskip</a>)</span></li></ol><div data-bind=\"visible: planItems().length == 1, foreach: planItems\" style=\"max-width: 600px; margin-left: auto; margin-right: auto\" class=\"center mtl\"><div data-bind=\"style: {opacity: active() ? &quot;1&quot; : &quot;0.5&quot;}\" class=\"mtm\"><span data-bind='text: prefix'/><span data-bind='text: type'/><span data-bind='visible: prefix'>.</span> <span data-bind='visible: active, click: skip'>(<a href='' data-bind='click: skip'>Skip</a>)</span><span data-bind='visible: !active()'>(<a href='' data-bind='click: unskip'>Unskip</a>)</span></div></div><div class=\"center\"><button data-bind=\"click:startStudying\" class=\"btn btn-primary btn-lg mtl\">Start Studying Now</button><button data-bind=\"click:refresh\" class=\"btn btn-default btn-lg mtl mlm\">Refresh Schedule</button></div></div></div></div></div>"}),deftmp("ui.StudyPlanConfig",{template:"<div class=\"ui-StudyPlanConfig\"><div><h3>Which of the following will you take next?</h3><div>USMLE Step 1</div><div>USMLE Step 2</div><div>NBME Shelf Exam</div></div><div><h3>How long until you take</h3></div></div>"}),deftmp("ui.StudyPlanRepeatDays",{template:"<div class=\"ui-StudyPlanRepeatDays\"><div class=\"decision-message\">Add any ranges of dates that you want to take off</div><form data-bind=\"foreach: excludeDays\"><div class=\"repeat-checkboxes\"><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Sun\" data-bind=\"checked: days, attr: {id: `sunday${$index()}`}\"/><label data-bind=\"attr: {for: `sunday${$index()}`}\">S</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Mon\" data-bind=\"checked: days, attr: {id: `monday${$index()}`}\"/><label data-bind=\"attr: {for: `monday${$index()}`}\">M</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Tue\" data-bind=\"checked: days, attr: {id: `tuesday${$index()}`}\"/><label data-bind=\"attr: {for: `tuesday${$index()}`}\">T</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Wed\" data-bind=\"checked: days, attr: {id: `wednesday${$index()}`}\"/><label data-bind=\"attr: {for: `wednesday${$index()}`}\">W</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Thu\" data-bind=\"checked: days, attr: {id: `thursday${$index()}`}\"/><label data-bind=\"attr: {for: `thursday${$index()}`}\">T</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Fri\" data-bind=\"checked: days, attr: {id: `friday${$index()}`}\"/><label data-bind=\"attr: {for: `friday${$index()}`}\">F</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" value=\"Sat\" data-bind=\"checked: days, attr: {id: `saturday${$index()}`}\"/><label data-bind=\"attr: {for: `saturday${$index()}`}\">S</label></div></div><div class=\"radio-input\"><div class=\"decision-message\">How long would you like to take these days off?</div><label class=\"option\">Every week<input type=\"radio\" name=\"radio-frequency\" value=\"true\" data-bind=\"checked: every\"/><span class=\"checkmark\"></span></label><label class=\"option\">Date range<input type=\"radio\" name=\"radio-frequency\" value=\"false\" data-bind=\"checked: every\"/><span class=\"checkmark\"></span></label></div><div data-bind=\"visible: every() === &quot;false&quot;\" class=\"repeat-date-range\"><div class=\"text-input\"><input type=\"text\" data-bind=\"value: start\" placeholder=\"Start (YYYY-MM-DD)\" data-dp-minDate=\"+0D\" class=\"datepicker\"/></div><div class=\"text-input\"><input type=\"text\" data-bind=\"value: stop\" placeholder=\"Stop (YYYY-MM-DD)\" data-dp-minDate=\"+0D\" class=\"datepicker\"/></div></div><div data-bind=\"visible: ($root.diff(stop, start) !== 0 || every() === &quot;true&quot;) &amp;&amp; days().length\" class=\"repeat-output-msg\">&nbsp;Take every&nbsp;<span data-bind=\"text: $root.dayOfTheWeek(days)\"></span>&nbsp;off<span data-bind=\"visible: every() === &quot;false&quot;\">&nbsp;for&nbsp;<span data-bind=\"visible: $root.diff(stop,start) &gt; 0, text: $root.diff(stop,start)+&quot; days&quot;\"></span><span data-bind=\"visible: $root.diff(stop,start) &lt; 0, text: $root.diff(stop,start)+&quot; days&quot;\" class=\"fcr\"></span></span></div></form><a href=\"\" data-bind=\"click: addMore\" class=\"fp80\">Add more</a></div>"}),deftmp("ui.StudyPlanVacations",{template:"<div class=\"ui-StudyPlanVacations\"><div class=\"decision-message\">Add any ranges of dates that you want to take off</div><form style=\"max-width: 500px\" data-bind=\"foreach: vacations\" class=\"form-inline\"><div class=\"vacation-item form-group form-type-date\"><div class=\"vacation-item-time\"><span data-bind=\"visible: $root.diff(stop,start) &gt; 0, text: $root.diff(stop,start)+&quot; days&quot;\"></span><span data-bind=\"visible: $root.diff(stop,start) &lt; 0, text: $root.diff(stop,start)+&quot; days&quot;\" class=\"fcr\"></span></div><div class=\"date-section\"><div class=\"text-input\"><input type=\"text\" data-bind=\"value: start\" class=\"datepicker\"/></div><div class=\"text-input\"><input type=\"text\" data-bind=\"value: stop\" class=\"datepicker\"/></div></div></div></form><a href=\"\" data-bind=\"click: addMore\" class=\"add-more\">Add more</a></div>"}),deftmp("ui.StudyPreferencesSidetab",{template:"<div class=\"ui-StudyPreferencesSidetab\"><div class=\"ui-DashboardStudyPreferences\"></div></div>"}),deftmp("ui.StudyScheduleClassicSummary",{template:"<div class=\"ui-StudyScheduleClassicSummary\"><div data-bind=\"visible: startDate\" class=\"schedule-field\"><div class=\"the-label\">Start Studying</div><div data-bind=\"text: startDateStr\" class=\"the-info\"></div></div><div data-bind=\"visible: dDate\" class=\"schedule-field\"><div class=\"the-label\">Dedicated Begins</div><div data-bind=\"text: dDateStr\" class=\"the-info\"></div></div><div data-bind=\"visible: examDate\" class=\"schedule-field\"><div class=\"the-label\">Step 1 Exam</div><div data-bind=\"text: examDateStr\" class=\"the-info\"></div></div><div data-bind=\"visible: totalLen() &amp;&amp; (!dDate() || startDate() == dDate())\" class=\"schedule-field\"><div class=\"the-label\">Study Period</div><div data-bind=\"text: formatWeeks(totalLen())+&quot; weeks&quot;\" class=\"the-info\"></div></div><div data-bind=\"visible: totalLen() &amp;&amp; (dDate() &amp;&amp; startDate() != dDate())\" class=\"schedule-field\"><div class=\"the-label\">Pre-dedicated Period</div><div data-bind=\"visible: !eExcluded(), text: formatWeeks(totalLen()-dTotalLen())+&quot; weeks&quot;\" class=\"the-info\"></div><div data-bind=\"visible: eExcluded()\"><div data-bind=\"text: (eTotalLen()-eExcluded())+&quot; days&quot;\" class=\"the-info\"></div><div class=\"more-info\">(<span data-bind='text: eTotalLen()'/> - <span data-bind='text: eExcluded()'/> excluded)</div></div></div><div data-bind=\"visible: dTotalLen\" class=\"schedule-field\"><div data-bind=\"visible: dTotalLen() &gt; 0\" class=\"the-label\">Dedicated Period</div><div data-bind=\"visible: !dExcluded() &amp;&amp; dTotalLen() &gt; 0, text: formatWeeks(dTotalLen())+&quot; weeks&quot;, css: {fcr: dTotalLen()&lt;14}\" class=\"the-info\"></div><div data-bind=\"visible: dExcluded()\"><div data-bind=\"text: (dTotalLen()-dExcluded())+&quot; days&quot;, css: {fcr: dTotalLen()-dExcluded()&lt;14}\" class=\"the-info\"></div><div class=\"more-info\">(<span data-bind='text: dTotalLen()'/> - <span data-bind='text: dExcluded()'/> excluded)</div></div></div><div data-bind=\"visible: faVersion\" class=\"schedule-field\"><div class=\"the-label\">First Aid</div><div data-bind=\"text: faVersion\" class=\"the-info\"></div></div><div data-bind=\"visible: uwRate\" class=\"schedule-field\"><div class=\"the-label\">UWorld</div><div class=\"the-info\"><span data-bind='text: uwRate'/> ques/day</div></div></div>"}),deftmp("ui.StudyScheduleDateList",{template:"<div class=\"ui-StudyScheduleDateList\"><div data-bind=\"visible: showNewScheduleBanner()\" class=\"new-study-banner\">Now available: a more powerful Osmosis Study Schedule with a fresh new look.&nbsp;<a href=\"#\">Learn More</a>.<div class=\"new-study-banner-actions\"><div data-bind=\"click: dismissNewScheduleBanner\" class=\"later-button\">Later</div><div data-bind=\"click: getNewSchedule\" class=\"get-it-button\">Get it now</div></div></div><div data-bind=\"foreach: days\" class=\"days\"><div data-bind=\"click: $root.clickDay($data), css: {active: $root.selectedDate() == date}, attr:{&quot;date-day-timestamp&quot;:timestamp}\" class=\"day-block clickable\"><div class=\"length\"><span data-bind=\"text: text\"></span></div></div></div></div>"}),deftmp("ui.StudyScheduleMap",{template:"<div class=\"ui-StudyScheduleMap\"><div class=\"schedule-field\"><div data-bind=\"text: heading\" class=\"the-label\">Start Studying</div><div data-bind=\"text: message\" class=\"the-info\"></div></div><div class=\"calendar-map\"></div></div>"}),deftmp("ui.StudyScheduleSummary",{template:"<div class=\"ui-StudyScheduleSummary\"><div data-bind=\"visible: startDate\" class=\"schedule-field\"><div class=\"the-label\">Start Studying</div><div data-bind=\"text: startDateStr\" class=\"the-info\"></div></div><div data-bind=\"visible: dDate\" class=\"schedule-field\"><div class=\"the-label\">Dedicated Begins</div><div data-bind=\"text: dDateStr\" class=\"the-info\"></div></div><div data-bind=\"visible: examDate\" class=\"schedule-field\"><div class=\"the-label\">Step 1 Exam</div><div data-bind=\"text: examDateStr\" class=\"the-info\"></div></div><div data-bind=\"visible: totalLen() &amp;&amp; (!dDate() || startDate() == dDate())\" class=\"schedule-field\"><div class=\"the-label\">Study Period</div><div data-bind=\"text: formatWeeks(totalLen())+&quot; weeks&quot;\" class=\"the-info\"></div></div><div data-bind=\"visible: totalLen() &amp;&amp; (dDate() &amp;&amp; startDate() != dDate())\" class=\"schedule-field\"><div class=\"the-label\">Pre-dedicated Period</div><div data-bind=\"visible: !eExcluded(), text: formatWeeks(totalLen()-dTotalLen())+&quot; weeks&quot;\" class=\"the-info\"></div><div data-bind=\"visible: eExcluded()\"><div data-bind=\"text: (eTotalLen()-eExcluded())+&quot; days&quot;\" class=\"the-info\"></div><div class=\"more-info\">(<span data-bind='text: eTotalLen()'/> - <span data-bind='text: eExcluded()'/> excluded)</div></div></div><div data-bind=\"visible: faVersion\" class=\"schedule-field\"><div class=\"the-label\">First Aid</div><div data-bind=\"text: faVersion\" class=\"the-info\"></div></div><div data-bind=\"visible: uwRate\" class=\"schedule-field\"><div class=\"the-label\">UWorld</div><div class=\"the-info\"><span data-bind='text: uwRate'/> ques/day</div></div></div>"}),deftmp("ui.StudyStep",{template:"<div data-bind=\"visible: dashboard.mode()==&quot;view&quot; || alwaysVisible(), style: { opacity: completed() &amp;&amp; dashboard.mode()==&quot;view&quot; ? 0.3 : 1 }\" class=\"ui-StudyStep\"><h4 data-bind=\"visible: title() &amp;&amp;dashboard.mode()==&quot;view&quot; , text: title\"></h4><div data-bind=\"css:{mhm: title()!=&quot;&quot;}\"><div class=\"studyBlock\"></div></div></div>"}),deftmp("ui.StudyTimeline",{template:"<div class=\"ui-StudyTimeline\"><div data-bind=\"visible: prevTopicTitle\"><div data-bind=\"click: prevBlock\" class=\"btn-timeline-nav noselect prev\"><div class=\"label-heading\">Previously</div><div data-bind=\"text: prevTopicTitle\" class=\"subject-heading\"></div></div><div class=\"btn-timeline-nav-div\"></div><div data-bind=\"visible: nextTopicTitle, click: nextBlock\" class=\"btn-timeline-nav noselect next\"><div class=\"label-heading\">Up Next</div><div data-bind=\"text: nextTopicTitle\" class=\"subject-heading\"></div></div></div><div class=\"subject-title\"><div data-bind=\"foreach: icons\" class=\"icons\"><div class=\"icon\"><img data-bind=\"visible: $data, attr: {src: $data}\"/></div></div><div data-bind=\"text: topicTitle\" class=\"topic\"></div></div><div class=\"ui-StudyScheduleDateList\"></div><div data-bind=\"visible: !prevTopicTitle(), click: nextBlock\" class=\"btn-timeline-next-solo\"><span class=\"label-heading\">Up Next:&nbsp;</span><span data-bind=\"text: nextTopicTitle\" class=\"subject-heading\"></span></div></div>"}),deftmp("ui.SubdeckRow",{template:"<div data-bind=\"style: {&quot;margin-left&quot;: indent()+&quot;px&quot;}\" class=\"ui-SubdeckRow ui-DeckRow\"><div class=\"deck-body quiz-item-row\"><div class=\"deck-section\"><div data-bind=\"css:deckTheme() || &quot;default&quot;\" class=\"quiz-object\"><i class=\"fi fi-flashcard-bolt\"></i><div data-bind=\"html:totalCards\" class=\"count\"></div></div><div class=\"quiz-info deck-info\"><div class=\"name\"><span data-bind=\"text: name\"></span></div><div class=\"progress-count\"><div data-bind=\"visible:completed() &gt; 0\" class=\"has-started\"><span data-bind=\"html:completed\"></span><span>&nbsp;of&nbsp;</span><span data-bind=\"html:totalCards\"></span><span>&nbsp;completed</span></div><div data-bind=\"visible:completed() == 0\" class=\"not-started\"><span data-bind=\"html:totalCards\"></span><span>&nbsp;</span><span>Flashcards</span></div><div data-bind=\"visible:dueCards() &gt; 0\" class=\"cards-due\"><span class=\"sep\">&#8226;</span><a href=\"\" data-bind=\"click: startQuiz(&quot;due&quot;)\" class=\"due-tooltip\"><span data-bind=\"html:dueCards\"></span><span>&nbsp;due</span></a></div></div><div class=\"progress-bar\"><div data-bind=\"style:{width: percentCorrect()+&quot;%&quot;}\" class=\"correct\"></div><div data-bind=\"style:{width: percentIncorrect()+&quot;%&quot;}\" class=\"incorrect\"></div></div></div></div><div class=\"deck-actions\"><div data-bind=\"click:startQuiz(&quot;total&quot;)\" class=\"deck-action start\"><span>Start</span></div></div></div></div>"}),deftmp("ui.SubjectsNav",{template:"<div data-bind=\"css: {expanded: controlbarExpanded}\" class=\"ui-SubjectsNav\"><h3 class=\"header\"><a href=\"/home/videos\">Topic</a></h3><ul data-bind=\"foreach: subjects\"><li data-bind=\"attr: {href: link}, click: $root.switchTopic(name), css: { current: isCurrent }\"><span data-bind=\" text: name\"></span><i data-bind=\"visible: isCurrent\" class=\"fas fa-chevron-right\"></i></li></ul></div>"}),deftmp("ui.SubmitReviewForm",{template:"<div class=\"ui-SubmitReviewForm\"><div data-bind=\"visible: !reviewSubmitted()\" class=\"submit-a-review-form\"><div data-bind=\"css: { completed: completedSections.profile }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3>General information</h3></div><div class=\"req-or-op\">Required</div><div class=\"submit-a-review-name\"><div data-bind=\"css: { error: inputsUsed.preferredName() &amp;&amp; !validInputs.preferredName() }\" class=\"text-input\"><label for=\"submit-a-review-input-first-name\">First Name</label><input id=\"submit-a-review-input-first-name\" type=\"text\" data-bind=\"value: profile.preferredName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"css: { error: inputsUsed.lastName() &amp;&amp; !validInputs.lastName() }\" class=\"text-input\"><label for=\"submit-a-review-input-last-name\">Last Name</label><input id=\"submit-a-review-input-last-name\" type=\"text\" data-bind=\"value: profile.lastName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div></div><div data-bind=\"css: { error: inputsUsed.degree() &amp;&amp; !validInputs.degree() }\" class=\"text-input\"><label for=\"submit-a-review-input-field\">Field or degree</label><input id=\"submit-a-review-input-field\" type=\"text\" data-bind=\"value: profile.degree, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/><div data-bind=\"foreach: professions\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectDegree(name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div class=\"submit-a-review-schooling\"><div data-bind=\"css: { error: inputsUsed.school() &amp;&amp; !validInputs.school() }\" class=\"text-input\"><label for=\"submit-a-review-input-school\">School</label><input id=\"submit-a-review-input-school\" type=\"text\" data-bind=\"value: profile.school.formalName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"css: { error: !validInputs.classYear() &amp;&amp; validInputs.degree(), inactive: classYears().length === 0 }\" class=\"school-year-dropdown\"></div></div></div><div data-bind=\"css: { completed: completedSections.testimonials }\" class=\"submit-a-review-form-section completed\"><div class=\"submit-a-review-form-header testimonials\"><h3>Testimonials</h3><div class=\"submit-a-review-form-time\">+2 weeks Prime</div></div><div data-bind=\"css: { error: inputsUsed.whyLove() &amp;&amp; !validInputs.whyLove() }\" class=\"text-input text-area-input\"><label>Why do you love Osmosis? The more detail the better!</label><div class=\"req-or-op\">Required</div><textarea placeholder=\"Your testimonial...\" data-bind=\"value: whyLove, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"></textarea></div><div class=\"text-input text-area-input\"><label>If you switched to Osmosis from another tool, please describe why you made the switch.</label><div class=\"req-or-op\">Optional</div><textarea placeholder=\"Your response...\" data-bind=\"value: switchedReason, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"></textarea></div></div><div data-bind=\"css: { completed: completedSections.headshot }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3>Headshot</h3><div class=\"submit-a-review-form-time\">+ 2 weeks Prime</div></div><div class=\"req-or-op\">Optional</div><div class=\"submit-a-review-form-description\">Please upload a headshot, ideally in your clinical wear if you have any. Image must be at least 300px by 300px.</div><div class=\"submit-a-review-headshot-input\"><div data-bind=\"if: headshot()\" class=\"submit-a-review-headshot-wrapper\"><img data-bind=\"attr: { src: headshot() }\" class=\"submit-a-review-headshot-img\"/></div><button data-bind=\"ajax: uploadHeadshotTrigger, attr: { disabled: headshotLoading() }\" class=\"button teal\">Choose image</button></div></div><div data-bind=\"css: { completed: completedSections.video }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3>Video testimonial</h3><div class=\"submit-a-review-form-time\">+ 4 weeks Prime</div></div><div class=\"req-or-op\">Optional</div><div class=\"submit-a-review-form-description video-testimonial\">Please upload a 2-minute-or-less video review of Osmosis to <b>Google Drive</b> or <b>Dropbox</b>, and paste the link to the video below. Make sure to review the&nbsp;<a href=\"https://help.osmosis.org/testimonials-from-health-professionals/share-a-video-review-of-osmosis\" target=\"_blank\">video submission guidelines.</a></div><div data-bind=\"css: { error: !validInputs.videoLink() &amp;&amp; typeof(videoLink()) !== &quot;undefined&quot; &amp;&amp; videoLink() !== &quot;&quot; }\" class=\"text-input\"><label for=\"video-link-input\">Paste a link from Google Drive or Dropbox</label><input id=\"video-link-input\" type=\"text\" placeholder=\"Paste link\" data-bind=\"value: videoLink, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"slideVisible: !validInputs.videoLink() &amp;&amp; typeof(videoLink()) !== &quot;undefined&quot; &amp;&amp; videoLink() !== &quot;&quot;\" class=\"submit-a-review-error-message\"><div class=\"negative message\">A valid URL is required.</div></div></div><div class=\"submit-a-review-form-footer\"><div class=\"checkbox-input\"><input id=\"review-permission-input\" type=\"checkbox\" data-bind=\"checked: permissionGranted\"/><label for=\"review-permission-input\">I grant permission to Osmosis to share this review for marketing purposes.</label></div><div class=\"checkbox-input\"><input id=\"review-contact-permission-input\" type=\"checkbox\" data-bind=\"checked: studentContactPermission\"/><label for=\"review-contact-permission-input\">I grant permission for other students at my school to contact me through Osmosis.</label></div><button data-bind=\"ajax: submitReview, attr: { disabled: !validForm() }\" class=\"button teal\">Submit my review</button></div></div><div data-bind=\"visible: reviewSubmitted()\" class=\"submit-a-review-completed-message\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/rFgct-s8S9ejzmP8Y9K1jPSfQuWhC-Pn.png\" class=\"big-completed-cell\"><div class=\"submit-a-review-complete-message-content\"><h2>Thanks for submitting a review of Osmosis.</h2><p>Reviews like yours will help others get started learning by Osmosis.</p><p>We'll review your testimonial and you'll earn up to 8 additional weeks of Osmosis Prime after it's been approved, great job!</p><div class=\"dashboard-button-wrapper\"><a href=\"/\" class=\"button blue\">My dashboard</a></div></div></div></div>"}),deftmp("ui.SummaryPopup",{template:"<div class=\"ui-SummaryPopup\"><div class=\"tooltip-content\"><div class=\"tooltip-header\"><div class=\"open\"><button class=\"teal inverted thin button left-icon\"><i class=\"far fa-external-link-alt\"></i><span>Open</span></button></div><div class=\"close\"><i class=\"far fa-times\"></i></div></div><div class=\"divider\"></div><div class=\"tooltip-title-features\"><h4 data-bind=\"text: title\" class=\"tooltip-title\"></h4><div data-bind=\"foreach: features\" class=\"features\"><img data-bind=\"attr: {src: icon, title: name}\"/></div></div><div data-bind=\"html: content\" class=\"tooltip-inner\"></div></div></div>"}),deftmp("ui.TabOnboarding",{template:"<div class=\"ui-TabOnboarding\"><div data-bind=\"visible:parent.onboardMode()==&quot;banner&quot;\" class=\"banner-mode\"><div data-bind=\"click:closeBanner\" class=\"close-action\"><i>x</i></div><div class=\"main-icon\"><i data-bind=\"css:icon\" class=\"fa\"></i></div><div class=\"main-text\"><div class=\"main-tagline\"><span data-bind=\"html:shortTagline\"></span></div><div class=\"main-explain\"><p>Many Osmosis users have found this tutorial video helpful.</p></div></div><div class=\"main-action\"><a data-bind=\"click:watch(&quot;banner&quot;)\" class=\"btn btn-primary btn-outline\"><i class=\"fa fa-play\"></i><span><span data-bind='text: hasWatchedVideo() ? \"Rewatch\" : \"Watch\"'/>  Video</span><span data-bind=\"html:tutorialCta\" class=\"mobile-label\"></span></a></div></div><div data-bind=\"visible:parent.onboardMode()==&quot;full&quot;\" class=\"full-mode\"><div class=\"main-content\"><div class=\"main-header\"><div data-bind=\"css:source\" class=\"main-icon\"><i data-bind=\"css:icon, visible:!hasImage()\" class=\"fa\"></i><img src=\"\" data-bind=\"attr:{src:image}, visible:hasImage\"></div><div class=\"main-tagline\"><span data-bind=\"html:tagline\"></span></div></div><div class=\"main-actions\"><div data-bind=\"visible: startVisible\" class=\"start cta-item\"><a data-bind=\"click:start\" class=\"btn btn-default btn-outline\"><i class=\"fa fa-graduation-cap\"></i><span data-bind=\"html:startCta\"></span></a></div><div class=\"watch cta-item\"><a data-bind=\"click:watch(&quot;full&quot;)\" class=\"btn btn-default btn-outline\"><i class=\"fa fa-play\"></i><span data-bind=\"html:tutorialCta\"></span></a></div></div></div><div class=\"custom-onboarding-form\"></div></div></div>"}),deftmp("ui.Testimonial",{template:"<div data-bind=\"css:{&quot;right-align&quot;:theme == &quot;right&quot;}\" class=\"ui-Testimonial\"><div class=\"wrapper\"><div data-bind=\"visible: img\" class=\"headshot\"><img data-bind=\"attr: { src: &quot;https://osmose-it.s3.amazonaws.com/&quot;+img}\"/></div><div class=\"review\"><div class=\"quote\"><span class=\"quote-left quote-mark\">\"</span><span data-bind=\"text: quote\" class=\"the-quote\"></span><span class=\"quote-right quote-mark\">\"</span></div><div class=\"student\"><span data-bind=\"text: name\" class=\"name\"></span></div><div data-bind=\"visible:showSchool\" class=\"school\"><span data-bind=\"html:schoolName\"></span></div></div></div></div>"}),deftmp("ui.TestimonialBand",{template:"<div class=\"ui-TestimonialBand\"><div class=\"band-list\"></div><div data-bind=\"visible:showCta\" class=\"cta center\"><div class=\"explain center\">Ready to try Osmosis for yourself?</div><a href=\"/login?type=create\" class=\"button inverted primary\">Create your free account now</a></div></div>"}),deftmp("ui.TileGrid",{template:"<div style=\"position: relative\" class=\"ui-TileGrid\"><div data-bind=\"text: title\" class=\"grid-title\"></div><table class=\"tiles mll\"></table></div>"}),deftmp("ui.TileLayout",{template:"<div class=\"ui-TileLayout\"><div class=\"topic-tooltip hidden\"><div class=\"value\"><div class=\"click-msg tooltip-section\">Click to view</div><div class=\"tile-name tooltip-section\"></div><div class=\"tile-concepts tooltip-section\"></div><div class=\"tile-status tooltip-section\"><div class=\"status-complete\"><div class=\"tile-square tile\"></div><div class=\"info\"><div class=\"stats\"></div><div class=\"type\">Flashcards<br />Attempted </div></div></div><div class=\"status-correct\"><div class=\"tile-square tile\"></div><div class=\"info\"><div class=\"stats\"></div><div class=\"type\">Correctly<br />Answered</div></div></div></div><div class=\"tile-parent tooltip-section\"></div></div></div><div class=\"grid\"></div></div>"}),deftmp("ui.TimelineSearch",{template:"<div class=\"ui-TimelineSearch\"><div><h5 data-bind=\"visible: hasResults\" class=\"center\">A timeline of every time this term appeared in your curriculum...</h5><div class=\"center\"><img data-bind=\"visible: loading\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"display: block; margin-left: auto; margin-right: auto; width:50px\"></div><div class=\"timeline\"></div></div></div>"}),deftmp("ui.ToolsMenu",{template:"<div data-bind=\"visible: visible\" class=\"ui-ToolsMenu\"><div data-bind=\"visible: !collapsed()\"><div data-bind=\"html: title\" class=\"main-title thick-grey-bottom-border\"></div><div data-bind=\"foreach: visibleTools\" class=\"flex-container\"><!--.edit-tools-menu(data-bind='visible:$root.showEditMenu()')--><div data-bind=\"visible: active()==$root.filter, click: (data, event) =&gt; $root.goToURL($data, event), css:$root.getToolClasses($data)\" class=\"tool-item clickable\"><div data-bind=\"visible: hasBadge, text: hasBadge\" class=\"badge\"></div><i data-bind=\"click: (data,event) =&gt; $root.toggleEditMenu($data, event)\" class=\"fas fa-ellipsis-v edit-tools\"></i><div data-bind=\"visible:$data.primeOnly\" class=\"prime-only\">Prime</div><div class=\"tool-item-content\"><div class=\"icon\"><img data-bind=\"attr:{src:$data.img}\"><i data-bind=\"css: $data.icon\"></i></div><div data-bind=\"html: title\" class=\"title\"></div><div data-bind=\"html: $data.subtitle\" class=\"subtitle\"></div></div></div></div></div><div data-bind=\"visible: collapsed\" class=\"center\"><button data-bind=\"toggle: collapsed\" class=\"basic button left-icon\"><i class=\"fa fa-layer-group\"></i><span data-bind=\"html: title\"></span></button></div></div>"}),deftmp("ui.TopicAvatar",{template:"<div class=\"ui-TopicAvatar\"><img src=\"\" alt=\"avatar\" data-bind=\"attr:{src:topicIcon}\" class=\"avatarImg\"/></div>"}),deftmp("ui.TopicMapSearch",{template:"<div class=\"ui-TopicMapSearch\"><div class=\"search-box\"><span data-bind=\"click:inputFocus\" class=\"placeholder\">Search the Topic Map...</span><input type=\"text\" data-bind=\"event:{keyup:setPlaceholder, keypress:setInputWidth,focus:highlight}\"/><i class=\"fa fa-th\"></i></div></div>"}),deftmp("ui.TopicSelect",{template:"<div class=\"ui-TopicSelect\"><div class=\"row\"><div class=\"col-md-12\"><div data-bind=\"visible: !window.user.prime || window.user.prime.status == 0\" class=\"center mbl\"><h4>Get more questions</h4><div><button class=\"get-prime-action\"></button></div><div class=\"center mtm\">- or -</div></div><div data-bind=\"visible: selectedCount() &gt; 0\" class=\"center mbm\"><div data-bind=\"visible: selectedCount() &gt; 2000\" style=\"font-size:80%\">loading > 1000 questions at once is not recommended for performance reasons</div><div data-bind=\"visible: !loading()\" style=\"font-size:80%\"><span data-bind='text: selectedCount'></span> questions selected of <span data-bind='text: overallCount'></span></div><div data-bind=\"visible: loading()\" class=\"mts\"><div style=\"height:10px; margin-bottom: 2px; width:50%\" title=\"Preparing viewer...\" class=\"progress processingBar center\"><div data-bind=\"attr: {&quot;aria-valuenow&quot;:loadingProgress}, style: {width: loadingProgress()+&quot;%&quot;}, css: {active: loading, &quot;progress-bar-striped&quot;: loading}\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" class=\"progress-bar\"></div></div></div></div><div data-bind=\"foreach: topics\" style=\"margin-left: auto; margin-right: auto\" class=\"flex-center\"><div style=\"width:200px; user-select: none\" data-bind=\"visible: count() &gt; 0, click: $root.toggleTopic($data)\" class=\"panel mrm clickable\"><div class=\"panel-body\"><div style=\"text-align:left\" class=\"mtl\"><div class=\"lfloat mrm\"><img data-bind=\"attr:{src:topicIcon}\" style=\"width:50px\"/></div><div class=\"lfloat\"><div><b data-bind=\"text:topicName\"></b></div><div><span data-bind='text: count'/> <span data-bind='text: $root.type'/></div><button data-bind=\"click: $root.loadQuestions(), visible: false\" class=\"btn btn-success\">Load</button></div></div><div style=\"width:150px\" class=\"clearfix\"></div></div></div></div><div data-bind=\"visible: wantsToSelectPacks\"><div data-bind=\"foreach: packs\" class=\"flex-center\"><div style=\"width: 300px\" data-bind=\"css:{alpha40:!included()}\" class=\"panel mhs\"><div class=\"panel-heading\"><p data-bind=\"text: name\"></p></div><div class=\"panel-body\"><div data-bind=\"click: $root.togglePack($data), text: included()?&quot;Exclude&quot;:&quot;Include&quot;, css:{&quot;btn-success&quot;: !included(), &quot;btn-danger&quot;: included()}\" class=\"btn lfloat\"></div><div data-bind=\"click: $root.studyThis($data)\" class=\"btn btn-warning rfloat\">Study Only This</div></div></div></div></div></div></div></div>"}),deftmp("ui.TopicTable",{template:"<table style=\"border-spacing:0\" data-bind=\"css:theme, visible: visibleLinks() &gt; 0\" class=\"ui-TopicTable nowraplinks navbox-subgroup\"><tbody></tbody></table>"}),deftmp("ui.TopicTableLinks",{template:"<div class=\"ui-TopicTableLinks\"><ul data-bind=\"foreach: colA\" style=\"width: 100%\" class=\"col1-list col-list\"><li data-bind=\"visible: !filtered()\"><span data-bind=\"css: {&quot;checked-off-checkbox&quot;: checked}\"><div data-bind=\"click: $root.toggleTopicCheckbox($data)\" class=\"checkbox-section clickable\"><i class=\"square\"></i><i data-bind=\"visible: checked\" class=\"fa fa-check\"></i></div><span data-bind=\"css: {&quot;checked-off&quot;: checked}\" class=\"checkbox-label\"><a data-bind=\"css: {&quot;pulse-marker&quot;: marked}, attr: {href: href}, click: $root.conceptClick($data), text: concept\" class=\"concept-link\"></a><span data-bind=\"foreach: resources\"><span data-bind=\"visible: visible\"><span>&nbsp;</span><img data-bind=\"attr: {src: src, title: hint}\" style=\"\" class=\"resource-icon\"/></span></span></span></span></li></ul></div>"}),deftmp("ui.TopicTableRow",{template:"<tr data-bind=\"visible: visibleLinks() &gt; 0, css: { &quot;all-filtered&quot; : visibleLinks() &lt;= 0 }\" class=\"ui-TopicTableRow\"><th scope=\"row\" class=\"navbox-group\"><span data-bind=\"visible: !titleLink(), text: title\"></span><a href=\"\" data-bind=\"visible: titleLink, attr: {href: titleLink}, text: title\"></a><br/></th><td data-bind=\"css: {&quot;navbox-odd&quot;: isOdd, &quot;navbox-even&quot;: !isOdd}\" style=\"text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px\" class=\"navbox-list\"><div style=\"padding:0em 0.25em\"></div></td></tr>"}),deftmp("ui.TopicsDropdown",{template:"<div data-bind=\"fadeVisible: visible, fadeDirection: &quot;down&quot;, fadeDistance: &quot;10&quot;, css: { standalone: standalone }\" class=\"ui-TopicsDropdown\"><div data-bind=\"foreach:topicBreakdowns\" class=\"breakdowns\"><div class=\"breakdown\"><h4 data-bind=\"html:title\"></h4><div data-bind=\"foreach:topics\" class=\"topic-list\"><div data-bind=\"click:$root.navToTopic($data)\" class=\"topic-item\"><div class=\"icon\"><img src=\"\" data-bind=\"attr:{src:src}\"/></div><div data-bind=\"html:name\" class=\"topic-name\"></div></div></div></div></div><div data-bind=\"visible: !hideFeaturedSeries\" class=\"breakdowns featured-series\"><div class=\"breakdown\"><h4>Featured Series</h4><div data-bind=\"foreach:featuredSeries\" class=\"topic-list\"><div data-bind=\"click: $root.navToLink($data.link)\" class=\"topic-item\"><div class=\"icon\"><img data-bind=\"attr: { src: icon }\"/></div><div data-bind=\"html:name\" class=\"topic-name\">       </div></div></div></div></div></div>"}),deftmp("ui.TourLauncher",{template:"<div class=\"ui-TourLauncher\"><i data-bind=\"click:toggleList\" title=\"Tutorials\" class=\"fa fa-list-ol toggler tip\"></i><div class=\"ui-TourToDo\"></div></div>"}),deftmp("ui.TourPopup",{template:"<div data-bind=\"css:theme +&quot; &quot;+position, click:animate\" class=\"ui-TourPopup\"><div class=\"marker\"><i data-bind=\"css:{&quot;fa-caret-down&quot;:position==&quot;top&quot;, &quot;fa-caret-up&quot;:position==&quot;bottom&quot;, &quot;fa-caret-left&quot;:position==&quot;right&quot;, &quot;fa-caret-right&quot;:position==&quot;left&quot;}\" class=\"fa\"></i></div><div class=\"wrapper\"><div class=\"top-section\"><div data-bind=\"visible:step\" class=\"step-progress\"><div data-bind=\"html:step\" class=\"current-step\"></div><span>&nbsp;of&nbsp;</span><div data-bind=\"html:steps\" class=\"total-steps\"></div></div><div data-bind=\"click:closeTour\" class=\"closer\"><span>&times;</span></div></div><div data-bind=\"html:title\" class=\"title\"></div><div data-bind=\"html:text\" class=\"explainer\"></div><div data-bind=\"visible:ctaText\" class=\"cta\"><div data-bind=\"html:ctaText, click:ctaClick\" class=\"cta-text\"></div></div></div></div>"}),deftmp("ui.TourToDo",{template:"<div data-bind=\"visible: visible,foreach:tourItems\" class=\"ui-TourToDo\"><div data-bind=\"click:$root.startTour(type), attr:{&quot;data-class&quot;:type}, css: &quot;tour-launcher-item-&quot;+$index()\" class=\"list-item\"><div class=\"item-checkbox\"><i class=\"square\"></i><i data-bind=\"css: {completed: completed}\" class=\"fa fa-check\"></i></div><div class=\"item-content\"><div data-bind=\"html:title\" class=\"item-title\"></div><div data-bind=\"html:desc\" class=\"item-info\"></div><div class=\"cta\"><span>Start</span></div></div></div></div>"}),deftmp("ui.UpgradePrimeButton",{template:"<div data-bind=\"visible: buttonVisible()\" class=\"ui-UpgradePrimeButton\"><button data-bind=\"click: purchasePrimeClick\" class=\"green inverted thin button\">Purchase Prime</button></div>"}),deftmp("ui.UserQuery",{template:"<div class=\"ui-UserQuery\"><div>test</div><h2 data-bind=\"html: query\"></h2><div data-bind=\"foreach: choices\"></div></div>"}),deftmp("ui.UserTestimonial",{template:"<div class=\"ui-UserTestimonial\"><div class=\"testimonial-container\"><div class=\"testimonial-avatar\"><img data-bind=\"attr: { src: avatar }\"/></div><div class=\"testimonial-content\"><div class=\"quotation-left quotation-mark\">&#8220;</div><div class=\"quotation-right quotation-mark\">&#8221;</div><div data-bind=\"text: quote\" class=\"testimonial-msg\"></div><div class=\"arrow-left\"></div></div></div><div data-bind=\"text: name\" class=\"testimonial-name\"></div><div data-bind=\"text: school\" class=\"testimonial-uni\"></div></div>"}),deftmp("ui.VideoList",{template:"<div data-bind=\"foreach: links\" class=\"ui-VideoList\"><div role=\"button\" tabindex=\"0\" data-bind=\"css: { [$root.linkClass]: true, complete: progress() &gt; .99, highlight: highlighted, &quot;item-checked&quot;: checked }, click: $root.itemClicked(), clickBubble: false, attr: { &quot;data-title&quot;: t }, event: { mouseover: $root.hover(true, $data), mouseout: $root.hover(false, $data)}\" class=\"video-list-item\"><div data-bind=\"visible: $root.hasCheckbox, toggle: checked, click: function(){}, clickBubble: false\" class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: checked\"/><label></label></div><div data-bind=\"css: {&quot;no-bar&quot;: $root.icon}, click: $root.toggleCheck\" class=\"video-progress\"><div data-bind=\"visible: $root.icon &amp;&amp; !$root.noIcon, css: $root.icon\" class=\"alt-list-icon\"></div></div><div data-bind=\"visible: $root.thumbnail\" class=\"video-thumbnail-wrapper\"><span data-bind=\"visible: $root.getTime($data), text: $root.getTime($data)\" class=\"video-time\"></span><img data-bind=\"attr: { src: $root.thumbnailFor($data) }\" class=\"video-thumbnail\"/></div><div data-bind=\"text: t, attr: { &quot;data-title&quot;: t }\" class=\"video-list-item-title topic-hover-bg-color\"></div></div></div>"}),deftmp("ui.VideoManagement",{template:"<div class=\"ui-VideoManagement\"><div class=\"panel\"><div class=\"panel-body\"><div class=\"heading\"><div class=\"the-title\"><h4>VMS 3001: A Content Odyssey</h4><span data-bind=\"click:addVideo\" class=\"add-video\">&plus; Add Video</span></div><div class=\"search-bar\"><div class=\"text-input\"><input type=\"text\" placeholder=\"Search...\" data-bind=\"value:searchTerm, valueUpdate:&quot;keyup&quot;, event:{keyup:search}\"/></div><div data-bind=\"click:clearSearch, visible:searchTerm\" class=\"clear-search\"><i class=\"fa fa-times-circle\">  </i></div><div data-bind=\"click:addVideoFromSearch, visible:searchTerm\" class=\"create-page mls\"><i class=\"fa fa-plus-circle\"></i></div></div></div><div class=\"video-list-headings\"><div class=\"status\">Published</div><div class=\"prime-status\">Prime-Only</div><div class=\"main-info\">Video Info</div><div class=\"edit\"></div></div><div data-bind=\"foreach:videos\" class=\"video-list\"><div class=\"video-row\"><div data-bind=\"click:$root.handleEditVideo($data)\" class=\"status\"><i data-bind=\"visible:status &gt; 0\" class=\"fa fa-check\"></i><i data-bind=\"visible:status == 0\" class=\"fa fa-lock\"> </i></div><div data-bind=\"click:$root.handleEditVideo($data)\" class=\"prime-status\"><i data-bind=\"visible:status == 2\" class=\"fa fa-star\"> </i></div><div data-bind=\"click:$root.handleEditVideo($data)\" class=\"main-info\"> <div data-bind=\"html:title\" class=\"title\"></div><div class=\"data\"><div data-bind=\"html:videoData.mux ? &quot;Mux: &quot;+videoData.mux.path : &quot;Mux: N/A&quot;\" class=\"mux\"></div><div data-bind=\"html:videoData.s3 ? &quot;S3: &quot;+videoData.s3.path : &quot;S3: N/A&quot;\" class=\"s3\"></div><div data-bind=\"html:videoData.yt ? &quot;YouTube: &quot;+videoData.yt : &quot;YouTube: N/A&quot;\" class=\"yt\"></div></div></div><div class=\"actions\"><div data-bind=\"click:$root.handleEditVideo($data)\" class=\"edit\"><i class=\"fa fa-pencil-alt\"></i></div><div data-bind=\"click:$root.handleRemoveVideo($data)\" class=\"remove\"><i class=\"fa fa-trash\"></i></div></div></div></div><div class=\"page-nav\"><div data-bind=\"click:prevPage, css:{disabled:pageNum()==1}\" class=\"prev-arrow arrow\"><i class=\"fa fa-chevron-left\"></i></div><div data-bind=\"html:pageNum\" class=\"current-page\"></div><div data-bind=\"click:nextPage, css:{disabled:pageNum()==totalPages()}\" class=\"next-arrow arrow\"><i class=\"fa fa-chevron-right\"> </i></div></div></div></div></div>"}),deftmp("ui.VideoPanel",{template:"<div class=\"ui-VideoPanel\"><div class=\"bg-overlay\"></div><div class=\"video-modal\"><div class=\"header-bar\"><div class=\"heading\">Creator studio</div><div data-bind=\"click:cancel\" class=\"close-panel\"><i class=\"fa fa-times-thin\"></i></div></div><div class=\"main-section\"><div class=\"sidebar\"><div class=\"section-list\"><div data-bind=\"click:scrollToEl(&quot;title&quot;)\" class=\"list-item title-item active\"><span>Title</span></div><div data-bind=\"click:scrollToEl(&quot;video&quot;)\" class=\"list-item video-item\"><span>Video</span></div><div data-bind=\"click:scrollToEl(&quot;major-concepts&quot;)\" class=\"list-item concepts-item\"><span>Concepts  </span></div><div data-bind=\"click:scrollToEl(&quot;notes&quot;)\" class=\"list-item concepts-item\"><span>Regular-yield notes  </span></div></div></div><div class=\"content\"><div class=\"section toggle-section\"><div class=\"published\"><label><input type=\"checkbox\" data-label=\"status\" data-bind=\"checked:isPublished, modified: hasChanges\"/><span>&nbsp;</span><span data-bind=\"html:isNew ? &quot;Publish immediately&quot; : &quot;Published&quot;\"></span></label></div><div class=\"prime-status\"><label><input type=\"checkbox\" data-label=\"status\" data-bind=\"checked:isPrime, modified: hasChanges\"/> Prime-only</label></div></div><div class=\"section title-section\"><h4>Title of Video (/learn page title)</h4><span class=\"explain\">Title will be automatically transformed to url friend version (i.e. /learn_page_title)</span><div class=\"input-section\"><input type=\"text\" placeholder=\"Type name of video (i.e. Hyperbolic Flactoiditis)\" data-label=\"title\" data-bind=\"value:title,modified:hasChanges\"/></div><div class=\"renames-section\"><h4>Renames (function as aliases)</h4><div data-bind=\"visible:renames().length, foreach:renames\" class=\"renames\"><div class=\"rename-wrapper\"><div data-bind=\"click:$root.removeRename($data)\" class=\"remove\"><i class=\"fa fa-trash\"></i></div><div data-bind=\"html:$data\" class=\"rename\"></div></div></div></div></div><div class=\"section video-section\"><div data-bind=\"visible:isInteractive\" class=\"interactive-type\"><h4>Interactive object</h4><span data-bind=\"visible: !attachInteractiveObject()\" class=\"explain\">This is an interactive object. You can add objects <a href='' data-bind='toggle: attachInteractiveObject'>here</a> but you can't edit them.</span><div data-bind=\"visible: attachInteractiveObject\"><input type=\"text\" placeholder=\"Search objects\" src=\"/v0/kinetic/autocomplete\" data-label=\"object\" data-bind=\"autocomplete: objectTitle, modified:hasChanges\" class=\"object-input mhs\"/></div></div><div data-bind=\"visible:!isInteractive()\" class=\"video-type\"><h4>Video</h4><span class=\"explain\">Go ahead, upload one - you'll feel better. <a style='color: #9b9b9b' href='' data-bind='toggle: isInteractive'>Switch to interactive object</a></span><div data-bind=\"visible:s3Location() || muxLocation()\" class=\"uploaded-section\"><div class=\"video-wrapper\"><div data-bind=\"click:removeVideo\" class=\"remove\"><i class=\"fa fa-times-thin\"></i></div><div class=\"info\"><div class=\"data\"><span data-bind=\"html:&quot;S3 ID: &quot;+s3Location()\" class=\"location s3\"></span><span data-bind=\"html:&quot;Mux ID: &quot;+muxLocation()\" class=\"location mux\"></span><span data-bind=\"html:&quot;Node ID: &quot;+nodeID()\" class=\"location nodeID\"></span></div></div></div></div><div data-bind=\"visible:!s3Location() &amp;&amp; !muxLocation()\" class=\"video-upload-section upload-section\"></div><div class=\"video-extra-section\"><div class=\"youtube-link\"><h5 class=\"input-label\">YouTube Link</h5><div class=\"actions\"><input type=\"text\" placeholder=\"YouTube video code (i.e. &quot;GUF34vrQK8c&quot;)\" data-label=\"video\" data-bind=\"value:videoData.yt,modified: hasChanges\"/><button data-bind=\"ajax:pullYoutubeData()\" class=\"thumb button red left-icon\"> <i class=\"fa fa-download\"></i>Pull thumb + data</button></div></div><div data-bind=\"visible:(videoData.yt() &amp;&amp; videoData.dr()) || s3Location() || muxLocation()\" class=\"duration-section\"><h5 class=\"input-label\">Video Length</h5><div class=\"actions\"><input type=\"text\" placeholder=\"Video duration (in seconds)\" data-label=\"video\" data-bind=\"value:videoData.dr, modified: hasChanges\"/><div data-bind=\"ajax:pullVideoLength\" class=\"get-length\">Get duration</div></div></div></div><div class=\"video-extra-section\">             <div class=\"script-upload small-upload\"><h5 class=\"input-label\">Transcript File (.md format)</h5><span class=\"explain\">Ensure file contains <a href='https://www.markdownguide.org/cheat-sheet' target=\"_blank\">proper Markdown syntax</a></span><div data-bind=\"visible:videoData.script\" class=\"uploaded-section\"><div class=\"item-wrapper\"><div data-bind=\"click:removeScript\" class=\"remove\"><i class=\"fa fa-times-thin\"></i></div><div class=\"info\"><div class=\"data\"><span data-bind=\"html:videoData.script\"></span></div></div></div><div data-bind=\"visible:!isNew &amp;&amp; origScript() != videoData.script()\" class=\"update-transcript\"><button data-bind=\"ajax:updateTranscript\" class=\"submit-transcript button green left-icon\"> <i class=\"fa fa-upload\"></i>Update Transcript</button></div></div><div data-bind=\"visible:!videoData.script()\" class=\"script-upload-section upload-section\"></div></div><div class=\"caption-upload small-upload\"><h5 class=\"input-label\">Caption File (.vtt format)</h5><span class=\"explain\">Automatically added if \"YouTube Link\" exists</span><div data-bind=\"visible:videoData.cc\" class=\"uploaded-section\"><div class=\"item-wrapper\"><div data-bind=\"click:removeCaption\" class=\"remove\"><i class=\"fa fa-times-thin\"></i></div><div class=\"info\"><div class=\"data\"><span data-bind=\"html:videoData.cc\"></span></div></div></div></div><div data-bind=\"visible:!videoData.cc()\" class=\"caption-upload-section upload-section\"></div></div></div></div></div><div data-bind=\"\" class=\"section thumbnail-section\"><h4>High-res Thumbnail</h4><span class=\"explain\">See... you feel better don't you. Now be bad and upload a thumbnail.</span><div data-bind=\"visible:videoData.thumb()\" class=\"uploaded-thumb\"><div data-bind=\"visible: !isInteractive(), click:removeThumb\" class=\"remove\"><i class=\"fa fa-times-thin\"></i></div><div class=\"the-thumb\"><img data-bind=\"attr:{src:videoData.thumb()}\"/></div></div><div data-bind=\"visible:!videoData.thumb()\" class=\"thumb-upload-section upload-section\"></div></div><div class=\"section major-concepts-section\"><h4>Major concept</h4><span class=\"explain\">The main concept(s) this video will be associated with</span><div class=\"input-section\"></div><div data-bind=\"foreach:majorConcepts\" class=\"concept-list\"><div class=\"concept\"><div data-bind=\"click:$root.handleRemoveConcept($data,&quot;major&quot;)\" class=\"remove\"><i class=\"fa fa-times-thin\"></i></div><div class=\"info\"><div data-bind=\"html:name\" class=\"name\"></div></div><div data-bind=\"click:$root.editConcept($data)\" class=\"edit-concept\"><i class=\"fa fa-arrow-right\"></i></div></div></div><a href=\"\" data-bind=\"click: createConcept\" class=\"fp80 fcg\">create new concept</a></div><div class=\"section minor-concepts-section\"><h4>Minor concept</h4><span class=\"explain\">The opposite of major concept... when we figure out the difference, we'll let you know</span><div class=\"input-section\"></div><div data-bind=\"foreach:minorConcepts\" class=\"concept-list\"><div class=\"concept\"><div data-bind=\"click:$root.handleRemoveConcept($data,&quot;minor&quot;)\" class=\"remove\"><i class=\"fa fa-times-thin\"></i></div><div class=\"info\"><div data-bind=\"html:name\" class=\"name\"></div></div><div data-bind=\"click:$root.editConcept($data)\" class=\"edit-concept\"><i class=\"fa fa-arrow-right\"></i></div></div></div></div><div class=\"section notes-section\"><h4>Notes</h4><span class=\"explain\">Notes must be uploaded first before being added</span><div data-bind=\"foreach: notes\"><div><span data-bind=\"text: version\" class=\"fcg\"></span><input type=\"text\" placeholder=\"Title\" src=\"/v0/learn_note/autocomplete\" data-label=\"notes\" data-bind=\"autocomplete: title, attr:{index: $index}, modified: $root.hasChanges\" class=\"notes-input mhs\"/><input type=\"text\" placeholder=\"Page\" data-label=\"notes\" data-bind=\"value: page, modified: $root.hasChanges\" class=\"notes-page-input\"/></div></div></div><div class=\"section tables-section\"><h4>Tables</h4><span class=\"explain\">Tables must be created first before being added</span><div data-bind=\"foreach: tables\"><div><input type=\"text\" src=\"/v0/table/autocomplete\" placeholder=\"Table title\" data-label: tables=\"data-label: tables\" data-label=\"tables\" data-bind=\"autocomplete: title, modified: $root.hasChanges\" class=\"table-input mhs\"/></div></div><div><a href=\"\" data-bind=\"click: addTable\" class=\"fp80\">Add table</a></div></div><div class=\"action-section\"><div data-bind=\"click:cancel\" class=\"action cancel\">Cancel</div><div data-bind=\"click:save, visible:isNew, css:{disabled:locked}\" class=\"action add\">Add Video </div><div data-bind=\"click:save, visible:!isNew, css:{disabled:!hasChanges().length || locked()}\" class=\"action save\">Save Changes</div></div></div></div></div></div>"}),deftmp("ui.VideoPlayer",{template:"<div class=\"ui-VideoPlayer\"><video id=\"vjs-video\" width=\"640\" height=\"264\" class=\"video-js vjs-default-skin\"></video></div>"}),deftmp("ui.VideoPlaylist",{template:"<div class=\"ui-VideoPlaylist scrollable\"><header class=\"top-bar\"><div class=\"top-bar-wrapper\"><div class=\"top-bar-data\"><div class=\"top-bar-back\"><a href=\"/home\"> <i class=\"fas fa-arrow-left\"></i><span>Home</span></a></div><div class=\"top-bar-title\"><div data-bind=\"html: title\" class=\"title\"></div><div data-bind=\"text: videoCount() + &quot; Concepts&quot;\" class=\"top-bar-video-count\"></div></div><div data-bind=\"html: descr\" class=\"top-bar-description\"></div></div><div class=\"top-bar-image\"><img src=\"\" data-bind=\"attr:{src:img}\"></div></div></header><div class=\"main-container\"><nav class=\"navigation-links\"><div class=\"nav-title\">Navigation</div><div class=\"divider\"></div><div data-bind=\"foreach: playlists\"><div data-bind=\"click:$root.scrollTo(id)\" class=\"section-link\"><span data-bind=\"text: title\"></span></div></div></nav><div class=\"content-container\"><div data-bind=\"foreach: playlists\" class=\"playlist-container\"><section data-bind=\"attr:{id:id}\" class=\"playlist-section\"><div class=\"playlist-title\"><span data-bind=\"text: title\"></span><div data-bind=\"visible: totalLength != 0, text: $root.lengthToString(totalLength)\" class=\"playlist-length\"></div></div><div data-bind=\"foreach: sections\" class=\"playlist-sections\"><div class=\"playlist-subsection\"><div class=\"playlist-section-title\"><div class=\"left-content\"><span data-bind=\"text: ($parentContext.$index() + 1) + &quot;.&quot; + ($index() + 1)\" class=\"playlist-section-title-number\"></span><span class=\"playlist-section-title-seperator\">\u2013</span><span data-bind=\"text: title\"></span></div><div class=\"right-content\"><div data-bind=\"visible: totalLength !=0, text: $root.lengthToString(totalLength)\" class=\"playlist-section-length\"></div></div></div><div data-bind=\"foreach: concepts\" class=\"playlist-videos\"><a data-bind=\"attr: {href: $root.getHref(title, $data)}, click:$root.handleOpenVideo(title, $data)\" class=\"playlist-video\"><!--<div class=\"playlist-video-controls\"><div data-bind=\"visible: $root.checkboxes, click: $root.toggleCheckbox($data)\" class=\"checkbox-section clickable\"><i class=\"square\"></i><i data-bind=\"visible:checked\" class=\"fas fa-check\"></i></div></div>--><div data-bind=\"attr: {href: $root.getHref(title, $data)}, click:$root.handleOpenVideo(title, $data)\" class=\"playlist-video-info-image-wrapper\"><!--img(data-bind='visible: video.thumbnail, attr: { src: window.mediaServer+\"/\"+video.thumbnail }')--><span data-bind=\"visible: video.thumbnail\" class=\"far fa-play-circle\"></span><span data-bind=\"visible: !$root.hasMedia($data) &amp;&amp; !video.thumbnail &amp;&amp; !externalSource\" class=\"far fa-info-circle\"></span><span data-bind=\"visible: externalSource\" class=\"far fa-external-link-square-alt\"></span><span data-bind=\"visible: $root.hasMedia($data)\" class=\"anatomy-icon-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/599387c70ad11d6b2f3e3a3162b948a723e12f37.png\"/></span></div><div class=\"playlist-video-info\"><div class=\"playlist-video-info-title\"><span data-bind=\"text: displayTitle || title\" class=\"playlist-video-info-title-name\"></span><span data-bind=\"foreach: resources\" class=\"playlist-video-info-resources\"><img data-bind=\"attr:{src:icon, &quot;data-title&quot;:name}\" class=\"playlist-video-resource tip\"/></span></div><div data-bind=\"text: video.description\" class=\"playlist-video-info-description\"></div></div><div data-bind=\"visible: video.length &amp;&amp; video.length != 0, text: $root.lengthToString(video.length)\" class=\"playlist-video-length\"></div></a></div></div></div></section></div></div></div><div class=\"concept-broswer-modal-bg\"><div class=\"concept-browser-modal\"></div></div></div>"}),deftmp("ui.Viewer",{template:"<div style=\"position:relative:width:100%\" class=\"ui-Viewer\"><div style=\"background-color:red; position:absolute;width:100%; height:300px\" class=\"split-pane fixed-left\"><div id=\"left-component\" class=\"split-pane-component\">This is the left component</div><div id=\"my-divider\" class=\"split-pane-divider\"></div><div id=\"right-component\" class=\"split-pane-component panel\">This is the right component</div></div></div>"}),deftmp("ui.WikiArticle",{template:"<div class=\"ui-WikiArticle\"></div>"}),deftmp("ui.WikiResourceBlock",{template:"<div data-bind=\"attr: {title: title}, style: {&quot;background-color&quot;: color}\" class=\"ui-WikiResourceBlock\"><a href=\"#\" data-bind=\"click: showWiki, attr:{href: url}\" style=\"width: inherit; height: inherit\" class=\"resource-link\"><img style=\"width: inherit; height: inherit\" data-bind=\"visible: displaySize()!=&quot;small&quot;, attr:{src:thumbnailSrc}\"/><div data-bind=\"visible: displaySize()==&quot;small&quot;\" class=\"phs pvs\"><img style=\"width: 32px; height: 32px\" data-bind=\"attr:{src:thumbnailSrc}\"/></div></a></div>"}),deftmp("ui.WikiTermContainer",{template:"<div class=\"ui-WikiTermContainer\"><div><a href=\"\" data-bind=\"html: term, click: showResources\"></a><span>&nbsp;</span><span data-bind=\"html: thumbnails\"></span></div></div>"}),deftmp("ui.WorkspaceDecks",{template:"<div class=\"ui-WorkspaceDecks\"><div data-bind=\"visible: kind() == &quot;long-term&quot;\" class=\"row\"><div class=\"col-md-3\"><div><i class=\"fa fa-star\"></i><span>&nbsp;</span><span class=\"group-title\">Long-term decks</span></div><div class=\"mll fp80\">decks stored here will always be visible in this workspace and in spaced repetition (Example: popular decks like Brosencephalon and Zanki should go here)</div></div><div class=\"col-md-9\"><div class=\"group-deck\"></div></div></div><div data-bind=\"visible: kind() == &quot;short-term&quot;\" class=\"module-decks mtl\"></div></div>"}),deftmp("ui.WorkspaceQuickLinks",{template:"<div class=\"ui-WorkspaceQuickLinks\"><div><span class=\"fwb\">Active Workspaces</span> - Find your school-created flashcards and questions below</div><div data-bind=\"foreach: groups\" class=\"mlm\"><div><a href=\"\" data-bind=\"text: name, attr: {href: &quot;/&quot;+url()+&quot;/coursework#decks&quot;}\"></a></div></div></div>"}),deftmp("ui.WorkspaceQuizBuilder",{template:"<div class=\"ui-WorkspaceQuizBuilder ui-QuizSelector ui-QuizSelOverlay\"><div style=\"height:100%\" class=\"container fullpage\"><div class=\"quiz-selection\"><div class=\"quiz-nav\"><div data-bind=\"css:{current:sidebarNav()==&quot;decks&quot;}, click:changeMode(&quot;decks&quot;)\" class=\"quiz-nav-item decks\"><div class=\"quiz-icon\"><i class=\"fa fa-database fa-3x circle-icon3 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Flashcard Decks</div><div class=\"explainer\">Filter and create flashcards grouped in decks</div></div></div><div data-bind=\"css:{current:sidebarNav()==&quot;calendar&quot;}, click:changeMode(&quot;calendar&quot;)\" class=\"quiz-nav-item calendar\"><div class=\"quiz-icon\"><i class=\"fa fa-calendar fa-3x circle-icon3 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Course Calendar</div><div class=\"explainer\">Filter quiz items attached to documents by time</div></div></div><div data-bind=\"css:{current:sidebarNav()==&quot;module&quot;}, click:changeMode(&quot;module&quot;)\" class=\"quiz-nav-item module\"><div class=\"quiz-icon\"><i class=\"fa fa-folder fa-3x circle-icon1 circle-icon\"></i></div><div class=\"quiz-info\"><div class=\"title\">Course Title</div><div class=\"explainer\">Filter quiz items attached to documents by course title</div></div></div></div><div class=\"quiz-panels\"><div data-bind=\"visible:sidebarNav()==&quot;decks&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByWorkspaceDeck\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;calendar&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByCalendar\"></div></div><div data-bind=\"visible:sidebarNav()==&quot;module&quot;\" class=\"quiz-panel\"><div class=\"ui-QuizBlockByModule\"></div></div></div></div></div></div>"}),deftmp("ui.account.AddEmail",{template:"<div class=\"ui-account-AddEmail\"><div data-bind=\"visible: emails().length\"><h4>Select Primary Email<form data-bind=\"foreach: emails\" accept-charset=\"utf-8\" style=\"max-width:350px\" class=\"form-horizontal\"><div style=\"margin-left:30px\" class=\"form-group mtm\"><div class=\"radio\"><label><input type=\"radio\" name=\"userEmail\" data-bind=\"attr:{value: $data}, checked: $root.primary\"/><span data-bind=\"text: $data\"></span></label></div></div></form></h4></div><div data-bind=\"visible: unverified().length\"><h4>Unverified Emails<form data-bind=\"foreach: unverified\" accept-charset=\"utf-8\" style=\"max-width:350px\" class=\"form-horizontal\"><div style=\"margin-left:30px\" class=\"form-group mtm\"><div class=\"radio\"><label><span data-bind=\"text: $data\" class=\"mrl\"></span><a href=\"#\" data-bind=\"click:$root.resend($data)\" style=\"font-size:80%\" class=\"mrl\">Resend&nbsp;Email</a><a href=\"#\" data-bind=\"click:$root.verify($data)\" style=\"font-size:80%\" class=\"mrl\">Enter&nbsp;Verification&nbsp;Code</a></label></div></div></form></h4></div><h4>Add Email</h4><form accept-charset=\"utf-8\" style=\"max-width:400px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">New Email</label><div class=\"col-md-8\"><input type=\"email\" required=\"required\" data-bind=\"value:newEmail\" style=\"min-width:150px\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8 col-md-offset-4\"><div style=\"color:red\" data-bind=\"visible: emailMsg().error, text: emailMsg().error ? emailMsg().error.msg : &quot;&quot;\"></div><div style=\"color:green\" data-bind=\"visible: emailMsg().success\">Verification email sent</div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8 col-md-offset-4\"><button data-bind=\"click:add\" class=\"btn btn-primary\">Add Email</button><button data-bind=\"click:cancel\" class=\"btn btn-default mls\">Cancel</button><img data-bind=\"visible: addingEmail\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"width:25px\" class=\"mls\"></div></div></form></div>"}),deftmp("ui.account.AppPacks",{template:"<div class=\"ui-account-AppPacks\"><h4>Activate/Archive Packs</h4><div>You can archive content you no longer want to actively study. Later on\nif you change your mind you can reactivate content here.</div><div class=\"mtm\"><div class=\"fwb\">Active Packs</div><div data-bind=\"foreach: packs\" class=\"mlm\"><div data-bind=\"visible: $data.active() == 1\"><span data-bind=\"text: $data.name\" style=\"color: green\"></span><span>&nbsp;</span><a href=\"#\" data-bind=\"click:$root.changeBundleStatus($data,0)\">Archive</a></div></div></div><div class=\"mtm\"><div class=\"fwb\">Archived (Inactive) Packs</div><div data-bind=\"foreach: packs\" class=\"mlm\"><div data-bind=\"visible: $data.active() == 0\"><span data-bind=\"text: $data.name\" class=\"fcg\"></span><span>&nbsp;</span><a href=\"#\" data-bind=\"click:$root.changeBundleStatus($data,1)\">Activate</a></div></div></div></div>"}),deftmp("ui.account.ChangePassword",{template:"<div class=\"ui-account-ChangePassword\"><form accept-charset=\"utf-8\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"text-input\"><label>Current Password</label><input type=\"password\" required=\"required\" data-bind=\"value:currentPasswd\"/></div><div style=\"margin-bottom:10px\" data-bind=\"css: passwordStrength\" class=\"text-input\"><label>New Password</label><div data-bind=\"css: { &quot;has-pass&quot;: newPasswd().length &gt; 0 }\" data-title=\"Try increasing password length, mixing numbers and letters, symbols, or uppercase characters to increase the strength of your password\" class=\"tip password-strength\">Strength:&nbsp;<span data-bind=\"text: passwordStrength().replace(/-/g, &quot; &quot;)\" class=\"password-strength-text\"></span><div class=\"fas fa-question\"></div></div><input type=\"password\" required=\"required\" data-bind=\"value:newPasswd, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div style=\"margin-bottom:10px\" class=\"text-input\"><label>Retype Password</label><input type=\"password\" required=\"required\" data-bind=\"value:retypePasswd\"/></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"controls\"><div style=\"color:red\" data-bind=\"visible: passwdMsg().error, text: passwdMsg().error ? passwdMsg().error.msg : &quot;&quot;\"></div><div style=\"color:green\" data-bind=\"visible: passwdMsg().success\">Your password was successfully changed. Please log back in to Osmosis using this password.</div></div></div></form></div>"}),deftmp("ui.account.DataInput",{template:"<div data-bind=\"click: clickAction, if: !shouldHide()\" class=\"ui-account-DataInput\"><div class=\"border-container\"><h5 data-bind=\"text: name\"> </h5><div data-bind=\"html: currentHtml()\" class=\"current\"></div><div data-bind=\"if: !loading()\" class=\"status-container\"><div data-bind=\"text: statusText(), css: { complete: complete }, style: { display: item().hideCompleteness ? 'none' : 'block' }\" class=\"status\"></div></div><div data-bind=\"if: loading()\"><div class=\"loading-spinner small\"></div></div></div></div>"}),deftmp("ui.account.Groups",{template:"<div class=\"ui-account-Groups\"><h4>Activate/Archive Workspaces</h4><div>Workspaces can be archived so that Osmosis knows you no longer need to receive push notifications\nbased on material in that group. You can also leave a group, but we recommend archiving\nin case you ever want to return to the material in a group.</div><div class=\"mtm\"><div class=\"fwb\">Active Workspaces</div><div data-bind=\"foreach: groups\" class=\"mlm\"><div data-bind=\"visible: $data.active() == 1\"><span data-bind=\"text: $data.name\" style=\"color: green\"></span><a href=\"#\" data-bind=\"click:$root.changeGroupStatus($data,0)\" class=\"mlm\">Archive</a><a href=\"#\" data-bind=\"click:$root.leaveGroup($root,$data)\" style=\"color: red\" class=\"mlm\">Leave</a></div></div></div><div class=\"mtm\"><div class=\"fwb\">Archived (Inactive) Workspaces</div><div data-bind=\"foreach: groups\" class=\"mlm\"><div data-bind=\"visible: $data.active() == 0\"><span data-bind=\"text: $data.name\" class=\"fcg\"></span><span>&nbsp;</span><a href=\"#\" data-bind=\"click:$root.changeGroupStatus($data,1)\">Activate</a></div></div></div></div>"}),deftmp("ui.account.Legacy",{template:"<div class=\"ui-account-Legacy\"><h4>Legacy Features</h4><div data-bind=\"foreach: features\" class=\"mll\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: checked\"/><span data-bind=\"text: name\"></span></label></div></div></div>"}),deftmp("ui.account.Page",{template:"<div class=\"ui-account-Page\"><div class=\"fullpage content\"><div class=\"ui-account-SideNav quiz-hidden\"></div><div class=\"current-tab scrollable tab-pages\"></div></div></div>"}),deftmp("ui.account.PrimeSubscription",{template:"<div class=\"ui-account-PrimeSubscription\"><div class=\"mll\"><h5>You have Osmosis Prime until <span data-bind='text: window.user.prime.expires'/></h5><div data-bind=\"visible: window.user.prime.status == 1\"><div>Get more months of Prime <a href=\"/plans\">here</a>.</div></div><div data-bind=\"visible: window.user.prime.status == 2\"><div>You currently have a trial of Prime. Get the full version of prime <a href=\"/plans\">here</a>.</div></div></div><div data-bind=\"visible: primeExtra().length\" class=\"mll\"><h5>You've earned extra days of Prime by helping out your class:</h5><div data-bind=\"foreach: primeExtra\" class=\"mlm\"><div><span data-bind='text: sum'/> days by <span data-bind='text: reason'/></div></div></div></div>"}),deftmp("ui.account.QuestionSources",{template:"<div class=\"ui-account-QuestionSources\"><div data-bind=\"foreach: codes\"><div data-bind=\"visible: $data.inventoryID==6\"><h4>MKSAP for Students 5 Digital</h4><div>In addition to answering MKSAP questions on Osmosis, you can also answer\nquestions on the American College of Physicians's official website at&nbsp;<a href=\"http://mksapstudents5.acponline.org/login\" target=\"_blank\">http://mksapstudents5.acponline.org/login</a> using the code:&nbsp;<span data-bind=\"text:$data.code\" class=\"fwb\"></span></div></div></div></div>"}),deftmp("ui.account.Referral",{template:"<div class=\"ui-account-Referral scrollable\"><div class=\"referral-page-content-wrapper\"><div class=\"referral-page-content-container\"><div class=\"ui-ReferralLink\"></div><div class=\"referral-body\"><div class=\"referral-my-referrals\"><h2 class=\"title\">My referrals</h2><div class=\"description\"> <p>Earn 2 weeks of free Osmosis Prime every time one of your referrals signs up. Non-paid accounts have a limit of 5 referrals (10 weeks) of free Osmosis Prime. Osmosis Prime will not be applied to Prime accounts that have expired or free accounts after the 14-day trial period ends.</p></div><div class=\"referral-count-container\"><div class=\"referral-count\"><span data-bind=\"text: primeHelpedCount\"></span><span data-bind=\"visible: !unlimitedReferrals\">/</span><span data-bind=\"visible: !unlimitedReferrals, text: limitCount\"></span></div><div class=\"referral-count-text\">referrals signed up</div></div><div class=\"referral-count-container\"><div class=\"referral-count\"><span data-bind=\"text: primeHelpedCount() * 2, css: { green: primeHelpedCount() &gt; 0 }\"></span><span data-bind=\"visible: !unlimitedReferrals\">/</span><span data-bind=\"visible: !unlimitedReferrals, text: limitCount * 2\"></span></div><div class=\"referral-count-text\">weeks of Osmosis Prime earned</div></div></div></div></div></div></div>"}),deftmp("ui.account.RepetitionSettings",{template:"<div class=\"ui-account-RepetitionSettings\"><h4>Reschedule Overdue</h4><div class=\"fp80 mlm mbl\"><div><a href=\"\" data-bind=\"click: reschedule(&quot;osmosis&quot;)\">Reschedule Overdue Osmosis Cards</a></div><div class=\"mtm\"><a href=\"\" data-bind=\"click: reschedule(&quot;local&quot;)\">Reschedule Overdue School-created Cards</a></div></div></div>"}),deftmp("ui.account.ResetQueue",{template:"<div class=\"ui-account-ResetQueue\"><h4>Unschedule Queues</h4><div class=\"fp80 mlm\"><div><a href=\"\" data-bind=\"click: unflag(&quot;Osmosis&quot;,&quot;cards&quot;)\">Unschedule All Osmosis Cards</a></div><div class=\"mtm\"><a href=\"\" data-bind=\"click: unflag(&quot;Osmosis&quot;,&quot;questions&quot;)\">Unschedule All Osmosis Questions</a></div><div class=\"mtm\"><a href=\"\" data-bind=\"click: unflag(&quot;school-created&quot;,&quot;cards&quot;)\">Unschedule All School-created Cards</a></div></div><h4>Clear History</h4><div class=\"fp80 mlm\"><div><a href=\"\" data-bind=\"click: clearHistory\" class=\"fcr\">Clear Entire Question/Flashcard History</a></div></div></div>"}),deftmp("ui.account.SideNav",{template:"<div class=\"ui-account-SideNav\"><div data-bind=\"\" class=\"sub-head\"><div class=\"wrap\"><h2>Account</h2><p>Manage your profile</p></div><div data-bind=\"click: toggleExpanded, css: { expanded: topExpanded }\" class=\"toggle\"><i class=\"fas fa-chevron-down\"></i></div></div><ul data-bind=\"css: { expanded: topExpanded }, click: function(data,event) {toggleExpanded(data,event)}\"><li data-bind=\"click: function(data, event) { changeTab(data, event, 'Profile'); }, css: { active: currentTab() === 'Profile'}\"><a href=\"/account/profile\" class=\"padded-link\">Profile</a></li><li data-bind=\"click: function(data, event) { changeTab(data, event, 'Settings'); }, css: { active: currentTab() === 'Settings'}\"><a href=\"/account/settings\" class=\"padded-link\">Settings</a></li><li data-bind=\"click: function(data, event) { changeTab(data, event, 'Analytics'); }, css: { active: currentTab() === 'Analytics'}\"><a href=\"/account/analytics\" class=\"padded-link\">Analytics</a></li><li class=\"separator\"></li><li data-bind=\"click: function(data, event) { changeTab(data, event, 'Referral'); }, css: { active: currentTab() === 'Referral'}\"><div class=\"padded-link\"><div class=\"fa fa-fw fa-users\"></div><span>Referrals</span></div></li><li class=\"spacer\"></li><li class=\"with-icon logout-item\"><a class=\"logOutLink padded-link\"><div class=\"fas fa-fw fa-sign-out-alt\"></div><span>Sign out</span></a></li></ul></div>"}),deftmp("ui.account.Timezone",{template:"<div class=\"ui-account-Timezone\"><h4>Profile</h4><form accept-charset=\"utf-8\" style=\"max-width:350px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Timezone</label><div class=\"col-md-8\"><div class=\"ui-Select timezoneSel\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-8 col-md-offset-4\"><button data-bind=\"click:save\" class=\"btn btn-primary\">Save</button><button data-bind=\"click:cancel\" class=\"btn btn-default mls\">Cancel</button><img data-bind=\"visible: saving\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"width:25px\" class=\"mls\"></div></div></form></div>"}),deftmp("ui.account.input.Birthday",{template:"<div class=\"ui-account-input-Birthday\"><div data-bind=\"css: { error: errors }\" class=\"text-input\"><label for=\"birthdayShow\" class=\"hide-in-modal\">Birthday</label><input id=\"altDateField\" name=\"birthday\" type=\"hidden\" data-bind=\"value: data.current, valueUpdate: 'input'\"/><input name=\"birthdayShow\" type=\"text\" placeholder=\"Select date\" data-bind=\"value: data.currentShow, valueUpdate: 'input'\" class=\"datepicker day-month\"/></div></div>"}),deftmp("ui.account.input.Career",{template:"<div class=\"ui-account-input-Career\"><div class=\"ui-account-input-FieldYear\"></div><div class=\"ui-account-input-Specialty\"></div></div>"}),deftmp("ui.account.input.Email",{template:"<div class=\"ui-account-input-Email\"><div data-bind=\"visible: loading\" class=\"loading-overlay\"><div class=\"overlay\"></div><div class=\"loading-spinner large\"></div></div><div data-bind=\"if: !hideLabel\" class=\"label-container hide-in-modal\"><h5>Your Emails</h5></div><div class=\"primary\"><h5>Primary Email</h5><div><span data-bind=\"text: primary\"></span><span data-bind=\"visible: emails().length, click: remove(primary)\" class=\"remove-email fa fa-fw fa-times\"></span></div></div><div data-bind=\"if: emails().length\" class=\"secondary\"><h5>Secondary Emails</h5><ul data-bind=\"foreach: emails\"><li><span data-bind=\"text: $data\"></span><span data-bind=\"click: $parent.setAsPrimary($data)\" class=\"set-primary\">Set as primary</span><span data-bind=\"click: $parent.remove($data)\"><span class=\"fa fa-fw fa-times remove-email\"></span></span></li></ul></div><div data-bind=\"if: unverified().length &gt; 0\" class=\"label-container\"><h5>Unverified Emails</h5></div><ul data-bind=\"foreach: unverified\"><li><span data-bind=\"text: $data\"></span><div><span data-bind=\"click: $parent.remove($data)\" class=\"remove-email\">remove</span><span data-bind=\"click: $parent.resendVerification($data)\" class=\"resend-email\">resend verification</span><span data-bind=\"click: $parent.promptVerification($data)\" class=\"resend-email\">enter verification code</span></div></li></ul><form data-bind=\"submit:addEmail\"><div class=\"text-input\"><input type=\"text\" placeholder=\"New E-Mail\" data-bind=\"value: currentInput\"/></div><input type=\"submit\" value=\"Add\" class=\"button small-btn basic\"/><br/><div class=\"text-input\"><input type=\"password\" placeholder=\"Current password\" data-bind=\"value: password\"/></div></form></div>"}),deftmp("ui.account.input.EmailSubscriptions",{template:"<div class=\"ui-account-input-EmailSubscriptions\"><section><h5>Promotions</h5><div class=\"checkbox-input\"><input type=\"checkbox\" name=\"promotions\" value=\"marketing\" id=\"marketing\"/><label for=\"marketing\">Osmosis marketing messages</label></div></section><section><h5>Product Updates</h5><div class=\"checkbox-input\"><input type=\"checkbox\" name=\"updates\" value=\"features\" id=\"features\"/><label for=\"features\">Osmosis feature announcements</label></div><div class=\"checkbox-input\"><input type=\"checkbox\" name=\"updates\" value=\"content\" id=\"content\"/><label for=\"content\">Osmosis content updates</label></div></section><section><h5>Reminders</h5><div class=\"checkbox-input\"><input type=\"checkbox\" name=\"reminders\" value=\"schedule\" id=\"schedule\"/><label for=\"schedule\">Osmosis Study Schedule reminders</label></div></section></div>"}),deftmp("ui.account.input.FieldYear",{template:"<div class=\"ui-account-input-FieldYear\"><h3 class=\"hide-in-modal\">I'm a...</h3><div class=\"radio-alt-input\"><div class=\"options\"><div class=\"option\"><input type=\"radio\" name=\"type\" value=\"Student\" id=\"StudentRadio\" data-bind=\"checked: data.currentType\"/><div class=\"checkmark\"><p class=\"text\">Student</p></div></div><div class=\"option\"><input type=\"radio\" name=\"type\" value=\"Professional\" id=\"ProfessionalRadio\" data-bind=\"checked: data.currentType\"/><div class=\"checkmark\"><p class=\"text\">Professional</p></div></div><div class=\"option\"><input type=\"radio\" name=\"type\" value=\"Other\" id=\"OtherRadio\" data-bind=\"checked: data.currentType\"/><div class=\"checkmark\"><p class=\"text\">Other</p></div></div></div></div><div data-bind=\"if: data.currentType() !== 'Other'\" class=\"select-input\"><label for=\"DropDownField\">Field</label><select name=\"DropDownField\" data-bind=\"options: professions, optionsText: 'name', optionsCaption: 'Choose...', value: data.currentField\"></select></div><div data-bind=\"if: data.currentType() === 'Other'\" class=\"select-input\"><label for=\"DropDownOther\">Other</label><select name=\"DropDownOther\" data-bind=\"options: otherFields, value: data.currentField\"></select></div><div data-bind=\"visible: secondaryChoice\" class=\"select-input\"><label for=\"SecondaryMarket\">Profession</label><select name=\"SecondaryMarket\" data-bind=\"options: secondaryProfessions, optionsText: 'name', value: data.currentSecondary\"></select></div><div data-bind=\"if: data.currentType() === 'Student' &amp;&amp; availableYears().length &gt; 0\" class=\"select-input\"><label for=\"DropDownYear\">My class year is</label><select name=\"DropDownYear\" data-bind=\"options: availableYears, optionsText: 'name', value: data.currentYear\"></select></div><div data-bind=\"if: data.currentType() === 'Professional' &amp;&amp; availableStatuses().length &gt; 0\" class=\"select-input\"><label for=\"DropDownStatus\">Status</label><select name=\"DropDownStatus\" data-bind=\"options: availableStatuses, value: data.currentStatus\"></select></div></div>"}),deftmp("ui.account.input.ManageRepetition",{template:"<div class=\"ui-account-input-ManageRepetition\"><section><h3>Reschedule Overdue</h3><p class=\"description\"> If you want to reschedule the cards that are overdue in a shorter time period, you can do so here.</p><form data-bind=\"submit: reschedule\"><div class=\"radio-input\"><label for=\"osmosis-radio\" class=\"option\">Overdue Osmosis Cards<input type=\"radio\" name=\"reschedule\" value=\"osmosis\" id=\"osmosis-radio\" data-bind=\"checked: rescheduleVal\"/><span class=\"checkmark\"></span></label></div><div class=\"radio-input\"><label for=\"school-radio\" class=\"option\">Overdue School-created Cards<input type=\"radio\" name=\"reschedule\" value=\"local\" id=\"school-radio\" data-bind=\"checked: rescheduleVal\"/><span class=\"checkmark\"></span></label></div><input type=\"submit\" value=\"Reschedule\" class=\"button blue\"/></form></section><section><h3>Unschedule</h3><p class=\"description\">Remove from Spaced repetition and Saved flashcard queues.</p><form data-bind=\"submit: unschedule\"><div class=\"radio-input\"><label for=\"osmosis-cards-radio\" class=\"option\">All Osmosis flashcards from spaced repetition and saved flashcard queues<input type=\"radio\" name=\"unschedule\" value=\"osmosis-cards\" id=\"osmosis-cards-radio\" data-bind=\"checked: unscheduleVal\"/><span class=\"checkmark\"></span></label></div><div class=\"radio-input\"><label for=\"unschedule-school-radio\" class=\"option\">All School-created flashcards from your spaced repetition and saved flashcard queue<input type=\"radio\" name=\"unschedule\" value=\"school-cards\" id=\"unschedule-school-radio\" data-bind=\"checked: unscheduleVal\"/><span class=\"checkmark\"></span></label></div><div class=\"radio-input\"><label for=\"osmosis-questions-radio\" class=\"option\">All Osmosis questions from your saved question queue<input type=\"radio\" name=\"unschedule\" value=\"osmosis-questions\" id=\"osmosis-questions-radio\" data-bind=\"checked: unscheduleVal\"/><span class=\"checkmark\"></span></label></div><input type=\"submit\" value=\"Unschedule\" class=\"red button\"/></form></section><section><h3>Start over</h3><div class=\"description\">Clear your history and start fresh. This won\u2019t delete your flashcards and questions from the platform, and you\u2019ll still have access to them. </div><form data-bind=\"submit: clearHistory\"><div class=\"radio-input\"><label for=\"clear\" class=\"option\">Clear Entire Question/Flashcard History<input type=\"radio\" name=\"startover\" value=\"clear\" id=\"clear\" data-bind=\"checked: clearVal\"/><span class=\"checkmark\"></span></label></div><input type=\"submit\" value=\"Start over\" class=\"red button\"/></form></section></div>"}),deftmp("ui.account.input.Name",{template:"<div data-bind=\"css: direction\" class=\"ui-account-input-Name\"><div data-bind=\"css: { error: firstNameError }\" class=\"text-input\"><label for=\"name\" data-bind=\"visible: !altLabels\" class=\"hide-in-modal\">My name</label><label for=\"account-input-first-name\" data-bind=\"visible: altLabels\">First Name</label><input id=\"account-input-first-name\" type=\"text\" placeholder=\"First Name\" data-bind=\"value: data.first\"/></div><div data-bind=\"css: { error: lastNameError }\" class=\"text-input\"><label for=\"account-input-last-name\" data-bind=\"visible: altLabels\">Last Name</label><input id=\"account-input-last-name\" type=\"text\" placeholder=\"Last Name\" data-bind=\"value: data.last\"/></div></div>"}),deftmp("ui.account.input.RescheduleCards",{template:"<div class=\"ui-account-input-RescheduleCards\"><div data-bind=\"if: loading()\"><div class=\"loading-spinner\"></div></div><div data-bind=\"if: !loading() &amp;&amp; count() &lt;= 0\"><p>You currently have 0 overdue cards.</p></div><div data-bind=\"if: !loading() &amp;&amp; count() &gt; 0\"><p>You currently have <b data-bind=\"text: count\"></b> overdue <span data-bind=\"text: sourceDisplay()\"></span> cards. Please input the number of days to spread these cards over. <span class=\"danger\">This cannot be undone.</span></p><div data-bind=\"css: { error: errors }\" class=\"text-input\"><input type=\"number\" placeholder=\"number of days to spread cards over\" name=\"days\" data-bind=\"value: days, valueUpdate: 'input'\"/></div><div data-bind=\"if: errors\"><p class=\"danger\">Enter the number of days to spread cards over.</p></div><div data-bind=\"if: days()\"><p>Approximately <b data-bind=\"text: Math.round(count() / days())\"></b> cards per day will be added to your currently scheduled cards each day starting tomorrow and extending <b data-bind=\"text: days\"></b> days.</p></div></div></div>"}),deftmp("ui.account.input.School",{template:"<div class=\"ui-account-input-School\"><div data-bind=\"css: { error: errors }\" class=\"text-input\"><label for=\"schools\" class=\"hide-in-modal\">I attend</label><!--select(name=\"DropDownSchool\", data-bind=\"options: availableSchools, value: data.current\")--><input id=\"schoolInput\" type=\"text\" placeholder=\"Start typing your school name...\" data-bind=\"value: data.current, valueUpdate: 'input'\"/><div data-bind=\"visible: showSaveBtn, click: update\" class=\"save button blue\">Save</div></div><div data-bind=\"visible: errors\" class=\"error-description\">Select a school from the list that appears when you start typing.</div></div>"}),deftmp("ui.account.input.Social",{template:"<div class=\"ui-account-input-Social\"><ul><li><img src=\"https://en.facebookbrand.com/wp-content/uploads/2016/05/flogo_rgb_hex-brc-site-250.png\"/><span>Facebook</span><div class=\"button\">Disconnect</div></li><li><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/22d292b7e779addb6e8832edfe68998d27d85746.png\"/><span>Google</span><div class=\"button blue\">Connect</div></li></ul></div>"}),deftmp("ui.account.input.Specialty",{template:"<div class=\"ui-account-input-Specialty\"><div class=\"select-input\"><label for=\"DropDownSpecialty\">My specialty is</label><select name=\"DropDownSpecialty\" data-bind=\"options: availableSpecialties, optionsText: 'name', value: data.currentSpecialty\"></select></div><div data-bind=\"if: hasSubSpecialties()\" class=\"select-input\"><label for=\"DropDownSubSpecialty\">Sub specialty</label><select name=\"DropDownSubSpecialty\" data-bind=\"options: availableSubSpecialties, value: data.currentSubSpecialty\"></select></div></div>"}),deftmp("ui.account.input.Timezone",{template:"<div class=\"ui-account-input-Timezone\"><div class=\"select-input\"><label for=\"DropDownTimezone\" class=\"hide-in-modal\">My timezone is</label><select name=\"DropDownTimezone\" data-bind=\"value: current, options: timezones\"></select><!--<option value=\"\" disabled=\"disabled\">Select your timezone</option><option value=\"-11.0\">(UTC -11:00) Midway Island, Samoa</option><option value=\"-10.0\">(UTC -10:00) Hawaii</option><option value=\"-9.0\">(UTC -9:00) Alaska</option><option value=\"-8.0\">(UTC -8:00) Pacific Time (US & Canada)</option><option value=\"-7.0\">(UTC -7:00) Mountain Time (US & Canada)</option><option value=\"-6.0\">(UTC -6:00) Central Time (US & Canada), Mexico City</option><option value=\"-5.0\">(UTC -5:00) Eastern Time (US & Canada), Bogota, Lima</option><option value=\"-4.0\">(UTC -4:00) Atlantic Time (Canada), Caracas, La Paz</option><option value=\"-3.0\">(UTC -3:00) Brazil, Buenos Aires, Georgetown</option><option value=\"-2.0\">(UTC -2:00) Mid-Atlantic</option><option value=\"-1.0\">(UTC -1:00 hour) Azores, Cape Verde Islands</option><option value=\"0.0\">(UTC) Western Europe Time, London, Lisbon, Casablanca</option><option value=\"1.0\">(UTC +1:00 hour) Brussels, Copenhagen, Madrid, Paris</option><option value=\"2.0\">(UTC +2:00) Kaliningrad, South Africa</option><option value=\"3.0\">(UTC +3:00) Baghdad, Riyadh, Moscow, St. Petersburg</option><option value=\"3.5\">(UTC +3:30) Tehran</option><option value=\"4.0\">(UTC +4:00) Abu Dhabi, Muscat, Baku, Tbilisi</option><option value=\"4.5\">(UTC +4:30) Kabul</option><option value=\"5.0\">(UTC +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent</option><option value=\"5.5\">(UTC +5:30) Mumbai, Calcutta, Madras, New Delhi</option><option value=\"5.75\">(UTC +5:45) Kathmandu</option><option value=\"6.0\">(UTC +6:00) Almaty, Dhaka, Colombo</option><option value=\"7.0\">(UTC +7:00) Bangkok, Hanoi, Jakarta</option><option value=\"8.0\">(UTC +8:00) Beijing, Perth, Singapore, Hong Kong</option><option value=\"9.0\">(UTC +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk</option><option value=\"9.5\">(UTC +9:30) Adelaide, Darwin</option><option value=\"10.0\">(UTC +10:00) Eastern Australia, Guam, Vladivostok</option><option value=\"11.0\">(UTC +11:00) Magadan, Solomon Islands, New Caledonia</option><option value=\"12.0\">(UTC +12:00) Auckland, Wellington, Fiji, Kamchatka</option>--></div></div>"}),deftmp("ui.account.input.UnscheduleCards",{template:"<div class=\"ui-account-input-UnscheduleCards\"><p>Are you sure you want to unschedule all <b data-bind=\"text: source + ' ' + type\"></b>?</p></div>"}),deftmp("ui.account.input.Workspace",{template:"<div class=\"ui-account-input-Workspace\"><div class=\"workspaces-container intro-workspaces\"><div class=\"description\"><h3>Workspaces</h3><p>Workspaces combine documents with your video, flashcard, and question experience.</p></div></div><div style=\"min-width=\" data-bind=\"visible: workspaces().length &gt; 0 &amp;&amp; active().length &gt; 0\" class=\"workspaces-container noflex\"><h3 class=\"positioned-header\">Active</h3><div class=\"row-container row-header\"><h5>&nbsp;</h5><span>Archive a group to mute notifications on mobile</span><span>Leave a group, but you can't return</span></div><span data-bind=\"foreach: active\"><div data-bind=\"css: { 'confirm-leave': promptingRemoval }\" class=\"row-container\"><a data-bind=\"text: $data.name, attr: {href: url}\" class=\"group-name\"></a><div class=\"button-group\"><div data-bind=\"click: $root.changeState(true, $data),text: archiveBtnTxt(), attr: { disabled: archiving }, css: { loading: archiving }\" class=\"button archive\">Archive</div></div><div class=\"button-group\"><div data-bind=\"visible: removing\" class=\"button basic leave loading\">Removing...</div><div data-bind=\"visible: !promptingRemoval() &amp;&amp; !removing(), click: $root.promptRemove($data, true)\" class=\"button basic leave\">Leave</div><div data-bind=\"visible: promptingRemoval, click: $root.promptRemove($data,false)\" class=\"button basic leave-prompting\">Cancel</div></div><div data-bind=\"visible: promptingRemoval\" class=\"row-container confirm-leave prompt\"><p>Are you sure you want to leave this group?</p><div class=\"button-group\"><div data-bind=\"click: $root.remove($data)\" class=\"button basic leave leave-confirm\">Leave Group</div><div data-bind=\"click: $root.promptRemove($data, false)\" class=\"button basic leave cancel-confirm\">Cancel</div></div></div></div></span></div><div data-bind=\"visible: workspaces().length &gt; 0 &amp;&amp; inactive().length &gt; 0\" class=\"workspaces-container noflex\"><h3 class=\"positioned-header\">Inactive</h3><span data-bind=\"foreach: inactive\"><div data-bind=\"css: { 'confirm-leave': promptingRemoval }\" class=\"row-container\"><span data-bind=\"text: $data.name\" class=\"group-name\"></span><div class=\"button-group\"><div data-bind=\"click: $root.changeState(false, $data),text: archiveBtnTxt(), attr: { disabled: activating }, css: { loading: activating }\" class=\"button archive\">Reactivate</div></div><div class=\"button-group\"><div data-bind=\"visible: removing\" class=\"button basic leave loading\">Removing...</div><div data-bind=\"visible: !promptingRemoval() &amp;&amp; !removing(), click: $root.promptRemove($data, true)\" class=\"button basic leave\">Leave</div><div data-bind=\"visible: promptingRemoval, click: $root.promptRemove($data,false)\" class=\"button basic leave leave-prompting\">Cancel</div></div><div data-bind=\"visible: promptingRemoval\" class=\"row-container confirm-leave prompt\"><p>Are you sure you want to leave this group?</p><div class=\"button-group\"><div data-bind=\"click: $root.remove($data)\" class=\"button basic leave leave-confirm\">Leave Group</div><div data-bind=\"click: $root.promptRemove($data, false)\" class=\"button basic leave cancel-confirm\">Cancel</div></div></div></div></span></div></div>"}),deftmp("ui.analytics.ActivityBlock",{template:"<div class=\"ui-analytics-ActivityBlock\"><table><tr data-bind=\"foreach: blocks\"><td data-bind=\"style: {&quot;background-color&quot;:color}, html: value\" style=\"width: 25px\"></td></tr></table></div>"}),deftmp("ui.analytics.ContributorStats",{template:"<div class=\"ui-analytics-ContributorStats\"><table width=\"900\" border=\"1\" cellspacing=\"0\" cellpadding=\"3\"><thead><tr><th>Rank</th><th>Questions Contributed</th><th>MC</th><th>T-F</th><th>Label Match</th><th>MultiMedia</th><th>Images</th><th>Videos</th><th>Documents</th></tr></thead><tbody data-bind=\"foreach: contributors\"><tr data-bind=\"css: {totalsRow: rank()==&quot;Totals&quot;, isThisUserRow: userID()==$root.thisUserID()}\"><td><span data-bind=\"visible: !GROUP.owner, text: rank\"></span><span data-bind=\"visible: GROUP.owner, text: &quot; &quot;+name()\"></span><span data-bind=\"visible: userID==$root.thisUserID()\">*</span></td><td data-bind=\"text: quesContrib\"></td><td data-bind=\"text: MCQ\"></td><td data-bind=\"text: TF\"></td><td data-bind=\"text: LM\"></td><td data-bind=\"text: multiMediaContrib\"></td><td data-bind=\"text: image\"></td><td data-bind=\"text: video\"></td><td data-bind=\"text: documents\"></td></tr></tbody></table><div class=\"mtm mbm\"><em>Alone we can do so little; together we can do so much -- Helen Keller</em></div><h3>A huge thanks to the contributors this block (listed alphabetically):</h3><h4 data-bind=\"foreach:contribNames\"><span class=\"mll\"><span data-bind='text:name'/> <span data-bind='text:last'/></span></h4><div class=\"mtl\"><div data-bind=\"visible: thisUserContributed\" class=\"fwb\">*This is you! Thank you for contributing!</div><div data-bind=\"visible: !thisUserContributed()\" class=\"fwb\">Please consider contributing so you can get on the table above!</div></div></div>"}),deftmp("ui.analytics.CumulativeAnalytics",{template:"<div class=\"ui-analytics-CumulativeAnalytics\"><div class=\"panel\"><div class=\"panel-body\"><div><div class=\"row\"><div class=\"col-md-4\"><h5>Everything</h5><button data-bind=\"click: clearFilters\" class=\"btn btn-primary btn-sm\">Clear All Filters</button></div><div class=\"col-md-4\"><h5>Osmosis Official Packs</h5><div class=\"btn-group\"><button data-bind=\"click: setTopicType(&quot;questions&quot;), css: {active: mode() == &quot;topics&quot; &amp;&amp; selectedTopicType() == &quot;questions&quot;}\" class=\"active btn btn-default btn-sm\">Questions</button><button data-bind=\"click: setTopicType(&quot;flashcards&quot;), css: {active: mode() == &quot;topics&quot; &amp;&amp; selectedTopicType() == &quot;flashcards&quot;}\" class=\"btn btn-default btn-sm\">Flashcards</button></div><div data-bind=\"foreach: topics\" class=\"flex-center mtm\"><a href=\"\" data-bind=\"click: $root.filterByTopic($root,topicID), css: {active: $root.mode() == &quot;topics&quot; &amp;&amp; topicID == $root.selectedTopicID()}, attr: {title: topic}\" class=\"topic-btn\"><img data-bind=\"attr: {src: icon}\" style=\"width: 25px; height: 25px\"/></a></div></div><div class=\"col-md-4\"><h5>School Exam Modules</h5><div class=\"btn-group\"><button data-bind=\"click: setModuleType(&quot;questions&quot;), css: {active: mode() == &quot;modules&quot; &amp;&amp; selectedModuleType() == &quot;questions&quot;}\" class=\"active btn btn-default btn-sm\">Questions</button><button data-bind=\"click: setModuleType(&quot;flashcards&quot;), css: {active: mode() == &quot;modules&quot; &amp;&amp; selectedModuleType() == &quot;flashcards&quot;}\" class=\"btn btn-default btn-sm\">Flashcards</button></div><select data-bind=\"value: selectedModuleID, options: modules, optionsValue: &quot;moduleID&quot;, optionsText: &quot;name&quot;, optionsCaption: &quot;Choose a module...&quot;\" class=\"form-control mtm\"></select></div></div><div class=\"embed mtl\"></div><div data-bind=\"visible: isLoading\"><div class=\"spin-loader-lg\"></div></div><table data-bind=\"visible: !isLoading()\" class=\"table user-data mtl\"><thead><tr><th><span data-bind=\"click: triggerSort(&quot;name&quot;)\">Name <span class=\"fa\" data-bind='visible: sortBy()==\"name\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;cH&quot;)\"><span class=\"accConfBlock cH\" title=\"Correct - High Confidence\"/> <span class=\"fa\" data-bind='visible: sortBy()==\"cH\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;cM&quot;)\"><span class=\"accConfBlock cM\" title=\"Correct - Medium Confidence\"/> <span class=\"fa\" data-bind='visible: sortBy()==\"cM\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;cL&quot;)\"><span class=\"accConfBlock cL\" title=\"Correct - Low Confidence\"/> <span class=\"fa\" data-bind='visible: sortBy()==\"cL\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;iH&quot;)\"><span class=\"accConfBlock iH\" title=\"Incorrect - High Confidence\"/> <span class=\"fa\" data-bind='visible: sortBy()==\"iH\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;iM&quot;)\"><span class=\"accConfBlock iM\" title=\"Incorrect - Medium Confidence\"/> <span class=\"fa\" data-bind='visible: sortBy()==\"iM\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;iL&quot;)\"><span class=\"accConfBlock iL\" title=\"Incorrect - Low Confidence\"/> <span class=\"fa\" data-bind='visible: sortBy()==\"iL\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th><th><span data-bind=\"click: triggerSort(&quot;total&quot;)\">Total <span class=\"fa\" data-bind='visible: sortBy()==\"total\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span></span></th></tr></thead><tbody data-bind=\"foreach: table\"><tr><td><a href=\"\" data-bind=\"click: $root.inspectUser($root,userID), text: name\"></a></td><td data-bind=\"text: cH\"></td><td data-bind=\"text: cM\"></td><td data-bind=\"text: cL\"></td><td data-bind=\"text: iH\"></td><td data-bind=\"text: iM\"></td><td data-bind=\"text: iL\"></td><td data-bind=\"text: total\"></td></tr></tbody></table></div></div></div></div>"}),deftmp("ui.analytics.DailyActivityBlock",{template:"<div class=\"ui-analytics-DailyActivityBlock\"><div class=\"ajax-loader\"></div><div class=\"ui-analytics-ActivityBlock\"></div></div>"}),deftmp("ui.analytics.Segmentation",{template:"<div class=\"ui-analytics-Segmentation\"><div class=\"chart-controls\"><div class=\"events control\"><span class=\"the-label\">Select Event</span><select data-bind=\"options:events, value:event\" class=\"form-control\"></select></div><div class=\"dates control\"><span class=\"the-label\">Select Timeframe</span><div data-bind=\"visible:!showCustomDate()\" class=\"preset-dates\"><select data-bind=\"value:presetStart, options:timeframes, optionsText:&quot;label&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select><a data-bind=\"click:openDatepicker\" class=\"btn btn-default\"> <i class=\"fa fa-calendar\"></i></a></div><div data-bind=\"visible:showCustomDate\" class=\"custom-dates\"><input data-bind=\"value:manualStart\" class=\"start datepicker form-control\"/><input data-bind=\"value:end\" class=\"end datepicker form-control\"/><a data-bind=\"click:cancelCustomDates\" class=\"btn btn-default\">Cancel  </a></div></div><div class=\"unit-type control\"><span class=\"the-label\">Display</span><select data-bind=\"options:yAxisTypes, value:yAxisType\" class=\"form-control\"></select></div><div class=\"bin-size control\"><span class=\"the-label\">Group by</span><select data-bind=\"options:xAxisTypes, value:xAxisType\" class=\"form-control\"></select></div></div><div style=\"width: 75%\" class=\"chart\"></div></div>"}),deftmp("ui.animations.FrameAnimation",{template:"<div class=\"ui-animations-FrameAnimation\"><div data-bind=\"foreach: frames\" class=\"frame-animation-container\"><div data-bind=\"css: { active: $index() === $parent.activeFrame() }\" class=\"frame-animation-image\"><img data-bind=\"attr: { src: $data }\"/></div></div></div>"}),deftmp("ui.animations.Leaves",{template:"<div class=\"ui-animations-Leaves\"><div class=\"leaf-container\"></div></div>"}),deftmp("ui.animations.LightRope",{template:"<div class=\"ui-animations-LightRope\"><div class=\"lightrope\"></div></div>"}),deftmp("ui.animations.Snow",{template:"<div class=\"ui-animations-Snow\"><canvas id=\"snow-scene\"></canvas></div>"}),deftmp("ui.animations.Turkey",{template:"<div class=\"ui-animations-Turkey\"><div class=\"turkey-container\"></div></div>"}),deftmp("ui.b2b.Dashboard",{template:"<div class=\"ui-b2b-Dashboard\"><div class=\"dashboard\"><div data-bind=\"css: { 'dashboard__side-container--sidebar': viewModel.sidebarIsOpen }\" class=\"dashboard__side-container\"><div class=\"dashboard__side-header\"><div data-bind=\"click: toggleSidar, visible: !viewModel.sidebarIsOpen()\" class=\"dashboard__side-toggle\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/G7BMmvfrSNeUSdsDj3AxakqwRLaSm_kd.svg\"></div><div class=\"dashboard__side-title\"><span class=\"dashboard__side-icon\"><div class=\"far fa-chart-bar\"></div></span><span class=\"dashboard__side-heading\">Analysis</span></div><div class=\"dashboard__side-subheading\">Monitor and track progress</div></div><div data-bind=\"css: { 'dashboard__side-navigation--open': viewModel.sidebarIsOpen }\" class=\"dashboard__side-navigation\"><div class=\"ui-b2b-DashboardSidebar\"></div></div></div><div class=\"dashboard__main-container\"><header class=\"dashboard__header\"><nav class=\"dashboard__tabs\"><div class=\"ui-b2b-DashboardTabs\"></div></nav></header><main class=\"dashboard__content-container\"><div class=\"dashboard__container\"><div data-bind=\"visible: viewModel.showControls\" class=\"dashboard__controls\"><div class=\"dashboard__control-item\"><div class=\"dashboard__control-item-icon\"><i class=\"fas fa-calendar\"></i></div><div class=\"dashboard__date-inputs\"><div data-title=\"Earliest Start Date is July 1, 2018\" class=\"dashboard__filter-date text-input tip\"><label>Start Date</label><input type=\"text\" required=\"required\" data-bind=\"value: viewModel.inputStartDate\" class=\"js-datepicker\"/></div><div class=\"dashboard__filter-date text-input\"><label>End Date</label><input type=\"text\" required=\"required\" data-bind=\"value: viewModel.inputEndDate\" class=\"js-datepicker\"/></div></div></div><div class=\"dashboard__control-item\"><div class=\"dashboard__control-item-icon\"><i class=\"fas fa-layer-group\"></i></div><div class=\"dashboard__group-options\"><label class=\"mrm\">Group by:</label><span data-bind=\"foreach: viewModel.groupByOptions\" class=\"radio-alt-input block\"><label class=\"option\"><input type=\"radio\" data-bind=\"attr: {value: $data.key}, checked: $parent.viewModel.groupBy\"/><div class=\"checkmark\"><p data-bind=\"text: $data.label\" class=\"text\"></p></div></label></span></div></div></div></div><div data-bind=\"group: viewModel.currentGroup\" class=\"js-dashboard-content tab-pages\"></div></main></div></div></div>"}),deftmp("ui.b2b.DashboardAccuracyCard",{template:"<div class=\"ui-b2b-DashboardAccuracyCard\"><div class=\"dashboard-accuracy-card__body\"><div class=\"dashboard-accuracy-card__stat\"><div class=\"dashboard-accuracy-card__stat-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data.avgAccuracy*100}% Accuracy`\" class=\"dashboard-accuracy-card__stat-heading\"></div><div class=\"dashboard-accuracy-card__stat-subheading\">Average shown in percent: (Correct or incorrect)</div></div></div><div class=\"dashboard-accuracy-card__stat\"><div class=\"dashboard-accuracy-card__stat-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data.avgConfidence*100}% Confidence`\" class=\"dashboard-accuracy-card__stat-heading\"></div><div class=\"dashboard-accuracy-card__stat-subheading\">Average shown in percent on a scale of: 1-3 (I\u2019m sure, Feeling lucky, No clue)</div></div></div><div class=\"dashboard-accuracy-card__stat\"><div class=\"dashboard-accuracy-card__stat-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data.avgTimeToAnswer} Seconds`\" class=\"dashboard-accuracy-card__stat-heading\"></div><div class=\"dashboard-accuracy-card__stat-subheading\">Average time to answer</div></div></div></div></div>"}),deftmp("ui.b2b.DashboardBarChart",{template:"<div class=\"ui-b2b-DashboardBarChart\"><div class=\"dashboard-bar-chart\"><h3 data-bind=\"text: title\" class=\"dashboard-bar-chart__heading\"></h3><canvas class=\"js-chart\"></canvas></div></div>"}),deftmp("ui.b2b.DashboardCard",{template:"<li data-bind=\"css: `dashboard-grid__item--${card.columnSpan}-6`\" class=\"ui-b2b-DashboardCard dashboard-grid__item\"><div class=\"dashboard__card js-card\"><div><Loading></Loading><b data-bind=\"text: card.data.title\"></b></div><div class=\"dashboard__card-spinner\"><div class=\"page-styleGuide\"><div class=\"loading-spinner large\"></div></div></div></div></li>"}),deftmp("ui.b2b.DashboardDoughnutChart",{template:"<div class=\"ui-b2b-DashboardDoughnutChart\"><div class=\"dashboard-doughnut-chart\"><h3 data-bind=\"text: title\" class=\"dashboard-doughnut-chart__heading\"></h3><canvas class=\"js-chart\"></canvas></div></div>"}),deftmp("ui.b2b.DashboardEmptyCard",{template:"<div class=\"ui-b2b-DashboardEmptyCard\"><div class=\"dashboard-empty-card\"><img data-bind=\"attr: {src: card.image}\" class=\"dashboard-empty-card__image\"/><div data-bind=\"text: card.subheading\" class=\"dashboard-empty-card__subheading\"></div><a data-bind=\"text: card.heading, attr: {href: card.link}\" class=\"blue button dashboard-empty-card__button\"></a></div></div>"}),deftmp("ui.b2b.DashboardInfoCard",{template:"<div class=\"ui-b2b-DashboardInfoCard\"><div class=\"dashboard-info-card\"><div class=\"dashboard-info-card__header\"><img data-bind=\"attr: {src: card.icon}\" class=\"dashboard-info-card__icon\"><h2 data-bind=\"text: card.title\" class=\"dashboard-info-card__heading\"></h2></div><ul data-bind=\"foreach: card.items\" class=\"dashboard-info-card__list\"><li data-bind=\"html: $data\"></li></ul></div></div>"}),deftmp("ui.b2b.DashboardLineChart",{template:"<div class=\"ui-b2b-DashboardLineChart\"><div class=\"dashboard-line-chart\"><h3 data-bind=\"text: title\" class=\"dashboard-line-chart__heading\"></h3><div class=\"dashboard-line-chart__chart\"><canvas class=\"js-chart\"></canvas></div><div data-bind=\"css: {'dashboard-line-chart__footer--multi': $data.onViewMore &amp;&amp; $data.onDownloadCSV}\" class=\"dashboard-line-chart__footer\"><div></div><div data-bind=\"if: $data.onViewMore, click: $data.onViewMore\"><button data-bind=\"style: {'background-color': buttonColor}\" class=\"blue button\">View More</button></div><div data-bind=\"if: $data.onDownloadCSV, click: $data.onDownloadCSV\"><button data-bind=\"style: {'background-color': buttonColor}\" class=\"blue button left-icon\"><i class=\"fas fa-download\"></i><span>Download CSV</span></button></div></div></div></div>"}),deftmp("ui.b2b.DashboardMedianCard",{template:"<div class=\"ui-b2b-DashboardMedianCard\"><div data-bind=\"style: {color: card.color}\" class=\"dashboard-median-card__header\"><div class=\"dashboard-median-card__icon\"><i data-bind=\"attr: {'class': card.icon}\"></i></div><div data-bind=\"text: card.title\" class=\"dashboard-median-card__heading\"></div></div><div class=\"dashboard-median-card__subheader\"><h4 data-bind=\"text: card.subtitle\" class=\"dashboard-median-card__subheading\"></h4><p data-bind=\"text: card.info\"></p></div><div class=\"dashboard-median-card__body\"><div class=\"dashboard-median-card__stat\"><div class=\"dashboard-median-card__stat-label\">Median:</div><div data-bind=\"text: (median || 0).toLocaleString()+' / '+groupByTitle()\" class=\"dashboard-median-card__stat-value\"></div></div><div class=\"dashboard-median-card__stat\"><div class=\"dashboard-median-card__stat-label\">Maximum:</div><div data-bind=\"text: (maximum || 0).toLocaleString()+' / '+groupByTitle()\" class=\"dashboard-median-card__stat-value\"></div></div></div><div class=\"dashboard-median-card__footer\"><button data-bind=\"click: onViewMore, style: {'background-color': card.color}\" class=\"blue button\">View More</button></div></div>"}),deftmp("ui.b2b.DashboardMembersDialog",{template:"<div class=\"ui-b2b-DashboardMembersDialog\"><div class=\"ui-b2b-DashboardTableCard\"><div data-bind=\"fadeVisible: visible, fadeDirection: &quot;up&quot;\" class=\"dialog wide\"><div class=\"dialog-header\"><div class=\"dashboard-members-dialog__date-badge\"><i class=\"fas fa-calendar\"></i><label data-bind=\"text: getCurrentDate()\"></label></div><h3 class=\"header\">Members</h3><i data-bind=\"click: toggleDialog\" class=\"dialog-close button\"></i></div><div class=\"dialog-content\"><div class=\"dashboard-table-card\"><h3 data-bind=\"text: title\" class=\"dashboard-table-card__heading\"></h3><div data-bind=\"visible: !loaded()\" class=\"loading-spinner large\"></div><div data-bind=\"css: {'dashboard-table--clickable': $data.onRowClick}, visible: loaded\" class=\"dashboard-table\"><table width=\"100%\" class=\"js-table\"><thead><tr data-bind=\"foreach: table.headers\"><th data-bind=\"html: $data\"></th></tr></thead><tbody data-bind=\"foreach: { data: table.rows, as: 'row' }\"><tr data-bind=\"foreach: { data: row, as: 'cell' }, click: $parent.onRowClick\"><td data-bind=\"html: $data\"></td></tr></tbody></table></div></div></div></div></div></div>"}),deftmp("ui.b2b.DashboardNumberCard",{template:"<div class=\"ui-b2b-DashboardNumberCard\"><div class=\"dashboard-number-card\"><div id=\"js-number\" data-bind=\"text: card.number\" class=\"dashboard-number-card__number js-number\"></div><h2 data-bind=\"text: card.title\" class=\"dashboard-number-card__heading\"></h2><h4 data-bind=\"text: card.subtext\" class=\"dashboard-number-card__subtext\"></h4></div></div>"}),deftmp("ui.b2b.DashboardScatterChart",{template:"<div class=\"ui-b2b-DashboardScatterChart\"><div class=\"dashboard-scatter-chart\"><h3 data-bind=\"text: title\" class=\"dashboard-scatter-chart__heading\"></h3><canvas class=\"js-chart\"></canvas></div></div>"}),deftmp("ui.b2b.DashboardSidebar",{template:"<div class=\"ui-b2b-DashboardSidebar\"><div class=\"dashboard-sidebar\"><ul data-bind=\"foreach: groups\" class=\"dashboard-sidebar__list\"><li><div data-bind=\"click: $parent.onGroupChange, css: {'dashboard-sidebar__group--active': $index() === $parent.currentGroupIndex()}\" class=\"dashboard-sidebar__group\"><div data-bind=\"text: $data.name\" class=\"dashboard-sidebar__group-title\"></div><div data-bind=\"visible: !$parent.loaded()\" class=\"dashboard-sidebar__group-info\"><div>Loading group info...</div></div><div data-bind=\"visible: $parent.loaded()\" class=\"dashboard-sidebar__group-info\"><div class=\"dashboard-sidebar__group-info-row\"><div class=\"dashboard-sidebar__group-label\">Student Members</div><div data-bind=\"text: $parent.groupTotalMembers\" class=\"dashboard-sidebar__group-value\"></div></div><div class=\"dashboard-sidebar__group-info-row\"><div class=\"dashboard-sidebar__group-label\">Active in the last 30 days</div><div data-bind=\"text: $parent.groupActiveMembers\" class=\"dashboard-sidebar__group-value\"></div></div></div></div></li></ul></div></div>"}),deftmp("ui.b2b.DashboardTableCard",{template:"<div class=\"ui-b2b-DashboardTableCard\"><div class=\"dashboard-table-card\"><h3 data-bind=\"text: title\" class=\"dashboard-table-card__heading\"></h3><div data-bind=\"css: {'dashboard-table--clickable': $data.onRowClick}\" class=\"dashboard-table\"><table width=\"100%\" class=\"js-table\"><thead><tr data-bind=\"foreach: table.headers\"><th data-bind=\"html: $data\"></th></tr></thead><tbody data-bind=\"foreach: { data: table.rows, as: 'row' }\"><tr data-bind=\"foreach: { data: row, as: 'cell' }, click: $parent.onRowClick\"><td data-bind=\"html: $data\"></td></tr></tbody></table></div></div><div class=\"clearfix\"></div><div class=\"ui-stats-AnalyticsDashboard\"></div></div>"}),deftmp("ui.b2b.DashboardTableModal",{template:"<div class=\"ui-b2b-DashboardTableModal\"><div data-bind=\"fadeVisible: visible, fadeDirection: &quot;up&quot;, css: dialogClass\" class=\"dialog\"><div class=\"dialog-header\"><h3 class=\"header\">Videos</h3><i data-bind=\"click: toggleDialog\" class=\"dialog-close button\"></i></div><div class=\"dialog-content\"><div class=\"ui-b2b-DashboardTableCard\"></div></div></div></div>"}),deftmp("ui.b2b.DashboardTabs",{template:"<div class=\"ui-b2b-DashboardTabs\"><div class=\"dashboard-tabs\"><ul data-bind=\"foreach: tabs\" class=\"dashboard-tabs__list\"><li><a data-bind=\"click: $parent.onTabChange, style: {color: $data.color}, attr: {href: '/analytics/'+$data.title.toLowerCase()}, css: {'dashboard-tabs__tab--active': $index() === $parent.currentTabIndex()}\" class=\"dashboard-tabs__tab\"><i data-bind=\"attr: {'class': $data.icon}\"></i><span data-bind=\"text: $data.title\"></span></a></li></ul></div></div>"}),deftmp("ui.b2b.DashboardTopicSelector",{template:"<div class=\"ui-b2b-DashboardTopicSelector\"><div class=\"dashboard-topic-selector\"><header data-bind=\"if: subheading\" class=\"dashboard-topic-selector__header\"><h3 data-bind=\"text: title\" class=\"dashboard-topic-selector__heading\"></h3></header><h4 data-bind=\"if: subheading\" class=\"dashboard-topic-selector__subheading\">Source: Osmosis Library</h4><p data-bind=\"text: subheading\"></p><main class=\"dashboard-topic-selector__body\"><div class=\"ui-QuizTopicTree progress-colors\"></div></main><footer data-bind=\"visible: onViewMore &amp;&amp; selectedTopics().length\" class=\"dashboard-topic-selector__footer\"><button data-bind=\"ajax: onViewMoreClick, text: buttonText\" class=\"blue button\"></button></footer></div></div>"}),deftmp("ui.b2b.DashboardUserChart",{template:"<div class=\"ui-b2b-DashboardUserChart\"><div class=\"ui-b2b-DashboardLineChart\"></div></div>"}),deftmp("ui.b2b.DashboardUserConfidenceModal",{template:"<div class=\"ui-b2b-DashboardUserConfidenceModal\"><div data-bind=\"fadeVisible: visible, fadeDirection: &quot;up&quot;\" class=\"dialog extra-wide\"><div class=\"dialog-header\"><h3 data-bind=\"text: title\" class=\"header\"></h3><i data-bind=\"click: toggleDialog\" class=\"dialog-close button\"></i></div><div class=\"dialog-content\"><div class=\"ui-b2b-DashboardUserConfidenceTable\"></div></div></div></div>"}),deftmp("ui.b2b.DashboardUserConfidenceTable",{template:"<div class=\"ui-b2b-DashboardUserConfidenceTable\"><div data-bind=\"visible: !isLoading()\" class=\"confidence-table\"><div data-bind=\"visible: showHeader\"><div class=\"confidence-table__header\"><h3 data-bind=\"text: title\" class=\"confidence-table__heading\"></h3></div><div class=\"confidence-table__controls\"><h3 class=\"header\">Filter by...</h3><div class=\"confidence-table__dropdown js-modules-dropdown\"></div></div></div><div data-bind=\"visible: !isLoading()\" class=\"confidence-table__body\"><table><thead><tr><th data-bind=\"click: () =&gt; onSortClick('name'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'name'}\" class=\"confidence-table__header-cell\"><div class=\"confidence-table__header-cell-wrap\">Name</div></th><th><span class=\"confidence-table__header-cell\">Performance</span><div class=\"confidence-legend\"><div class=\"confidence-legend__section\"><div class=\"confidence-legend__section-heading\">Incorrect with confidence of</div><div class=\"confidence-legend__section-list\"><div data-bind=\"click: () =&gt; onSortClick('cL'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'cL'}\" class=\"confidence-legend__label confidence-legend__label--cL\">Low</div><div data-bind=\"click: () =&gt; onSortClick('cM'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'cM'}\" class=\"confidence-legend__label confidence-legend__label--cM\">Medium</div><div data-bind=\"click: () =&gt; onSortClick('cH'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'cH'}\" class=\"confidence-legend__label confidence-legend__label--cH\">High</div></div></div><div class=\"confidence-legend__section\"><div class=\"confidence-legend__section-heading\">Correct with confidence of</div><div class=\"confidence-legend__section-list\"><div data-bind=\"click: () =&gt; onSortClick('iL'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'iL'}\" class=\"confidence-legend__label confidence-legend__label--iL\">Low</div><div data-bind=\"click: () =&gt; onSortClick('iM'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'iM'}\" class=\"confidence-legend__label confidence-legend__label--iM\">Medium</div><div data-bind=\"click: () =&gt; onSortClick('iH'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'iH'}\" class=\"confidence-legend__label confidence-legend__label--iH\">High</div></div></div></div></th><th data-bind=\"click: () =&gt; onSortClick('total'), css: {'sorted-desc': sortDirection() === -1, sorted: currentSortKey() === 'total'}\" class=\"confidence-table__header-cell\"><div class=\"confidence-table__header-cell-wrap\">Total</div></th></tr></thead><tbody data-bind=\"foreach: table\"><tr><td class=\"confidence-table__name-cell\"><a data-bind=\"if: name.trim() !== '', text: name, attr: { href: '/member?userID='+userID }\"></a><div data-bind=\"if: name.trim() === ''\" class=\"confidence-table__unknown-name\">Unknown: Pending profile completion</div></td><td class=\"confidence-table__bar-cell\"><div data-bind=\"foreach: confidence\" class=\"bar\"><div data-bind=\"style: {width: percentage+'%'}, attr: {'data-title': title}\" class=\"bar__segment tip\"><div data-bind=\"text: '&nbsp;&nbsp;'+title\" class=\"bar__label\"></div><div data-bind=\"style: {'background-color': color}\" class=\"bar__segment-line\"></div></div></div></td><td class=\"confidence-table__total-cell\"><span data-bind=\"text: total.toLocaleString()\"></span></td></tr></tbody></table></div><p data-bind=\"visible: !table().length\">No results</p><div class=\"confidence-table__footer\"><button data-bind=\"visible: table().length &amp;&amp; onDownloadCSV, click: onDownloadCSV\" class=\"blue button left-icon\"><i class=\"fas fa-download\"></i><span>Download CSV</span></button></div></div><div data-bind=\"visible: isLoading\" class=\"loading-spinner large\"></div></div>"}),deftmp("ui.b2b.DashboardVarianceChart",{template:"<div class=\"ui-b2b-DashboardVarianceChart\"><div class=\"dashboard-variance-chart\"><h3 data-bind=\"text: title\" class=\"dashboard-variance-chart__heading\"></h3><ul data-bind=\"foreach: formattedData\" class=\"dashboard-variance-chart__list\"><li><div class=\"variance-chart\"><div data-bind=\"text: title\" class=\"variance-chart__title\"></div><div class=\"variance-chart__graph\"><div class=\"variance-chart__graph-tooltip\"><div data-bind=\"text: 'value: '+data.value\"></div><div data-bind=\"text: 'range: '+data.range[0]+' - '+data.range[1]\"></div></div><div data-bind=\"style: {left: range[0]+'%', width: (range[1]-range[0])+'%'}\" class=\"variance-chart__graph-variance\"></div><div class=\"variance-chart__graph-line\"></div><div data-bind=\"style: {left: value+'%'}\" class=\"variance-chart__graph-value\"></div></div></div></li></ul></div></div>"}),deftmp("ui.b2b.MemberActivity",{template:"<div class=\"ui-b2b-MemberActivity\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><h2 class=\"member-analytics-card__heading\">Activity</h2><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>Past Year</label></div></div><p>Each block represents total questions and flashcards answered per day</p><div class=\"js-activity-calendar\"></div><div class=\"ui-stats-ActivityLegend\"></div><div class=\"clearfix\"></div></div></div>"}),deftmp("ui.b2b.MemberFlashcardAnalytics",{template:"<div class=\"ui-b2b-MemberFlashcardAnalytics\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div data-bind=\"style: {color: '#2695B8'}\" class=\"member-analytics-card__heading-wrap\"><i class=\"fa fa-bolt member-analytics-card__icon\"></i><div class=\"member-analytics-card__heading\">Flashcards</div></div><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>All-time</label></div></div><ul class=\"member-analytics-card__list\"><li><div class=\"member-analytics-card__info-section\"><div class=\"member-analytics-card__info-section-label\">Answered</div><div class=\"member-analytics-card__info-section-value\"><strong data-bind=\"text: data().fcData.totalAnswered.toLocaleString()\"></strong><span data-bind=\"text: ` / ${data().fcData.totalAvailable.toLocaleString()}`\"></span></div></div><div class=\"member-analytics-card__info-text\"><div class=\"mbl\">Osmosis flashcards answered out of total available</div></div><div class=\"member-analytics-card__percentile\"><div class=\"member-analytics-card__percentile-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data().fcData.firstPassAccuracy || 0}% Accuracy first try`\" class=\"member-analytics-card__percentile-heading\"></div><div class=\"member-analytics-card__info-text\"><div>Average shown in percent:</div><div>(Correct or incorrect) on the first try of answering a flashcard</div></div><div data-bind=\"text: `${formatPercentile(data().fcData.firstPassPercentile)} percentile*`\" class=\"member-analytics-card__info-text\"></div></div></div><div class=\"member-analytics-card__percentile\"><div class=\"member-analytics-card__percentile-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data().fcData.lastPassAccuracy || 0}% Accuracy latest try`\" class=\"member-analytics-card__percentile-heading\"></div><div class=\"member-analytics-card__info-text\"><div>Average shown in percent:</div><div>(Correct or incorrect) on the latest try of answering a flashcard</div></div><div data-bind=\"text: `${formatPercentile(data().fcData.lastPassAccuracy)} percentile*`\" class=\"member-analytics-card__info-text\"></div></div></div><div data-bind=\"visible: hasPercentile\" class=\"member-analytics-card__info-text\">* Performance compared to other current students</div><div data-bind=\"visible: !hasPercentile\" class=\"member-analytics-card__info-text\">* Performance compared to other current students (visible once you have more data)</div><div class=\"member-analytics-card__divider\"></div><div class=\"member-analytics-card__info-section\"><div class=\"member-analytics-card__info-section-label\">Created</div><div class=\"member-analytics-card__info-section-value\"><span data-bind=\"text: data().totalFlashcardsCreated.toLocaleString()\"></span></div></div></li></ul></div></div>"}),deftmp("ui.b2b.MemberProfileAnalytics",{template:"<div class=\"ui-b2b-MemberProfileAnalytics\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div class=\"member-analytics-card__avatar js-avatar\"></div><div data-bind=\"text: data().userData ? data().userData.fullName : ''\" class=\"member-analytics-card__heading\"></div></div><ul class=\"member-analytics-card__list\"><li data-bind=\"text: data().userData ? data().userData.email : ''\"></li><li><div class=\"member-analytics-card__info-section\"><div class=\"member-analytics-card__info-label\">Last seen</div><div data-bind=\"text: data().latestSession ? moment(data().latestSession).format('dddd, MMM D') : 'N/A'\" class=\"member-analytics-card__info-value\"></div></div><div class=\"member-analytics-card__number-section\"><div class=\"member-analytics-card__number\"><div class=\"member-analytics-card__number-label\">Current login streak</div><div class=\"member-analytics-card__number-value\"><span data-bind=\"text: data().streak.current\"></span><small data-bind=\"text: ` ${pluralize('day', data().streak.current)}`\"></small></div></div><div class=\"member-analytics-card__number\"><div class=\"member-analytics-card__number-label\">Best login streak</div><div class=\"member-analytics-card__number-value\"><span data-bind=\"text: data().streak.longest\"></span><small data-bind=\"text: ` ${pluralize('day', data().streak.longest)}`\"></small></div></div></div></li></ul></div></div>"}),deftmp("ui.b2b.MemberQuestionAnalytics",{template:"<div class=\"ui-b2b-MemberQuestionAnalytics\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div data-bind=\"style: {color: '#DD6C2D'}\" class=\"member-analytics-card__heading-wrap\"><i class=\"fas fa-stethoscope member-analytics-card__icon\"></i><div class=\"member-analytics-card__heading\">Case questions</div></div><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>Past Year</label></div></div><h2 class=\"member-analytics-card__heading\">Step 1 Case Question</h2><div class=\"member-analytics-card__divider\"></div><div class=\"member-analytics-card__info-section\"><div class=\"member-analytics-card__info-section-label\">Questions answered</div><div data-bind=\"text: `${data().step1Data.totalAnswered.toLocaleString()} / ${data().step1Data.totalAvailable.toLocaleString()}`\" class=\"member-analytics-card__info-section-value\"></div></div><div class=\"member-analytics-card__info-text\"><div class=\"mbl\">Osmosis questions answered out of total available</div></div><div class=\"member-analytics-card__percentile\"><div class=\"member-analytics-card__percentile-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data().step1Data.firstPassAccuracy || 0}% Accuracy first try`\" class=\"member-analytics-card__percentile-heading\"></div><div data-bind=\"text: `${formatPercentile(data().step1Data.firstPassPercentile)} percentile*`\" class=\"member-analytics-card__info-text\"></div><div class=\"member-analytics-card__info-text\"><div>Average shown in percent:</div><div>(Correct or incorrect) on the first try of answering a flashcard</div></div></div></div><div class=\"member-analytics-card__percentile\"><div class=\"member-analytics-card__percentile-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data().step1Data.lastPassAccuracy || 0}% Accuracy latest try`\" class=\"member-analytics-card__percentile-heading\"></div><div data-bind=\"text: `${formatPercentile(data().step1Data.lastPassAccuracy)} percentile*`\" class=\"member-analytics-card__info-text\"></div><div class=\"member-analytics-card__info-text\"><div>Average shown in percent:</div><div>(Correct or incorrect) on the latest try of answering a flashcard</div></div></div></div><h2 class=\"member-analytics-card__heading\">Step 2 Case Question</h2><div class=\"member-analytics-card__divider\"></div><div class=\"member-analytics-card__info-section\"><div class=\"member-analytics-card__info-section-label\">Questions answered</div><div data-bind=\"text: `${data().step2Data.totalAnswered.toLocaleString()} / ${data().step2Data.totalAvailable.toLocaleString()}`\" class=\"member-analytics-card__info-section-value\"></div></div><div class=\"member-analytics-card__info-text\"><div class=\"mbl\">Osmosis questions answered out of total available</div></div><div class=\"member-analytics-card__percentile\"><div class=\"member-analytics-card__percentile-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data().step2Data.firstPassAccuracy || 0}% Accuracy first try`\" class=\"member-analytics-card__percentile-heading\"></div><div data-bind=\"text: `${formatPercentile(data().step2Data.firstPassPercentile)} percentile*`\" class=\"member-analytics-card__info-text\"></div><div class=\"member-analytics-card__info-text\"><div>Average shown in percent:</div><div>(Correct or incorrect) on the first try of answering a flashcard</div></div></div></div><div class=\"member-analytics-card__percentile\"><div class=\"member-analytics-card__percentile-icon\"><i class=\"fas fa-chart-pie\"></i></div><div><div data-bind=\"text: `${data().step2Data.lastPassAccuracy || 0}% Accuracy latest try`\" class=\"member-analytics-card__percentile-heading\"></div><div data-bind=\"text: `${formatPercentile(data().step2Data.lastPassAccuracy)} percentile*`\" class=\"member-analytics-card__info-text\"></div><div class=\"member-analytics-card__info-text\"><div>Average shown in percent:</div><div>(Correct or incorrect) on the latest try of answering a flashcard</div></div></div></div><div class=\"member-analytics-card__info-text\"><div data-bind=\"visible: hasPercentile\">*Performance compared to other current med students</div><div data-bind=\"visible: !hasPercentile\">*Performance compared to other current med students (visible once you have more data)</div></div></div></div>"}),deftmp("ui.b2b.MemberVideoAnalytics",{template:"<div class=\"ui-b2b-MemberVideoAnalytics\"><div class=\"member-analytics-card\"><div class=\"member-analytics-card__header\"><div data-bind=\"style: {color: '#D13463'}\" class=\"member-analytics-card__heading-wrap\"><i class=\"fab fa-youtube member-analytics-card__icon\"></i><div class=\"member-analytics-card__heading\">Videos</div></div><div class=\"member-analytics-card__date-badge\"><i class=\"fas fa-calendar\"></i><label>Past Year</label></div></div><div class=\"member-analytics-card__info-section\"><div class=\"member-analytics-card__info-section-label\">Videos opened</div><div data-bind=\"text: data().videosWatched\" class=\"member-analytics-card__info-section-value\"></div></div></div></div>"}),deftmp("ui.badges.StreakBadge",{template:"<div class=\"ui-badges-StreakBadge\"><svg height=\"100%\" viewBox=\"0 0 680 813\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\"><g transform=\"matrix(1,0,0,1,-3242.09,1485.36)\"><g><path d=\"M3580.43,-1437.68C3518.93,-1437.53 3457.77,-1417.53 3408.27,-1381.18C3334.38,-1326.93 3287.98,-1237.33 3288.72,-1143.12C3289.36,-1062.93 3324.56,-984.031 3383.85,-929.82C3436.88,-881.323 3508.16,-853.515 3579.96,-853.287C3651.86,-853.059 3723.41,-880.513 3776.67,-928.64C3855.59,-999.939 3892.78,-1114.61 3862.5,-1223.71C3836.7,-1316.68 3762.4,-1394.43 3669.47,-1424C3641.52,-1432.89 3612.22,-1437.46 3582.8,-1437.67C3582.01,-1437.68 3581.22,-1437.68 3580.43,-1437.68ZM3697.92,-1321.77C3704.99,-1321.48 3710.79,-1316.3 3715.06,-1310.9C3725.84,-1297.27 3733.58,-1281.47 3740.8,-1265.5C3760.2,-1222.61 3774.94,-1177.25 3783.25,-1131.16C3787.25,-1108.95 3788.12,-1085.94 3783.82,-1063.7C3774.21,-1013.97 3742.03,-969.709 3698.76,-942.029C3642.74,-906.197 3569.65,-898.372 3506.45,-920.894C3436.59,-945.794 3380.16,-1009.8 3375.39,-1085.68C3372.35,-1134.02 3389.98,-1183.45 3415,-1223.41C3424.87,-1239.17 3436.53,-1254.39 3451.61,-1264.28C3461.36,-1270.68 3474.21,-1274.65 3483.61,-1268.44C3494.88,-1261.01 3492.04,-1241.86 3487.82,-1230.15C3484.41,-1220.51 3483.53,-1209.94 3484.97,-1199.76C3499.32,-1225.92 3509.14,-1254.35 3515.74,-1283.46C3523.37,-1317.16 3527.71,-1352.63 3548.73,-1380.13C3556.91,-1390.83 3566.97,-1400.29 3578.2,-1407.44C3590.35,-1415.18 3607.94,-1415.61 3615.14,-1400.34C3620.27,-1389.44 3617.85,-1376.5 3615.76,-1365.48C3608.63,-1327.22 3617.01,-1285.4 3638.7,-1254.51C3645.57,-1244.72 3654.23,-1236.03 3664.63,-1230.04C3672.6,-1236.6 3676.53,-1247.51 3678.35,-1258.34C3679.95,-1267.9 3679.46,-1277.64 3678.06,-1287.34C3676.42,-1299.11 3677.91,-1312.39 3688.17,-1319.02C3690.9,-1320.78 3694.1,-1321.75 3697.38,-1321.77C3697.65,-1321.77 3697.65,-1321.77 3697.92,-1321.77Z\" style=\"fill:white;fill-opacity:0.301392;\"></path><path d=\"M3362.33,-885.259C3374.29,-875.159 3274.57,-976.439 3252.89,-1059.58C3229.11,-1150.7 3244.91,-1251.33 3297.17,-1331.22C3347.25,-1407.77 3428.93,-1462.87 3519.59,-1479.67C3539.75,-1483.41 3560.27,-1485.28 3580.7,-1485.36C3581.24,-1485.36 3581.79,-1485.36 3582.34,-1485.36C3653.73,-1485.19 3725.07,-1461.9 3782.66,-1419.62C3868.63,-1356.5 3922.53,-1251.91 3921.66,-1142.74C3921.08,-1068.43 3895.36,-994.483 3849.13,-935.68C3834.93,-917.614 3818.84,-901.04 3801.26,-886.217L3801.26,-696.34C3800.86,-692.253 3801.05,-691.113 3799.46,-687.261C3795.9,-678.625 3786.96,-672.575 3777.61,-672.498C3773.44,-672.464 3772.46,-673.066 3768.52,-674.22L3581.79,-749.33L3395.07,-674.22L3390.61,-672.914C3386.52,-672.547 3385.43,-672.148 3381.35,-672.99C3373.71,-674.567 3367.09,-680.061 3364.13,-687.261C3362.54,-691.113 3362.73,-692.253 3362.33,-696.34L3362.33,-885.259ZM3581.32,-1437.68C3519.81,-1437.53 3458.66,-1417.53 3409.15,-1381.18C3335.26,-1326.93 3288.86,-1237.33 3289.61,-1143.12C3290.24,-1062.93 3325.44,-984.031 3384.73,-929.82C3437.77,-881.323 3509.05,-853.515 3580.85,-853.287C3652.74,-853.059 3724.29,-880.513 3777.56,-928.64C3856.47,-999.939 3893.67,-1114.61 3863.39,-1223.71C3837.58,-1316.68 3763.29,-1394.43 3670.35,-1424C3642.41,-1432.89 3613.1,-1437.46 3583.68,-1437.67C3582.9,-1437.68 3582.11,-1437.68 3581.32,-1437.68ZM3697.92,-1321.77C3704.99,-1321.48 3710.79,-1316.3 3715.06,-1310.9C3725.84,-1297.27 3733.58,-1281.47 3740.8,-1265.5C3760.2,-1222.61 3774.94,-1177.25 3783.25,-1131.16C3787.25,-1108.95 3788.12,-1085.94 3783.82,-1063.7C3774.21,-1013.97 3742.03,-969.709 3698.76,-942.029C3642.74,-906.197 3569.65,-898.372 3506.45,-920.894C3436.59,-945.794 3380.16,-1009.8 3375.39,-1085.68C3372.35,-1134.02 3389.98,-1183.45 3415,-1223.41C3424.87,-1239.17 3436.53,-1254.39 3451.61,-1264.28C3461.36,-1270.68 3474.21,-1274.65 3483.61,-1268.44C3494.88,-1261.01 3492.04,-1241.86 3487.82,-1230.15C3484.41,-1220.51 3483.53,-1209.94 3484.97,-1199.76C3499.32,-1225.92 3509.14,-1254.35 3515.74,-1283.46C3523.37,-1317.16 3527.71,-1352.63 3548.73,-1380.13C3556.91,-1390.83 3566.97,-1400.29 3578.2,-1407.44C3590.35,-1415.18 3607.94,-1415.61 3615.14,-1400.34C3620.27,-1389.44 3617.85,-1376.5 3615.76,-1365.48C3608.63,-1327.22 3617.01,-1285.4 3638.7,-1254.51C3645.57,-1244.72 3654.23,-1236.03 3664.63,-1230.04C3672.6,-1236.6 3676.53,-1247.51 3678.35,-1258.34C3679.95,-1267.9 3679.46,-1277.64 3678.06,-1287.34C3676.42,-1299.11 3677.91,-1312.39 3688.17,-1319.02C3690.9,-1320.78 3694.1,-1321.75 3697.38,-1321.77C3697.65,-1321.77 3697.65,-1321.77 3697.92,-1321.77Z\" style=\"fill-opacity:0.29838;fill-rule:nonzero;\"></path><g id=\"streak-number\" transform=\"matrix(0.573039,0,0,0.573039,2487.96,-1410.44)\"><text data-bind=\"html: streak\" x=\"1910\" y=\"680.408px\" text-anchor=\"middle\" style=\"font-family:'Nunito-Bold', 'Nunito';font-weight:700;font-size:343.014px;fill:white;fill-opacity:0.85;\"></text></g></g></g></svg></div>"}),deftmp("ui.clinical.MedSchoolClinical",{template:"<div class=\"ui-clinical-MedSchoolClinical\"><div class=\"center\"><h3><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/c61c80f59d089a216c14dd5dbeb4a2f24eaf00ad.png\" style=\"width: 50px\"> Clinical Rotations</h3><h4>Make Osmosis fit your clinical rotation schedule</h4><h5>The more rotations you add, the better it can recommend content at exactly the right time</h5><div data-bind=\"visible: window.userScheduleActive != 3\" class=\"alert alert-warning mtm\"><a href=\"#\" data-bind=\"click: mobileSync\" class=\"btn btn-xs btn-warning pull-right\">Set as Primary Workspace</a><strong>Note:</strong><span> To have the Osmosis mobile app push you questions and flashcards based on this schedule, you can set this page as your \"Primary Workspace\".</span></div></div><div><blockquote><div class=\"row mtm\"><div class=\"col-md-12\"><h3 class=\"section-heading\">Core Clerkships <a style=\"font-size:60%\" href=\"\" data-bind='visible: !model.rotations.editing(), toggle: model.rotations.editing'>Edit</a></h3><div data-bind=\"visible: !model.rotations.editing()\">Add the start date and exam date for your core clerkships so Osmosis will know what questions to send you.</div></div></div><div data-bind=\"visible: model.rotations.editing\" class=\"row mtm\"><div class=\"col-md-12\"><div>You can leave things blank that do not apply. If clerkships overlap (i.e., neuro and psych) you can specify the same dates.</div></div></div><div data-bind=\"visible: model.rotations.editing, foreach: model.rotations\"><div class=\"row mtm\"><div class=\"col-md-12\"><h4 data-bind=\"text: name\"></h4></div></div><div class=\"row\"><div class=\"col-md-6\"><div class=\"fwb\">When do you start your <span data-bind='text: name.toLowerCase()'/> rotation?</div><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" data-bind=\"value: start\" class=\"datepicker\"/></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: done\"/>I've completed this rotation</label></div></div></div><div class=\"col-md-6\"><div class=\"fwb\">When will you take your <span data-bind='text: name.toLowerCase()'/> shelf?</div><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" data-bind=\"value: stop\" class=\"datepicker\"/></div></div></div></div></blockquote><blockquote><div class=\"row mtm\"><div class=\"col-md-12\"><h3 class=\"section-heading\">Electives <a style=\"font-size:60%\" href=\"\" data-bind='visible: !model.electives.editing(), toggle: model.electives.editing'>Edit</a></h3></div></div><div data-bind=\"visible: model.electives.editing, foreach: model.electives\"><div class=\"row mtl\"><div class=\"col-md-12\"><select data-bind=\"value: value, options: $root.model.electiveOptions, optionsText: &quot;name&quot;, optionsValue:&quot;index&quot;, optionsCaption: &quot;Select elective...&quot;\"></select></div></div><div class=\"row\"><div class=\"col-md-6\"><div class=\"fwb\">When does this elective start?</div><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" data-bind=\"value: start\" class=\"datepicker\"/></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: done\"/>I've completed this elective</label></div></div></div><div class=\"col-md-6\"><div class=\"fwb\">When does this elective end?</div><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" data-bind=\"value: stop\" class=\"datepicker\"/></div></div></div></div></blockquote><blockquote><div class=\"row mtm\"><div class=\"col-md-12\"><h3 class=\"section-heading\">Subinternships <a style=\"font-size:60%\" href=\"\" data-bind='visible: !model.subinternships.editing(), toggle: model.subinternships.editing'>Edit</a></h3><div>Be impressive on your sub-I's by making sure your knowledge base is fresh.</div></div></div><div data-bind=\"visible: model.subinternships.editing, foreach: model.subinternships\"><div class=\"row mtl\"><div class=\"col-md-12\"><select data-bind=\"value: value, options: $root.model.electiveOptions, optionsText: &quot;name&quot;, optionsValue:&quot;index&quot;, optionsCaption: &quot;Select sub-I...&quot;\"></select></div></div><div class=\"row\"><div class=\"col-md-6\"><div class=\"fwb\">When does this sub-I start?</div><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" data-bind=\"value: start\" class=\"datepicker\"/></div><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: done\"/>I've completed this sub-I</label></div></div></div><div class=\"col-md-6\"><div class=\"fwb\">When does this sub-I end?</div><div style=\"margin-bottom:10px\" class=\"form-group\"><input type=\"text\" data-bind=\"value: stop\" class=\"datepicker\"/></div></div></div></div></blockquote></div></div>"}),deftmp("ui.dashboard.CustomFeaturedSeries",{template:"<div data-bind=\"css: { open: dropDownOpen(), flipped:flipped }\" class=\"ui-dashboard-CustomFeaturedSeries\"><div data-bind=\"visible:!hideMainTitle\" class=\"main-title thick-grey-bottom-border\">Featured Series</div><div class=\"series-container\"><div class=\"series-image-container\"><img data-bind=\"attr: { src: thumb }\" src=\"\" class=\"series-image\"/><div class=\"series-image-more\"><div class=\"series-image-more-text\"><div class=\"series-image-more-text-line\">+&nbsp;<span data-bind=\"html: moreCount\"></span></div><div class=\"series-image-more-text-line\">more</div></div><div class=\"series-image-more-series\"><div data-bind=\"html: title\" class=\"series-image-more-text-line title\"></div><div data-bind=\"click: clickPlay\" class=\"series-image-more-play-wrapper\"><i class=\"fa fa-play series-image-more-text-line\"></i></div></div></div></div><div class=\"series-info\"><h2 data-bind=\"html: title\" class=\"series-title\"></h2><h3 data-bind=\"html: extra\" class=\"series-media\"></h3><p data-bind=\"html: descr\" class=\"series-description\"></p><button data-bind=\"click:ctaClick, html:cta\" class=\"blue button\"></button></div></div></div>"}),deftmp("ui.dashboard.DashboardBirthdayMessage",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-DashboardBirthdayMessage ui-dashboard-DashboardMessage\"><div class=\"message-container\"><canvas id=\"confetti\"></canvas><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"></div><div class=\"image character\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/DBfS6MaMQ4Oj1dRL7I2nz1XHQjW-5ZU4/_.png\"/></div><div class=\"message-wrapper\"><div class=\"message-text\"><h1 class=\"title\"><span>Happy birthday </span><span data-bind=\"text: name\"></span><span>!</span></h1><h3 class=\"text\">Don't forget to freshen up on your origin story with this stages of labor video.</h3></div></div><div data-bind=\"click: showVideo\" class=\"video-overlay\"><div class=\"overlay\"><div class=\"play-icon\"><i class=\"fas fa-play-circle\"></i></div></div><img src=\"https://d16qt3wv6xm098.cloudfront.net/LidE3WFLTK21N875E3--fC4mT5Gz7Luh/_.jpg\"/></div></div></div>"}),deftmp("ui.dashboard.DashboardReferralMessage",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-DashboardReferralMessage ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"></div><div class=\"message-wrapper\"><div class=\"ui-ReferralLink\"></div></div></div></div>"}),deftmp("ui.dashboard.FeaturedVideoSeries",{template:"<div data-bind=\"css: { open: dropDownOpen(), flipped:flipped }\" class=\"ui-dashboard-FeaturedVideoSeries\"><div data-bind=\"visible:!hideMainTitle\" class=\"main-title thick-grey-bottom-border\">Featured Series</div><div class=\"series-container\"><div class=\"series-image-container\"><img data-bind=\"attr: { src: thumb }\" class=\"series-image\"/><div class=\"series-image-more\"><div class=\"series-image-more-text\"><div class=\"series-image-more-text-line\">+&nbsp;<span data-bind=\"html: moreCount\"></span></div><div class=\"series-image-more-text-line\">more</div></div><div class=\"series-image-more-series\"><div data-bind=\"html: title\" class=\"series-image-more-text-line title\"></div><div data-bind=\"click: clickPlay\" class=\"series-image-more-play-wrapper\"><i class=\"fa fa-play series-image-more-text-line\"></i></div><i data-bind=\"click: toggleDropDown\" class=\"fa fa-angle-down series-image-more-text-line\"></i></div></div></div><div class=\"series-info\"><div class=\"series-title\"><span data-bind=\"html: title\"></span></div><div data-bind=\"html: extra\" class=\"series-media\"></div><div data-bind=\"html: descr\" class=\"series-description\"></div></div><div class=\"video-slider-wrapper\"></div></div></div>"}),deftmp("ui.dashboard.Stats",{template:"<div class=\"ui-dashboard-Stats\"> <h2 data-bind=\"visible: school\">Hi <span data-bind=\"text: window.user.first\"></span>, here's what other students at <span data-bind=\"text: school\"></span> have been up to on Osmosis:</h2><h2 data-bind=\"visible: !school()\">Hi <span data-bind=\"text: window.user.first\"></span>, here's what students have been up to on Osmosis in the last 30 days:</h2><div data-bind=\"css: { space: !school() }\" class=\"stats\"><div data-bind=\"visible: school() || logo(), css: { 'with-deal': showDeal }\" class=\"school-logo\"><div><img data-bind=\"visible: logo, attr: { src: logo }, event: { error: handleImgError }\"/><div data-bind=\"visible: showDeal\" class=\"deal-text\"><h3 data-bind=\"text: schoolNickname\" class=\"deal-school\"></h3><p class=\"deal-info\">Your classmates created an exclusive school deal - get it before it's gone!</p></div></div><span data-bind=\"visible: showDeal, click: clickSchoolDeal\" class=\"deal-link\">Activate your School Deal</span></div><div class=\"substats\"><div data-bind=\"visible: school\" class=\"stat students\"><div class=\"count\">0</div><div class=\"subtitle\">Students</div></div><div class=\"stat video-views\"><div class=\"count\">0</div><div class=\"subtitle\">Video views</div></div><div class=\"stat questions-answered\"><div class=\"count\">0</div><div class=\"subtitle\">Questions answered</div></div><div class=\"stat flashcards-created\"><div class=\"count\">0</div><div class=\"subtitle\">Flashcards Created</div></div><div class=\"stat flashcards-answered\"><div class=\"count\">0</div><div class=\"subtitle\">Flashcards answered</div></div></div></div></div>"}),deftmp("ui.dashboard.StreakMessage",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-StreakMessage ui-dashboard-DashboardMessage\"><div data-bind=\"css: theme\" class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"><div class=\"ui-badges-StreakBadge\"></div></div><div class=\"message-wrapper\"><div class=\"message-text\"><h2 class=\"inverted header\"><span data-bind=\"text: streak\"></span><span>-day streak</span></h2><p data-bind=\"html: message\" class=\"inverted content\"></p><h4 data-bind=\"visible: nextGoal, text: nextGoalMessage\" class=\"inverted next-goal\"></h4></div><div class=\"arrow-right\"></div></div><div class=\"right-section\"><div class=\"image\"><img data-bind=\"attr: { src: character }\"/></div></div></div></div>"}),deftmp("ui.dashboard.VideoItem",{template:"<div data-bind=\"css:{large:featuredSize}\" class=\"ui-dashboard-VideoItem\"><a data-bind=\"click: navToVideo, attr: { href: url }\" class=\"video\"><div class=\"video-thumbnail\"><img data-bind=\"attr: {src: loadingType !== &quot;none&quot; ? thumb : &quot;&quot;}\"/><div data-bind=\"visible: lastVideo\" class=\"video-last-overlay\"></div><div data-bind=\"visible: !lastVideo &amp;&amp; primeOnly\" class=\"prime-overlay\"><i class=\"fa fa-star\"></i>&nbsp;Prime</div><div data-bind=\"visible: !lastVideo\" class=\"video-overlay\"><div data-bind=\"text: name\" class=\"video-overlay-title\"></div><div data-bind=\"text: breadcrumb\" class=\"video-overlay-category\"></div><div class=\"video-overlay-study-info-container\"><span data-bind=\"visible:flashcards &gt; 0\" class=\"flashcards\"><span data-bind=\"text: flashcards\"></span>&nbsp;Flashcard<span data-bind='visible:flashcards > 1, html:\"s\"' /></span><span data-bind=\"visible:flashcards &gt; 0 &amp;&amp; questions &gt; 0\" class=\"sep\">,&nbsp;  </span><span data-bind=\"visible:questions &gt; 0\" class=\"questions\"><span data-bind=\"text: questions\"></span>&nbsp;Question<span data-bind='visible:questions > 1, html:\"s\"' /></span><div data-bind=\"text: misc\" class=\"video-overlay-study-info-misc\"></div></div></div></div><div data-bind=\"visible: lastVideo &amp;&amp; moreVideos\" class=\"video-last-container\"><div class=\"video-last-title\">+<span data-bind=\"text: moreVideos\"></span>&nbsp;more</div></div></a><i data-bind=\"visible: !lastVideo\" class=\"fa fa-play video-overlay-play-button\"></i></div>"}),deftmp("ui.dashboard.VideoSlider",{template:"<div class=\"ui-dashboard-VideoSlider\"><div data-bind=\"css: { overlapping: titleOverlapping() }\" class=\"main-title thick-grey-bottom-border\"><span data-bind=\"text: videoCount + ' ', visible:!hideCount\"></span><span data-bind=\"html: title\"></span></div><div class=\"main-slider\"><div data-bind=\"foreach: new Array(totalPages())\" class=\"video-scroll-progress-bar-container\"><div data-bind=\"click: $parent.tabClickHandler(), attr: { 'data-progress-bar-index': $index() }\" class=\"video-scroll-progress-bar-wrapper\"><div data-bind=\"attr: { 'data-progress-bar-index': $index() }, css: { 'video-scroll-progress-bar-active': $parent.activePage() == $index() }\" class=\"video-scroll-progress-bar\"></div></div></div><i data-bind=\"click: prevPage\" class=\"fa fa-angle-left video-scroll-arrow\"></i><div class=\"videos-container-wrapper\"><div class=\"videos-container\"></div></div><i data-bind=\"click: nextPage\" class=\"fa fa-angle-right video-scroll-arrow\"></i></div></div>"}),deftmp("ui.dashboard.VideoTopicExpanded",{template:"<div class=\"ui-dashboard-VideoTopicExpanded\"><div class=\"category\"><div class=\"category-title thick-grey-bottom-border\"><div class=\"category-check-box\"></div><div data-bind=\"text: title\" class=\"category-main-title main-title\"></div><div data-bind=\"click: videoCountClick\" class=\"category-concepts\"><span data-bind=\"text: vidTotal\" class=\"category-concept-count main-title-count\"></span>&nbsp;<span data-bind=\"html:(title!=&quot;Anatomy&quot;) ? &quot;video&quot; : &quot;interactive model&quot;\"></span><span data-bind=\"visible: vidTotal() != 1\">s</span></div></div><div class=\"category-flex-container\"><div class=\"category-progress-container\"></div><div class=\"video-list\"><div class=\"videos-container-wrapper\"><div class=\"videos-container\"></div></div></div></div></div></div>"}),deftmp("ui.dashboard.VideoTopicsList",{template:"<div class=\"ui-dashboard-VideoTopicsList\"><div class=\"main-title thick-grey-bottom-border\">Osmosis videos&nbsp;<span data-bind=\"text: '(' + totalVideoCount + ')'\" class=\"main-title-count\"></span></div><div class=\"video-topics-column-container\"><div data-bind=\"foreach: firstColumn\" class=\"video-topics-column\"><div data-bind=\"click:$root.handleTopicClick(name)\" class=\"video-topic\"><div data-bind=\"text: name\" class=\"video-topic-name\"></div><div class=\"video-topic-total\"><span data-bind=\"text: totalVideos\"></span><span> videos</span></div></div></div><div data-bind=\"foreach: secondColumn\" class=\"video-topics-column\"><div data-bind=\"click:$root.handleTopicClick(name)\" class=\"video-topic\"><div data-bind=\"text: name\" class=\"video-topic-name\"></div><div class=\"video-topic-total\"><span data-bind=\"text: totalVideos\"></span><span> videos</span></div></div></div><div data-bind=\"foreach: thirdColumn\" class=\"video-topics-column\"><div data-bind=\"click:$root.handleTopicClick(name)\" class=\"video-topic\"><div data-bind=\"text: name\" class=\"video-topic-name\"></div><div class=\"video-topic-total\"><span data-bind=\"text: totalVideos\"></span><span> videos</span></div></div></div></div></div>"}),deftmp("ui.dashboard.messages.CompleteProfile",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-messages-CompleteProfile ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/57pdjlCdSBiI0WK1KJ1iiqhNQey49zqD.png\"></div><div class=\"message-wrapper\"><h2 class=\"header inverted\">Complete your profile</h2><h3 class=\"message-text inverted\">Get started by entering your school name.</h3></div><div class=\"right-section\"><div class=\"ui-FillProfileReminder\"></div></div></div></div>"}),deftmp("ui.dashboard.messages.GiftCardMessage",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-messages-GiftCardMessage ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"></div><div class=\"message-wrapper\"><div class=\"message-text\"><h1 class=\"inverted message-header\">Osmosis eGift Cards</h1><p class=\"inverted message-body\">Give instant access to the most powerful platform for learning medicine, or share this link with a friend or loved one still looking for gift ideas!</p></div><div class=\"button-container\"><button data-bind=\"click: eGiftCardClick\" class=\"gift-card-button inverted red button\">eGift Cards</button><button data-bind=\"click: copyLinkClick\" data-title=\"Link copied to clipboard.\" class=\"share-link inverted button left-icon copy-tip\"><i class=\"far fa-copy\"></i><span>Copy link</span></button><div class=\"gift-card-link\"><input value=\"https://www.osmosis.org/giftcard?utm_source=dashboard&amp;utm_medium=osmosis&amp;utm_campaign=gift-cards&amp;utm_content=button-2\"/></div></div></div><div class=\"right-section\"><div class=\"image\"><img src=\"/assets/images/image-assets/gift-card-image.png\"/></div></div></div></div>"}),deftmp("ui.dashboard.messages.MailingAddress",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-messages-MailingAddress ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"animation-container\"></div><div class=\"message-content-wrapper\"><div class=\"image character\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/Q_d81xFoT6i2uBlA-BRLcTHGQHmlKcQh.png\"></div><div class=\"message-wrapper\"><div class=\"message-text\"><h2 class=\"title inverted\">Nice! Looks like you have a Study Schedule set up!</h2><h3 class=\"text inverted\">Receive good vibes only in the mail around your exam date.</h3><button data-bind=\"click: openDialog\" class=\"button red inverted\">Enter my address</button><div class=\"small disclaimer\">You can always access your address from your <a href='/account'>account page.</a></div></div></div></div></div></div>"}),deftmp("ui.dashboard.messages.MatchDay",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-messages-MatchDay ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"animation-container\"></div><div class=\"message-content-wrapper\"><div class=\"ui-animations-FrameAnimation\"></div><div class=\"message-wrapper\"><div class=\"message-text\"><h3 class=\"title inverted\"><span>Merry Match Week</span><span data-bind=\"text: firstName\"></span><span>!</span></h3><p class=\"text inverted\">Spread some joy and share the good news with our Match Day eGreeting cards!</p><button data-bind=\"click: sendCardButtonClick\" class=\"button lavender inverted\">Send an eGreeting card</button></div></div><div class=\"greeting-card-options-container\"><div data-bind=\"foreach: cards\" class=\"greeting-card-options\"><div class=\"greeting-card-option\"><img data-bind=\"click: $parent.greetingCardClick($data), attr: { src: $data.src }\"/></div></div></div></div></div></div>"}),deftmp("ui.dashboard.messages.Thanksgiving",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-messages-Thanksgiving ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"icon\"></div><div class=\"image character\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/cKu0kl_YRvi3-GVxKHGQGadnSV6mFwv8/_.png\"/></div><div class=\"message-wrapper\"><div class=\"message-text\"><h1 class=\"title inverted\"><span>Happy thanksgiving </span><span data-bind=\"text: name\"></span><span>!</span></h1><h3 class=\"text inverted\">Follow that delicious dinner's journey through your gastrointestinal tract with this video.</h3><button data-bind=\"click: showTurkey\" class=\"button inverted orange\">Gobble gobble</button></div></div><div data-bind=\"click: showVideo\" class=\"video-overlay\"><div class=\"overlay\"><div class=\"play-icon\"><i class=\"fas fa-play-circle\"></i></div></div><img src=\"https://d16qt3wv6xm098.cloudfront.net/I4y2G9jyROWK2X8PQWoRkaIESoSDZxQj/_.jpg\"/></div></div></div>"}),deftmp("ui.dashboard.messages.ValentinesDay",{template:"<div data-bind=\"slideVisible: messageVisible\" class=\"ui-dashboard-messages-ValentinesDay ui-dashboard-DashboardMessage\"><div class=\"message-container\"><div data-bind=\"click: closeMessage\" class=\"close-button\"><i class=\"fas fa-times\"></i></div><div class=\"animation-container\"></div><div class=\"message-content-wrapper\"><div class=\"image character\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/MDUQF6E8TZmZltZhuhBWHhQtTNaGdq-g.png\"></div><div class=\"message-wrapper\"><div class=\"message-text\"><h2 class=\"title inverted\"><span>Happy Valentine's Week</span><span data-bind=\"text: firstName\"></span><span>!</span></h2><h3 class=\"text inverted\">Spread some joy to someone special with an Osmosis eGreeting card.</h3><button data-bind=\"click: sendCardButtonClick\" class=\"button red inverted\">Send a card</button></div></div><div class=\"greeting-card-options-container\"><div data-bind=\"foreach: cards\" class=\"greeting-card-options\"><div class=\"greeting-card-option\"><img data-bind=\"click: $parent.greetingCardClick($data), attr: { src: $data.src }\"/></div></div></div></div></div></div>"}),deftmp("ui.dialogs.AddCustomDailyGoal",{template:"<div class=\"ui-dialogs-AddCustomDailyGoal\"><form class=\"form-horizontal mtm\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Resource Type</label><div class=\"col-md-8\"><select data-bind=\"value: type\" class=\"form-control\"><option value=\"qbank\">Question Bank</option><option value=\"book\">Book</option></select></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Title</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: title\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div data-bind=\"visible: type()==&quot;book&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Page count</label><div class=\"col-md-8\"><select data-bind=\"value: bookType\" class=\"form-control\"><option value=\"pages\"># of pages</option><option value=\"range\">range of pages</option></select></div></div><div data-bind=\"visible: type()==&quot;qbank&quot; || (type()==&quot;book&quot; &amp;&amp; bookType()==&quot;pages&quot;)\" style=\"margin-bottom:10px\" class=\"form-group\"><label data-bind=\"visible: type()==&quot;qbank&quot;\" class=\"control-label col-md-4\"># of questions</label><label data-bind=\"visible: type()==&quot;book&quot;\" class=\"control-label col-md-4\"># of pages</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: number\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start page</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: startPage\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Stop page</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: stopPage\" style=\"min-width:200px\" class=\"form-control\"/></div></div></form></div>"}),deftmp("ui.dialogs.AddCustomResource",{template:"<div class=\"ui-dialogs-AddCustomResource\"><div data-bind=\"visible: mode()==&quot;query&quot;\" class=\"decision-tree\"></div><div data-bind=\"visible: mode()==&quot;finalize&quot;\" class=\"finalize\"><div>What date would you like to complete these <span class=\"fwb\" data-bind='text: count'/> <span data-bind='text: type'/> by?</div><input type=\"text\" required=\"required\" data-bind=\"value: finishBy\" style=\"width:50%; display:block\" class=\"mtm mbm form-control datepicker\"/></div></div>"}),deftmp("ui.dialogs.AddItem",{template:"<div class=\"ui-dialogs-AddItem\"><div class=\"editSpace\"></div><div class=\"fwb\">Shortcuts</div><div class=\"mlm\"><div><b>Ctrl/&#8984;+Enter</b> &nbsp;&nbsp;&nbsp; Save and advance to new card</div></div></div>"}),deftmp("ui.dialogs.AdminSwitchUser",{template:"<div class=\"ui-dialogs-AdminSwitchUser\"><form style=\"width:350px\" data-bind=\"submit: action\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">UserID/Email</label><div class=\"controls\"><input type=\"text\" required=\"required\" data-bind=\"value:loginAsUserToken\" style=\"min-width:150px\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Auth</label><div class=\"controls\"><input type=\"password\" required=\"required\" data-bind=\"value:loginAsAuth\" style=\"min-width:150px\"/></div></div><button type=\"submit\" class=\"hidden\">Submit</button></form></div>"}),deftmp("ui.dialogs.AdminUserContact",{template:"<div class=\"ui-dialogs-AdminUserContact\"><div data-bind=\"text: toField\"></div><form><div class=\"form-group\"><input type=\"text\" data-bind=\"value: subject\" class=\"form-control\"/></div></form><div class=\"message multiline noattach\"></div><div data-bind=\"foreach: templates\" class=\"templates mtm\"><div><a href=\"\" data-bind=\"text: name, click: $root.selectTemplate(name)\"></a></div></div></div>"}),deftmp("ui.dialogs.AmbassadorForm",{template:"<div class=\"ui-dialogs-AmbassadorForm\"><textarea type=\"text\" placeholder=\"Write us a short message like &quot;I think Osmosis sounds cool. Can you tell me how to use it?&quot;\" data-bind=\"value:message\" style=\"width:100%; height:200px\"></textarea></div>"}),deftmp("ui.dialogs.CalendarDialog",{template:"<div class=\"ui-dialogs-CalendarDialog\"><div class=\"ui-GroupCalendar\"></div></div>"}),deftmp("ui.dialogs.CalendarSelectDialog",{template:"<div class=\"ui-dialogs-CalendarSelectDialog\"><div class=\"ui-SelectableCalendar\"></div><div data-bind=\"visible: mode()==&quot;days&quot;\" class=\"lfloat\"><form class=\"form-inline mtm\"><div class=\"form-group\"><input type=\"text\" placeholder=\"Start Date\" data-bind=\"value: startDate\" class=\"form-control datepicker\"/></div><div class=\"form-group mls\"><input type=\"text\" placeholder=\"End Date\" data-bind=\"value: endDate\" class=\"form-control datepicker\"/></div></form></div><div class=\"rfloat\"><div data-bind=\"visible: mode()==&quot;days&quot; &amp;&amp; count()!=1\"><span data-bind='text: count'/> days selected</div><div data-bind=\"visible: mode()==&quot;days&quot; &amp;&amp; count()==1\">1 day selected</div><div data-bind=\"visible: mode()==&quot;event&quot;\">1 event selected</div></div><div class=\"clearfix\"></div></div>"}),deftmp("ui.dialogs.CategorySelect",{template:"<div class=\"ui-dialogs-CategorySelect mhl\"><div class=\"row\"><div class=\"col-md-12\"><form class=\"form-horizontal\"><div data-bind=\"foreach: categories\" class=\"form-group\"><div class=\"radio\"><label><input data-bind=\"checked: $root.selected, value: $data\" type=\"radio\" name=\"category\"/><span data-bind=\"text: $data\"></span></label></div></div><div data-bind=\"visible: selected()==&quot;Other&quot;\" class=\"form-group\"><input data-bind=\"value: other\" class=\"form-control\"/></div></form></div></div></div>"}),deftmp("ui.dialogs.ClassGroupNav",{template:"<div data-bind=\"css:{isSidebar:isSidebar}\" class=\"ui-dialogs-ClassGroupNav\"><h3 data-bind=\"visible:isSidebar\" class=\"sidebar-heading\">Your School Curriculum</h3><div data-bind=\"foreach: groups\" class=\"group-wrapper\"><div data-bind=\"visible: ($data.features &amp; 1) != 0 &amp;&amp; (!hidden() || $root.showAllGroups())\" class=\"mbm\"><div class=\"group-info\"><a data-bind=\"attr: {href: &quot;/&quot;+$data.url}\" class=\"group-name\"><i class=\"fa fa-users\"></i><span data-bind=\"text:$data.name\" class=\"mls\"></span></a></div></div></div><div data-bind=\"visible: !showAllGroups() &amp;&amp; hasHiddenActiveGroups()\" class=\"center show-all-link\"><a href=\"#\" data-bind=\"toggle: showAllGroups\">Show All Active Groups</a></div></div>"}),deftmp("ui.dialogs.ClassGroupNavDialog",{template:"<div class=\"ui-dialogs-ClassGroupNavDialog\"><div class=\"ui-dialogs-ClassGroupNav\"></div><div class=\"ui-SelectGroup\"></div></div>"}),deftmp("ui.dialogs.ContentTags",{template:"<div class=\"ui-dialogs-ContentTags\"><div data-bind=\"foreach: groups\"><div data-bind=\"text: $data.label || $data.name\" class=\"fwb\"></div><div class=\"row\"><div class=\"col-md-6\"><div data-bind=\"foreach: tags.slice(0,Math.ceil(tags.length/2))\" class=\"mlm\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: checked\"/><span data-bind=\"text: tag\"></span></label></div></div></div><div class=\"col-md-6\"><div data-bind=\"foreach: tags.slice(Math.ceil(tags.length/2),tags.length)\" class=\"mlm\"><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: checked\"/><span data-bind=\"text: tag\"></span></label></div></div></div></div></div></div>"}),deftmp("ui.dialogs.CreateGroup",{template:"<div class=\"ui-dialogs-CreateGroup\"><form role=\"form\" style=\"min-width:200px; width: 100%\" class=\"center\"><div class=\"form-group\"><textarea name=\"message\" data-bind=\"value: newGroupRequestMsg\" placeholder=\"Tell us your school name and graduation year and we'll get you set up...\" style=\"height:100px\" class=\"form-control\"></textarea></div></form></div>"}),deftmp("ui.dialogs.CreateModule",{template:"<div class=\"ui-dialogs-CreateModule\"><div class=\"ui-EditableModule\"></div></div>"}),deftmp("ui.dialogs.CreateNewSchedule",{template:"<div class=\"ui-dialogs-CreateNewSchedule\"><div class=\"center\"><h3><i class=\"fi fi-flashcards-o\"></i> Create New Schedule</h3></div><form style=\"width:100%\" class=\"form-horizontal mtl\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Schedule Name</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: scheduleName\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start Date</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: startDate\" style=\"min-width:200px\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">End Date</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: stopDate\" style=\"min-width:200px\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">First Aid Version</label><div class=\"col-md-8\"><select data-bind=\"value: scheduleVersion\" class=\"form-control\"><option value=\"2018\">2018</option><option value=\"2017\">2017</option><option value=\"2016\">2016</option></select></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Schedule Type</label><div class=\"col-md-8\"><div class=\"radio\"><label><input type=\"radio\" name=\"schedule-type\" value=\"fixed\" data-bind=\"checked: scheduleType\"/> <b>Fixed subject dates</b> (best if you have specific class exam dates)</label></div><div class=\"radio\"><label><input type=\"radio\" name=\"schedule-type\" value=\"scaled\" data-bind=\"checked: scheduleType\"/> <b>Variable subject dates</b> (best if you have a single exam several months away)</label></div></div></div></form></div>"}),deftmp("ui.dialogs.DocSearchUploader",{template:"<div class=\"ui-dialogs-DocSearchUploader\"><div class=\"main-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d4ae746ce14ceaf38b6883a0f102d270d63301c3.png\" class=\"center mtxl\"></div><div class=\"main-content\"><h3>Osmosis can read your lecture documents and notes for you</h3><p class=\"explain\">Osmosis automagically finds flashcards, questions, and concepts for your learning pleasure. Get excited!</p><div class=\"doc-search-cta\"><a data-bind=\"click:showDocUploader\" class=\"btn btn-success btn-xl main-cta\">Try It</a><a data-bind=\"click:closePopup\" class=\"tiny-text\">No thanks, magic scares me</a></div></div></div>"}),deftmp("ui.dialogs.DocWorkspaceCTA",{template:"<div class=\"ui-dialogs-DocWorkspaceCTA\"><div class=\"main-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/3f0b38f3460c53ea736504767391293952d8f399.png\" class=\"center mtxl\"></div><div class=\"main-content\"><h3>Create a workspace to save &amp; organize documents</h3><p class=\"explain\">With a workspace you can upload documents right to your calendar, review <span data-gift=\"for Kyle\">high-yield</span> concepts, take quizzes, and even highlight! </p><div class=\"doc-search-cta\"><a data-bind=\"click:mainAction\" class=\"btn btn-success btn-xl main-cta\">Yep, I need a workspace</a><a data-bind=\"click:closePopup\" class=\"tiny-text\">No thanks, efficiency isn't part of my learning style</a></div></div></div>"}),deftmp("ui.dialogs.EditEvent",{template:"<div class=\"ui-dialogs-EditEvent\"><form style=\"width=100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Title</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:event.title, valueUpdate: &quot;afterkeydown&quot;\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Instructor</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:event.instructor, valueUpdate: &quot;afterkeydown&quot;\" class=\"form-control\"/></div></div><div style=\"margin-bottom:10px\" data-bind=\"visible: event._eventID()\" class=\"form-group\"><label class=\"control-label col-md-4\"></label><div class=\"col-md-8\"><a href=\"#\" data-bind=\"click: removeEvent\" style=\"font-size:80%\">Remove Event</a></div></div></form></div>"}),deftmp("ui.dialogs.EditItem",{template:"<div class=\"ui-dialogs-EditItem\"><div class=\"editSpace\"></div></div>"}),deftmp("ui.dialogs.EditJSONData",{template:"<div class=\"ui-dialogs-EditJSONData\"><textarea style=\"width: 100%; height:200px\" data-bind=\"value: json, valueUpdate: &quot;keypress&quot;\"></textarea></div>"}),deftmp("ui.dialogs.EditNodeData",{template:"<div class=\"ui-dialogs-EditNodeData\"><div class=\"center\"><h5 class=\"fcr\">This is a low-level editing interface. Only use this if you know what you're doing.</h5></div><textarea style=\"width: 100%; height:200px\" data-bind=\"value: data, valueUpdate: &quot;keypress&quot;\"></textarea><input type=\"text\" data-bind=\"value: nodeList\"/></div>"}),deftmp("ui.dialogs.EditScheduleCustomGoal",{template:"<div class=\"ui-dialogs-EditScheduleCustomGoal\"><div data-bind=\"text: data.title\" class=\"fwb\"></div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Original Start</label><div class=\"col-md-8\"><div data-bind=\"text: origStartDate\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Amended Start</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: startDate\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Finish On</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: stopDate\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Original Total</label><div class=\"col-md-8\"><div data-bind=\"text: originalTotal\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Completed</label><div class=\"col-md-8\"><div data-bind=\"text: completed\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Remaining</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: remaining\"/></div></div></form></div>"}),deftmp("ui.dialogs.EditScreenshot",{template:"<div class=\"ui-dialogs-EditScreenshot\"><div class=\"models-concept-ImagePointHighlight\"></div><canvas style=\"cursor: default\"></canvas></div>"}),deftmp("ui.dialogs.EditTags",{template:"<div class=\"ui-dialogs-EditTags\"><div data-bind=\"foreach: tags\" style=\"width: 60%; margin-left: auto; margin-right: auto\" class=\"mvm\"><div><span data-bind=\"text: tag\"></span><span data-bind=\"click: $root.remove($data)\" class=\"close\">&times;</span></div><div class=\"clearfix\"></div></div><div data-bind=\"visible: !tags().length\" class=\"center\"><h4 class=\"fcg\">You don't have any tags yet in this deck</h4></div></div>"}),deftmp("ui.dialogs.EventEditDialog",{template:"<div class=\"ui-dialogs-EventEditDialog\"><div class=\"models-CourseEventView\"></div></div>"}),deftmp("ui.dialogs.EventImport",{template:"<div class=\"ui-dialogs-EventImport\"><div data-bind=\"visible: !from()\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\" style=\"width:50px\" class=\"center\"></div><div data-bind=\"visible: from()==&quot;google&quot;\"><div class=\"eventImportInstructions mhm\"><div data-bind=\"visible: !hasCalendars()\"><h3>Step 1</h3><div class=\"mhm\">Log into a <b>google calendar</b> that you want to import from. If your school calendar isn't currently in google calendar, try exporting from your calendar interface in iCal format and then upload that to google calendar.</div></div><div data-bind=\"visible: !hasCalendars()\"><h3>Step 2</h3><div class=\"mhm\">Come back here an click Authenticate.</div></div><div data-bind=\"visible: hasCalendars()\"><div class=\"mts\"></div></div><div data-bind=\"visible: hasCalendars\"><h3>Step 3</h3><div class=\"mhm\">Select the specific calendar to import from and range of dates.</div><form style=\"max-width:400px\" class=\"form-horizontal mtm\"><div class=\"form-group\"><label class=\"control-label col-md-4\">Calendar</label><div class=\"col-md-8\"><select style=\"min-width:150px\" data-bind=\"options:calendars, optionsCaption:&quot;Select a calendar...&quot;, optionsText:&quot;summary&quot;, optionsValue:&quot;id&quot;, value:selCalendar\" class=\"form-control\"></select><div style=\"font-size:70%\">If this isn't the google account you wanted to import from, switch accounts and then <a href=\"#\" data-bind='click: googleAuth'>re-authenticate</a>.</div></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\">Import From</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:beginDate\" style=\"min-width:150px\" class=\"datepicker dmy form-control\"/></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\">Import Until</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:endDate\" style=\"min-width:150px\" class=\"datepicker dmy form-control\"/></div></div></form></div></div></div><div data-bind=\"visible: from()==&quot;file&quot;\"><div class=\"eventImportInstructions\"><div><h3>Step 1</h3><div class=\"mhm\">Go to your school's calendar interface and export an iCal (.ics) file.</div></div><div><h3>Step 2</h3><div class=\"ui-ICalUploader\"></div></div><div><h3>Step 3</h3><div class=\"mhm\">Confirm that the events displayed are the ones you want to import.</div></div></div></div><div data-bind=\"visible: from()==&quot;url&quot;\"><div class=\"eventImportInstructions\"><div><h3>Step 1</h3><div class=\"mhm\">Go to your school's calendar interface retrieve a public facing URL (you can test if it's public facing by pasting the link into a web browser first).</div></div><div><h3>Step 2</h3><div class=\"mhm\">Once you have the url, enter it below.</div><form style=\"max-width:400px\" class=\"form-horizontal mtm\"><div class=\"form-group\"><label class=\"control-label col-md-4\">Import From</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:beginDate\" style=\"min-width:150px\" class=\"datepicker dmy form-control\"/></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\">Import Until</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:endDate\" style=\"min-width:150px\" class=\"datepicker dmy form-control\"/></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\">Import URL</label><div class=\"col-md-8\"><input type=\"text\" data-bind=\"value:iCalUrl\" style=\"min-width:150px\" class=\"form-control\"/></div></div><div class=\"form-group\"><label class=\"control-label col-md-4\"></label><div class=\"col-md-8\"><button data-bind=\"ajax: loadFromUrl\" class=\"btn btn-primary\">Load Calendar</button></div></div></form></div><div><h3>Step 3</h3><div class=\"mhm\">Confirm that the events displayed are the ones you want to import.</div></div></div></div></div>"}),deftmp("ui.dialogs.ExampleDialog",{template:"<div data-bind=\"css: dialogStyle\" class=\"ui-dialogs-ExampleDialog dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">Some fancy title goes up here</h3></div><div class=\"dialog-content\"><p>This is a pretty simple dialog</p></div><div class=\"dialog-footer\"><button class=\"button cancel\">Cancel</button><button class=\"button blue primary action\">Take an action</button></div></div>"}),deftmp("ui.dialogs.FeedbackForm",{template:"<div class=\"ui-dialogs-FeedbackForm\"><div class=\"center\"><h3>Did we miss something?</h3><h5>Add ideas, feedback, or any thoughts to send to our editors.</h5></div><div data-bind=\"visible: subject\" class=\"mbs\"><span class=\"fwb\">Subject: </span> <span data-bind='text: subject'/></div><textarea style=\"width: 100%; height:200px\" data-bind=\"value: feedback, valueUpdate: &quot;keypress&quot;\"></textarea></div>"}),deftmp("ui.dialogs.FlashcardBrowser",{template:"<div class=\"ui-dialogs-FlashcardBrowser\"><div class=\"models-resource-FactContainer mbl\"></div></div>"}),deftmp("ui.dialogs.GetPrimeDialog",{template:"<div class=\"ui-dialogs-GetPrimeDialog\"><div class=\"center\"><h2>This feature requires Osmosis Prime</h2><h3>With Osmosis Prime you:</h3></div><div><ul><li>Always know what's relevant for boards</li><li>Get 1000s of more Osmosis QBank questions</li><li>Help support Osmosis so we can keep building cool things to help you learn</li></ul></div><div class=\"center\"><div class=\"get-prime-action\"></div></div></div>"}),deftmp("ui.dialogs.GroupAddMemberDialog",{template:"<div class=\"ui-dialogs-GroupAddMemberDialog\"><div class=\"mlm\"><div class=\"mts\">To add a member by email, the user needs to have already joined Osmosis.</div><form class=\"form-inline\"><input type=\"email\" placeholder=\"Email\" data-bind=\"value: newMemberEmail\" class=\"form-control\"/><select data-bind=\"value:newMemberRole\" style=\"min-width:70px\" class=\"form-control mls\"><option value=\"1.1\">Instructor/Course Admin</option><option value=\"2.2\">Student - Admin Editor</option><option value=\"3.2\">Student - Managing Editor</option><option value=\"4.2\">Student - Regular Editor</option><option value=\"3.3\">Student - Managing Contributor</option><option value=\"4.3\">Student - Contributor</option></select></form></div></div>"}),deftmp("ui.dialogs.GroupDefaultRoleDialog",{template:"<div class=\"ui-dialogs-GroupDefaultRoleDialog\"><h2>Role Descriptions</h2><h3>Instructor/Course Admin</h3><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> has access to everything in this group</span></div><div class=\"mlm\"><div class=\"mts\"><i style=\"color: green\" class=\"fa fa-check\"></i><span> can view student analytics</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can promote anyone to this role</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify exam dates</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can create/modify modules</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify calendar events</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify documents</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify questions and resources</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can edit anyone's questions</span></div></div></div><h3>Student - Admin Editor</h3><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> helps manage course events/documents and edits other people's questions. We recommend having 1 or 2 people in this role.</span></div><div class=\"mlm\"><div class=\"mts\"><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot view student analytics</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can promote anyone to this role, but not higher</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify exam dates</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can create/modify modules</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify calendar events</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify documents</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify questions and resources</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can edit anyone's questions</span></div></div></div><h3>Student - Managing Editor</h3><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> helps upload course documents and edits other people's questions. This role is appropriate for a core team of students who will resolve comment discussions by editing a question (the role exists in case the original question author does not edit the question).</span></div><div class=\"mlm\"><div class=\"mts\"><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot view student analytics</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot change member roles</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify exam dates</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot create/modify modules</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify calendar events</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify documents</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify questions and resources</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can edit anyone's questions</span></div></div></div><h3>Student - Editor</h3><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> edits other people's questions. This role is appropriate for a core team of students who will resolve comment discussions by editing a question (the role exists in case the original question author does not edit the question), but who do not manage course document uploading.</span></div><div class=\"mlm\"><div class=\"mts\"><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot view student analytics</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot change member roles</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot add/modify exam dates</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot create/modify modules</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot add/modify calendar events</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot add/modify documents</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify questions and resources</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can edit other people's questions</span></div></div></div><h3>Student - Managing Contributor</h3><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> helps upload course documents and adds questions/resources. <i>This is the recommended role for most students on Osmosis.</i></span></div><div class=\"mlm\"><div class=\"mts\"><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot view student analytics</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot change member roles</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify exam dates</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot create/modify modules</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify calendar events</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify documents</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify questions and resources</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot edit other people's questions</span></div></div></div><h3>Student - Contributor</h3><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> creates questions and adds resources. Use this role only if you want to restrict who can upload documents.</span></div><div class=\"mlm\"><div class=\"mts\"><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot view student analytics</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot change member roles</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot add/modify exam dates</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot create/modify modules</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot add/modify calendar events</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot add/modify documents</span></div><div><i style=\"color: green\" class=\"fa fa-check\"></i><span> can add/modify questions and resources</span></div><div><i style=\"color: red\" class=\"fa fa-times\"></i><span> cannot edit other people's questions</span></div></div></div><div data-bind=\"visible: GROUP.admin\"><div class=\"mlm\"><h2>Default Role</h2></div><div class=\"mlm\"><div class=\"mts\"><i class=\"fa fa-users\"></i><span> by default, anyone who joins this group will automatically become a...</span><form style=\"width:350px\" class=\"form-horizontal mtl\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Role</label><div class=\"col-md-8\"><select data-bind=\"value:defaultRole\" style=\"min-width:70px\" class=\"form-control\"><option value=\"2.2\">Student - Admin Editor</option><option value=\"3.3\">Student - Managing Contributor</option><option value=\"4.3\">Student - Contributor</option></select></div></div></form></div></div></div><div class=\"mtl\"></div></div>"}),deftmp("ui.dialogs.GroupInspector",{template:"<div class=\"ui-dialogs-GroupInspector\"></div>"}),deftmp("ui.dialogs.ICalTimezone",{template:"<div class=\"ui-dialogs-ICalTimezone\"><div class=\"center\"><h2>Great we've loaded your calendar file.</h2><h3>Now select the <u>timezone encoding</u> of your file</h3></div><div>Please note: For each encoding-viewing timezone pair we've shown a histogram of the # of events @ a given time. Events during the day <span class=\"morning\">are in light blue</span>. In other words, one set of <span class=\"morning\">light blues</span> is probably the correct encoding. You just need to select the timezone that people using the calendar will be viewing it in.</div><div data-bind=\"foreach: suggestedTimezones\"><div><div class=\"radio\"><label><input type=\"radio\" name=\"timezoneRadio\" data-bind=\"value: $data.timezone, checked: $root.selectedTimezone\"/><span data-bind=\"html: $data.timezoneName\"></span></label></div></div><div data-bind=\"html: $data.hist\" class=\"mlm\"></div></div><div class=\"radio\"><label><input type=\"radio\" name=\"timezoneRadio\" value=\"custom\" data-bind=\"checked: selectedTimezone\"/>Custom Timezone</label></div><div data-bind=\"visible: selectedTimezone()==&quot;custom&quot;\" class=\"mtm\"><h4>Custom Timezone</h4><form accept-charset=\"utf-8\" style=\"max-width:350px\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Timezone</label><div class=\"col-md-8\"><div class=\"ui-Select timezoneSel\"></div></div></div></form></div></div>"}),deftmp("ui.dialogs.KeyboardShortcuts",{template:"<div class=\"ui-dialogs-KeyboardShortcuts\"><h3>Slide transition</h3><table><tr><td>Alt + \u2193/\u2191 or just \u2190/\u2192</td><td style=\"width:50px\"></td><td>Move slide viewer up or down</td></tr><tr><td>Shift + Enter</td><td style=\"width:50px\"></td><td>Move slide viewer down & open notes</td></tr></table><h3>Flashcard creation</h3><table><tr><td>Ctrl/Cmd + S</td><td style=\"width:50px\"></td><td>Save current flashcard</td></tr><tr><td>Ctrl/Cmd + Enter</td><td style=\"width:50px\"></td><td>Save current flashcard and open a new flashcard edit box</td></tr></table></div>"}),deftmp("ui.dialogs.LockoutDialog",{template:"<div data-bind=\"css: theme\" class=\"ui-dialogs-LockoutDialog dialog\"><div class=\"dialog-header\"><h3 data-bind=\"text: header\" class=\"header\"></h3></div><div class=\"dialog-content\"><p data-bind=\"text: message\" class=\"text\"></p></div><div class=\"dialog-footer\"><a data-bind=\"text: secondaryButton\" href=\"https://osmosis.org\" class=\"button basic\"> </a><a data-bind=\"text: primaryButton\" href=\"https://osmosis.org/plans\" class=\"button blue\"></a></div></div>"}),deftmp("ui.dialogs.MemberAnalyticsDialog",{template:"<div class=\"ui-dialogs-MemberAnalyticsDialog\"><div data-bind=\"if: !data()\" class=\"member-analytics\"><div class=\"page-styleGuide\"><div class=\"loading-spinner large\"></div></div></div><div data-bind=\"if: data()\" class=\"member-analytics\"><div class=\"member-analytics__list-wrap\"><ul class=\"member-analytics__list\"><li><div class=\"ui-b2b-MemberProfileAnalytics\"></div></li><li><div class=\"ui-b2b-MemberFlashcardAnalytics\"></div></li></ul><ul class=\"member-analytics__list\"><li><div class=\"ui-b2b-MemberVideoAnalytics\"></div></li><li><div class=\"ui-b2b-MemberQuestionAnalytics\"></div></li></ul></div></div><div class=\"ui-b2b-MemberActivity\"></div></div>"}),deftmp("ui.dialogs.MoveDeck",{template:"<div class=\"ui-dialogs-MoveDeck\"><div data-bind=\"visible: hasWorkspaces\"><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">To Workspace</label><div class=\"col-md-8\"><select type=\"text\" required=\"required\" data-bind=\"options: workspaces, optionsText: &quot;caption&quot;, optionsValue: &quot;id&quot;, value: groupID\" class=\"form-control\"></select></div></div><div style=\"margin-bottom:10px\" data-bind=\"visible: groupID\" class=\"form-group\"><label class=\"control-label col-md-4\">To Folder</label><div class=\"col-md-8\"><select type=\"text\" required=\"required\" data-bind=\"options: folders, optionsText: &quot;caption&quot;, optionsValue: &quot;id&quot;, value: moduleID\" class=\"form-control\"></select></div></div></form></div><div data-bind=\"visible: !hasWorkspaces()\"></div></div>"}),deftmp("ui.dialogs.MoveDocument",{template:"<div class=\"ui-dialogs-MoveDocument\"><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Folder</label><div class=\"col-md-8\"><div type=\"text\" required=\"required\" data-bind=\"text: event.moduleName\" class=\"fwb\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">From Event</label><div class=\"col-md-8\"><div type=\"text\" required=\"required\" data-bind=\"text: currentEvent\" class=\"fwb\"></div></div></div><div data-bind=\"visible: FEATURES.exams\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">To Event</label><div class=\"col-md-8\"><select type=\"text\" required=\"required\" data-bind=\"options: events, optionsText: &quot;caption&quot;, optionsValue: &quot;id&quot;, value: moveTo\" class=\"form-control\"></select></div></div></form><a href=\"\" data-bind=\"toggle: showingHint\" class=\"fp80\">Don't see the event you're looking for?</a><div data-bind=\"visible: showingHint\">Once a document is in a folder it can only be moved between events within that folder. If you need to move it to another folder you can try deleting it and reuploading it to a different folder.</div></div>"}),deftmp("ui.dialogs.MoveDocuments",{template:"<div class=\"ui-dialogs-MoveDocuments\"></div>"}),deftmp("ui.dialogs.PrimeFacts",{template:"<div class=\"ui-dialogs-PrimeFacts\"><div style=\"font-size: 80%\">Read these facts now. Then study the material. Then take the same facts as a quiz. Osmosis will then schedule them for spaced repetition in the app. You'll be amazed at how much you remember.</div><div style=\"font-size: 70%\">The Fine Print: These are meant to be <b>high-yield facts for the boards</b>. You should still study your course material and make flashcards for it so that you ace your block exams as well.</div><div style=\"font-size:90%\"></div><ol class=\"mtm factsDiv\"></ol></div>"}),deftmp("ui.dialogs.PrimeTrial",{template:"<div class=\"ui-dialogs-PrimeTrial\"><div class=\"wrapper\"><div class=\"message\">This feature requires an account. However, we are currently offering a 2 week free trial so you have the opportunity to try us out first. </div></div></div>"}),deftmp("ui.dialogs.QuesItemBrowser",{template:"<div class=\"ui-dialogs-QuesItemBrowser\"><h3 data-bind=\"visible: count\"><span data-bind='text: count'/> questions</h3><div class=\"list\"></div></div>"}),deftmp("ui.dialogs.QuizByCalendar",{template:"<div class=\"ui-dialogs-QuizByCalendar\"><div class=\"ui-QuizBlockByCalendar\"></div></div>"}),deftmp("ui.dialogs.QuizByDocuments",{template:"<div class=\"ui-dialogs-QuizByDocuments\"><div class=\"ui-QuizBlockByDocuments\"></div></div>"}),deftmp("ui.dialogs.QuizOverview",{template:"<div class=\"ui-dialogs-QuizOverview\"><div class=\"row\"><div class=\"sb-container col-md-12\"><div class=\"builderScoreboard\"></div><div class=\"scoreboardInfo\"><p>Estimated Time: <span data-bind=\"visible: estimatedHours() &gt; 0, text: estimatedHours\"> </span><span data-bind=\"visible: estimatedHours() &gt; 0\"> hours </span><span data-bind=\"text: estimatedTime() &gt; 0 ? estimatedTime : &quot;&lt;1&quot;\"></span><span> min.</span></p><button data-bind=\"click: showAdditionalFilters, text: !filtersVisible() ? &quot;More options&quot; : &quot;Hide options&quot;\" class=\"box button\"></button></div><div data-bind=\"visible: MID\" class=\"mtm\"><h5>Additional Filters</h5><div class=\"tagSection mtm\"><span>Tags:&nbsp;</span><div style=\"width: 300px\" class=\"ui-SelectBox tagSelect multiple\"></div></div><div data-bind=\"visible: MID\" class=\"authorSection mtm\"><span>Authors:&nbsp;</span><div style=\"width: 300px\" class=\"ui-SelectBox authorSelect multiple\"></div></div></div></div><div style=\"display:none;\" class=\"filters-container col-md-12\"><div class=\"ui-ScoreboardKey\"></div></div></div><div class=\"row\"><div class=\"modal-footer\"><div class=\"bootstrap-dialog-footer-buttons\"><div data-bind=\"click: showShareOptions, clickBubble: false\" class=\"icon-container share-button\"><i class=\"fas fa-share-alt\"></i></div><div class=\"question-count\"><div data-bind=\"text: numOfQuestions\" class=\"count\"> </div><p data-bind=\"text: questionOrFC === &quot;fc&quot; ? &quot;Flashcards&quot; : &quot;Questions&quot;\"></p></div><button data-bind=\"visible: questionOrFC === &quot;fc&quot; &amp;&amp; !hideBrowse, click: (e) =&gt; browse(e, $root.sbBuild.filterQuizPool($root.quizPool))\" class=\"footer-button button basic browse\">Browse</button><button data-bind=\"click: (e) =&gt; addToQueue(e, $root.sbBuild.filterQuizPool($root.quizPool))\" class=\"footer-button button basic add\">Save to queue</button><button data-bind=\"click: startQuiz\" class=\"footer-button button blue\">Start</button></div></div></div></div>"}),deftmp("ui.dialogs.RepetitionInterval",{template:"<div class=\"ui-dialogs-RepetitionInterval\"><div class=\"row\"><div class=\"col-md-12\"><table><tr><td></td><td class=\"col-label\">When <span style=\"color: green\" class=\"fa fa-check\"/> Correct</td><td class=\"col-label\">When <span style=\"color: red\" class=\"fa fa-times\"/> Incorrect</td></tr><tr data-bind=\"css: {active: confidence==3}\"><td class=\"row-label\">after \"I'm Sure\"</td><td><select data-bind=\"value: correct.controls.high, options: correct.repeatOptions, optionsText:&quot;name&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select></td><td><select data-bind=\"value: incorrect.controls.high, options: incorrect.repeatOptions, optionsText:&quot;name&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select></td></tr><tr data-bind=\"css: {active: confidence==2}\"><td class=\"row-label\">after \"Feeling Lucky\"</td><td><select data-bind=\"value: correct.controls.med, options: correct.repeatOptions, optionsText:&quot;name&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select></td><td><select data-bind=\"value: incorrect.controls.med, options: incorrect.repeatOptions, optionsText:&quot;name&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select></td></tr><tr data-bind=\"css: {active: confidence==1}\"><td class=\"row-label\">after \"No Clue\"</td><td><select data-bind=\"value: correct.controls.low, options: correct.repeatOptions, optionsText:&quot;name&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select></td><td><select data-bind=\"value: incorrect.controls.low, options: incorrect.repeatOptions, optionsText:&quot;name&quot;, optionsValue:&quot;value&quot;\" class=\"form-control\"></select></td></tr></table><div><div class=\"checkbox\"><label><input type=\"checkbox\" data-bind=\"checked: flaggedOnly\"/>Repeat flagged items only</label></div></div></div></div></div>"}),deftmp("ui.dialogs.SchExplanation",{template:"<div class=\"ui-dialogs-SchExplanation\"><div class=\"center\"><h1>Select the next exam you'll take</h1><p class=\"explain\">We'll tell you how best to use Osmosis for that exam</p><div class=\"panel purple\"><div data-bind=\"click: setStatus(&quot;Preclinical&quot;)\" class=\"panel-heading clickable\"><p class=\"center\">Preclinical Years - School Exam</p></div><div data-bind=\"visible: status()==&quot;Preclinical&quot;\" class=\"panel-body\"><div class=\"center\"><h3>Every school is unique - Osmosis adapts to your school's curriculum</h3><h5>Here's what you'll need (everything is under \"Preclinical coursework\"):</h5><ol><li>Set the start and end dates of your preclinical years</li><li>Upload a school calendar (see the \"Edit Group Calendar\" button)</li><li>Add your school exam dates (see \"Edit Exam Schedule\")</li><li>Upload course docs as you receive them</li></ol></div></div></div><div class=\"panel red\"><div data-bind=\"click: setStatus(&quot;Step1&quot;)\" class=\"panel-heading clickable\"><p class=\"center\">USMLE Step 1</p></div><div data-bind=\"visible: status()==&quot;Step1&quot;\" class=\"panel-body\"><div class=\"center\"><h3>Osmosis can create an automated study schedule for Step 1</h3><h5>Here's what you'll need to do (everything is under \"USMLE Step 1\"):</h5><ol><li>Set the start and end dates of when you want to start studying and when you'll take Step 1</li><li>(optional) Modify the dates or topics to fit your own custom schedule if you'd prefer something different than what Osmosis automatically sets</li></ol></div></div></div><div class=\"panel blue\"><div data-bind=\"click: setStatus(&quot;Clinical&quot;)\" class=\"panel-heading clickable\"><p class=\"center\">Clinical Years - Shelf/Block Exams</p></div><div data-bind=\"visible: status()==&quot;Clinical&quot;\" class=\"panel-body\"><div class=\"center\"><h3>Osmosis can create an automated study schedule for your rotations</h3><h5>Here's what you'll need to do:</h5><ol><li>Set the start and end dates of each core clerkship.</li><li>Set the topic, start, and end dates for each elective or subinternship.</li></ol></div></div></div><div class=\"panel green\"><div data-bind=\"click: setStatus(&quot;Step2&quot;)\" class=\"panel-heading clickable\"><p class=\"center\">USMLE Step 2</p></div><div data-bind=\"visible: status()==&quot;Step2&quot;\" class=\"panel-body\"><div class=\"center\"><h3>Osmosis can create an automated study schedule for Step 2</h3><h5>Here's what you'll need to do (everything is under \"USMLE Step 2\"):</h5><ol><li>Set the start and end dates of when you want to start studying and when you'll take Step 2</li><li>(optional) Modify the dates or topics to fit your own custom schedule if you'd prefer something different than what Osmosis automatically sets</li></ol></div></div></div></div></div>"}),deftmp("ui.dialogs.SchoolDemo",{template:"<div class=\"ui-dialogs-SchoolDemo\"><form method=\"post\" class=\"form-horizontal\"><input type=\"text\" name=\"email\" data-bind=\"value: email\" placeholder=\"Your Email Address...\" class=\"form-control\"/><input type=\"text\" name=\"subject\" data-bind=\"value: subject\" placeholder=\"Subject...\" style=\"margin-top:10px\" class=\"form-control\"/><textarea type=\"text\" data-bind=\"attr:{placeholder: placeholder}, value:message\" style=\"width:100%; height:200px\" class=\"form-control\"></textarea></form></div>"}),deftmp("ui.dialogs.SendEmailDialog",{template:"<div class=\"ui-dialogs-SendEmailDialog\"><div class=\"templateSubject\"><span class=\"fwb\">Subject&nbsp;</span><span data-bind=\"html:templateSubject\"></span></div><div data-bind=\"html:templatePreview\" class=\"templatePreview\"></div></div>"}),deftmp("ui.dialogs.ShareDialog",{template:"<div class=\"ui-dialogs-ShareDialog\"><div data-bind=\"click:closeDialog\" class=\"bg-overlay\"></div><div class=\"modal-box\"><div class=\"title\">Help a friend learn, share this deck</div><div data-bind=\"click:updateShareType(&quot;link&quot;), css:{selected:radioType()==&quot;link&quot;}\" class=\"link-share share-type\"><div class=\"radio-select\"></div><div class=\"dropdown-section\"><div data-bind=\"click:toggleLinkDropdown\" class=\"current\">Anyone with this link can <strong data-bind=\"html:linkPermissionMsg\"></strong>. <i class='fa fa-caret-down' /></div><div data-bind=\"visible:linkDropdownVisible\" class=\"dropdown\"><div data-bind=\"click:updatePermission(&quot;view&quot;)\" class=\"option\">Anyone with this link can <strong>view the deck</strong></div><div data-bind=\"click:updatePermission(&quot;edit&quot;)\" class=\"option\">Anyone with this link can <strong>edit the deck</strong></div></div><div class=\"copy\"><span>Copy link</span></div></div><div class=\"the-link\"><span data-bind=\"html:shareURL\"></span></div><div class=\"social-media\"><span class=\"msg\">Share on social media</span><i class=\"fab fa-facebook-square\"></i><i class=\"fa fa-twitter\"></i></div></div><div data-bind=\"click:updateShareType(&quot;email&quot;),css:{selected:radioType()==&quot;email&quot;}\" class=\"email-share share-type\"><div class=\"radio-select\"></div><input type=\"text\" value=\"\" placeholder=\"Type an email to share\"/><div data-bind=\"click:emailShare\" class=\"submit\">Send email</div></div><div data-bind=\"click:updateShareType(&quot;group&quot;),css:{selected:radioType()==&quot;group&quot;}\" class=\"group-share share-type\"><div class=\"radio-select\"></div><div class=\"workspace\"><div class=\"the-label\">Share in workspaces</div><select class=\"form-control\"><option>Workspace 1</option><option>Workspace 2</option><option>Ross Med 2018</option></select><div class=\"folders\"><div class=\"the-label\">Shared Decks Folder (by module)</div><select class=\"form-control\"><option>Folder 1</option><option>Cardio Module</option><option>Renal Exam</option></select><div class=\"submit\"><span>Share to workspace  </span></div></div></div></div></div></div>"}),deftmp("ui.dialogs.SignupDialog",{template:"<div class=\"ui-dialogs-SignupDialog dialog-container\"><div class=\"signup-modal-wrapper dialog\"><i data-bind=\"visible: !lockout(), css: { dark: signupVisible }\" class=\"dialog-close\"></i><div data-bind=\"slideVisible: !signupVisible()\" class=\"cta-space\"><div class=\"registration-wall-message\"><div class=\"registration-wall-header-wrapper\"><div class=\"image\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/IzP9Sm-mQZuls0vZavgmUxmkSQqUGLG4/_.png\"/></div><div class=\"header-container\"><h2 data-bind=\"text: characterMessage\" class=\"inverted header\"></h2><div class=\"arrow-left\"></div></div></div><div class=\"registration-wall-text-wrapper\"><p data-bind=\"html: primaryMessage\" class=\"text\"></p></div><div class=\"registration-wall-button-wrapper\"><button data-bind=\"click: showSignup\" class=\"create-free-account-button blue button\">Create free account</button></div><div class=\"registration-wall-sign-in\"><span>Already have an account? </span><a data-bind=\"click: signInClick\" class=\"sign-in\">Sign in</a></div><div class=\"registration-wall-more-info-container\"><div class=\"link-container\"><a data-bind=\"click: showMoreInfo\" class=\"more-info\">What's included?</a></div><div data-bind=\"slideVisible: moreInfoVisible\" class=\"registration-wall-more-info\"><ul class=\"list\"><li>A <b>personalized study schedule</b> to keep you organized and on track.</li><li>Over 1000 videos, including <b>complete coverage</b> of pathology and physiology.</li><li>Thousands of pre-made <b>flashcards</b>\u2014powered by <b>spaced repetition</b>\u2014to test your knowledge.</li><li>Thousands of <b>clinical case questions</b> written and reviewed by experts in health and medicine.</li><li>Android and iOS <b>mobile apps</b> so you can Osmose anywhere.</li></ul></div></div></div></div><div data-bind=\"slideVisible: signupVisible\" class=\"signup-space\"><div class=\"ui-SimpleLoginBox\"></div></div></div><div data-bind=\"visible: !lockout()\" class=\"background dialog-close\"></div></div>"}),deftmp("ui.dialogs.Step1DatePrompt",{template:"<div class=\"ui-dialogs-Step1DatePrompt\"><div data-bind=\"html: message\"></div><div class=\"fp80\"><b>Note:</b> you might have to manually edit your schedule next if your changes are significant</div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-12 mtm\"><input type=\"text\" required=\"required\" data-bind=\"value:value\" class=\"form-control datepicker\"/></div></div></form></div>"}),deftmp("ui.dialogs.Step1TimelineEditor",{template:"<div class=\"ui-dialogs-Step1TimelineEditor\"><div class=\"modes\"><div data-bind=\"visible: hasEarlyTimeline, click:changeMode(&quot;class&quot;), css:{&quot;active&quot;:mode()==&quot;class&quot;}\" class=\"class mode-item\"><span>Pre-dedicated</span></div><div data-bind=\"click:changeMode(&quot;dedicated&quot;), css:{&quot;active&quot;:mode()==&quot;dedicated&quot;}\" class=\"dedicated mode-item\"><span>Dedicated</span></div></div><div class=\"free-days\"><div data-bind=\"visible:mode()==&quot;class&quot;, css: {error: classFreeDays()&lt;0}\" class=\"class\"><span>Pre-dedicated:&nbsp;</span><span data-bind=\"html:classFreeDays\" class=\"count\"></span><span data-bind=\"visible: classFreeDays()==1\">&nbsp;unscheduled day</span><span data-bind=\"visible: classFreeDays()!=1\">&nbsp;unscheduled days</span></div><div data-bind=\"visible:mode()==&quot;dedicated&quot;, css: {error: dedicatedFreeDays()&lt;0}\" class=\"dedicated\"><span>Dedicated:&nbsp;</span><span data-bind=\"html:dedicatedFreeDays\" class=\"count\"></span><span data-bind=\"visible: dedicatedFreeDays()==1\">&nbsp;unscheduled day</span><span data-bind=\"visible: dedicatedFreeDays()!=1\">&nbsp;unscheduled days</span></div></div><div class=\"pill-section\"> <ul class=\"nav nav-pills\"><li data-bind=\"visible: mode()==&quot;class&quot;, css: {active: tab()==&quot;pre-dedicated&quot;}\"><a href=\"#\" data-bind=\"click: setTab(&quot;pre-dedicated&quot;)\">Pre-dedicated</a></li><li data-bind=\"visible:mode()==&quot;dedicated&quot;, css: {active: tab()==&quot;dedicated-1st&quot;}\"><a href=\"#\" data-bind=\"click: setTab(&quot;dedicated-1st&quot;)\"><span>1st Dedicated Pass</span></a></li><li data-bind=\"visible:mode()==&quot;dedicated&quot;, css: {active: tab()==&quot;dedicated-2nd&quot;}\"><a href=\"#\" data-bind=\"click: setTab(&quot;dedicated-2nd&quot;)\">2nd Pass</a></li><li data-bind=\"visible:mode()==&quot;dedicated&quot;, css: {active: tab()==&quot;exams&quot;}\"><a href=\"#\" data-bind=\"click: setTab(&quot;exams&quot;)\">Exam Days</a></li><li data-bind=\"css: {active: tab()==&quot;days-off&quot;}\"><a href=\"#\" data-bind=\"click: setTab(&quot;days-off&quot;)\">Days Off</a></li></ul></div><div class=\"mode-panels\"><div data-bind=\"visible: tab()==&quot;pre-dedicated&quot;\" class=\"pre-dedicated\"></div><div data-bind=\"visible: tab()==&quot;dedicated-1st&quot;\" class=\"first-pass\"></div><div data-bind=\"visible: tab()==&quot;dedicated-2nd&quot;\" class=\"second-pass\"></div><div data-bind=\"visible: tab()==&quot;exams&quot;\" class=\"exams\"><div class=\"practice-exams\"><h4>Practice Exams<a href=\"\" data-bind=\"click: addPracticeExam\" style=\"font-size: 70%\" class=\"mls\">Add</a></h4><div data-bind=\"foreach: exams\"><div class=\"exam-wrapper\"><div class=\"title\"><span data-bind=\"text:name\" class=\"the-name\"></span><span data-bind=\"text:&quot; Form &quot;+form\" class=\"the-form\"></span></div><div class=\"exam-date\"><div data-bind=\"visible:!editing()\"><span data-bind=\"text:day\" class=\"the-day\"></span><span class=\"sep\">&nbsp;</span><span data-bind=\"text:date\" class=\"the-date\"></span></div><div data-bind=\"visible:editing\"><input type=\"text\" placeholder=\"Set date for exam\" data-bind=\"value: editdate\" class=\"datepicker\"/></div></div><div data-bind=\"visible:!editing()\" class=\"actions\"><a href=\"\" data-bind=\"toggle: editing\" class=\"fp80\">Edit</a><span>&nbsp;</span><a href=\"\" data-bind=\"click: $root.removeExam($data)\" class=\"fp80\">Remove</a></div><div data-bind=\"visible: editing\" class=\"action mts\"><button href=\"\" data-bind=\"ajax: $root.saveExamEdits($data)\" class=\"btn btn-primary btn-sm mrs\">Save</button><button href=\"\" data-bind=\"toggle: editing\" class=\"btn btn-default btn-sm\">Cancel</button></div></div></div></div></div><div data-bind=\"visible: tab()==&quot;days-off&quot;\" class=\"off-days\"><div class=\"models-scheduleClassic-DaysOffEditor\"></div></div></div></div>"}),deftmp("ui.dialogs.StudyModes",{template:"<div class=\"ui-dialogs-StudyModes\"><div class=\"center\"><h4>Osmosis will make you a more efficient learner.</h4><h5>But you don't have to change your study habits overnight.</h5><h5>Osmosis lets you take it step by step.</h5></div><h3 style=\"margin-top: 40px\">Beginner Study Techniques</h3><div class=\"mll\"><div class=\"mvm\">Beginner techniques are straightforward and can easily be integrated into your existing study habits.</div><div class=\"fwb\">Core Features</div><ul><li>Answer multiple choice questions</li><li>Track your progress and see how you compare to other med students</li></ul><div class=\"fwb\">Tools to Explore</div><div style=\"border-bottom: 0; min-width: 500px;\" class=\"row smpl-step mtl\"><div class=\"smpl-step-step col-xs-5 completed\"><div class=\"text-center smpl-step-num\">Question Banks</div><a class=\"smpl-step-icon\"><i style=\"font-size: 50px; color: black; padding-left: 14px; padding-top: 10px\" class=\"fa fa-question-circle\"></i></a><div class=\"smpl-step-info text-center\"></div></div><div class=\"smpl-step-step col-xs-5 completed\"><div class=\"text-center smpl-step-num\">Study History</div><a class=\"smpl-step-icon\"><i style=\"font-size: 50px; color: black; padding-left: 14px; padding-top: 10px\" class=\"fa fa-history\"></i></a><div class=\"smpl-step-info text-center\"></div></div></div></div><h3 style=\"margin-top: 80px\">Intermediate Study Techniques</h3><div class=\"mll\"><div class=\"mvm\">Intermediate techniques are powerful tools that most people aren't even aware they need until they start using them every day. It's well worth it to integrate these tools into your study habits</div><div class=\"fwb\">Core Features</div><ul><li>Spaced repetition to keep foundational knowledge in your head over several months</li><li>High-yield flashcards and references to First Aid</li></ul><div class=\"fwb\">Tools to Explore</div><div style=\"border-bottom: 0; min-width: 500px;\" class=\"row smpl-step mtl\"><div class=\"smpl-step-step col-xs-5 completed\"><div class=\"text-center smpl-step-num\">High-yield Facts</div><a class=\"smpl-step-icon\"><i style=\"font-size: 50px; color: black; padding-left: 9px; padding-top: 7px\" class=\"fa fa-search\"></i></a><div class=\"smpl-step-info text-center\"></div></div><div class=\"smpl-step-step col-xs-5 completed\"><div class=\"text-center smpl-step-num\">Daily Schedule</div><a class=\"smpl-step-icon\"><i style=\"font-size: 50px; color: black; padding-left: 12px; padding-top: 10px\" class=\"fa fa-calendar\"></i></a><div class=\"smpl-step-info text-center\"></div></div></div></div><h3 style=\"margin-top: 50px\">Expert Study Techniques</h3><div class=\"mll\"><div class=\"mvm\">Expert techniques have a slight learning curve, but when used properly they dramatically reduce your study time and increase retention.</div><div class=\"fwb\">Core Features</div><ul><li>Sync everything you're studying in class to Osmosis so that your board prep and school prep are one in the same</li><li>Automatic fact recommendations right before you study a document so your brain is \"primed\" for what's important</li><li>Pair studying via flashcard and question sharing to divide and conquer a course and <b>reduce the hours you spend studying each lecture</b></li></ul><div class=\"fwb\">Tools to Explore</div><div style=\"border-bottom: 0; min-width: 500px;\" class=\"row smpl-step mtl\"><div class=\"smpl-step-step col-xs-5 completed\"><div class=\"text-center smpl-step-num\">Study Modules</div><a class=\"smpl-step-icon\"><i style=\"font-size: 50px; color: black; padding-left: 9px; padding-top: 11px\" class=\"fa fa-users\"></i></a><div class=\"smpl-step-info text-center\"></div></div></div></div><div style=\"width: 1px; height: 30px\"></div></div>"}),deftmp("ui.dialogs.StudyModuleSelect",{template:"<div class=\"ui-dialogs-StudyModuleSelect\"><h5>Modules from <span data-bind='text: navData.group.name'/></h5><div class=\"moduleSelect multiple\"></div></div>"}),deftmp("ui.dialogs.ToolSelector",{template:"<div data-bind=\"foreach: statesArray\" class=\"ui-dialogs-ToolSelector\"><h3 data-bind=\"text: name\"></h3><p data-bind=\"visible: tools().length, html: placeholderText\" class=\"help-text\"></p><div data-bind=\"visible: !tools().length, html: placeholderText\" class=\"empty-state\"></div><div data-bind=\"foreach: tools, value: $index, css: {placeholder: !tools().length}\" class=\"tool-droppable\"><div class=\"tool-draggable\"><div class=\"icon-container\"><i style=\"color: #E6E6E6\" class=\"fas fa-grip-vertical\"></i><i data-bind=\"css: icon, style: {color: $root.getColor(theme)}\" class=\"tool-icon\"></i></div><h3 data-bind=\"html: title, style: {color: $root.getColor(theme)}\"></h3><p data-bind=\"html: subtitle\" class=\"tool-subtitle\"></p><div class=\"icon-container\"><i data-bind=\"click: () =&gt; $root.hideItem($data)\" class=\"fas fa-times\"></i></div></div></div><div data-bind=\"visible: $index() &lt; 2\" class=\"divider\"></div></div>"}),deftmp("ui.dialogs.UserAnalytics",{template:"<div class=\"ui-dialogs-UserAnalytics\"><div class=\"ui-stats-AnalyticsDashboard\"></div></div>"}),deftmp("ui.dialogs.emailTemplates",{template:"<div class=\"ui-dialogs-emailTemplate\"><div class=\"user-answered-ques-and-course-docs\"><div>&nbsp;&nbsp;\nJust wanted to see how things were going with Osmosis Prime and also say thanks for supporting Osmosis!\n It looks like you're off to a great start with the question packs and doc uploading. Because the web platform\n is new, we wanted to see if you had any feedback or if you have any questions about how it works. Here are a few\n features we've added since you've joined based on the feedback we've received:</div><br/><ul><li><b>Searching for a topic to get high yield fact flashcards from the main screen</b>\n This lets you find high-yield material even without docs. But, uploading docs is still much better\n because it gives more specific results by considering the context of the term rather than a term by itself. Check it out at https://www.osmosis.org</li><li><b>Answering app question packs on the web platform with links to high-yield facts</b>\n In addition to answering Prime questions in the app, you can now answer Prime questions\n on the web platform and get links to the wikipedia articles and high-yield fact flashcards. Check it out at https://www.osmosis.org/qbanks/packs</li><li><b>Fact flashcards in the app (coming soon)</b>\n Currently Osmosis recommends push with questions, but soon we'll be pushing out fact\n flashcards based on the documents you upload or searches you do.</li></ul><br/><div>&nbsp;&nbsp;\n Because Prime is only a few weeks old, we're incorporating a lot of the feedback we receive now\n into the final version so it's a great time to let us know how we could make it more helpful.\n Looking forward to hearing your thoughts!</div><br/><div>Best,</div></div><div class=\"user-answered-ques-but-NO-course-docs\"><div>&nbsp;&nbsp;\n Just wanted to see how things were going with Osmosis Prime and also say thanks for supporting Osmosis!\n It looks like you're off to a good start with the question packs. Because the web platform\n is new, we wanted to see if you had any feedback or if you have any questions about how it works. Here are a few\n features we've added since you've joined based on the feedback we've received:</div><br/><ul><li><b>Searching for a topic to get high yield fact flashcards from the main screen</b>\n This lets you find high-yield material even without docs. But, uploading docs is still much better\n because it gives more specific results by considering the context of the term rather than a term by itself. Check it out at https://www.osmosis.org</li><li><b>Answering app question packs on the web platform with links to high-yield facts</b>\n In addition to answering Prime questions in the app, you can now answer Prime questions\n on the web platform and get links to the wikipedia articles and high-yield fact flashcards. Check it out at https://www.osmosis.org/qbanks/packs</li></ul><br/><div>&nbsp;&nbsp;\n Please let us know if you need any help getting started with course doc uploading. While search works well for finding general facts on topics,\n Prime's recommendation engine helps narrow things down to what you're actually studying.</div><br/><div>Best,</div></div><div class=\"user-has-done-nothing\"><div>&nbsp;&nbsp;\n Just wanted to see how things were going with Osmosis Prime and also say thanks for supporting Osmosis!\n Please let us know if you have any questions on how to get started. There are a ton of features on Osmosis\n so it can be overwhelming at first. That's why we're here to help!</div><br/><div>&nbsp;&nbsp;\n Here are a couple of features that will help you get started quickly:</div><br/><ul><li><b>Searching for a topic to get high yield fact flashcards from the main screen</b>\n This lets you find high-yield material even without docs. Uploading course docs is still much better\n because it gives more specific results by considering the context of the term rather than a term by itself. Check it out search at https://www.osmosis.org</li><li><b>Answering app question packs on the web platform with links to high-yield facts</b>\n In addition to answering Prime questions in the app, you can now answer Prime questions\n on the web platform and get links to the wikipedia articles and high-yield fact flashcards. Check it out at https://www.osmosis.org/qbanks/packs</li></ul><br/><div>&nbsp;&nbsp;\n Please let us know if you need any help or have any feedback on what could make the platform more useful to you.\n Looking forward to hearing from you!</div><br/><div>Best,</div></div></div>"}),deftmp("ui.dialogs.learn.PrimeLockoutDialog",{template:"<div class=\"ui-dialogs-learn-PrimeLockoutDialog dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-content\"><div class=\"models-learn-sections-PrimeLockOverlay\"></div></div></div>"}),deftmp("ui.dialogs.learn.VisitorType",{template:"<div class=\"ui-dialogs-learn-VisitorType\"><div data-bind=\"css: dialogStyle\" class=\"dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">Hey, what type of learner are you?</h3></div><div class=\"dialog-content\"><div data-bind=\"foreach: { data: options, as: &quot;option&quot; }\" class=\"options\"><div data-bind=\"click: function(data, event) { $parent.selectOption($parent, option); }, css: { selected: option.selected }\" class=\"option-container\"><div class=\"option-image\"><img data-bind=\"attr: { src: option.src }\"></div><h3 data-bind=\"text: option.name\" class=\"option-text\"></h3></div></div></div></div></div>"}),deftmp("ui.dialogs.mailingAddress",{template:"<div data-bind=\"css: dialogStyle\" class=\"ui-dialogs-mailingAddress\"><i class=\"dialog-close button\"></i><div class=\"dialog-content\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/_974MEKwTnit80Ae6nmYeyIMQNG4Exez.png\" class=\"mailbox\"><div class=\"mail-form\"><h2>Receive good luck wishes</h2><p>Enter your mailing address below to recieve <strong>good luck wishes</strong> from the Osmosis team before big milestones, like exams! </p><form><div class=\"text-input\"><label>Shipping Address</label><input id=\"addressInput\" placeholder=\"123 Osmosis Lane\" data-bind=\"value: address\"/></div><div class=\"flexed-inputs\"><div class=\"text-input city-input\"><input placeholder=\"City\" data-bind=\"value: city\"/></div><div class=\"text-input\"><input placeholder=\"State\" data-bind=\"value: state\"/></div><div class=\"text-input\"><input placeholder=\"Zip\" data-bind=\"value: zip\"/></div></div><div class=\"note\"><div class=\"fas fa-birthday-cake\"></div><p>No spam, only well-wishes on special occasions.</p></div></form></div></div><div data-bind=\"visible: asDialog\" class=\"dialog-footer\"><button class=\"button cancel\">No thanks</button><button data-bind=\"disable: data.loading\" class=\"button blue primary action\">Submit</button></div></div>"}),deftmp("ui.dialogs.schedule.AddCustomDailyGoal",{template:"<div data-bind=\"fadeVisible: dialogVisible, fadeDirection: &quot;up&quot;\" class=\"ui-dialogs-schedule-AddCustomDailyGoal dialog\"><i data-bind=\"click: toggleDialog\" class=\"dialog-close button\"></i><div class=\"dialog-content\"><h3 class=\"dialog-header\">Add Custom Daily Goal</h3><label><span>Resource Type</span><div class=\"resource-dropdown\"></div></label><div class=\"text-input\"><label for=\"add-custom-daily-goal-title\">Title</label><input id=\"add-custom-daily-goal-title\" type=\"text\" required=\"required\" data-bind=\"value: title\"/></div><span data-bind=\"visible: type()==&quot;book&quot;\"><label><span>Page count</span><div class=\"page-count-dropdown\"></div></label></span><div data-bind=\"visible: type()==&quot;qbank&quot; || type()==&quot;video&quot; || (type()==&quot;book&quot; &amp;&amp; bookType()==&quot;pages&quot;)\" class=\"text-input\"><label for=\"add-custom-daily-goal-number\" data-bind=\"visible: type()==&quot;qbank&quot;\"># of questions</label><label for=\"add-custom-daily-goal-number\" data-bind=\"visible: type()==&quot;video&quot;\"># of videos</label><label for=\"add-custom-daily-goal-number\" data-bind=\"visible: type()==&quot;book&quot;\"># of pages</label><input id=\"add-custom-daily-goal-number\" type=\"text\" required=\"required\" data-bind=\"value: number\"/></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" class=\"text-input\"><label for=\"add-custom-daily-goal-start-page\">Start page</label><input id=\"add-custom-daily-goal-start-page\" type=\"text\" required=\"required\" data-bind=\"value: startPage\"/></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" class=\"text-input\"><label for=\"add-custom-daily-goal-stop-page\">Stop page</label><input id=\"add-custom-daily-goal-stop-page\" type=\"text\" required=\"required\" data-bind=\"value: stopPage\"/></div></div><div class=\"dialog-footer\"><button data-bind=\"click: toggleDialog\" class=\"button\">Cancel</button><button data-bind=\"click: save\" class=\"button blue\">Add Custom Goal</button></div></div>"}),deftmp("ui.dialogs.schedule.AddCustomResource",{template:"<div class=\"ui-dialogs-schedule-AddCustomResource\"><div data-bind=\"visible: mode()==&quot;query&quot;\" class=\"decision-tree\"></div><div data-bind=\"visible: mode()==&quot;finalize&quot;\" class=\"finalize\"><div>What date would you like to complete these <span class=\"fwb\" data-bind='text: count'/> <span data-bind='text: type'/> by?</div><div class=\"text-input\"><input type=\"text\" required=\"required\" data-bind=\"value: finishBy\" style=\"width:50%; display:block\" class=\"datepicker\"/></div></div></div>"}),deftmp("ui.dialogs.schedule.CustomGoalSelect",{template:"<div data-bind=\"css: dialogStyle\" class=\"ui-dialogs-schedule-CustomGoalSelect dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 class=\"header\">How do you want your new custom goal setup?</h3></div><div class=\"dialog-content\"><div class=\"radio-alt-input\"><label data-bind=\"click: select(&quot;today&quot;)\" class=\"option\"><input type=\"radio\" name=\"today\" value=\"today\"/><div class=\"checkmark\"><p class=\"text\">Add task only for today</p></div></label><label data-bind=\"click: select(&quot;repeat&quot;)\" class=\"option\"><input type=\"radio\" name=\"repeat\" value=\"repeat\"/><div class=\"checkmark\"><p class=\"text\">Add a goal to complete over several days</p></div></label></div></div><div class=\"dialog-footer\"><button class=\"button cancel\">Cancel</button></div></div>"}),deftmp("ui.dialogs.schedule.EditScheduleCustomResource",{template:"<div class=\"ui-dialogs-schedule-EditScheduleCustomResource\"><div data-bind=\"text: data.title\" class=\"fwb\"></div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start Date</label><div class=\"col-md-8\"><div data-bind=\"text: origStartDate\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Finish On</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: stopDate\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Original Total</label><div class=\"col-md-8\"><div data-bind=\"text: originalTotal\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Completed</label><div class=\"col-md-8\"><div data-bind=\"text: completed\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Remaining</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: remaining\"/></div></div></form></div>"}),deftmp("ui.dialogs.schedule.ScheduleSettings",{template:"<div data-bind=\"fadeVisible: isVisible\" class=\"ui-modals-BaseModal ui-dialogs-schedule-ScheduleSettings\"><div class=\"osm-background\"></div><div class=\"osm-modal schedules-modal\"><div class=\"schedule-select\"></div><div class=\"settings-panel\"><div class=\"header-bar\"><div data-bind=\"css: {expanded: sidebarExpanded}, click: function() { sidebarExpanded(!sidebarExpanded())}\" class=\"fas fa-chevron-right fa-fw expander\"></div><div class=\"title\">Settings</div><div data-bind=\"click:cancel\" class=\"close-panel\"><i class=\"fas fa-times\"></i></div></div><div data-bind=\"css: {selection: noScheduleSelected}\" class=\"main-section\"><div data-bind=\"visible:noScheduleSelected\" class=\"select-schedule\"><h4>Select a schedule</h4></div><div data-bind=\"css: {expanded: sidebarExpanded, selection: noScheduleSelected}\" class=\"sidebar\"><div class=\"schedules-list\"><div data-bind=\"foreach:schedulesList\" class=\"the-list\"><div data-bind=\"css:{active:$root.activeScheduleID() == scheduleID}\" class=\"list-item\"><div data-bind=\"click:$root.handleScheduleClick($data.scheduleID)\" class=\"label-section\"><div data-bind=\"html:name\" class=\"name\"></div><div data-bind=\"html:dateRange\" class=\"date-range\"></div></div><div data-bind=\"foreach:tabs, visible:!$root.isPending()\" class=\"tabs-section\"><div data-bind=\"css:{active:$root.activeTab()==name}, click:$root.handleTabClick($data)\" class=\"tab-item\"><div data-bind=\"html:label\" class=\"the-label\"></div><div data-bind=\"visible: name === &quot;rebalance&quot;\" class=\"new-tab-indicator\">New</div><i class=\"fas fa-chevron-right\"></i></div></div></div></div><div data-bind=\"foreach: newSchedulesList\" class=\"the-new-list\"><div data-bind=\"css:{active:$root.activeScheduleID() == scheduleID}\" class=\"list-item\"><div data-bind=\"click:$root.handleScheduleClick($data.scheduleID)\" class=\"label-section\"><div data-bind=\"html: name() ? name() : &quot;New Schedule&quot;\" class=\"name\"></div><div data-bind=\"html:dateRange\" class=\"date-range\"></div></div><div data-bind=\"foreach: tabs, visible:!$root.isPending()\" class=\"tabs-section\"><div data-bind=\"css:{active:active}, click:$root.handleTabClick($data)\" class=\"tab-item\"><div data-bind=\"html:label\" class=\"the-label\"></div><i class=\"fas fa-chevron-right\"></i></div></div></div></div></div><div class=\"bottom-actions\"><div class=\"action-item\">Need help? <a href='' data-bind='click: askIntercom'>Ask us.</a></div></div></div><div data-bind=\"css: {empty: noScheduleSelected}\" class=\"content\"><div data-bind=\"visible:availableDaysVisible, css:{positive:availableDays()&gt;0, danger:availableDays()&lt;0}\" class=\"notification-section\"><div class=\"available-days\"><div class=\"alert-dot\"><i data-bind=\"css:{&quot;fa-bell&quot;:availableDays()&lt;0,&quot;fa-thumbs-up&quot;:availableDays()&gt;0}\" class=\"fas\"></i></div><div class=\"msg\"><span data-bind=\"html:availableDaysMsg\"></span></div></div></div><div class=\"tabs-content\"><div data-bind=\"visible: activeTab() === &quot;setup&quot;\" class=\"setup tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;settings&quot; &amp;&amp; !isPending()\" class=\"settings tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;daysOff&quot; &amp;&amp; !isPending()\" class=\"daysOff tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;exams&quot; &amp;&amp; !isPending()\" class=\"exams tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;resources&quot; &amp;&amp; !isPending()\" class=\"resources tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;topics&quot; &amp;&amp; !isPending()\" class=\"topics tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;rebalance&quot; &amp;&amp; !isPending()\" class=\"rebalance tab-content\"></div><div data-bind=\"visible:isPending\" class=\"empty-schedule tab-content\"></div><div data-bind=\"visible: activeTab() === &quot;invalidSchedule&quot;\" class=\"invalid-schedule tab-content\"></div></div><div data-bind=\"css: {expanded: MQL.ObservableMobile() &amp;&amp; sidebarExpanded()}\" class=\"action-section\"><button data-bind=\"ajax: save, enable: hasChanges\" class=\"green button action save\">Save changes</button></div></div></div></div></div></div>"}),deftmp("ui.dialogs.schedule-old.AddCustomDailyGoal",{template:"<div class=\"ui-dialogs-schedule-old-AddCustomDailyGoal\"><form data-bind=\"style=&quot;width:500px&quot;\" class=\"form-horizontal mtm\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Resource Type</label><div class=\"col-md-8\"><select data-bind=\"value: type\" class=\"form-control\"><option value=\"qbank\">Question Bank</option><option value=\"book\">Book</option><option value=\"video\">Video</option></select></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Title</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: title\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div data-bind=\"visible: type()==&quot;book&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Page count</label><div class=\"col-md-8\"><select data-bind=\"value: bookType\" class=\"form-control\"><option value=\"pages\"># of pages</option><option value=\"range\">range of pages</option></select></div></div><div data-bind=\"visible: type()==&quot;qbank&quot; || type()==&quot;video&quot; || (type()==&quot;book&quot; &amp;&amp; bookType()==&quot;pages&quot;)\" style=\"margin-bottom:10px\" class=\"form-group\"><label data-bind=\"visible: type()==&quot;qbank&quot;\" class=\"control-label col-md-4\"># of questions</label><label data-bind=\"visible: type()==&quot;video&quot;\" class=\"control-label col-md-4\"># of videos</label><label data-bind=\"visible: type()==&quot;book&quot;\" class=\"control-label col-md-4\"># of pages</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: number\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start page</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: startPage\" style=\"min-width:200px\" class=\"form-control\"/></div></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Stop page</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: stopPage\" style=\"min-width:200px\" class=\"form-control\"/></div></div></form></div>"}),deftmp("ui.dialogs.schedule-old.AddCustomResource",{template:"<div class=\"ui-dialogs-schedule-old-AddCustomResource\"><div data-bind=\"visible: mode()==&quot;query&quot;\" class=\"decision-tree\"></div><div data-bind=\"visible: mode()==&quot;finalize&quot;\" class=\"finalize\"><div>What date would you like to complete these <span class=\"fwb\" data-bind='text: count'/> <span data-bind='text: type'/> by?</div><input type=\"text\" required=\"required\" data-bind=\"value: finishBy\" style=\"width:50%; display:block\" class=\"mtm mbm form-control datepicker\"/></div></div>"}),deftmp("ui.dialogs.schedule-old.EditScheduleCustomResource",{template:"<div class=\"ui-dialogs-schedule-old-EditScheduleCustomResource\"><div data-bind=\"text: data.title\" class=\"fwb\"></div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Start Date</label><div class=\"col-md-8\"><div data-bind=\"text: origStartDate\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Finish On</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: stopDate\" class=\"datepicker\"/></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Original Total</label><div class=\"col-md-8\"><div data-bind=\"text: originalTotal\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Completed</label><div class=\"col-md-8\"><div data-bind=\"text: completed\" class=\"mts\"></div></div></div><div style=\"margin-bottom:10px\" class=\"form-group\"><label class=\"control-label col-md-4\">Remaining</label><div class=\"col-md-8\"><input type=\"text\" required=\"required\" data-bind=\"value: remaining\"/></div></div></form></div>"}),deftmp("ui.dialogs.schedule-old.ScheduleSettings",{template:"<div class=\"ui-dialogs-schedule-old-ScheduleSettings\"><div class=\"bg-overlay\"></div><div class=\"schedules-modal\"><div class=\"schedule-select\"></div><div class=\"settings-panel\"><div class=\"header-bar\"><div data-bind=\"click:cancel\" class=\"close-panel\"><i class=\"fa fa-times-thin\"></i></div></div><div class=\"main-section\"><div class=\"sidebar\"><div class=\"schedules-list\"><div class=\"heading\">Schedules</div><div data-bind=\"foreach:schedulesList\" class=\"the-list\"><div data-bind=\"css:{active:$root.activeScheduleID() == scheduleID}\" class=\"list-item\"><div data-bind=\"click:$root.handleScheduleClick($data.scheduleID)\" class=\"label-section\"><div class=\"sched-icon\"><i class=\"fi fi-calendar\"></i></div><div data-bind=\"html:name\" class=\"name\"></div><div data-bind=\"html:dateRange\" class=\"date-range\"></div></div><div data-bind=\"foreach:tabs, visible:!$root.isPending()\" class=\"tabs-section\"><div data-bind=\"css:{active:active}, click:$root.handleTabClick($data)\" class=\"tab-item\"><div data-bind=\"css:icon\" class=\"icon\"></div><div data-bind=\"html:label\" class=\"the-label\"></div></div></div></div></div><div data-bind=\"foreach: newSchedulesList\" class=\"the-new-list\"><div data-bind=\"css:{active:$root.activeScheduleID() == scheduleID}\" class=\"list-item\"><div data-bind=\"click:$root.handleScheduleClick($data.scheduleID)\" class=\"label-section\"><div class=\"sched-icon\"><i class=\"fi fi-calendar\"></i></div><div data-bind=\"html: name() ? name() : &quot;New Schedule&quot;\" class=\"name\"></div><div data-bind=\"html:dateRange\" class=\"date-range\"></div></div><div data-bind=\"foreach: tabs, visible:!$root.isPending()\" class=\"tabs-section\"><div data-bind=\"css:{active:active}, click:$root.handleTabClick($data)\" class=\"tab-item\"><div data-bind=\"css:icon\" class=\"icon\"></div><div data-bind=\"html:label\" class=\"the-label\"></div></div></div></div></div></div><div data-bind=\"click: addNewSchedule\" class=\"add-schedule\"><div class=\"add-btn\">+ Add new            </div></div><div class=\"bottom-actions\"><div class=\"action-item\">Need help? <a href='' data-bind='click: askIntercom'>ask us</a></div></div></div><div class=\"content\"><div data-bind=\"visible:availableDaysVisible\" class=\"notification-section\"><div class=\"available-days\"><div data-bind=\"css:{green:availableDays()&gt;0}\" class=\"alert-dot\"></div><div data-bind=\"visible:availableDays() &gt; 0\" class=\"msg available\"><span data-bind=\"html:availableDaysMsg\"></span><span>&nbsp;either add days in <span data-bind='click:handleTabClick(\"topics\")'>Topics</span> or <span data-bind='click:handleTabClick(\"days-off\")'>take Days Off</span>.</span></div><div data-bind=\"visible:availableDays() &lt; 0\" class=\"msg not-available\"> <span data-bind=\"html:availableDaysMsg\"></span><span>&nbsp;either remove days in <span data-bind='click:handleTabClick(\"topics\")'>Topics</span> or remove <span data-bind='click:handleTabClick(\"days-off\")'>Days Off</span>.</span></div></div></div><div class=\"tabs-content\"><div data-bind=\"visible: activeTab() === &quot;setup&quot;\" class=\"setup tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;settings&quot; &amp;&amp; !isPending()\" class=\"settings tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;days-off&quot; &amp;&amp; !isPending()\" class=\"days-off tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;exams&quot; &amp;&amp; !isPending()\" class=\"exams tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;resources&quot; &amp;&amp; !isPending()\" class=\"resources tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;topics&quot; &amp;&amp; !isPending()\" class=\"topics tab-content\"></div><div data-bind=\"visible:activeTab()==&quot;rebalance&quot; &amp;&amp; !isPending()\" class=\"rebalance tab-content\"></div><div data-bind=\"visible:isPending\" class=\"empty-schedule tab-content\"></div></div><div class=\"action-section\"><div data-bind=\"click:cancel\" class=\"action cancel\">Cancel</div><div data-bind=\"ajax:save,css:{disabled:!hasChanges()}\" class=\"action save\">Apply Edits</div></div></div></div></div></div></div>"}),deftmp("ui.dialogs.video.VideoDialog",{template:"<div class=\"ui-dialogs-video-VideoDialog dialog\"><i class=\"dialog-close button\"></i><div data-bind=\"css: theme\" class=\"dialog-header\"><h3 data-bind=\"text: videoTitle\" class=\"header\">Header</h3></div><div class=\"dialog-content\"><div id=\"video-dom\"></div></div></div>"}),deftmp("ui.dialogs.video.VideoPopup",{template:"<div class=\"ui-dialogs-video-VideoPopup dialog\"><i class=\"dialog-close button\"></i><div data-bind=\"css: theme\" class=\"dialog-header\"><h3 class=\"header\">Stages of labor</h3></div><div class=\"dialog-content\"><div id=\"video-dom\"></div></div></div>"}),deftmp("ui.dualPanel",{template:"<div class=\"ui-dual mtm mhm\"><div data-bind=\"visible: !stacked() || showing()==&quot;left&quot;\" style=\"overflow-y: scroll\" class=\"lfloat divLeftPanel webkitScroll mrs\"></div><div data-bind=\"visible: !stacked() || showing()==&quot;right&quot;\" style=\"overflow-y: scroll\" class=\"lfloat divRightPanel webkitScroll\"></div><div class=\"clearfix\"></div><div data-bind=\"visible: stacked, click:togglePanel\" style=\"cursor: pointer; position: fixed; top: 50px; right:5px\" class=\"mini-layout toggleDiv\"><span><i style=\"font-size: 130%;\" class=\"fa fa-sync\"></i></span></div></div>"}),deftmp("ui.forms.Country",{template:"<div class=\"ui-forms-Country\"><div data-bind=\"css: { completed: valid }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3>Your country of residency</h3></div><div class=\"req-or-op\">Required</div><div data-bind=\"css: { error: inputUsed() &amp;&amp; !valid() }\" class=\"text-input\"><input id=\"submit-country\" type=\"text\" data-bind=\"value: country, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\" placeholder=\"E.g. Brazil\"/></div></div></div>"}),deftmp("ui.forms.GeneralInformation",{template:"<div class=\"ui-forms-GeneralInformation\"><div data-bind=\"css: { completed: valid() }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3>General information</h3></div><div class=\"req-or-op\">Required</div><div class=\"submit-a-review-name\"><div data-bind=\"css: { error: inputsUsed.preferredName() &amp;&amp; !validInputs.preferredName() }\" class=\"text-input\"><label for=\"submit-a-review-input-first-name\">First Name</label><input id=\"submit-a-review-input-first-name\" type=\"text\" data-bind=\"value: preferredName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"css: { error: inputsUsed.lastName() &amp;&amp; !validInputs.lastName() }\" class=\"text-input\"><label for=\"submit-a-review-input-last-name\">Last Name</label><input id=\"submit-a-review-input-last-name\" type=\"text\" data-bind=\"value: lastName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div></div><div data-bind=\"css: { error: inputsUsed.degree() &amp;&amp; !validInputs.degree() }\" class=\"text-input\"><label for=\"submit-a-review-input-field\">Field or degree</label><input id=\"submit-a-review-input-field\" type=\"text\" data-bind=\"value: degree, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/><div data-bind=\"foreach: professions\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectDegree(name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div class=\"submit-a-review-schooling\"><div data-bind=\"css: { error: inputsUsed.school() &amp;&amp; !validInputs.school() }\" class=\"text-input\"><label for=\"submit-a-review-input-school\">School</label><input id=\"submit-a-review-input-school\" type=\"text\" data-bind=\"value: school.formalName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"css: { error: !validInputs.classYear() &amp;&amp; validInputs.degree(), inactive: classYears().length === 0 }\" class=\"school-year-dropdown\"></div></div></div></div>"}),deftmp("ui.forms.Headshot",{template:"<div class=\"ui-forms-Headshot\"><div data-bind=\"css: { completed: valid }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3>Headshot</h3></div><div class=\"req-or-op\">Required</div><div class=\"submit-a-review-form-description\">Please upload a headshot, ideally in your clinical wear if you have any. Image must be at least 300px by 300px.</div><div class=\"submit-a-review-headshot-input\"><div data-bind=\"if: headshot()\" class=\"submit-a-review-headshot-wrapper\"><img data-bind=\"attr: { src: headshot() }\" class=\"submit-a-review-headshot-img\"/></div><button data-bind=\"ajax: uploadHeadshotTrigger, attr: { disabled: headshotLoading() }\" class=\"button teal\">Choose image</button></div></div></div>"}),deftmp("ui.forms.VideoReview",{template:"<div class=\"ui-forms-VideoReview\"><div data-bind=\"css: { completed: validVideoLink() }\" class=\"submit-a-review-form-section\"><div class=\"submit-a-review-form-header\"><h3 data-bind=\"text: formHeader\"></h3><div data-bind=\"visible: primeOffered\" class=\"submit-a-review-form-time\"><span>+ </span><span data-bind=\"text: primeOffered\"></span><span> Prime</span></div></div><div data-bind=\"text: required ? 'Required' : 'Optional'\" class=\"req-or-op\"></div><div class=\"submit-a-review-form-description video-testimonial\">Please record a 2-minute-or-less video according to the requirements listed above, and paste a download link to the video below.</div><div class=\"submit-a-review-form-description video-testimonial\">Links may be from <b>Google Drive</b>, <b>Dropbox</b>, <b>YouTube</b>, <b>Vimeo</b>, etc., so long as the video is <b>downloadable*</b> as a common video format (mp4, mov, avi, etc.).</div><div class=\"submit-a-review-form-description video-testimonial\">*<em>Make sure the link is set to \"public\".</em></div><div data-bind=\"css: { error: !validVideoLink() &amp;&amp; typeof(videoLink()) !== &quot;undefined&quot; &amp;&amp; videoLink() !== &quot;&quot; }\" class=\"text-input\"><label for=\"video-link-input\">Your video link</label><input id=\"video-link-input\" type=\"text\" placeholder=\"Paste your video link here\" data-bind=\"value: videoLink, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"slideVisible: !validVideoLink() &amp;&amp; typeof(videoLink()) !== 'undefined' &amp;&amp; videoLink() !== ''\" class=\"submit-a-review-error-message\"><div class=\"negative message\">A valid URL is required.</div></div></div></div>"}),deftmp("ui.mobile.DailyQuizSection",{template:"<div data-bind=\"visible: false\" class=\"ui-mobile-DailyQuizSection\"><div style=\"margin-bottom: 150px\" class=\"row\"><div class=\"col-lg-8 today-todo\"><div class=\"title-section\"><p class=\"explain center\">Today's Goals</p><h2 data-bind=\"text: todaysDate\" class=\"center\"></h2></div><div class=\"todo-section\"><div class=\"todo-wrapper\"><div class=\"todays-quizzes\"></div></div></div></div><div class=\"col-lg-4 tomorrow-todo\"> <div class=\"title-section\"><p class=\"explain\">Tomorrow's Goals</p><h4 data-bind=\"text: tomorrowsDate\"></h4></div><div class=\"todo-section\"><div class=\"todo-wrapper\"><div class=\"todo-item\"><div class=\"item-title\"><span class=\"primary\"><span data-bind='text: tomorrow().osmosis'/> Flashcards from Osmosis</span></div></div><div class=\"todo-item\"><div class=\"item-title\"><span class=\"primary\"> <span data-bind='text: tomorrow().local'/> Flashcards from your School</span></div></div></div></div></div></div></div>"}),deftmp("ui.mobile.DailyToDoQuiz",{template:"<div class=\"ui-mobile-DailyToDoQuiz\"><div class=\"todo-item\"><div class=\"checkbox-section\"><input data-bind=\"attr:{value:progress}\" class=\"radial-progress osmosis-progress\"/><i data-bind=\"css:{done:progress()==100}\" class=\"fa fa-check\"></i></div><div class=\"item-title\"><span class=\"primary\"><span data-bind='text: remaining'/> Flashcards <span data-bind='html: title'/> <span data-bind='visible: completed()'>remaining</span></span><span href=\"\" data-bind=\"html: subtitle, visible:showSubtitle, toggle:breakdownVisible\" class=\"secondary clickable\"></span><span data-bind=\"visible:!showSubtitle()\" class=\"secondary none\">No flashcards to repeat <span class='tip' title='Add to your daily quiz by (1) Searching topics and flagging flashcards. (2) Taking a quiz by Board Topic, Course Folder, or Course Calendar <\u2013 see left sidebar. (3) Review documents and flag relevant flashcards'><i class='fa fa-info-circle' /></span></span></div><div class=\"item-actions\"><div data-bind=\"visible: total, ajax: customizeQuiz\" class=\"rounded-btn mrm\"><span data-bind=\"text: completed() ? &quot;Filter/Retake&quot; : &quot;Filter&quot;\"></span></div><div data-bind=\"visible: remaining, click: startQuiz\" class=\"rounded-btn rounded-btn-dark-blue\"><span data-bind=\"text: completed() ? &quot;Resume&quot; : &quot;Start Quiz&quot;\"></span></div></div></div><div data-bind=\"visible: breakdownVisible\" class=\"quiz-breakdown\"></div></div>"}),deftmp("ui.mobile.GeneralToDoQuiz",{template:"<div class=\"ui-mobile-GeneralToDoQuiz\"><div data-bind=\"click: startQuiz\" class=\"rounded-btn rounded-btn-white rounded-btn-border\"><span>Start Repetition</span></div></div>"}),deftmp("ui.mobile.ModuleSelector",{template:"<div class=\"ui-mobile-ModuleSelector ui-mobile-QuizSelector minFullPanel darkBackground\"><div class=\"iScroller fullPanel noSlide\"><div style=\"padding:10px\" class=\"iScrollerContent\"><div data-bind=\"visible: hasContent()==&quot;yes&quot;\" class=\"selector-block\"><div class=\"sections\"></div></div><div data-bind=\"visible: hasContent()==&quot;no&quot;\" style=\"font-size: 80%\" class=\"center mtm mhm\">Modules let you and your classmates write your own questions and flashcards. Currently, it looks like you don't have any modules. You might try linking your class group to your personalized schedule. If you have any questions about how to get this set up, please contact support@osmosis.org.</div><div data-bind=\"visible: hasContent()==&quot;unknown&quot;\" style=\"font-size: 80%\" class=\"center mtm mhm\">Loading...</div></div></div></div>"}),deftmp("ui.mobile.ModuleSelectorFilters",{template:"<div data-bind=\"visible: visible\" class=\"ui-mobile-ModuleSelectorFilters\"><div class=\"menu-action-pill pill-items-2 green\"><ul class=\"pill-menu\"><li data-bind=\"css: {selected: filter()==&quot;Classmates&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;Classmates&quot;)\"> <span class=\"the-filter\">Written by Classmates</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li><li data-bind=\"css: {selected: filter()==&quot;Me&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;Me&quot;)\"> <span class=\"the-filter\">Written by Me</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li></ul></div></div>"}),deftmp("ui.mobile.QuizSelector",{template:"<div class=\"ui-mobile-QuizSelector minFullPanel darkBackground\"><div style=\"padding:10px\"><div><div data-bind=\"visible: isLoading\"><div class=\"center\"><div class=\"spin-loader-lg\"></div></div></div><div data-bind=\"visible: !isLoading()\"><div data-bind=\"visible: window.user.prime &amp;&amp; window.user.prime.status == 0\" class=\"btn-browse\"><span data-bind=\"click: startTrial\" class=\"browse-message center\"><button class=\"btn btn-warning\">Start Free Trial of Osmosis Prime</button></span></div><div class=\"selector-block\"><div class=\"sections\"></div></div></div></div></div></div>"}),deftmp("ui.mobile.QuizSelectorFilters",{template:"<div data-bind=\"visible: visible\" class=\"ui-mobile-QuizSelectorFilters\"><div data-bind=\"visible: filterType() == &quot;source&quot;\" class=\"menu-action-pill pill-items-3 green\"><ul class=\"pill-menu\"><li data-bind=\"css: {selected: filter()==&quot;Osmosis&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;Osmosis&quot;)\"> <span class=\"the-filter\">Any Available</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li><li data-bind=\"css: {selected: filter()==&quot;School&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;School&quot;)\"> <span class=\"the-filter\">Written at my School</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li><li data-bind=\"css: {selected: filter()==&quot;Mine&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;Mine&quot;)\"> <span class=\"the-filter\">Written by Me</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li></ul></div><div data-bind=\"visible: filterType() == &quot;quesType&quot;\" class=\"menu-action-pill pill-items-2 green\"><ul class=\"pill-menu\"><li data-bind=\"css: {selected: filter()==&quot;questions&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;questions&quot;)\"> <span class=\"the-filter\">Questions</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li><li data-bind=\"css: {selected: filter()==&quot;flashcards&quot;}\"><a href=\"\" data-bind=\"click: select(&quot;flashcards&quot;)\"> <span class=\"the-filter\">Flashcards</span><span class=\"radio-stack\"><i class=\"radio-outer fa fa-circle\"></i><i class=\"radio-inner fa fa-circle\"></i></span></a></li></ul></div></div>"}),deftmp("ui.mobile.SelectorAddOnPack",{template:"<div class=\"ui-mobile-SelectorAddOnPack quiz-card pink\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">From You and Your Classmates</strong><h3 data-bind=\"html: title\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\"> <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: icon}\"/></div></div><div class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: total'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div data-bind=\"visible:remaining\" class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"click: startQuiz\"><span data-bind=\"visible:!completed()\">Start Quiz</span><span data-bind=\"visible:completed\">Resume</span></a></div><div data-bind=\"ajax: customizeQuiz, visible:completed() &gt; 0\" class=\"rounded-btn-default rounded-btn\"><span>Retake</span></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorCalendarQuiz",{template:"<div da=\"da\" class=\"ui-mobile-SelectorCalendarQuiz\"><div data-bind=\"css:color\" class=\"mini-quiz-body\"><div class=\"quiz-info\"><span class=\"count\"><span data-bind=\"text: count\"></span></span><span class=\"quiz-title\"><span data-bind=\"text: title\"></span></span></div><div class=\"quiz-action\"><div data-bind=\"ajax: customizeQuiz,css:{&quot;rounded-btn-success&quot;:color()==&quot;green&quot;, &quot;rounded-btn-purple&quot;:color()==&quot;purple&quot;, &quot;rounded-btn-pink&quot;:color()==&quot;pink&quot;, &quot;rounded-btn-teal&quot;:color()==&quot;teal&quot;}\" class=\"rounded-btn rounded-btn-xs\"><span>Build Quiz</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorCompLocalCourseQuiz",{template:"<div class=\"ui-mobile-SelectorCompLocalCourseQuiz quiz-card teal\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">From You and Your Classmates</strong><h3 data-bind=\"html: title\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\"> <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: thumbnail}\"/><div class=\"ui-Avatar avatar\"></div></div></div><div class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: total'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div data-bind=\"visible:remaining\" class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"click: startQuiz\"><span data-bind=\"visible:!completed()\">Start Quiz</span><span data-bind=\"visible:completed\">Resume</span></a></div><div data-bind=\"ajax: customizeQuiz, visible:completed() &gt; 0\" class=\"rounded-btn-default rounded-btn\"><span>Retake</span></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorCourseQuiz",{template:"<div class=\"ui-mobile-SelectorCourseQuiz quiz-card teal\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">From Osmosis</strong><h3 data-bind=\"html: title\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\"> <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining   </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: thumbnail}\"/></div></div><div class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: total'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div data-bind=\"visible:remaining\" class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"click: startQuiz\"><span data-bind=\"visible:!completed()\">Start Quiz</span><span data-bind=\"visible:completed\">Resume</span></a></div><div data-bind=\"ajax: customizeQuiz, visible:completed() &gt; 0\" class=\"rounded-btn-default rounded-btn\"><span>Retake</span></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorDocQuiz",{template:"<div class=\"ui-mobile-SelectorDocQuiz\"><div class=\"mini-quiz-body\"><div class=\"quiz-info\"><span class=\"count\"><span data-bind=\"text: count\"></span></span><span class=\"quiz-title\"><span data-bind=\"text: title\"></span></span></div><div class=\"quiz-action\"><div data-bind=\"click: startQuiz\" class=\"rounded-btn rounded-btn-success rounded-btn-xs\"><span>Start Quiz</span></div><div data-bind=\"ajax: customizeQuiz\" class=\"rounded-btn rounded-btn-default rounded-btn-xs\"><span>Retake</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorExtraQuiz",{template:"<div data-bind=\"css: {pink: remaining, gray: !remaining()}\" class=\"ui-mobile-SelectorExtraQuiz breakdown-item\"><div class=\"todo-item\"><div class=\"checkbox-section\"><div data-bind=\"visible:total\" class=\"status\"><input data-bind=\"attr:{value:progress}\" class=\"radial-progress osmosis-progress\"/><i data-bind=\"css:{done:progress()==100}\" class=\"fa fa-check\"></i></div></div><div class=\"item-title\"><span class=\"primary\"><i data-bind=\"css: &quot;fa &quot;+icon()\" class=\"mrm\"></i><span data-bind=\"html:title\"></span></span><span href=\"\" data-bind=\"visible:total\" class=\"secondary\"><span data-bind='text: remaining'/> Flashcards <span data-bind='html: title'/> <span data-bind='visible: completed()'>remaining</span></span><span data-bind=\"visible:!total()\" class=\"secondary none\">No flashcards <span class='tip' title='Search topics and flag flashcards to add more'><i class='fa fa-info-circle' /></span></span></div><div class=\"item-actions\"><div data-bind=\"visible: completed() &gt; 0, ajax: customizeQuiz\" class=\"rounded-btn rounded-btn-sm mrm\"><span data-bind=\"text: completed() ? &quot;Filter/Retake&quot; : &quot;Filter&quot;\"></span></div><div data-bind=\"visible: remaining, click: startQuiz\" class=\"rounded-btn rounded-btn-sm rounded-btn-dark-blue\"><span data-bind=\"text: completed() ? &quot;Resume&quot; : &quot;Start Quiz&quot;\"></span></div></div></div></div>"}),deftmp("ui.mobile.SelectorGeneralQuiz",{template:"<div class=\"ui-mobile-SelectorGeneralQuiz\"><div data-bind=\"ajax: customizeQuiz\" class=\"rounded-btn rounded-btn-white rounded-btn-border\"><span>Build Quiz</span></div></div>"}),deftmp("ui.mobile.SelectorLocalCourseQuiz",{template:"<div class=\"ui-mobile-SelectorLocalCourseQuiz quiz-card teal\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">Created by&nbsp;<span data-bind=\"text:name\"></span></strong><h3 data-bind=\"html: title\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\"> <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: thumbnail}\"/><div class=\"ui-Avatar avatar\"></div></div></div><div class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: total'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div data-bind=\"visible:remaining\" class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"click: startQuiz\"><span data-bind=\"visible:!completed()\">Start Quiz</span><span data-bind=\"visible:completed\">Resume</span></a></div><div data-bind=\"ajax: customizeQuiz, visible:completed() &gt; 0\" class=\"rounded-btn-default rounded-btn\"><span>Retake</span></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorMegagridQuiz",{template:"<div data-bind=\"css: {green: type()==&quot;f&quot;, purple: type()==&quot;q&quot;, &quot;locked-quiz&quot;: locked}\" class=\"ui-mobile-SelectorMegagridQuiz quiz-card\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">From Osmosis</strong><h3 data-bind=\"html: subtitle\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\">          <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: icon}\"/></div></div><div data-bind=\"visible: !overdue()\" class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: count'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div data-bind=\"visible:remaining\" class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"click: startQuiz\"><span data-bind=\"visible:!completed()\">Start Quiz</span><span data-bind=\"visible:completed\">Resume</span></a></div><div data-bind=\"ajax: customizeQuiz, visible:completed() &gt; 0\" class=\"rounded-btn-default rounded-btn\"><span>Retake</span></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorMessage",{template:"<div data-bind=\"visible: visible, css: {green: type()==&quot;f&quot;, purple: type()==&quot;q&quot;, &quot;locked-quiz&quot;: locked}\" class=\"ui-mobile-SelectorMessage quiz-card\"><div class=\"quiz-card-body\"><div data-bind=\"click: displayMessage\" class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">Osmosis Prime</strong><h3><span data-bind=\"html: title\"></span></h3><div class=\"quiz-count\"><em data-bind=\"html:subtitle\">           </em></div></div></div><div data-bind=\"click: displayMessage\" class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: icon}\"/></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><a href=\"/plans\" target=\"_blank\" class=\"rounded-btn-default rounded-btn\"><span>Get Osmosis Prime</span></a></div></div></div>"}),deftmp("ui.mobile.SelectorModuleQuiz",{template:"<div class=\"ui-mobile-SelectorModuleQuiz quiz-card blue\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">Exam Date: <span data-bind='text: examDate'/></strong><h3 data-bind=\"html: name\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\"> <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><i class=\"fa fa-users\"></i></div></div><div class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: total'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"ajax: customizeQuiz\"><span>Build Quiz</span></a></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorOverdue",{template:"<div data-bind=\"visible: visible() &amp;&amp; showOverdue(), css: {orange: quiz.count, gray: !quiz.count}\" class=\"ui-mobile-SelectorOverdue breakdown-item\"><div class=\"todo-item\"><div class=\"checkbox-section\"><div data-bind=\"visible:count\" class=\"status\"><i data-bind=\"css:{done:!count()==100}\" class=\"fa fa-check\"></i></div></div><div class=\"item-title\"><span class=\"primary\"><i class=\"mrm fa fa-clock\"></i><span>Overdue</span></span><span href=\"\" data-bind=\"visible:count\" class=\"secondary\"><span data-bind='text: count'/> Flashcards Overdue</span><span data-bind=\"visible:!count()\" class=\"secondary none\">Hurray! Nothing overdue</span></div><div class=\"item-actions\"><div data-bind=\"visible: count, click: rescheduleOverdue\" class=\"rounded-btn rounded-btn-warning rounded-btn-sm mrm\"><span>Reset</span></div><div data-bind=\"visible: count, ajax: customizeQuiz\" class=\"rounded-btn rounded-btn-sm mrm\"><span>Filter</span></div><div data-bind=\"visible: count, click: startQuiz\" class=\"rounded-btn rounded-btn-sm rounded-btn-dark-blue\"><span>Start Quiz</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorSection",{template:"<div data-bind=\"visible: visible\" class=\"ui-mobile-SelectorSection section-block\"><div class=\"section-title\"><h4><span data-bind=\"text: title\"></span></h4></div><div data-bind=\"css:subsectionClass\" class=\"subsections\"></div></div>"}),deftmp("ui.mobile.SelectorSubsection",{template:"<div data-bind=\"visible: visible\" class=\"ui-mobile-SelectorSubsection\"><div class=\"quizzes-section\"><div data-bind=\"visible: title\" class=\"title-band\"><span data-bind=\"text: title\" class=\"title-message\"></span></div><div class=\"quizzes\"></div></div></div>"}),deftmp("ui.mobile.SelectorTodaysQuiz",{template:"<div data-bind=\"css: {blue: remaining, gray: !remaining()}\" class=\"ui-mobile-SelectorTodaysQuiz breakdown-item\"><div class=\"todo-item\"><div class=\"checkbox-section\"><div data-bind=\"visible:total\" class=\"status\"><input data-bind=\"attr:{value:progress}\" class=\"radial-progress osmosis-progress\"/><i data-bind=\"css:{done:progress()==100}\" class=\"fa fa-check\"></i></div></div><div class=\"item-title\"><span class=\"primary\"><i class=\"mrm fa fa-calendar\"></i><span>Daily Repetition Quiz</span></span><span href=\"\" data-bind=\"visible:total\" class=\"secondary\"><span data-bind='text: remaining'/> Flashcards <span data-bind='visible: completed()'>remaining</span></span><span data-bind=\"visible:!total()\" class=\"secondary none\">No flashcards <span class='tip' title='Search topics and flag flashcards to add more'><i class='fa fa-info-circle' /></span></span></div><div class=\"item-actions\"><div data-bind=\"visible: completed() &gt; 0, ajax: customizeQuiz\" class=\"rounded-btn rounded-btn-sm mrm\"><span data-bind=\"text: completed() ? &quot;Filter/Retake&quot; : &quot;Filter&quot;\"></span></div><div data-bind=\"visible: remaining, click: startQuiz\" class=\"rounded-btn rounded-btn-sm rounded-btn-dark-blue\"><span data-bind=\"text: completed() ? &quot;Resume&quot; : &quot;Start Quiz&quot;\"></span></div></div></div></div>"}),deftmp("ui.mobile.SelectorTopicFull",{template:"<div data-bind=\"css: {green: type()==&quot;f&quot;, purple: type()==&quot;q&quot;, &quot;locked-quiz&quot;: locked}\" class=\"ui-mobile-SelectorTopicFull quiz-card\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">From Osmosis</strong><h3 data-bind=\"html: subtitle\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\">          <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: icon}\"/></div></div><div data-bind=\"visible: !overdue()\" class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: count'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"ajax: customizeQuiz\"><span>Build Quiz</span></a></div><div data-bind=\"visible: GROUP.owner, click: promoteQuiz\" class=\"rounded-btn-default rounded-btn\"><span>Promote</span></div></div></div></div>"}),deftmp("ui.mobile.SelectorTopicQuiz",{template:"<div class=\"ui-mobile-SelectorTopicQuiz quiz-card teal\"><div class=\"quiz-card-body\"><div class=\"info-section\"><div class=\"title-section\"><strong class=\"intro-info\">From&nbsp;<span data-bind=\"visible:!publisher()\">Osmosis</span><span data-bind=\"html: publisher, visible:publisher\"></span></strong><h3 data-bind=\"html: subtitle\"></h3><div class=\"quiz-count\"><div data-bind=\"visible:!remaining()\" class=\"none\"><span>Finished!</span></div><div data-bind=\"visible:remaining\" class=\"some\"> <span data-bind=\"text:remaining\" class=\"count badge\"></span><span>&nbsp;</span><span data-bind=\"text:typeStr\" class=\"type\"></span><span>&nbsp;Remaining  </span></div></div></div></div><div class=\"thumb-section\"><div class=\"quiz-icon\"><img data-bind=\"attr: {src: topics()[0].icon}\"/></div></div><div class=\"quiz-progress-bar\"><div class=\"bar-count-status\"><span><span data-bind='text: completed'/>/<span data-bind='text: total'/></span></div><div class=\"bar-container\"><div data-bind=\"style: {width: progress}\" class=\"bar-progress\"></div></div></div><div class=\"action-section quiz-card-buttons rounded-buttons\"><div data-bind=\"visible:remaining\" class=\"rounded-btn-primary rounded-btn\"><a href=\"\" data-bind=\"click: startQuiz\"><span data-bind=\"visible:!completed()\">Start Quiz</span><span data-bind=\"visible:completed\">Resume</span></a></div><div data-bind=\"ajax: customizeQuiz, visible:completed() &gt; 0\" class=\"rounded-btn-default rounded-btn\"><span>Retake</span></div></div></div></div>"}),deftmp("ui.mobile.TitleBar",{template:"<div class=\"ui-mobile-TitleBar\"><div data-bind=\"visible: tab()==&quot;recommended&quot;\"><div class=\"quizSelector ui-mobile-QuizSelectorFilters\"></div></div><div data-bind=\"visible: tab()==&quot;topics&quot;\"><div class=\"topicSelector ui-mobile-QuizSelectorFilters\"></div></div><div data-bind=\"visible: tab()==&quot;modules&quot;\"><div class=\"ui-mobile-ModuleSelectorFilters\"></div></div></div>"}),deftmp("ui.mobile.TopicSelector",{template:"<div class=\"ui-mobile-TopicSelector ui-mobile-QuizSelector minFullPanel darkBackground\"><div class=\"iScroller fullPanel noSlide\"><div style=\"padding:10px\" class=\"iScrollerContent\"><div class=\"selector-block\"><div class=\"sections\"></div></div></div></div></div>"}),deftmp("ui.modals.schedule.AddCustomDailyGoalModal",{template:"<div class=\"ui-modals-schedule-AddCustomDailyGoalModal ui-modals-BaseModal\"><div class=\"osm-background\"></div><div class=\"osm-modal\"><div class=\"osm-modal-title-bar\"><div class=\"osm-modal-title-container\"><div class=\"osm-modal-title\">Add Custom Daily Goal</div></div><div data-bind=\"click: close\" class=\"osm-modal-close-button\"><i class=\"fas fa-times\"></i></div></div><div class=\"osm-modal-content\"><span data-bind=\"if: scheduleIDs.length &gt; 1\"><label><span>Schedule</span><div class=\"schedule-dropdown\"></div></label><br/></span><label><span>Resource Type</span><div class=\"resource-dropdown\"></div></label><div class=\"text-input\"><label for=\"add-custom-daily-goal-title\">Title</label><input id=\"add-custom-daily-goal-title\" type=\"text\" required=\"required\" data-bind=\"value: title, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><span data-bind=\"visible: type()==&quot;book&quot;\"><label><span>Page count</span><div class=\"page-count-dropdown\"></div></label></span><div data-bind=\"visible: type()==&quot;qbank&quot; || type()==&quot;video&quot; || (type()==&quot;book&quot; &amp;&amp; bookType()==&quot;pages&quot;)\" class=\"text-input\"><label for=\"add-custom-daily-goal-number\"># of&nbsp;<span data-bind=\"text: type() === &quot;qbank&quot; ? &quot;questions&quot; : type() === &quot;video&quot; ? &quot;videos&quot; : &quot;pages&quot;\"></span></label><input id=\"add-custom-daily-goal-number\" type=\"number\" min=\"0\" required=\"required\" data-bind=\"value: number, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div data-bind=\"visible: type()==&quot;book&quot; &amp;&amp; bookType()==&quot;range&quot;\" class=\"dual-text-input\"><div class=\"text-input\"><label for=\"add-custom-daily-goal-start-page\">Start page</label><input id=\"add-custom-daily-goal-start-page\" type=\"number\" min=\"0\" required=\"required\" data-bind=\"value: startPage, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div><div class=\"text-input\"><label for=\"add-custom-daily-goal-stop-page\">Stop page</label><input id=\"add-custom-daily-goal-stop-page\" type=\"number\" min=\"0\" required=\"required\" data-bind=\"value: stopPage, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div></div><div class=\"button-container\"><button data-bind=\"click: close\" class=\"basic button\">Cancel</button><button data-bind=\"click: save, attr: { disabled: !validValues() }\" class=\"button blue\">Add Custom Goal</button></div></div></div></div>"}),deftmp("ui.modals.schedule.CompletedTaskModal",{template:"<div class=\"ui-modals-schedule-CompletedTaskModal ui-modals-BaseModal\"><div class=\"osm-background\"><div class=\"osm-modal\"><div class=\"osm-modal-title-bar\"><div class=\"osm-modal-title-container\"><div class=\"osm-modal-title\">Completed Task</div></div><div data-bind=\"click: close\" class=\"osm-modal-close-button\"><i class=\"fas fa-times\"></i></div></div><div class=\"osm-modal-content\"><div class=\"completed-desc\">Nice work!&nbsp;<b data-bind=\"html: count + &quot; &quot; + type\"></b>&nbsp;were scheduled.</div><div class=\"text-input\"><label for=\"completed-task-modal-input\">How many did you complete?</label><input id=\"completed-task-modal-input\" data-bind=\"value: val\"/></div><button data-bind=\"click: confirm\" class=\"button green\">Apply</button></div></div></div></div>"}),deftmp("ui.modals.schedule.ConfirmDelete",{template:"<div class=\"ui-modals-schedule-ConfirmDelete dialog\"><div class=\"dialog-header\"><h3 class=\"header\">Are you absolutely sure?</h3><i class=\"dialog-close button\"></i></div><div class=\"dialog-content\"><p>Deleting your schedule is a <strong>permanent action</strong>\u2014you won't be able to get it back!</p><div class=\"text-input\"><label for=\"confirm-delete\">Please type the name of the schedule to confirm.</label><input id=\"confirm-delete\" type=\"text\" style=\"width: 100%\" data-bind=\"value: confirmText, valueUpdate: &quot;keyup&quot;, attr: {placeholder: `type &quot;${scheduleName}&quot;`}\"/></div></div><div class=\"dialog-footer\"><button class=\"button cancel\">Cancel</button><button data-bind=\"attr: {disabled: isDisabled()}, css: {disabled: isDisabled()}\" class=\"button red primary action\">I understand, delete this schedule</button></div></div>"}),deftmp("ui.modals.schedule.DayViewModal",{template:"<div class=\"ui-modals-schedule-DayViewModal ui-modals-BaseModal\"><div class=\"osm-background\"><div class=\"osm-modal\"><div class=\"osm-modal-content\"></div></div></div></div>"}),deftmp("ui.modals.schedule.SketchyPicmonicModal",{template:"<div data-bind=\"css: &quot;type-&quot; + type\" class=\"ui-modals-schedule-SketchyPicmonicModal ui-modals-BaseModal\"><div class=\"osm-background\"><div class=\"osm-modal\"><div class=\"osm-modal-title-bar\"><div data-bind=\"css: iconColor\" class=\"osm-modal-icon-wrapper\"><div data-bind=\"html: icon\" class=\"osm-modal-icon\"></div></div><div class=\"osm-modal-title-container\"><div data-bind=\"html: title\" class=\"osm-modal-title\"></div><div data-bind=\"text: subTitle\" class=\"osm-modal-sub-title\"></div></div><div data-bind=\"click: close\" class=\"osm-modal-close-button\"><i class=\"fas fa-times\"></i></div></div><div class=\"osm-modal-content\"><div data-bind=\"foreach: links\" class=\"osm-modal-picmonic-container\"><a data-bind=\"attr: { href: u }\" target=\"_blank\" data-title=\"Click to view\" class=\"osm-modal-picmonic tip\"><div class=\"osm-modal-picmonic-thumbnail-wrapper\"><img data-bind=\"attr: { src: `https://osmose-it.s3.amazonaws.com/${$}` }\" class=\"osm-modal-picmonic-thumbnail\"/></div><div data-bind=\"text: t\" class=\"osm-modal-picmonic-title\"></div><div data-bind=\"if: checked &amp;&amp; id, visible: checked &amp;&amp; id\" class=\"checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: checked, attr: { id: `skepic-modal-item-checkbox-${$root.sketchyPicmonicModalID}-${$index()}-${id}` }\"/><label data-bind=\"attr: { for: `skepic-modal-item-checkbox-${$root.sketchyPicmonicModalID}-${$index()}-${id}` }\"></label></div></a></div></div><div data-bind=\"click: markAll\" class=\"osm-modal-mark-all\">Mark all as<span data-bind=\"text: allComplete() ? &quot; in-complete&quot; : &quot; complete&quot;\"></span></div></div></div></div>"}),deftmp("ui.modals.schedule.VideoModal",{template:"<div class=\"ui-modals-schedule-VideoModal ui-modals-BaseModal\"><div class=\"osm-background\"></div><div class=\"osm-modal\"><div class=\"osm-modal-title-bar\"><div data-bind=\"css: iconColor\" class=\"osm-modal-icon-wrapper\"><div data-bind=\"html: icon\" class=\"osm-modal-icon\"></div></div><div class=\"osm-modal-title-container\"><div data-bind=\"html: title\" class=\"osm-modal-title\"></div><div data-bind=\"text: `Video ${currentVideoIndex() + 1} of ${links.length}`\" class=\"osm-modal-sub-title\"></div></div><div data-bind=\"click: close\" class=\"osm-modal-close-button\"><i class=\"fas fa-times\"></i></div></div><div class=\"osm-modal-content\"><div class=\"osm-modal-video-player\"></div><div data-bind=\"visible: links.length &gt; 1\" class=\"osm-modal-video-playlist-wrapper\"><div class=\"ui-VideoList\"></div></div></div></div></div>"}),deftmp("ui.oldBuy.Buy",{template:"<div data-bind=\"css: theme\" class=\"ui-oldBuy-Buy\"><div data-bind=\"visible: cartIsNotEmpty\" class=\"sleek\"><div style=\"border:none;\" class=\"txt-middle\"><div><div data-bind=\"visible: authStepStatus()!==&quot;hidden&quot;\" class=\"authStep\"><div class=\"ui-SimpleLoginBox\"></div></div></div><div data-bind=\"visible: bookDealActive\" class=\"book-deal\"><div class=\"ui-BookDealProgress\"></div><div data-bind=\"visible: bookDealActive &amp;&amp; bookDealShown\" class=\"free-book-form-wrapper\"><div class=\"ui-FreeBookForm\"></div></div></div><div class=\"summary-information\"><div data-bind=\"visible: buyStepStatus()!==&quot;hidden&quot;,css:{alpha50: buyStepStatus()==&quot;disabled&quot;}\" class=\"order-summary\"></div><div class=\"order-pay-seperator\"></div><div class=\"payment-information\"><div data-bind=\"visible: buyStepStatus()!==&quot;hidden&quot;,css:{alpha50: buyStepStatus()==&quot;disabled&quot;}\" class=\"buyStep\"><h2><span data-bind=\"visible: totalCharge() &gt; 0\">Payment method</span><span data-bind=\"visible: totalCharge() == 0\">Activate Questions</span></h2><form class=\"divChoosePaymentMethod\"><div data-bind=\"visible: totalCharge() &gt; 0\" class=\"span12\"><div class=\"ui-oldBuy-Creditcard\"></div></div><div class=\"span12\"><div class=\"agree-terms-container\"><div class=\"md-checkbox\"><input id=\"accept-terms-checkbox\" type=\"checkbox\" data-bind=\"checked: acceptedTerms, disable: buyStepStatus()!=&quot;enabled&quot;\"/><label for=\"accept-terms-checkbox\">I agree to the <a href='/terms' target=\"_blank\">Osmosis Terms &amp; Conditions</a> and <a href='/privacy' target=\"_blank\">Privacy Policy</a>.</label></div></div></div><div class=\"span12\"><div data-bind=\"visible: purchaseError, text: purchaseError\" class=\"negative message\"></div></div><div style=\"float: none; margin-left: auto; margin-right: auto;\" data-bind=\"visible:buyStepStatus()!==&quot;success&quot;\" class=\"span12 purchase-buttons-container\"><button data-bind=\"visible: totalCharge() &gt; 0, ajax: purchaseQuestions, disable: purchasePending() || (buyStepStatus()!=&quot;enabled&quot;) || locked()\" class=\"green button finalize-purchase\">Finalize purchase</button><button data-bind=\"visible: totalCharge() == 0, ajax:purchaseQuestions, disable: purchasePending() || (buyStepStatus()!=&quot;enabled&quot;)\" class=\"green button finalizespan\">Activate questions                  </button></div><div data-bind=\"visible:buyStepStatus()==&quot;success&quot;\" class=\"span12\"><span data-bind=\"visible: totalCharge()&gt;0\"><p data-bind=\"visible: window.location.pathname == &quot;/buy&quot; || loggedIn()\" class=\"positive message\">Great news! Your payment was processed and you'll receive a confirmation email shortly.</p><p data-bind=\"visible: window.location.pathname == &quot;/authorize&quot;\">Great news! We've authorized your card and you'll receive a confirmation email shortly.</p></span><p data-bind=\"visible: totalCharge()==0\">Great news! Questions were successfully added to your account.</p></div></form></div></div></div><div data-bind=\"visible: confirmationStepStatus()!==&quot;hidden&quot;\"><div class=\"confirmationStep\"><h2 class=\"header\">Start Osmosing!</h2><p class=\"explain\">You're good to go. You'll receive a confirmation email shortly.</p><p class=\"explain\">If you have any questions or comments, please email <span>s</span>upport&#64;o<span>smos<span>is<span>.</span>org.</p><a data-bind=\"attr: { href: window.user &amp;&amp; window.user.prime &amp;&amp; !(window.user.profile &amp;&amp; window.user.profile.type) ? &quot;/start&quot; : &quot;/&quot;}\" class=\"green button\">Get started</a></div></div></div></div></div>"}),deftmp("ui.oldBuy.BuySummary",{template:"<div class=\"ui-oldBuy-BuySummary\"><div class=\"order-summary-table\"><h2>Summary</h2><table><tr class=\"header\"><th>Product(s)</th><th style=\"text-align:right\">Price</th></tr><tr><td colspan=\"2\" style=\"width:100%\"><table data-bind=\"foreach: items\" style=\"width:100%\"><tr style=\"width:100%\" class=\"product\"><td data-bind=\"text: title\"></td><td style=\"text-align: right\"><span data-bind=\"html: $root.currencyMark\"></span><span style=\"text-align:right\" data-bind=\"text: formatWithCommas($root.displayPrice($data))\"></span></td></tr></table></td></tr><tr data-bind=\"visible: bookDealActive\"><td colspan=\"2\" style=\"width: 100%\"><table style=\"width: 100%\"><tr style=\"width: 100%\" class=\"product book-deal\"><td>Osmosis Textbook</td><td style=\"text-align: right\">Free</td></tr></table></td></tr><tr class=\"hidden\"><td><i>Subtotal</i></td><td></td></tr><tr><td><i class=\"hidden\">Tax &amp; Shipping</i></td><td><p class=\"hidden\">$0</p></td></tr><tr class=\"total\"><td>Total</td><td style=\"text-align: right\" data-bind=\"html: displayTotalCharge\"></td></tr></table></div><a data-bind=\"disable: buyStepStatus()!=&quot;enabled&quot;, click: changePlan, visible: allowChangePlan\" class=\"basic button change-plan\">Change plan</a></div>"}),deftmp("ui.oldBuy.Creditcard",{template:"<div class=\"ui-oldBuy-Creditcard\"><div data-bind=\"visible:storedCards().length &gt; 0 &amp;&amp; !addingNewCard()\" class=\"existingCard\"><div data-bind=\"foreach: storedCards\"><div class=\"stored-card\"><div class=\"radio control-label inline\"><label data-bind=\"visible:isVisible\"><input type=\"radio\" name=\"chooseCard\" data-bind=\"disable:$root.status()!=&quot;enabled&quot;, checked:$root.existingCard, attr: {value: stripeToken}\"/><span>Card ending in <span class=\"expires\" data-bind='text:lastFourDigits'/>, Expires <span data-bind='text:expMonth'/>/<span data-bind='text:expYear'/></span>&nbsp;</label></div><i data-bind=\"disable: $root.status() != &quot;enabled&quot;, click: function(data, event) { $parent.removeCard( data, $parent ) }\" class=\"fa fa-times remove-card\"></i></div></div></div><div class=\"new-card-container\"><div data-bind=\"visible:storedCards().length == 0 || addingNewCard()\" class=\"newCard\"><form action=\"billing\" method=\"post\" accept-charset=\"utf-8\">   <div class=\"text-input\"><label>Cardholder's Name</label><input type=\"text\" required=\"required\" data-bind=\"value: name, disable:status() != &quot;enabled&quot;\" class=\"fs-block-tracking card-name\"/></div><div class=\"text-input\"><label>Card Number</label><input data-bind=\"value: number, valueUpdate: &quot;input&quot;, disable: status() != &quot;enabled&quot;\" required=\"required\" class=\"fs-block-tracking card-number\"/></div><div class=\"row\"><div class=\"col-xs-6\"><div class=\"form-group\"><label>Card Expiration Date</label><div class=\"expiration-date-select\"><select data-bind=\"options:monthOptions, value:expMonth, disable:status()!=&quot;enabled&quot;\" class=\"inline fs-block-tracking card-expiration-month\"></select><select data-bind=\"value:expYear, disable:status()!=&quot;enabled&quot;\" class=\"inline fs-block-tracking card-expiration-year\"><option>2018</option><option>2019</option><option>2020</option><option>2021</option><option>2022</option><option>2023</option><option>2024</option><option>2025</option><option>2026</option><option>2027</option><option>2028</option></select></div></div></div><div class=\"col-xs-6\"><div class=\"text-input cvc\"><label>3-digit CVC</label><input type=\"text\" required=\"required\" data-bind=\"value:cvc, disable:status()!=&quot;enabled&quot;\" class=\"fs-block-tracking card-cvc\"/></div></div></div><div data-bind=\"visible: window.location.pathname == &quot;/buy&quot;\" class=\"form-group save-card-checkbox\"><h3 data-bind=\"visible:saveCardClass==&quot;extra&quot;\">Save Card Info</h3><div class=\"md-checkbox\"><input id=\"save-card-checkbox\" type=\"checkbox\" data-bind=\"checked:saveCardInfo, disable:status()!=&quot;enabled&quot;\"/><label for=\"save-card-checkbox\" data-bind=\"html:saveCardText\"> </label></div></div></form></div><a href=\"#\" data-bind=\"click:addCard, disable:status()!=&quot;enabled&quot;, visible:!addingNewCard() &amp;&amp; hasStoredCards()\" class=\"add-card\">+ Add a different card</a></div></div>"}),deftmp("ui.onboarding.OnboardingModal",{template:"<div class=\"ui-onboarding-OnboardingModal ui-modals-BaseModal\"><div data-bind=\"fadeVisible: onboardingModalVisible\" class=\"osm-background\"></div><div data-bind=\"fadeVisible: onboardingModalVisible, fadeDirection: &quot;up&quot;, onFadeComplete: closeModal\" class=\"osm-modal\">  <div data-bind=\"click: toggleModal\" class=\"osm-modal-close-button\"><i class=\"fas fa-times\"></i></div><div class=\"osm-modal-content\"><div class=\"ui-CharacterQuote\"></div><div data-bind=\"visible: !submitted()\" class=\"profile-start-container\"><div class=\"ui-onboarding-ProfileStart\"></div></div><div data-bind=\"visible: submitted\" class=\"onboarding-complete-options\"><div class=\"buttons-container\"><a href=\"/account\" class=\"button\">Complete profile</a><button data-bind=\"click: toggleModal\" class=\"button blue\">Continue learning</button></div></div></div></div></div>"}),deftmp("ui.onboarding.PrimeSelection",{template:"<div class=\"ui-onboarding-PrimeSelection\"><div class=\"prime-selection-title\">Get access to these features with Osmosis Prime:</div><div class=\"prime-selection-content-container\"><div class=\"prime-selection-content\"><div data-bind=\"visible: selectedPlan() &gt; 0\" class=\"prime-selection-content-content\"><div class=\"prime-selection-info-title\">Get access to these features with Osmosis Prime:</div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\"><b>Complete</b>&nbsp;video coverage of&nbsp;<b>pathology</b>&nbsp;and&nbsp;<b>physiology</b></div></div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\"> \nGrowing video coverage of&nbsp;<b>pharmacology</b>&nbsp;&amp;&nbsp;<b>clinical reasoning</b></div></div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\">Customized exam Study Schedules</div></div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\">More than&nbsp;</div><b>16,500 flashcards</b>&nbsp;powered by spaced repetition</div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\">More than&nbsp;<b>9,000 case questions</b></div></div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\">Prioritized customer support</div></div><div class=\"prime-selection-info-see-more\"><a href=\"#\" data-bind=\"click: seeMoreClicked\">See full list</a></div></div><div data-bind=\"visible: selectedPlan() == 0\" class=\"prime-selection-content-content\"><div class=\"prime-selection-info-title\">Osmosis Basic Features:</div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\">Access to limited number of pathology and patient videos (found on Youtube)</div></div><div class=\"prime-selection-info-check\"><i class=\"fas fa-check\"></i><div class=\"prime-selection-info-description\">Documents that you've uploaded to a private workspace</div></div><div class=\"prime-selection-info-cell\"><div class=\"prime-selection-info-cell-speech\">You can&nbsp;<b>upgrade</b>&nbsp;or&nbsp;<b>activate your free trial</b>&nbsp;after you've signed in.</div><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/330e86f77f0c23181be242b6607d09e2aeec7ea1.png\" class=\"prime-selection-info-cell-img\"></div></div></div><div class=\"prime-selection-seperator\"></div><div class=\"prime-selection-content plans-section\"><div data-bind=\"visible: showStrikePrice()\" class=\"negative message\"><h2 data-bind=\"text: currentSale().caption\" class=\"active-deal-header\"></h2><p class=\"expires\"><span>Expires </span><span data-bind=\"text: moment(currentSale().endShow).format(&quot;MMM Do, YYYY&quot;)\"></span></p></div><div class=\"plans-selection-wrapper\"><div class=\"ui-PlansSelection\"></div></div><hr data-bind=\"visible: showBasicPlan()\" class=\"or-seperator\"/><div data-bind=\"visible: showBasicPlan()\" class=\"basic-plan\"><div class=\"radio-input\"><label for=\"radio-option-1\" class=\"option\"> <b>Basic plan</b>&nbsp;for&nbsp;<b>$0</b><br/>+ Osmosis Prime&nbsp;<b>free trial</b><input type=\"radio\" name=\"radio\" value=\"0\" id=\"radio-option-1\" data-bind=\"checked: selectedPlan\"/><span class=\"checkmark\"></span></label></div></div><button data-bind=\"click: nextClicked\" class=\"button green prime-selection-submit-button\"><span data-bind=\"visible: !nextLoading()\"><span data-bind=\"text: selectedPlan() == 0 ? &quot;Start osmosing&quot; : &quot;Payment Information&quot;\"></span><i class=\"fas fa-arrow-right\"></i></span><div data-bind=\"visible: nextLoading()\" class=\"loading-spinner small\"></div></button><div data-bind=\"visible: showProgressBars()\" class=\"progress-container\"><div class=\"progress-text\">Step 2 of 3</div><div class=\"progress-bar-wrapper\"><div class=\"ui-ProgressBars\"></div></div></div></div></div><div data-bind=\"visible: seeMore\" class=\"see-more\"><div class=\"see-more-container\"><div class=\"see-more-title\">Features<i data-bind=\"click: seeMoreClicked\" class=\"fas fa-times\"></i></div><div class=\"see-more-content\"><div class=\"ui-PrimeFeatures\"></div></div></div></div></div>"}),deftmp("ui.onboarding.ProfileStart",{template:"<div class=\"ui-onboarding-ProfileStart\"><div class=\"profile-start-header\"><div data-bind=\"text: profileStartTitle, visible: showProfileStartTitle\" class=\"profile-start-title\"></div></div><div class=\"profile-start-content-container\"><div class=\"profile-start-content\"><div data-bind=\"visible: fieldType() === &quot;Student&quot;\" class=\"profile-field-info\"><div class=\"profile-field-info-image-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/gUvFieimQ3SjwurhxQdfk3LYRQ21UVMP.png\" alt=\"Students\"></div><div class=\"profile-field-info-text\">Great! A couple more pieces of information and you\u2019ll be ready to start osmosing.</div></div><div data-bind=\"visible: fieldType() === &quot;Professional&quot;\" class=\"profile-field-info\"><div class=\"profile-field-info-image-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/8a2de6a7b5772dec497d886bb1552a94e7792a4a.png\" alt=\"Professionals\"></div><div class=\"profile-field-info-text\">Nice! We have a lot of great tools and resources for medical professionals.</div></div><div data-bind=\"visible: fieldType() === &quot;Other&quot;\" class=\"profile-field-info\"><div class=\"profile-field-info-image-wrapper\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/f52cb5c6c6909d6ae96ab3d3d99e55761924392d.png\" alt=\"Other\"></div><div class=\"profile-field-info-text\">Awesome! We have a ton of content for learning about health and medicine.</div></div></div><div class=\"profile-start-seperator\"></div><div class=\"profile-start-content\"><div class=\"radio-alt-input\"><h3 class=\"header\">I'm a...</h3><div class=\"field-type-input-container\"><label class=\"option\"><input type=\"radio\" name=\"radio-alt\" value=\"Student\" id=\"radio-ft-student\" data-bind=\"checked: fieldType\"/><div class=\"checkmark\"><p class=\"text\">Student</p></div></label><label class=\"option\"><input type=\"radio\" name=\"radio-alt\" value=\"Professional\" id=\"radio-ft-professional\" data-bind=\"checked: fieldType\"/><div class=\"checkmark\"><p class=\"text\">Professional</p></div></label><label class=\"option\"> <input type=\"radio\" name=\"radio-alt\" value=\"Other\" id=\"radio-ft-other\" data-bind=\"checked: fieldType\"/><div class=\"checkmark\"><p class=\"text\">Other</p></div></label></div></div><div data-bind=\"visible: fieldType() === &quot;Student&quot;\" class=\"field-information-student-container\"><div data-bind=\"css: { &quot;completed&quot;: flowState() &gt;= 1, &quot;error&quot;: !usersFieldInfo.profession() &amp;&amp; usersInput.profession() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"pursuingDegree\" class=\"field-information-control-label\">I'm pursuing a degree in</label><i class=\"fas fa-chevron-down\"></i><input id=\"pursuingDegree\" type=\"text\" data-field=\"profession\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.profession\" placeholder=\"Select a degree\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.professions\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectField(&quot;profession&quot;, name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"visible: usersFieldInfo.needsSecondaryProfession(), css: { &quot;completed&quot;: flowState() &gt;= 2, &quot;error&quot;: !usersFieldInfo.secondaryProfession() &amp;&amp; usersInput.secondaryProfession() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"otherDegree\" class=\"field-information-control-label\">I'm training to be</label><i class=\"fas fa-chevron-down\"></i><input id=\"otherDegree\" type=\"text\" data-field=\"secondaryProfession\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.secondaryProfession\" placeholder=\"Select a profession\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.secondaryProfessions\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectField(&quot;secondaryProfession&quot;, name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"css: { &quot;completed&quot;: flowState() &gt;= 3, &quot;error&quot;: !usersFieldInfo.school() &amp;&amp; usersInput.school() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"attending\" class=\"field-information-control-label\">I attend</label><i class=\"fas fa-chevron-down\"></i><input id=\"attending\" type=\"text\" data-field=\"school\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.school, event: { keyup: attendingKeyup, focus: attendingHasFocus, blur: attendingBlur }\" placeholder=\"Type the name of your school\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.schools, visible: attendingIsVisible\" class=\"field-information-control-dropdown\"><div data-bind=\"text: formalName, click: $root.selectField(&quot;school&quot;, formalName)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"css: { &quot;completed&quot;: flowState() &gt;= 4, &quot;error&quot;: !usersFieldInfo.classYear() &amp;&amp; usersInput.classYear() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"classYear\" class=\"field-information-control-label\">My class year is</label><i class=\"fas fa-chevron-down\"></i><input id=\"classYear\" type=\"text\" data-field=\"classYear\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.classYear\" placeholder=\"Select a class year\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.classYears\" class=\"field-information-control-dropdown\"><div data-bind=\"text: $root.classYearIDToStr($data), click: $root.selectField(&quot;classYear&quot;, $root.classYearIDToStr($data))\" class=\"field-information-control-dropdown-item\"></div></div></div></div><div data-bind=\"visible: fieldType() === &quot;Professional&quot;\" class=\"field-information-professional-container\"><div data-bind=\"css: { &quot;completed&quot;: flowState() &gt;= 1, &quot;error&quot;: !usersFieldInfo.profession() &amp;&amp; usersInput.profession() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"fieldIs\" class=\"field-information-control-label\">My field is</label><i class=\"fas fa-chevron-down\"></i><input id=\"fieldIs\" type=\"text\" data-field=\"profession\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.profession\" placeholder=\"Select a field\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.professions\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectField(&quot;profession&quot;, name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"visible: usersFieldInfo.needsSecondaryProfession(), css: { &quot;completed&quot;: flowState() &gt;= 2, &quot;error&quot;: !usersFieldInfo.secondaryProfession() &amp;&amp; usersInput.secondaryProfession() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"secondaryProfession\" class=\"field-information-control-label\">I'm a</label><i class=\"fas fa-chevron-down\"></i><input id=\"secondaryProfession\" type=\"text\" data-field=\"secondaryProfession\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.secondaryProfession\" placeholder=\"Select a profession\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.secondaryProfessions\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectField(&quot;secondaryProfession&quot;, name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"visible: usersFieldInfo.needsSchool(), css: { &quot;completed&quot;: flowState() &gt;= 3, &quot;error&quot;: !usersFieldInfo.school() &amp;&amp; usersInput.school() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"workAt\" class=\"field-information-control-label\">I work at</label><i class=\"fas fa-chevron-down\"></i><input id=\"workAt\" type=\"text\" data-field=\"school\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.school\" placeholder=\"Select a school\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.schools\" class=\"field-information-control-dropdown\"><div data-bind=\"text: formalName, click: $root.selectField(&quot;school&quot;, formalName)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"visible: usersFieldInfo.needsStatus(), css: { &quot;completed&quot;: flowState() &gt;= 4, &quot;error&quot;: !usersFieldInfo.status() &amp;&amp; usersInput.status() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"status\" class=\"field-information-control-label\">Status</label><i class=\"fas fa-chevron-down\"></i><input id=\"status\" type=\"text\" data-field=\"status\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.status\" placeholder=\"Select a status\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.statuses\" class=\"field-information-control-dropdown\"><div data-bind=\"text: $data, click: $root.selectField(&quot;status&quot;, $data)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"visible: usersFieldInfo.needsSpecialty(), css: { &quot;completed&quot;: flowState() &gt;= 5, &quot;error&quot;: !usersFieldInfo.specialty() &amp;&amp; usersInput.specialty() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"specialty\" class=\"field-information-control-label\">Specialty&nbsp;<span class=\"field-information-control-label-sub\">(actual or intended)</span></label><i class=\"fas fa-chevron-down\"></i><input id=\"specialty\" type=\"text\" data-field=\"specialty\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.specialty\" placeholder=\"Select a specialty\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.specialties\" class=\"field-information-control-dropdown\"><div data-bind=\"text: name, click: $root.selectField(&quot;specialty&quot;, name)\" class=\"field-information-control-dropdown-item\"></div></div></div><div data-bind=\"visible: usersFieldInfo.needsSubSpecialty(), css: { &quot;completed&quot;: flowState() &gt;= 6, &quot;error&quot;: !usersFieldInfo.subSpecialty() &amp;&amp; usersInput.subSpecialty() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"subSpecialty\" class=\"field-information-control-label\">Sub specialty&nbsp;<span class=\"field-information-control-label-sub\">(actual or intended)</span></label><i class=\"fas fa-chevron-down\"></i><input id=\"subSpecialty\" type=\"text\" data-field=\"subSpecialty\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.subSpecialty\" placeholder=\"Select a sub specialty\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.subSpecialties\" class=\"field-information-control-dropdown\"><div data-bind=\"text: $root.subSpecialtyIDToStr($data), click: $root.selectField(&quot;subSpecialty&quot;, $root.subSpecialtyIDToStr($data))\" class=\"field-information-control-dropdown-item\"></div></div></div></div><div data-bind=\"visible: fieldType() === &quot;Other&quot;\" class=\"field-information-other-container\"><div data-bind=\"css: { &quot;completed&quot;: flowState() &gt;= 1, &quot;error&quot;: !usersFieldInfo.otherField() &amp;&amp; usersInput.otherField() }\" class=\"text-input field-information-control with-dropdown\"><label for=\"other\" class=\"field-information-control-label\">Other</label><i class=\"fas fa-chevron-down\"></i><input id=\"other\" type=\"text\" data-field=\"otherField\" data-bind=\"valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;], value: usersInput.otherField\" placeholder=\"Select who you are\" class=\"field-information-control-input\"/><div data-bind=\"foreach: dropDowns.otherFields\" class=\"field-information-control-dropdown\"><div data-bind=\"text: $data, click: $root.selectField(&quot;otherField&quot;, $data)\" class=\"field-information-control-dropdown-item\"></div></div></div></div><button data-bind=\"visible: !isModal, ajax: finishClicked, css: { disabled: !flowCompleted() }\" class=\"button green field-information-submit-button\"><span data-bind=\"visible: !finishLoading()\"><span>Next</span><i class=\"fas fa-arrow-right\"></i></span></button><button data-bind=\"visible: isModal, click: finishClicked, css: { disabled: !flowCompleted() }\" class=\"button green field-information-submit-button\"><span data-bind=\"visible: !finishLoading()\"><span>Save</span></span></button><div data-bind=\"visible: showFullFlow\" class=\"progress-container\"><div class=\"progress-text\">Step 1 of 3</div><div class=\"progress-bar-wrapper\"><div class=\"ui-ProgressBars\"></div></div></div></div></div></div>"}),deftmp("ui.onboarding.PurchasePage",{template:"<div class=\"ui-onboarding-PurchasePage\"><div class=\"ui-Buy\"></div><div data-bind=\"visible: showProgressBars()\" class=\"progress-container\"><div class=\"progress-text\">Step 3 of 3</div><div class=\"progress-bar-wrapper\"><div class=\"ui-ProgressBars\"></div></div></div></div>"}),deftmp("ui.onboarding.Start",{template:"<div class=\"ui-onboarding-Start\"><div class=\"form-space-wrapper\"><div class=\"osmosis-logo\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/cnHo2JFrRbiJCiHmTL7LT4hHQxq73nnm.png\" alt=\"Osmosis Logo\" class=\"osmosis-logo-img\"></div><div class=\"form-space\"></div></div></div>"}),deftmp("ui.packdescrContainer",{template:"<div style=\"background-color:#f5f5f5\" class=\"ui-packdescrContainer pal\"><h3><span class=\"title\"/> <button class=\"addToCart mll btn btn-primary\">Add to Cart</button> <button class=\"quickCheckout mls btn btn-success\">Quick Checkout</button></h3><div class=\"body\"></div></div>"}),deftmp("ui.resourceMap.Filter",{template:"<div class=\"ui-resourceMap-Filter\"><div class=\"filters-button\"><div data-bind=\"click: function(d, event) { toggleFilter(event); }, css: { 'filtering green inverted': sectionFiltersActive() || resourceFiltersActive() }\" class=\"box button left-icon\"> <i data-bind=\"visible: sectionFiltersActive() || resourceFiltersActive(), click: allFiltersOff, clickBubble: false\" class=\"fas fa-times\"></i><i data-bind=\"visible: !sectionFiltersActive() &amp;&amp; !resourceFiltersActive()\" class=\"fas fa-filter\"></i><span data-bind=\"text: sectionFiltersActive() || resourceFiltersActive() ? &quot;Filtering is on&quot; : &quot;Filter topics&quot;\">Filter topics</span></div></div><div data-bind=\"fadeVisible: showFilters, fadeDirection: 'down', click: function(d,event) { event.stopPropagation(); }\" class=\"filters\"><div class=\"filter-selects\"><section class=\"subjects-section\"><div class=\"filter-header\">Subject</div><ul data-bind=\"foreach: sections\" class=\"subjects\"><li data-bind=\"text: name, css: $root.subjectClass($data), click: $root.toggleSectionFilter($data)\"></li></ul></section><section><div class=\"filter-header\">Resource</div><ul data-bind=\"foreach: filters\"><li data-bind=\"text: name, css: { active: filterOn(), [filter]: true }, click: $root.toggleRes(filterOn)\" class=\"resfilter\"></li></ul></section></div></div></div>"}),deftmp("ui.resourceMap.ProgressBar",{template:"<div data-bind=\"css: section.theme\" class=\"ui-resourceMap-ProgressBar\"><div class=\"progress-section-head\"><h3 data-bind=\"text: section.name\"></h3><div class=\"collapse-btns\"><div title=\"Collapse All\" data-bind=\"click: () =&gt; collapseEvent(true)\" class=\"collapser collapse-all\">Collapse All</div><div title=\"Expand All\" data-bind=\"click: () =&gt; collapseEvent(false)\" class=\"collapser expand-all\">Expand All</div></div></div><div class=\"progress-total\"><div data-bind=\"style: { width: section.progress }\" class=\"current-progress\"></div><div data-bind=\"visible: section.increasing()\" class=\"increasing-progress\"></div></div></div>"}),deftmp("ui.resourceMap.ResourceSubTopic",{template:"<div data-bind=\"visible: visibleTopics().length &gt; 0, css: { complete: complete }\" class=\"ui-resourceMap-ResourceSubTopic\"><a data-bind=\"attr: { id: parsedName }\"></a><div data-bind=\"css: { expanded: expanded }, click: toggleExpand\" class=\"subtopic-header\"><div data-bind=\"visible: incomplete\"><div class=\"ui-ProgressCircle\"></div></div><div data-bind=\"visible: complete\" class=\"complete-checkmark fa fa-check\"></div><div class=\"name-container\"><div data-bind=\"text: subtopic.group\" class=\"sub-topic-name\"></div></div><div class=\"modules-count\"> <span data-bind=\"text: subtopic.contains.length\"></span><span>&nbsp; topics</span><span data-bind=\"visible: expanded() &amp;&amp; hiddenTopicCount() &gt; 0, click: function(a, e) { $root.unfilter(e); }\" class=\"hidden-count\"><span>&nbsp; Show hidden</span><span data-bind=\"text: ' (' + hiddenTopicCount() + ')'\"></span></span></div><div class=\"expander\"><div class=\"fas fa-chevron-up\"></div></div></div><div data-bind=\"slideVisible: expanded\"><ul data-bind=\"foreach: visibleTopics\" class=\"resources\"><li data-bind=\"css: { checked: checked }\" class=\"checkbox-input\"><div data-bind=\"click: $root.toggleTopicCheckbox($data)\" class=\"checkbox-overlay\"></div><input type=\"checkbox\" data-bind=\"checked: checked\"/><label><div class=\"label-container\"><a data-bind=\"text: concept, attr: { href: link + '?section=' + $root.section.name }\"></a><div data-bind=\"foreach: icons\" class=\"resource-icons\"><span class=\"icon-container\"><span data-bind=\"attr: {title: hint+$parent.concept}\" class=\"resource-icon hinter\"></span><img data-bind=\"css: name, attr: {src: src, title: hint+$parent.concept}\" class=\"resource-icon\"/></span></div></div></label></li></ul></div></div>"}),deftmp("ui.resourceMap.ResourceTopic",{template:"<div data-bind=\"visible: visibleSubTopics().length &gt; 0\" class=\"ui-resourceMap-ResourceTopic\"><div data-bind=\"css: theme\" class=\"main-topic\"><div data-bind=\"text: title, attr: {title: title}\" class=\"topic-name\">;</div><div class=\"sub-topics\"></div></div></div>"}),deftmp("ui.scheduleSettings.DaysOff",{template:"<div class=\"ui-scheduleSettings-DaysOff\"><div class=\"days-off-section\"></div></div>"}),deftmp("ui.scheduleSettings.DaysOffEditor",{template:"<div class=\"ui-scheduleSettings-DaysOffEditor\"><div data-bind=\"css:{empty:dates().length == 0 &amp;&amp; repeatingDays().length == 0}\" class=\"days-off-wrapper\"><div data-bind=\"visible: modified\" class=\"save-warning\"> <i class=\"fas fa-exclamation-circle\"></i><span>Click \"Save changes\" to finalize.</span></div><h4 class=\"panel-title\">Days off</h4><div class=\"days-section\"><div data-bind=\"visible: mode()==&quot;view&quot;\" class=\"days-list\"><div data-bind=\"foreach: dates\"><div data-bind=\"css:{locked:!$root.removeAllowed($data), &quot;hidden&quot;:$root.getDateRangeHidden($data)}\" class=\"off-item\"><div class=\"the-days\"><span data-bind=\"visible: start != stop\"><span data-bind=\"text: moment(start).format(&quot;MMM D&quot;)\"></span><span> -&nbsp;</span><span data-bind=\"text: moment(stop).format(&quot;MMM D&quot;)\"></span></span><span data-bind=\"visible: start == stop\"><span data-bind=\"text: moment(start).format(&quot;MMM D&quot;)\"></span></span></div><div data-bind=\"click: $root.removeRange($data)\" class=\"remove-range\">&times;</div></div></div><div data-bind=\"foreach: repeatingDays\"><div data-bind=\"css:{locked:!$root.removeAllowed($data), &quot;hidden&quot;:$root.getDateRangeHidden($data)}\" class=\"off-item\"><div class=\"the-days\"><span data-bind=\"visible: $data.days !== undefined\">Every&nbsp;<span data-bind=\"text: $root.daysOfTheWeek($data.days)\"></span>&nbsp;</span><span data-bind=\"visible: $data.days !== undefined\">(</span><span data-bind=\"visible: start != stop\"><span data-bind=\"text: moment(start).format(&quot;MMM D&quot;)\"></span><span> -&nbsp;</span><span data-bind=\"text: moment(stop).format(&quot;MMM D&quot;)\"></span></span><span data-bind=\"visible: start == stop\"><span data-bind=\"text: moment(start).format(&quot;MMM D&quot;)\"></span></span><span data-bind=\"visible: $data.days !== undefined\">)    </span></div><div data-bind=\"click: $root.removeRepeat($data)\" class=\"remove-range\">&times;    </div></div></div><div class=\"add-btn-section\"><button data-bind=\"click: addDaysOff\" class=\"button box left-icon\"><i class=\"fas fa-plus\"> </i><span>Add days off</span></button><div class=\"empty-msg\"><div class=\"icon\"><i class=\"fas fa-umbrella-beach\"></i></div><div class=\"msg\">Everyone needs a day off once in a while.    </div></div></div></div><div data-bind=\"visible: mode()==&quot;add&quot;\" class=\"add-section\"><div class=\"add-days\"></div></div></div></div></div>"}),deftmp("ui.scheduleSettings.EmptySchedule",{template:"<div class=\"ui-scheduleSettings-EmptySchedule\"><div data-bind=\"visible: mode()==&quot;prompt&quot;\"><div class=\"icon\"><i class=\"fal fa-calendar-edit\"></i></div><div class=\"info\"><span>Your dedicated review schedule has not been set up yet. We recommend waiting until a few weeks before classes end so you can customize it just right.</span></div><div data-bind=\"click:startWizard\" class=\"cta-btn\"><span>Build dedicated schedule</span></div></div><div data-bind=\"visible: mode()==&quot;build&quot;\"><div class=\"ui-CreateDedicatedStudyPlan\"></div></div></div>"}),deftmp("ui.scheduleSettings.GeneralSettings",{template:"<div class=\"ui-scheduleSettings-GeneralSettings\"><div data-bind=\"visible: !schedule.timeline.pending\" class=\"name-section section\"><h4 class=\"panel-title\">Name</h4><div data-bind=\"visible:!editingName()\" class=\"static\"><div data-bind=\"html:scheduleName,click:editName\" class=\"the-name\"></div><i data-bind=\"click:editName\" class=\"fas fa-edit\"></i></div><div class=\"text-input\"><input type=\"text\" data-bind=\"visible:editingName,value:scheduleName,event:{keypress:notifyChange}\"/></div></div><div data-bind=\"visible: !schedule.timeline.pending\" class=\"dates-section section\"><h4 class=\"panel-title\">Dates</h4><div class=\"dates\"><div class=\"start-date date\"><div data-bind=\"click:editStartDate,visible:!editingStartDate()\" class=\"static\"><div class=\"the-label\">Start:</div><div class=\"the-date\"><span data-bind=\"html:startDate\"></span><i data-bind=\"visible: !canEditStartDate()\" title=\"The most flexible way to move your schedule around is to change when youre studying each topic under &quot;Topics.&quot;\" class=\"fas fa-info-circle tip\"></i></div><i data-bind=\"visible: canEditStartDate()\" class=\"fas fa-edit\"></i></div><div data-bind=\"visible:editingStartDate\" class=\"editing\"><div class=\"the-label\">Start:</div><div class=\"text-input\"><input type=\"text\" data-bind=\"value: startEdit\" placeholder=\"Start (yyyy-mm-dd)\" class=\"datepicker\"/></div><div class=\"actions\"><span data-bind=\"click:checkEditStartDate\" class=\"save-action\">save</span></div></div></div><div class=\"end-date date\"><div data-bind=\"click:editEndDate,visible:!editingEndDate()\" class=\"static\"><div class=\"the-label\">End:</div><div data-bind=\"html:endDate\" class=\"the-date\"> </div><i class=\"fa fa-edit\"></i></div><div data-bind=\"visible:editingEndDate\" class=\"editing\"><div class=\"the-label\">End:</div><div class=\"text-input\"><input type=\"text\" data-bind=\"value: endEdit\" placeholder=\"End (yyyy-mm-dd)\" class=\"datepicker\"/></div><div class=\"actions\"><span data-bind=\"click:checkEditEndDate\" class=\"save-action\">save</span></div></div></div></div></div><div data-bind=\"visible: schedule.timeline.pending\" class=\"invalid-schedule center section\"><p>Looks like this is an empty schedule created on an older version of the schedule.</p><p>You can delete it and create a new schedule from scratch. </p></div><div data-bind=\"click:deleteSchedule\" class=\"delete-section section\"><button class=\"button red left-icon centered\"><i class=\"fas fa-trash\"></i><span>Delete schedule</span></button></div></div>"}),deftmp("ui.scheduleSettings.PracticeExams",{template:"<div class=\"ui-scheduleSettings-PracticeExams\"><div data-bind=\"css:{empty:exams().length == 0}\" class=\"practice-exams\"><h4 class=\"panel-title\">Full-length practice exam days</h4><div data-bind=\"foreach: exams\" class=\"exams-section\"><div data-bind=\"css:{editing:editing}\" class=\"exam-wrapper\"><div data-bind=\"click:$root.editDate($data)\" class=\"title\"><span data-bind=\"text:name\" class=\"the-name\"></span><span data-bind=\"visible: form, text:&quot; Form &quot;+form\" class=\"the-form\"></span></div><div class=\"exam-date\"><div data-bind=\"visible:!editing(), click:$root.editDate($data)\"><span data-bind=\"text:day\" class=\"the-day\"></span><span class=\"sep\">&nbsp;</span><span data-bind=\"text:date\" class=\"the-date\"></span><i class=\"fa fa-edit edit-icon\"></i></div><div data-bind=\"visible:editing\"><input type=\"text\" placeholder=\"Set date for exam\" data-bind=\"value: editdate\" class=\"datepicker\"/></div></div><div class=\"actions\"><div data-bind=\"visible:!editing() &amp;&amp; !editingLocked()\" class=\"remove-actions\"><span title=\"Remove exam\" data-bind=\"click: $root.removeExam($data)\" class=\"remove tip\">&times;</span></div><div data-bind=\"visible: editing\" class=\"save-actions\"><span data-bind=\"ajax: $root.saveExamEdits($data)\" class=\"save\">save</span></div></div></div></div><div data-bind=\"visible:!editing() &amp;&amp; !addingExam()\" class=\"add-exam\"><button data-bind=\"click:addPracticeExam\" class=\"button left-icon box\"> <i class=\"fas fa-plus\"></i><span>Add exam</span></button></div><div data-bind=\"visible:addingExam\" class=\"new-exam\"><div id=\"exam\" class=\"dropdown\"><label>Exam Form</label></div><div class=\"exam-name text-input\"><input type=\"text\" placeholder=\"Enter exam name\" data-bind=\"visible: newExamForm() === &quot;Custom...&quot;, value:customExamForm \"/></div><div class=\"exam-date text-input\"><input type=\"text\" placeholder=\"Select date\" data-bind=\"visible: newExamForm, value:newExamDate\" class=\"datepicker\"/></div><div class=\"add-exam-cta\"><button data-bind=\"click:addNewExam\" class=\"button green thin\">Add practice exam </button></div></div></div></div>"}),deftmp("ui.scheduleSettings.RebalanceTool",{template:"<div class=\"ui-scheduleSettings-RebalanceTool\"><div data-bind=\"visible: messageText()\" class=\"message-section\"><p data-bind=\"text: messageText, css: recommendArchive() ? &quot;negative&quot; : &quot;warning&quot;\" class=\"message speech-bubble\"></p><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/0JVnIydKQ__3t9k670L6ggJKTe_x6toP.png\" class=\"creature-image\"></div><div class=\"align-center\"><button style=\"display: &quot;block&quot;\" data-bind=\"visible: needsRebalance() &amp;&amp; recommendArchive()\" class=\"button red box thin left-icon\"><i class=\"fas fa-archive\"></i><span data-bind=\"ajax: archiveSchedule\">Archive this schedule</span></button></div><div class=\"rebalancer\"><p data-bind=\"fadeVisible: errorMessage().text, text: errorMessage().text, css: errorMessage().type\" class=\"message\"></p><div data-bind=\"visible: !needsRebalance()\" class=\"content-container on-schedule\"><i class=\"fal fa-thumbs-up\"></i><p>You're on schedule, there's nothing to rebalance.</p></div><div data-bind=\"visible: needsRebalance()\" class=\"content-container rebalance-method\"><p>How do you want to rebalance your schedule?</p><div class=\"radio-input\"><label for=\"rebalance-squeeze\" class=\"option\">Squeeze it in<input type=\"radio\" name=\"rebalance-method\" value=\"squeeze\" id=\"rebalance-squeeze\" data-bind=\"checked: rebalanceMethod\"/><span class=\"checkmark\"></span><div class=\"option-explainer\">Keep my same deadlines</div></label><label for=\"rebalance-spread\" class=\"option\">Spread it out<input type=\"radio\" name=\"rebalance-method\" value=\"spread\" id=\"rebalance-spread\" data-bind=\"checked: rebalanceMethod\"/><span class=\"checkmark\"></span><div class=\"option-explainer\">Use my days off for studying</div></label></div></div><div data-bind=\"visible: needsRebalance() &amp;&amp; recommendArchive()\" class=\"content-container rebalance-type\"><p>When do you want to rebalance your schedule?</p><div class=\"radio-input\"><label for=\"rebalance-today\" style=\"font-weight: normal\" class=\"option\">Rebalanced tasks start <strong>today</strong><input type=\"radio\" name=\"rebalance-type\" value=\"today\" id=\"rebalance-today\" data-bind=\"checked: rebalanceType\"/><span class=\"checkmark\"></span><div class=\"option-explainer\">Select this if you plan on doing some studying today.</div></label><label for=\"rebalance-tomorrow\" style=\"font-weight: normal\" class=\"option\">Rebalanced tasks start <strong>tomorrow</strong><input type=\"radio\" name=\"rebalance-type\" value=\"tomorrow\" id=\"rebalance-tomorrow\" data-bind=\"checked: rebalanceType\"/><span class=\"checkmark\"></span><div class=\"option-explainer\">Select this if you're done studying today.</div></label></div></div><div class=\"align-center\"><button data-bind=\"visible: needsRebalance(), ajax: submitRebalanceRequest\" class=\"button green\">Rebalance</button></div></div></div>"}),deftmp("ui.scheduleSettings.ResourceSelector",{template:"<div class=\"ui-scheduleSettings-ResourceSelector\"><div class=\"filters\"><div class=\"filter-column\"><div class=\"filter-container\"><h4 class=\"panel-title\">Custom Resource Goals</h4><div data-bind=\"css:{empty:customResources().length == 0}\" class=\"filter-group custom-resources\"><div data-bind=\"foreach:customResources\" class=\"repeat-tasks\"><div data-bind=\"css: {alpha40: markedForDelete}, style: { &quot;z-index&quot;: $root.customResources().length - $index() }\" class=\"repeat-task filter\"><div class=\"task-title\"><span data-bind=\"click: $root.editRepeatTaskTitle($data), html:title\" title=\"Edit title\" class=\"filter-name clickable tip\"></span><span data-bind=\"visible: !markedForDelete(), click:$root.removeRepeatTask($data)\" title=\"Remove task\" class=\"task-delete tip\">&times;</span></div><div data-bind=\"visible: !markedForDelete()\" class=\"task-info\"><div class=\"task-dates\"><a href=\"\" title=\"Edit start date\" data-bind=\"click: $root.editRepeatTaskDate($data,&quot;startDate&quot;), html: startDate().format(&quot;MMM D&quot;)\" class=\"meta tip\"></a><span> -&nbsp;</span><a href=\"\" title=\"Edit end date\" data-bind=\"click: $root.editRepeatTaskDate($data,&quot;stopDate&quot;), html: stopDate().format(&quot;MMM D&quot;)\" class=\"meta tip\"></a></div><div class=\"task-data\"><span data-bind=\"html: &quot;Completed &quot;+completed+&quot; of&nbsp;&quot;\" class=\"meta\"></span><a href=\"\" title=\"Edit item count\" data-bind=\"click: $root.editRepeatTaskCount($data), html: count\" class=\"meta tip\"></a></div><div data-bind=\"visible:modified\" style=\"font-size:95%\" class=\"task-meta\">(click \"Save changes\" to finalize)</div></div></div></div><div class=\"add-resource\"><div class=\"empty-msg\">You can add other resources you use like UWorld or Kaplan.</div><button data-bind=\"click:addCustomResource\" class=\"button box left-icon\"><i class=\"fas fa-plus\"></i><span>Add Resource</span></button></div></div></div><div class=\"filter-container\"><h4 class=\"panel-title\">Osmosis</h4><div class=\"filter-group\"><div data-bind=\"click: resourceClickHandler(&quot;osmosisVideos&quot;)\" class=\"filter\"><span class=\"filter-name\">Videos</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.osmosisVideos()}\"/><div class=\"slider\"></div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;osmosisFlashcards&quot;)\" class=\"filter\"><span class=\"filter-name\">Flashcards</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.osmosisFlashcards()}\"/><div class=\"slider\"></div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;osmosisQuestions&quot;)\" class=\"filter\"><span class=\"filter-name\">Questions</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.osmosisQuestions()}\"/><div class=\"slider\"></div></label></div></div></div></div><div class=\"filter-container\"><h4 class=\"panel-title\">Core</h4><div class=\"filter-group\"><div data-bind=\"click: resourceClickHandler(&quot;boardsAndBeyond&quot;)\" class=\"filter\"><span class=\"filter-name\">Boards and Beyond</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.boardsAndBeyond()}\"/><div class=\"slider\"> </div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;firstAid&quot;)\" class=\"filter\"><span class=\"filter-name\">First Aid&nbsp;<span data-bind=\"text: schedule.preferences.version\" class=\"filter-name-extra\"></span><div data-bind=\"click: filterInfoPopupClicked\" class=\"filter-info-container\"><i class=\"fas fa-info-circle filter-info-icon\"></i><div class=\"filter-info-popup\"><div class=\"filter-info-popup-title\">Want to update your First Aid edition?</div><div data-bind=\"click: closeFilterInfoPopupClicked\" class=\"filter-info-popup-close\"><i class=\"fas fa-times-thin\"></i></div><div class=\"filter-info-popup-content\">If you decide to align your study schedule to a different version of First Aid, your existing checkboxes will be archived and you'll need to create a new schedule. It's best to do this just after finishing a subject block and before starting a new one.\nGo to the settings tab to start over</div></div></div></span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.firstAid()}\"/><div class=\"slider\">     </div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;picmonic&quot;)\" class=\"filter\"><span class=\"filter-name\">Picmonic</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.picmonic()}\"/><div class=\"slider\"> </div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;sketchyMicro&quot;)\" class=\"filter\"><span class=\"filter-name\">Sketchy Micro</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.sketchyMicro()}\"/><div class=\"slider\"> </div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;sketchyPath&quot;)\" class=\"filter\"><span class=\"filter-name\">Sketchy Path</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.sketchyPath()}\"/><div class=\"slider\"> </div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;sketchyPharm&quot;)\" class=\"filter\"><span class=\"filter-name\">Sketchy Pharm</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.sketchyPharm()}\"/><div class=\"slider\"> </div></label></div></div><div data-bind=\"click: resourceClickHandler(&quot;pathoma&quot;)\" class=\"filter\"><span class=\"filter-name\">Pathoma</span><div class=\"toggle-input\"><label><input type=\"checkbox\" data-bind=\"attr: {checked: resources.pathoma()}\"/><div class=\"slider\"> </div></label></div></div></div></div></div></div></div>"}),deftmp("ui.scheduleSettings.Setup",{template:"<div class=\"ui-scheduleSettings-Setup\"><div class=\"name-section\"><h4 class=\"panel-title\">Schedule name</h4><div class=\"text-input\"><input type=\"text\" required=\"required\" data-bind=\"value: scheduleName, valueUpdate: [ &quot;afterKeyDown&quot;, &quot;keypress&quot;, &quot;input&quot;]\"/></div></div><div class=\"dates-section\"><div class=\"start-date\"><h4 class=\"panel-title\">Start date</h4><div class=\"text-input\"><input type=\"text\" required=\"required\" data-bind=\"value: startDate\" style=\"min-width:200px\" class=\"datepicker\"/></div></div><div class=\"end-date\"><h4 class=\"panel-title\">End date</h4><div class=\"text-input\"><input type=\"text\" required=\"required\" data-bind=\"value: stopDate\" style=\"min-width:200px\" class=\"datepicker\"/></div></div></div><div class=\"fa-section\"> <h4 class=\"panel-title\">First Aid version</h4><div class=\"dropdown-select\"><div id=\"faVersion\" class=\"dropdown\"></div></div></div><div class=\"type-section\"><h4 class=\"panel-title\">Schedule Type</h4><div class=\"type-options\"><div class=\"single type-option\"><div class=\"radio-alt-input\"><label class=\"option\"><input type=\"radio\" name=\"schedule-type\" value=\"fixed\" data-bind=\"checked: scheduleType\"/><div class=\"checkmark\"><p class=\"text\">Single exam</p></div></label></div><div class=\"descr\">This is best if you're working toward a single exam, e.g. the USMLE Step 1.    </div></div><div class=\"multi type-option\"><div class=\"radio-alt-input\"><label class=\"option\"><input type=\"radio\" name=\"schedule-type\" value=\"scaled\" data-bind=\"checked: scheduleType\"/><div class=\"checkmark\"><p class=\"text\">Multiple exams</p></div></label></div><div class=\"descr\">This is best if you'll have multiple exams within one date range, e.g. a course with a midterm and a final exam.</div></div></div></div></div>"}),deftmp("ui.scheduleWizard.BasicScheduleSetup",{template:"<div class=\"ui-scheduleWizard-BasicScheduleSetup ui-ConfigTool\"><div class=\"decision-tree\"></div></div>"}),deftmp("ui.scheduleWizard.CoursesOrder",{template:"<div class=\"ui-scheduleWizard-CoursesOrder\"><div data-bind=\"visible: !subjects().length\" class=\"negative message no-courses-message\"><i class=\"fas fa-exclamation-circle\"></i><span>You have to have at least one course.</span></div><h4 class=\"panel-title\">Schedule courses</h4><div data-bind=\"foreach: subjects, visible: subjects().length\" class=\"subjects\"><div class=\"subject-row\"><div class=\"subject-block\"><div class=\"icon\"><img data-bind=\"visible: icon, attr: {src: icon}\"/></div><div data-bind=\"text: title, attr: { &quot;data-topic&quot;: title }\" class=\"topic\"></div><div class=\"subject-dates\"><div class=\"begin-date\"><div data-bind=\"visible:!editing(), click:$root.handleEditClick($data)\" class=\"date-container\"><span data-bind=\"html:startDisplay\"></span><i class=\"fas fa-calendar-alt\"></i></div><div class=\"text-input\"><input type=\"text\" data-bind=\"value: startEdit, visible:editing\" data-dp-minDate=\"+0D\" class=\"datepicker\"/></div></div><div class=\"sep\">to</div><div class=\"end-date\"><div data-bind=\"visible:!editing(), click:$root.handleEditClick($data)\" class=\"date-container\"><span data-bind=\"html:endDisplay\"></span><i class=\"fas fa-calendar-alt\"></i></div><div class=\"text-input\"><input type=\"text\" data-bind=\"value: endEdit, visible:editing\" data-dp-minDate=\"+0D\" class=\"datepicker\"/></div></div></div><div class=\"actions\"><div data-bind=\"visible:editing, click:$root.cancelEdit($data)\" class=\"cancel\">cancel</div><div data-bind=\"visible:editing, click:$root.saveEdit($data)\" class=\"save\">save</div><div data-bind=\"visible:!editing(), click: $root.removeSubject($data)\" class=\"delete\">&times;</div></div></div></div></div><div data-bind=\"visible:!subjects().length\" class=\"empty-msg\"><div class=\"icon\"><i class=\"ti ti-cardio\"></i></div><div class=\"msg\">You haven't added any Courses to study. Select your first topic from the menu below.        </div></div><div class=\"add-subject\"><button data-bind=\"click:showAddTopic, visible:!addTopicVisible()\" class=\"button box left-icon\"><i class=\"fas fa-plus\"></i><span>Add course</span></button><div data-bind=\"visible:addTopicVisible || !subjects().length\" class=\"input-section\"><div class=\"inputs\"><div class=\"topic-section\"><div class=\"topic-list dropdown-select\"><div id=\"topic\" class=\"dropdown\"><label>Topic</label></div></div><div data-bind=\"visible: categories().length\" class=\"subtopic-list dropdown-select\"><div id=\"subtopic\" class=\"dropdown\"><label>Subtopic</label></div></div></div><div class=\"length-section\"><div class=\"start-date text-input\"><label>Start Date</label><input type=\"text\" data-bind=\"value: newTopicStart\" placeholder=\"Start date\" class=\"datepicker\"/></div><div class=\"end-date text-input\"><label>End Date</label><input type=\"text\" data-bind=\"value: newTopicEnd\" placeholder=\"End date\" class=\"datepicker\"/></div></div></div><div class=\"add-subject\"><button data-bind=\"click:addTopic\" class=\"button green\">Add course  </button></div></div></div></div>"}),deftmp("ui.scheduleWizard.DedicatedExtraDays",{template:"<div class=\"ui-scheduleWizard-DedicatedExtraDays\"></div>"}),deftmp("ui.scheduleWizard.FirstAidVersion",{template:"<div class=\"ui-scheduleWizard-FirstAidVersion\"></div>"}),deftmp("ui.scheduleWizard.ScheduleBuildList",{template:"<div class=\"ui-scheduleWizard-ScheduleBuildList\"><div style=\"text-align: left\" data-bind=\"visible: mode()==&quot;menu&quot; || mode()==&quot;next&quot;\"><div class=\"schedule-build-list-header\"><div class=\"schedule-build-list-title\">Edit subjects and resources in your study schedule</div><div class=\"schedule-build-list-description\">Your study schedule can be divided up into study review periods. Each review period is a block of time that can feature different topics.</div></div><div data-bind=\"foreach: schedules\" class=\"schedules\"><div data-bind=\"css: { &quot;disabled&quot;: state() === &quot;disabled&quot;, &quot;completed&quot;: state() === &quot;completed&quot; }\" class=\"schedule-item\"><div class=\"schedule-item-info\"><div data-bind=\"text: title\" class=\"schedule-item-title\"></div><div data-bind=\"html: descr\" class=\"schedule-item-description\"></div></div><div class=\"schedule-item-cta-container\"><div data-bind=\"click: $root.startSetup($data), visible: state()!=&quot;Completed&quot;\" class=\"schedule-item-cta\"><a data-bind=\"visible: state()==&quot;pending&quot;\" href=\"#\" class=\"btn btn-success btn-sm btn-setup\">Setup</a><span data-bind=\"visible: state()==&quot;disabled&quot;\" disabled=\"true\">We\u2019ll set this up later</span></div><div data-bind=\"visible: state()==&quot;completed&quot;\" class=\"schedule-item-cta\"><a data-bind=\"click: $root.startSetup($data)\" href=\"#\" class=\"btn btn-success btn-sm btn-edit\">Edit</a></div></div></div></div><div class=\"actions-container\"><a data-bind=\"click: back\" style=\"margin-right: 4px;\" href=\"#\" class=\"btn btn-back\">Back</a><a data-bind=\"click: next, css: { &quot;disabled&quot;: mode() !== &quot;next&quot; }\" href=\"#\" class=\"btn btn-success btn-next\">Next</a></div></div><div data-bind=\"visible: mode()==&quot;setup&quot;\" class=\"schedule-setup\"></div></div>"}),deftmp("ui.scheduleWizard.ScheduleDaysOff",{template:"<div class=\"ui-scheduleWizard-ScheduleDaysOff\"></div>"}),deftmp("ui.scheduleWizard.SchedulePracticeExams",{template:"<div class=\"ui-scheduleWizard-SchedulePracticeExams\"></div>"}),deftmp("ui.scheduleWizard.ScheduleStudyDays",{template:"<div class=\"ui-scheduleWizard-ScheduleStudyDays\"></div>"}),deftmp("ui.scheduleWizard.ScheduleUWorld",{template:"<div class=\"ui-scheduleWizard-ScheduleUWorld\"></div>"}),deftmp("ui.scheduleWizard.SelectResources",{template:"<div class=\"ui-scheduleWizard-SelectResources\"></div>"}),deftmp("ui.scheduleWizard.StudyPlanBuilder",{template:"<div class=\"ui-scheduleWizard-StudyPlanBuilder\"><div data-bind=\"visible: mode()==&quot;start&quot;\" class=\"decision-blocks\"></div><div data-bind=\"visible: mode()==&quot;build&quot;\" style=\"padding-bottom: 75px;padding-top: 50px;\" class=\"build-mode-section\"><div class=\"dt-progress-bar-container\"></div><div class=\"cta-message\"><h2>You're all set! </h2><p>Build your schedule to start studying.</p></div><button data-bind=\"ajax: create, enable: allowGenerate\" class=\"green button generate-schedule\">Build schedule</button></div></div>"}),deftmp("ui.scheduleWizard.SubjectOrder",{template:"<div class=\"ui-scheduleWizard-SubjectOrder\"><div data-bind=\"visible: subjects().length\" class=\"tip\"><span>Drag and drop to reorder</span></div><div data-bind=\"foreach: subjects, visible:subjects().length\" class=\"subjects\"><div data-bind=\"visible: visible, css: {unsortable: $index() == 0 &amp;&amp; elapsed != 0}\" class=\"subject-row\"><div class=\"move-handle\"><i class=\"fa fa-grip-vertical\"></i></div><div class=\"subject-block\"><div class=\"icon\"><img data-bind=\"visible: icon, attr: {src: icon}\"/></div><div data-bind=\"text: title, attr: { &quot;data-topic&quot;: title }\" class=\"topic\"></div><div class=\"start-date dates-adjuster\"><div data-bind=\"click: $root.changeDays($data,-1)\" class=\"change-days\"><div class=\"fa fa-minus\"></div></div><div data-bind=\"visible: length() &gt; 0\" class=\"day-amount\"><span data-bind=\"text: length() == 1 ? 1 : length()\" class=\"day\"></span><span data-bind=\"text: length() == 1 ? &quot;day&quot; : &quot;days&quot;\" class=\"date\"></span></div><div data-bind=\"visible: length() == 0\" style=\"font-size: 60%\" class=\"day-amount\"><div class=\"day\">merge with</div><div class=\"date\">previous</div></div><div data-bind=\"click: $root.changeDays($data,1)\" class=\"change-days\"><div class=\"fa fa-plus\"></div></div></div><div data-bind=\"click: $root.removeSubject($data)\" class=\"delete\">&times;</div></div></div></div><div data-bind=\"visible: !subjects().length\" class=\"empty-msg\"><div class=\"icon\"><i class=\"ti ti-cardio\"></i></div><div class=\"msg\">You haven't added any Topics to study. Select your first topic from the menu below.</div></div><div class=\"add-subject\"><button data-bind=\"click:showAddTopic, visible:!addTopicVisible() || subjects().length &gt; 0\" class=\"left-icon button box\"><i class=\"fa fa-plus\"></i><span>Add topic</span></button><div data-bind=\"visible: addTopicVisible || !subjects().length\" class=\"input-section\"><div class=\"inputs\"><div class=\"topic-section\"><div class=\"topic-list dropdown-select\"><div id=\"topic\" class=\"dropdown\"><label>Topic</label></div></div><div data-bind=\"visible: categories().length\" class=\"subtopic-list dropdown-select\"><div id=\"subtopic\" class=\"dropdown\"><label>Subtopic</label></div></div></div><div class=\"length-section\"><label>Days</label><div class=\"dates-adjuster\"><div data-bind=\"click: changeNewTopicDays(-1)\" class=\"change-days\"><div class=\"fa fa-minus\"></div></div><div class=\"day-amount\"><span data-bind=\"text: newTopicLength() == 1 ? 1 : newTopicLength()\" class=\"day\"></span><span data-bind=\"text: newTopicLength() == 1 ? &quot;day&quot; : &quot;days&quot;\" class=\"date\"></span></div><div data-bind=\"click: changeNewTopicDays(1)\" class=\"change-days\"><div class=\"fa fa-plus\"></div></div></div></div></div><div class=\"add-subject\"><button data-bind=\"click:addTopic\" class=\"button green\">Add Topic  </button></div></div></div></div>"}),deftmp("ui.scheduleWizard.SummerSchedule",{template:"<div class=\"ui-scheduleWizard-SummerSchedule\"></div>"}),deftmp("ui.stats.GroupEventDashboard",{template:"<div class=\"ui-stats-GroupEventDashboard\"><div class=\"ajax-loader\"></div><div class=\"row\"><div class=\"col-lg-12\"><div class=\"ui-stats-ActivityCalendar\"></div></div></div></div>"}),deftmp("ui.stats.RealtimeAnalytics",{template:"<div class=\"ui-stats-RealtimeAnalytics center\"><div id=\"container1\" style=\"height: 500px; width: 960px;\"></div></div>"}),deftmp("ui.stats.Topic",{template:"<div class=\"ui-stats-Topic well card shadow-edge\"><div class=\"row\"><div class=\"span\"><h4 data-bind=\"text: topicName\"></h4></div><div class=\"span pull-right\"><div data-bind=\"html: icon\" class=\"shadow-inside\"></div></div></div><hr/><div class=\"scoreboard\"> </div><hr/><div class=\"stats\"><div class=\"row\"><div class=\"span\"><div data-bind=\"text: 'Overall: ' + stats().accuracy\" class=\"indicator indicator-card shadow-inside\"></div></div><div onclick=\"$(this).center();\" class=\"span pull-right\"><div data-bind=\"text: 'Answered: ' + stats().total\" class=\"indicator indicator-card shadow-inside\"></div></div></div></div></div>"}),deftmp("ui.styleguide.MyComponent",{template:"<div class=\"ui-styleguide-MyComponent\"><button data-bind=\"click: myMethod\" class=\"blue button\">Toggle foo</button><p data-bind=\"visible: fooVisible\" class=\"message\">I'm a message!</p></div>"}),deftmp("ui.styleguide.MyModal",{template:"<div class=\"ui-styleguide-MyModal ui-modals-BaseModal\"><div class=\"osm-background\"></div><div class=\"osm-modal\"><div class=\"osm-modal-title-bar\"><div class=\"osm-modal-title-container\"><div data-bind=\"html: title\" class=\"osm-modal-title\"></div><div data-bind=\"text: subTitle\" class=\"osm-modal-sub-title\"></div></div><div data-bind=\"click: close\" class=\"osm-modal-close-button\"><i class=\"fas fa-times\"></i></div></div><div class=\"osm-modal-content\"> <img src=\"https://d16qt3wv6xm098.cloudfront.net/zFkKmuNWR1OAxwjcYhr9SY3JR2mbhiDw/_.png\"/><h2>Hi. </h2><p>Modal content goes here...</p></div></div></div>"}),deftmp("ui.survey.BoxChoiceQuestion",{template:"<div class=\"ui-survey-BoxChoiceQuestion\"><div class=\"header-container\"><div class=\"title-container\"> <h2 data-bind=\"html: questionText\" class=\"title\"></h2></div><div data-bind=\"click: quit\" class=\"quit\">&times;</div></div><div class=\"radio-alt-input\"><div data-bind=\"foreach: options\" class=\"answers-container\"><label class=\"option\"><input data-bind=\"click: $root.selectAnswer($data)\" type=\"radio\" name=\"radio-alt\" value=\"option-1\" id=\"radio-alt-option-1\"/><div class=\"checkmark\"><p data-bind=\"text: large\" class=\"text\"></p><p data-bind=\"visible: small, text: small\" class=\"text\"></p></div></label></div></div></div>"}),deftmp("ui.survey.CheckboxQuestion",{template:"<div class=\"ui-survey-CheckboxQuestion\"><div class=\"header-container\"><div class=\"title-container\"><h2 data-bind=\"html: questionText\" class=\"title\"></h2><p class=\"subtitle\">Check all that apply</p></div><div data-bind=\"click: quit\" class=\"quit\">&times;              </div></div><div data-bind=\"foreach: options\" class=\"list-column\"><div data-bind=\"click: $root.check($data)\" class=\"list-row checkbox-input\"><input type=\"checkbox\" data-bind=\"checked: $parent.selectedAnswers, value: $data\"/><label data-bind=\"text: $data\"></label></div></div><div data-bind=\"visible: showTextArea\" class=\"free-response-container left\"><textarea type=\"text\" data-bind=\"value: freeResponse\" placeholder=\"Please type your response if you selected &quot;Other&quot;\" maxlength=\"2000\" class=\"text-input\">   </textarea></div><button data-bind=\"click: submit\" class=\"button olive\">Next</button></div>"}),deftmp("ui.survey.ConfirmQuestion",{template:"<div class=\"ui-survey-ConfirmQuestion\"><div class=\"title-container featured\"><h2 data-bind=\"html: title\" class=\"title\"></h2></div><div class=\"intro-button-group\"><button data-bind=\"html: secondaryBtnText, click: secondaryAction\" class=\"button basic\">No, thanks</button><button data-bind=\"html: primaryBtnText, click: primaryAction\" class=\"button olive\">Let's do it</button></div></div>"}),deftmp("ui.survey.CreatureIntro",{template:"<div class=\"ui-survey-CreatureIntro ui-SurveyScreen\"><div class=\"modal-fixed\"><div class=\"modal-container\"><div class=\"modal-content\"><div class=\"image-cover\"></div><div class=\"title-container\"><div class=\"title\">When would you like to select your learning preferences?</div><div class=\"subtitle\">This helps us understand how you'll use Osmosis.</div></div><div data-bind=\"foreach: answerChoices\" class=\"answers-container\"><div data-bind=\"css: {&quot;selected&quot;:selected}, click: $root.submit($data)\" class=\"answer\"><div data-bind=\"text: large\" class=\"large-text\"></div><div data-bind=\"visible: small, text: small\" class=\"small-text\"></div></div></div><div class=\"creature-row\"><div class=\"creature-text\">Everyone studies differently, and Osmosis has tools to help you study in your own style</div><div class=\"creature-image\"><img src=\"/assets/images/image-assets/neutrophil.png\" class=\"creature-image\"></div></div></div></div></div></div>"}),deftmp("ui.survey.GoalsQuestion",{template:"<div class=\"ui-survey-GoalsQuestion\"><div class=\"header-container\"><div class=\"title-container\"><div class=\"title\">What are your goals with Osmosis?</div><div class=\"subtitle\">Select as many as you like</div></div><div data-bind=\"click: quit\" class=\"quit\">&times;              </div></div><div data-bind=\"foreach: goalsData\" class=\"list-column\"></div><button data-bind=\"click: submit\" class=\"button olive\">Submit</button></div>"}),deftmp("ui.survey.RadioQuestion",{template:"<div class=\"ui-survey-RadioQuestion\"><div class=\"header-container\"><div class=\"title-container\"><h2 data-bind=\"text: questionText\" class=\"title\"></h2></div><div data-bind=\"click: quit\" class=\"quit\">&times;   </div></div><div data-bind=\"foreach: options\" class=\"list-column\"><div data-bind=\"click: $root.check($data)\" class=\"list-row radio-input\"><label class=\"option\"><span data-bind=\"text: $data\"></span><input type=\"radio\" data-bind=\"checked: $parent.selectedAnswer, value: $data\"/><span class=\"checkmark\"></span></label></div></div><div data-bind=\"visible: showTextArea\" class=\"free-response-container left\"><textarea type=\"text\" data-bind=\"value: freeResponse\" placeholder=\"Please type your response if you selected &quot;Other&quot;\" maxlength=\"2000\" class=\"text-input\"></textarea></div><button data-bind=\"click: submit\" class=\"button olive\">Next</button></div>"}),deftmp("ui.survey.SimpleIntro",{template:"<div class=\"ui-survey-SimpleIntro\"><div class=\"image-cover\"></div><div class=\"title-container featured\"><h2 data-bind=\"html: title\" class=\"title\"></h2></div><div class=\"creature-row\"><div class=\"creature-text\"><span data-bind=\"visible: message, html: message\"></span></div><div class=\"creature-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/31e3898de778549621c3084bc761b945ac902234.png\"></div></div><div class=\"intro-button-group\"><div data-bind=\"html: secondaryAction.text(), click: submit(secondaryAction)\" class=\"button basic\">No, thanks</div><div data-bind=\"html: primaryAction.text(), click: submit(primaryAction)\" class=\"button olive\">Let's do it</div></div></div>"}),deftmp("ui.survey.Survey",{template:"<div class=\"ui-survey-Survey ui-SurveyScreen\"><div class=\"modal-container\"><div class=\"modal-content\"></div></div></div>"}),deftmp("ui.survey.TextQuestion",{template:"<div class=\"ui-survey-TextQuestion\"><div class=\"header-container\"><div class=\"title-container\"><h2 data-bind=\"text: questionText\" class=\"title\"></h2></div><div data-bind=\"click: quit\" class=\"quit\">&times;   </div></div><div class=\"free-response-container\"><textarea type=\"text\" data-bind=\"value: freeResponse\" placeholder=\"Please type your response here\" maxlength=\"2000\" class=\"text-input\"></textarea></div><button data-bind=\"click: submit\" class=\"button olive\">Next</button></div>"}),deftmp("ui.survey.ThankYou",{template:"<div class=\"ui-survey-ThankYou\"><div class=\"title-container featured\"><h2 class=\"title\"><b>Thank you!</b></h2></div><div class=\"creature-row\"><div data-bind=\"html: message\" class=\"creature-text\"></div><div class=\"creature-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/bf57665f0a17a6232ae9889341f1a57978835fa0.png\"></div></div><div><button data-bind=\"html: btnText, click: mainAction\" class=\"button olive\">Keep learning!</button></div></div>"}),deftmp("ui.survey.WelcomeModal",{template:"<div class=\"ui-survey-WelcomeModal\"><div class=\"title-container featured\"><h2 data-bind=\"html: welcomeText\" class=\"title\"></h2></div><div class=\"creature-row\"><div class=\"creature-text\">We've listed the tools you selected on your home page so you can easily find them.</div><div class=\"creature-image\"><img src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/d7e328f612dd2990a22234e58dc5870c79d7ba77.png\"></div></div><div class=\"button-container\"><button data-bind=\"click: mainAction\" class=\"button olive\">Start learning</button></div></div>"}),deftmp("ui.tutorial.MyComponent",{template:"<div class=\"ui-tutorial-MyComponent\"><h1>Hello world</h1><button data-bind=\"click: clickHandler\">Click me</button><div class=\"ui-tutorial-YourComponent\"></div></div>"}),deftmp("ui.tutorial.YourComponent",{template:"<div class=\"ui-tutorial-YourComponent\"><h2>I'm a child!</h2><div data-bind=\"text: message\" class=\"component-message\"></div></div>"}),deftmp("ui.video.Prompt",{template:"<div data-bind=\"visible: promptVisible\" class=\"ui-video-Prompt\"><div class=\"background-overlay\"></div><div class=\"prompt-container\"><div class=\"prompt-content-wrapper\"> </div></div></div>"}),deftmp("ui.video.ResumePrompt",{template:"<div data-bind=\"fadeVisible: promptVisible\" class=\"ui-video-ResumePrompt ui-video-Prompt\"><div class=\"background-overlay\"></div><div class=\"prompt-container\"><div class=\"prompt-content-wrapper\"><div class=\"prompt-content\"><div class=\"prompt-text\"><p class=\"text\"><span>You've already started watching </span><span data-bind=\"text: title\" class=\"video-title\"></span></p></div><div class=\"prompt-buttons\"><button data-bind=\"click: resumeVideo\" class=\"olive button left-icon\"><i class=\"fas fa-play\"></i><span>Resume video</span></button><button data-bind=\"click: startOver\" class=\"basic button left-icon\"><i class=\"fas fa-undo\"></i><span>Start over</span></button></div></div></div></div></div>"}),deftmp("ui.video.ReviewPrompt",{template:"<div data-bind=\"fadeVisible: promptVisible\" class=\"ui-video-ReviewPrompt ui-video-Prompt\"><div class=\"background-overlay\"></div><div class=\"prompt-container\"><div class=\"review-prompt-wrapper\"><div style=\"text-align: center\" class=\"review-prompt-content\"><div data-bind=\"html: &quot;&lt;b&gt;Take a flashcard quiz&lt;/b&gt; on &quot; + title.toLowerCase()\" class=\"title inverted\"></div><p data-bind=\"text: &quot;Estimated time: &quot; + estimatedTime + &quot; minutes&quot;\" class=\"text inverted\"></p></div><div class=\"prompt-buttons\"><button data-bind=\"click: saveToQueue\" class=\"basic button prompt-action\">Save to queue</button><button data-bind=\"click: startQuiz\" class=\"button blue prompt-action\">Start quiz</button></div></div></div></div>"}),deftmp("ui.video.SharePrompt",{template:"<div data-bind=\"fadeVisible: promptVisible\" class=\"ui-video-SharePrompt ui-video-Prompt\"><div class=\"background-overlay\"></div><div class=\"prompt-container\"><div class=\"prompt-content-wrapper\"><div class=\"prompt-content\"><div class=\"prompt-text\"><h3 class=\"inverted title\">Share with a friend</h3><p class=\"inverted text\">Studying the same thing as a friend or classmate? Help them out by sending them this video!</p></div><input data-bind=\"value: link\" type=\"text\" class=\"share-link-hidden\"/><div class=\"prompt-buttons\"><button data-bind=\"click: shareOnFacebook\" class=\"circle button small facebook\"><i class=\"fab fa-facebook-f\"></i></button><button data-bind=\"click: shareOnTwitter\" class=\"circle button small twitter\"><i class=\"fab fa-twitter\"></i></button><button data-bind=\"click: shareLink\" data-title=\"Link copied to clipboard.\" class=\"blue button thin left-icon copy-tip\"><i class=\"fas fa-link\"></i><span>Copy link</span></button></div></div></div></div></div>"}),deftmp("cms.ContentGallery",{template:"<div class=\"cms-ContentGallery\"><div class=\"toggle-input list-table-toggle\"><label> <input type=\"checkbox\" data-bind=\"checked: tableView\"/><div class=\"slider\"></div></label><span style=\"margin-left: 60px\" data-bind=\"style: {color: !tableView() &amp;&amp; &quot;green&quot;}\">Gallery View </span><span>/ </span><span data-bind=\"style: {color: tableView() &amp;&amp; &quot;green&quot;}\">Table View</span></div><form class=\"form-inline\"><div class=\"initial-filters\"><select data-bind=\"options: fields, value: selectedField\" class=\"form-control mrs\"></select><input type=\"text\" data-bind=\"value: searchText\" class=\"form-control mrs\"/></div><div class=\"additional-filters\"></div><button data-bind=\"click: search\" class=\"btn btn-default btn-primary\">Search</button><button data-bind=\"click: reset\" class=\"btn btn-default\">Reset Filters</button></form><div data-bind=\"visible: tableView()\" class=\"table-data\"><div class=\"cms-ContentSpreadsheet\"></div></div><div data-bind=\"visible: !tableView()\" class=\"items\"></div><div data-bind=\"click: add\" class=\"add-button\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"icon plus\" style=\"shape-rendering: geometricPrecision;\"><path fill-rule=\"evenodd\" class=\"\" fill=\"currentColor\" d=\"M9,7 L9,3.5 C9,3.224 8.776,3 8.5,3 L7.5,3 C7.224,3 7,3.224 7,3.5 L7,7 L3.5,7 C3.224,7 3,7.224 3,7.5 L3,8.5 C3,8.776 3.224,9 3.5,9 L7,9 L7,12.5 C7,12.776 7.224,13 7.5,13 L8.5,13 C8.776,13 9,12.776 9,12.5 L9,9 L12.5,9 C12.776,9 13,8.776 13,8.5 L13,7.5 C13,7.224 12.776,7 12.5,7 L9,7 Z\"></path></svg></div></div>"}),deftmp("cms.ContentSpreadsheet",{template:"<div class=\"cms-ContentSpreadsheet\"><table class=\"table table-responsive table-striped table-hover table-bordered\"><thead><tr data-bind=\"foreach: headers\"><th data-bind=\"html: $data, click: $root.sortTable($data)\"></th></tr></thead><tbody data-bind=\"foreach: {data: tableData(), as: &quot;row&quot;}\"> <tr data-bind=\"foreach: {data: $root.getKeys(row), as: &quot;key&quot;}, click: $root.edit(row)\"><td data-bind=\"html: $root.truncateText(row[key])\"></td></tr></tbody></table></div>"}),deftmp("cms.Filters",{template:"<div class=\"cms-Filters\"><select data-bind=\"options: fields, value: selectedField\" class=\"form-control mrs\"></select><input type=\"text\" data-bind=\"value: searchText\" class=\"form-control mrs\"/></div>"}),deftmp("cms.emptyImage",{template:"<div class=\"cms-emptyImage\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" style=\"shape-rendering: geometricPrecision\"><path fill-rule=\"evenodd\" class=\"\" fill=\"currentColor\" d=\"M0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0 1 14.006 16H1.994A1.995 1.995 0 0 1 0 14.006V1.994zm2.073 6.933A.25.25 0 0 0 2 9.104V12.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V8.125a.25.25 0 0 0-.1-.2L10 5 6 8 4 7 2.073 8.927zM3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\"></path></svg></div>"}),deftmp("models.media.Image",{template:"<div style=\"width: inherit; height: inherit\" class=\"models-media-Image\"></div>"}),deftmp("models.media.URL",{template:"<div data-bind=\"css:{&quot;locked-resource&quot;:lockedResource}\" class=\"models-media-URL\"><a href=\"#\" target=\"_blank\" data-bind=\"attr:{href: url}\" class=\"url-thumb-wrapper media-thumb-wrapper\"><div class=\"url-thumb media-thumb\"><i data-bind=\"visible:lockedResource\" class=\"fa fa-lock\"></i><img data-bind=\"attr:{src:thumbnailSrc}\"/></div><div class=\"url-info media-info\"><div data-bind=\"text: title\" class=\"title\"></div><div class=\"source\"><span data-bind=\"text: source\" class=\"the-source\"></span><span data-bind=\"html:sourceLogo, visible:sourceLogo\" class=\"img\"></span></div></div><div class=\"clearfix\"></div></a></div>"}),deftmp("models.media.Youtube",{template:"<div class=\"models-media-Youtube\"><div data-bind=\"visible: !watching(), click: watchVideo, attr:{title:descr}\" class=\"video-thumb-wrapper media-thumb-wrapper\"><div class=\"vid-thumb media-thumb\"> <img data-bind=\"attr:{src:thumbnailSrc}\"/></div><div class=\"vid-info media-info\"><div data-bind=\"text: title\" class=\"title\"></div><div class=\"author\">by <span data-bind='text: author'/></div><div data-bind=\"text:duration\" class=\"time\"></div><div class=\"source\"><div class=\"source\"><span class=\"the-source\">YouTube</span><span class=\"img\"><img src=\"https://osmose-it.s3.amazonaws.com/jyBXRrqKT6CCPERPBXImU_1ORMyHrySU/_.png\" alt=\"youtube logo\"/></span></div></div></div><div class=\"clearfix\"></div></div></div>"}),deftmp("ui.SelectBox",{template:"<select data-bind=\"options:options, optionsText: &quot;label&quot;, optionsValue: &quot;value&quot;\" class=\"ui-SelectBox form-control\"></select>"}),deftmp("ui.Uploader",{template:"<div data-bind=\"visible:!hideDropbox(), css: style() ? &quot;uploader-&quot;+style() : &quot;&quot;\" class=\"ui-Uploader\"><div class=\"upload-target-area mbs\"><div class=\"upload-text\"><p data-bind=\"visible: !isDragging()\" class=\"drop\">Drop file here or <a data-bind='click:triggerCompUpload' href=\"#\">browse</a>.</p><p data-bind=\"visible: isDragging, html: uploadMsg\" class=\"drop\"></p></div></div></div>"}),deftmp("ui.UserDetails",{template:"<div class=\"ui-UserDetails\"><div data-bind=\"visible: name\" class=\"mtl\"><div><span class=\"fwb\">Name: </span> <span data-bind='text: name'/></div><div><span class=\"fwb\">UserID: </span> <span data-bind='text: userID'/></div><div><span class=\"fwb\">Referral Link: </span> https://osmosis.org/invite/<span data-bind='text: code'/></div><div><span class=\"fwb\">Discount Code: </span> https://osmosis.org/plans?discount=<span data-bind='text: code'/></div><div class=\"fwb mts\">Emails</div><div data-bind=\"foreach: emails\" class=\"mlm\"><div data-bind=\"text: email, css: {fwb: status==1, fcg: status==0}\"></div></div><div class=\"mts\"><span class=\"fwb\">Push <span data-bind='text: pushPreference()==1 ? \"on\" : \"off\"'/></span><div data-bind=\"foreach: devices\" class=\"mlm\"><span class=\"mrm\" data-bind='text: os+\":\"+platform+\".\"+pushServer, css: {fwb: primary}'/></div></div><div class=\"fwb mts\">Prime</div><div class=\"mlm\"><div>Expires <span data-bind='text: primeExpires'/></div><div>Status <span data-bind='text: primeStatus'/></div></div><div class=\"fwb mts\">Fullstory Sessions</div><div data-bind=\"foreach: fullstory\" class=\"mlm\"><div><a href=\"\" data-bind=\"text: date(), attr:{href: session}\" target=\"_blank\"></a></div></div><div class=\"fwb mts\">Recent Errors</div><div data-bind=\"foreach: errors\" class=\"mlm\"><div><a href=\"\" data-bind=\"click: show, text: date()\"></a></div></div><div class=\"fwb mts\">Notes</div><div class=\"mlm\"><textarea style=\"width: 100%; height:200px\" data-bind=\"value: notes, valueUpdate: &quot;keypress&quot;\"></textarea><button data-bind=\"click: saveNotes\" class=\"btn btn-primary\">Save Notes</button></div><div class=\"fwb mts\">Active Groups</div><div data-bind=\"foreach: groups\" class=\"mlm\"><div><a data-bind=\"text: name, attr: {href: serverURL+url}\"></a><span>&nbsp;&nbsp;</span><a href=\"\" style=\"font-size:80%\" data-bind=\"click: $root.showGroupDetails($data)\">Show Details</a></div></div><div style=\"width:60%\" class=\"groupDetails\"></div><div class=\"fwb mts\">Sales</div><div data-bind=\"foreach: sales\" class=\"mlm\"><div><span data-bind=\"text: inventoryID\"></span><span>:&nbsp;</span><span data-bind=\"text: data.title\"></span><span>&nbsp;paid&nbsp;$</span><span data-bind=\"text: paidPrice/100\"></span></div></div><div style=\"width:60%\"><div class=\"ui-stats-AnalyticsDashboard\"></div></div><div class=\"fwb mts\">Authentication Methods</div><div data-bind=\"foreach: auth\" class=\"mlm\"><div data-bind=\"text: $data\"></div></div><div class=\"mts\"><div class=\"fwb\">Add Interaction</div><div class=\"mlm\"><form class=\"form-inline mvs\"><input type=\"text\" style=\"min-width:150px\" data-bind=\"value:interactionDate\" class=\"form-control datepicker\"/><span class=\"mlm\"></span><select style=\"min-width:150px\" data-bind=\"options: interactions, optionsText: &quot;action&quot;, optionsValue: &quot;action&quot;, optionsCaption: &quot;Select an Osmosis/user interaction&quot;, value: interaction\" class=\"interactionSelect form-control\"></select></form><button data-bind=\"ajax: addInteraction\" class=\"btn btn-primary\">Add Interaction</button></div></div><div class=\"mtm\"></div><div class=\"fwb\">More Actions</div><div class=\"mlm\"><div class=\"mtm\"><a href=\"\" data-bind=\"click: contactUser\">Contact User</a></div><div class=\"mtm\"><a href=\"\" data-bind=\"visible: !addingTempPassword(), toggle: addingTempPassword\">Add Temporary Password</a><div data-bind=\"visible: addingTempPassword\"><div class=\"fwb\">Add Temporary Password</div><div class=\"mlm\"><div>To create a temporary password for this user and send it to them in an email, choose one of the following password expire times:</div><div><div><a href='' data-bind='click: createTempPassword(2)'>2 days</a></div><div><a href='' data-bind='click: createTempPassword(7)'>1 week</a></div><div><a href='' data-bind='click: createTempPassword(14)'>2 weeks</a></div><div><a href='' data-bind='click: createTempPassword(28)'>4 weeks</a></div></div></div></div><div class=\"mtm\"><a href=\"\" data-bind=\"click:setAppVersion\">Set App Version</a></div></div></div><div class=\"mtm\"><div class=\"fwb\">2-day Store Deal for Med Prime</div><div class=\"mlm\"><div><a href=\"\" data-bind=\"click: addDeal(&quot;med_prime_halfOff&quot;)\">Set Half Off</a></div><div><a href=\"\" data-bind=\"click: addDeal(&quot;med_prime_discount20&quot;)\">Set 20% Off</a></div><div><a href=\"\" data-bind=\"click: addDeal(&quot;med_prime_discount30&quot;)\">Set 30% Off</a></div><div><a href=\"\" data-bind=\"click: addDeal(&quot;med_prime_credit100&quot;)\">Set $100 Off</a></div><div><a href=\"\" data-bind=\"click: addDeal(&quot;med_prime_credit100_discount20&quot;)\">Set $100 + 20% Off</a></div><div><a href=\"\" data-bind=\"click: addDeal(&quot;med_prime_credit100_discount50&quot;)\">Set $100 + 50% Off</a></div><div><a href=\"\" data-bind=\"click: addDeal(&quot;&quot;)\">Remove</a></div></div></div></div></div>"}),deftmp("ui.analytics.BasicAnalytics",{template:"<div class=\"ui-analytics-BasicAnalytics\"><div class=\"panel\"><div class=\"panel-body\"><h2 class=\"mtm mbm\">My Usage <span data-bind='text:title'></h2><div class=\"mtm mbm\">You have answered the questions<b> <span data-bind='text:totals().totalForCurrentUser'/> times!</b></div><h4>Number of Questions Answered per Day</h4><div class=\"user-numberAnsweredPerDay\"></div></div></div><div class=\"panel\"><div class=\"panel-body\"><h2 class=\"mtm mbm\">Group Usage <span data-bind='text:title'></h2><div class=\"mtm mbm\"><span data-bind=\"text:totals().totalUsers\" class=\"fwb\"></span><span> users in the group spent&nbsp;</span><span data-bind=\"text: formatWithCommas(Math.round(totals().totalTimeAns/600))\"></span><span> minutes, or&nbsp;</span><span data-bind=\"text: formatWithCommas(Math.round(totals().totalTimeAns/3600))\"></span><span> hours, answering the questions&nbsp;</span><span data-bind=\"text: formatWithCommas(totals().totalAnswered)\" class=\"fwb\"></span><span> times!</span></div><div class=\"mtm mbm\"><span>On average, each user answered&nbsp;</span><span data-bind=\"text: Math.round(totals().totalAnswered/totals().totalUsers)\" class=\"fwb\"></span><span> questions</span></div><div class=\"mtm mbm\"><h4>Number of Users per Week</h4><div class=\"module-numberUsersPerWeek\"></div></div><div class=\"mtm mbm\"><h4>Number of Users per Day</h4><div class=\"module-numberUsersPerDay\"></div></div><div class=\"mtm mbm\"><h4>Number of Questions Answered per Day</h4><div class=\"module-numberQuesAnsPerDay\"></div></div><div class=\"mtm mbm\"><h4>Number of Users per Hour Near Peak</h4><div class=\"module-numberUsersNearPeak\"></div></div><div class=\"mtm mbm\"><h4>Number of Questions Answered per Hour Near Peak</h4><div class=\"module-numberQuesAnsNearPeak\"></div></div></div></div></div>"}),deftmp("ui.analytics.Filters",{template:"<div class=\"ui-analytics-Filters\"><textarea rows=\"8\" style=\"width:100%\" data-bind=\"value:filter\" placeholder=\"Define a filter here\" class=\"field\"></textarea><div class=\"ui-Select filterTemplates\"></div></div>"}),deftmp("ui.analytics.OverallAnalytics",{template:"<div class=\"ui-analytics-OverallAnalytics\"><div class=\"panel\"><div class=\"panel-body\"><h2>User Acquisition</h2><div class=\"newUsersPerDay\"></div></div></div><div class=\"mobileAnalytics\"></div><div class=\"mtm mbm\"><h2>Mobile specific data:</h2><div class=\"mtm\">Questions answered by platform</div><div class=\"mlm\"><span class=\"fwb\">iPhone</span> <span data-bind='text:mobileTotals().mobile.iphone'/></div><div class=\"mlm\"><span class=\"fwb\">iPad:</span> <span data-bind='text:mobileTotals().mobile.ipad'/></div><div class=\"mlm\"><span class=\"fwb\">Android:</span> <span data-bind='text:mobileTotals().mobile.android'/></div></div><div class=\"mtm mbm\">Note: All question totals include a total of <span class=\"fwb\" data-bind='text:mobileTotals().tutorial'/> tutorial questions.</div><div class=\"everythingAnalytics\"></div></div>"}),deftmp("ui.dialogs.CMSEdit",{template:"<div class=\"ui-dialogs-CMSEdit mtm\"></div>"}),deftmp("ui.dialogs.Confirm",{template:"<div class=\"ui-dialogs-Confirm\"><div data-bind=\"html: message\"></div></div>"}),deftmp("ui.dialogs.ConfirmYesNo",{template:"<div class=\"ui-dialogs-ConfirmYesNo dialog\"><i class=\"dialog-close button\"></i><div class=\"dialog-header\"><h3 data-bind=\"text: title\" class=\"header\"></h3></div><div class=\"dialog-content\"><p data-bind=\"text: message\"></p></div><div class=\"dialog-footer\"><button data-bind=\"text: noText\" class=\"button cancel\"></button><button data-bind=\"text: yesText\" class=\"button blue primary action\"> </button></div></div>"}),deftmp("ui.dialogs.DatePrompt",{template:"<div class=\"ui-dialogs-DatePrompt\"><div data-bind=\"html: message\"></div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-12 mtm\"><input type=\"text\" required=\"required\" data-bind=\"value:value\" class=\"form-control datepicker\"/></div></div></form></div>"}),deftmp("ui.dialogs.MultiSelect",{template:"<div class=\"ui-dialogs-MultiSelect mhl\"><div class=\"row\"><div class=\"col-md-12\"><form class=\"form-horizontal\"><div data-bind=\"foreach: items\" class=\"form-group\"><div class=\"radio\"><label><input data-bind=\"checked: $root.selected, value: $index\" type=\"radio\" name=\"item\"/><span data-bind=\"text: $data\"></span></label></div></div><div data-bind=\"visible: +selected()==(items().length-1) &amp;&amp; !noOther\" class=\"form-group\"><input data-bind=\"value: other\" class=\"form-control\"/></div></form></div></div></div>"}),deftmp("ui.dialogs.PasswordPrompt",{template:"<div class=\"ui-dialogs-PasswordPrompt\"><div data-bind=\"html: message\"></div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-12 mtm\"><input type=\"password\" required=\"required\" data-bind=\"value:value\" class=\"form-control\"/></div></div></form></div>"}),deftmp("ui.dialogs.Prompt",{template:"<div class=\"ui-dialogs-Prompt\"><div data-bind=\"html: message\"></div><form style=\"width:100%\" class=\"form-horizontal\"><div style=\"margin-bottom:10px\" class=\"form-group\"><div class=\"col-md-12 mtm\"><input type=\"text\" required=\"required\" data-bind=\"value:value\" class=\"form-control\"/></div></div></form></div>"}),deftmp("ui.stats.ActivityCalendar",{template:"<div class=\"ui-stats-ActivityCalendar\"><svg id=\"s\" viewBox=\"0 0 721 110\" xmlns=\"http://www.w3.org/2000/svg\"></svg></div>"}),deftmp("ui.stats.ActivityLegend",{template:"<div class=\"ui-stats-ActivityLegend\"><div class=\"activity-legend\"><span class=\"legend-label low\">Less</span><div class=\"low legend-item\"></div><div class=\"low-mid legend-item\"></div><div class=\"high-mid legend-item\"></div><div class=\"high legend-item\"></div><span class=\"legend-label high\">More</span></div></div>"}),deftmp("ui.stats.AnalyticsDashboard",{template:"<div class=\"ui-stats-AnalyticsDashboard\"><div class=\"ajax-loader\"><div class=\"segments\"></div><hr class=\"mtxxl\"/><h2 class=\"center\">365 squares for 365 days</h2><div class=\"center\">Each block represents total questions and flashcards answered per day</div><div style=\"width:70%\" class=\"mtm center\"><div class=\"row\"><div class=\"col-lg-12\"><div class=\"row user-activity\"><div class=\"col-lg-12\"><div class=\"ui-stats-ActivityCalendar currentUser\"></div><div class=\"ui-stats-ActivityLegend\"></div></div></div><div class=\"row center\"><table><tr><td style=\"width: 50%\"><h2>Longest Continuous Streak</h2></td><td style=\"width: 50%\"><h2>Current Streak</h2></td></tr><tr><td style=\"width: 50%\"><h1 data-bind=\"text: longestStreak\"></h1><h4>days</h4></td><td style=\"width: 50%\"><h1 data-bind=\"text: currentStreak\"></h1><h4>days</h4></td></tr></table></div></div></div></div></div></div>"}),deftmp("ui.stats.AnalyticsSegment",{template:"<div class=\"ui-stats-AnalyticsSegment\"><h2 data-bind=\"text: title\"></h2><div class=\"row center\"><div class=\"col-md-6\"><h3>First Try</h3></div><div class=\"col-md-6\"><h3>Latest Attempt</h3></div></div><div class=\"row center\"><div class=\"col-md-3\"><h1><span data-bind='text: firstPassAccuracy'/><span style='font-size: 60%'>%</span></h1><h4>accuracy</h4></div><div class=\"col-md-3\"><h1 data-bind=\"visible: !firstPassPercentile()\">-</h1><h1 data-bind=\"visible: firstPassPercentile\"><span data-bind='text: firstPassPercentile'/><span data-bind='text: firstPassPercentileSuffix' style='font-size: 60%'>th</span></h1><h4>percentile*</h4></div><div class=\"col-md-3\"><h1><span data-bind='text: lastPassAccuracy'/><span style='font-size: 60%'>%</span></h1><h4>accuracy</h4></div><div class=\"col-md-3\"><h1 data-bind=\"visible: !lastPassPercentile()\">-</h1><h1 data-bind=\"visible: firstPassPercentile\"><span data-bind='text: lastPassPercentile'/><span data-bind='text: lastPassPercentileSuffix' style='font-size: 60%'>th</span></h1><h4>percentile*</h4></div></div><h5 data-bind=\"visible: !firstPassPercentile()\" class=\"center\">*Performance compared to other current med students <br>(visible once you have more data)</h5><h5 data-bind=\"visible: firstPassPercentile\" class=\"center\">*Performance compared to other current med students</h5><div class=\"row center\"><div class=\"col-md-6\"><h1 data-bind=\"text: totalAnswered\"></h1><h4><data-bind='text: typeStr'/> answered</h4></div><div class=\"col-md-6\"><h1 data-bind=\"text: totalAvailable\"></h1><h4><data-bind='text: typeStr'/> available</h4></div></div><div class=\"row center\"><div class=\"col-md-offset-3 col-md-6\"><div style=\"width:1px; height:30px\"></div><div style=\"width: 100%\" class=\"progress center\"><div role=\"progressbar\" data-bind=\"style: {width: totalProgress()+&quot;%&quot;}\" aria-valuemin=\"0\" aria-valuemax=\"100\" class=\"progress-bar\"><span data-bind=\"text: totalProgress()+&quot;% Complete&quot;\" class=\"sr-only\"></span></div></div></div></div><hr class=\"mtxxl\"/></div>"}),defapi("comment",{key:{commentID:"integer"},model:{nodeID:{type:"integer",required:!0},replyID:{type:"integer",required:!0,default:0},category:{type:"integer",required:!0},comment:{type:"string",required:!0,format:"unsafe"},status:{type:"integer",required:!0,default:0},votes:{type:"integer",required:!0,default:0},postedOn:{type:"string",format:"date-time"},userID:{type:"integer",required:!0}},controller:"models/Comment"}),defapi("event",{key:{eventID:"integer"},model:{descr:{type:"document",properties:{t:{type:"string",required:!0,symb:"title",format:"clean"},i:{type:"string",symb:"instructor",format:"clean"},n:{type:"string",symb:"notes",format:"clean"},c:{type:"string",symb:"cls",format:"clean"},m:{type:"string",symb:"meta",format:"clean"}}},begin:{type:"string",format:"date-time",required:!0},length:{type:"integer",required:!0},eventTag:{type:"integer",required:!0,default:0},MID:{type:"integer",default:0}},controller:"models/Event"}),defapi("groupmember",{key:{userID:"integer"},model:{groupRole:{type:"integer",required:!0},moduleRole:{type:"integer",required:!0}},controller:"models/GroupMember"}),defapi("kinetic",{key:{nodeID:"integer"},model:{title:{type:"string",required:!0},thumbnail:{type:"string",required:!0}},controller:"models/Kinetic"}),defapi("link",{key:{linkID:"integer"},model:{type:{type:"integer",required:!0},status:{type:"integer",required:!0,default:1},nodeID:{type:"integer",required:!0},targetID:{type:"integer",required:!0}},controller:"models/Link"}),defapi("module",{key:{moduleID:"integer"},model:{name:{type:"string",required:!0,format:"clean"},descr:{type:"string",format:"text"},startsOn:{type:"string",format:"date",required:!0},examDate:{type:"string",format:"date",required:!0},data:{type:"document",properties:{t:{type:"array",items:{type:"integer"},symb:"topics"}}}},controller:"models/Module"}),defapi("node",{key:{nodeID:"integer"},model:{type:{type:"integer",required:!0},subtype:{type:"integer",required:!0},data:{type:"object"},status:{type:"integer",default:0},origMID:{type:"integer",default:0},starred:{type:"integer",default:0},upRating:{type:"integer",default:0},downRating:{type:"integer",default:0},notHelpful:{type:"integer",default:0},created:{type:"string",format:"date-time"},modified:{type:"integer",format:"date-time"},userID:{type:"integer"}},controller:"models/Node",expects:{cloneID:{type:"integer"},url:{type:"string"}}}),defapi("note",{key:{nodeID:"integer"},model:{content:{type:"object",required:!0},userID:{type:"integer"}},controller:"models/Note",expects:{targetNodeID:{type:"integer"}}}),defapi("table",{key:{nodeID:"integer"},model:{title:{type:"string",required:!0}},controller:"models/Table"}),defapi("tag",{key:{tagID:"integer"},model:{type:{type:"integer",required:!0},tag:{type:"string",required:!0,format:"clean"}},controller:"models/Tag"}),defapi("test",{key:{itemID:"integer"},model:{type:{type:"integer",required:!0},subtype:{type:"integer",required:!0},date:{type:"integer",required:!0}},controller:"models/Test"}),define("ajax.NodeOps",function(e){e.createNode=function(e,t,a){$.post("/createnode",{c:null==e.cloneSource?0:e.cloneSource.nodeID,m:MID,fork:e.fork?1:0,type:e.type,subtype:e.subtype,data:JSON.stringify(e.data),links:"_"+t},parseResult(function(t){e.nodeID=t.n,e.data=t.data,e.origMID(MID),1==t.rep&&e.cloneSource.status(4),a()}))},e.updateNode=function(e,t,a){$.post("/updatenode",{n:e.nodeID,m:MID,subtype:e.subtype,data:JSON.stringify(e.data),links:"_"+t},parseResult(function(){a()},a))},e.lockNode=function(e,t){$.post("/locknode",{nodeID:e.nodeID,m:MID},parseResult(t))},e.deleteNode=function(e,t){$.post("/deletenode",{n:e.nodeID,m:MID},parseResult(t))},e.unlockNode=function(e){$.post("/unlocknode",{g:window.groupID,n:e.nodeID,m:MID},parseResult(function(){}))},e.changeNodeStatus=function(e,t){$.post("/chnodestatus",{n:e.nodeID,m:MID||e.MID,status:t},parseResult(function(){e.status(t)}))},e.changeCommentStatus=function(e,t){$.post("/chcommentstatus",{m:MID,cid:e,stat:t})},e.changeCommentVote=function(e,t,a){a=a||window.MID,t==e.myVote?alert("You've already voted!"):$.post("/votecomment",{m:a,cid:e.commentID,vote:t},parseResult(function(a){0==a.dV&&alert("You've already voted!"),e.votes(e.votes()+parseInt(a.dV)),e.myVote=t}))}}),define("app.OldStripe",function(e,t,a){var o=Math.round;(function(){var d={}.hasOwnProperty,s=function o(a,e){function r(){this.constructor=a}for(var t in e)d.call(e,t)&&(a[t]=e[t]);return r.prototype=e.prototype,a.prototype=new r,a.__super__=e.prototype,a},l=this,c,p,u,m,v;for(this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(a){e.key=a},e.complete=function(a){return function(t){var d;if("success"!==t)return d=o(new Date().getTime()/1e3),new Image().src="http://q.stripe.com?event=stripejs-error&type="+t+"&key="+e.key+"&timestamp="+d,"function"==typeof a?a(500,{error:{code:t,type:t,message:"An unexpected error has occurred with Stripe.js. This may\nbe due to network connectivity issues, so you should try\nagain (you won't be charged twice). If you're still having\nproblems, please let us know!"}}):void 0}},e}.call(this),c=this.Stripe,this.Stripe.token=function(){function t(){}return t.validate=function(a,e){if(!a)throw e+" required";if("object"!=_typeof(a))throw e+" invalid"},t.formatData=function(e,a){return c.utils.isElement(e)&&(e=c.utils.paramsFromForm(e,a)),c.utils.underscoreKeys(e),e},t.create=function(e,a){return e.key||(e.key=c.key||c.publishableKey),c.utils.validateKey(e.key),c.ajaxJSONP({url:""+c.endpoint+"/tokens",data:e,method:"POST",success:function success(s,e){return"function"==typeof a?a(e,s):void 0},complete:c.complete(a),timeout:4e4})},t.get=function(e,a){if(!e)throw"token required";return c.utils.validateKey(c.key),c.ajaxJSONP({url:""+c.endpoint+"/tokens/"+e,data:{key:c.key},success:function success(s,e){return"function"==typeof a?a(e,s):void 0},complete:c.complete(a),timeout:4e4})},t}.call(this),this.Stripe.card=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.tokenName="card",n.whitelistedAttrs=["number","cvc","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country"],n.createToken=function(e,t,a){var o;return null==t&&(t={}),c.token.validate(e,"card"),"function"==typeof t?(a=t,t={}):"object"!=_typeof(t)&&(o=parseInt(t,10),t={},0<o&&(t.amount=o)),t[n.tokenName]=c.token.formatData(e,n.whitelistedAttrs),c.token.create(t,a)},n.getToken=function(e,t){return c.token.get(e,t)},n.validateCardNumber=function(t){return t=(t+"").replace(/\s+|-/g,""),10<=t.length&&16>=t.length&&n.luhnCheck(t)},n.validateCVC=function(e){return e=c.utils.trim(e),/^\d+$/.test(e)&&3<=e.length&&4>=e.length},n.validateExpiry=function(e,a){var s,o;return e=c.utils.trim(e),a=c.utils.trim(a),!!/^\d+$/.test(e)&&!!/^\d+$/.test(a)&&!!(12>=parseInt(e,10))&&(o=new Date(a,e),s=new Date,o.setMonth(o.getMonth()-1),o.setMonth(o.getMonth()+1,1),o>s)},n.luhnCheck=function(a){var e,d,l,c,p,u;for(l=!0,c=0,d=(a+"").split("").reverse(),(p=0,u=d.length);p<u;p++)e=d[p],e=parseInt(e,10),(l=!l)&&(e*=2),9<e&&(e-=9),c+=e;return 0==c%10},n.cardType=function(t){return n.cardTypes[t.slice(0,2)]||"Unknown"},n.cardTypes=function(){var a,s,o,d;for(s={},a=o=40;49>=o;a=++o)s[a]="Visa";for(a=d=50;59>=d;a=++d)s[a]="MasterCard";return s[34]=s[37]="American Express",s[60]=s[62]=s[64]=s[65]="Discover",s[35]="JCB",s[30]=s[36]=s[38]=s[39]="Diners Club",s}(),n}.call(this,this.Stripe.token),this.Stripe.bankAccount=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,e),n.tokenName="bank_account",n.whitelistedAttrs=["country","routing_number","account_number"],n.createToken=function(e,t,a){return null==t&&(t={}),c.token.validate(e,"bank account"),"function"==typeof t&&(a=t,t={}),t[n.tokenName]=c.token.formatData(e,n.whitelistedAttrs),c.token.create(t,a)},n.getToken=function(e,t){return c.token.get(e,t)},n.validateRoutingNumber=function(e,a){return e=c.utils.trim(e),"US"===a?/^\d+$/.test(e)&&9===e.length&&n.routingChecksum(e):"CA"!=a||/\d{5}\-\d{3}/.test(e)&&9===e.length},n.validateAccountNumber=function(e,a){return e=c.utils.trim(e),"US"!==a||/^\d+$/.test(e)&&1<=e.length&&17>=e.length},n.routingChecksum=function(a){var e,d,l,c,p,u;for(l=0,e=(a+"").split(""),u=[0,3,6],(c=0,p=u.length);c<p;c++)d=u[c],l+=3*parseInt(e[d]),l+=7*parseInt(e[d+1]),l+=parseInt(e[d+2]);return 0!==l&&0==l%10},n}.call(this,this.Stripe.token),p=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"],(m=0,v=p.length);m<v;m++)u=p[m],this.Stripe[u]=this.Stripe.card[u];"undefined"!=typeof a&&null!==a&&(a.exports=this.Stripe),!1}).call(this),function(){var d=[].slice,a,n,l;a=encodeURIComponent,n=new Date().getTime(),l=function n(e,t,d){var c,p;for(c in null==t&&(t=[]),e)p=e[c],d&&(c=""+d+"["+c+"]"),"object"==_typeof(p)?l(p,t,c):t.push(""+c+"="+a(p));return t.join("&").replace(/%20/g,"+")},this.Stripe.ajaxJSONP=function(c){var t,p,m,v,b,h;return null==c&&(c={}),m="sjsonp"+ ++n,b=document.createElement("script"),p=null,t=function i(e){var a;return null==e&&(e="abort"),clearTimeout(p),null!=(a=b.parentNode)&&a.removeChild(b),m in window&&(window[m]=function(){}),"function"==typeof c.complete?c.complete(e,h,c):void 0},h={abort:t},b.onerror=function(){return h.abort(),"function"==typeof c.error?c.error(h,c):void 0},window[m]=function(){var e;e=1<=arguments.length?d.call(arguments,0):[],clearTimeout(p),b.parentNode.removeChild(b);try{delete window[m]}catch(e){window[m]=void 0}return"function"==typeof c.success&&c.success.apply(c,e),"function"==typeof c.complete?c.complete("success",h,c):void 0},c.data||(c.data={}),c.data.callback=m,c.method&&(c.data._method=c.method),b.src=c.url+"?"+l(c.data),v=document.getElementsByTagName("head")[0],v.appendChild(b),0<c.timeout&&(p=setTimeout(function(){return h.abort("timeout")},c.timeout)),h}}.call(this),function(){var d=[].indexOf||function(a){for(var e=0,s=this.length;e<s;e++)if(e in this&&this[e]===a)return e;return-1};this.Stripe.utils=function(){function t(){}return t.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},t.underscore=function(t){return(t+"").replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()}).replace(/-/g,"_")},t.underscoreKeys=function(a){var e,s,o;for(e in o=[],a)s=a[e],delete a[e],o.push(a[this.underscore(e)]=s);return o},t.isElement=function(t){return!("object"!=_typeof(t))&&(!!("undefined"!=typeof jQuery&&null!==jQuery&&t instanceof jQuery)||1===t.nodeType)},t.paramsFromForm=function(e,p){var m,v,b,g,w,S,q,C,D,T;for(null==p&&(p=[]),"undefined"!=typeof jQuery&&null!==jQuery&&e instanceof jQuery&&(e=e[0]),b=e.getElementsByTagName("input"),w=e.getElementsByTagName("select"),S={},(q=0,D=b.length);q<D;q++)v=b[q],m=this.underscore(v.getAttribute("data-stripe")),0>d.call(p,m)||(S[m]=v.value);for(C=0,T=w.length;C<T;C++)g=w[C],m=this.underscore(g.getAttribute("data-stripe")),0>d.call(p,m)||null==g.selectedIndex||(S[m]=g.options[g.selectedIndex].value);return S},t.validateKey=function(t){if(!t||"string"!=typeof t)throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(t))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(t))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},t}()}.call(this),function(){var a=[].indexOf||function(a){for(var e=0,s=this.length;e<s;e++)if(e in this&&this[e]===a)return e;return-1};this.Stripe.validator={boolean:function boolean(a,e){if("true"!==e&&"false"!==e)return"Enter a boolean string (true or false)"},integer:function integer(a,e){if(!/^\d+$/.test(e))return"Enter an integer"},positive:function positive(a,e){if(this.integer(a,e)||!(0<parseInt(e,10)))return"Enter a positive value"},range:function range(e,t){var s;if(s=parseInt(t,10),0>a.call(e,s))return"Needs to be between "+e[0]+" and "+e[e.length-1]},required:function required(a,e){if(a&&(null==e||""===e))return"Required"},year:function year(a,e){if(!/^\d{4}$/.test(e))return"Enter a 4-digit year"},birthYear:function birthYear(a,e){var t;return t=this.year(a,e),t?t:2e3<parseInt(e,10)?"You must be over 18":1900>parseInt(e,10)?"Enter your birth year":void 0},month:function month(a,e){return this.integer(a,e)?"Please enter a month":this.range([1,2,3,4,5,6,7,8,9,10,11,12],e)?"Needs to be between 1 and 12":void 0},choices:function choices(e,t){if(0>a.call(e,t))return"Not an acceptable value for this field"},email:function email(a,e){if(!/^[^@<\s>]+@[^@<\s>]+$/.test(e))return"That doesn't look like an email address"},url:function url(a,e){if(!/^https?:\/\/.+\..+/.test(e))return"Not a valid url"},usTaxID:function usTaxID(a,e){if(!/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(e))return"Not a valid tax ID"},ein:function ein(a,e){if(!/^\d{2}-?\d{7}$/.test(e))return"Not a valid EIN"},ssnLast4:function ssnLast4(a,e){if(!/^\d{4}$/.test(e))return"Not a valid last 4 digits for an SSN"},ownerPersonalID:function ownerPersonalID(a,e){var t;if(t=function(){return"CA"===a?/^\d{3}-?\d{3}-?\d{3}$/.test(e):"US"==a||void 0}(),!t)return"Not a valid ID"},bizTaxID:function bizTaxID(d,e){var t,l,c,p,m,v,b,h;if(v={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},m=v[d],null!=m){for(t=m[0],p=m[1],l=!1,(b=0,h=p.length);b<h;b++)if(c=p[b],c.test(e)){l=!0;break}if(!l)return"Not a valid "+t}},zip:function zip(a,e){var t;if(t=function(){switch(a.toUpperCase()){case"CA":return /^[\d\w]{6}$/.test(null==e?void 0:e.replace(/\s+/g,""));case"US":return /^\d{5}$/.test(e)||/^\d{9}$/.test(e);}}(),!t)return"Not a valid zip"},bankAccountNumber:function bankAccountNumber(a,e){if(!/^\d{1,17}$/.test(e))return"Invalid bank account number"},usRoutingNumber:function usRoutingNumber(a){var e,d,l,c,p,m,v;if(!/^\d{9}$/.test(a))return"Routing number must have 9 digits";for(p=0,e=m=0,v=a.length-1;m<=v;e=m+=3)d=3*parseInt(a.charAt(e),10),l=7*parseInt(a.charAt(e+1),10),c=parseInt(a.charAt(e+2),10),p+=d+l+c;if(0===p||0!=p%10)return"Invalid routing number"},caRoutingNumber:function caRoutingNumber(t){if(!/^\d{5}\-\d{3}$/.test(t))return"Invalid transit number"},routingNumber:function routingNumber(a,e){switch(a.toUpperCase()){case"CA":return this.caRoutingNumber(e);case"US":return this.usRoutingNumber(e);}},phoneNumber:function phoneNumber(a,e){var t;if(t=e.replace(/[^0-9]/g,""),10!==t.length)return"Invalid phone number"},bizDBA:function bizDBA(a,e){if(!/^.{1,23}$/.test(e))return"Statement descriptors can only have up to 23 characters"},nameLength:function nameLength(a,e){if(1===e.length)return"Names need to be longer than one character"}}}.call(this),a.exports=this.Stripe}),define("app.ScoreCard",function(){var e=0;bagCount=0,tokenCount=0,stackColors=["#C00000","#C00000","#CCCC00","green"],stacks=[],scoreCard=null}),define("app.Stripe",function(e,t,a){!function(a){function t(s){if(e[s])return e[s].exports;var d=e[s]={i:s,l:!1,exports:{}};return a[s].call(d.exports,d,d.exports,t),d.l=!0,d.exports}var e={};t.m=a,t.c=e,t.d=function(a,e,s){t.o(a,e)||Object.defineProperty(a,e,{configurable:!1,enumerable:!0,get:s})},t.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(e,"a",e),e},t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},t.p="",t(t.s=0)}([function(a,e,t){a.exports=t(1)},function(Te,e,t){"use strict";function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function o(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function i(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function a(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function s(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function u(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function c(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function l(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function p(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function f(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function d(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function h(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function y(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function m(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function _(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function v(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function b(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function g(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function w(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function E(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function k(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function S(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function O(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function P(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function A(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function C(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function T(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function j(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function I(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function R(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function q(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function M(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function N(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function x(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function L(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function D(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function F(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function B(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function U(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function z(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function H(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function W(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function Y(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function K(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function V(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function G(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function $(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function J(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function Q(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function Z(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function X(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==_typeof(e)||"function"==typeof e)?e:a}function ee(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}function te(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function ne(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function re(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}function oe(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function ie(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function ae(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function se(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function ue(a,e){var t={};for(var s in a)0<=e.indexOf(s)||Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);return t}function ce(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function le(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(a){function t(a){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return window.__stripeElementsController&&window.__stripeElementsController.reportIntegrationError(a),e.name="IntegrationError",Object.defineProperty(e,"message",{value:e.message,enumerable:!0}),e}return i(t,a),t}(Error),Ie=n,ve=function be(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"absurd";throw new Error(e)},be=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},ge="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},we=function Ee(a,e){for(var t=0;t<a.length;t++)if(e(a[t]))return a[t]},_e=function ke(a,e){for(var t=0;t<a.length;t++)if(e(a[t]))return t;return-1},ke=function Se(t){return t&&"object"===(void 0===t?"undefined":ge(t))&&(t.constructor===Array||t.constructor===Object)},Se=function Oe(t){return ke(t)?Array.isArray(t)?t.slice(0,t.length):be({},t):t},Oe=function e(d){return function(){for(var t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];if(Array.isArray(a[0])&&d)return Se(a[0]);var l=Array.isArray(a[0])?[]:{};return a.forEach(function(t){t&&Object.keys(t).forEach(function(n){var c=l[n],o=t[n],a=ke(c)&&!(d&&Array.isArray(c));"object"===(void 0===o?"undefined":ge(o))&&a?l[n]=e(d)(c,Se(o)):void 0===o?void 0!==c&&(l[n]=c):l[n]=ke(o)?e(d)(o):Se(o)})}),l}},Pe=(Oe(!1),Oe(!0)),Ae=function Ce(a,e){for(var t={},s=0;s<e.length;s++)t[e[s]]=!0;for(var d=[],o=0;o<a.length;o++)t[a[o]]&&d.push(a[o]);return d},Ce={live:"live",test:"test",unknown:"unknown"},qe=function Me(t){return /^pk_test_/.test(t)?Ce.test:/^pk_live_/.test(t)?Ce.live:Ce.unknown},Me=function Ne(t){if(t===Ce.unknown)throw new Ie("It looks like you're using an older Stripe key. In order to use this API, you'll need to use a modern API key, which is prefixed with 'pk_live_' or 'pk_test_'.\n    You can roll your publishable key here: https://dashboard.stripe.com/account/apikeys")},Ee=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},xe="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},Le=function De(a,e,t){return"Invalid value for "+t.label+": "+(t.path.join(".")||"value")+" should be "+a+". You specified: "+e+"."},De=function Fe(t){return{type:"valid",value:t,warnings:1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]}},Fe=function Be(t){return{error:t,errorType:"full",type:"error"}},Be=function Ue(a,e,t){var s=new Ie(Le(a,e,t));return Fe(s)},Re=function ze(a,e,t){return{expected:a,actual:e+"",options:t,errorType:"mismatch",type:"error"}},ze=function He(a){return function(e,t){return void 0===e?De(e):a(e,t)}},Ne=function We(g,e){return function(t,n){var w=function o(a){var e=a.options.path.join(".")||"value";return{error:e+" should be "+a.expected,actual:e+" as "+a.actual}},o=function i(a,e,t){return Fe(new Ie("Invalid value for "+a+": "+e+". You specified "+t+"."))},S=g(t,n),a=e(t,n);if("error"===S.type&&"error"===a.type){if("mismatch"===S.errorType&&"mismatch"===a.errorType){var s=w(S),u=s.error,c=s.actual,l=w(a),p=l.error,f=l.actual;return o(n.label,u===p?u:u+" or "+p,c===f?c:c+" and "+f)}if("mismatch"===S.errorType){var d=w(S),h=d.error,q=d.actual;return o(n.label,h,q)}if("mismatch"===a.errorType){var m=w(a),C=m.error,v=m.actual;return o(n.label,C,v)}return Fe(S.error)}return"valid"===S.type?S:a}},Ue=function Ye(a,e){return function(t,s){return t instanceof a?De(t):Re("a "+e+" instance",t,s)}},Ye=function Ke(a,e){return function(t,s){var d=we(a,function(a){return a===t});if(void 0===d){var o=e?"a recognized string.":"one of the following strings: "+a.join(", ");return Re(o,t,s)}return De(d)}},je=function Ve(a){return function(e,t){return"string"==typeof e&&0===e.indexOf(a)?De(e):Re("a string starting with "+a,e,t)}},Ve=function Ge(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return Ye(e,!1)},We=Ve.apply(void 0,s(["AT","AU","BE","BR","CA","CH","DE","DK","EE","ES","FI","FR","GB","HK","IE","IN","IT","JP","LT","LU","LV","MX","NL","NZ","NO","PH","PL","PT","RO","SE","SG","SK","US"])),He=Ve.apply(void 0,s(["aed","afn","all","amd","ang","aoa","ars","aud","awg","azn","bam","bbd","bdt","bgn","bhd","bif","bmd","bnd","bob","brl","bsd","btn","bwp","byr","bzd","cad","cdf","chf","clf","clp","cny","cop","crc","cuc","cup","cve","czk","djf","dkk","dop","dzd","egp","ern","etb","eur","fjd","fkp","gbp","gel","ghs","gip","gmd","gnf","gtq","gyd","hkd","hnl","hrk","htg","huf","idr","ils","inr","iqd","irr","isk","jmd","jod","jpy","kes","kgs","khr","kmf","kpw","krw","kwd","kyd","kzt","lak","lbp","lkr","lrd","lsl","ltl","lvl","lyd","mad","mdl","mga","mkd","mmk","mnt","mop","mro","mur","mvr","mwk","mxn","myr","mzn","nad","ngn","nio","nok","npr","nzd","omr","pab","pen","pgk","php","pkr","pln","pyg","qar","ron","rsd","rub","rwf","sar","sbd","scr","sdg","sek","sgd","shp","skk","sll","sos","srd","ssp","std","svc","syp","szl","thb","tjs","tmt","tnd","top","try","ttd","twd","tzs","uah","ugx","usd","uyu","uzs","vef","vnd","vuv","wst","xaf","xag","xau","xcd","xdr","xof","xpf","yer","zar","zmk","zmw","btc","jep","eek","ghc","mtl","tmm","yen","zwd","zwl","zwn","zwr"])),Qe=(Ve.apply(void 0,s(Object.keys(Ce))),function(a,e){return"string"==typeof a?De(a):Re("a string",a,e)}),Ge=function Xe(a,e){return function(t,s){return void 0===t?De(e()):a(t,s)}},$e=function et(a,e){return"boolean"==typeof a?De(a):Re("a boolean",a,e)},Ke=function tt(a){return function(e,t){return"number"==typeof e&&e>a?De(e):Re("a number greater than "+a,e,t)}},Je=function nt(a){return function(e,t){return"number"==typeof e&&e===parseInt(e,10)&&(!a||0<=e)?De(e):Re(a?"a positive amount in the currency's subunit":"an amount in the currency's subunit",e,t)}},Xe=function rt(a,e){return Je(!1)(a,e)},Ze=function it(a,e){return a&&"object"===(void 0===a?"undefined":xe(a))?De(a):Re("an object",a,e)},et=function at(a){return function(e,o){return Array.isArray(e)?e.map(function(e,t){return a(e,Ee({},o,{path:[].concat(s(o.path),[t+""])}))}).reduce(function(a,e){return"error"===a.type?a:"error"===e.type?e:De([].concat(s(a.value),[e.value]),[].concat(s(a.warnings),s(e.warnings)))},De([])):Re("array",e,o)}},tt=function st(t){return function(e){return function(d,n){if(Array.isArray(d)){var l=e(d,n);if("valid"===l.type)for(var o={},c=0,p;c<l.value.length;c+=1)if(p=l.value[c],"object"===(void 0===p?"undefined":xe(p))&&p&&"string"==typeof p[t]){var m=p[t];if(o[m])return Fe(new Ie("Duplicate value for "+t+": "+m+". The property '"+t+"' of '"+n.path.join(".")+"' has to be unique."));o[m]=!0}return l}return Re("array",d,n)}}},at=function ut(a){return function(e,t){return void 0===e?De(void 0):Re("used in "+a+" instead",e,t)}},it=function ct(d){return function(l){return function(e,t){if(e&&"object"===(void 0===e?"undefined":xe(e))&&!Array.isArray(e)){var c=e,o=we(Object.keys(c),function(t){return!l[t]});if(o&&d)return Fe(new Ie("Invalid "+t.label+" parameter: "+[].concat(s(t.path),[o]).join(".")+" is not an accepted parameter."));var n=De({});return o&&(n=Object.keys(c).reduce(function(a,e){return l[e]?a:De(a.value,[].concat(s(a.warnings),["Unrecognized "+t.label+" parameter: "+[].concat(s(t.path),[e]).join(".")+" is not a recognized parameter. This may cause issues with your integration in the future."]))},n)),Object.keys(l).reduce(function(o,e){if("error"===o.type)return o;var d=l[e],n=d(c[e],Ee({},t,{path:[].concat(s(t.path),[e])}));return"valid"===n.type&&void 0!==n.value?De(Ee({},o.value,a({},e,n.value)),[].concat(s(o.warnings),s(n.warnings))):"valid"===n.type?De(o.value,[].concat(s(o.warnings),s(n.warnings))):n},n)}return Re("an object",e,t)}}},st=it(!0),ot=it(!1),nt=function ft(a,e,t,s){var d=s||{},o=a(e,{origin:d.origin||"",element:d.element||"",label:t,path:[]});return"valid"===o.type?o:"full"===o.errorType?o:{type:"error",errorType:"full",error:new Ie(Le(o.expected,o.actual,o.options))}},rt=function dt(a,e,t,s){var d=nt(a,e,t,s);switch(d.type){case"valid":return{value:d.value,warnings:d.warnings};case"error":throw d.error;default:return ve(d);}},dt=/^(http(s)?):\/\//,lt=function yt(t){return dt.test(t)},ct=function mt(a){if(!lt(a))return null;var e=document.createElement("a");e.href=a;var t=e.protocol,s=e.host,d=/:80$/,o=/:443$/;return"http:"===t&&d.test(s)?s=s.replace(d,""):"https:"===t&&o.test(s)&&(s=s.replace(o,"")),{host:s,protocol:t,origin:t+"//"+s}},pt=function _t(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=ct(a);return!!t&&t.host!==(e||window.location.host)},ut=function vt(a,e){if("/"===e[0]){var t=ct(a);return t?""+t.origin+e:e}return""+a.replace(/\/[^\/]*$/,"/")+e},mt={CARD_ELEMENT:"CARD_ELEMENT",CONTROLLER:"CONTROLLER",METRICS_CONTROLLER:"METRICS_CONTROLLER",PAYMENT_REQUEST_ELEMENT:"PAYMENT_REQUEST_ELEMENT",PAYMENT_REQUEST:"PAYMENT_REQUEST",IBAN_ELEMENT:"IBAN_ELEMENT",IDEAL_BANK_ELEMENT:"IDEAL_BANK_ELEMENT",AUTHORIZE_WITH_URL:"AUTHORIZE_WITH_URL"},vt=function wt(t){return"https://js.stripe.com/v3/"+(t||"")},bt=function Et(t){return"CARD_ELEMENT"===t?vt("elements-inner-card-7eb92d7ef3b38d85a077cd804eea3ab0.html"):"CONTROLLER"===t?vt("controller-2bef5c0c1987a5188681f9681f9191eb.html"):"METRICS_CONTROLLER"===t?"https://js.stripe.com/v2/m/outer.html":"PAYMENT_REQUEST_ELEMENT"===t?vt("elements-inner-payment-request-31a5aaeda2ee46c14e497b8162e724e7.html"):"PAYMENT_REQUEST"===t?vt("payment-request-inner-5611b831ee6a5a053e30e4b268b4d07d.html"):"IBAN_ELEMENT"===t?vt("elements-inner-iban-832a38612c92f59a2d9e2a0a8bcb0de7.html"):"IDEAL_BANK_ELEMENT"===t?vt("elements-inner-ideal-bank-3dfbea392309cd262e3c7d4c986c520a.html"):"AUTHORIZE_WITH_URL"===t?vt("authorize-with-url-inner-59e24034c9c7180af77803bb855622ee.html"):ve(t)},ht={card:"card",cardNumber:"cardNumber",cardExpiry:"cardExpiry",cardCvc:"cardCvc",postalCode:"postalCode",iban:"iban",idealBank:"idealBank",idealBankSecondary:"idealBankSecondary",paymentRequestButton:"paymentRequestButton"},gt=[ht.card,ht.cardNumber,ht.cardExpiry,ht.cardCvc,ht.postalCode],yt=ct("https://js.stripe.com/v3/"),ft=yt?yt.origin:"",kt={family:"font-family",src:"src",unicodeRange:"unicode-range",style:"font-style",variant:"font-variant",stretch:"font-stretch",weight:"font-weight",display:"font-display"},wt=Object.keys(kt).reduce(function(a,e){return a[kt[e]]=e,a},{}),St=[ht.idealBank,ht.idealBankSecondary],Ct=0,Tt=function Mt(t){return""+t+Ct++},It=function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return a?(parseInt(a,10)^16*Math.random()>>parseInt(a,10)/4).toString(16):"00000000-0000-4000-8000-000000000000".replace(/[08]/g,e)},Mt="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},xt=function e(d,t){var n=[];return Object.keys(d).forEach(function(l){var o=d[l],c=t?t+"["+l+"]":l;if(o&&"object"===(void 0===o?"undefined":Mt(o))){var a=e(o,c);""!==a&&(n=[].concat(u(n),[a]))}else void 0!==o&&null!==o&&(n=[].concat(u(n),[c+"="+encodeURIComponent(o+"")]))}),n.join("&").replace(/%20/g,"+")},Dt=t(2),At=t.n(Dt),Pt=window.Promise?Promise:At.a,_t=Pt,Ot=t(6),Et=t.n(Ot),Bt=function(){function e(d,e){var t=[],n=!0,l=!1,c;try{for(var p=d[Symbol.iterator](),s;!(n=(s=p.next()).done)&&(t.push(s.value),!e||t.length!==e);n=!0);}catch(t){l=!0,c=t}finally{try{!n&&p.return&&p.return()}finally{if(l)throw c}}return t}return function(a,t){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),zt=function Kt(a,e){var t={};e.forEach(function(a){var e=Bt(a,2),s=e[0],d=e[1];s.split(/\s+/).forEach(function(a){a&&(t[a]=t[a]||d)})}),a.className=Et()(a.className,t)},Lt=function Vt(a,s){a.style.cssText=Object.keys(s).map(function(t){return t+": "+s[t]+" !important;"}).join(" ")},Ft=function Gt(t){try{return window.parent.frames[t]}catch(t){return null}},Rt=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Nt=function Jt(a){var e=a.frameId,t=a.controllerId,s=a.type,d=ft,n;"controller"===s?n=Ft(e):"group"===s?n=Ft(t):"outer"===s?n=window.frames[e]:"inner"===s&&(d="*",n=window.parent),n&&n.postMessage(JSON.stringify(Rt({},a,{__stripeJsV3:!0})),d)},Yt=function Qt(a){try{var e="string"==typeof a?JSON.parse(a):a;return e.__stripeJsV3?e:null}catch(t){return null}},Vt=(t(7),function(a,e){var t=a._isUserError||"IntegrationError"===a.name;throw e&&!t&&e.report("fatal.uncaught_error",{iframe:!1,name:a.name,element:"outer",message:a.message||a.description,fileName:a.fileName,lineNumber:a.lineNumber,columnNumber:a.columnNumber,stack:a.stack&&a.stack.substring(0,1e3)}),a}),Ut=function Xt(a,s){return function(e){try{return a.call(this,e)}catch(t){return Vt(t,s||this&&this._controller)}}},jt=function en(a,s){return function(e,t){try{return a.call(this,e,t)}catch(t){return Vt(t,s||this&&this._controller)}}},Qt=function tn(a,s){return function(e,t,d){try{return a.call(this,e,t,d)}catch(t){return Vt(t,s||this&&this._controller)}}},Wt=function nn(a,s){return function(){try{for(var e=arguments.length,t=Array(e),d=0;d<e;d++)t[d]=arguments[d];return a.call.apply(a,[this].concat(t))}catch(t){return Vt(t,s||this&&this._controller)}}},Ht=function e(){var d=this;c(this,e),this._emit=function(t){for(var e=arguments.length,a=Array(1<e?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return(d._callbacks[t]||[]).forEach(function(s){var e=s.fn;if(e._isUserCallback)try{e.apply(void 0,a)}catch(t){throw t._isUserError=!0,t}else e.apply(void 0,a)}),d},this._once=function(t,e){return d._on(t,function r(){d._off(t,r),e.apply(void 0,arguments)},e)},this._removeAllListeners=function(){return d._callbacks={},d},this._on=function(t,e,a){return d._callbacks[t]=d._callbacks[t]||[],d._callbacks[t].push({original:a,fn:e}),d},this._userOn=function(t,e){if("string"!=typeof t)throw new Ie("When adding an event listener, the first argument should be a string event name.");if("function"!=typeof e)throw new Ie("When adding an event listener, the second argument should be a function callback.");return e._isUserCallback=!0,d._on(t,e)},this._hasRegisteredListener=function(t){return d._callbacks[t]&&0<d._callbacks[t].length},this._off=function(t,e){if(e){for(var a=d._callbacks[t],s=void 0,n=0;n<a.length;n++)if(s=a[n],s.fn===e||s.original===e){a.splice(n,1);break}}else delete d._callbacks[t];return d},this._callbacks={};var t=jt(this._userOn),n=jt(this._off),l=jt(this._once),o=Ut(this._hasRegisteredListener),p=Ut(this._removeAllListeners),a=Wt(this._emit);this.on=this.addListener=this.addEventListener=t,this.off=this.removeListener=this.removeEventListener=n,this.once=l,this.hasRegisteredListener=o,this.removeAllListeners=p,this.emit=a},Gt=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},$t=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Kt=function(a){function t(a,e,s){p(this,t);var d=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return d.type=a,d.loaded=!1,d._controllerId=e,d._persistentMessages=[],d._queuedMessages=[],d._requests={},d.id=d._generateId(),d._iframe=d._createIFrame(s),d._on("load",function(){d.loaded=!0,d._ensureMounted(),d.loaded&&(d._persistentMessages.forEach(function(t){return d._send(t)}),d._queuedMessages.forEach(function(t){return d._send(t)}),d._queuedMessages=[])}),d}return d(t,a),$t(t,[{key:"_generateId",value:function value(){return Tt("__privateStripeFrame")}},{key:"send",value:function value(t){this._send({message:t,type:"outer",frameId:this.id,controllerId:this._controllerId})}},{key:"sendPersistent",value:function value(a){this._ensureMounted();var e={message:a,type:"outer",frameId:this.id,controllerId:this._controllerId};this._persistentMessages=[].concat(l(this._persistentMessages),[e]),this.loaded&&Nt(e)}},{key:"action",value:function value(a){var e=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=Tt(a);return new _t(function(d,o){e._requests[s]={resolve:d,reject:o},e._send({message:{action:"stripe-frame-action",payload:{type:a,nonce:s,options:t}},type:"outer",frameId:e.id,controllerId:e._controllerId})})}},{key:"resolve",value:function value(a,e){this._requests[a]&&this._requests[a].resolve(e)}},{key:"_send",value:function value(t){this._ensureMounted(),this.loaded?Nt(t):this._queuedMessages=[].concat(l(this._queuedMessages),[t])}},{key:"appendTo",value:function value(t){t.appendChild(this._iframe)}},{key:"unmount",value:function value(){this.loaded=!1,this._emit("unload")}},{key:"destroy",value:function value(){this.unmount();var t=this._iframe.parentElement;t&&t.removeChild(this._iframe),this._emit("destroy")}},{key:"_ensureMounted",value:function value(){this._isMounted()||this.unmount()}},{key:"_isMounted",value:function value(){return!!document.body&&document.body.contains(this._iframe)}},{key:"_createIFrame",value:function value(a){var e=window.location.href.toString(),t=ct(e),s=t?t.origin:"",d=a.queryString&&"string"==typeof a.queryString?a.queryString:xt(Gt({},a,{origin:s,referrer:e,controllerId:this._controllerId})),o=document.createElement("iframe");return o.setAttribute("frameborder","0"),o.setAttribute("allowTransparency","true"),o.setAttribute("scrolling","no"),o.setAttribute("name",this.id),o.setAttribute("allowpaymentrequest","true"),o.src=bt(this.type)+"#"+d,o}}]),t}(Ht),Jt=Kt,Xt=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Zt=function e(s,d,n){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,d);if(void 0===l){var o=Object.getPrototypeOf(s);return null===o?void 0:e(o,d,n)}if("value"in l)return l.value;var c=l.get;if(void 0!==c)return c.call(n)},wa={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block",visibility:"hidden",position:"fixed",height:"1px","pointer-events":"none"},Ta=function(a){function t(a,e,s){h(this,t);var d=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a,e,s));if(d.autoload=s.autoload||!1,"complete"===document.readyState)d._ensureMounted();else{var o=d._ensureMounted.bind(d);document.addEventListener("DOMContentLoaded",o),window.addEventListener("load",o),setTimeout(o,5e3)}return d}return m(t,a),Xt(t,[{key:"_ensureMounted",value:function value(){Zt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_ensureMounted",this).call(this),this._isMounted()||this._autoMount()}},{key:"_autoMount",value:function value(){if(document.body)this.appendTo(document.body);else if("complete"===document.readyState||"interactive"===document.readyState)throw new Ie("Stripe.js requires that your page has a <body> element.");this.autoload&&(this.loaded=!0)}},{key:"_createIFrame",value:function value(a){var e=Zt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,a);return e.setAttribute("aria-hidden","true"),e.setAttribute("allowpaymentrequest","true"),e.setAttribute("tabIndex","-1"),Lt(e,wa),e}}]),t}(Jt),Va=Ta,Qa=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Ga=function(a){function t(){return _(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a),Qa(t,[{key:"_generateId",value:function value(){return this._controllerId}}]),t}(Va),$a=Ga,Ja=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Xa=function e(s,d,n){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,d);if(void 0===l){var o=Object.getPrototypeOf(s);return null===o?void 0:e(o,d,n)}if("value"in l)return l.value;var c=l.get;if(void 0!==c)return c.call(n)},Za={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block"},mi=function(a){function t(){return g(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a),Ja(t,[{key:"update",value:function value(t){this.send({action:"stripe-user-update",payload:t})}},{key:"updateStyle",value:function value(a){var e=this;Object.keys(a).forEach(function(t){e._iframe.style[t]=a[t]})}},{key:"focus",value:function value(){this.loaded&&this.send({action:"stripe-user-focus",payload:{}})}},{key:"blur",value:function value(){this.loaded&&(this._iframe.contentWindow.blur(),this._iframe.blur())}},{key:"clear",value:function value(){this.send({action:"stripe-user-clear",payload:{}})}},{key:"_createIFrame",value:function value(a){var e=Xa(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,a);return e.setAttribute("title","Secure payment input frame"),Lt(e,Za),e}}]),t}(Jt),bi=function kn(t){t.preventDefault()},fi=[32,33,34,35,36,37,38,39,40],zi=function On(t){0<=fi.indexOf(t.keyCode)&&bi(t)},es={capture:!0,passive:!1},ts=function An(){return window.addEventListener("wheel",bi,es),window.addEventListener("touchmove",bi,es),window.addEventListener("keydown",zi),function(){window.removeEventListener("wheel",bi,es),window.removeEventListener("touchmove",bi,es),window.removeEventListener("keydown",zi)}},as=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),is=function e(s,d,n){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,d);if(void 0===l){var o=Object.getPrototypeOf(s);return null===o?void 0:e(o,d,n)}if("value"in l)return l.value;var c=l.get;if(void 0!==c)return c.call(n)},ss=function jn(){return document.documentElement?document.documentElement.clientWidth/window.innerWidth:1},os=function In(t){return{display:t?"block":"none",visibility:"visible",position:"fixed","z-index":"2147483647",top:"0",left:"0",margin:"0px",padding:"0px",border:"0px none transparent","overflow-x":"hidden","overflow-y":"auto"}},ds=os(!1),ns=os(!0),rs=function(a){function t(a,e,s){k(this,t);var d=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a,e,s));return d._mountAfterBody=function(){if(!d._isMounted())if(document.body)d.appendTo(document.body);else if("complete"===document.readyState||"interactive"===document.readyState)throw new Ie("Stripe.js requires that your page has a <body> element.")},d._updatePosition=function(){var t=ss();1<t?(d._iframe.style.width=window.innerWidth*t+"px",d._iframe.style.height=window.innerHeight*t+"px"):(d._iframe.style.width=window.innerWidth+"px",d._iframe.style.height=window.innerHeight+"px")},d._autoMount=function(){"complete"===document.readyState?d._mountAfterBody():(document.addEventListener("DOMContentLoaded",d._mountAfterBody),window.addEventListener("load",d._mountAfterBody))},d._tryRestoreBodyScroll=function(){d.restoreBodyScroll&&(d.restoreBodyScroll(),d.restoreBodyScroll=null)},d.show=function(){d.restoreBodyScroll=ts(),Lt(d._iframe,ns),d._updatePosition(),window.addEventListener("resize",d._updatePosition),window.addEventListener("scroll",d._updatePosition)},d.hide=function(){Lt(d._iframe,ds),window.removeEventListener("resize",d._updatePosition),window.removeEventListener("scroll",d._updatePosition),d._tryRestoreBodyScroll()},d.destroy=function(){window.removeEventListener("resize",d._updatePosition),window.removeEventListener("scroll",d._updatePosition),d._tryRestoreBodyScroll(),is(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",d).call(d)},d.restoreBodyScroll=null,d._autoMount(),d}return O(t,a),as(t,[{key:"_createIFrame",value:function value(a){var e=is(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,a);return Lt(e,ds),e}}]),t}(Jt),ls=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},cs=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),ps=function e(s,d,n){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,d);if(void 0===l){var o=Object.getPrototypeOf(s);return null===o?void 0:e(o,d,n)}if("value"in l)return l.value;var c=l.get;if(void 0!==c)return c.call(n)},us={display:"block",position:"absolute","z-index":"1000",width:"1px","min-width":"100%",margin:"2px 0 0 0",padding:"0",border:"none",overflow:"hidden"},ms=function(a){function t(){return P(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,a),cs(t,[{key:"updateStyle",value:function value(a){var e=this;Object.keys(a).forEach(function(t){e._iframe.style[t]=a[t]})}},{key:"update",value:function value(t){this.send({action:"stripe-user-update",payload:t})}},{key:"_createIFrame",value:function value(a){var e=ps(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,ls({},a,{isSecondaryFrame:!0}));return Lt(e,us),e.style.height="0",e}}]),t}(Jt),vs=function zn(a){var e=ct(a),t=e?e.host:"";return"stripe.com"===t||!!t.match(/\.stripe\.(com|me)$/)},bs=function Hn(a,e){var t=ct(a),s=ct(e);return t&&s&&t.origin===s.origin},hs=function Wn(t){return bs(t,"https://js.stripe.com/v3/")},gs=function Yn(t){return hs(t)||vs(t)},ys=["button","checkbox","file","hidden","image","submit","radio","reset"],ks=function Vn(a){var e=a.tagName;if(a.isContentEditable||"TEXTAREA"===e)return!0;if("INPUT"!==e)return!1;var t=a.getAttribute("type");return-1===ys.indexOf(t)},ws=function $n(t){return /(MSIE ([0-9]{1,}[.0-9]{0,})|Trident\/)/i.test(t)},xs=function Jn(t){return /SamsungBrowser/.test(t)},Ss=function Qn(t){return /iPad|iPhone/i.test(t)&&!ws(t)},qs=function Zn(t){return /Android/i.test(t)&&!ws(t)},Cs=window.navigator.userAgent,Ds=(function(t){/Edge\//i.test(t)}(Cs),function(t){/Edge\/((1[0-6]\.)|0\.)/i.test(t)}(Cs),ws(Cs),function(t){return /MSIE 9/i.test(t)}(Cs)),Ts=(function(t){/MSIE ([0-9]{1,}[.0-9]{0,})/i.test(t)}(Cs),Ss(Cs)),Is=(function(t){Ss(t)||qs(t)}(Cs),qs(Cs),function(t){/Android 4\./i.test(t)&&!/Chrome/i.test(t)&&qs(t)}(Cs),function(t){/^((?!chrome|android).)*safari/i.test(t)&&xs(t)}(Cs),function(t){/Firefox\//i.test(t)}(Cs),function(t){/Firefox\/(50|51|[0-4]?\d)([^\d]|$)/i.test(t)}(Cs),xs(Cs)),Ms=(function(t){/Chrome\/(6[6-9]|[7-9]\d+|[1-9]\d{2,})/i.test(t)}(Cs),window.ApplePaySession,Ba={},T(Ba,ht.card,{unique:!0,conflict:[ht.cardNumber,ht.cardExpiry,ht.cardCvc,ht.postalCode],beta:!1}),T(Ba,ht.cardNumber,{unique:!0,conflict:[ht.card],beta:!1}),T(Ba,ht.cardExpiry,{unique:!0,conflict:[ht.card],beta:!1}),T(Ba,ht.cardCvc,{unique:!0,conflict:[ht.card],beta:!1}),T(Ba,ht.postalCode,{unique:!0,conflict:[ht.card],beta:!1}),T(Ba,ht.paymentRequestButton,{unique:!0,conflict:[],beta:!1}),T(Ba,ht.iban,{unique:!0,conflict:[],beta:!1}),T(Ba,ht.idealBank,{unique:!0,conflict:[],beta:!1}),Ba),As=Ms,Ps=(hd={},j(hd,ht.card,mt.CARD_ELEMENT),j(hd,ht.cardNumber,mt.CARD_ELEMENT),j(hd,ht.cardExpiry,mt.CARD_ELEMENT),j(hd,ht.cardCvc,mt.CARD_ELEMENT),j(hd,ht.postalCode,mt.CARD_ELEMENT),j(hd,ht.paymentRequestButton,mt.PAYMENT_REQUEST_ELEMENT),j(hd,ht.iban,mt.IBAN_ELEMENT),j(hd,ht.idealBank,mt.IDEAL_BANK_ELEMENT),hd),_s=["brand"],Os=(gd={},I(gd,ht.card,_s),I(gd,ht.cardNumber,_s),I(gd,ht.iban,["country","bankName"]),gd),Es=I({},ht.idealBank,{secondary:ht.idealBankSecondary}),Bs="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},zs=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Ls=!1,Fs=function hr(a,e){return document.activeElement===a._iframe||a._iframe.parentElement&&document.activeElement===e},Rs=function mr(){var d=this;this._sendCAReq=function(e){var t=Tt(e.tag);return new _t(function(a,s){d._requests[t]={resolve:a,reject:s},d._controllerFrame.send({action:"stripe-safe-controller-action-request",payload:{nonce:t,caReq:e}})})},this.action={retrievePaymentIntent:function retrievePaymentIntent(e){return d._sendCAReq({tag:"RETRIEVE_PAYMENT_INTENT",value:e})},confirmPaymentIntent:function confirmPaymentIntent(e){return d._sendCAReq({tag:"CONFIRM_PAYMENT_INTENT",value:e})},fetchLocale:function fetchLocale(e){return d._sendCAReq({tag:"FETCH_LOCALE",value:e})},updateCSSFonts:function updateCSSFonts(e){return d._sendCAReq({tag:"UPDATE_CSS_FONTS",value:e})},createApplePaySession:function createApplePaySession(e){return d._sendCAReq({tag:"CREATE_APPLE_PAY_SESSION",value:e})},retrieveSource:function retrieveSource(e){return d._sendCAReq({tag:"RETRIEVE_SOURCE",value:e})},tokenizeWithElement:function tokenizeWithElement(e){return d._sendCAReq({tag:"TOKENIZE_WITH_ELEMENT",value:e})},tokenizeWithData:function tokenizeWithData(e){return d._sendCAReq({tag:"TOKENIZE_WITH_DATA",value:e})},createSourceWithElement:function createSourceWithElement(e){return d._sendCAReq({tag:"CREATE_SOURCE_WITH_ELEMENT",value:e})},createSourceWithData:function createSourceWithData(e){return d._sendCAReq({tag:"CREATE_SOURCE_WITH_DATA",value:e})},createPaymentMethodWithElement:function createPaymentMethodWithElement(e){return d._sendCAReq({tag:"CREATE_PAYMENT_METHOD_WITH_ELEMENT",value:e})},createPaymentMethodWithData:function createPaymentMethodWithData(e){return d._sendCAReq({tag:"CREATE_PAYMENT_METHOD_WITH_DATA",value:e})},createPaymentPage:function createPaymentPage(e){return d._sendCAReq({tag:"CREATE_PAYMENT_PAGE",value:e})},createPaymentPageWithSession:function createPaymentPageWithSession(e){return d._sendCAReq({tag:"CREATE_PAYMENT_PAGE_WITH_SESSION",value:e})}},this.createElementFrame=function(e,t){var a=t.groupId,s=R(t,["groupId"]),o=new mi(e,d._id,zs({},s,{keyMode:qe(d._apiKey)}));return d._setupFrame(o,e,a)},this.createSecondaryElementFrame=function(e,t){var a=t.groupId,s=R(t,["groupId"]),o=new ms(e,d._id,s);return d._setupFrame(o,e,a)},this.createHiddenFrame=function(e,t){var a=new Va(e,d._id,t);return d._setupFrame(a,e)},this.createLightboxFrame=function(e,t){var a=new rs(e,d._id,t);return d._setupFrame(a,e)},this._setupFrame=function(e,t,a){return d._frames[e.id]=e,d._controllerFrame.sendPersistent({action:"stripe-user-createframe",payload:{newFrameId:e.id,frameType:t,groupId:a}}),e._on("unload",function(){d._controllerFrame.sendPersistent({action:"stripe-frame-unload",payload:{unloadedFrameId:e.id}})}),e._on("destroy",function(){delete d._frames[e.id],d._controllerFrame.sendPersistent({action:"stripe-frame-destroy",payload:{destroyedFrameId:e.id}})}),e._on("load",function(){d._controllerFrame.sendPersistent({action:"stripe-frame-load",payload:{loadedFrameId:e.id}}),d._controllerFrame.loaded&&e.send({action:"stripe-controller-load",payload:{}})}),e},this.report=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d._controllerFrame.send({action:"stripe-controller-report",payload:{event:e,data:t}})},this.warn=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];d._controllerFrame.send({action:"stripe-controller-warn",payload:{args:t}})},this.controllerFor=function(){return"outer"},this._setupPostMessage=function(){window.addEventListener("message",function(e){var t=e.data,a=e.origin,s=Yt(t);s&&bs(ft,a)&&d._handleMessage(s)})},this._handleMessage=function(e){var t=e.controllerId,n=e.frameId,m=e.message,o=d._frames[n];if(t===d._id)switch(m.action){case"stripe-frame-event":var v=m.payload,a=v.event,s=v.data;if(o){if(Ts){var u=o._iframe.parentElement,c=u&&u.querySelector(".__PrivateStripeElement-input");if("focus"===a&&!Ls&&!Fs(o,c)){c&&c.focus(),Ls=!0;break}if("blur"===a&&Ls){Ls=!1;break}"blur"===a&&setTimeout(function(){var a=document.activeElement;if(a&&!Fs(o,c)&&!ks(a)){var e=u&&u.querySelector(".__PrivateStripeElement-safariInput");if(e){var t=e;t.disabled=!1,t.focus(),t.blur(),t.disabled=!0}a.focus()}},400)}o._emit(a,s)}break;case"stripe-frame-action-complete":o&&o.resolve(m.payload.nonce,m.payload.result);break;case"stripe-frame-error":throw new Ie(m.payload.message);case"stripe-integration-error":o&&o._emit("__privateIntegrationError",{message:m.payload.message});break;case"stripe-controller-load":d._controllerFrame._emit("load"),Object.keys(d._frames).forEach(function(e){return d._frames[e].send({action:"stripe-controller-load",payload:{}})});break;case"stripe-safe-controller-action-response":d._requests[m.payload.nonce]&&d._requests[m.payload.nonce].resolve(m.payload.caRes);break;case"stripe-safe-controller-action-error":if(d._requests[m.payload.nonce]){var l=m.payload.caErr;"object"===(void 0===l?"undefined":Bs(l))&&null!==l&&"string"==typeof l.name&&"IntegrationError"===l.name?d._requests[m.payload.nonce].reject(new Ie("string"==typeof l.message?l.message:"")):d._requests[m.payload.nonce].reject(l)}}}},Ns=function e(a){q(this,e),Rs.call(this);var t=a.apiKey,s=a.stripeAccount,d=a.stripeJsId;this._id=Tt("__privateStripeController"),this._stripeJsId=d,this._apiKey=t,this._stripeAccount=s,this._controllerFrame=new $a(mt.CONTROLLER,this._id,zs({},a)),this._frames={},this._requests={},this._setupPostMessage(),this._handleMessage=Ut(this._handleMessage,this)},Ys=function(a){function t(){M(this,t);var a=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="NetworkError",a.type="network_error",a}return x(t,a),t}(Error),Vs=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Us={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},js=function Er(a){return Object.keys(Us).forEach(function(e){a.setRequestHeader(e,Us[e])}),a},Qs=function e(m){return new _t(function(t,n){var v=m.method,o=m.url,b=m.data,a=m.withCredentials,s=b?xt(b):"",u=!window.XMLHttpRequest||pt(o)&&void 0===new XMLHttpRequest().withCredentials,c="GET"===v&&s?o+"?"+s:o,l="GET"===v?"":s;if(u){var p=new window.XDomainRequest;try{p.open(v,c)}catch(t){n(t)}p.onerror=function(){t({responseText:JSON.stringify({error:{type:"api_error"}})})},p.onload=function(){t({status:200,responseText:p.responseText})},setTimeout(function(){p.send(l)},0)}else{var h=new XMLHttpRequest;a&&(h.withCredentials=a),h.open(v,c,!0),js(h),h.onreadystatechange=function(){4===h.readyState&&(h.onreadystatechange=function(){},0===h.status?a?n(new Ys):e(Vs({},m,{withCredentials:!0})).then(t,n):t(h))};try{h.send(l)}catch(t){n(t)}}})},Ws=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Hs=function Pr(a,e){var t=/@font-face[ ]?{[^}]*}/g,s=a.match(t);if(!s)throw new Ie("No @font-face rules found in file from "+e);return s},Gs=function Ar(a){var e=a.match(/@font-face[ ]?{([^}]*)}/);return e?e[1]:""},$s=function Cr(a,e){var t=a.replace(/\/\*.*\*\//g,"").trim(),s=t.length&&/;$/.test(t)?t:t+";",d=s.match(/((([^;(]*\([^()]*\)[^;)]*)|[^;]+)+)(?=;)/g);if(!d)throw new Ie("Found @font-face rule containing no valid font-properties in file from "+e);return d},Ks=function Tr(a,e){var t=a.indexOf(":");if(-1===t)throw new Ie("Invalid css declaration in file from "+e+": \""+a+"\"");var s=a.slice(0,t).trim(),d=wt[s];if(!d)throw new Ie("Unsupported css property in file from "+e+": \""+s+"\"");return{property:d,value:a.slice(t+1).trim()}},Js=function jr(a,s){var t=a.reduce(function(t,e){var a=Ks(e,s),d=a.property,o=a.value;return Ws({},t,L({},d,o))},{});return["family","src"].forEach(function(a){if(!t[a])throw new Ie("Missing css property in file from "+s+": \""+kt[a]+"\"")}),t},Xs=function Ir(a){return Qs({url:a,method:"GET"}).then(function(t){return t.responseText}).then(function(e){return Hs(e,a).map(function(e){var t=Gs(e),s=$s(t,a);return Js(s,a)})})},Zs=function qr(a,e){if(!(a&&a in As))throw new Ie("A valid Element name must be provided. Valid Elements are:\n"+Object.keys(As).filter(function(t){return!As[t].beta}).join(", ")+"; you passed: "+a+".");if(As[a].unique&&-1!==e.indexOf(a))throw new Ie("Can only create one Element of type "+a+".");var t=Ae(e,As[a].conflict);if(t.length){var s=t[0];throw new Ie("Cannot create an Element of type "+a+" after an Element of type "+s+" has already been created.")}},Co=function Mr(a,e){var t=Array.prototype.slice.call(document.querySelectorAll("a[href], area[href], input:not([disabled]),\n  select:not([disabled]), textarea:not([disabled]), button:not([disabled]),\n  object, embed, *[tabindex], *[contenteditable]")),s=[];t.forEach(function(a){var e=a.getAttribute("tabindex"),t=!e||0<=parseInt(e,10),d=a.getBoundingClientRect(),o=0<d.width&&0<d.height;t&&o&&s.push(a)});var d=_e(s,function(e){return e===a||a.contains(e)});return s[d+("previous"===e?-1:1)]},Fo=function Lr(a){var e=a.split(" ").map(function(t){return parseInt(t.trim(),10)});return 1===e.length||2===e.length?2*e[0]:3===e.length||4===e.length?e[0]+e[2]:0},Uo=function Dr(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"1.2em",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"14px",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"0",n=Fo(t);if("string"==typeof d&&/^[0-9.]+px$/.test(d))return parseFloat(d.toString().replace(/[^0-9.]/g,""))+n+"px";var l=parseFloat(d.toString().replace(/[^0-9.]/g,"")),o=parseFloat("14px".replace(/[^0-9.]/g,"")),p=parseFloat(e.toString().replace(/[^0-9.]/g,"")),a;if("string"==typeof e&&/^(\d+|\d*\.\d+)px$/.test(e))a=p;else if("string"==typeof e&&/^(\d+|\d*\.\d+)em$/.test(e))a=p*o;else if("string"==typeof e&&/^(\d+|\d*\.\d+)%$/.test(e))a=p/100*o;else{if("string"!=typeof e||!/^[\d.]+$/.test(e)&&!/^\d*\.(px|em|%)$/.test(e))return"100%";a=o}var m=l*a+n,u=m+"px";return /^[0-9.]+px$/.test(u)?u:"100%"},ed=function Br(a,e){return a?window.getComputedStyle(a,e):null},td=function zr(a,e){var t=!1;return function(){if(t)throw new Ie(e);t=!0;try{return a.apply(void 0,arguments).then(function(a){return t=!1,a},function(a){throw t=!1,a})}catch(a){throw t=!1,a}}},ad=function(){if(!window.PaymentRequest)return null;if(/CriOS\/59/.test(navigator.userAgent))return null;if(/.*\(.*; wv\).*Chrome\/(?:53|54)\.\d.*/g.test(navigator.userAgent))return null;var t=window.PaymentRequest;return t.prototype.canMakePayment||(t.prototype.canMakePayment=function(){return _t.resolve(!1)}),t}(),id={CAN_MAKE_PAYMENT:"CAN_MAKE_PAYMENT"},sd=function Yr(){try{return window.location.origin===window.top.location.origin}catch(t){return!1}},od=function(a){var e={};return function(t){if(void 0!==e[t])return e[t];var s=a(t);return e[t]=s,s}}(function(t){return window.ApplePaySession.canMakePaymentsWithActiveCard(t).then(function(t){return wd&&wd("payreq.can_make_payment_native_response",{available:t}),t})}),dd=function Gr(a,e,t,s){if(wd=s,window.ApplePaySession){if(sd()){if(t&&"https:"!==window.location.protocol)return window.console&&window.console.warn("To test Apple Pay, you must serve this page over HTTPS."),_t.resolve(!1);if(window.ApplePaySession.supportsVersion(2)){var d=e?[a,e]:[a],o="merchant."+d.join(".")+".stripe";return od(o).then(function(s){if(t&&!s&&window.console){var d=e?"or stripeAccount parameter ("+e+") ":"";window.console.warn("Either you do not have a card saved to your Wallet or the current domain ("+a+") "+d+"is not registered for Apple Pay. Visit https://dashboard.stripe.com/account/apple_pay to register this domain.")}return s})}return t&&window.console&&window.console.warn("This version of Safari does not support ApplePay JS version 2."),_t.resolve(!1)}return _t.resolve(!1)}return _t.resolve(!1)},nd=null,rd=function Jr(a,e){return null===nd?ad?Is?_t.resolve(!1):e&&"https:"!==window.location.protocol?(window.console&&window.console.warn("To test Payment Request, you must serve this page over HTTPS."),_t.resolve(!1)):a?a.action(id.CAN_MAKE_PAYMENT).then(function(a){var e=a.available;return nd="boolean"==typeof e&&e}):_t.resolve(!1):_t.resolve(!1):_t.resolve(nd)},ld=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},cd={merchantCapabilities:["supports3DS"],displayItems:[]},pd={amount:function ot(a,e){return Je(!0)(a,e)},label:Qe,pending:ze($e)},ud={amount:Xe,label:Qe,pending:ze($e)},eo={amount:Xe,label:Qe,pending:ze($e),id:Ge(Qe,function(){return Tt("shippingOption")}),detail:Ge(Qe,function(){return""})},to={displayItems:ze(et(ot(ud))),shippingOptions:ze(tt("id")(et(ot(eo)))),total:ze(ot(pd))},no={shipping:"shipping",delivery:"delivery",pickup:"pickup"},ro={requestShipping:ze($e),requestPayerName:ze($e),requestPayerEmail:ze($e),requestPayerPhone:ze($e),shippingType:ze(Ve.apply(void 0,D(Object.keys(no))))},oo=ld({},ro,{displayItems:ze(et(ot(ud))),shippingOptions:ze(tt("id")(et(ot(eo)))),total:ot(ud),currency:He,country:We,jcbEnabled:ze($e)}),md={success:"success",fail:"fail",invalid_payer_name:"invalid_payer_name",invalid_payer_email:"invalid_payer_email",invalid_payer_phone:"invalid_payer_phone",invalid_shipping_address:"invalid_shipping_address"},ao=ld({},to,{status:Ve.apply(void 0,D(Object.keys(md)))}),so=ld({},to,{currency:ze(He)}),uo=ot(ao),co=st(so),lo=ot(oo),po=["mastercard","visa"],fo=["AT","AU","BE","CA","CH","DE","DK","ES","FI","FR","GB","HK","IE","IT","JP","LU","NL","NO","NZ","PT","SE","SG","US"],ho=function yo(a,e){var t="US"===a||e?["discover","diners","jcb"].concat(po):po;return-1===fo.indexOf(a)?t:["amex"].concat(F(t))},yo=function mo(a,e){return ho(a,e).reduce(function(a,e){return"mastercard"===e?[].concat(F(a),["masterCard"]):"diners"===e?a:[].concat(F(a),[e])},[])},mo={bif:1,clp:1,djf:1,gnf:1,jpy:1,kmf:1,krw:1,mga:1,pyg:1,rwf:1,vnd:1,vuv:1,xaf:1,xof:1,xpf:1},_o=function vo(a){var e=Math.log,s=mo[a.toLowerCase()]||100;return{unitSize:1/s,fractionDigits:e(s)/e(10)}},vo=function bo(a,e){var t=_o(e);return(a*t.unitSize).toFixed(t.fractionDigits)},bo=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},go=function wo(a,e){return{amount:vo(a.amount,e.currency),label:a.label,type:a.pending?"pending":"final"}},wo=function Eo(a,e){return{amount:vo(a.amount,e.currency),label:a.label,detail:a.detail,identifier:a.id}},Eo=function ko(a){return function(e){return e[a]&&"string"==typeof e[a]?e[a].toUpperCase():null}},vd=(yd={},B(yd,md.success,0),B(yd,md.fail,1),B(yd,md.invalid_payer_name,2),B(yd,md.invalid_shipping_address,3),B(yd,md.invalid_payer_phone,4),B(yd,md.invalid_payer_email,4),yd),So=(fd={},B(fd,no.pickup,"storePickup"),B(fd,no.shipping,"shipping"),B(fd,no.delivery,"delivery"),fd),Oo={total:function total(t){return go(t.total,t)},lineItems:function lineItems(a){return a.displayItems?a.displayItems.map(function(e){return go(e,a)}):[]},shippingMethods:function shippingMethods(a){return a.shippingOptions?a.shippingOptions.map(function(e){return wo(e,a)}):[]}},Po={shippingType:function shippingType(a){var e=a.shippingType;if(!e)return null;var t=So[e];if(void 0!==t)return t;throw new Ie("Invalid value for shippingType: "+e)},requiredBillingContactFields:function requiredBillingContactFields(t){return t.requestPayerName?["postalAddress"]:null},requiredShippingContactFields:function requiredShippingContactFields(a){var e=[];return a.requestShipping&&e.push("postalAddress"),a.requestPayerEmail&&e.push("email"),a.requestPayerPhone&&e.push("phone"),e.length?e:null},countryCode:Eo("country"),currencyCode:Eo("currency"),merchantCapabilities:function(a){return function(e){return e[a]||null}}("merchantCapabilities"),supportedNetworks:function supportedNetworks(t){return yo(t.country,t.jcbEnabled||!1)}},Ao=bo({},Oo,Po),To=bo({},Oo,{status:function status(t){return vd[t.status]||0}}),jo=function Io(a){var s=bo({},cd,a);return Object.keys(Ao).reduce(function(t,e){var a=Ao[e],d=a(s);return null===d?t:bo({},t,B({},e,d))},{})},Io=function Ro(a){return Object.keys(To).reduce(function(e,t){var s=To[t],d=s(a);return null===d?e:bo({},e,B({},t,d))},{})},Ro=function qo(t){return"string"==typeof t?t:null},qo=function Mo(t){return t?Ro(t.phoneNumber):null},Mo=function No(t){return t?Ro(t.emailAddress):null},No=function xo(t){return t?[t.givenName,t.familyName].filter(function(t){return t&&"string"==typeof t}).join(" "):null},xo=function Lo(d){if(d){var e=d.addressLines,t=d.countryCode,n=d.postalCode,l=d.administrativeArea,o=d.locality,c=d.phoneNumber,a=Ro(t);return{addressLine:Array.isArray(e)?e.reduce(function(a,e){return"string"==typeof e?[].concat(U(a),[e]):a},[]):[],country:a?a.toUpperCase():"",postalCode:Ro(n)||"",recipient:No(d)||"",region:Ro(l)||"",city:Ro(o)||"",phone:Ro(c)||"",sortingCode:"",dependentLocality:"",organization:""}}return null},Lo=function Do(a,e){if(a&&e.shippingOptions){var t=a.identifier,s=a.label;return e.shippingOptions.filter(function(a){return a.id===t&&a.label===s})[0]||null}return null},Do=function Fo(a,e){var t=a.shippingContact,s=a.shippingMethod,d=a.billingContact;return{shippingOption:Lo(s,e),shippingAddress:xo(t),payerEmail:Mo(t),payerPhone:qo(t),payerName:No(d),methodName:"apple-pay"}},Bo=function Uo(t){if(!t||!t.length)throw new Ie("When requesting shipping information, you must specify shippingOptions once a shipping address is selected.\nEither provide shippingOptions in stripe.paymentRequest(...) or listen for the shippingaddresschange event and provide shippingOptions to the updateWith callback there.");return t},zo="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},Ho=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Wo=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Yo={australia:"AU",austria:"AT",canada:"CA",schweiz:"CH",deutschland:"DE",hongkong:"HK",saudiarabia:"SA",espaa:"ES",singapore:"SG",us:"US",usa:"US",unitedstatesofamerica:"US",unitedstates:"US",england:"GB",gb:"GB",uk:"GB",unitedkingdom:"GB"},Ko=function(a){function t(d,e,n,m,o,v,a,s){H(this,t);var u=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));Vo.call(u),u._controllerReport=d,u._controllerWarn=e,u._createApplePaySession=n,u._tokenizeWithData=m,u._createSourceWithData=o,u._showCalledByButtonElement=null,u._authentication=v,u._mids=a,u._report("payreq.options",{options:s});var c=rt(lo,s||{},"paymentRequest()"),l=c.value;return c.warnings.forEach(function(t){return u._controllerWarn(t)}),u._cachedCanMakePayment=null,u._canMakePaymentCalled=!1,u._initialPaymentRequest=l,u._isShowing=!1,u._initializeSessionState(),u}return Y(t,a),Wo(t,[{key:"_initializeSessionState",value:function value(){this._paymentRequestOptions=Ho({},this._initialPaymentRequest,{status:md.success}),this._privateSession=null,this._privateShippingOption=null;var t=this._paymentRequestOptions.shippingOptions;t&&t.length&&(this._privateShippingOption=t[0])}},{key:"_setupSession",value:function value(a,e){var t=this;a.addEventListener("validatemerchant",Ut(this._validateMerchant(a,e))),a.addEventListener("paymentauthorized",Ut(this._paymentAuthorized(a))),a.addEventListener("cancel",Ut(function(){t._report("payreq.show_rejected"),t._isShowing=!1,t._emit("cancel")})),a.addEventListener("shippingcontactselected",Ut(this._shippingContactSelected(a))),a.addEventListener("shippingmethodselected",Ut(this._shippingMethodSelected(a)))}}]),t}(Ht),Vo=function Go(){var d=this;this.canMakePayment=Ut(function(){return null===d._cachedCanMakePayment?dd(window.location.hostname,d._authentication.accountId,qe(d._authentication.apiKey)===Ce.test,d._report).then(function(e){return d._canMakePaymentCalled=!0,d._cachedCanMakePayment=e,d._report("payreq.can_make_payment_response",{available:d._cachedCanMakePayment}),d._cachedCanMakePayment?{applePay:!0}:null}):_t.resolve().then(function(){return d._canMakePaymentCalled=!0,d._report("payreq.can_make_payment_response",{available:d._cachedCanMakePayment,cached:!0}),d._cachedCanMakePayment?{applePay:!0}:null})}),this.update=Ut(function(e){if(d._isShowing)throw new Ie("You cannot update Payment Request options while the payment sheet is showing.");var t=rt(co,e,"PaymentRequest update()"),a=t.value;t.warnings.forEach(function(e){return d._controllerWarn(e)}),d._initialPaymentRequest=Pe(d._paymentRequestOptions,a),d._initializeSessionState(),d._report("payreq.update",{updates:e})}),this.show=Ut(function(){null===d._showCalledByButtonElement&&(d._showCalledByButtonElement=!1);var e=d._showCalledByButtonElement;if(d._usedByButtonElement&&!d._showCalledByButtonElement&&(d._report("payreq.show_called_with_button"),d._controllerWarn("Do not call show() yourself if you are using the paymentRequestButton Element.\nThe Element handles showing the payment sheet.")),!d._canMakePaymentCalled)throw new Ie("You must first check the Payment Request API's\navailability using paymentRequest.canMakePayment() before calling show().");if(!d._cachedCanMakePayment)throw new Ie("Payment Request is not available in this browser.");d._initializeSessionState();try{d._controllerWarn(jo(d._paymentRequestOptions));var t=new window.ApplePaySession(2,jo(d._paymentRequestOptions));d._privateSession=t,d._setupSession(t,e),t.begin(),d._isShowing=!0,d._report("payreq.show",{listeners:Object.keys(d._callbacks).sort()})}catch(t){throw"Must create a new ApplePaySession from a user gesture handler."===t.message?new Ie("show() must be called from a user gesture handler (such as a click handler, after the user clicks a button)."):t}}),this.abort=Ut(function(){d._privateSession&&(d._privateSession.abort(),d._report("payreq.abort"))}),this._report=function(e,t){d._controllerReport(e,Ho({},t,null===d._showCalledByButtonElement?{}:{usesButtonElement:d._showCalledByButtonElement},{impl:"applepay"}))},this._elementShow=function(){d._showCalledByButtonElement=!0,d.show()},this._registerElement=function(){d._usedByButtonElement=!0},this._validateMerchant=function(e,t){return function(a){d._createApplePaySession({data:{validation_url:a.validationURL,domain_name:window.location.hostname,display_name:d._paymentRequestOptions.total.label},usesButtonElement:t}).then(function(t){switch(t.type){case"object":e.completeMerchantValidation(JSON.parse(t.object.session));break;case"error":d._handleValidationError(e)(t.error);break;default:ve(t);}},d._handleValidationError(e))}},this._handleValidationError=function(e){return function(t){var a=t.message;e.abort(),"string"==typeof a?(d._controllerWarn(t.message),d._report("user_error.apple_pay_session_error",{error:t})):d._report("fatal.payreq.unexpected_error",{error:t})}},this._paymentAuthorized=function(e){return function(t){var s=t.payment;d._report("payreq.paymentauthorized");var a=d._showCalledByButtonElement?ht.paymentRequestButton:null;d._tokenizeWithData({type:"apple_pay",elementName:a,tokenData:Ho({},s,{billingContact:d._normalizeContact(s.billingContact)}),mids:d._mids}).then(function(t){if("error"===t.type)e.completePayment(window.ApplePaySession.STATUS_FAILURE),d._report("fatal.payreq.on_error",{error:t.error});else{var n=d._normalizeContact(s.shippingContact),o=d._normalizeContact(s.billingContact);n&&d._paymentRequestOptions.requestShipping&&!n.countryCode&&e.completePayment(window.ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS);var l=Do({shippingContact:n,billingContact:o},d._paymentRequestOptions);d._onToken(e)(Ho({},l,{shippingOption:d._privateShippingOption,token:t.object}))}})}},this._normalizeContact=function(e){if(e&&"object"===(void 0===e?"undefined":zo(e))&&e.country&&"string"==typeof e.country){var t=e.country.toLowerCase().replace(/[^a-z]+/g,""),a;return e.countryCode?"string"==typeof e.countryCode&&(a=e.countryCode.toUpperCase()):(a=Yo[t])||d._report("fatal.payreq.missing_country_code",{country:e.country}),Ho({},e,{countryCode:a})}return"object"===(void 0===e?"undefined":zo(e))?e:null},this._onToken=function(e){return function(t){if(d._hasRegisteredListener("token")&&d._maybeEmitSourceOrToken("token",Ho({},t,{complete:d._completePayment(e)})),d._hasRegisteredListener("source")){var l=t.token,c=z(t,["token"]),o=c.payerPhone,n=c.payerEmail,a=d._showCalledByButtonElement?ht.paymentRequestButton:null;d._createSourceWithData({elementName:a,type:"card",sourceData:{token:l.id,owner:{phone:o,email:n}},mids:d._mids}).then(function(t){"error"===t.type?(d._report("fatal.payreq.source_failed",{error:t.error,token:l}),e.completePayment(window.ApplePaySession.STATUS_FAILURE)):d._maybeEmitSourceOrToken("source",Ho({},c,{source:t.object,complete:d._completePayment(e)}))})}}},this._maybeEmitSourceOrToken=function(e,t){d._isShowing&&d._emit(e,t)},this._completePayment=function(e){return function(t){var s=rt(uo,{status:t},"status for PaymentRequest completion"),n=s.value;s.warnings.forEach(function(e){return d._controllerWarn(e)}),d._paymentRequestOptions=Pe(d._paymentRequestOptions,n);var o=Io(d._paymentRequestOptions),l=o.status;e.completePayment(l),-1===[window.ApplePaySession.STATUS_INVALID_BILLING_POSTAL_ADDRESS,window.ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,window.ApplePaySession.STATUS_INVALID_SHIPPING_CONTACT].indexOf(l)&&(d._isShowing=!1)}},this._shippingContactSelected=function(e){return function(t){var n=Do({shippingContact:d._normalizeContact(t.shippingContact)},d._paymentRequestOptions).shippingAddress;if(d._hasRegisteredListener("shippingaddresschange")){var l={shippingAddress:n,updateWith:d._completeShippingContactSelection(e)};d._emit("shippingaddresschange",l)}else{Bo(d._paymentRequestOptions.shippingOptions);var o=Io(d._paymentRequestOptions),c=o.total,a=o.lineItems,s=o.shippingMethods;e.completeShippingContactSelection(window.ApplePaySession.STATUS_SUCCESS,s,c,a)}}},this._completeShippingContactSelection=function(e){return function(t){var n=rt(uo,t||{},"shipping address selection callback"),p=n.value;if(n.warnings.forEach(function(e){return d._controllerWarn(e)}),d._paymentRequestOptions=Pe(d._paymentRequestOptions,p),d._paymentRequestOptions.status===md.success){var o=Bo(d._paymentRequestOptions.shippingOptions);d._privateShippingOption=o[0]}var m=Io(d._paymentRequestOptions),a=m.status,s=m.shippingMethods,u=m.total,c=m.lineItems;e.completeShippingContactSelection(a,s,u,c)}},this._shippingMethodSelected=function(e){return function(t){if(d._privateShippingOption=Do({shippingMethod:t.shippingMethod},d._paymentRequestOptions).shippingOption,d._hasRegisteredListener("shippingoptionchange")){var s={shippingOption:d._privateShippingOption,updateWith:d._completeShippingMethodSelection(e)};d._emit("shippingoptionchange",s)}else{var n=Io(d._paymentRequestOptions),o=n.total,l=n.lineItems;e.completeShippingMethodSelection(window.ApplePaySession.STATUS_SUCCESS,o,l)}}},this._completeShippingMethodSelection=function(e){return function(t){var n=rt(uo,t||{},"shipping option selection callback"),l=n.value;n.warnings.forEach(function(e){return d._controllerWarn(e)}),d._paymentRequestOptions=Pe(d._paymentRequestOptions,l);var o=Io(d._paymentRequestOptions),c=o.status,a=o.total,s=o.lineItems;e.completeShippingMethodSelection(c,a,s)}}},Go=Ko,$o=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Jo=function(a){function t(d,e,n,l){V(this,t);var o=G(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));Qo.call(o),o._showCalledByButtonElement=null,o._authentication=e,o._controller=d,o._mids=n,o._report("payreq.options",{options:l}),o._cachedCanMakePayment=null,o._canMakePaymentCalled=!1;var c=rt(lo,l||{},"paymentRequest()"),a=c.value;if(c.warnings.forEach(function(t){return o._controller.warn(t)}),ad&&"https:"===window.location.protocol){o._controller.action.fetchLocale({locale:"auto"});var s=o._controller.createHiddenFrame(mt.PAYMENT_REQUEST,{authentication:e,mids:o._mids});o._setupPrFrame(s,a),o._prFrame=s}else o._prFrame=null;return o}return $(t,a),t}(Ht),Qo=function Zo(){var d=this;this.canMakePayment=Ut(function(){return null===d._cachedCanMakePayment?rd(d._prFrame,qe(d._authentication.apiKey)===Ce.test).then(function(e){return d._canMakePaymentCalled=!0,d._cachedCanMakePayment=e,d._report("payreq.can_make_payment_response",{available:d._cachedCanMakePayment}),d._cachedCanMakePayment?{applePay:!1}:null}):_t.resolve().then(function(){return d._canMakePaymentCalled=!0,d._report("payreq.can_make_payment_response",{available:d._cachedCanMakePayment,cached:!0}),d._cachedCanMakePayment?{applePay:!1}:null})}),this.update=Ut(function(e){var t=d._prFrame;if(t){var a=rt(co,e,"PaymentRequest update()"),s=a.value;a.warnings.forEach(function(e){return d._controller.warn(e)}),t.send({action:"stripe-pr-update",payload:{data:s}})}d._report("payreq.update",{updates:e})}),this.show=Ut(function(){if(null===d._showCalledByButtonElement&&(d._showCalledByButtonElement=!1),d._usedByButtonElement&&!d._showCalledByButtonElement&&(d._report("payreq.show_called_with_button"),d._controller.warn("Do not call show() yourself if you are using the paymentRequestButton Element.\nThe Element handles showing the payment sheet.")),!d._canMakePaymentCalled)throw new Ie("You must first check the Payment Request API's\navailability using paymentRequest.canMakePayment() before calling show().");if(!d._cachedCanMakePayment||!d._prFrame)throw new Ie("Payment Request is not available in this browser.");d._prFrame.send({action:"stripe-pr-show",payload:{data:{usesButtonElement:d._showCalledByButtonElement}}}),d._report("payreq.show",{listeners:Object.keys(d._callbacks).sort()})}),this.abort=Ut(function(){d._prFrame&&(d._prFrame.send({action:"stripe-pr-abort",payload:{}}),d._report("payreq.abort"))}),this._report=function(e,t){d._controller.report(e,$o({},t,null===d._showCalledByButtonElement?{}:{usesButtonElement:d._showCalledByButtonElement},{impl:"prapi"}))},this._elementShow=function(){d._showCalledByButtonElement=!0,d.show()},this._registerElement=function(){d._usedByButtonElement=!0},this._setupPrFrame=function(e,t){e.send({action:"stripe-pr-initialize",payload:{data:t}}),e._on("pr-cancel",function(){d._emit("cancel")}),e._on("pr-error",function(){d._report("fatal.payreq.on_error",{error:"Would have emitted 'error' event, but 'error' is silenced."})}),e._on("pr-callback",function(n){var p=n.event,m=n.nonce,o=n.options;if("token"===p){var a=function s(t){var a=rt(uo,{status:t},"status for PaymentRequest completion"),n=a.value;a.warnings.forEach(function(e){return d._controller.warn(e)}),e.send({action:"stripe-pr-callback-complete",payload:{data:n,nonce:m}})};d._handleToken(e,o,a)}else if(!("shippingaddresschange"===p||"shippingoptionchange"===p))d._report("error.payreq.unknown_event",{event:p,options:o});else if(d._hasRegisteredListener(p)){var s=o.shippingAddress,u=o.shippingOption,c="shippingaddresschange"===p?{shippingAddress:s}:{shippingOption:u};d._emit(p,$o({},c,{updateWith:function updateWith(o){var n=rt(uo,o||{},p+" callback"),a=n.value;n.warnings.forEach(function(e){return d._controller.warn(e)}),"shippingaddresschange"===p&&a.status===md.success&&Bo(a.shippingOptions||t.shippingOptions),e.send({action:"stripe-pr-callback-complete",payload:{nonce:m,data:a}})}}))}else"shippingaddresschange"===p&&Bo(t.shippingOptions),e.send({action:"stripe-pr-callback-complete",payload:{nonce:m,data:{status:md.success}}})})},this._handleToken=function(e,t,n){var p=t._privateOwner,o=K(t,["_privateOwner"]);if(d._hasRegisteredListener("token")&&d._emit("token",$o({},o,{complete:n})),d._hasRegisteredListener("source")){var m=o.token,a=K(o,["token"]),s=t.payerPhone||null,u=t.payerEmail||null,c=d._showCalledByButtonElement?ht.paymentRequestButton:null;d._controller.action.createSourceWithData({elementName:c,type:"card",sourceData:{token:m.id,owner:$o({phone:s,email:u},p||{})},mids:null}).then(function(e){"error"===e.type?(d._report("fatal.payreq.source_failed",{error:e.error,token:m}),n(md.fail)):d._emit("source",$o({},a,{source:e.object,complete:n}))})}}},Zo=Jo,Xo=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},ei=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),ti={base:ze(Ze),complete:ze(Ze),empty:ze(Ze),invalid:ze(Ze),paymentRequestButton:ze(Ze)},ni={classes:ze(ot({base:ze(Qe),complete:ze(Qe),empty:ze(Qe),focus:ze(Qe),invalid:ze(Qe),webkitAutofill:ze(Qe)})),hidePostalCode:ze($e),hideIcon:ze($e),style:ze(ot(ti)),iconStyle:ze(Ve("solid","default")),value:ze(Ne(Qe,Ze)),__privateCvcOptional:ze($e),__privateValue:ze(Ne(Qe,Ze)),__privateEmitIbanValue:ze($e),error:ze(ot({type:Qe,code:ze(Qe),decline_code:ze(Qe),param:ze(Qe)})),locale:at("elements()"),fonts:at("elements()"),placeholder:ze(Qe),disabled:ze($e),placeholderCountry:ze(Qe),paymentRequest:ze(Ne(Ue(Go,"stripe.paymentRequest(...)"),Ue(Zo,"stripe.paymentRequest(...)"))),supportedCountries:ze(et(Qe))},ri=ot(ni),oi={base:"StripeElement",focus:"StripeElement--focus",invalid:"StripeElement--invalid",complete:"StripeElement--complete",empty:"StripeElement--empty",webkitAutofill:"StripeElement--webkit-autofill"},ii={margin:"0",padding:"0",border:"none",display:"block",background:"transparent",position:"relative",opacity:"1"},ai={border:"none",display:"block",position:"absolute",height:"1px",top:"0",left:"0",padding:"0",margin:"0",width:"100%",opacity:"0",background:"transparent","pointer-events":"none","font-size":"16px"},si=function ui(t){return parseFloat(t.toFixed(1))},bd=function ci(t){return /^\d+(\.\d*)?px$/.test(t)},ci=function(a){function t(s){Z(this,t);var e=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));li.call(e);var d=s.controller,n=s.componentName,o=s.paymentRequest;e._controller=d,e._componentName=n;var l="paymentRequestButton"===e._componentName;if(l){if(!o)throw new Ie("You must pass in a stripe.paymentRequest object in order to use this Element.");e._paymentRequest=o,e._paymentRequest._registerElement()}return e._createComponent(s,n),e._classes=oi,e._changeClasses(s.classes||{}),e._lastBackgroundColor="",e._destroyed=!1,e._focused=!1,e._empty=!l,e._invalid=!1,e._complete=!1,e._autofilled=!1,e._lastSubmittedAt=null,e}return ee(t,a),ei(t,[{key:"_checkDestroyed",value:function value(){if(this._destroyed)throw new Ie("This Element has already been destroyed. Please create a new one.")}},{key:"_isMounted",value:function value(){return!!document.body&&document.body.contains(this._component)}},{key:"_mountToParent",value:function value(a){var e=this._component.parentElement,t=this._isMounted();if(a===e){if(t)return;this.unmount(),this._mountTo(a)}else if(e){if(t)throw new Ie("This Element is already mounted. Use `unmount()` to unmount the Element before re-mounting.");this.unmount(),this._mountTo(a)}else this._mountTo(a)}},{key:"_mountTo",value:function value(a){var e=Date.now(),t=ed(a,null),s=!!t&&"rtl"===t.getPropertyValue("direction");for(this._parent=a;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(this._component),this._frame.send({action:"stripe-user-mount",payload:{mountTime:e,rtl:s}}),this._findPossibleLabel(),this._updateClasses()}},{key:"_updateClasses",value:function value(){this._parent&&zt(this._parent,[[this._classes.base,!0],[this._classes.empty,this._empty],[this._classes.focus,this._focused],[this._classes.invalid,this._invalid],[this._classes.complete,this._complete],[this._classes.webkitAutofill,this._autofilled]])}},{key:"_removeClasses",value:function value(){this._parent&&zt(this._parent,[[this._classes.base,!1],[this._classes.empty,!1],[this._classes.focus,!1],[this._classes.invalid,!1],[this._classes.complete,!1],[this._classes.webkitAutofill,!1]])}},{key:"_findPossibleLabel",value:function value(){var a=this._parent;if(a){var e=a.getAttribute("id"),t;if(e&&(t=document.querySelector("label[for='"+e+"']")),t)a.addEventListener("click",this.focus);else for(t=t||a.parentElement;t&&"LABEL"!==t.nodeName;)t=t.parentElement;t?(this._label=t,t.addEventListener("click",this.focus)):a.addEventListener("click",this.focus)}}},{key:"_changeClasses",value:function value(a){var e={};return Object.keys(a).forEach(function(t){if(!oi[t])throw new Ie(t+" is not a customizable class name.\nYou can customize: "+Object.keys(oi).join(", "));var s=a[t]||oi[t];e[t]=s.replace(/\./g," ")}),this._classes=Xo({},this._classes,e),this}},{key:"_emitEvent",value:function value(a,e){return this._emit(a,Xo({elementType:this._componentName},e))}},{key:"_setupEvents",value:function value(){var d=this;this._frame._on("redirectfocus",function(e){var t=e.focusDirection,a=Co(d._component,t);a&&a.focus()}),this._frame._on("focus",function(){d._focused=!0,d._updateClasses()}),this._frame._on("blur",function(){d._focused=!1,d._updateClasses(),d._lastSubmittedAt&&"paymentRequestButton"===d._componentName&&(d._controller.report("payment_request_button.sheet_visible",{latency:new Date-d._lastSubmittedAt}),d._lastSubmittedAt=null)}),this._frame._on("submit",function(){if("paymentRequestButton"===d._componentName){d._lastSubmittedAt=new Date;var e=!1,a=!1;d._emitEvent("click",{preventDefault:function preventDefault(){d._controller.report("payment_request_button.default_prevented"),e&&d._controller.warn("event.preventDefault() was called after the payment sheet was shown. Make sure to call it synchronously when handling the `click` event."),a=!0}}),!a&&d._paymentRequest&&(d._paymentRequest._elementShow(),e=!0)}else d._emitEvent("submit"),d._formSubmit()}),["ready","focus","blur","escape"].forEach(function(e){d._frame._on(e,function(){d._emitEvent(e)})}),this._frame._on("change",function(a){var t={};["error","value","empty","complete"].concat(Q(Os[d._componentName]||[])).forEach(function(s){return t[s]=a[s]}),d._emitEvent("change",t),d._empty=t.empty,d._invalid=!!t.error,d._complete=t.complete,d._updateClasses()}),this._frame._on("__privateIntegrationError",function(e){var t=e.message;d._emitEvent("__privateIntegrationError",{message:t})}),this._frame._on("dimensions",function(e){if(d._parent){var t=ed(d._parent,null);if(t){var n=parseFloat(t.getPropertyValue("height")),l=e.height;if("border-box"===t.getPropertyValue("box-sizing")){var o=parseFloat(t.getPropertyValue("padding-top")),c=parseFloat(t.getPropertyValue("padding-bottom"));n=n-parseFloat(t.getPropertyValue("border-top"))-parseFloat(t.getPropertyValue("border-bottom"))-o-c}0!==n&&si(n)<si(l)&&d._controller.report("wrapper_height_mismatch",{height:l,outer_height:n});var a=d._component.getBoundingClientRect().height;0!==a&&0!==l&&si(a)!==si(l)&&(d._frame.updateStyle({height:l+"px"}),d._controller.report("iframe_height_update",{height:l,calculated_height:a}))}}}),this._frame._on("autofill",function(){if(d._parent){var e=d._parent.style.backgroundColor;d._lastBackgroundColor="#faffbd"===e||"rgb(250, 255, 189)"===e?d._lastBackgroundColor:e,d._parent.style.backgroundColor="#faffbd",d._autofilled=!0,d._updateClasses()}}),this._frame._on("autofill-cleared",function(){d._autofilled=!1,d._parent&&(d._parent.style.backgroundColor=d._lastBackgroundColor),d._updateClasses()})}},{key:"_handleOutsideClick",value:function value(){this._secondaryFrame&&this._secondaryFrame.send({action:"stripe-outside-click",payload:{}})}},{key:"_createSecondFrame",value:function value(a,e,t){var s=this._controller.createSecondaryElementFrame(a,Xo({},t,{componentName:e}));return s&&s.on&&s.on("height-change",function(t){s.updateStyle({height:t.height+"px"})}),s}},{key:"_createComponent",value:function value(a,e){this._createElement(a,e),this._setupEvents(),this._updateFrameHeight(a,!0)}},{key:"_updateFrameHeight",value:function value(m){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if("paymentRequestButton"===this._componentName){var t=m.style&&m.style.paymentRequestButton||{},n=t.height,v="string"==typeof n?n:void 0;(e||v)&&(this._frame.updateStyle({height:v||this._lastHeight||"40px"}),this._lastHeight=v||this._lastHeight)}else{var o=m.style&&m.style.base||{},b=o.lineHeight,a=o.fontSize,s=o.padding,u="string"!=typeof b||isNaN(parseFloat(b))?void 0:b,c="string"==typeof a?a:void 0,l="string"==typeof s?s:void 0;if(c&&!bd(c)&&this._controller.warn("The fontSize style you specified ("+c+") is not in px. We do not recommend using relative css units, as they will be calculated relative to our iframe's styles rather than your site's."),e||u||c){var p=-1===St.indexOf(this._componentName)?void 0:l||this._lastPadding,h=Uo(u||this._lastHeight,c||this._lastFontSize,p);this._frame.updateStyle({height:h}),this._lastFontSize=c||this._lastFontSize,this._lastHeight=u||this._lastHeight,this._lastPadding=p}}}},{key:"_createElement",value:function value(d,e){var t=this,n=(d.classes,d.controller,d.paymentRequest,J(d,["classes","controller","paymentRequest"])),m=document.createElement("div");m.className="__PrivateStripeElement";var o=document.createElement("input");o.className="__PrivateStripeElement-input",o.setAttribute("aria-hidden","true"),o.setAttribute("aria-label"," "),o.setAttribute("autocomplete","false"),o.maxLength=1,o.disabled=!0,Lt(m,ii),Lt(o,ai);var v=ed(document.body),a=!!v&&"rtl"===v.getPropertyValue("direction"),s=Ps[e],u=Xo({},n,{rtl:a}),c=this._controller.createElementFrame(s,u);if(c._on("load",function(){o.disabled=!1}),o.addEventListener("focus",function(){c.focus()}),c.appendTo(m),Es[e]){var l=Es[e].secondary;this._secondaryFrame=this._createSecondFrame(s,l,Xo({},u,{primaryElementType:e})),this._secondaryFrame.appendTo(m),window.addEventListener("click",function(){return t._handleOutsideClick()})}if(m.appendChild(o),Ts){var p=document.createElement("input");p.className="__PrivateStripeElement-safariInput",p.setAttribute("aria-hidden","true"),p.setAttribute("tabindex","-1"),p.setAttribute("autocomplete","false"),p.maxLength=1,p.disabled=!0,Lt(p,ai),m.appendChild(p)}this._component=m,this._frame=c,this._fakeInput=o}}]),t}(Ht),li=function pi(){var a=this;this.mount=Ut(function(e){a._checkDestroyed();var t;if(!e)throw new Ie("Missing argument. Make sure to call mount() with a valid DOM element or selector.");if("string"==typeof e){var s=document.querySelectorAll(e);if(1<s.length&&a._controller.warn("The selector you specified ("+e+") applies to "+s.length+" DOM elements that are currently on the page.\nThe Stripe Element will be mounted to the first one."),!s.length)throw new Ie("The selector you specified ("+e+") applies to no DOM elements that are currently on the page.\nMake sure the element exists on the page before calling mount().");t=s[0]}else{if(!e.appendChild)throw new Ie("Invalid DOM element. Make sure to call mount() with a valid DOM element or selector.");t=e}if("INPUT"===t.nodeName)throw new Ie("Stripe Elements must be mounted in a DOM element that\ncan contain child nodes. `input` elements are not permitted to have child\nnodes. Try using a `div` element instead.");if(t.children.length&&a._controller.warn("This Element will be mounted to a DOM element that contains child nodes."),a._paymentRequest){if(!a._paymentRequest._canMakePaymentCalled)throw new Ie("For paymentRequest Elements, you must first check the Payment Request API's\navailability using paymentRequest.canMakePayment() before mounting the Element.");if(!a._paymentRequest._cachedCanMakePayment)throw new Ie("The "+a._componentName+" Element is not available in the current environment.");a._mountToParent(t)}else a._mountToParent(t)}),this.update=Ut(function(e){a._checkDestroyed();var t=rt(ri,e||{},"element.update()"),s=t.value;if(t.warnings.forEach(function(e){return a._controller.warn(e)}),s){var d=s.classes,o=J(s,["classes"]);a._changeClasses(d||{}),a._updateFrameHeight(s),Object.keys(o).length&&(a._frame.update(o),a._secondaryFrame&&a._secondaryFrame.update(o))}return a}),this.focus=Ut(function(e){return a._checkDestroyed(),e&&e.preventDefault(),document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),a._fakeInput.focus(),a}),this.blur=Ut(function(){return a._checkDestroyed(),a._frame.blur(),a._fakeInput.blur(),a}),this.clear=Ut(function(){return a._checkDestroyed(),a._frame.clear(),a}),this.unmount=Ut(function(){a._checkDestroyed();var e=a._component.parentElement,t=a._label;return e&&(e.removeChild(a._component),e.removeEventListener("click",a.focus),a._removeClasses()),a._parent=null,t&&(t.removeEventListener("click",a.focus),a._label=null),a._secondaryFrame&&(a._secondaryFrame.unmount(),window.removeEventListener("click",a._handleOutsideClick)),a._fakeInput.disabled=!0,a._frame.unmount(),a}),this.destroy=Ut(function(){return a._checkDestroyed(),a.unmount(),a._destroyed=!0,a._emitEvent("destroy"),a}),this._formSubmit=function(){for(var e=a._component.parentElement;e&&"FORM"!==e.nodeName;)e=e.parentElement;if(e){var s=document.createEvent("Event");s.initEvent("submit",!0,!0),e.dispatchEvent(s)}}},pi=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},di={locale:ze(Qe),fonts:ze(et(Ze))},hi=ot(di),yi=function _i(){var s=this;this.create=jt(function(d,e){Zs(d,s._elements);var t=rt(ri,e||{},"create()"),n=t.value;t.warnings.forEach(function(e){return s._controller.warn(e)});var o=!!s._pendingFonts,l=new ci(pi({},n,s._commonOptions,{controller:s._controller,componentName:d,groupId:s._id,wait:o}));return s._elements=[].concat(te(s._elements),[d]),l._on("destroy",function(){s._elements=s._elements.filter(function(t){return t!==d})}),l})},_i=function e(d,t){var l=this;ne(this,e),yi.call(this);var n=rt(hi,t||{},"elements()"),o=n.value;n.warnings.forEach(function(t){return d.warn(t)}),d.report("elements",{options:t}),this._elements=[],this._id=Tt("elements"),this._controller=d;var p=o.locale,a=o.fonts||[];this._controller.action.fetchLocale({locale:p||"auto"});var s=a.filter(function(t){return!t.cssSrc||"string"!=typeof t.cssSrc}).map(function(t){return pi({},t,{__resolveFontRelativeTo:window.location.href})}),u=a.map(function(t){return t.cssSrc}).reduce(function(a,e){return"string"==typeof e?[].concat(te(a),[e]):a},[]).map(function(t){return lt(t)?t:ut(window.location.href,t)});return this._pendingFonts=u.length,this._commonOptions=pi({},o,{fonts:s}),u.forEach(function(a){if("string"==typeof a){var e=Date.now();Xs(a).then(function(t){l._controller.report("font.loaded",{load_time:Date.now()-e,font_count:t.length,css_src:a});var s=t.map(function(e){return pi({},e,{__resolveFontRelativeTo:a})});l._controller.action.updateCSSFonts({fonts:s,groupId:l._id}),l._commonOptions=pi({},l._commonOptions,{fonts:[].concat(te(l._commonOptions.fonts?l._commonOptions.fonts:[]),te(s))})}).catch(function(t){l._controller.report("error.font.not_loaded",{load_time:Date.now()-e,message:t&&t.message&&t.message,css_src:a}),l._controller.warn("Failed to load CSS file at "+a+".")})}}),this},vi=function bi(a,e,t,s){return window.ApplePaySession?new Go(a.report,a.warn,a.action.createApplePaySession,a.action.tokenizeWithData,a.action.createSourceWithData,e,t,s):new Zo(a,e,t,s)},gi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},wi=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Ei=function ki(a,e){switch(a.type){case"object":return{paymentIntent:a.object};case"error":return{error:wi({},e?{payment_intent:e}:{},a.error)};default:return ve(a);}},ki=function Si(a){var e=a.trim().match(/^(pi_[^_]+)_secret_[^-]+$/);return e?{id:e[1],clientSecret:e[0]}:null},Si=function Oi(a,e){if("string"!=typeof a)return Re("a client_secret string",a,e);var t=ki(a);return null===t?Re("a client secret of the form pi_${id}_secret_${secret}",a,e):De(t,[])},Oi=function Pi(a,e){if(null==a)return De(null);var t=a.type,s=oe(a,["type"]),d=wi({},e,{path:[].concat(re(e.path),["type"])}),o=Ge(Qe,function(){return null})(t,d);return"error"===o.type?o:De({type:o.value,data:s})},Pi=function Ai(t){return"requires_source_action"===t||"requires_action"===t},Ai=function Ci(t){return"requires_source_action"===t.status||"requires_action"===t.status?t.next_action:null},Ci=function Ti(d,e){if(null===d)return Be("object","null",e);if("object"!==(void 0===d?"undefined":gi(d)))return Be("object",void 0===d?"undefined":gi(d),e);var t=d.client_secret,n=d.status,l=d.next_action,o=wi({},e,{path:[].concat(re(e.path),["client_secret"])}),c=Si(t,o);if("error"===c.type)return c;if("string"!=typeof n){var a=wi({},e,{path:[].concat(re(e.path),["status"])});return Be("string",void 0===n?"undefined":gi(n),a)}if(("requires_source_action"===n||"requires_action"===n)&&"object"!==(void 0===l?"undefined":gi(l))){var s=wi({},e,{path:[].concat(re(e.path),["next_action"])});return Be("object",void 0===l?"undefined":gi(l),s)}return De(d,[])},Ti=function ji(d){return function(e,t){if("object"===(void 0===e?"undefined":gi(e))&&null!==e){var n=e.source,p=e.source_data,o=oe(e,["source","source_data"]);if(null!=n&&"string"!=typeof n){var m=wi({},t,{path:[].concat(re(t.path),["source"])});return Be("string",void 0===n?"undefined":gi(n),m)}if(null!=p&&"object"!==(void 0===p?"undefined":gi(p))){var a=wi({},t,{path:[].concat(re(t.path),["source_data"])});return Be("object",void 0===p?"undefined":gi(p),a)}var s=wi({},t,{path:[].concat(re(t.path),["source_data"])}),u=Oi(p,s);if("error"===u.type)return u;var c=u.value;return De({dataAndType:c,source:null==n?null:n,otherParams:wi({},d,o)})}return null===e?Be("object","null",t):Be("object",void 0===e?"undefined":gi(e),t)}},ji=function Ii(a){return function(e,t){if(void 0===e)return De({dataAndType:null,source:null,otherParams:{}});if("object"!==(void 0===e?"undefined":gi(e)))return Be("object",void 0===e?"undefined":gi(e),t);if(null===e)return Be("object","null",t);if(a){if(!e.payment_intent)return De({dataAndType:null,source:null,otherParams:e});var s=e.payment_intent,d=oe(e,["payment_intent"]),o=wi({},t,{path:[].concat(re(t.path),["payment_intent"])});return Ti(d)(s,o)}return e.payment_intent?Fe(new Ie("The payment_intent parameter has been removed. To fix, move everything nested under the payment_intent parameter to the top-level object.")):Ti({})(e,t)}},Ii={checkout_beta_2:"checkout_beta_2",checkout_beta_3:"checkout_beta_3",checkout_beta_4:"checkout_beta_4",payment_intent_beta_1:"payment_intent_beta_1",payment_intent_beta_2:"payment_intent_beta_2",payment_intent_beta_3:"payment_intent_beta_3",card_payment_method_beta_1:"card_payment_method_beta_1",acknowledge_ie9_deprecation:"acknowledge_ie9_deprecation"},Ri=Object.keys(Ii),qi=function Mi(a,e){return 0<=a.indexOf(e)},Mi={card:"card",ideal:"ideal",sepa_debit:"sepa_debit",three_d_secure:"three_d_secure"},Ni=(kd={},ie(kd,ht.card,Mi.card),ie(kd,ht.cardNumber,Mi.card),ie(kd,ht.cardExpiry,Mi.card),ie(kd,ht.cardCvc,Mi.card),ie(kd,ht.postalCode,Mi.card),ie(kd,ht.iban,Mi.sepa_debit),ie(kd,ht.idealBank,Mi.ideal),kd),xi=function Li(t){return-1===gt.indexOf(t)},Li=function Di(a,e){return null==e?xi(a)?null:Ni[a]||null:e},Di=function Fi(s){var e=s.name,t=s.value,d=s.expiresIn,n=s.path,o=s.domain,p=new Date;p.setTime(p.getTime()+(d||31536e6));var a=(t||"").replace(/[^!#-+\--:<-[\]-~]/g,encodeURIComponent),c=encodeURIComponent(e)+"="+a+";expires="+p.toGMTString()+";path="+(n||"/");o&&(c+=";domain="+o),document.cookie=c},Fi=function Bi(a){var e=we(document.cookie.split("; "),function(e){var t=e.indexOf("=");return decodeURIComponent(e.substr(0,t))===a});if(e){var t=e.indexOf("=");return decodeURIComponent(e.substr(t+1))}return null},Bi=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Ui={MERCHANT:"merchant",SESSION:"session"},Hi=function(){function e(){var a=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(ae(this,e),t.checkoutIds){var s=t.checkoutIds,d=s.muid,o=s.sid;this._muid=d,this._sid=o,this._doNotPersist=!0}else this._muid=this._getID(Ui.MERCHANT),this._sid=this._getID(Ui.SESSION),this._doNotPersist=!1;this._id=Tt("__privateStripeMetricsController"),this._controllerFrame=new $a(mt.METRICS_CONTROLLER,this._id,{autoload:!0,queryString:this._buildFrameQueryString()}),this._guidPromise=new _t(function(t){a._establishMessageChannel(t)}),this._startIntervalCheck(),setTimeout(this._testLatency.bind(this),2e3+500*Math.random())}return Bi(e,[{key:"ids",value:function value(){return{guid:this._guid||"NA",muid:this._muid||"NA",sid:this._sid||"NA"}}},{key:"idsPromise",value:function value(){var t=this;return this._guidPromise.then(function(){return t.ids()})}},{key:"_establishMessageChannel",value:function value(a){var e=this;window.addEventListener("message",function(t){try{var s=JSON.parse(t.data),d=s.originatingScript,o=s.payload;"m"===d&&(e._guid=o,a(o))}catch(t){}})}},{key:"_startIntervalCheck",value:function value(){var a=this,e=window.location.href;setInterval(function(){var t=window.location.href;t!==e&&(a.send({action:"ping",payload:{sid:a._getID(Ui.SESSION),muid:a._getID(Ui.MERCHANT),title:document.title,referrer:document.referrer,url:document.location.href}}),e=t)},5e3)}},{key:"report",value:function value(a,e){try{this.send({action:"track",payload:{sid:this._getID(Ui.SESSION),muid:this._getID(Ui.MERCHANT),url:document.location.href,source:a,data:e}})}catch(t){}}},{key:"send",value:function value(a){var e=bt(mt.METRICS_CONTROLLER);hs(e)&&this._controllerFrame.send(a)}},{key:"_testLatency",value:function value(){var a=this,e=[],t=new Date,s=function r(){try{var s=new Date;e.push(s-t),10<=e.length&&(a.report("mouse-timings-10",e),document.removeEventListener("mousemove",r)),t=s}catch(t){}};document.addEventListener("mousemove",s)}},{key:"_extractMetaReferrerPolicy",value:function value(){var t=document.querySelector("meta[name=referrer]");return null!=t&&t instanceof HTMLMetaElement?t.content.toLowerCase():null}},{key:"_extractUrl",value:function value(a){var e=document.location.href;return"origin"===a||"strict-origin"===a||"origin-when-cross-origin"===a||"strict-origin-when-cross-origin"===a?document.location.origin:"unsafe-url"===a?e.split("#")[0]:e}},{key:"_buildFrameQueryString",value:function value(){var a=this._extractMetaReferrerPolicy(),e=this._extractUrl(a),t={url:e,title:document.title,referrer:document.referrer,muid:this._muid,sid:this._sid,preview:gs(e)};return null!=a&&(t.metaReferrerPolicy=a),Object.keys(t).map(function(a){return null==t[a]?null:a+"="+encodeURIComponent(t[a].toString())}).join("&")}},{key:"_getID",value:function value(a){switch(a){case Ui.MERCHANT:if(this._doNotPersist)return this._muid;try{var e=Fi("__stripe_mid")||It();return Di({name:"__stripe_mid",value:e,domain:"."+document.location.hostname}),e}catch(t){return"NA"}case Ui.SESSION:if(this._doNotPersist)return this._sid;try{var t=Fi("__stripe_sid")||It();return Di({name:"__stripe_sid",value:t,domain:"."+document.location.hostname,expiresIn:18e5}),t}catch(t){return"NA"}default:throw new Error("Invalid ID type specified: "+a);}}}]),e}(),Wi=Hi,Yi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},Ki=function Vi(a){if(!a||"object"!==(void 0===a?"undefined":Yi(a)))return null;var e=a.type,t=se(a,["type"]);return{type:"string"==typeof e?e:null,data:t}},Vi=function Gi(t){switch(t.type){case"object":return{source:t.object};case"error":return{error:t.error};default:return ve(t);}},Gi={source:ot({id:je("src_"),client_secret:je("src_client_secret_")})},$i=ot(Gi),Ji=function Qi(t){switch(t.type){case"object":return{paymentMethod:t.object};case"error":return{error:t.error};default:return ve(t);}},Qi={_frame:ot({id:Qe}),_componentName:Qe},Zi=ot(Qi),Xi=function ea(a){var e=nt(Zi,a,"");return"error"===e.type?null:e.value},ea=function ta(a){return new _t(function(e){var t=setTimeout(function(){e({type:"error",error:{code:"redirect_error",message:"Failed to redirect to "+a}})},3e3);window.addEventListener("pagehide",function(){clearTimeout(t)}),window.top.location.href=a})},ta=function na(a,e,t){a.report("redirect_error",{initiator:e,error:t.error})},na=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},ra="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},oa=function ia(a,e,t){if(null===a){if(null===e)throw new Ie(t+": you must additionally specify which source type to create using source_data in the options.");return e}if(null===e)return a;if(e!==a)throw new Ie(t+": you specified a source type of "+e+", but "+t+" will create a source of type "+a+".");return a},ia=function aa(m,e,t,n,v){var o=nt(Zi,n,t);if("error"===o.type)return null;var b=o.value,a=rt(ji(m),v,t),s=a.value,u=s.dataAndType,c=s.source,l=s.otherParams;if(null!=c)throw new Ie("When calling "+t+" on an Element, you can't pass in a pre-existing source ID, as a source will be created using the Element.");var p=b._componentName,g=b._frame.id,d=u?u.type:null,h=Li(p,d);return{confirmMode:{tag:"element",elementName:p,frameId:g,sourceType:oa(e,h,t),sourceData:u?u.data:{}},otherParams:l}},aa=function sa(o,e,t,d){var n=rt(ji(o),d,t),m=n.value,a=m.dataAndType,s=m.source,u=m.otherParams;if(null!==s&&null!==a)throw new Ie(t+": Expected either source or source_data, but not both.");if(null!==a){var c=a.type,l=a.data;return{confirmMode:{tag:"sourceData",sourceType:oa(e,c,t),sourceData:l},otherParams:u}}return null===s?{confirmMode:{tag:"noSource"},otherParams:u}:{confirmMode:{tag:"source",source:s},otherParams:u}},sa=function ua(s,e,t){return function(d,n){var o=ia(s,e,t,d,n);if(o)return o;var l=aa(s,e,t,d);if(l)return l;throw new Ie("Expected: stripe."+t+"(intentSecret, element[, data]) or stripe."+t+"(intentSecret[, data]). Please see the docs for more usage examples https://stripe.com/docs/payments/dynamic-authentication")}},ua=function ca(a,e,t){return a.createLightboxFrame(mt.AUTHORIZE_WITH_URL,{url:e,intentSecret:t})},ca=function la(){var t=Array.prototype.slice.call(document.querySelectorAll("meta[name=viewport][content]"));return 0===t.length?"":t[t.length-1].content},la=function pa(a,e,s){var t=ca(),d=Date.now(),o=ua(s,e,a);return o.show(),s.report("authorize_with_url.loading",{viewport:t}),o._on("load",function(){s.report("authorize_with_url.loaded",{loadDuration:Date.now()-d})}),new _t(function(a){o._once("authorize_with_url_done",function(e){return s.report("authorize_with_url.done",{shownDuration:Date.now()-d,success:!("error"in e)}),o.destroy(),a(e)})})},pa=function fa(s,e,t){var d=Ai(e);if(!d)return _t.resolve({paymentIntent:e});if("use_stripe_sdk"!==d.type&&"authorize_with_url"!==d.type||t!==Mi.card){if("redirect_to_url"!==d.type&&"authorize_with_url"!==d.type||t!==Mi.ideal)return _t.resolve({paymentIntent:e});var n=d.redirect_to_url?d.redirect_to_url.url:d.authorize_with_url.url,o=function i(t){return ta(s,"ideal redirect",t),Ei(t,e)};return ea(n).then(o)}var l=d.use_stripe_sdk?d.use_stripe_sdk.stripe_js:d.authorize_with_url.url;return la(e.client_secret,l,s)},fa=function da(a){switch(a.type){case"error":var e=a.error;return"payment_intent_unexpected_state"===e.code&&"object"===ra(e.payment_intent)&&null!=e.payment_intent&&"string"==typeof e.payment_intent.status&&Pi(e.payment_intent.status)?{type:"object",object:e.payment_intent}:a;case"object":return a;default:return ve(a);}},da=function ha(a,e){return function(t){var s=fa(t);switch(s.type){case"error":return _t.resolve(Ei(t));case"object":var d=s.object;return pa(a,d,e);default:return ve(s);}}},ha=function ya(d,e,t,n,m){var o=Xi(n);if("string"!=typeof t)return _t.reject(new Ie("Please provide a PaymentMethod type to createPaymentMethod."));var v=Ki(o?m:n),a=v||{type:null,data:{}},s=a.type,u=a.data;if(s&&t!==s)return _t.reject(new Ie("The type supplied in payment_method_data is not consistent."));if(o){var c=o._frame.id,l=o._componentName;return d.action.createPaymentMethodWithElement({frameId:c,elementName:l,type:t,paymentMethodData:u,mids:e}).then(Ji)}return v?d.action.createPaymentMethodWithData({elementName:null,type:t,paymentMethodData:u,mids:e}).then(Ji):_t.reject(new Ie("Please provide either an Element or PaymentMethod creation parameters to createPaymentMethod."))},ya=function ma(a,e){var t=rt(Si,a,"retrievePaymentIntent"),s=t.value;return e.action.retrievePaymentIntent(s).then(Ei)},ma=function _a(d,e,t,n,l){var o=rt(Si,t,"stripe.confirmPaymentIntent intent secret"),c=o.value,a=sa(!1,null,"confirmPaymentIntent")(n,l);return d.action.confirmPaymentIntent(na({},a,{intentSecret:c,expectedType:null,mids:e})).then(Ei)},_a=function va(d,e,t,n,l,o){var p=rt(Si,n,"stripe.handleCardPayment intent secret"),a=p.value,s=Mi.card,u=sa(t,s,"handleCardPayment")(l,o);return d.action.confirmPaymentIntent(na({},u,{otherParams:na({},u.otherParams,{use_stripe_sdk:!0}),intentSecret:a,expectedType:s,mids:e})).then(da(d,s))},va=function ba(d,e,t,n,l,o){var p=rt(Si,n,"stripe.handleSepaDebitPayment intent secret"),a=p.value,s=Mi.sepa_debit,u=sa(t,s,"handleSepaDebitPayment")(l,o);return d.action.confirmPaymentIntent(na({},u,{intentSecret:a,expectedType:s,mids:e})).then(da(d,s))},ba=function ga(d,e,t,n,l,o){var p=rt(Si,n,"stripe.handleIdealPayment intent secret"),a=p.value,s=Mi.ideal,u=sa(t,s,"handleIdealPayment")(l,o);return d.action.confirmPaymentIntent(na({},u,{intentSecret:a,expectedType:s,mids:e})).then(da(d,s))},ga=Object.keys({da:"da",de:"de",en:"en",es:"es",fi:"fi",fr:"fr",it:"it",ja:"ja",nl:"nl",nb:"nb",pl:"pl",pt:"pt",sv:"sv",zh:"zh"}),Ea=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},ka={sku:ze(Qe),plan:ze(Qe),clientReferenceId:ze(Qe),locale:ze(Ve.apply(void 0,["auto"].concat(function(a){if(Array.isArray(a)){for(var e=0,s=Array(a.length);e<a.length;e++)s[e]=a[e];return s}return Array.from(a)}(ga))))},Sa=function Oa(a,e,t){if(a&&e||(a||e)&&t)throw new Ie("stripe.redirectToCheckout: Expected only one of sku, plan, or items.");if("string"==typeof a)return[{sku:a,quantity:1}];if("string"==typeof e)return[{plan:e,quantity:1}];if(t)return t.map(function(t){return"sku"===t.type?{sku:t.id,quantity:t.quantity}:{plan:t.id,quantity:t.quantity}});throw new Ie("stripe.redirectToCheckout: You must provide either sku, plan, or items.")},Oa=function Pa(a){var e=st(Ea({},ka,{items:ze(Ne(et(st({type:Ve("plan"),quantity:Ke(0),id:Qe})),et(st({type:Ve("sku"),quantity:Ke(0),id:Qe})))),successUrl:Qe,cancelUrl:Qe})),t=rt(e,a,"stripe.redirectToCheckout"),s=t.value;return{tag:"no-session",items:Sa(s.sku,s.plan,s.items),successUrl:s.successUrl,cancelUrl:s.cancelUrl,clientReferenceId:s.clientReferenceId,locale:s.locale}},Pa=function Aa(d){var e=st(Ea({},ka,{sessionId:ze(Qe),successUrl:ze(Qe),cancelUrl:ze(Qe),items:ze(Ne(et(st({quantity:Ke(0),plan:Qe})),et(st({quantity:Ke(0),sku:Qe}))))})),t=rt(e,d,"stripe.redirectToCheckout"),n=t.value;if(n.sessionId){if(1<Object.keys(n).length)throw new Ie("stripe.redirectToCheckout: Do not provide other parameters when providing sessionId. Specify all parameters on your server when creating the CheckoutSession.");return{tag:"session",sessionId:n.sessionId}}var l=n.items,o=n.successUrl,c=n.cancelUrl,a=n.clientReferenceId,s=n.locale;if(!l)throw new Ie("stripe.redirectToCheckout: You must provide one of items or sessionId.");if(!o||!c)throw new Ie("stripe.redirectToCheckout: You must provide successUrl and cancelUrl.");return{tag:"no-session",items:l,successUrl:o,cancelUrl:c,clientReferenceId:a,locale:s}},Aa=function Ca(a){var e=Pa(a);if("no-session"===e.tag){var t=e.successUrl,s=e.cancelUrl;if(!lt(t))throw new Ie("stripe.redirectToCheckout: successUrl must start with either http:// or https://.");if(!lt(s))throw new Ie("stripe.redirectToCheckout: cancelUrl must start with either http:// or https://.");return e}return e},Ca=function Ta(a,e){switch(a){case"checkout_beta_2":return Oa(e);case"checkout_beta_3":return Pa(e);case"checkout_beta_4":return Aa(e);default:throw ve(a),new Error("Unexpected beta.");}},ja=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Ia=function Ra(a,e){return ea(e).then(function n(e){return ta(a,"redirectToCheckout",e),{error:e.error}})},Ra=function qa(m,e,t){return function(n){m.report("redirect_to_checkout.options",{beta:e,options:n});var v=Ca(e,n);if("session"===v.tag){var o=v.sessionId;return m.action.createPaymentPageWithSession({sessionId:o,mids:t()}).then(function(e){if("error"===e.type)return{error:e.error};var t=e.object.url;return Ia(m,t)})}var a=v,s=(a.tag,a.items),u=a.successUrl,c=a.cancelUrl,l=a.clientReferenceId,p=ue(a,["tag","items","successUrl","cancelUrl","clientReferenceId"]),b=s.map(function(t){if(t.sku)return{type:"sku",id:t.sku,quantity:t.quantity};if(t.plan)return{type:"plan",id:t.plan,quantity:t.quantity};throw new Error("Unexpected item shape.")});return m.action.createPaymentPage(ja({mids:t(),items:b,success_url:u,cancel_url:c,client_reference_id:l},p)).then(function(e){if("error"===e.type)return{error:e.error};var t=e.object.url;return Ia(m,t)})}},qa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},Ma=function Na(t){switch(t.type){case"object":return{token:t.object};case"error":return{error:t.error};default:return ve(t);}},Na=function xa(t){return"object"===(void 0===t?"undefined":qa(t))&&null!==t?t:{}},xa=function La(d,e){return function(t,n){var l=Xi(t);if(l){var o=l._frame.id,p=l._componentName,a=Na(n);return d.action.tokenizeWithElement({frameId:o,elementName:p,tokenData:a,mids:e}).then(Ma)}if("string"==typeof t){var s=Na(n);return d.action.tokenizeWithData({elementName:null,type:t,tokenData:s,mids:e}).then(Ma)}throw new Ie("You must provide a Stripe Element or a valid token type to create a Token.")}},La=function(){function e(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}(),Da=ot({apiKey:Qe,stripeAccount:ze(Qe),__privateApiUrl:ze(Qe),__checkout:ze(ot({mids:ot({muid:Qe,sid:Qe})})),betas:ze(et(function $e(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return Ye(e,!0)}.apply(void 0,le(Ri))))}),Fa=function(){function e(d,t){var n=this;ce(this,e),xd.call(this);var m=rt(Da,d||{},"Stripe()"),o=m.value,v=m.warnings,a=o.apiKey,s=o.stripeAccount,u=o.__privateApiUrl,c=o.__checkout,l=o.betas;if(""===a)throw new Ie("Please call Stripe() with your publishable key. You used an empty string.");if(0===a.indexOf("sk_"))throw new Ie("You should not use your secret key with Stripe.js.\n        Please pass a publishable key instead.");c&&c.mids&&(e._ec=new Wi({checkoutIds:c.mids})),this._apiKey=a,this._keyMode=qe(a),this._betas=l||[],this._stripeAccount=s||null,this._isCheckout=!!c,this._controller=new Ns({apiKey:a,__privateApiUrl:u,stripeAccount:s,betas:this._betas,stripeJsId:e.stripeJsId}),v.forEach(function(t){return n._controller.warn(t)}),this._ensureHTTPS(),this._ensureStripeHosted(t),this._attachPaymentIntentMethods(this._betas),this._attachCheckoutMethods(this._betas),this._attachPrivateMethodsForCheckout(this._isCheckout),this._warnIE9Deprecation()}return La(e,[{key:"_attachPaymentIntentMethods",value:function value(){var d=this,t=qi(this._betas,Ii.payment_intent_beta_1)||qi(this._betas,Ii.payment_intent_beta_2),p=function r(){return d._mids()},e=Ut(function(t){return ya(t,d._controller)}),o=Qt(function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return ma.apply(void 0,[d._controller,p()].concat(e))}),n=Qt(function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return ha.apply(void 0,[d._controller,p()].concat(e))}),a=td(_a,"You have an in-flight handleCardPayment! Please be sure to disable your form submit button when handleCardPayment is called."),s=Qt(function(){for(var s=arguments.length,e=Array(s),o=0;o<s;o++)e[o]=arguments[o];return a.apply(void 0,[d._controller,p(),t].concat(e))}),u=Qt(function(){for(var a=arguments.length,e=Array(a),s=0;s<a;s++)e[s]=arguments[s];return va.apply(void 0,[d._controller,p(),t].concat(e))}),c=Qt(function(){for(var a=arguments.length,e=Array(a),s=0;s<a;s++)e[s]=arguments[s];return ba.apply(void 0,[d._controller,p(),t].concat(e))});qi(this._betas,Ii.payment_intent_beta_1)?(this.retrievePaymentIntent=e,this.fulfillPaymentIntent=s):qi(this._betas,Ii.payment_intent_beta_2)||qi(this._betas,Ii.payment_intent_beta_3)?(this.retrievePaymentIntent=e,this.handleCardPayment=s):qi(this._betas,Ii.card_payment_method_beta_1)&&(this.retrievePaymentIntent=e,this.createPaymentMethod=n),qi(this._betas,Ii.payment_intent_beta_3)&&(this.confirmPaymentIntent=o,this.handleSepaDebitPayment=u,this.handleIdealPayment=c)}},{key:"_attachPrivateMethodsForCheckout",value:function value(a){var d=this;a&&(this.tryNextSourceAction=jt(function(t,e){var n=rt(Ci,t,"Payment Intent"),l=n.value,o=Object.keys(Mi).map(function(t){return Mi[t]}),c=rt(Ve.apply(void 0,le(o)),e,"Source type"),a=c.value;return pa(d._controller,l,a)}))}},{key:"_attachCheckoutMethods",value:function value(){var e=this,t=function n(){return e._mids()};if(qi(this._betas,Ii.checkout_beta_2)){var a=Ra(this._controller,Ii.checkout_beta_2,t);this.redirectToCheckout=a}if(qi(this._betas,Ii.checkout_beta_3)){var s=Ra(this._controller,Ii.checkout_beta_3,t);this.redirectToCheckout=s}if(qi(this._betas,Ii.checkout_beta_4)){var o=Ra(this._controller,Ii.checkout_beta_4,t);this.redirectToCheckout=o}}},{key:"_warnIE9Deprecation",value:function value(){var t=this._keyMode===Ce.live;if(Ds&&!t&&!qi(this._betas,Ii.acknowledge_ie9_deprecation))throw window.console&&console.error("Starting in December 2018, stripe.js v3 will no longer support IE9, per Microsoft's lifecycle policy.\n\nThis error is being thrown only in IE9 in testmode so that you have an opportunity to update your integration or your browser testing strategy.\n\nIf you want to suppress this error in testmode until December, initialize stripe.js with the `acknowledge_ie9_deprecation` beta:\nvar stripe = Stripe(key, {betas: ['acknowledge_ie9_deprecation']})"),new Ie("Starting in December 2018, stripe.js v3 will no longer support IE9, per Microsoft's lifecycle policy.\n\nThis error is being thrown only in IE9 in testmode so that you have an opportunity to update your integration or your browser testing strategy.\n\nIf you want to suppress this error in testmode until December, initialize stripe.js with the `acknowledge_ie9_deprecation` beta:\nvar stripe = Stripe(key, {betas: ['acknowledge_ie9_deprecation']})")}},{key:"_ensureHTTPS",value:function value(){var a=window.location.protocol,e=-1!==["https:","file:"].indexOf(a),t=-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.hostname),s=this._keyMode===Ce.live;if(!e){if(s&&!t)throw this._controller.report("user_error.non_https_error",{protocol:a}),new Ie("Live Stripe.js integrations must use HTTPS. For more information: https://stripe.com/docs/stripe-js/elements/quickstart#http-requirements");!s||t?window.console&&console.warn("You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS."):window.console&&console.warn("Live Stripe.js integrations must use HTTPS. For more information: https://stripe.com/docs/stripe-js/elements/quickstart#http-requirements")}}},{key:"_ensureStripeHosted",value:function value(t){if(!t)throw this._controller.report("user_error.self_hosted"),new Ie("Stripe.js must be loaded from js.stripe.com. For more information https://stripe.com/docs/stripe-js/reference#including-stripejs")}},{key:"_mids",value:function value(){return e._ec?e._ec.ids():null}}]),e}(),Ba,hd,gd,yd,fd,kd,wd;Fa.version=3,Fa.stripeJsId=It(),Fa._ec=function(){return"https://checkout.stripe.com/".match(new RegExp(document.location.protocol+"//"+document.location.host))?null:new Wi}();var xd=function Ua(){var d=this;this.elements=Ut(function(e){return new _i(d._controller,e)}),this.createToken=jt(function(e,t){var a=d._mids();return xa(d._controller,a)(e,t)}),this.createSource=jt(function(e,t){var n=Xi(e),l=Ki(n?t:e),o=l||{type:null,data:{}},p=o.type,a=o.data;if(n){var s=n._frame.id,u=n._componentName;return!l&&xi(u)?_t.reject(new Ie("Please provide Source creation parameters to createSource.")):d._controller.action.createSourceWithElement({frameId:s,elementName:u,type:p,sourceData:a,mids:d._mids()}).then(Vi)}return l?p?d._controller.action.createSourceWithData({elementName:null,type:p,sourceData:a,mids:d._mids()}).then(Vi):_t.reject(new Ie("Please provide a source type to createSource.")):_t.reject(new Ie("Please provide either an Element or Source creation parameters to createSource."))}),this.retrieveSource=Ut(function(e){var t=rt($i,{source:e},"retrieveSource"),a=t.value;return t.warnings.forEach(function(e){return d._controller.warn(e)}),d._controller.action.retrieveSource(a).then(Vi)}),this.paymentRequest=Ut(function(e){return Me(d._keyMode),vi(d._controller,{apiKey:d._apiKey,accountId:d._stripeAccount},d._mids(),e)})},Ua=Fa,za="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},Ha=Object.assign||function(a){for(var e=1,s;e<arguments.length;e++)for(var o in s=arguments[e],s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a},Wa=function(){if(document.currentScript){var t=ct(document.currentScript.src);return!t||gs(t.origin)}return!0}(),Ya=function Ka(a,e){return new Ua(Ha({apiKey:a},e&&"object"===(void 0===e?"undefined":za(e))?e:{}),Wa)};Ya.version=Ua.version,window.Stripe&&2===window.Stripe.version&&!window.Stripe.StripeV3?window.Stripe.StripeV3=Ya:window.Stripe?window.console&&console.warn("It looks like Stripe.js was loaded more than one time. Please only load it once per page."):window.Stripe=Ya,e.default=Ya},function(d,e,t){"use strict";function r(a){var e=new p(p._61);return e._81=1,e._65=a,e}var p=t(3);d.exports=p;var o=r(!0),n=r(!1),a=r(null),s=r(void 0),u=r(0),c=r("");p.resolve=function(d){if(d instanceof p)return d;if(null===d)return a;if(void 0===d)return s;if(!0===d)return o;if(!1===d)return n;if(0===d)return u;if(""===d)return c;if("object"==_typeof(d)||"function"==typeof d)try{var e=d.then;if("function"==typeof e)return new p(e.bind(d))}catch(a){return new p(function(e,t){t(a)})}return r(d)},p.all=function(a){var o=Array.prototype.slice.call(a);return new p(function(t,e){function r(n,a){if(a&&("object"==_typeof(a)||"function"==typeof a)){if(a instanceof p&&a.then===p.prototype.then){for(;3===a._81;)a=a._65;return 1===a._81?r(n,a._65):(2===a._81&&e(a._65),void a.then(function(t){r(n,t)},e))}var l=a.then;if("function"==typeof l)return void new p(l.bind(a)).then(function(t){r(n,t)},e)}o[n]=a,0==--d&&t(o)}if(0===o.length)return t([]);for(var d=o.length,s=0;s<o.length;s++)r(s,o[s])})},p.reject=function(a){return new p(function(e,t){t(a)})},p.race=function(a){return new p(function(s,t){a.forEach(function(a){p.resolve(a).then(s,t)})})},p.prototype.catch=function(t){return this.then(null,t)}},function(b,e,t){"use strict";function r(){}function o(t){try{return t.then}catch(t){return m=t,g}}function i(a,e){try{return a(e)}catch(t){return m=t,g}}function a(a,e,t){try{a(e,t)}catch(t){return m=t,g}}function s(t){if("object"!=_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==r&&y(t,this)}function u(d,e,t){return new d.constructor(function(n,o){var l=new s(r);l.then(n,o),c(d,new h(e,t,l))})}function c(a,o){for(;3===a._81;)a=a._65;return(s._10&&s._10(a),0===a._81)?0===a._45?(a._45=1,void(a._54=o)):1===a._45?(a._45=2,void(a._54=[a._54,o])):void a._54.push(o):void l(a,o)}function l(a,e){n(function(){var t=1===a._81?e.onFulfilled:e.onRejected;if(null===t)return void(1===a._81?p(e.promise,a._65):f(e.promise,a._65));var s=i(t,a._65);s===g?f(e.promise,m):p(e.promise,s)})}function p(a,e){if(e===a)return f(a,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==_typeof(e)||"function"==typeof e)){var t=o(e);if(t===g)return f(a,m);if(t===a.then&&e instanceof s)return a._81=3,a._65=e,void d(a);if("function"==typeof t)return void y(t.bind(e),a)}a._81=1,a._65=e,d(a)}function f(a,e){a._81=2,a._65=e,s._97&&s._97(a,e),d(a)}function d(a){if(1===a._45&&(c(a,a._54),a._54=null),2===a._45){for(var e=0;e<a._54.length;e++)c(a,a._54[e]);a._54=null}}function h(a,e,t){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function y(s,o){var t=!1,e=a(s,function(a){t||(t=!0,p(o,a))},function(a){t||(t=!0,f(o,a))});t||e!==g||(t=!0,f(o,m))}var n=t(4),m=null,g={};b.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(a,e){if(this.constructor!==s)return u(this,a,e);var t=new s(r);return c(this,new h(a,e,t)),t}},function(d,e,t){"use strict";(function(e){function n(t){m.length||(c(),a=!0),m[m.length]=t}function r(){for(;v<m.length;){var s=v;if(v+=1,m[s].call(),v>b){for(var e=0,o=m.length-v;e<o;e++)m[e]=m[e+v];m.length-=v,v=0}}m.length=0,v=0,a=!1}function o(t){return function(){function t(){clearTimeout(e),clearInterval(a),t()}var e=setTimeout(t,0),a=setInterval(t,50)}}d.exports=n;var m=[],a=!1,v=0,b=1024,t=void 0===e?self:e,l=t.MutationObserver||t.WebKitMutationObserver,c;c="function"==typeof l?function(a){var e=1,s=new l(a),o=document.createTextNode("");return s.observe(o,{characterData:!0}),function(){e=-e,o.data=e}}(r):o(r),n.requestFlush=c,n.makeRequestCallFromTimer=o}).call(e,t(5))},function(t){var a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(a=window)}t.exports=a},function(a,e){var t,s;!function(){"use strict";var o=function(){function e(){}function t(a,e){for(var t=e.length,s=0;s<t;++s)i(a,e[s])}function n(a,e){a[e]=!0}function r(a,e){for(var t in e)d.call(e,t)&&(a[t]=!!e[t])}function o(a,e){for(var t=e.split(s),d=t.length,n=0;n<d;++n)a[t[n]]=!0}function i(s,e){if(e){var d=_typeof(e);"string"===d?o(s,e):Array.isArray(e)?t(s,e):"object"===d?r(s,e):"number"===d&&n(s,e)}}function a(){for(var d=arguments.length,n=Array(d),l=0;l<d;l++)n[l]=arguments[l];var c=new e;t(c,n);var p=[];for(var a in c)c[a]&&p.push(a);return p.join(" ")}e.prototype=Object.create(null);var d={}.hasOwnProperty,s=/\s+/;return a}();void 0!==a&&a.exports?a.exports=o:(t=[],void 0!==(s=function(){return o}.apply(e,t))&&(a.exports=s))}()},function(){}]),a.exports=window.Stripe}),define("app.SyncGame",function(exports,require,module){function SyncGame(){this;this.socket=io.connect(serverURL,{"force new connection":!0}),this.opponents={},this.player={userID:userID,name:"YOU "+userID,score:0,lastPoints:0},this.answers=[],this.initClientListeners(),this.startTime=new Date().getTime()}var SyncGamePlayer=require("app/SyncGamePlayer"),questions=[{nodeID:1,q:"How many eyes does a person have",a:"1 or 2",explain:"some people are cyclops"},{nodeID:2,q:"What does the fox say?",a:"Ring-ding-ding-ding-dingeringeding",explain:"It's pretty much a mystery"}];SyncGame.prototype.disconnect=function(){this.socket.disconnect()},SyncGame.prototype.nextQuestion=function(){this.questionNumber>=this.questions.length?this.endGame():(console.log("nextQuestion in syncGame hit"),this.gameInProgress=!0,this.questionNumber++,$(document).trigger("nextQuestion"))},SyncGame.prototype.getQuestions=function(){this.socket.emit("mobileSyncGameQuestions",{roomKey:this.roomKey,shortID:this.shortID})},SyncGame.prototype.winMsg=function(){var e=[this.player],t=this.player.score;for(var a in this.opponents)this.opponents[a].score()==t?e.push(this.opponents[a]):this.opponents[a].score()>t&&(e=[this.opponents[a]],t=this.opponents[a].score());var s="",o;if(1==e.length)s=e[0].userID==this.player.userID?"You won!":"You lose! "+e[0].name+" won the game.";else{var d=[];for(var n in e)e[n].userID==this.player.userID?o=!0:d.push(e[n].name);s=o?"You tied with "+d.join(", ")+".":"You lose! "+d.join(", ")+" won the game."}return s},SyncGame.prototype.clearPlayerStatuses=function(){for(var e in this.opponents)this.opponents[e].ready=void 0;this.player.ready=void 0},SyncGame.prototype.updateAndCheckStatuses=function(e){for(var t in e==this.player.userID?this.player.ready=!0:this.opponents[e].setReady(),this.opponents)if(!this.opponents[t].ready)return!1;return!!this.player.ready&&(this.waitingForPlayers=void 0,!0)},SyncGame.prototype.join=function(shortID,matchMake,topic){var self=this;shortID||matchMake||(this.leader=!0),this.socket.emit("mobileSyncGameJoin",{gameType:matchMake,shortID:shortID,topic:topic}),matchMake&&setTimeout(function(){if(0==Object.keys(self.opponents).length){self.computerPlayerID=Math.floor(Math.random()*9000+1e3);var playerData={userID:self.computerPlayerID,name:"literally a computer",score:0},setop={};setop[self.computerPlayerID]=playerData,self.setOpponents(setop),$(document).trigger("playerJoined"),eval("self.oldNextQuestion = "+self.nextQuestion.toString()),self.aiScore=0,self.nextQuestion=function(){self.oldNextQuestion(),setTimeout(function(){self.aiScore+=2,self.opponents[self.computerPlayerID].gotPoints(2,self.aiScore),self.updateAndCheckStatuses(self.computerPlayerID)&&(self.clearPlayerStatuses(),self.nextQuestion())},Math.random()*18000+2e3)};var newqdata=self.qdata.toString().replace("player.ready = true","player.ready = undefined");newqdata=newqdata.substring(0,newqdata.length-1)+" self.socket.emit('mobileSyncGameAIGameStart'); self.nextQuestion();}",eval("self.qdata = "+newqdata+";")}else console.log("Opponents: ",self.opponents)},4e3)},SyncGame.prototype.answer=function(e,t,a){this.player.ready||(!e&&(e=-1),this.socket.emit("mobileSyncGameAnswer",{roomKey:this.roomKey,points:e*t,choice:a}))},SyncGame.prototype.setOpponents=function(e){for(var t in e){var a=new SyncGamePlayer(e[t]);this.opponents[t]=a,this.opponentsArray.push(a)}},SyncGame.prototype.leave=function(){this.socket.emit("mobileSyncGameLeave",{roomKey:this.roomKey})},SyncGame.prototype.abandonMatchmaking=function(){this.socket.emit("mobileSyncGameAbandonMatchmaking",{})},SyncGame.prototype.checkForMissingPlayers=function(){var e=this;setTimeout(function(){if(e.waitingForPlayers){var t=[];for(var a in e.opponents)e.opponents[a].ready||t.push(a);t.length?e.socket.emit("mobileSyncGameMissingPlayers",{roomKey:e.roomKey,userIDs:JSON.stringify(t)}):console.log("Code should not reach this point.")}},3e3)},SyncGame.prototype.noMoreOpponents=function(){var e=0;for(var t in this.opponents)e++;return 1>e},SyncGame.prototype.endGame=function(){this.endGameCalled||(this.endGameCalled=!0,this.gameInProgress?(this.gameInProgress=void 0,this.socket.emit("mobileSyncGameEnd",{roomKey:this.roomKey}),$(document).trigger("gameOver")):$(document).trigger("closeLobby"))},SyncGame.prototype.qdata=function(e){console.log("questions event received"),e.questionNumber=0,e.questions=questions,e.socket.emit("mobileSyncGameReady",{roomKey:e.roomKey}),e.player.ready=!0,$(document).trigger("questionsReceived")},SyncGame.prototype.initClientListeners=function(){var e=this;this.socket.on("questions",function(t){e.qdata(e,t)}),this.socket.on("roomData",function(t){e.roomKey=t.roomKey,e.shortID=t.shortID[0],$(document).trigger("roomData")}),this.socket.on("joinConfirmed",function(t){e.roomKey=t.roomKey,e.setOpponents(t.opponents),$(document).trigger("joinConfirmed")}),this.socket.on("playerJoined",function(t){delete t.players[e.player.userID],e.setOpponents(t.players),$(document).trigger("playerJoined")}),this.socket.on("userReady",function(t){console.log("userReady hit"),e.updateAndCheckStatuses(t.userID)&&(e.clearPlayerStatuses(),e.nextQuestion())}),this.socket.on("gameError",function(t){if("usersDisconnected"==t.type&&e.waitingForPlayers){e.waitingForPlayers=void 0;var a=JSON.parse(t.userIDs);for(var s in a){var o=a[s];e.opponents[o].gotPoints(-1),e.answers[e.questionNumber-1]||(e.answers[e.questionNumber-1]={}),e.answers[e.questionNumber-1][o]={points:-1,choice:-1}}e.noMoreOpponents()&&e.endGame(),e.clearPlayerStatuses(),e.nextQuestion()}}),this.socket.on("gotPoints",function(t){t.userID==e.player.userID?(e.player.lastPoints=t.points,e.player.score=t.score,$(document).trigger("updatePlayerScore")):e.opponents[t.userID].gotPoints(t.points,t.score),e.answers[e.questionNumber-1]||(e.answers[e.questionNumber-1]={}),e.answers[e.questionNumber-1][t.userID]={points:t.points,choice:t.choice},console.log("opponent choice: ",t.choice),e.updateAndCheckStatuses(t.userID)&&(e.clearPlayerStatuses(),e.nextQuestion())}),this.socket.on("playerLeft",function(t){e.opponents[t.userID].setOnlineStatus("Left game"),delete e.opponents[t.userID],e.noMoreOpponents()&&(e.clearPlayerStatuses(),e.endGame())}),this.socket.on("playerDisconnect",function(t){var a=t.player;e.opponents[a.userID].setOnlineStatus("Player has left on porpoise")}),this.socket.on("roomMemberDisconnect",function(t){e.opponents[t.userid].setOnlineStatus("Player left due to network issues")}),this.socket.on("leaveConfirm",function(){e.player.onlineStatus="Left game",$(document).trigger("updatePlayerOnlineStatus"),e.clearPlayerStatuses(),e.endGame()}),this.socket.on("newLeader",function(t){t.userID==e.player.userID&&(e.leader=!0,$(document).trigger("makeLeader"))}),this.socket.on("disconnect",function(){e.player.onlineStatus="Lost network connection",$(document).trigger("updatePlayerOnlineStatus"),e.endGame()})},module.exports=SyncGame}),define("app.SyncGamePlayer",function(e,t,a){function SyncGamePlayer(e){this.userID=e.userID,this.name=e.name,this.score=ko.observable(e.score),this.lastPoints=ko.observable(e.lastPoints||""),this.onlineStatus=ko.observable("Online")}SyncGamePlayer.prototype.gotPoints=function(e,t){this.lastPoints(e),this.score(t||this.score()+e)},SyncGamePlayer.prototype.setReady=function(){this.ready=!0},SyncGamePlayer.prototype.setOnlineStatus=function(e){this.onlineStatus(e)},a.exports=SyncGamePlayer}),define("app.TabNav",function(e,t,a){function createTab(e){var a=decodeURLRoute(e),d=$("<div class=\"tab-page init\">").appendTo($(".tab-pages",s)),l="/"+a.groupName+"/"+a.tabName,c=l,p=null;try{p=t("tabs"+l)}catch(s){try{p=t("tabs/"+a.groupName+"/page"),c="/"+a.groupName+"/page"}catch(t){}}if(!p)return window.location.replace("/not-found");var u=$("a[href=\""+l+"\"]",s),m=p.prototype.template,v=n;n={};var b=fs.mixAppend(d,"tabs"+c,{},{templateName:m?"tabs"+m:null}),h={dom:d,vm:b,link:u,hotkeys:n};return n=v,o[e]=h,h}function decodeURLRoute(e,t){var a="/"==e[0]?e.slice(1):e,s=t?"/"==t[0]?t.slice(1):t:null,o={url:"/"+a};if(t||!d)o.prefix=window.urlPrefix||"/"+a.split("/")[0];else if(0==e.indexOf(d.prefix))o.prefix=d.prefix;else return null;return o.groupName=d?d.groupName:(s||a).split("/")[0],o.tabName=a.slice(o.prefix.length,a.length),o}function registerHotkeys(e){for(var t in e){var a=e[t];for(var s in a)a[s].isGlobal?Mousetrap.bindGlobal(s.split("|"),a[s].action):Mousetrap.bind(s.split("|"),a[s].action)}}var s=null,o={},d=null,n={};window.rewriteTabURL=function(e){return d?"*"==e[0]?d.prefix+e.slice(1):d.prefix+e.slice(d.groupName.length+1):e},window.prefixTabURL=function(e){return d?d.prefix+e:e},window.registerHotkey=function(e,t,a,s){if(s=s||{},!(e in n)){var o={};n[e]=o}else var o=n[e];o[t]?console.log("Warning: Hotkey register called multiple times in the same namespace of a page. Shortcut could not be registered."):(s.isGlobal?Mousetrap.bindGlobal(t.split("|"),a):Mousetrap.bind(t.split("|"),a),o[t]={action:a,isGlobal:s.isGlobal})},window.restoreShortcuts=function(){registerHotkeys(n),registerHotkeys(window.currentTab.hotkeys)},window.clearShortcuts=function(){Mousetrap.reset()},window.unregisterShortcuts=function(e){delete n[e]};var l=function TabNav(){var e=this;d=decodeURLRoute(window.location.pathname,window.urlAlias||window.location.pathname);var a="tabs/"+d.groupName+"/index",o=template(a,!0);if(o){var n=!1;try{t(a)}catch(t){n=!0}if(n)s=$(o).appendTo("#Content"),ko.applyBindings(this,s[0]);else{var l=fs.mixAppend($("#Content"),a);s=l.dom,l.defaultTab&&(d.first=window.rewriteTabURL("*/"+l.defaultTab))}}else d.prefix="",d.tabName=d.groupName,d.groupName="default",s=$("<div class=\"tabs-default-index\"><div class=\"tab-pages\"></div></div>").appendTo("#Content");History.Adapter.bind(window,"statechange",function(){console.log("State changed!!!!"+location.pathname+" "+location.search);History.getState();e.go(location.pathname)})};window.unregisterHotkeys=function(e){delete n[e]},l.prototype.getTab=function(e,t){var a=o[e];return a?t&&registerHotkeys(a.hotkeys):a=createTab(e),t&&($(".tab-nav-menu .tabNavLink").removeClass("active"),a.link.addClass("active"),$(".tab-page").addClass("init"),a.dom.removeClass("init"),a.link.parent().hasClass("hidden")&&a.link.parent().removeClass("hidden")),a},l.prototype.go=function(e){var t=decodeURLRoute(e);if(!t)return window.location.href=e;if(!t.tabName)return History.replaceState(null,"Osmosis",d.first);if(checkQueryString(),$(document).trigger("TabNav.OnBeginNavigate"),window.clearUnsavedWork(),$(".YoutubeVideo").tubeplayer("pause"),0!=$("#VideoContainer").length&&videojs("VideoContainer").pause(),0<$(".video-js").length)for(var a in $(".video-js"))$(".video-js")[a].id&&videojs($(".video-js")[a].id).pause();window.inputEventListener=null,Mousetrap.reset();var s=this.getTab(e,!0);s&&(window.currentTab=s,s.vm.show&&s.vm.show(),$(document).trigger("TabNav.OnEndNavigate"),window.trackPageView())},a.exports=l}),define("app.ToDoConcept",function(e,t,a){a.exports=function ToDoConcept(){var e=this;this.facts=ko.observableArray(),this.scheduled=ko.computed(function(){var t=0,a=e.facts();for(var s in a)a[s].scheduled()&&t++;return t}),this.title=ko.observable(),this.begin=ko.observable(),this.count=ko.observable(),this.date=ko.computed(function(){var t=e.begin();return moment(t).format("MMDDYYYY")==moment().format("MMDDYYYY")?moment(t).format("hh:mm"):moment(t).format("MMM D")})}}),define("app.ToDoFact",function(e,t,a){a.exports=function ToDoFact(){this.scheduled=ko.observable()}}),define("app.UQuery",function(e,t,a){function UQuery(e){this.page=fs.mixAppend(e,"ui/UserQuery")}UQuery.prototype.ask=function(e){this.page.query(e)},UQuery.prototype.test=function(){return"yes"},a.exports=UQuery}),define("app.UnknownUser",function(e,t,a){function Datum(e){var t=e!==void 0&&null!==e;this.value=ko.observable(t?e:null),this.wasFromServer=ko.observable(t)}function ReportedEmail(){var e=this;this.email=new Datum(window.reportedEmail?window.reportedEmail.email:null),this.verified=ko.observable(!1),this.verificationCode=ko.observable(),this.userID=ko.observable(null),this.schoolName=ko.observable(),this.hasAccount=ko.computed(function(){return null===e.userID()?null:0<e.userID()?"yes":"no"}),this.hasChecked=ko.computed(function(){return!!e.hasAccount()}),this.hasFBLogin=ko.observable(null),this.hasGoogleLogin=ko.observable(null),this.hasMobileApp=ko.observable(null),this.hasPassword=ko.observable(null),this.hasOnlyMobile=ko.computed(function(){return"yes"==e.hasMobileApp()&&"yes"!=e.hasFBLogin()&&"yes"!=e.hasGoogleLogin()&&"yes"!=e.hasPassword()?"yes":"no"}),window.reportedEmail&&this.update(window.reportedEmail)}function Profile(){this.givenName=ko.observable(window.profile?window.profile.givenName:""),this.familyName=ko.observable(window.profile?window.profile.familyName:""),this.gender=ko.observable(window.profile?window.profile.gender:null),this.schoolName=ko.observable(window.profile?window.profile.schoolName:null),this.userID=ko.observable(window.profile?window.profile.userID:null),this.isComplete=ko.observable(window.profile?window.profile.isComplete:null)}ReportedEmail.prototype.update=function(e){this.userID(e.userID),this.hasFBLogin(e.hasFB?"yes":"no"),this.hasGoogleLogin(e.hasGmail?"yes":"no"),this.hasPassword(e.hasPassword?"yes":"no"),this.hasMobileApp(e.hasMobile?"yes":"no"),this.schoolName(e.schoolName)},a.exports=function UnknownUser(){var e=this;this.reportedEmail=new ReportedEmail,this.profile=new Profile,this.hasCredentials=ko.observable(window.hasCredentials),this.reportedMobileApp=new Datum(window.reportedMobileApp),this.needsToReportMobileAppUsage=ko.computed(function(){return"no"==e.reportedEmail.hasMobileApp()&&(!e.reportedMobileApp.wasFromServer()||"yes"==e.reportedMobileApp.value())}),this.confirmedMobileAppStatus=ko.computed(function(){return"yes"==e.reportedEmail.hasMobileApp()||"no"==e.reportedMobileApp.value()}),this.accountConflict=ko.computed(function(){return 0!=e.reportedEmail.userID()&&0!=e.profile.userID()&&e.reportedEmail.userID()!=e.profile.userID()}),this.wantsSchoolEmail=ko.computed(function(){return!e.reportedEmail.email.value()||!e.hasCredentials()||!e.reportedEmail.email.wasFromServer()})}}),define("app.addToQueue",function(e,t){function animate(e,t){var a="fc"==e?"fi-flashcard-bolt":"fi-question-nav",o="fc"==e?".ui-QueueControlBar .flashcard-queue":".ui-QueueControlBar .question-queue";if(t.offset()){var d=$("<i class=\"fi "+a+"\" style=\"color:#1d6ecc\">").appendTo(t).css({top:t.offset().top+"px",left:t.offset().left+"px","font-size":"50px",position:"fixed","z-index":99999}),n=$(o+" i").offset().top+$(o+" i").outerHeight()/2,l=$(o+" i").offset().left+$(o+" i").outerWidth()/2;d.animate({top:n+"px",left:l+"px","font-size":"8px"},1e3,function(){d.remove(),s.validate("newUI:3")||($(o).addClass("pulse"),setTimeout(function(){$(o).removeClass("pulse")},1500))})}}var a=t("app/queues"),s=t("app/tour");e.both=function(e,t,o,d){fs.post("saveToQueue",{fc:e,ques:t},function(){a.update(e.length,t.length,function(e){if((e.fcAdded||e.quesAdded)&&(e.fcAdded&&animate("fc",o),e.quesAdded)){var t=e.fcAdded?250:0;setTimeout(function(){animate("ques",d)},t)}},s.validate("newUI:3"))}),s.next("newUI:3")},e.flashcards=function(e,t,s){fs.post("saveToQueue",{fc:e,ques:[],isLocal:s},function(){a.update(e.length,0,function(e){(e.fcAdded||e.quesAdded)&&e.fcAdded&&t&&animate("fc",t)})})},e.questions=function(e,t){fs.post("saveToQueue",{fc:[],ques:e},function(){a.update(0,e.length,function(e){e.quesAdded&&t&&animate("ques",t)})})},e.removeFlashcards=function(e,t){fs.post("removeItemsFromQueue",{fc:e,ques:[],isLocal:t},function(){a.update()})},e.removeQuestions=function(e){fs.post("removeItemsFromQueue",{fc:[],ques:e},function(){a.update()})}}),define("app.analytics.activation",function(e,t,a){a.exports=function(e){for(var t=[],a=+e.userIDs.start,s=+e.userIDs.stop,o=a,d;o>s;o--)d=JSON.parse(JSON.stringify(e)),d.userIDs.start=o,d.userIDs.stop=o-1,d.col=0,d.colTitle="",d.row=a-o,d.rowTitle=o+"-"+(o-1),t.push(d);return t}}),define("app.analytics.emailYieldDaysInCols",function(e,t,a){a.exports=function(e){var t=[];console.log("test");var a=e.userIDs.templateID,s=+e.userIDs.start,o=+e.userIDs.stop;for(var d in a)for(var n=s,l;n>o;n--)l=JSON.parse(JSON.stringify(e)),l.userIDs.templateID=a[d],l.userIDs.start=n,l.userIDs.stop=n-1,l.row=d,l.rowTitle=a[d],l.col=s-n,l.colTitle=n+"-"+(n-1),t.push(l);return t}}),define("app.analytics.emailYieldDaysInRows",function(e,t,a){a.exports=function(e){var t=[],a=e.userIDs.templateID,s=+e.userIDs.start,o=+e.userIDs.stop;for(var d in a)for(var n=s,l;n>o;n--)l=JSON.parse(JSON.stringify(e)),l.userIDs.templateID=a[d],l.userIDs.start=n,l.userIDs.stop=n-1,l.col=d,l.colTitle=a[d],l.row=s-n,l.rowTitle=n+"-"+(n-1),t.push(l);return t}}),define("app.backgroundEvents",function(e,t){function formatCalendarEvent(e){var t=e.title(),a=e.instructor();return{title:t+(a?" - "+a:""),start:moment(e.begin()).tz(o.timezone()),end:moment(e.end()).tz(o.timezone()),className:"calendarEvent"+e.eventID+(e.MID()?"":" noModule")+" background",osmosisEvent:e}}var a={start:moment(),end:moment()},s=t("models/Event"),o=t("app/timezone");e.load=function(e,t,s,o,d){d=d||formatCalendarEvent;this;0<moment(a.start).diff(t,"day")||0>moment(a.end).diff(s,"day")?(0<moment(a.start).diff(t,"day")&&(a.start=t),0>moment(a.end).diff(s,"day")&&(a.end=s),fs.post("loadBackgroundEvents",{g:groupID,start:t.format("YYYY-MM-DD"),end:s.format("YYYY-MM-DD")},function(t){var a={};for(var s in t.events.eventID){var n=t.events.eventID[s];eventIndex[n]||(a[n]=!0)}for(var s in fs.load("event",t.events),a)e.push(d(eventIndex[s]));o&&o()})):o&&o()}}),define("app.bigQuery",function(e,t,a){a.exports=function(e,t,a){t._timestamp=+new Date,fs.get(e,t,a)}}),define("app.canonical",function(e){function cleanStr(e){return e.replace(/\&/g,"+").replace(/\./g,"").replace(/\\/g,"-").replace(/\//g,"-")}e.url=function(e,t){if(!/^[A-Za-z0-9\(\)\[\]\-\_\,\.\s\&\\\/]+$/.test(e))return null;if(!t){for(var a=e.split(" "),s=a[0],o=1;o<a.length;o++)s+=/^[A-Z]$/.test(a[o][0])?/^[A-Z]$/.test(s[s.length-1])?"-"+a[o]:a[o]:a[o];return cleanStr(s)}return cleanStr(e).replace(/\s/g,t)}}),define("app.checkVerification",function(e,t,a){function check(e,t){$.post("checkForEmailVerification",{key:e},function(a){a.verified?t():setTimeout(function(){check(e,t)},5e3)})}a.exports=check}),define("app.conceptCardLoader",function(e,t){var a=t("models/Node");e.importNodes=function(e){if(e){var t=fs.transpose(e.nodeData,a);for(var s in t)t[s].nodeID in nodeIndex||(nodeIndex[t[s].nodeID]=t[s])}},e.getNodes=function(e){if(!e)return null;"object"!=_typeof(e)&&(e=[+e]);var t=[];for(var a in e)t.push(nodeIndex[e[a]]);return t},e.createPageIndex=function(t){var a={},s=t.data.tabs.slice();for(var o in s)a[s[o].label]=e.getNodes(s[o].node);return a}}),define("app.conceptCheckboxes",function(e){var t={};e.get=function(e){return e in t?t[e]:(t[e]=ko.observable(),t[e])},e.set=function(e,a){e in t?t[e](a):t[e]=ko.observable(a)}}),define("app.conceptIndex",function(e){var t={};e.add=function(e){if(!(e.name in t)){var a={name:e.name,checked:ko.observable()};t[e.name]=a}else var a=t[e.name];a.attempted=e.attempted,a.available=e.available,a.correct=e.correct,a.checked(e.checked)},e.getConcept=function(e){var a=t[e];return a?a:{}}}),define("app.conceptNavGlobals",function(e){e.currentBreadcrumb=ko.observable(),e.currentSubject=ko.observable(),e.currentCategory=ko.observable(),e.currentSubcategory=ko.observable(),e.currentTopic=ko.observable(),e.currentConcept=ko.observable(),e.currentFocusConcept=ko.observable(),e.getCurrentNavApp=function(){return!!(window.Storage&&window.localStorage.conceptNavApp)&&window.localStorage.conceptNavApp},e.setCurrentNavApp=function(e){window.Storage&&(window.localStorage.conceptNavApp=e)}}),define("app.content2txt",function(e,t,a){a.exports=function(e){return e?"string"==typeof e?e:e.s:""}}),define("app.contentTags",function(e){e.serialize=function(e){return _.map(e,function(e){return e.group?e.group+":"+e.tag:e.tag})},e.deserialize=function(e){return _.map(e,function(e){var t=e.split(":");return 2==t.length?{group:t[0],tag:t[1]}:{group:"",tag:t[0]}})}}),define("app.dashboard",function(e){var t=[{title:"Decks",theme:"purple",showMore:ko.observable(),href:"/quiz/builder?focus=decks",icon:"fi-flashcards purple",what:"Create your own flashcards and review via spaced repetition.",when:"During classes",why:"You can also ",replaces:"Anki, Quizlet"},{title:"Team Workspace",theme:"green",showMore:ko.observable(),href:"/create/group",icon:"fi-group green",what:"Get a day-by-day plan with exactly the resources you want to use.",when:"During classes",why:"Same reasons to use a private document workspace except you can invite a friend or two to sign up to write flashcards for lectures so that you can divide and conquer rather than go at it alone. Imagine cutting your study time in half or more.",replaces:"There's really not anything else quite like this."},{title:"Private Workspace",theme:"light-purple",showMore:ko.observable(),href:"/create/workspace",icon:"fi-private light-purple",what:"Get a day-by-day plan with exactly the resources you want to use.",when:"During classes",why:"The most common use of document workspaces is to create flashcards alongside your lecture slides. The slides are then cross-referenced next to the card during the quiz which makes studying far more efficient. The document workspace also does the job of the Document Analyzer so that you get a map of the concepts that are in each document as well as suggested board-relevant flashcards that you can flag for review.",replaces:"There's really not anything else quite like this."},{title:"Document Analysis",theme:"blue",showMore:ko.observable(),href:"/docanalysis",icon:"fi-doc-search blue",what:"Get a day-by-day plan with exactly the resources you want to use.",when:"During classes",why:"The most common use of document workspaces is to create flashcards alongside your lecture slides. The slides are then cross-referenced next to the card during the quiz which makes studying far more efficient. ",replaces:"There's really not anything else quite like this."}],a=[{title:"Step 1 Schedule",theme:"red",showMore:ko.observable(),href:"/step1/schedule",icon:"fi-calendar red",what:"Get a day-by-day plan with exactly the resources you want to use.",when:"During the months before boards",why:"The Osmosis schedule will help you stay on track and dynamically adjusts if you need more or less time on a subject.",replaces:"CramFighter"},{title:"Rotations Schedule",theme:"purple",showMore:ko.observable(),href:"/clinical/schedule",icon:"fi-clinical purple",what:"Get a day-by-day plan with exactly the number of questions you need to answer to finish by bank by your shelf exam.",when:"During the months before boards",why:"The Osmosis schedule will help you stay on track and dynamically adjusts if you need more or less time on a subject.",replaces:"There's really not anything else quite like this."}],s=[{title:"Video Library",theme:"dark-green",showMore:ko.observable(),href:"/home/search",icon:"fi-play dark-green",what:"Watch videos produced by the Osmosis Team.",when:"During classes and when studying for boards",similar:"Pathoma"},{title:"Flashcard Bank",theme:"light-green",showMore:ko.observable(),href:"/quiz/builder?focus=flashcard-bank",icon:"fi-flashcard-piggy-bank light-green",what:"Answer over 15,000+ high-yield flashcards based on what you need to know in First Aid via spaced repetition.",when:"During classes and when studying for boards",why:"Repeating facts over an extended period of time starting months before boards will dramatically improve your memory of those facts.",pair:"<b>Document Workspace</b> - Osmosis will suggest facts next to your lecture slides so that you can flag board-relevant facts that align well with what you're currently studying.",replaces:"Firecracker, Brosencephalon"},{title:"Step 1 QBank",theme:"dark-blue",showMore:ko.observable(),href:"/quiz/builder?focus=step1-qbank",icon:"fi-step1-qbank dark-blue",what:"Answer over 4,000 step 1 board-style questions.",when:"Before studying for boards",why:"You may have heard the advice \"Save your question banks\". Many people (correctly) choose to save banks like UWorld and Rx until right before boards to test their knowledge. Osmosis provides extra questions that you should start answering as early as first year to start getting accustomed to the sort of 2 to 3 step questions that you'll see on boards.",similar:"UWorld, USMLE Rx"},{title:"Step 2 QBank",theme:"orange",showMore:ko.observable(),href:"/quiz/builder?focus=step2-qbank",icon:"fi-step2-qbank orange",what:"Answer over 5,000 step 2 board-style questions.",when:"Answer on the mobile app when you have down time",why:"You'll be too busy to sit down with a textbook or qbank until just before your shelf exam. Make sure to start testing yourself earlier for higher scores. Push notifications on the mobile app will hold you to it.",similar:"UWorld, USMLE Rx"}];e.apps=[{group:"The Coursework Tools",hint:"Tools to help you tackle the mountain of powerpoints you get each week.",apps:t},{group:"The Test Prep Tools",hint:"Tools that help you stay on schedule when studying for boards and shelfs.",apps:a},{group:"The Resource Tools",hint:"Tools to help you learn by quizzing early and often with 100s of videos, 15k+ flashcards, and 7k+ board-style questions.",apps:s}];var o=[{title:"First Aid",logo:"<img src=\"https://d16qt3wv6xm098.cloudfront.net/DWoS7Ln3QsmZgl1SdA2fVMdBT_mEHoA_/_.jpg\">",what:"References to the page numbers you should read for each concepts and in your day-by-day schedule.",when:"When you first start learning a topic and when miss a question or flashcard",why:""},{title:"Picmonic",logo:"<img src=\"https://osmose-it.s3.amazonaws.com/zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png\">",what:"Quick links to the popular mnemonic images right next to your flashcards and coursework (requires a Picmonic account).",when:"When you first start learning a topic and when miss a question or flashcard",why:"This integration makes it easy to repeat Picmonics during quizzes and while reviewing powerpoints. Picmonics are more challenging mnemonics and you should return to them often in order to encode lasting memories. The challenging nature of Picmonics also makes them more likely to stick due to a cognitive science principle called \"desirable difficulties.\""},{title:"Sketchy Medical",logo:"<img src=\"https://osmose-it.s3.amazonaws.com/VU-xguGLT6SJHKGxkWyl_QqVTWSY-rgr/_.jpg\">",what:"Quick links to the popular mnemonic videos right next to your flashcards and coursework (requires a Sketchy account).",when:"When you first start learning a topic"},{title:"Celebrity Diagnosis",logo:"<img src=\"https://osmose-it.s3.amazonaws.com/uItg_sGtRYi5ouWRrB9n26KXTkWE6xrN/_.png\">",what:"Links to articles written by MDs about celebrities with diseases (free)",when:"When you first start learning a topic",why:"Stories help anchor memories more effectively. You're more likely "},{title:"Patient Experiences",logo:"<i class=\"fa fa-youtube\" style=\"color:#CC181E\">",what:"Videos of patients describing their experiences (free)",when:"When you first start learning a topic",why:"Memories encoded with a social or emotional component are more likely to stick. Plus, patient videos help you not forget the real reason you're in med school :)"}];for(var d in e.integrations=o,o)o[d].enabled=ko.observable(!0);var n=[];for(var d in e.widgets=n,n)n[d].enabled=ko.observable(!1);if(window.appsMenu){var l=_.flatten(_.map(e.apps,function(e){return e.apps}));for(var d in l){var c=l[d];appsMenu[c.title]&&(c.href=appsMenu[c.title]),c.title==appsMenu.primary&&(c.isPrimary=!0)}}}),define("app.dashboardRecs",function(e,t){var a=Math.floor;function DocRecBlock(e,t,a,s,o,d){this.topicID=e,this.eventID=t,this.MID=a,this.url=s,this.docs=o,this.begin=d,this.nodeIDs=[]}function RegularBlock(e){this.topicID=e,this.nodeIDs=[]}function LocalBlock(e,t){this.userID=e,this.name=t,this.nodeIDs=[]}function convertToQuesBlocks(e,t){var a=[];for(var s in e){var o=nodeIndex[e[s]],n=d[o.packID()];if(t)var l=new LocalBlock(o.userID,o.user);else var l=new RegularBlock(n);l.nodeIDs.push(e[s]),a.push(l)}return a=paginate(a),shuffle(a),a}function convertToFCBlocks(e){var t={};for(var a in e){var s=nodeIndex[e[a]],o=d[s.packID()];if(!(o in t)){var n=new RegularBlock(o);t[o]=n}else var n=t[o];n.nodeIDs.push(e[a])}var l=[];for(var a in t)l.push(t[a]);return l=paginate(l),shuffle(l),l}function convertToLocalFCBlocks(e){var t={};for(var a in e){var s=nodeIndex[e[a]],o=s.userID();if(!(o in t)){var d=new LocalBlock(s.userID,s.user);t[o]=d}else var d=t[o];d.nodeIDs.push(e[a])}var n=[];for(var a in t)n.push(t[a]);return n=paginate(n),shuffle(n),n}function paginate(e){var t=[];for(var s in e){var o=e[s].nodeIDs.length;if(10<o)for(var d=0;d<=a(o/10);d++)t.push(splice(e[s]));else t.push(e[s])}return t}function splice(e){if(10<e.nodeIDs.length){var t=new RegularBlock;return t.topicID=e.topicID,t.eventID=e.eventID,t.MID=e.MID,t.url=e.url,t.docs=e.docs,t.nodeIDs=e.nodeIDs.splice(0,10),t}return e}var s=t("app/recManager"),o={},d={};e.organizeDocRecs=function(e,t){s.loadNodes(e.content.quesData);var a=moment().format("YYYY-MM-DD"),n={};for(var l in e.content.scheduleData.nodeID)n[e.content.scheduleData.nodeID[l]]=!0;var c=e.content.quesData.bundleData.packID,p=e.content.quesData.bundleData.tagID;for(var l in c)d[c[l]]=p[l];var u=fs.index("groupID",e.groups),m=fs.index("MID",e.modules);if(t)var v=function filter(e){return window.urlQuery.fact==e};else var v=function filter(e){return!o[e]&&!n[e]&&(!window.urlQuery.fact||window.urlQuery.fact!=e)};var b={},h=fs.transpose(e.eventRecs);for(var l in h){var g=nodeIndex[h[l].nodeID];if(v(g.nodeID)){var f=d[g.packID()],w=h[l].eventID,S=f+"."+w;if(!(S in b)&&h[l].MID){var q=new DocRecBlock(f,w,h[l].MID,u[h[l].groupID].url+"/"+m[h[l].MID].url,e.docs[h[l].MID+"."+w],h[l].begin);b[S]=q}else var q=b[S];q&&q.nodeIDs.push(g.nodeID),o[g.nodeID]=!0}}var C=[];for(var l in b)C.push(b[l]);return paginate(C)},e.organizePlanRecs=function(e){var t=e.plan;s.loadNodes(e.content);var a=e.content.bundleData.packID,o=e.content.bundleData.tagID;for(var n in a)d[a[n]]=o[n];return{today:{ques:convertToQuesBlocks(t.today.ques),fc:convertToFCBlocks(t.today.fc)},old:{ques:convertToQuesBlocks(t.old.ques),fc:convertToFCBlocks(t.old.fc)}}},e.organizeQuizRecs=function(e){s.loadNodes(e);var t=e.bundleData.packID,a=e.bundleData.tagID;for(var o in t)d[t[o]]=a[o];return convertToQuesBlocks(e.nodeData.nodeID)};var n={1:!0,2:!0,4:!0},l={5:!0};e.organizeLocal=function(e){s.loadNodes(e.content);var t=[],a=[];for(var o in e.data.nodeID){var d=nodeIndex[e.data.nodeID[o]];d.packID(-e.data.MID[o]),d.MID=e.data.MID[o],n[d.subtype()]?t.push(d.nodeID):l[d.subtype()]&&a.push(d.nodeID)}return{ques:convertToQuesBlocks(t,!0),fc:convertToLocalFCBlocks(a)}},e.organizeLocalAsNodes=function(e){s.loadNodes(e.content);var t=[],a=e.content.nodeData.nodeID;for(var o in a){var d=nodeIndex[a[o]];d.packID(-e.content.nodeData.MID[o]),d.MID=e.content.nodeData.MID[o],t.push(d)}return t}}),define("app.dbProgress",function(e){e.index={},e.todayIndex={},e.count=function(t){var a=0;for(var s in t)e.index[t[s]]&&a++;return a},e.countToday=function(t){var a=0;for(var s in t)e.todayIndex[t[s]]&&a++;return a},e.getNew=function(t){var a=[];for(var s in t)e.index[t[s]]||a.push(t[s]);return a.length?a:t},e.getNewToday=function(t){var a=[];for(var s in t)e.todayIndex[t[s]]||a.push(t[s]);return a.length?a:t},e.makeIndex=function(e){var t={};for(var a in e)t[e[a]]=!0;return t},e.clear=function(){e.index={},e.todayIndex={}}}),define("app.dbRepeat",function(e){function saveList(){window.localStorage.setItem("repeatList",JSON.stringify(t))}var t=null;e.init=function(){t=window.localStorage.getItem("repeatList"),t=t?JSON.parse(t):[]};var a={"1m":60,"5m":300,"10m":600,"1h":3600},s={"1m":"1-minute","5m":"5-minute","10m":"10-minute","1h":"1-hour"};e.add=function(e,o){if("1d"!=o){var d=+new Date;t.push({nodeID:e.nodeID,repeatAt:d+1e3*a[o],title:s[o]}),saveList()}else fs.post("mobileRescheduleQues",{nodeID:e.nodeID,days:1},function(){})},e.stop=function(e){fs.post("mobileRescheduleQues",{nodeID:e.nodeID,days:-1},function(){})},e.check=function(){var e=+new Date;for(var a in t.sort(function(e,t){return t.repeatAt-e.repeatAt}),t)if(t[a].repeatAt<e-216e5){t.splice(a,t.length-a),saveList();break}for(var a in t.sort(function(e,t){return e.repeatAt-t.repeatAt}),t)if(t[a].repeatAt<e){var s=t.splice(a,1)[0];return saveList(),s}return null},e.clear=function(){t=[],window.localStorage.setItem("repeatList","[]")}}),define("app.dbResponses",function(e,t){var a=Math.round,s=t("app/queues"),o={};e.recording=!0,e.add=function(t){if(e.recording){s.check(t.n);var d=[];for(var n in o)t.ts!=o[n].ts&&d.push(o[n]);d.push(t),$.ajax({type:"POST",url:"/mobileRecordResponse2",data:{resp:d,timestamp:a(now()/1e3)},dataType:"json",success:function success(e){e.success?(o={},window.localStorage.setItem("pendingResponses",JSON.stringify(o))):recoverSession(e)},error:function error(){o[t.ts]=t,window.localStorage.setItem("pendingResponses",JSON.stringify(d))}})}}}),define("app.discountCode",function(e){function checkServer(e,t){fs.post("validateDiscountCode",{code:e},function(e){e.discount?(window.localStorage.setItem("discountCode",JSON.stringify({ts:+new Date,discount:e.discount})),t("valid",e.discount)):t("invalid")})}e.checkForCode=function(e){if(!window.userID)if(window.urlQuery.discount)checkServer(window.urlQuery.discount,function(t,a){e&&e(t,a)});else{var t=window.localStorage.getItem("discountCode");t&&(t=JSON.parse(t),t.ts>+moment().subtract(1,"day")?e("valid",t.discount):e&&e(null))}}}),define("app.docIndex",function(e,t,a){a.exports={}}),define("app.factoidWordBank",function(e){var t={increase:"increase/decrease",decrease:"increase/decrease",increases:"increases/decreases",decreases:"increases/decreases",above:"above/below",below:"above/below",better:"better/worse",worse:"better/worse",more:"more/less",less:"more/less"},a=["increase","decrease","increases","decreases","above","below"];e.getBank=function(){return a},e.getPair=function(e){return t[e]},e.add=function(e){-1==a.indexOf(e)&&a.push(e)},e.extractTerms=function(t){var a=[],s=$("<span>"+t+"</span>");return $("u",s).each(function(t,s){var o=$(s).text();e.add(o),a.push(o)}),a}}),define("app.fbTrackingPixel",function(e){var t=["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"];e.track=function(e,a){if(-1==serverURL.indexOf("localhost")){!function(a,o,d,e,l,c,p){a.fbq||(l=a.fbq=function(){l.callMethod?l.callMethod.apply(l,arguments):l.queue.push(arguments)},!a._fbq&&(a._fbq=l),l.push=l,l.loaded=!0,l.version="2.0",l.queue=[],c=o.createElement(d),c.async=!0,c.src=e,p=o.getElementsByTagName(d)[0],p.parentNode.insertBefore(c,p))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","824012811003867"),fbq("track","PageView");var s=0<=t.indexOf(e)?"track":"trackCustom";fbq(s,e,a),console.log(s),console.log(e),console.log(a)}}}),define("app.fbTrackingPixelOld",function(e){var t={purchase:"6012727501852",features:"6037069532052",cart:"6037072063052",plans:"6037073315052",purchase_auth:"6037073391852"};e.track=function(e,a){-1==serverURL.indexOf("localhost")&&(pixelID=t[e],pixelValue=a||"0.00",function(){var e=window._fbq||(window._fbq=[]);if(!e.loaded){var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a),e.loaded=!0}}(),window._fbq=window._fbq||[],window._fbq.push(["track",pixelID,{value:pixelValue,currency:"USD"}]))}}),define("app.followIndex",function(e){var t={};e.getFollow=function(e){return e in t||(t[e]=ko.observable(!1)),t[e]},e.setFollow=function(e){t[e]=ko.observable(!0)}}),define("app.gaTracking",function(e){e.track=function(e,t){-1==serverURL.indexOf("localhost")?"function"==typeof gtag&&gtag("event",e,t):console.log({type:"ga",event:e,properties:t})},e.tagEvents={freetrial:{evtCode:"AW-989504384/8xdiCLyp2YABEIDH6tcD"},purchase:{evtCode:"AW-989504384/USf5CNq5yYIBEIDH6tcD"}},e.attempts={tag:0,track:0},e.tagEvent=function(t,a){a=a||{},-1==serverURL.indexOf("localhost")&&("function"==typeof gtag?e.tagEvents[t]&&(console.log("gtag:"+e.tagEvents[t].evtCode),a.send_to=e.tagEvents[t].evtCode,gtag("event","conversion",a),e.attempts.tag=0):setTimeout(function(){e.attempts<=3&&(e.attempts.tag++,e.tagEvent(t))},1e3))},e.ecommerce=function(t){var a=moment().valueOf()+"."+window.userID;t.transaction_id=a,t.affiliation="Prime Plans",t.currency="USD",t.tax=0,t.shipping=0,e.track("purchase",t),e.tagEvent("purchase",t)}}),define("app.group",function(e,t){function doIndex(e,t,a,s){var o=[],d=fs.index(t,a,s);for(var n in d)e[d[n][t]]||(e[d[n][t]]=d[n],o.push(d[n]));return o}function initGroupData(t){t=t||window.groupData,t.todo&&initToDo(t);var s=doIndex(window.moduleIndex,"moduleID",navData.moduleData,p);for(var o in s)s[o].startTime=new Date(moment.tz(s[o].startsOn()+" 00:00:00",l.timezone())),s[o].endTime=new Date(moment.tz(s[o].examDate()+" 23:59:59",l.timezone())),s[o].setLongTerm(),e.modules.push(s[o]);if(a.nodes(t.nodes),t.eventData&&(fs.load("event",t.eventData),window.eventIndex=fs.getIndex("event")),t.compEventData)for(var o in t.compEventData)eventIndex[t.compEventData[o]].completed(!0);a.links(t.links),a.signups(),markAsLoaded(t.bounds.MIDs)}function pushFilteredNodeIDs(e,t,a){for(var s in e)a[e[s]]||t.push(e[s])}function clearToDo(e){for(var t in e)e[t].removeAll()}function initToDo(e){clearToDo(s.flashcards),clearToDo(s.questions),clearToDo(s.concepts);var t=fs.transpose(e.todo.local);for(var a in t)5==t[a].subtype?s.flashcards.school.push(t[a]):s.questions.school.push(t[a]);s.localAuthors=e.todo.authors;var o={},d=e.todo.recs.fc;for(var a in d)o[d[a]]=!0,s.flashcards.docs.push(d[a]);var d=e.todo.recs.ques;for(var a in d)o[d[a]]=!0,s.questions.docs.push(d[a]);pushFilteredNodeIDs(e.todo.sr.today.fc,s.flashcards.repetition,o),pushFilteredNodeIDs(e.todo.sr.old.fc,s.flashcards.repetition,o),pushFilteredNodeIDs(e.todo.sr.today.ques,s.questions.repetition,o),pushFilteredNodeIDs(e.todo.sr.old.ques,s.questions.repetition,o),s.flashcards.repetitionTopics(e.todo.sr.topics.fc),s.questions.repetitionTopics(e.todo.sr.topics.ques)}function markAsLoaded(e){for(var t in e)u[e[t]]=!0}function initNewsfeed(){var t=0,a=window.groupMessagesViewed||1e3*moment().subtract(1,"week").unix(),s=groupMessages.data.postedOn;for(var o in s)+new Date(s[o])>a&&t++;e.messageCount(t),window.dashboardNewsfeedNodes=c.organizeLocalAsNodes(groupMessages),fs.load("comment",groupMessages.data),fs.onCreate("comment",function(e){e.organize(),e.MID=nodeIndex[e.nodeID()].MID})}var a=t("app/loader"),s=t("app/todo"),o=t("app/ToDoConcept"),d=t("app/ToDoFact"),n=t("app/linker"),l=t("app/timezone"),c=t("app/dashboardRecs"),p=t("models/Module");e.eventIndex={},window.moduleIndex={},e.activeModules=ko.observableArray(),e.modules=ko.observableArray(),e.messageCount=ko.observable(),e.termIndex={};var u={};e.init=function(e){e=e||window.groupData,initGroupData(e),initNewsfeed(),a.docstep(e.docStep)},e.loadDateRange=function(e,t,a,s,o){var d=[];for(var n in u)d.push(n);fs.post("loadDateRange",{g:groupID,start:+t,stop:+a,ignoreMIDs:d},function(t){var a=t.groupData;markAsLoaded(a.bounds.MIDs);var d={};for(var n in a.eventData.eventID){var l=a.eventData.eventID[n];eventIndex[l]||(d[l]=!0)}for(var n in initGroupData(a),d)e.push(o(eventIndex[n]));s&&s()})},e.loadToDo=function(e,t,a,s){fs.post("loadToDo",{g:groupID,start:e,stop:t,MIDs:a},function(e){s&&s(e)})},e.loadToDoForEvent=function(e,t){fs.post("loadToDo",{g:groupID,eventID:e,timezone:l.timezone()},function(e){t&&t(e)})},e.getActiveModules=function(t){var a=[],s=moment(t),o=e.modules();for(var d in o){var n=o[d];+n.startTime<s&&n.endTime>s&&a.push(n)}return a}}),define("app.linker",function(e,t){function hasLink(e,t){for(var a in e)if(t.linkID==e[a].linkID)return!0;return!1}t("models/Link");e.formLink=function(e){function addOriginLink(){var a=t.linksTo();hasLink(a,e)||t.linksTo.push(e)}var t=nodeIndex[e.nodeID()];if(t)switch(e.node=t,e.type()){case 1:var a=e.target();if(!a)return;addOriginLink(),a.nodes.push(e.node);break;case 2:if(!e.target())return;1813107!=e.target().nodeID||1813107!=e.target().nodeID;var s=e.target().linksFrom();hasLink(s,e)||(addOriginLink(),e.target().linksFrom.push(e));break;case 4:var a=e.target();if(!a)return;507579==t.nodeID&&console.log(a.eventID);var o=a.docLinks();hasLink(o,e)||(addOriginLink(),a.docLinks.push(e));}},e.breakLink=function(e){console.log("break link");var t=nodeIndex[e.nodeID()];if(t){var a=t.linksTo();-1!=a.indexOf(e)&&t.linksTo.remove(e)}switch(e.type()){case 2:var s=nodeIndex[e.targetID()];if(!s)return;var o=s.linksFrom();-1!=o.indexOf(e)&&s.linksFrom.remove(e);break;case 4:var s=window.eventIndex[e.targetID()];s&&s.docLinks.remove(e);}}}),define("app.loader",function(e,t){function loadNodes(e){var t=fs.getIndex("node"),o=0;for(var d in e){o=e[d].length;break}for(var n=0;n<o;n++){if(e.nodeID[n]in t)var l=t[e.nodeID[n]],c=!1;else{if(2==e.type[n]&&4==e.subtype[n])var l=new a(e.nodeID[n]);else var l=new s(e.nodeID[n]);var c=!0}for(var d in e){var p=e[d][n];"function"==typeof l[d]?l[d](isNaN(p)||""==p?p:+p):l[d]=isNaN(p)||""==p?p:+p}t[l.nodeID]=l,c&&$(document).trigger("fs.create:node",[l])}return t}var a=t("models/BasicNode"),s=t("models/Node"),o=t("models/DocStep"),d=t("app/linker");window.packIndex={},e.nodes=function(e){window.nodeIndex=loadNodes(e)},e.links=function(e){fs.load("link",e),fs.onCreate("link",d.formLink),fs.onDestroy("link",d.breakLink)},e.signups=function(e){if(e=e||window.signUpData,e)for(var t in e.eventID){var a=eventIndex[e.eventID[t]];a.signUps.push(+e.userID[t])}},e.docstep=function(e){var t=fs.transpose(e,o);for(var a in t){var s=nodeIndex[t[a].nodeID];s&&s.setDocStepStatus(t[a])}}}),define("app.login",function(e){e.withFacebook=function(e,t){e=e||extractURLPath(window.location.href),$.post("/listen_for_login",{type:"fb",redirect:e,persist:t},parseResult(function(e){window.Storage&&window.localStorage.setItem("login:authMode","fb"),e.loggedIn?(alert("You are already logged in!"),location.reload()):top.location.href="/auth/facebook"}))},e.withGoogle=function(e,t){e=e||extractURLPath(window.location.href),$.post("/listen_for_login",{type:"google",redirect:e,persist:t},parseResult(function(e){window.Storage&&window.localStorage.setItem("login:authMode","google"),e.loggedIn?(alert("You are already logged in!"),location.reload()):top.location.href="/auth/google"}))}}),define("app.megagridMove",function(e,t,a){a.exports=function(){fs.mixAppend($("body"),"ui/MegagridMove")}}),define("app.module",function(e,t){var a=t("app/loader"),s=t("app/who"),o=t("ui/ContentBlock"),d=t("app/node2txt"),n=t("app/review"),l=t("models/BasicNode"),c=t("models/Node"),p=t("app/followIndex");window.distractors={},e.groupNames={},e.tags=ko.observableArray(),e.authors=ko.observableArray(),e.eventQuizzes=ko.observableArray(),e.searchIndex=null,e.bookIndex={},e.quesIndex={},e.bookRefs=ko.observableArray([{label:"",value:0}]),e.updateTree=function(e){var t=window.nodeIndex[e.nodeID];t.parent=window.nodeIndex[e.parentID],t.index=e.index,t.parent.children.push(t)},e.promptForNewTag=function(){fs.prompt("Enter the name of the tag you would like to create below:","Create New Tag","primary",function(e,t){null!=e||e!=null?fs.create("tag",{type:1,tag:e}):fs.alert("Looks like you forgot to enter a tag name. Wanna try that again?"),t()})},e.indexNodeRefs=function(t){for(var a in t)if("bk"==t[a]._||"bkS"==t[a]._){var s=t[a].bt+t[a].pb+t[a].ct;if(!e.bookIndex[s]){var o=$.extend({},t[a]);delete o.t,e.bookIndex[s]=o,e.bookRefs.push({label:t[a].bt,value:s})}}},e.loadTags=function(){fs.load("tag",tagData),window.tagIndex=fs.getIndex("tag"),fs.onCreate("tag",function(t){e.tags.push({value:t.tagID,label:t.tag()})}),e.tags.sort(function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})};var u={};e.init=function(){if(window.navData&&window.navData.moduleData){var t=navData.moduleData;for(var o in t.url)if(t.url[o]==navData.module.url){navData.module.name=navData.moduleData.name[o],navData.module.startsOn=navData.moduleData.startsOn[o],navData.module.examDate=navData.moduleData.examDate[o],navData.module.descr=navData.moduleData.descr[o];break}}if($(".module-search").submit(function(t){t.preventDefault();var e=$(".link-modtabs-search").attr("href")||urlPrefix+"/search/module";e=e.split("?")[0],tabToURL(e+"?q="+$("#searchBox",$(this)).val().replace(/\s/g,"+").toLowerCase()),$("#searchBox",$(this)).val("")}),window.groups)for(var o in groups)e.groupNames[groups[o].groupID]=groups[o].name;e.searchIndex=lunr(function(){this.field("body"),this.ref("id")}),a.nodes(moduleData.nodes),fs.onCreate("node",function(t){if(5==t.type()){e.searchIndex.add({id:t.nodeID,body:d(t)}),e.quesIndex[t.nodeID]=t,t.accConfBin=7,t.timeBin=0;var a=t.data();a&&a.r&&e.indexNodeRefs(a.r);var o=t.userID();if(0<o&&!u[o]){var n=s.is(t.userID);n.subscribe(function(){e.authors.push({value:o,label:n()})}),u[o]=!0}}});var l=moment().format("YYYY-MM-DD");for(var o in scheduleData.nodeID){var c=nodeIndex[scheduleData.nodeID[o]];c&&(c.schedule=moment(scheduleData.repeatOn[o]).diff(l,"days"))}for(var o in opinionData.nodeID){var c=nodeIndex[opinionData.nodeID[o]];c&&c.myRating(+opinionData.op[o])}var m=fs.transpose(moduleData.trees);for(var o in m)e.updateTree(m[o]);fs.load("comment",moduleData.comments),fs.onCreate("comment",function(e){e.organize()}),window.eventData?(fs.load("event",eventData),window.eventIndex=fs.getIndex("event"),e.eventQuizzes.push({value:0,label:""}),fs.onCreate("event",function(t){e.eventQuizzes.push({value:t.eventID,label:t.title()})})):window.eventIndex={};try{e.eventQuizzes.sort(function(e,t){if(0!=e.value&&0!=t.value)return+new Date(eventIndex[t.value].begin())-+new Date(eventIndex[e.value].begin())})}catch(t){}if(window.compEventData)for(var o in compEventData)eventIndex[compEventData[o]].completed(!0);if(e.loadTags(),a.links(moduleData.links),window.noteData){fs.load("note",noteData);var v=fs.getIndex("note");for(var o in v){var c=nodeIndex[v[o].nodeID];c&&(c.note=v[o])}}for(var o in a.signups(),a.docstep(moduleData.docStep),s.update(),s.autoUpdate=!0,window.followingData)p.setFollow(window.followingData[o]);p.setFollow(window.userID),n.load(window.latestHistoryData,window.nodeIndex)}}),define("app.moduleFilters",function(e){e.load=function(e,t,a,s){var o={g:window.groupID,m:e};s&&(o.includeEvents=!0),fs.post("getModuleFilters",o,function(e){var o=fs.transpose(e.tagData);for(var d in o)t.push({value:o[d].tagID,label:o[d].tag});var n=fs.transpose(e.authorData);for(var d in n)a.push({value:n[d].userID,label:n[d].preferredName+" "+n[d].lastName});var l=fs.transpose(e.eventData);for(var d in l)s.push({value:l[d].eventID,label:l[d].event})})}}),define("app.node2txt",function(e,t,a){function extractText(e){return e?"string"==typeof e?e:e.s:""}a.exports=function(e){if(5==e.type()){var t=e.data(),a="";switch(e.subtype()){case 1:case 3:case 4:for(var s in a+=extractText(t.q)+" ",t.a)t.a[s].v&&(a+=extractText(t.a[s].v)+" "),t.a[s].e&&(a+=extractText(t.a[s].e)+" ");a+=" "+extractText(t.e);break;case 2:case 5:a+=extractText(t.q),a+=" "+extractText(t.e);break;case 7:a+=extractText(t.q);}return a}return""}}),define("app.plugin",function(e,t,a){function Plugin(){this.events={},this.on("$callback",function(e){var t=d[e.id];t&&t(e.data)})}var s=0,o={},d={};window.addEventListener("message",function(e){var t=o[e.data.name];t&&t.events[e.data.event]&&t.events[e.data.event](e.data.data)}),Plugin.prototype.on=function(e,t){return this.events[e]=t,this},Plugin.prototype.post=function(e,t,a){s++,this.pluginWindow.postMessage({id:s,event:e,data:t},"*"),a&&(d[s]=a)},Plugin.prototype.setWindow=function(e){this.pluginWindow=e},a.exports=function(e){if(!(e in o)){var t=new Plugin;o[e]=t}else var t=o[e];return t}}),define("app.pluginIndex",function(e){var t=0;e.player={anatomy:"//d3cdo0emj8d2qc.cloudfront.net/plugins/anatomy/v0.5n/index.html"},e.next=function(){return t++,t}}),define("app.purchaseModal",function(e,t){var a=t("app/test"),s=void 0,o=void 0;e.showModal=function(e){window.location.href=e?e:"/plans"},e.closeModal=function(){var t=e.getModal();t.closeModal()},e.getModal=function(){return s?s:(s=fs.mixAppend($("#Content"),"ui/PurchaseModal",{}),s)},e.setCurrentSale=function(e){o=e},e.getCurrentSale=function(){return o}}),define("app.qbanks",function(e,t){function loadedWikiIndex(){for(var e in o=!0,d){var t=d[e];t()}}var a=t("app/wikify"),s=!1;window.nodeIndex=fs.getIndex("node");var o=!1,d=[];e.init=function(e){e&&(o?e():d.push(e));s||(window.role=4,$(".topic-search-section").removeClass("hidden"),$(".topic-search").submit(function(t){t.preventDefault();var e=$("#topicSearchBox",$(this)).val();fs.post("quickSearch",{s:e},function(t){t.term?"/qbanks/study"==window.location.pathname?$(document).trigger("WikiNavigate",[t.term]):(window.studyTopic=t.term,tabToURL("/qbanks/study")):fs.alert("Looks like we don't have an article yet for "+e+". Sorry about that.")})}),a.init(function(){loadedWikiIndex()}),s=!0)}}),define("app.quesEdit",function(e){e.addUnsavedWorkCheck=function(e){window.checkForUnsavedWork.push({check:function check(){if(e.editing())return"You are still editing a question. Please save your work before continuing."},clear:function clear(){var t=e.editing();t&&t.cancel&&t.cancel()},save:function save(){var t=e.editing();t&&t.save&&t.save()}})}}),define("app.queues",function(e){function checkResponse(t,a){if(e.index[t][a]){delete e.index[t][a];var s=e.count[t];0<s()&&s(s()-1)}}e.count={fc:ko.observable(),ques:ko.observable(),rep:ko.observable()},e.index={fc:{},ques:{},rep:{}},e.update=function(t,a,s,o){function displayAddedMsg(e,t,a){var s=t-e;if(s){if(0<e)var o=$("<span class=\"amount-added\">Added <em class=\"the-amount\">"+e+(1==e?" "+a+".":" "+a+"s.")+"</em></span>");else var o=$("<span class=\"amount-added\">No new "+a+"s added.</span>");var d=$("<span class=\"already-queued\"><em>"+s+" "+(1==s?a+"</em> is":a+"s</em> are")+" already in your queue.</span>"),n=$("<div class=\"the-message has-queued\"></div>");n.append(d).append(o),$(".ui-QueueControlBar ."+a+"-queue .added-message").html(n),setTimeout(function(){$(".ui-QueueControlBar ."+a+"-queue .added-message").removeClass("hidden")},2e3)}else if(0<e){var o=$("<span class=\"amount-added\">Added <em class=\"the-amount\">"+e+(1==e?" "+a+".":" "+a+"s.")+"</em></span>"),n=$("<div class=\"the-message\"></div>");n.append(o),$(".ui-QueueControlBar ."+a+"-queue .added-message").html(n),setTimeout(function(){$(".ui-QueueControlBar ."+a+"-queue .added-message").removeClass("hidden")},2e3)}setTimeout(function(){$(".ui-QueueControlBar ."+a+"-queue .added-message").addClass("hidden").html("")},1e4)}var d=this,n={fc:e.count.fc(),ques:e.count.ques()};fs.post("getQueueBadges",{},function(d){e.count.fc(d.flagged.fc.length||0),e.count.ques(d.flagged.ques.length||0),e.count.rep(d.repetition),t&&!o&&displayAddedMsg(e.count.fc()-n.fc,t,"flashcard"),a&&!o&&displayAddedMsg(e.count.ques()-n.ques,a,"question"),s&&s({fcAdded:0<e.count.fc()-n.fc,quesAdded:0<e.count.ques()-n.ques})})},e.refresh=function(){fs.post("getQueueBadges",{},function(t){e.count.fc(t.flagged.fc.length||0),e.count.ques(t.flagged.ques.length||0),e.count.rep(t.repetition)})},e.check=function(e){checkResponse("fc",e),checkResponse("ques",e),checkResponse("rep",e)};var t=0,a=0;e.windowFocusUpdate=function(){var s=+new Date;s>t+6e5&&20>a&&(e.update(),a++,t=s)},$(window).focus(function(){e.windowFocusUpdate()})}),define("app.ratingFilters",function(e){e.groupRatingFilter={1:function _(e){return 10>e.totalRatings()||2>=e.groupRating()},2:function _(e){return 1==e.groupRating()},0:function _(){return!0}},e.myRatingFilter={1:function _(e){return 1!=e.myRating()},2:function _(e){return 4==e.myRating()||3==e.myRating()},3:function _(e){return 4==e.myRating()},0:function _(){return!0}}}),define("app.recManager",function(e,t){var a=t("app/review"),s=t("models/Node"),o=t("app/who");e.loadNodes=function(e){var t=[],d=fs.index("nodeID",e.nodeData,s);for(var n in d){if(!(d[n].nodeID in nodeIndex)){var l=d[n];l.autoImported=!0,l.status(2),nodeIndex[l.nodeID]=l,l.MID&&l.packID(-l.MID)}else var l=nodeIndex[d[n].nodeID];a.importedNodeIndex[l.nodeID]=l,l.accConfBin=7,l.timeBin=0,t.push(l.nodeID)}var c=fs.index("nodeID",e.mediaData,s);for(var n in c)c[n].nodeID in nodeIndex||(c[n].autoImported=!0,nodeIndex[c[n].nodeID]=c[n]);for(var n in a.load(e.historyData,a.importedNodeIndex),e.opinionData.targetID){var l=nodeIndex[e.opinionData.targetID[n]];l&&l.myRating(e.opinionData.op[n])}return o.update(),t},e.loadPacks=function(t,a){console.log("test"),fs.post("getNodesForPacks",{packIDs:t},function(t){var s=e.loadNodes(t);window.currentRecNodeIDs=s,a(s)})},e.loadModules=function(t,a,s){a.MIDs=t,fs.post("getNodesForModules",a,function(t){var a=e.loadNodes(t);window.currentRecNodeIDs=a,s(a)})},e.updateRecs=function(t,a){e.getRecs(t,a,!0)},e.createQuickFlashcards=function(e){var t=moment().format("YYYY-MM-DD"),a={};for(var o in e.scheduleData.nodeID)a[e.scheduleData.nodeID[o]]=moment(e.scheduleData.repeatOn[o]).diff(t,"days");var d=fs.transpose(e.quesData.nodeData,s);for(var o in d)d[o].nodeID in nodeIndex||(nodeIndex[d[o].nodeID]=d[o]);var n=[],l=e.quesData.nodeData.nodeID;for(var o in l)n.push({nodeID:l[o],type:5,subtype:5,data:nodeIndex[l[o]].data(),schedule:a[l[o]]});return n}}),define("app.review",function(e){function getTimeBin(e){for(var s=8,o=Math.round((a-e)/864e5),d=0;8>d;d++)if(o<t[d]){s=d;break}return s}e.data=null,e.importedNodeIndex={},e.load=function(e,t){for(var a in e.nodeID){var s=t[e.nodeID[a]];if(s){if(0==e.lastConfidence[a])continue;s.accuracy=e.lastAccuracy[a],s.confidence=e.lastConfidence[a],s.timestamp=new Date(e.timestamp[a]),s.accConfBin=3*(1-s.accuracy)+(3-s.confidence),s.timeBin=getTimeBin(s.timestamp.getTime())}}};var t=[1,2,4,7,14,21,28,60],a=new Date}),define("app.sale",function(e){e.current=ko.observable(),e.current=ko.computed(function(){var e={theme:"red",type:"prime-countdown",icon:"fa-gift",message:"Save on Osmosis with our Match Week sale! Offer ends 3/15",cta:"Buy now!",ctaLink:"/deal/match2019?utm_source=banner&utm_medium=osmosis&utm_campaign=match-2019&utm_content=website",expireLength:1,align:"center",startShow:moment("2019-03-11T08:01:01.000Z"),endShow:moment("2019-03-16T07:59:59.000Z"),caption:"Flash sale",url:"/deal/match2019",hasCountdown:!1},t=moment()<e.endShow&&moment()>e.startShow;return t?e:null}),e.setupTimer=function(){var t=this;this.timerTick=ko.observable(),this.timerTick.extend({notify:"always"}),window.odometerOptions={forceDigitCount:2,duration:800};var a=function tickTimer(){setTimeout(function(){t.timerTick(1),a()},1e3)};a(),this.timerTick.subscribe(function(){t.duration(Math.random())}),this.duration=ko.computed({read:function read(){var a=e.current();if(!a)return 0;t.timerTick();return moment.duration(a.endShow.diff(moment()))},write:function write(){}}),this.countdownHours=ko.computed(function(){var e=t.duration().hours();return $(".odometer.hours").html(e),e}),this.countdownMinutes=ko.computed(function(){var e=t.duration().minutes();return $(".odometer.minutes").html(e),e}),this.countdownSeconds=ko.computed(function(){var e=t.duration().seconds();return $(".odometer.seconds").html(e),e})}}),define("app.scheduleProgress",function(e){e.done={},e.today={}}),define("app.schedules.completedDayInfo",function(e){var t=Math.floor;e.completedMessages=["You nailed it!","Boom shakalaka!","Brilliant job","Outstanding!","Perfect","Wonderful","You're really working hard today","Super","You're on the right track now","You've got it made","Good work","Knew you could do it","Not bad","You're learning fast","Nice going","Wow","Keep up the good work","Terrific","Sensational","Superb","That was first-class work","You certainly did well today","You've got your brain in gear today","Excellent","Tremendous","You're doing beautifully","Keep it up","Well, look at you go","Marvelous","Powerful, you have become","Wicked","Don't stop now","You're on the fast track to success","You're really going for it","You crushed that","Check that one off your list","Splendid work","Now that's talent","You were born to do this","Another one bites the dust","Another win for the books","Bam! Nailed it","You did it","You rock","Amazing","Scrumtrulescent","Ahh, the sweet taste of victory","\uD83D\uDC4C","\uD83E\uDD18","\uD83D\uDCAA","Perfection","Now that's dedication","Your hard work's paying off","#winning","#goals","Inspirational","You're on fire","Woot!","Absolutely incredible","Boom-town!","Awesome!","Phenomenal","Most impressive!","Great!","Flawless victory!","Groovy!","Top notch!","Huzzah!"],e.getRandomNumberGeneratorByDate=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:moment().format("YYYY-MM-DD"),a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,s=(0|"".concat(moment(e).valueOf()).concat(a))+1;return function(){var e=Math.sin(s+=1);return e-t(e)}},e.getInfoByDate=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:moment().format("YYYY-MM-DD"),s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,o=e.getRandomNumberGeneratorByDate(a,s),d=e.completedMessages[t(o()*e.completedMessages.length)];return{title:d}}}),define("app.schedules.filterSortTodos",function(e,t){var a=t("shared/topics"),s=t("app/schedules/schedules"),o=function saveKOObjToLS(e,t){window.localStorage&&window.localStorage.setItem(e,JSON.stringify(_.mapObject(t,function(e){return e()})))};if(e.sortByResourceOptions={"Custom QBank":"qbank","Custom Books":"book","Custom Videos":"video",Videos:"osmosis","First Aid":"fa",Questions:"questions",Flashcards:"flashcards",Picmonics:"picmonic","Sketchy Medical":"sketchy",Pathoma:"pathoma","Boards and Beyond":"boardsAndBeyond"},e.todoSort={by:ko.observable("schedule"),active:ko.observable(!0),options:ko.observable([])},e.toggleTodoSort=function(){e.todoSort.active(!e.todoSort.active())},e.saveTodoSort=function(){return o("schedule:todoSort",e.todoSort)},e.todoFilters={active:ko.observable(!0),state:ko.observableArray([]),type:ko.observableArray([]),topic:ko.observableArray([]),dueDate:ko.observableArray([])},e.todoFilters.hasFilters=ko.computed(function(){if(-1!==s.currentScheduleID())return!0;for(var t in e.todoFilters)if("active"!=t&&"hasFilters"!=t&&e.todoFilters[t]().length)return!0;return!1}),e.todoFilters.hasFilters.subscribe(function(t){t&&e.todoFilters.active(!0)}),e.toggleTodoFilters=function(){e.todoFilters.active(!e.todoFilters.active())},e.saveTodoFilters=function(){var t=_objectSpread({},e.todoFilters);delete t.hasFilters,o("schedule:todoFilters",t)},e.addTodoFilter=function(t,a){e.todoFilters[t]().includes(a)||(e.todoFilters[t].push(a),keen.track("schedule_engagement",{schedule_id:s.currentScheduleID(),type:"filter",action:t}))},e.removeTodoFilter=function(t,a){e.todoFilters[t].remove(a)},e.clearTodoFilters=function(){for(var t in e.todoFilters.active(!1),s.currentScheduleID(-1),e.todoFilters)"hasFilters"!=t&&"active"!=t&&e.todoFilters[t].removeAll()},e.getComputedTodoFilterToggle=function(t,a){return ko.computed({read:function read(){return e.todoFilters[t]().includes(a)},write:function write(s){s?e.addTodoFilter(t,a):e.removeTodoFilter(t,a)}})},e.getComputedScheduleToggle=function(e){return ko.computed({read:function read(){return s.currentScheduleID()===e},write:function write(t){s.currentScheduleID(t?e:-1)}})},e.openFilterMenu=function(t){var o=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],d=2<arguments.length?arguments[2]:void 0,n=[];if(!o&&1<s.scheduleIDs.length){n.push({text:"My schedules",type:"toggle",currentState:e.getComputedScheduleToggle(-1)});var l=!0,c=!1,p=void 0;try{for(var u=s.scheduleIDs[Symbol.iterator](),m;!(l=(m=u.next()).done);l=!0){var v=m.value,b=s.getSchedule(v);n.push({text:b.name,type:"toggle",currentState:e.getComputedScheduleToggle(v)})}}catch(e){c=!0,p=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw p}}n.push({type:"hr"})}n.push({text:"Not marked as finished",type:"toggle",currentState:e.getComputedTodoFilterToggle("state",0)},{text:"Marked as finished",type:"toggle",currentState:e.getComputedTodoFilterToggle("state",1)},{text:"Saved for later",type:"toggle",currentState:e.getComputedTodoFilterToggle("state",2)});var h=_.values(a.fullName),g=[],f=function mergeTopics(e){e.timeline.subjects&&g.push(_.pluck(e.timeline.subjects,"name")),e.timeline.courses&&g.push(_.pluck(e.timeline.courses,"name"))},w=s.getCurrentSchedule();if(w)f(w);else for(sch in s.schedules)f(s.schedules[sch]);if(g=_.unique(_.flatten(g)),g.length){n.push({type:"hr"});var S=!0,q=!1,C=void 0;try{for(var D=h[Symbol.iterator](),T,I;!(S=(T=D.next()).done);S=!0)I=T.value,"Pulmonology"===I&&(I="Respiratory"),g.join(" ").match(I)&&n.push({text:I,type:"toggle",color:"topic-color-".concat(I),currentState:e.getComputedTodoFilterToggle("topic",I)})}catch(e){q=!0,C=e}finally{try{S||null==D.return||D.return()}finally{if(q)throw C}}}return n.push({type:"hr"},{text:"Due in the next day",type:"toggle",currentState:e.getComputedTodoFilterToggle("dueDate",0)},{text:"Due in the next week",type:"toggle",currentState:e.getComputedTodoFilterToggle("dueDate",6)},{text:"Due in the next month",type:"toggle",currentState:e.getComputedTodoFilterToggle("dueDate",30)},{text:"Past due",type:"toggle",currentState:e.getComputedTodoFilterToggle("dueDate",-1)},{type:"hr"},{text:"Clear filters",type:"action",action:e.clearTodoFilters}),d?($(".ui-PopupMenu").fadeOut(),d=!1):(fs.mixAppend($(t),"ui/PopupMenu",{header:"Filter",toggleIcon:"<i class=\"fas fa-check\"></i>",items:n}),d=!0),d},window.localStorage){var d=window.localStorage.getItem("schedule:todoSort");if(d)try{if(d=JSON.parse(d),"object"===_typeof(d)){var n=!1;for(var l in d)e.todoSort.hasOwnProperty(l)?e.todoSort[l](d[l]):(delete d[l],n=!0);n&&e.saveTodoSort()}else throw"Invalid item type"}catch(t){console.error("TodoSort: ".concat(t.toString(),", clearing item")),window.localStorage.removeItem("schedule:todoFilters")}var c=window.localStorage.getItem("schedule:todoFilters");if(c)try{if(c=JSON.parse(c),"object"===_typeof(c)){var p=!1;for(var u in c)if(Array.isArray(c[u])||"active"==u)e.todoFilters.hasOwnProperty(u)?e.todoFilters[u](c[u]):(delete c[u],p=!0);else throw"Invalid property type, must be array";p&&e.saveTodoFilters()}else throw"Invalid item type"}catch(t){console.error("TodoFilters: ".concat(t.toString(),", clearing item")),window.localStorage.removeItem("schedule:todoFilters")}for(var m in e.todoSort)e.todoSort[m].subscribe(e.saveTodoSort);for(var v in e.todoFilters)e.todoFilters[v].subscribe(e.saveTodoFilters)}}),define("app.schedules.freeDayInfo",function(e){var t=Math.floor,a,s,o;e.data={icons:(a={},_defineProperty(a,-1,""),_defineProperty(a,0,"<i class=\"fas fa-utensils\"></i>"),_defineProperty(a,1,"<i class=\"fas fa-coffee\"></i>"),_defineProperty(a,2,"<i class=\"fas fa-sun\"></i>"),_defineProperty(a,3,"<i class=\"fas fa-gamepad\"></i>"),_defineProperty(a,4,"<i class=\"fas fa-swimmer\"></i>"),_defineProperty(a,5,"<i class=\"fas fa-grin\"></i>"),_defineProperty(a,6,"<i class=\"fas fa-beer\"></i>"),_defineProperty(a,7,"<i class=\"fas fa-palette\"></i>"),a),titles:(s={},_defineProperty(s,-1,"Study break"),_defineProperty(s,-2,"Take today off"),s),subtitles:(o={},_defineProperty(o,-1,""),_defineProperty(o,0,"Stick a fork in me, I'm done!"),_defineProperty(o,1,"Drink some tea!"),_defineProperty(o,2,"Get some sunshine!"),_defineProperty(o,3,"You could play a game!"),_defineProperty(o,4,"You could take a swim!"),_defineProperty(o,5,"The world is your oyster."),_defineProperty(o,6,"You could cheers a friend!"),_defineProperty(o,7,"You could make some art!"),o)},e.uniqueIDs=_.filter(_.unique(_.flatten(_.map(_.values(e.data),function(e){return _.keys(e)}))),function(e){return 0<+e}),e.getRandomNumberGeneratorByDate=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:moment().format("YYYY-MM-DD"),a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,s=(0|moment(e).valueOf()+"".concat(a))+1;return function(){var e=Math.sin(s++);return e-t(e)}},e.getInfoByDate=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:moment().format("YYYY-MM-DD"),s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,o=e.getRandomNumberGeneratorByDate(a,s),d=e.uniqueIDs[t(o()*e.uniqueIDs.length)],n={};for(var l in e.data){var c=l.substr(0,l.length-1);if(d in e.data[l]){n[c]=e.data[l][d];continue}var p=_.filter(_.keys(e.data[l]),function(e){return 0>+e});if(0>=p.length){n[c]=null;continue}var u=p[t(o()*p.length)];n[c]=e.data[l][u]}return n}}),define("app.schedules.index",function(e,t,a){a.exports.schedules=t("app/schedules/schedules"),a.exports.filterSortTodos=t("app/schedules/filterSortTodos"),a.exports.freeDayInfo=t("app/schedules/freeDayInfo"),a.exports.completedDayInfo=t("app/schedules/completedDayInfo"),a.exports.wizardTracking=t("app/schedules/wizardTracking")}),define("app.schedules.schedules",function(e){e.schedules={},e.scheduleIDs=[],e.currentScheduleID=ko.observable(0),e.scheduleStartDate=ko.observable(),e.scheduleEndDate=ko.observable(),e.sectionIndex={},e.getSchedule=function(t){return e.schedules[t]},e.getActiveScheduleID=function(){var t=e.getActiveSchedule();if(t)return t.scheduleID},e.getActiveSchedule=function(){if(-1==e.currentScheduleID()){var t=null;for(var a in e.schedules){var s=e.schedules[a];if(moment().isAfter(moment(s.startDate),"days")&&moment().isBefore(moment(s.endDate),"days")){t=s;break}}if(!t)for(var o in e.schedules){var d=e.schedules[o];moment().isBefore(moment(d.startDate),"days")&&(t=d)}if(!t)for(var n in e.schedules){t=e.schedules[n];break}return t}return e.schedules[e.currentScheduleID()]},e.getCurrentSchedule=function(){return e.schedules[e.currentScheduleID()]},e.addSchedule=function(t){var a=t.scheduleID;e.schedules[a]||(e.scheduleIDs[e.scheduleIDs.length]=a,e.scheduleStartDate()?moment(e.scheduleStartDate()).isAfter(moment(t.startDate))&&e.scheduleStartDate(t.startDate):e.scheduleStartDate(t.startDate),e.scheduleEndDate()?moment(e.scheduleEndDate()).isAfter(moment(t.startDate))&&e.scheduleEndDate(t.startDate):e.scheduleEndDate(t.startDate),e.schedules[a]={scheduleID:a,name:t.preferences.name||"Schedule Block",startDate:t.startDate,endDate:t.endDate,origStart:t.startDate,origEnd:t.endDate,blockData:t.blockData,repeatData:t.repeatData,completedNodes:{},completedTodos:{core:{},custom:{},repeat:{}},timeline:t.timeline,preferences:t.preferences,getVacations:function getVacations(){return e.schedules[a].vacations()},getTodoCheckbox:function getTodoCheckbox(e,t,a,s){return 0!==t&&t||(t=s.date+s.title),t in this.completedTodos[e]?"undefined"!=typeof a&&this.completedTodos[e][t](a):this.completedTodos[e][t]=ko.observable(a||0),this.completedTodos[e][t]},getNodeCheckbox:function getNodeCheckbox(e,t){var a=this;return e in this.completedNodes?"undefined"!=typeof t&&this.completedNodes[e](t):(this.completedNodes[e]=ko.observable(t||0),this.completedNodes[e].subscribe(function(t){fs.post("setNodeToDoState",{scheduleID:a.scheduleID,nodeID:e,state:t}),analytics.track("Study Schedule",{action:"node",schedule:a.preferences.schedule,state:t})})),this.completedNodes[e]}})}}),define("app.schedules.wizardTracking",function(e,t,a){var s=function(){"use strict";function wizardTracking(){_classCallCheck(this,wizardTracking),this.step=ko.observable(0),this.answers=ko.observableArray([]),this.questions=ko.observableArray([]),this.defaultAnswers=ko.observableArray([]),this.nonQuestionIndexes=ko.observableArray([])}return _createClass(wizardTracking,[{key:"reset",value:function reset(){this.step(0),this.answers([]),this.questions([]),this.defaultAnswers([]),this.nonQuestionIndexes([])}},{key:"getStep",value:function getStep(){return this.step()-this.nonQuestionIndexes().length}},{key:"trackStep",value:function trackStep(){keen.track("schedule_wizard",{step:this.getStep()})}},{key:"wentBack",value:function wentBack(){var e=this.nonQuestionIndexes().includes(this.step()),t=this.step()-1;this.step(0<=t?t:0),e?this.nonQuestionIndexes.pop():(this.answers.pop(),this.questions.pop(),this.defaultAnswers.pop())}},{key:"nonQuestion",value:function nonQuestion(){this.step(this.step()+1),this.nonQuestionIndexes.push(this.step())}},{key:"answeredQuestion",value:function answeredQuestion(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],s=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];s&&(this.step(this.step()+1),this.questions.push(e),this.answers.push(t),this.defaultAnswers.push(a)),keen.track("schedule_wizard",{step:this.getStep()+(s?0:1),question:e,answer:t,defaultAns:a})}}]),wizardTracking}();a.exports=new s}),define("app.scrollOverride",function(e){function preventDefault(t){t=t||window.event,t.preventDefault&&t.preventDefault(),t.returnValue=!1}function preventDefaultForScrollKeys(a){if(t[a.keyCode])return preventDefault(a),!1}var t={37:1,38:1,39:1,40:1};e.disableScroll=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys},e.enableScroll=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}}),define("app.segments",function(e){var t={medicine:function medicine(){return"medicine"==window.course.type},nursing:function nursing(){return"nursing"==window.course.type},M1:function M1(){return"medicine"==window.course.type&&window.user&&window.user.profile&&1==window.user.profile.year},M2:function M2(){return"medicine"==window.course.type&&window.user&&window.user.profile&&2==window.user.profile.year},M3:function M3(){return"medicine"==window.course.type&&window.user&&window.user.profile&&3==window.user.profile.year},M4:function M4(){return"medicine"==window.course.type&&window.user&&window.user.profile&&4==window.user.profile.year}};e.include=function(){for(var e in arguments){var a=t[arguments[e]];if(a&&a())return!0}return!1}}),define("app.step1classic.scheduleProgress",function(e){e.done={},e.today={}}),define("app.step1classic.step1",function(e){e.scheduleID=0,e.completedNodes={},e.vacations=ko.observableArray(),e.vacationsModified=!1,e.getVacations=function(){var t=e.vacations();return t}}),define("app.storeCart",function(e,t,a){function StoreCart(){var e=this;this.items=ko.observableArray(),this.currency=ko.observable("USD"),this.currencyMark=ko.computed(function(){if("USD"==e.currency())return"$";return"INR"==e.currency()?"&#8377;":void 0})}var s=null,o=["USD","INR"];StoreCart.prototype.isEmpty=function(){return!this.items().length},StoreCart.prototype.parseInventoryData=function(e){s={};var t=fs.transpose(e);for(var a in t.length||(this.noInventory=!0,!$(".sale.expired").length&&fs.alert("Looks like this page has expired. Please contact support@osmosis.org if you think this is an error.")),t.length&&this.currency(t[0].currency?o[t[0].currency-1]:this.currency()),t){var d=t[a].data;for(var n in d)t[a][n]=d[n];t[a].unit=d.prime?d.prime.unit:null,t[a].amount=d.prime?d.prime.amount:null,delete t[a].data,s[t[a].inventoryID]=t[a]}return s},StoreCart.prototype.load=function(){for(var e in this.cart=window.localStorage.getItem("cart"),this.cart=this.cart?JSON.parse(this.cart):{},this.items([]),this.cart)this.cart[e].key&&this.items.push(this.cart[e]),this.cart[e].currency&&this.currency(o[this.cart[e].currency-1]);this.save()},StoreCart.prototype.save=function(){window.localStorage.setItem("cart",JSON.stringify(this.cart))},StoreCart.prototype.add=function(e){s[e].d=+new Date,this.cart[e]=s[e],this.save(),this.items.push(s[e])},StoreCart.prototype.remove=function(e){delete this.cart[e],this.save(),this.items.remove(s[e])},StoreCart.prototype.clear=function(){this.cart={},this.save(),this.items([])},StoreCart.prototype.getExclusive=function(e){for(var t in this.cart)if(-1!=e.indexOf(+t))return t},a.exports=new StoreCart}),define("app.test",function(e){var t=Math.round;function Test(e){if(!e.name)throw new Error("Test requires a name!");if((!immutable(e.a)||!immutable(e.b))&&!e.label)throw new Error("Mutable types require labels!");if(e.labels&&("string"!=typeof e.labels.a||"string"!=typeof e.labels.b))throw new Error("Labels must be strings!");this.name="Test: "+e.name,this.testName=e.name,this.labels=e.labels,this.descr=e.descr;var a=localStorage.getItem(this.name);if(this.isFirst=!a,a&&(a=JSON.parse(a)),!a){var s=e.probabilityOfB||.5;this.version=Math.random()>s?"a":"b",localStorage.setItem(this.name,JSON.stringify({version:this.version,ts:t(new Date/1e3)}))}else this.version=a.version;this.value=e[this.version]}function immutable(e){return a[_typeof(e)]||null===e}Test.prototype.track=function(){analytics.track(this.name,{version:this.version,value:immutable(this.value)?this.value:null,isFirst:this.isFirst,label:this.labels?this.labels[this.version]:this.version}),keen.track("experiment",{name:this.testName,version:this.version,value:immutable(this.value)?this.value:null,description:this.descr,isFirst:this.isFirst,label:this.labels?this.labels[this.version]:this.version})},e.select=function(e){var t=new Test(e);return t.track(),t.value},e.create=function(e){return new Test(e)};var a=_.indexBy(["string","number","boolean"],_.identity)}),define("app.themeHash",function(e,t,a){function hash(e){var t=5381;for(var a in e)t=(t<<5)+t+e.charCodeAt(a);return t&511}var s=["green","yellow","purple","dark-purple","blue","teal","orange","red"];a.exports=function(e){return s[hash(e)%s.length]}}),define("app.tileIndex",function(e){var t={};e.add=function(e){if(!(e.tileID in t)){var a={id:e.tileID};t[e.tileID]=a}else var a=t[e.tileID];a.attempted=e.attempted,a.available=e.available,a.correct=e.correct},e.getTile=function(e){var a=t[e];return a?a:{}}}),define("app.timezone",function(e){e.timezone=ko.observable("America/New_York"),e.offset=ko.observable("4"),e.clientTimezone=ko.observable("America/Chicago"),e.clientOffset=ko.observable("4"),e.timezonesAgree=ko.computed(function(){return e.offset()==e.clientOffset()});var t=["Atlantic/Reykjavik","Europe/London","Europe/Amsterdam","Europe/Athens","Europe/Moscow","Asia/Tehran","Asia/Baku","Asia/Calcutta","Asia/Katmandu","Asia/Dhaka","Asia/Bangkok","Asia/Kuala_Lumpur","Australia/Eucla","Asia/Tokyo","Australia/Adelaide","Australia/Melbourne","Australia/Lord_Howe","Asia/Sakhalin","Pacific/Norfolk","Pacific/Auckland","Pacific/Chatham","Pacific/Apia","Pacific/Kiritimati","US/Aleutian","America/Anchorage","America/New_York","Canada/Atlantic","America/Chicago","America/Denver","America/Caracas","America/Los_Angeles","America/Godthab","America/St_Johns","Atlantic/Cape_Verde","Pacific/Honolulu","Pacific/Samoa","Pacific/Marquesas"];e.getZoneFromOffset=function(e){var a=moment.tz(new Date,"UTC");for(var s in t)if(e==a.tz(t[s]).format("Z"))return t[s];var o=moment.tz.names();for(var s in o)if(e==a.tz(o[s]).format("Z"))return o[s]},e.getZone=function(){return e.getZoneFromOffset(moment(new Date).format("Z"))},e.startup=function(){var t=moment(new Date).format("Z");e.clientOffset(t),e.clientTimezone(e.getZoneFromOffset(t)),isNaN(window.timezone)?(e.timezone(window.timezone),e.offset(moment.tz(new Date,window.timezone).format("Z")),e.timezonesAgree()&&e.clientTimezone(e.timezone())):(e.timezone(e.clientTimezone()),e.offset(e.clientOffset()))}}),define("app.todo",function(e,t,a){a.exports={selectByDate:ko.observable(),flashcards:{docs:ko.observableArray(),repetition:ko.observableArray(),repetitionTopics:ko.observableArray(),school:ko.observableArray()},questions:{docs:ko.observableArray(),repetition:ko.observableArray(),repetitionTopics:ko.observableArray(),school:ko.observableArray()},concepts:{anatomy:ko.observableArray(),physiology:ko.observableArray(),pathophysiology:ko.observableArray(),pharmacology:ko.observableArray(),other:ko.observableArray()},messageCount:ko.observable(0),factIndex:{},moduleIndex:{},localAuthors:[]}}),define("app.tools",function(e,t,a){for(var s in a.exports=window.toolsMenu,window.toolsMenu)window.toolsMenu[s].active=ko.observable(window.toolsMenu[s].active),window.toolsMenu[s].hasBadge="seen"!==localStorage.getItem("tools:"+window.toolsMenu[s].title)&&window.toolsMenu[s].hasBadge,window.toolsMenu[s].hasSeen="seen"===localStorage.getItem("tools:"+window.toolsMenu[s].title)}),define("app.tour.BasicTour",function(e,t,a){function BasicTour(){this.currentStep=null,this.idx=null}var s=t("app/tour");BasicTour.prototype.start=function(e){this.idx=0,this.loadStep(this.steps[this.idx],e),analytics.track("Onboarding Tour",{type:this.name,step:this.idx+1})},BasicTour.prototype.next=function(e){this.currentStep.removePopup(),s.removeFocus(),this.steps.length-1>this.idx&&(this.idx++,this.loadStep(this.steps[this.idx],e),analytics.track("Onboarding Tour",{type:this.name,step:this.idx+1}))},BasicTour.prototype.close=function(){this.currentStep.removePopup(),this.markCompleted(),this.customClose&&"function"==typeof this.customClose&&this.customClose(),this.currentStep=null,this.idx=null,s.removeFocus()},BasicTour.prototype.markCompleted=function(){var e=this;this.idx==this.steps.length-1&&(fs.post("completeOnboarding",{tab:this.trackingName,level:"Completed Tour"}),setTimeout(function(){$(".ui-TourLauncher .toggler").trigger("click"),s.tourLauncher.markAsCompleted(e.name),$(".ui-TourLauncher .tour-list .list-item[data-class=\""+e.name+"\"] .item-checkbox i.fa-check").addClass("completed-pulse")},100),setTimeout(function(){$(".ui-TourLauncher .tour-list .list-item[data-class=\""+e.name+"\"] .item-checkbox i.fa-check").removeClass("completed-pulse")},5e3))},BasicTour.prototype.loadStep=function(e,t){var a=this;t=t||{},e.step=this.idx+1,e.steps=this.steps.length,e.onCloseTour=function(){t&&t.onCloseTour&&t.onCloseTour()};var s=e.onCtaClick;e.onCtaClick=function(){s&&s(),t&&t.onCtaClick&&t.onCtaClick()},e.onBeforeStart&&e.onBeforeStart(),e.delayLoad?setTimeout(function(){a.renderStep(e,t)},e.delayLoad):a.renderStep(e,t)},BasicTour.prototype.renderStep=function(e){var t=this,a=fs.mixAppend($("body"),"ui/TourPopup",e);$(window).resize(function(){t.reposition()}),$(window).scroll(function(){t.reposition()}),$(".scrollable").scroll(function(){t.reposition()}),this.currentStep=a,this.reposition(),a.addFocus()},BasicTour.prototype.reposition=function(){this.currentStep&&this.currentStep.reposition()},a.exports=BasicTour}),define("app.tour.dashIntro",function(e,t,a){function DashIntro(){this.trackingName="Dashboard Intro",this.steps=[{element:".tabs-default-dashboard .available-apps .app-view",title:"Premium Apps",text:"Here's where all of your premium apps live. Click on any of them to get started.",position:"bottom",theme:"green",ctaText:"NEXT",ctaAction:"next"},{element:".tabs-default-dashboard .secondary-panel .btn-group",title:"Explore with Tutorial View",text:"Switch to the Tutorial View and get an in-depth look at each app.",theme:"blue",position:"left",ctaText:"GOT IT!",ctaAction:"close"}]}var s=t("app/tour/BasicTour");fs.extend(DashIntro,s),a.exports=DashIntro}),define("app.tour.docAnalysis",function(e,t,a){function DocAnalysis(){this;this.steps=[{element:".ui-DocUploader .no-docs",title:"Upload Lecture Document",text:"Pretty self-explanatory here... just find a lecture you want analyzed and upload it here",position:"top",theme:"green",ctaText:"UPLOAD DOCUMENT"},{element:"",title:"",text:"",position:"right",theme:"green",ctaText:""},{element:"",title:"",text:"",position:"right",theme:"green",ctaText:""},{element:"",title:"",text:"",position:"right",theme:"green",ctaText:""}]}var s=t("app/tour/BasicTour");fs.extend(DocAnalysis,s),a.exports=DocAnalysis}),define("app.tour.index",function(e,t){for(var a in e.currentTourClass,e.currentTourClassName,e.tourList=[{type:"newUI",trackingName:"Learning Loop",title:"Schedule your first topic for review",desc:"Check out our super simple \"Learning Loop\" of watching a video then taking a quiz",completed:!1,onBeforeStart:function onBeforeStart(){return window.location.href="/home/search?tour=true&src=tours",!1}}],e.tourList)e.tourList[a].completed=ko.observable(!!window.onboardingData&&onboardingData.tours[e.tourList[a].trackingName]);e.start=function(a,s){if(s&&s.onBeforeStart){var o=s.onBeforeStart();if(!1===o)return}var d=t("app/tour/"+a);e.currentTourClass=new d,e.currentTourClassName=e.currentTourClass.name=a,e.currentTourClass.start(s),s&&s.onStart&&s.onStart()},e.next=function(t,a){a=a||{};var s=t.split(":"),o=s[0],d=s[1];e.validate(t)&&(e.currentTourClass.onNext&&e.currentTourClass.onNext(),e.currentTourClass.next(a),e.currentTourClass.onNext=a.onNext)},e.highlightNextStep=function(){},e.close=function(t){if(e.currentTourClass){var a=null;for(var s in e.tourList)e.tourList[s].type==e.currentTourClassName&&(a=e.tourList[s]);setTimeout(function(){},2e3),a.onBeforeClose&&a.onBeforeClose(),e.currentTourClass.close(t),a.onClose&&a.onClose()}e.currentTourClass=null,e.currentTourClassName=null},e.validate=function(t){var a=t.split(":");return e.checkActive(a[0])&&e.checkOrder(a[1])},e.checkActive=function(t){return e.currentTourClassName&&e.currentTourClassName==t},e.checkOrder=function(t){if(t==e.currentTourClass.idx+2)return!0},e.removeFocus=function(){$("body").removeClass("tour-focused-element"),$("*").removeClass("tour-focus")}}),define("app.tour.newUI",function(e,t,a){function NewUI(){this.trackingName="Learning Loop",this.steps=[{element:".ui-ResourceClusterRow:first-child .ui-ResourceCluster:first-child",title:"Click here",text:"For each topic in medicine, Osmosis lets you watch a video and explore high-yield resources.",position:"top",theme:"green",ctaText:"CLICK THE VIDEO"},{element:".tabs-home-learn .quiz-section",title:"Collect flashcards and questions for each concept",text:"After the video, collect the related questions and flashcards in your quiz queue.",theme:"blue",position:"top",delayLoad:1e3,ctaText:"CLICK \"Add to Quiz Queue\""},{element:".ui-QueueControlBar .flashcard-queue .fi-flashcard-bolt",title:"When you're ready to test your knowledge...",text:"...click here to quiz yourself on the items you've collected in your queues.",theme:"purple",position:"bottom",ctaText:"Click the ICON"},{element:".ui-QueueControlBar .fc-quiz-btn",title:"Click here...",text:"... to start the quiz.",theme:"green",position:"bottom",ctaText:"CLICK \"Flashcard Quiz\""},{element:".models-ques-SubmitBtns",title:"Rate your confidence and accuracy.",text:"Osmosis will learn whether or not you understand the fundamentals of this topic.",theme:"green",position:"right",delayLoad:2500,ctaText:"Select your confidence"},{element:".tabs-prototype-quiz .close-quiz",title:"Let's exit the quiz for now...",text:"... your progress is saved on an item-by-item basis.",theme:"green",position:"right",ctaText:"Click the X"},{element:".ui-QueueControlBar .question-queue .fa-server",title:"After you have mastered the basic facts...",text:"... Osmosis will test your ability to answer board-style questions.",theme:"purple",position:"bottom",delayLoad:1e3,ctaText:"Click the ICON"},{element:".ui-QueueControlBar .ques-quiz-btn",title:"Click here...",text:"... to see what board questions look like.",theme:"green",position:"bottom",ctaText:"CLICK \"Question Quiz\""},{element:".models-ques-quiz-Ques",title:"Build your confidence by challenging yourself with board-style questions.",text:"It's that simple! Just watch a video and quiz yourself for each topic. Click below to finish the tour.",theme:"purple",position:"right",ctaText:"Click HERE to EXIT the tour",delayLoad:2e3,ctaAction:"close"}]}var s=t("app/tour/BasicTour");fs.extend(NewUI,s),NewUI.prototype.customClose=function(){$(".close-action .close-quiz").click(),setTimeout(function(){tabToURL("/home/search")},10)},a.exports=NewUI}),define("app.uploaders",function(e){var t=[];e.uploaders=t,e.add=function(e){t.push(e)},e.remove=function(e){var a=t.indexOf(e);t.splice(a,1)},e.get=function(e){var a=[];for(var s in t)e==t[s].currentEvent.eventID&&a.push(t[s]);return a}}),define("app.wikiIndex",function(e,t,a){a.exports={}}),define("app.wikiResourceManager",function(e,t){function extractText(e){return e?"string"==typeof e?e:e.s:""}function getCloze(e){var t=[];return e.replace(/\{\{([\w\W]+?)\}\}/g,function(e){var a=e.split("::");2==a.length&&t.push(a[1].slice(0,a[1].length-2))}),t.join("  ")}function incScore(e,t,a){t in e?e[t]+=a:e[t]=a}function addSlideScores(e,t,s,o){o=o||1,a.wikifyText(s,function(a,s){var d=t[s];for(var n in d)incScore(e,d[n],o)})}function incSlideCount(e,t){t in e?e[t]++:e[t]=1}var a=t("app/wikify");e.wikifyDocument=function(e){var t={},s={},o={};for(var d in e){var n={};for(var l in a.wikifyText(e[d],function(e,a){if(!(a in t)){var s=[];t[a]=s}else var s=t[a];-1==s.indexOf(d)&&s.push(d),n[a]={text:e,term:a},o[a]=!0}),s[d]=[],n)s[d].push(n[l])}var c=[];for(var d in o)c.push(d);return{term2slides:t,slide2terms:s,terms:c}},e.wikifyCard=function(e){var t=extractText(e.data.q),s=[];return a.wikifyText(t,function(e,t){s.push(t)}),s},e.wikifyCards=function(e,t){var a=[],s={};for(var o in t){var d={},n=extractText(t[o].data.q);addSlideScores(d,e.term2slides,getCloze(n),3),addSlideScores(d,e.term2slides,n);var l=[];for(var c in d)l.push({slide:c,score:d[c]});l.sort(function(e,t){return t.score-e.score});var p=!0;for(var c in l){var u=s[l[c].slide];if(1<l[c].score&&(!u||5>u)){incSlideCount(s,l[c].slide),a.push({card:t[o],slide:l[c].slide}),p=!1;break}}p&&l.length&&1<l[0].score&&(incSlideCount(s,l[0].slide),a.push({card:t[o],slide:l[0].slide}))}return a}}),define("app.wikiTermResources",function(e){function parseIcons(e,t){if(!t)return"";var a="";for(var o in t){var d=s[t[o]];d&&d.src&&(a+="<img src=\""+d.src+"\" title=\""+d.hint+" "+e+".\" class=\"see-also-thumbnail tip\">")}return a}function returnResult(e){var a={};if(!e.length)return{};for(var s in e)t[e[s]]&&(a[e[s]]=parseIcons(e[s],t[e[s]]));return a}var t={},a={},s={yt:{src:"https://osmose-it.s3.amazonaws.com/JhrcoeYZTNaw8hS4yHfEE7QWR8iAt5LH/_.png",hint:"A video is available for "},notes:{src:"https://d16qt3wv6xm098.cloudfront.net/Xfm8R1A8QBuGnMw7E1fTnhXaRvKOKYO1/_.png",hint:"Osmosis-produced notes are available for "},"yt-osm":{src:"https://d3cdo0emj8d2qc.cloudfront.net/assets/71e7e522444440761e2b1a6bba54c22b744be3e4.png",hint:"An Osmosis-produced video is available for "},anatomy:{src:"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/anat50.png",hint:"3D anatomy is available for "},medscape:{src:"https://osmose-it.s3.amazonaws.com/rwVmG10JR7SaKooHZvDoDDP8RFOGqE32/_.png",hint:"A medscape article is available for "},picmonic:{src:"https://d3cdo0emj8d2qc.cloudfront.net/assets/810ca0912f5fb3786e7a96d342d431859c459f85.svg",hint:"A picmonic is available for "},sketchy:{src:"https://d3cdo0emj8d2qc.cloudfront.net/assets/387decb078efdfa650357f03cb38564b1f8db4a7.svg",hint:"Sketchy medical is available for "},celeb:{src:"https://osmose-it.s3.amazonaws.com/uItg_sGtRYi5ouWRrB9n26KXTkWE6xrN/_.png",hint:"A celebrity memory aid is available for "}};e.iconMap=s,e.addFutureTerms=function(e){for(var s in e)e[s]in t||(a[e[s]]=!0)},e.getTermIcons=function(e,s){var o=[];for(var d in e)e[d]in t||o.push(e[d]);if(!e.length)return s({});for(var n in a)if(n in t||o.push(n),delete a[n],500<o.length)break;o.length?fs.post("getWikiPageResources",{terms:o},function(a){for(var o in a.index)t[o]=a.index[o];s(returnResult(e))}):s(returnResult(e))}}),define("app.wikify",function(t,a){function tokenize(e){for(var t=[],a="",s=0;s<e.length;){for(var a="";"a"<=e[s]&&"z">=e[s]||"A"<=e[s]&&"Z">=e[s]||"0"<=e[s]&&"9">=e[s]&&s<e.length;)a+=e[s],s++;if(""!=a&&(t.push(a),a=""),"<"==e[s]){for(;">"!=e[s]&&s<e.length;)a+=e[s],s++;if(""!=a&&">"==e[s]){s++,t.push(a+">"),a="";continue}}for(;!("a"<=e[s]&&"z">=e[s]||"A"<=e[s]&&"Z">=e[s]||"0"<=e[s]&&"9">=e[s])&&"<"!=e[s]&&s<e.length;)a+=e[s],s++;""!=a&&t.push(a)}return t}function wikiLink(e,t){return"<a href=\""+t+"\" target=\"_blank\" class=\"wikiTerm\">"+e+"</a>"}function substituteSpecialCharacters(e){return e.replace(/\/,"'").replace(/\ss\s/g,"'s ")}function simplify(e){return e?e.replace(/\<sub\>/g,"").replace(/\<\/sub\>/g,""):""}function addStopWordLink(e){var t=$(e).text(),a=$("<span>&nbsp;</span><a href=\"\" style=\"color:red; font-size:80%\">Stop</a>").insertAfter(e);$(a[1]).click(function(a){a.preventDefault(),fs.confirm("Confirm adding \""+t+"\" as a stopword.",function(e){console.log(t),fs.post("adminAddStopword",{word:t},function(){e()})})})}var s=null,o=[],d=!1,n=a("ui/wikiViewer"),l=a("ui/wikiViewerSeries");t.showResources=function(e,t,a,s,o){window.studyTopic=e,-1==window.location.pathname.search("/editconcept")?(a&&a.onBeforeShow&&a.onBeforeShow(t),console.log(a),s?l.showWiki(o,_objectSpread({},a,{text:t})):n.showWiki(e,a)):window.location.href="/editconcept?term="+e.replace(/\s/g,"_"),$.post("/wikiTermClick",{m:MID,appID:1,term:e,text:t})},t.init=function(e){s||setTimeout(function(){$.get(window.srcServer+"/wikiterms1-"+window.wikitermsFile+".json",{},function(a){for(var d in s={},t.wikiIndex=s,a){var n=a[d];for(var l in n)s[n[l]]=d}for(var d in console.log("got wikiterms"),t.wikifyElements($(".needs-wiki")),o){var c=o[d];c()}e&&e(),$(document).trigger("gotWikiterms")})},100)},t.wikifyText=function(e,t){function process(e){return t(e,s[simplify(e.toLowerCase())])}t=t||wikiLink,e=substituteSpecialCharacters(e);for(var a=tokenize(e),o="",d=0;d<a.length;){for(var n=Math.min(11,a.length-1),l=n,c;0<=l;l--){c="";for(var p=0;p<=l;p++)a[d+p]&&(c+=a[d+p].toLowerCase());if(s[simplify(c)]){for(var c="",p=0;p<=l;p++)a[d+p]&&(c+=a[d+p]);o+=process(c),d+=l;break}else 0==l&&(o+=a[d])}d++}return o},t.wikifyElements=function(e,a,o,n){if(o=o||wikiLink,s){var l={default:[]};return e.each(function(e,s){var c=$(s).attr("wiki-bin");if(!c)var p=l.default;else if(!(c in l)){var p=[];l[c]=p}else var p=l[c];$(".content-text",s).each(function(e,s){$(s).html(t.wikifyText($(s).html(),function(e,t){return p.push({text:e,term:t}),o(e,t)})),$(".wikiTerm",s).each(function(e,s){$(s).click(function(o){o.preventDefault(),o.stopPropagation(),t.showResources($(s).attr("href"),$(s).text(),a,n,p)}),d&&addStopWordLink(s)})})}),l}return e.addClass("needs-wiki"),null},t.defer=function(e){s?e():o.push(e)},window.stopWordsOn=function(){$(".wikiTerm").each(function(e,t){addStopWordLink(t),d=!0})}}),define("core.DashboardMenu",function(e,t,a){function DashboardMenu(e,t){var a=this;e(this),this.childUi=fs.mixAppend($(".sidebar-ui",this.dom),t.ui),$(document).create(".nav-frame:not(.init) .core-DashboardMenu",function(){a.positionAdvancedTools()}),$(window).resize(function(){a.positionAdvancedTools()})}DashboardMenu.prototype.positionAdvancedTools=function(){var e=this,t=$(".nav-frame:not(.init) .core-DashboardMenu").innerHeight(),a=0;$.each($(".nav-frame:not(.init) .core-DashboardMenu .sidebar-ui > div[mixed=\"mixed\"] > div"),function(e,t){a+=$(t).outerHeight(!0)}),a>=t?$(".nav-frame:not(.init) .core-DashboardMenu .sticky-bottom").removeClass("floating"):$(".nav-frame:not(.init) .core-DashboardMenu .sticky-bottom").addClass("floating")},a.exports=DashboardMenu}),define("core.Run",function(){}),define("core.Validators",function(){ko.validation.rules.NoTags={validator:function validator(e){return!("string"!=typeof e)&&-1==e.indexOf("<")&&-1==e.indexOf(">")},message:""},ko.validation.registerExtenders()}),define("core.about",function(e,t){var a=Math.floor;e.run=function(){function viewSectionTop(e){$("html,body").animate({scrollTop:e.offset().top+"px"})}window.location.href="https://google.com";var e=t("core/common");for(var s in e)window[s]=e[s];if(bindData(window),$("body").on("click",".testimonial-nav-arrows .arrow",function(){$(this).hasClass("arrow-left")?window.testimonialSlider.goBack():window.testimonialSlider.goForward(),480>=$(window).width()&&viewSectionTop($("#testimonial-section"))}),0<$("#testimonial-slider").length){window.testimonialSlider=$("#testimonial-slider").unoSlider();var o=$("#testimonial-slider > ul > li").get().length,d=a(Math.random()*o)+1;window.testimonialSlider.goTo(d),window.testimonialSlider.killTimer()}}}),define("core.landing",function(e){e.run=function(){landing_page_ready()}}),define("core.login",function(e,t){t("core/tracking"),e.run=function(){var e=t("core/common");for(var a in e)window[a]=e[a];bindData(window),fs.onInternalServerError(function(e,t){e?fs.alert(e.error.msg,"Internal Server Error","danger"):fs.alert(t+" Server error: Please report this as a bug to support@osmosis.org","Error","danger")}),fs.onRequestError(function(e){fs.alert(e.error.msg,"Oops!","warning")}),fs.onConnectionError(function(){fs.alert("No internet!","Bad connection","warning")}),window.inviteURL&&($.cookie("inviteURL",window.inviteURL,{expires:7}),localStorage.setItem("inviteURL",window.inviteURL),$("#Content-Wrapper").prepend("<div class=\"referral-message-wrapper\"></div>"),fs.get("userFromReferral",{code:window.inviteURL},function(e){fs.mixAppend($("#Content-Wrapper .referral-message-wrapper"),"ui/ReferralMessage",{user:e.user,profile:e.profile})})),-1==document.URL.search("register")?-1==document.URL.search("newaccount")?-1!=document.URL.search("create")||-1!=document.URL.search("invite")?fs.mixAppend($("#Content"),"ui/SimpleLoginBox",{creatingAccount:!0}):fs.mixAppend($("#Content"),"ui/SimpleLoginBox"):fs.mixAppend($("#Content"),"page/newaccount"):fs.mixAppend($("#Content"),"page/register"),"create"==window.urlQuery.type&&analytics.track("Visited Login",{type:window.urlQuery.type,mode:window.urlQuery.mode||"default"})}}),define("core.object-assign",function(e,t,a){var s=String.fromCharCode;function toObject(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;a.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;10>a;a++)t["_"+s(a)]=a;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var d={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){d[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(t){return!1}}()?Object.assign:function(e){for(var t=toObject(e),a=1,n,l;a<arguments.length;a++){for(var c in n=Object(arguments[a]),n)o.call(n,c)&&(t[c]=n[c]);if(Object.getOwnPropertySymbols){l=Object.getOwnPropertySymbols(n);for(var p=0;p<l.length;p++)d.call(n,l[p])&&(t[l[p]]=n[l[p]])}}return t}}),define("core.objectAssign",function(e,t,a){var s=String.fromCharCode;function toObject(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;a.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;10>a;a++)t["_"+s(a)]=a;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var d={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){d[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(t){return!1}}()?Object.assign:function(e){for(var t=toObject(e),a=1,n,l;a<arguments.length;a++){for(var c in n=Object(arguments[a]),n)o.call(n,c)&&(t[c]=n[c]);if(Object.getOwnPropertySymbols){l=Object.getOwnPropertySymbols(n);for(var p=0;p<l.length;p++)d.call(n,l[p])&&(t[l[p]]=n[l[p]])}}return t}}),define("core.startup",function(e,t){var a=Math.cos,s=Math.sin,o=Math.floor;function generateTrackingHash(){return md5(Math.random(1e5)+new Date)}function getUserObj(){if(window.Storage&&window.localStorage.getItem("tracking:userObj")){var e=JSON.parse(window.localStorage.getItem("tracking:userObj"));return new v(e)}return new v}function startIntercom(){if(!window.MID&&-1==serverURL.search("localhost")&&"block"!=window.localStorage.getItem("blockTracking"))if(function(){var e=window,t=e.Intercom;if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var a=function l(){var e=o.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/ifnb0qxb";var t=o.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},o=document,s=function i(){s.c(arguments)};s.q=[],s.c=function(e){s.q.push(e)},e.Intercom=s,e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}}(),window.userID){var e={app_id:"ifnb0qxb",email:window.user?window.user.email:null,user_id:window.userID,name:window.user?window.user.first+" "+window.user.last:null,custom_launcher_selector:"#custom-intercom-launcher",hide_default_launcher:!0};window.Intercom("boot",e)}else $("#custom-intercom-launcher").hide(),window.Intercom("boot",{app_id:"ifnb0qxb",widget:{activator:"#IntercomDefaultWidget"}})}function calculateStreak(){var e=localStorage.getItem("lastLogin"),t=moment().utc().format("YYYY-MM-DD");e&&moment(e).isSame(moment(t))||(fs.post("getLoginStreak",{},function(){}),e=t,localStorage.setItem("lastLogin",e))}function checkReferralCredit(){var e=localStorage.getItem("inviteURL");e&&window.userID&&$.post("/checkReferralCredit",{inviteURL:e},function(e){e.done&&localStorage.removeItem("inviteURL")})}var d=t("core/ui"),n=template("core/spinCircle"),l=t("ui/videoPlayer"),c=t("app/test"),p=t("app/purchaseModal"),u=t("app/sale"),m=t("app/gaTracking");t("core/tracking"),window.registerHotkey=function(){},window.stringCapitalize=function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},window.stringTitleize=function(e){var t=e.split(" ");return t=t.map(function(e){return stringCapitalize(e)}),t.join(" ")},$(document).create(".logOutLink",function(e){$(e.target).click(function(t){t.preventDefault(),$.post("/logout",{},parseResult(function(){localStorage.clear(),location.replace("/login")}))})}),window.checkQueryString=function(){window.urlQuery=getQueryString(),"n"in urlQuery&&$(".currentDocMenuItem").removeClass("hidden")},window.updateUrlParam=function(e,t){t?urlQuery[e]=t:delete urlQuery[e];var a=[];for(var s in urlQuery)a.push(s+"="+urlQuery[s]);window.history.pushState("","",window.location.pathname+"?"+a.join("&"))},window.nightMode=ko.observable(!1),window.nightMode.subscribe(function(e){e?$(document.body).addClass("night-mode"):$(document.body).removeClass("night-mode"),window.localStorage&&window.localStorage.setItem("theme:night-mode",e),eventTracker.track("night_mode_toggle",{},["intercom"],21600)}),window.nightModeInLocalStorage=function(){if(window.localStorage){var e=window.localStorage.getItem("theme:night-mode");if(e)return"true"===e.toLowerCase()}return!1},window.nightModeAvailable=ko.observable(!1),window.nightModeAvailable.subscribe(function(e){if(!e){var t=window.nightModeInLocalStorage();window.nightMode(!1),t&&window.localStorage&&window.localStorage.setItem("theme:night-mode",!0)}else window.nightMode(window.nightModeInLocalStorage())}),window.checkForUnsavedWork=[],window.runUnsavedWorkChecks=function(){var e=window.checkForUnsavedWork;for(var t in e){var a=e[t].check();if(a)return a}return null},window.controlbarExpanded=ko.observable(!1),window.showFullscreenLoading=function(){$("<div class=\"fullscreen-loading\"><div class=\"triple-arc\"></div><div class=\"loading-center fp80\">Loading</div></div>").appendTo("body")},window.clearFullscreenLoading=function(){$(".fullscreen-loading").remove()},window.clearUnsavedWork=function(){var e=window.checkForUnsavedWork;for(var t in e)e[t].clear();e.length=0},window.md5=function(e){var t=$().crypt({method:"md5",source:e});return t},window.getKeenUUID=function(){if(window.Storage){if(window.localStorage.getItem("keen:trackingID"))return window.localStorage.getItem("keen:trackingID");var e=generateTrackingHash();return window.localStorage.setItem("keen:trackingID",e),e}};var v=function(){"use strict";function Visitor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Visitor),e.id=e.id||(window.userID&&0<window.userID?window.userID:window.getKeenUUID()),this.data=e,this.persist()}return _createClass(Visitor,[{key:"get",value:function get(e){return this.data[e]}},{key:"set",value:function set(e,t){t?this.data[e]=t:delete this.data[e],this.persist()}},{key:"persist",value:function persist(){window.Storage&&window.localStorage.setItem("tracking:userObj",JSON.stringify(this.data))}},{key:"setReferralDomain",value:function setReferralDomain(e){if(!e||0==e.length)this.data.lastReferrer="direct";else if(-1==e.indexOf("osmosis.org")&&-1==e.indexOf("localhost")){0<e.indexOf("//")&&(e=e.substring(e.indexOf("//")+2));var t=e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1);-1<t.indexOf("/")&&(t=t.substring(0,t.indexOf("/"))),this.data.lastReferrer=t.toLowerCase(),this.data.lastNonDirectReferrer=t.toLowerCase(),this.persist()}}},{key:"setUtms",value:function setUtms(e){e.utm_source&&(this.data.utm_source=e.utm_source.toLowerCase()),e.utm_medium&&(this.data.utm_medium=e.utm_medium.toLowerCase()),e.utm_campaign&&(this.data.utm_campaign=e.utm_campaign.toLowerCase()),e.utm_content&&(this.data.utm_content=e.utm_content.toLowerCase()),this.persist()}},{key:"fromYoutube",value:function fromYoutube(){return this.data.lastNonDirectReferrer&&"youtube.com"==this.data.lastNonDirectReferrer.toLowerCase()||"youtube"==this.data.utm_medium||"youtube"==this.data.utm_source}}]),Visitor}();window.openQuizFrame=function(){window.mainHeader?(window.mainHeader.visible(!1),$(".quiz-hidden").hide()):console.log("window.mainHeader doesn't exist yet?")},window.closeQuizFrame=function(){window.mainHeader?(window.mainHeader.visible(!0),$(".quiz-hidden").show()):console.log("window.mainHeader doesn't exist yet?")},window.createCustomOverlay=function(e){e=e||{},e.dom=e.dom||$("body");var t=$("<div class=\"custom-background-overlay "+(e.classes||"")+"\">");e.zIndex&&t.css({"z-index":e.zIndex}),$(e.dom).append(t),e.onClick&&$(".custom-background-overlay",e.dom).click(e.onClick)},window.removeCustomOverlay=function(){$(".custom-background-overlay").fadeOut(function(){this.remove()})},window.trackPageView=function(){var e={};for(var t in window.userObj||(window.userObj=getUserObj()),userObj.setReferralDomain(document.referrer),userObj.setUtms(urlQuery),urlQuery)""!=t&&(e[t]=urlQuery[t]);e.page_name=window.location.pathname,e.url=window.location.href,keen.track("page_view",{page_name:window.location.pathname,url:window.location.href})},window.lockDrawer=function(e){e.addClass("locked-drawer"),$("body").addClass("drawer-locked"),$(document).on("TabNav.OnBeginNavigate",function(){e.removeClass("locked-drawer"),$("body").removeClass("drawer-locked")})},window.popConfetti=function(e){function randomFromTo(e,t){return o(Math.random()*(t-e+1)+e)}function confettiParticle(){this.x=Math.random()*t,this.y=Math.random()*d-d,this.r=randomFromTo(11,33),this.d=Math.random()*c+11,this.color=u[o(Math.random()*u.length)],this.tilt=o(33*Math.random())-11,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return l.beginPath(),l.lineWidth=this.r/2,l.strokeStyle=this.color,l.moveTo(this.x+this.tilt+this.r/3,this.y),l.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/5),l.stroke()}}function Draw(){var e=[];requestAnimationFrame(Draw),l.clearRect(0,0,t,window.innerHeight);for(var o=0;o<c;o++)e.push(p[o].draw());for(var n={},u=0,o=0;o<c;o++)n=p[o],n.tiltAngle+=n.tiltAngleIncremental,n.y+=(a(n.d)+3+n.r/2)/2,n.tilt=15*s(n.tiltAngle-o/3),n.y<=d&&u++;return e}e||(e={});var t=window.innerWidth,d=window.innerHeight,n=document.createElement("canvas");n.classList.add("confetti"),document.body.appendChild(n);var l=n.getContext("2d"),c=e.maxConfettis||150,p=[];setTimeout(function(){n.remove()},7600);var u=e.colors||["#D13463","#287CDC","#D33B3E","#32A688","#38A839","#DD6C2D","#9C52C8","#EEC430","#2695B8"];window.addEventListener("resize",function(){t=window.innerWidth,d=window.innerHeight,n.width=window.innerWidth,n.height=window.innerHeight},!1);for(var m=0;m<c;m++)p.push(new confettiParticle);n.width=t,n.height=d,Draw()},window.unlockDrawer=function(e){e.removeClass("locked-drawer"),$("body").removeClass("drawer-locked")},e.alwaysRun=function(){function formatSelect2Option(e){if(e.id){var t=$(e.element).attr("descr"),a="<div class=\"select2-item-title\">"+e.text+"</div>";return $("<div>"+(t?a+("<div class=\"select2-item-descr\">"+t+"</div>"):a)+"</div>")}}function checkScrollPos(){0<$(window).scrollTop()?$(".landing-style header#masthead").addClass("scrolling"):$(".landing-style header#masthead").removeClass("scrolling")}function saveUnsavedWork(t){var e=window.checkForUnsavedWork;for(var a in e)e[a].check()&&e[a].save&&(t.preventDefault(),e[a].save())}function openVisitorTypeDialog(){setTimeout(function(){dialog("ui/dialogs/learn/VisitorType",{})},1e3)}fs.setAPIVersion("v0"),window.mobile=new MobileDetect(window.navigator.userAgent),fs.onInternalServerError(function(e,t){e?fs.alert(e.error.msg,"Internal Server Error","danger"):fs.alert(t+" Server error: Please report this as a bug to support@osmosis.org","Error","danger")}),fs.onSyncError(function(){console.error("Sync error recorded")}),fs.onRequestError(function(e){fs.alert(e.error.msg,"Oops!","warning")}),fs.onConnectionError(function(){fs.alert("No internet!","Bad connection","warning")}),fs.onAlert(function(e,t,a,s){var o={message:e};o.title=t?t:"Oops!",o.type=a?"type-"+a:"type-warning",o.callback=s,BootstrapDialog.alert(o)}),fs.onConfirm(function(e,t,a,s,o){dialog("ui/dialogs/Confirm",function(e,t,a,d){t?s(a,d):o?o(a,d):a()},{title:t||"Confirm",type:a?"type-"+a:"type-info",message:e})}),window.confirmYesNo=function(e,t,a,s,o,d,n){dialog("ui/dialogs/ConfirmYesNo",function(e,t,a){t?s(a):o?o(a):a()},{title:t||"Confirm",type:a?"type-"+a:"type-info",message:e,yesText:d||"Yes",noText:n||"No"})},fs.onPrompt(function(e,t,a,s,o,d){dialog("ui/dialogs/Prompt",function(e,t,a,o){t?s(t?e.value()||null:null,a,o):d&&d()},{value:o,title:t||"Prompt",type:a?"type-"+a:"type-info",message:e})}),fs.onPassword(function(e,t,a,s){dialog("ui/dialogs/PasswordPrompt",function(e,t,a,o){t&&s(t?e.value()||null:null,a,o)},{title:t||"Password Prompt",type:a?"type-"+a:"type-info",message:e})}),window.promptForDate=function(e,t,a,s,o){dialog("ui/dialogs/DatePrompt",function(e,t,a){t&&s(t?e.value()||null:null,a)},{title:t||"Enter Date",type:a?"type-"+a:"type-info",message:e,value:o})},fs.onAPICall(function(e,t){t.g=t.g||e.groupID||window.groupID,t.m=t.m||e.MID||window.MID});var e=t("core/common");for(var a in e)window[a]=e[a];bindData(window),window.hasSharing=~window.serverURL.indexOf("localhost"),window.csrf_token&&!$.csrf_token&&($.csrf_token=window.csrf_token,$.ajaxPrefilter(function(e){if("post"===e.type.toLowerCase()&&0!=e.url.indexOf("http"))if(~e.contentType.indexOf("json")){var t=JSON.parse(e.data||"{}");t._csrf_token=window.csrf_token,e.data=JSON.stringify(t)}else e.data=e.data||"",e.data+=e.data?"&":"",e.data+="_csrf_token="+window.csrf_token})),startIntercom(),window.Intercom&&window.Intercom("onUnreadCountChange",function(e){0<e?$("#custom-intercom-launcher .unread-badge").html(e).removeClass("hidden"):$("#custom-intercom-launcher .unread-badge").html(e).addClass("hidden")}),checkReferralCredit(),window.legacyFeatures&&window.legacyFeatures.libraryChecklist&&$(".secondary-section .library-checklist").removeClass("hidden"),$.FroalaEditor.DEFAULTS.key="qexabA-21fcD1D-11as==",window.GROUP={owner:!!window.groupRole&&1==groupRole,admin:!!window.groupRole&&2>=groupRole,contrib:!!window.groupRole&&3>=groupRole,member:!!window.groupRole&&4>=groupRole},window.MODULE={owner:!!window.role&&1==role,admin:!!window.role&&2>=role,contrib:!!window.role&&3>=role,member:!!window.role&&4>=role};var s=window.navData&&window.navData.group&&navData.group.features?navData.group.features:null;if(window.FEATURES={modules:!!s&&0!=(1&s),exams:!!s&&0!=(2&s),members:!!s&&0!=(4&s),docs:!!s&&0!=(8&s),media:!!s&&0!=(16&s),autopub:!!s&&0!=(32&s),managed:!!s&&0!=(64&s)},window.triggerPrimePopup=function(e){fs.mixAppend($("body"),"ui/PrimeCtaOverlay",{type:e.type,ref:e.ref,src:e.src,ctaLabel:e.ctaLabel})},window.Storage&&1<window.userID,t("app/timezone").startup(),window.mobile.mobile()&&$("body").addClass("isMobile"),$(document).create(".tip",function(e){$(e.target).tooltip({container:"body"})}),($(document).create(".tooltip-select",function(e){$(e.target).select2({placeholder:$(e.target).attr("data-placeholder"),minimumResultsForSearch:1/0,templateResult:formatSelect2Option})}),$(document).create(".mobile-controlbar-toggle",function(t){$(t.target).on("click",function(){$("body").hasClass("controlbar-expanded")?($("body").removeClass("controlbar-expanded"),$(".controlbar-subscribe").removeClass("controlbar-open")):($("body").addClass("controlbar-expanded"),$(".controlbar-subscribe").addClass("controlbar-open"))})}),window.initCustomScrollbar=function(e,t){t||(t={}),t.theme=t.theme?t.theme:"minimal-dark",t.scrollInertia=t.scrollInertia?t.scrollInertia:60,window.mobile.mobile()||$(e).mCustomScrollbar(t)},window.user)){var o=!0;window.Storage&&window.localStorage.uiNoticeNextShow&&0<=moment(window.localStorage.uiNoticeNextShow).diff(moment())&&(o=!1),o&&0<$("header#masthead").length&&($("header#masthead").prepend("<div class=\"popup-notice\"></div>"),$("header#masthead .popup-notice").hide(),setTimeout(function(){$("header#masthead .popup-notice").slideDown()},1500))}if(!$("body").hasClass("template-common")){var n={"/plans":"/plans","/love":"/love","/library":"/library"},l=window.location.pathname;if(-1!=l.indexOf("library")&&(l="/library"),n[l]){var m=$("#landing-nav.horizontal.menu .items.left a[href=\""+n[l]+"\"]");$(m.closest("a")).addClass("active")}}var v=u.current(),b;if(p.setCurrentSale(v),window.user){var h=!0,g=moment(window.user.prime.expires).diff(moment(),"days");if(window.Storage&&window.localStorage.primeBannerNextShow&&0<=moment(window.localStorage.primeBannerNextShow).diff(moment())&&(h=!1),h){if(15>g)var f="show"==c.select({name:"free-trial-banner",a:"delay",b:"show"})?15:14;else var f=14;if(g<f&&0<g){var w;if(0>=g);else{var S=1==g?"1 Day":g+" Days";1==window.user.prime.status?w="Your Osmosis Prime subscription ends in <span class=\"expires-msg\">"+S+"</span>.":2==window.user.prime.status&&(w="Your free trial of Osmosis Prime ends in <span class=\"expires-msg\">"+S+"</span>."),theme=4<=g?"orange":"red"}0<$("header#masthead").length&&0<$("body.page-backend").length&&(!$("body.page-backend .notifications").length&&$("body.page-backend").prepend("<div class=\"notifications\"></div>"),!b&&(b=fs.mixAppend($("body.page-backend .notifications"),"ui/NotificationBanner",{theme:theme,type:"prime-countdown",icon:"fa-clock-o",message:w,cta:"Purchase more Prime",ctaLink:"/plans",expireLength:1})))}}var q=!0;if(window.Storage&&window.localStorage.risingM2BannerNextShow&&0<=moment(window.localStorage.risingM2BannerNextShow).diff(moment())&&(q=!1),!b&&q&&window.user&&window.course){var C="Medicine"==window.course.type&&(1==window.user.profile.year||"Rising second year"==window.user.profile.classYear);$("body.page-backend .notifications").length||$("body.page-backend").prepend("<div class=\"notifications\"></div>"),C&&0>=window.user.prime.paid&&1!=window.user.prime.status&&(b=fs.mixAppend($("body.page-backend .notifications"),"ui/NotificationBanner",{theme:"light-blue",type:"prime-countdown",icon:"fa-book",message:"Don\u2019t lose focus over the summer. Step 1 is coming! Create a summer study schedule",cta:"today!",ctaLink:"/study/calendar?view=Topic&amp;utm_source=banner&utm_medium=osmosis&utm_campaign=pre-m2-summer-schedule",expireLength:1,align:"center",startShow:moment("2018-06-04T04:01:01.000Z"),endShow:moment("2018-06-30T09:00:01.000Z"),storage:"risingM2BannerNextShow"}))}}if((window.mobile.is("iPhone")||window.mobile.is("AndroidOS")&&0>window.location.pathname.indexOf("start"))&&(window.localStorage&&!window.localStorage.hideAppDownloadBanner||!window.localStorage)&&600>=$(window).width()){var D=window.mobile.is("iPhone")?"/assets/images/app-store.png":"/assets/images/google-play.png",T=window.mobile.is("iPhone")?"https://itunes.apple.com/us/app/osmosis-med/id646540641?ls=1&mt=8":"https://play.google.com/store/apps/details?id=org.osmosis.med";$("body").append("<div id=\"app-banner\"><h4>Download the App</h4><a class=\"image-cta\" target=\"_blank\" href=\""+T+"\"><img src=\""+D+"\" /></a><span class=\"close-banner\">x</a></div>"),$("#app-banner .close-banner").click(function(){$("#app-banner").remove(),d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),window.Storage&&window.localStorage.setItem("hideAppDownloadBanner",!0)})}if(checkScrollPos(),$(window).scroll(function(){checkScrollPos()}),window.user&&0<window.user.prime.status&&($(".main-menu-dropdown .prime-action.upgrade").addClass("hidden"),$(".main-menu-dropdown .prime-action.add").removeClass("hidden")),$(document).create(".js-video",function(e){$("iframe",e.target).attr("src",$(e.target).attr("src")),$(e.target).fitVids()}),$(document).create(".main-left-sidebar",function(t){$(t.target).after("<div class=\"left-sidebar-toggle\"><i class=\"fa fa-ellipsis-v\"></i></div>"),$(t.target).parent().on("click",".left-sidebar-toggle",function(){$(t.target).hasClass("expanded")?($(t.target).removeClass("expanded"),$(".left-sidebar-toggle").removeClass("expanded")):($(t.target).addClass("expanded"),$(".left-sidebar-toggle").addClass("expanded"))}),$(document).on("click",function(t){1>$(t.target).closest(".main-left-sidebar").length&&1>$(t.target).closest(".left-sidebar-toggle").length&&($(".main-left-sidebar").removeClass("expanded"),$(".left-sidebar-toggle").removeClass("expanded"))})}),$(document).create(".main-right-sidebar",function(t){$(t.target).after("<div class=\"right-sidebar-toggle\"><i class=\"fa fa-ellipsis-v\"></i></div>"),$(t.target).parent().on("click",".right-sidebar-toggle",function(){$(t.target).hasClass("expanded")?($(t.target).removeClass("expanded"),$(".right-sidebar-toggle").removeClass("expanded")):($(t.target).addClass("expanded"),$(".right-sidebar-toggle").addClass("expanded"))}),$(document).on("click",function(t){1>$(t.target).closest(".main-right-sidebar").length&&1>$(t.target).closest(".right-sidebar-toggle").length&&($(".main-right-sidebar").removeClass("expanded"),$(".right-sidebar-toggle").removeClass("expanded"))})}),$("header#masthead").on("click",".mobile-menu-icon",function(e){e.preventDefault(),e.stopPropagation(),$(this).hasClass("active")?($("#masthead .mobile-nav").slideUp(function(){$("header#masthead").removeClass("scrolling")}),$(this).removeClass("active")):($("#masthead .mobile-nav").slideDown(),$(this).addClass("active"),$("header#masthead").addClass("scrolling"))}),$("body").hasClass("landing-style")){var I=function setCurrentNavItem(){var e=$("#masthead nav ul li > a").get();$.each(e,function(e,t){"Packs"==$(t).html()&&"packs.js"==pageName?$(t).parent().addClass("active"):"Plans &amp; Pricing"==$(t).html()&&"plans.js"==pageName?$(t).parent().addClass("active"):"Features"==$(t).html()&&"features.js"==pageName?$(t).parent().addClass("active"):"About"==$(t).html()&&"about.js"==pageName&&$(t).parent().addClass("active")})};I()}if($("footer .footer-date").html(new Date().getFullYear()),-1<browser.ua.indexOf("Edge/12")){var M=$("<div class=\"ms-edge-notice the-banner-notice\"><div class=\"container\"><p class=\"the-notice\">Osmosis uses advanced browser features that may not be available in your browser. Please let us know if you experience any issues.</p></div></div>");$("body").addClass("ms-edge banner-notice").prepend(M)}if($("body").hasClass("page-backend")||window.userID||!window.localStorage||"true"===window.localStorage.acceptedCookieNotice||fs.mixAppend($("body"),"ui/CookieNotice",{showNotice:!0}),window.user&&!window.user.latestTerms&&$("body").hasClass("page-backend")&&fs.mixAppend($("body"),"ui/PrivTermNotice",{}),pageName&&"upload.js"!=pageName&&$(document).create(".plupload",function(e){$(e.target).addClass("hidden")}),window.onbeforeunload=function(){return window.runUnsavedWorkChecks()},$(document).keydown(function(t){83==t.which&&(t.ctrlKey||t.metaKey)&&saveUnsavedWork(t)}),!window.userID&&(window.userObj=window.userObj||getUserObj(),window.userObj&&!window.userObj.fromYoutube())){var O=c.select({name:"Prompt visitor type",a:!0,b:!1,labels:{a:"Shows the visitor the prompt.",b:"Does not show the visitor the prompt."},descr:"Test that asks a new visitor whether they're a \"student\" or \"other.\""});if(O&&!localStorage.getItem("visitorType")){var A=!1,P=["/learn/","/library"];for(var a in P)-1<window.location.pathname.indexOf(P[a])&&(A=!0);A&&openVisitorTypeDialog()}}},window.getSelectionText=function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},window.addWikiTerms=function(e){dialog("ui/dialogs/ManageWikiTerms",function(t){e&&e($(".wikiTermInput",t.dom).val())},{text:window.getSelectionText()})},window.goFullscreen=function(){$("#OuterContainer").addClass("hidden"),$("#Footer").addClass("hidden"),$("#Fullscreen").removeClass("init")};var b={prop:["Altfield","Altformat","Appendtext","Autosize","Buttonimage","Buttonimageonly","Buttontext","Changemonth","Changeyear","Closetext","Constraininput","Currenttext","Dateformat","Daynames","Daynamesmin","Daynamesshort","Defaultdate","Duration","Firstday","Gotocurrent","Hideifnoprevnext","Isrtl","Maxdate","Mindate","Monthnames","Monthnamesshort","Navigationasdateformat","Nexttext","Numberofmonths","Prevtext","Selectothermonths","Shortyearcutoff","Showanim","Showbuttonpanel","Showcurrentatpos","Showmonthafteryear","Showon","Showoptions","Showothermonths","Showweek","Stepmonths","Weekheader","Yearrange","Yearsuffix"],name:["altField","altFormat","appendText","autoSize","buttonImage","buttonImageOnly","buttonText","changeMonth","changeYear","closeText","constrainInput","currentText","dateFormat","dayNames","dayNamesMin","dayNamesShort","defaultDate","duration","firstDay","gotoCurrent","hideIfNoPrevNext","isRTL","maxDate","minDate","monthNames","monthNamesShort","navigationAsDateFormat","nextText","numberOfMonths","prevText","selectOtherMonths","shortYearCutoff","showAnim","showButtonPanel","showCurrentAtPos","showMonthAfterYear","showOn","showOptions","showOtherMonths","showWeek","stepMonths","weekHeader","yearRange","yearSuffix"]};e.run=function(e){function initOffClickListener(t,a){$(document).on("click",function(s){0==$(s.target).closest(t).length&&a.addClass("hidden")})}function addMobileMoreSection(){if($("#main-control-bar").addClass("mobile-height"),0==$("#main-control-bar .mobile-more-section").length||""==$("#main-control-bar .mobile-more-section").html()){var e=$("#main-control-bar .primary-section .secondary-list ul"),t=$("#main-control-bar .secondary-section .list-section ul");if(e.addClass("primaryItems"),t.addClass("secondaryItems"),$("#main-control-bar .mobile-more-section").length){var a=$("#main-control-bar .mobile-more-section");a.show()}else{var a=$("<div class=\"mobile-more-section\"></div>");$(document).on("click","#main-control-bar .mobile-more-section",function(){$("#main-control-bar .more-dropdown").hasClass("hidden")?$("#main-control-bar .more-dropdown").removeClass("hidden"):$("#main-control-bar .more-dropdown").addClass("hidden")})}var s=$("<div class=\"more-dropdown hidden\"><div class=\"primaryItems\"><ul></ul></div><div class=\"secondaryItems\"><ul></ul></div>");s.css("height",$(window).height());var o=$("<i class=\"fa fa-ellipsis-h more-icon\"></i>");return a.append(o).append(s),$("#main-control-bar .primary-section .secondary-list").append(a),!0}return!1}function addItemToMobileMoreSection(e,t,a){a=a||"append";var s=$("#main-control-bar .list-section.secondary-list .more-dropdown ."+t+"Items ul");"append"===a?s.append(e):s.prepend(e)}function handleControlbarHeight(){if($("#main-control-bar").removeClass("mobile-height"),0<$("#main-control-bar .mobile-more-section").length){var e=$("#main-control-bar .primaryItems"),t=$("#main-control-bar .secondaryItems");e.removeClass("primaryItems"),t.removeClass("secondaryItems"),$("#main-control-bar .primary-section .secondary-list .non-mobile-items").append($("li",e)),$("#main-control-bar .secondary-section .list-section .non-mobile-items").append($("li",t)),$("#main-control-bar .mobile-more-section").html("").hide()}$("#main-control-bar").height()-$("#main-control-bar .primary-section").height();for(var a=$("#main-control-bar"),s=$("#main-control-bar .primary-section"),o=$("#main-control-bar .anchor-section"),d=$("#main-control-bar .secondary-section"),n=$("#main-control-bar .primary-section .list-section.secondary-list .non-mobile-items li"),l=$("#main-control-bar .secondary-section .list-section .non-mobile-items li"),c=function toolsOverlapping(){return 0<n.length&&0>=a.height()-s.outerHeight(!0)-o.outerHeight(!0)-d.height()},p=function secondaryToolsOverlapping(){return 0===n.length&&0<l.length&&0>=a.height()-s.outerHeight(!0)-o.outerHeight(!0)-d.height()};c();)addMobileMoreSection(),addItemToMobileMoreSection($(n[n.length-1]),"primary","prepend"),n=$("#main-control-bar .primary-section .list-section.secondary-list .non-mobile-items li");for(;p();)addMobileMoreSection(),addItemToMobileMoreSection($(l[0]),"secondary","append"),l=$("#main-control-bar .secondary-section .list-section .non-mobile-items li")}function handleMasterDropdown(){var e=$("header#masthead").outerHeight(),t=$("#main-control-bar .master-dropdown"),a=$(window).height()-e;a<=t.outerHeight()?t.addClass("locked-height").css("height",a):t.removeClass("locked-height").css("height","")}function mixpanelSetPeopleData(){window.user&&mixpanel.people.set({$email:window.user.email,$created:window.user.join,isPrime:0<user.prime.status})}function getLoginAuthMode(){var e="";return window.Storage&&(e=window.localStorage.getItem("login:authMode")||"email"),e}checkQueryString(),ko.validation.configure({registerExtenders:!0,messagesOnModified:!0,insertMessages:!1,parseInputAttributes:!0,messageTemplate:null}),$(document).create(".chosen-sel",function(e){var t=$(e.target);""==t.css("width")?t.chosen({disable_search_threshold:10}):t.chosen({width:"100%",disable_search_threshold:10});var a=t.data("init");a&&a(t)}),$(document).create(".datepicker",function(e){var t=$(e.target),a={};for(var s in b.prop)t.data().hasOwnProperty("dp".concat(b.prop[s]))&&(a[b.name[s]]=t.data("dp".concat(b.prop[s])));t.hasClass("dmy")?t.datepicker(a):t.hasClass("day-month")?t.datepicker(_objectSpread({altField:"#altDateField",altFormat:"mm/dd",dateFormat:"MM d",onSelect:function onSelect(){$(this).trigger("input"),$("#altDateField").trigger("input")},beforeShow:function beforeShow(t,a){a.dpDiv.addClass("no-year-date-picker")},onClose:function onClose(t,a){a.dpDiv.removeClass("no-year-date-picker")}},a)):t.datepicker(_objectSpread({dateFormat:"yy-mm-dd"},a))}),$(document).create(".chosen-searchsel",function(e){var t=$(e.target);t.chosen();var a=t.data("init");a&&a(t)}),$(document).destroy(".DragDrop",function(){console.debug("destroyed")}),$(document).create(".make-switch",function(e){var t=$(e.target);t.bootstrapSwitch()}),window.rewriteTabURL=function(e){return e},"index.js"==pageName&&$(document).create(".tabNavLink",function(e){var t=$(e.target);t.click(function(a){a.preventDefault(),tabToURL(window.rewriteTabURL(t.attr("href")))})}),$(document).create(".switchGroupModuleLink",function(e){var t=$(e.target);t.click(function(t){t.preventDefault(),dialog("ui/dialogs/ClassGroupNavDialog",function(){})})}),$(document).on("keydown",function(t){var e=t.keyCode||t.which;9==e&&window.onTab&&(t.preventDefault(),window.onTab())}),$(document).create(".ajax-loader",function(e){var t=$(e.target),a=$("<div class=\"center\" style=\"width: 150px; height: 150px\">"+n+"</div>");t.before(a),t.bind("fs.ajax-loaded",function(){a.remove(),t.css("display","inherit")})}),$(document).create(".spin-loader-lg",function(e){var t=$(e.target),a=$("<div class=\"center\" style=\"width: 150px; height: 150px\">"+n+"</div>");t.addClass("center"),t.append(a)}),$(document).create(".loading-ring",function(e){var t=$(e.target);t.append("<div class=\"loading-ring-css center\" style=\"transform: scale(0.4)\"><div></div></div>")}),$(document).create(".get-prime-action",function(e){var t=$(e.target);t.addClass("btn").addClass("btn-primary").addClass("btn-lg"),window.user.prime?0==window.user.prime.status?t.append(" Test Drive Prime"):2==window.user.prime.status?t.append(" Get Osmosis Prime"):-1==window.user.prime.status&&t.append(" Get Osmosis Prime"):t.append(" Test Drive Prime"),t.click(function(){0==window.user.prime.status?fs.post("primeStartFreeTrial",{},function(){slack.activity("Joined Prime"),window.location.reload()}):window.location.href="/store"})}),window.contactOsmosis=function(e){return function(){fs.post("userRequest",{subject:e,clicked:"Group "+groupID+(navData.group?" ("+navData.group.name+")":""),fullstory:window.fullstorySession},function(){}),dialog("ui/dialogs/AmbassadorForm",function(){},{subject:e})}},window.contactForDemo=function(){return function(){dialog("ui/dialogs/SchoolDemo",function(){},{})}},window.notifyOsmosis=function(e,t){t?fs.post("userRequest",{subject:e,message:t,fullstory:window.fullstorySession},function(){}):fs.post("userRequest",{subject:e,clicked:"Group "+groupID+(navData.group?" ("+navData.group.name+")":"")},function(){})},fs.mixAppend("#Content",e),$(document).trigger("Page.Rendered"),window.conceptQuiz&&(showFullscreenLoading(),t("ui/conceptQuiz").buildQuiz(window.conceptQuiz));var a=new Promise(function(e){window.user&&0<$("body.template-common").length&&(window.mainHeader=fs.mixAppend($("header#masthead .main-header"),"ui/MainHeader",{}),window.slideoutSidebar=fs.mixAppend($("main #slideout-sidebar"),"ui/Sidebar",{}),window.saleBanner=fs.mixAppend($("body.page-backend .notifications"),"ui/SaleBanner"),e(!0))});if($(document).create(".mainPageColumn",function(e){d.setColumnResponsiveClass(e.target)}),$(document).create("#main-control-bar .anchor-section",function(t){$(t.target).on("click",function(){$(".master-dropdown").hasClass("hidden")?($(".master-dropdown").removeClass("hidden"),initOffClickListener($("#main-control-bar .anchor-section"),$(".master-dropdown")),handleMasterDropdown()):$(".master-dropdown").addClass("hidden")})}),$("body").hasClass("page-backend")){d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),d.setResponsiveClass(),handleControlbarHeight(),handleMasterDropdown(),setTimeout(function(){d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),d.setResponsiveClass()},2e3);var s=_.debounce(function(){d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),d.setResponsiveClass(),d.setColumnResponsiveClass(),handleControlbarHeight(),handleMasterDropdown()},500);$(window).resize(s),$(document).on("TabNav.OnEndNavigate",function(){d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),d.setResponsiveClass(),d.setColumnResponsiveClass()})}window.successMsg&&fs.alert(successMsg,"Success!","success");try{var o=-1!=[256,257,4005].indexOf(window.userID);o?window.localStorage.setItem("blockTracking","block"):o="block"==window.localStorage.getItem("blockTracking")}catch(t){}if(!window.userID||-1!=window.serverURL.search("localhost")||o||window.blockFullstory||(window._fs_debug=!1,window._fs_host="www.fullstory.com",window._fs_org="LG4",function(a,s,d,e,t,n,l,c){l=a[d]=function(e,t){l.q?l.q.push([e,t]):l._api(e,t)},l.q=[],n=s.createElement(e),n.async=1,n.src="https://"+_fs_host+"/s/fs.js",c=s.getElementsByTagName(e)[0],c.parentNode.insertBefore(n,c),l.identify=function(e,a){l(t,{uid:e}),a&&l(t,a)},l.setUserVars=function(e){FS(t,e)},l.setSessionVars=function(e){FS("session",e)},l.setPageVars=function(e){FS("page",e)}}(window,document,"FS","script","user"),console.log("started fs"),FS.identify(userID,{displayName:window.user?user.first+" "+user.last:null,email:window.user?user.email:null}),window._fs_ready=function(){window.fullstorySession=FS.getCurrentSessionURL(),fs.post("logFullstorySession",{sessionUrl:window.fullstorySession})}),window.isSinglePageApp||window.trackPageView(),!window.mixpanel)window.mixpanel={track:function track(){},people:{}},mixpanel.people.track_charge=function(){};else if(0<window.userID){if(!window.Storage)mixpanel.identify(window.userID),mixpanelSetPeopleData();else if(window.localStorage.getItem("mixpanel:newAccountHit")){var c=window.localStorage.getItem("mixpanel:trackingID");mixpanel.identify(c),mixpanel.alias(window.userID),window.localStorage.removeItem("mixpanel:newAccountHit"),mixpanelSetPeopleData(),analytics.track("Create Account",{app:"web",auth_mode:getLoginAuthMode()}),m.track("sign_up",{method:getLoginAuthMode()})}else mixpanel.identify(window.userID),mixpanelSetPeopleData();}else if(!window.Storage);else if(window.localStorage.getItem("mixpanel:trackingID"))mixpanel.identify(window.localStorage.getItem("mixpanel:trackingID"));else{var p=generateTrackingHash();window.localStorage.setItem("mixpanel:trackingID",p),mixpanel.identify(p)}if(0<window.userID&&calculateStreak(),0<window.userID&&window.keen&&window.Storage&&window.localStorage.getItem("keen:trackingID")){var u={app:"web",auth_mode:getLoginAuthMode(),uuid:window.localStorage.getItem("keen:trackingID")};keen.track("login",u),window.localStorage.removeItem("keen:trackingID")}l.registerHotkeys(),$(".add-tools").click(function(){dialog("ui/dialogs/ToolSelector")}),a.then(function(){d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),d.setResponsiveClass()})}}),define("core.ui",function(e){e.resizeTab=function(){e.setScrollableHeights(),e.setMobileOnlyScrollableHeights()},e.getHeight=function(){var e=$(window).outerHeight(),t=$("body").hasClass("banner-notice")?$(".the-banner-notice").outerHeight():0,a=$("header#masthead").is(":visible")?$("header#masthead").outerHeight():0,o=$(".tab-nav-menu").is(":visible")?$(".tab-nav-menu").outerHeight():0,s=$(".main-status-bar").is(":visible")?$(".main-status-bar").outerHeight():0,d=$(".ui-TabOnboarding .banner-mode").is(":visible")?$(".ui-TabOnboarding .banner-mode").outerHeight():0,n=$("body").hasClass("top-banner-active")?$("body > .notifications").height():0;return e-(a+t+o+d+s+n)},e.getNoHeaderHeight=function(){var e=$(window).outerHeight(),t=$("body").hasClass("banner-notice")?$(".the-banner-notice").outerHeight():0,a=$(".main-status-bar").is(":visible")?$(".main-status-bar").outerHeight():0,s=$(".ui-TabOnboarding .banner-mode").is(":visible")?$(".ui-TabOnboarding .banner-mode").outerHeight():0;return e-(t+s+a)},e.setMobileOnlyScrollableHeights=function(){var t=e.getHeight(),a=$(".scrollable-mobile").get();for(var s in a){if(992>$(window).width()?$(a[s]).css("height",t+"px"):$(a[s]).css("height",""),$("#app-banner").is(":visible")){var o=$("#app-banner").outerHeight();$(a[s]).css({"padding-bottom":o+"px"})}else $(a[s]).css({"padding-bottom":""})}$(document).trigger("ui.heightChanged")},e.updateFrame=function(){var e=$("body").hasClass("top-banner-active")?$("body > .notifications").height():0;0<e?$("#fullpage-wrapper").css("top",e):$("#fullpage-wrapper").css("top","")},e.setScrollableHeights=function(){e.updateFrame();var t=e.getHeight(),a=e.getNoHeaderHeight(),s=$(".scrollable").get();for(var o in s){var d=t,n=a;if($(s[o]).hasClass("scrollable-custom-value")&&(d+=+$(s[o]).attr("data-scv"),n+=+$(s[o]).attr("data-scv")),$(s[o]).hasClass("no-header-height")?$(s[o]).css("height",n+"px"):$(s[o]).css("height",d+"px"),$("#app-banner").is(":visible")){var l=$("#app-banner").outerHeight();$(s[o]).css({"padding-bottom":l+"px"})}else $(s[o]).css({"padding-bottom":""})}$(document).trigger("ui.heightChanged")},e.setResponsiveClass=function(){var e=[{class:"phone",point:480},{class:"phone-lg",point:768},{class:"tablet",point:992},{class:"tablet-lg",point:1200},{class:"computer",point:5e3}],t=$(window).width();$.each(e,function(a,s){previous=0==a?0:e[a-1].point,t<s.point&&t>previous&&($("body").removeClass("phone").removeClass("phone-lg").removeClass("tablet").removeClass("tablet-lg").removeClass("computer"),$("body").addClass(s.class))})},e.setColumnResponsiveClass=function(e){var t=[{class:"parent-el-col-xxxs",min:0},{class:"parent-el-col-xxs",min:320},{class:"parent-el-col-xs",min:480},{class:"parent-el-col-sm",min:768},{class:"parent-el-col-md",min:992},{class:"parent-el-col-lg",min:1200}],a=null==e||e==null?$(".mainPageColumn").get():[e];for(var s in a){var d=$(a[s]).width();$.each(t,function(e,n){next=e+1==t.length?5e3:t[e+1].min,d>n.min&&d<next?($(a[s]).addClass(n.class),$("[mixed=\"mixed\"]",$(a[s])).addClass(n.class)):($(a[s]).removeClass(n.class),$("[mixed=\"mixed\"]",$(a[s])).removeClass(n.class))})}}}),define("core.util",function(e,t){var a=t("data");e.newNode=function(e,t){switch(e){case 0:switch(t){case 5:return a.Lecture;break;default:return a.Node;}break;case 1:return a.Node;break;case 2:switch(t){case 4:return a.Slide;break;default:return a.Node;}break;case 3:return a.Node;break;case 4:return a.Atom;break;case 5:switch(t){case 1:return a.MultipleChoiceQues;break;case 2:return a.TFQues;break;case 3:return a.MultipleCheckboxQues;break;case 4:return a.LabelMatchingQues;break;case 5:return a.FlashcardQues;break;case 6:return a.TableFlashcardQues;break;case 7:return a.FactoidQues;break;default:return a.Node;}break;default:return a.Node;}},e.JSONToNodes=function(t){var a=[],s=0;for(var o in t){s=t[o].length;break}for(var d=0;d<s;d++){var n=e.newNode(t.type[d],t.subtype[d]),l=new n;for(var o in t){var c=t[o][d];"function"==typeof l[o]?l[o](isNaN(c)?c:+c):l[o]=isNaN(c)?c:+c}l.init(),a.push(l)}return a},e.JSONToData=function(e,t,a){var s=[];t||(t=TDataObj);var o=0;for(var d in e){o=e[d].length;break}for(var n=0,l;n<o;n++){for(var d in l=new t,e){var c=e[d][n];"function"==typeof l[d]?l[d](isNaN(c)||""==c?c:+c):l[d]=isNaN(c)||""==c?c:+c}l.init(a),s.push(l)}return s},e.nodePath=function(e){if(!isLocal()||!0){var t=e.data();return mediaServer+"/"+t.$+"/"}return"/node/"+e.nodeID+"/"},e.nodePathS3=function(e){if(!isLocal()||!0){var t=e.data();return mediaServerS3+"/"+t.$+"/"}return"/node/"+e.nodeID+"/"},e.nodeAddr=function(e){return mediaServer+"/"+e.data.$},e.PDFPath=function(){return isLocal()?"":"_.pdf"},e.quesTypes={1:{N:"Multiple Choice",C:"MultipleChoiceQues"},2:{N:"True/False",C:"TFQues"},3:{N:"Multiple Checkbox",C:"MultipleCheckboxQues"},4:{N:"Label Matching",C:"LabelMatchingQues"},5:{N:"Flashcard",C:"FlashcardQues"},6:{N:"Table Flashcard",C:"TableFlashcardQues"},7:{N:"Fill-in Factoid",C:"FactoidQues"}},e.getQuesTypeNames=function(){var t=[];for(var a in e.quesTypes)t.push(e.quesTypes[a].N);return t},e.newQues=function(t){return 0<t&&5>=t?new a[e.quesTypes[t].C]:null},e.newQuesFromDB=function(e){var t=newQues(e.subtype);return copyObj(e,t),t.created=dateFromUTC(t.created,"-",4),t.tags=[],t.resp={},t.resp.correct=-1,t.resp.confidence=0,t.resp.rating=0,t.userID=parseInt(t.userID),10<t.ratingCount?t.rating/=t.ratingCount:t.rating=2,t},e.newQuesFromClone=function(e){var t=new e.constructor;return t.nodeID=0,t.data={},t.cloneSource=e,copyObj(e.data,t.data),t.userID=userID,t.created=e.created,t},e.showImg=function(e){$("#Img"+e+"Thumbnail").html("<img src=\"ajax/getimage.php?m="+MID+"&q="+e+"&t=T&"+escape(new Date)+"\"/>")},e.createClone=function(e){var t=newQues(e.subtype);return t.clone(e),t},e.newComment=function(e,t){var s=new a.Comment;return s.quesID=e,s.comment=t.c,s.category=t.cat,s.userID=userID,s.postedOn=dateFromUTC(t.t,"-",4),s},e.newCommentDiv=function(e,t){var a=$("<div class=\"CommentDiv\"></div>").appendTo(e);a.append("<div class=\"mtm fwb\">Comments (<span class=\"CommentCount\">"+t+"</span>)</div>");$("<div class=\"mlm CommentText\"></div>").appendTo(a);return a},e.eventSort=function(e,t){var a=e.begin().getTime(),s=t.begin().getTime();return a>s?-1:a<s?1:0},e.slideSort=function(e,t){return e.pos<t.pos?-1:e.pos>t.pos?1:0},e.lectureSort=function(e,t){var a=e.begin.getTime(),s=t.begin.getTime();return a<s?-1:a>s?1:0},e.sortModulesDescending=function(e,t){var a=e.startsOn.getTime(),s=t.startsOn.getTime();return a>s?-1:a<s?1:0},e.getVideoFilenames=function(e){var t=e.split("|");for(var a in t)t[a]=$.trim(t[a]);return t},e.detectMouseMovement=function(){autosave()}}),define("data.index",function(){}),define("models.BasicNode",function(e,t,a){a.exports=function BasicNode(){this;this.type=ko.observable(),this.subtype=ko.observable(),this.data=ko.observable(),this.status=ko.observable(),this.linksTo=ko.observableArray(),this.linksFrom=ko.observableArray()}}),define("models.Comment",function(e,t,a){function Comment(e){var t=this;fs.setModel(this,"comment",e),this.node=ko.computed(function(){return nodeIndex[t.nodeID()]}),this.user=s.is(t.userID),this.editCount=ko.observable(1),this.replies=ko.observableArray()}var s=t("app/who"),o=t("app/module");Comment.prototype.organize=function(){var e=this;if(e.replyID()){var t=fs.getIndex("comment"),a=t[e.replyID()];a?a.replies.push(e):console.error("A comment reply cannot find its original comment!")}else{var s=nodeIndex[e.nodeID()];if(s){var o=s.comments();if(1==e.category()&&o.length&&1==o[o.length-1].category()){var d=o[o.length-1].editCount();s.comments.remove(o[o.length-1]),s.comments.push(e),e.editCount(d+1)}else s.comments.push(e)}}},Comment.prototype.maxCommentTime=function(){var e=this.postedOn().getTime();if(1<this.category()){var t=this.replies();for(var a in t){var s=t[a].maxCommentTime();s>e&&(e=s)}return e}return 0},a.exports=Comment}),define("models.CommentView",function(e,t,a){function metric(e){return 1e3<=Math.abs(e)?Math.round(e/100)/10+"k":e}function CommentView(e,t){var a=this;this.comment=t.model,this.args=t,this.hideReason=ko.observable("category"in t),"category"in t&&this.comment.category(t.category),this.voteLinkVisible=ko.observable(!1),this.__bindEditable(),this.wantsVotes=ko.computed(function(){return!a.__editing()&&1!=a.comment.category()}),this.voteStr=ko.computed(function(){var e=a.comment.votes();return 0<e?"+"+metric(e):metric(e)}),this.descr=ko.computed(function(){var e=a.comment.category();if(1==e){var t=a.comment.editCount();return 1<t?d[e]+" "+t+"x":d[e]}return d[e]}),this.postedOnStr=ko.computed(function(){return $("<span>"+a.comment.postedOn()+"</span>").cuteTime().html()}),this.removed=ko.observable(!1),this.responseTo=ko.observable(),this.retracted=ko.computed(function(){return 4==a.comment.status()}),this.wantsOpinionFeedback=ko.computed(function(){var e=a.comment.category();return a.comment.userID()!=userID&&1!=e&&!a.__editing()}),this.isOrigPoster=ko.computed(function(){return a.comment.userID()==userID&&!a.__editing()&&1!=a.comment.category()}),this.reasonStr=ko.observable(2==t.category?12:0),e(this),this.replyList=fs.mixList(this,".replyList").source("comment","models/CommentView",{source:this.comment.replies}),this.avatar=fs.mix(this,"ui/Avatar",{userID:a.comment.userID,userName:a.comment.user})}var s=t("ajax/NodeOps"),o=[0,3,0,5,6,0,7,8,9,10,11,0,2],d={1:"Question was edited",2:"",3:"",4:"",5:"posted a mnemonic",6:"posted additional info",7:"thinks this might not be correct",8:"(typo/spelling error)",9:"thinks this is difficult to understand",10:"thinks this is not relevant",11:"thinks this is too long/detailed",12:"is following up",13:"",14:"",15:"",16:""};CommentView.prototype.postComment=function(){if(0==this.comment.replyID())if(this.reasonStr())this.comment.category(o[this.reasonStr()]);else return fs.alert("Please specify a reason for the comment.");this.comment.comment()?this.__save():alert("Please write a comment.")},CommentView.prototype.postResponse=function(e){var t=this.replyList.add(null,{category:this.args.category});if(!t)throw new Error("Failed posting response to comment "+this.comment.commentID);t.comment.nodeID(this.comment.nodeID()).userID(userID).replyID(this.comment.commentID).category(e).MID=this.comment.MID,goToByScroll(t.dom),t.__editing(!0)},CommentView.prototype.cancel=function(){jumpTo($(".ActionLinks",this.parent.parent.dom)),this.__cancel()},CommentView.prototype.voteUp=function(){s.changeCommentVote(this.comment,1,this.comment.MID)},CommentView.prototype.voteDown=function(){s.changeCommentVote(this.comment,-1,this.comment.MID)},CommentView.prototype.agree=function(){this.postResponse(13)},CommentView.prototype.disagree=function(){this.postResponse(14)},CommentView.prototype.respond=function(){this.postResponse(4)},CommentView.prototype.followup=function(){this.postResponse(12)},CommentView.prototype.retract=function(){this.comment.status(4),s.changeCommentStatus(this.comment.commentID,4)},CommentView.prototype.unretract=function(){this.comment.status(1),s.changeCommentStatus(this.comment.commentID,1)},CommentView.prototype.removeComment=function(){var e=this;confirm("Are you sure you want to remove this comment and all its replies (this action cannot be undone)?")&&fs.post("adminRemoveComment",{commentID:e.comment.commentID},function(){e.removed(!0)})},CommentView.prototype.toggleVoteLink=function(e){var t=this;return function(){t.voteLinkVisible(e)}},a.exports=fs.makeEditable(CommentView)}),define("models.CourseDocView",function(e,t,a){function formatDocFilename(e,t){var a=e.docLinks.length,s=e.begin();return 1<a?s.toString("20yyMMdd_ddd")+" - "+e.title()+" - "+e.instructor()+" Doc "+(+t+1):s.toString("20yyMMdd_ddd")+" - "+e.title()+" - "+e.instructor()}function printTime(e){return 24<moment().diff(e,"hours")?e.format("ddd MMM DD @ ha"):e.format("@ ha")}var s=t("core/util"),o=t("app/module"),d=t("models/Node"),n=function CourseDocView(e,t){var a=this;this.dom=t.dom,this.node=t.model,this.mode=t.parent.parent.parent.parent.mode,this.hasVideo=ko.observable(!!this.node.data().v),this.focusURL=ko.computed(function(){return"/open/"+a.node.nodeID}),this.nodeID=ko.observable(this.node.nodeID),this.watchURL=ko.computed(function(){return"/open/"+a.node.nodeID+"&watch"}),this.pdfURL=ko.computed(function(){return s.nodePath(a.node)+"_.pdf"}),this.pdfTitle=ko.computed(function(){return formatDocFilename(t.parent.parent.event,t.parent.items.length)}),this.origFilename=ko.computed(function(){var e=a.node.data();return e?e.s:""}),this.tooltip=ko.computed(function(){return a.origFilename()+" uploaded "+printTime(moment(a.node.modified()))}),this.docIcon=ko.computed(function(){var e=a.origFilename(),t=e.substring(e.lastIndexOf(".")+1);return"pdf"==t?"fa-file-pdf":"ppt"==t||"pptx"==t?"fa-file-powerpoint":"doc"==t||"docx"==t?"fa-file-word":"fa-file"}),this.origExt=ko.computed(function(){var e=a.origFilename(),t=e.substring(e.lastIndexOf(".")+1);return t.toUpperCase()}),this.origURL=ko.computed(function(){var e=a.origFilename(),t=e.substring(e.lastIndexOf(".")+1);return s.nodePath(a.node)+"orig."+t.toLowerCase()}),this.processingMessage=ko.computed(function(){return a.origExt()+"s take about "+("PDF"==a.origExt()?"1 minute":"2-3 minutes")+" to analyze. <br>You can continue to upload docs while you wait or even start a quiz and come back here later."}),this.processing=ko.observable(!0),this.processingProgress=ko.observable(0),this.deletingDoc=ko.observable(),this.readyForViewing=this.node.docstep?ko.observable(this.node.docstep.readyForViewing()):ko.observable(!0),this.thumbnailURL=ko.computed(function(){return a.readyForViewing()?s.nodePath(a.node)+"thumb.png":""}),this.hasFailed=ko.computed(function(){return a.node.docstep&&"failed"==a.node.docstep.status()}),this.readyForViewing()||(this.needsSlides=!0,!this.hasFailed()&&this.pollForStatus()),a.node.docstep&&"pending"==a.node.docstep.status()&&a.runProgress("PDF"==a.origExt()?45:120),ko.computed(function(){var e="",t=a.node.docstep;if(t){t.status();a.readyForViewing()?a.readyForViewing(a.node.docstep.readyForViewing()):a.node.docstep.readyForViewing()&&a.needsSlides&&(a.needsSlides=!1,MID&&fs.post("getDocTree",{m:MID,nodeID:a.node.nodeID},function(e){var t=fs.transpose(e.tree);for(var s in t)if(!(t[s].nodeID in nodeIndex)){var n=new d(t[s].nodeID);n.type(2).subtype(4),nodeIndex[n.nodeID]=n,t[s].parentID=a.node.nodeID,o.updateTree(t[s])}}),a.parent.parent.parent.parent.onDocProcessed&&a.parent.parent.parent.parent.onDocProcessed(a.node.nodeID),a.processingProgress(100),setTimeout(function(){a.readyForViewing(!0)},2e3))}else e="";a.updateProcessingStatus(e)}),this.canAddVideo=ko.observable(0<role&&3>=role&&FEATURES.media),this.addingVideo=ko.observable(),this.videoLink=ko.observable("v"in this.node.data()?this.node.data().v:""),e(this),$(".processingBar",this.dom).tooltip()};n.prototype.pollForStatus=function(){var e=this;setTimeout(function(){e.refreshStatus()},5e3)},n.prototype.refreshStatus=function(){var e=this;console.log("polling"),fs.post("checkDocumentStatus",{m:MID||this.node.MID,nodeID:this.node.nodeID},function(t){e.node.docstep&&(e.node.docstep.status(t.status),"pending"==e.node.docstep.status()&&e.pollForStatus())})},n.prototype.updateProcessingStatus=function(e){$(".processingBar",this.dom).attr("data-original-title")?$(".processingBar",this.dom).attr("data-original-title",e):$(".processingBar",this.dom).attr("title",e)},n.prototype.addVideo=function(){this.addingVideo(!0)},n.prototype.saveVideo=function(){var e=this;$.post("/set_lecture_vid",{m:MID,n:this.node.nodeID,v:this.videoLink()},function(){e.addingVideo(!1)})},n.prototype.moveDoc=function(){dialog("ui/dialogs/MoveDocument",function(){},{doc:this.node})},n.prototype.deleteDoc=function(){function deleteDoc(t){e.deletingDoc(!0);e.node.getEventLink();fs.post("removeDocument",{g:groupID,m:MID||e.parent.parent.event.MID(),nodeID:e.node.nodeID},function(){location.reload()},function(e){fs.alert(e.error.msg,function(){t()})})}var e=this;this.hasFailed()?deleteDoc():fs.confirm("Are you sure you want to delete this document?","Delete Doc","danger",function(e){deleteDoc(e)})},n.prototype.superDeleteDoc=function(){function deleteDoc(t){e.deletingDoc(!0);e.node.getEventLink();fs.post("superRemoveDocument",{g:groupID,m:MID||e.parent.parent.event.MID(),nodeID:e.node.nodeID},function(){location.reload()},function(e){fs.alert(e.error.msg,function(){t()})})}var e=this;this.hasFailed()?deleteDoc():fs.confirm("Are you sure you want to delete this document?","Delete Doc","danger",function(e){deleteDoc(e)})},n.prototype.goToURL=function(){window.location=this.focusURL()},n.prototype.runProgress=function(e){var t=this,a=setInterval(function(){t.processingProgress(t.processingProgress()+90/(10*e)),90<=t.processingProgress()&&clearInterval(a)},100)},a.exports=n}),define("models.CourseEventView",function(e,t,a){var s=template("ui/EditEventDialog"),o=t("ajax/NodeOps"),d=t("app/timezone"),n=t("app/group"),l=t("shared/canonical"),c=function CourseEventView(e,t){var a=this;this.style=ko.observable(t.style||"list"),this.event=t.model,this.mode=ko.observable("edit"),this.contributorHintVisible=ko.observable(!1),this.eventWasCompleted=this.event.completed,this.hasOfficialQuiz=ko.computed(function(){var e=a.event.quesLinks();if(0<e.length){if(GROUP.owner)return!0;for(var t in e)if(0<e[t].node.status())return!0}else return!1}),this.unpublishedOfficialQuiz=ko.computed(function(){var e=a.event.quesLinks();if(0<e.length)for(var t in e)if(0==e[t].node.status())return!0;return!1}),this.showingNewModuleForm=ko.observable(),e(this),this.list=fs.mixList(this,".docList").source("node","models/CourseDocView",{source:this.event.docs});this.moduleCreateForm=fs.mix(this,"ui/EditableModule"),$(".officialQuizBtn",this.dom).tooltip()};c.prototype.showContributorHint=function(){this.contributorHintVisible(!0)},c.prototype.hideContributorHint=function(){this.contributorHintVisible(!1)},c.prototype.markEvent=function(){var e=this;this.eventWasCompleted(!this.eventWasCompleted()),fs.post("markEvent",{g:groupID,m:MID,e:this.event.eventID,comp:this.eventWasCompleted()?1:0},function(){e.eventWasCompleted()?$(".calendarEvent"+e.event.eventID).addClass("completed"):$(".calendarEvent"+e.event.eventID).removeClass("completed")})},c.prototype.explainGroupEvents=function(){fs.alert("When an event is imported from an external calendar, it appears in all modules. To make an event appear in only one module, go to the appropriate module and attach the appropriate course docs to it. Attaching course docs will commit the event to a single module.","Group Events vs Module Events","primary")},c.prototype.takeQuiz=function(){window.officialEventID=this.event.eventID,tabToURL(urlPrefix+"/review/questions")},c.prototype.publishOfficialQuiz=function(){var e=this.event.quesLinks();for(var t in e)0==e[t].node.status()&&o.changeNodeStatus(e[t].node,2)},c.prototype.learnWhy=function(){fs.alert("<b>After reading the facts, study the document like you normally would, but with a slight twist:</b> (1) You will find that slides/pages have lists of terms below them. Find any word that is new to you in the list and click on it. Read about that term on Wikipedia and then quickly cross reference First Aid. (2) If your professor emphasizes a fact that wasn't listed in the facts list, make a flashcard for it on the appropriate slide. These will be automatically tagged with cross references as well. <br><br> <b>Why does this work?</b> The brain expects to explore (it's what we did for 100,000 years in novel environments when lectures didn't exist). Give it lots of content to explore and you'll build stronger memories.","Cross-referenced Reading and Flashcards","info")},c.prototype.learnHow=function(){fs.alert("Osmosis recommends content based on what you upload and study techniques based on proven cognitive science. Many of these techniques may seem somewhat counterintuitive at first (for example, quizzing before you've even seen the material), but they've been shown to be far more effective than taking and re-reading notes.","Studying Osmosis Style","info")},c.prototype.newModule=function(){var e=this;return function(){e.showingNewModuleForm(!0),$(".modal-dialog .bootstrap-dialog-footer-buttons",e.dom.parents(".modal")).remove()}},c.prototype.importEventIntoModule=function(e){var t=this;return function(){t.event.setModule(e,function(){$.jGrowl("Event is now in "+moduleIndex[t.event.MID()].name,{life:1e3,position:"bottom-left"})})}},c.prototype.createModule=function(){var e=this;this.moduleCreateForm.action(function(){var t=e.moduleCreateForm.module;moduleIndex[t.moduleID]=t,t.url=l.url(t.name()),t.startTime=new Date(moment.tz(t.startsOn()+" 00:00:00",d.timezone())),t.endTime=new Date(moment.tz(t.examDate()+" 23:59:59",d.timezone())),n.modules.push(t),e.event.setModule(e.moduleCreateForm.module.moduleID,function(){$(".bootstrap-dialog-close-button button").trigger("click")})},function(){})},a.exports=c}),define("models.DocStep",function(e,t,a){a.exports=function DocStep(e){var t=this;this.nodeID=e,this.status=ko.observable(),this.readyForViewing=ko.computed(function(){var e=t.status();return"done"==e})}}),define("models.Event",function(e,t,a){function Event(e){function populateModulesList(){t.activeModules.removeAll();var e=+t.begin(),a=t.modules();for(var s in a){var o=a[s];+o.startTime<e&&o.endTime>e&&t.activeModules.push(o)}}function populateDocList(){t.docs.removeAll();var e=t.docLinks();for(var a in e){var s=e[a];s.status()&&t.docs.push(s.node)}}var t=this;fs.setModel(this,"event",e),ko.editable(this),e||this.descr({t:"",i:""}),this.moduleName=ko.computed(function(){if(moduleIndex){var e=t.MID();return e&&moduleIndex[e]?moduleIndex[e].name():""}return""}),this.caption=ko.computed(function(){var e=t.title(),a=t.instructor();return a?e+" - "+a:e}),this.end=ko.computed(function(){var e=t.begin();return e?new Date(e.getTime()+6e4*t.length()):null}),this.docLinks=ko.observableArray(),this.quesLinks=ko.observableArray(),this.hasAttachments=ko.computed(function(){return t.docLinks().length||t.quesLinks().length}),this.completed=ko.observable(!1),this.signUps=ko.observableArray(),this.signUpStatus=ko.computed(function(){var e=t.getLinkedQues().length;return getEventSignUpStatus(e,t.signUps)}),this.modules=o.modules,this.activeModules=ko.observableArray(),populateModulesList(),ko.computed(function(){populateModulesList()}),this.docs=ko.observableArray(),populateDocList(),ko.computed(function(){populateDocList()})}function getEventSignUpStatus(e,t){if(0<t().length){if(0==e){var a=s.usersStr(t);return"You"==a?"You are signed up for this lecture, but there are no questions yet.":-1==t().indexOf(userID)?a+" signed up for this lecture, but there are no questions yet.":a+" signed up for this lecture, but there are no questions yet."}var o="";o=1==e?" There is currently "+e+" question.":" There are currently "+e+" questions.";var a=s.usersStr(t);return"You"==a?"You are signed up for this lecture."+o:-1==t().indexOf(userID)?a+" signed up for this lecture."+o:a+" signed up for this lecture."+o}return 0==e?"There are no questions for this lecture and no one has signed up yet.":1==e?"There is "+e+" question for this lecture. No one has officially signed up yet.":"There are "+e+" questions for this lecture. No one has officially signed up yet."}var s=t("app/who"),o=t("app/group"),d=t("app/timezone");Event.prototype.getLinkedQues=function(){var e=[],t=this.docLinks();for(var a in t){var s=t[a].node;for(var o in s.children){var d=s.children[o].linksFrom();for(var n in d){var l=d[n].node;5==l.type()&&l.isActive()&&3!=l.subtype()&&6!=l.subtype()&&e.push(d[n].node.nodeID)}}}return e};var n={1:!0,2:!0,4:!0},l={5:!0,7:!0};Event.prototype.getQuesCounts=function(){var e={ques:{created:0,ans:0},fc:{created:0,ans:0},quiz:{created:0,ans:0}},t=this.getLinkedQues();for(var a in t){var s=nodeIndex[t[a]];(1==s.status()||2==s.status())&&(n[s.subtype()]?(e.ques.created++,7>s.accConfBin&&e.ques.ans++):l[s.subtype()]&&(e.fc.created++,7>s.accConfBin&&e.fc.ans++))}var o=this.quesLinks();for(var a in o){var d=o[a].node;(1==d.status()||2==d.status()||0==d.status()&&GROUP.admin)&&5==d.type()&&d.isActive()&&3!=d.subtype()&&6!=d.subtype()&&(e.quiz.created++,7>d.accConfBin&&e.quiz.ans++)}return e},Event.prototype.getLinkedQuiz=function(){var e=[],t=this.quesLinks();for(var a in t){var s=t[a].node;5==s.type()&&s.isActive()&&3!=s.subtype()&&6!=s.subtype()&&e.push(s.nodeID)}return e},Event.prototype.quesCount=function(){var e=this.getLinkedQues();return e.length},Event.prototype.signup=function(e){var t=this;fs.confirm("You're awesome! Click OK to confirm the signup and please try to write questions within 48 hours of the lecture.",function(a){fs.post("signup",{g:groupID,m:MID,e:t.eventID},function(){t.signUps.push(userID),a(),e&&e()})})},Event.prototype.setModule=function(e,t){var a=this;fs.post("assignEventToModule",{m:e,eventID:this.eventID},function(e){a.MID(e.MID),t&&t()})},Event.prototype.checkEvent=function(e){var t=this;this.eventID?e():fs.post("createEmptyEvent",{g:window.groupID,time:+this.begin()},function(a){eventIndex[a.eventID]=t,t.eventID=a.eventID,t._eventID(a.eventID),e()})},Event.prototype.requireModuleThen=function(e,t){var a=this;this.MID()?e():1==this.activeModules().length?this.checkEvent(function(){a.setModule(a.activeModules()[0].moduleID,function(){e()})}):this.checkEvent(function(){dialog("ui/dialogs/EventEditDialog",function(){a.MID()?e():t&&t()},{event:a})})},a.exports=Event}),define("models.EventView",function(e,t,a){a.exports=fs.makeEditable(function EventView(e,t){this.model=t.model})}),define("models.Exam",function(e,t,a){var s=t("shared/topics"),o=["January","February","March","April","May","June","July","August","September","October","November","December"];a.exports=function Exam(){var e=this;this.examDate=fs.computedDate(this),this.topicID=ko.observable(),this.topicName=ko.computed(function(){return s.name[e.topicID()]}),this.topicIcon=ko.computed(function(){return 0<+e.topicID()?"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/"+s.icon[e.topicID()]+"50.png":""}),this.examDateStr=ko.computed(function(){var t=e.examDate();return t?o[e.examDate().m-1]+" "+e.examDate().d+", "+e.examDate().y:""}),this.getTime=ko.computed(function(){return new Date(e.examDate()).getTime()})}}),define("models.FeaturedNewsView",function(e,t,a){a.exports=function FeaturedNewsView(e,t){var a=this;this.title=ko.observable(t.title),this.subTitle=ko.observable(t.subtitle),this.mainImageURL=ko.observable(t.imageURL),this.hasMainImage=ko.computed(function(){return 0<a.mainImageURL().length}),this.mainContent=ko.observable(t.content),this.hasContent=ko.computed(function(){return 0<a.mainContent().length}),e(this)}}),define("models.GroupMember",function(e,t,a){a.exports=function GroupMember(e){this;fs.setModel(this,"groupmember",e),ko.editable(this)}}),define("models.GroupMemberView",function(e,t,a){function GroupMemberView(e,t){var a=this;this.user=t.model,this.parent=t.parent,this.editing=ko.observable(!1),this.following=ko.observable();var o=ko.observable(a.user.userID);this.userName=s.is(o),2==groupRole&&$(".instructorOption",this.dom).remove(),this.role=ko.observable(this.user.groupRole()+"."+this.user.moduleRole());var d={1.1:"Instructor/Course Admin",2.2:"Student - Admin Editor",3.2:"Student - Managing Editor",4.2:"Student - Regular Editor",3.3:"Student - Managing Contributor",4.3:"Student - Contributor",4.4:"Student - Member"};this.roleCaption=ko.computed(function(){return console.log(o()+" "+a.role()+" "+d[a.role()]),d[a.role()]}),e(this),this.avatar=fs.mix(this,"ui/Avatar",{userID:o,userName:this.userName})}var s=t("app/who");GroupMemberView.prototype.remove=function(){var e=this;fs.confirm("Are you sure you want to remove "+this.userName()+" from this group?","Confirm Remove Member","danger",function(t){fs.destroy(e.user,function(){t()})})},GroupMemberView.prototype.edit=function(){this.editing(!0)},GroupMemberView.prototype.save=function(){var e=this,t=this.role().split(".");this.user.groupRole(+t[0]),this.user.moduleRole(+t[1]),fs.update(this.user,function(){e.user.userID==userID?location.reload():$.jGrowl("Updated member role",{life:1e3,position:"bottom-left"})}),this.editing(!1)},GroupMemberView.prototype.cancel=function(){this.editing(!1),this.role(this.user.groupRole()+"."+this.user.moduleRole())},GroupMemberView.prototype.toggleFollow=function(e){var t=this;return function(){fs.post("toggleFollowUser",{g:window.groupID,follow:t.user.userID,state:e?1:0},function(){t.following(e)})}},a.exports=GroupMemberView}),define("models.GroupSnapshot",function(e,t,a){a.exports=function GroupSnapshot(){this.name=ko.observable(),this.url=ko.observable(),this.memberCount=ko.observable(),this.moduleCount=ko.observable()}}),define("models.GroupSnapshotView",function(e,t,a){function GroupSnapshotView(e,t){this;this.group=t.group,e(this),fs.mix(this,"ui/AvatarList",{users:this.group.members,size:30})}GroupSnapshotView.prototype.groupAction=function(){var e=this;"no-group"==window.schoolGroups.status?fs.confirm("Join "+this.group.name()+"?",function(){fs.post("joinGroup",{id:e.group.groupID},function(){window.location.href="/"+e.group.url()+"/coursework"})}):window.location.href="/"+this.group.url()},a.exports=GroupSnapshotView}),define("models.Kinetic",function(e,t,a){a.exports=function Kinetic(e){fs.setModel(this,"kinetic",e),ko.editable(this)}}),define("models.KineticView",function(e,t,a){function KineticView(e,t){this;this.__model=t.model,this.model=t.model,s(t.dom,t.model),e(this)}var s=t("cms/expandFields");KineticView.prototype.uploadComplete=function(e,t,a){var s=this;fs.post("resizeImage",{key:t.$,width:300,height:300,keepOrig:!1},function(){s.model[e](t.$),a()})},a.exports=fs.makeEditable(KineticView)}),define("models.Module",function(e,t,a){function Module(e){function contains(e,t,a){return+new Date(a)>+new Date(e)&&+new Date(a)<+new Date(t)}var t=this;fs.setModel(this,"module",e),this.isLongTerm=ko.observable(),ko.editable(this),this.starts=ko.computed(function(){var e=t.startsOn();return e?moment(e.y+"-"+e.m+"-"+e.d).tz(s.timezone()):moment("1970-01-01")}),this.isActive=ko.computed(function(){if(t.startsOn()&&t.examDate()){var e=moment(t.startsOn().toString()).format("YYYY-MM-DD"),a=moment(t.examDate().toString()).format("YYYY-MM-DD"),s=moment().format("YYYY-MM-DD");return s==e||s==a||contains(e,a,s)}return!1})}var s=t("app/timezone");Module.prototype.setLongTerm=function(){this.isLongTerm(-1!=window.moduleLongTerm.indexOf(this.moduleID))},a.exports=Module}),define("models.ModuleView",function(e,t,a){a.exports=fs.makeEditable(function ModuleView(e,t){var a=this;this.model=t.model,this.module=t.model,this.startsOnStr=ko.computed(function(){return a.module.starts().format("YYYY-MM-DD")})})}),define("models.NodeNoteEditView",function(e,t,a){function NodeNoteEditView(e,t){var a=this;this.parent=t.parent,this.note=t.note,this.editor=null,this.autosaveInProgress=!1,this.tip=ko.observable(d[Math.floor(Math.random()*d.length)]),this.isModified=!1,e(this);var o=t.note.content();this.editor=s($(".noteEditor",this.dom),o?o.n:"",!0),$("OsmosisBlockText",this.dom).addClass("simplebox"),$(".noteEditor",this.dom).keydown(function(t){switch(t.keyCode){case 9:return $(a.editor.divContent).froalaEditor("commands.indent"),!1;break;case 187:if(t.ctrlKey)return t.keyCode=0,t.ctrlKey=!1,t.shiftKey?$(a.editor.divContent).froalaEditor("commands.superscript"):$(a.editor.divContent).froalaEditor("commands.indent"),!1;break;default:a.isModified=!0;}}).bind("keyup",function(t){187==t.keyCode&&t.ctrlKey&&(t.ctrlKey=!1),t.ctrlKey=!1}).bind("attach",function(){a.isModified=!0}).bind("format",function(){a.isModified=!0}),this.bindShortcuts(),$(this.editor.divContent).on("froalaEditor.contentChanged",function(){a.isModified=!0})}var s=t("models/content"),o=t("ui/StreamingVideo"),d=["Text notes are private. Attached images and videos are shared.","Try Shift+Enter while typing notes.","Try typing \"The heart is {{important}}\" and then click Review Notes"];NodeNoteEditView.prototype.save=function(){var e=this;if(document.body.contains(this.editor.divAttachBar[0])&&!this.autosaveInProgress){console.debug("autosave"),this.autosaveInProgress=!0;var t=this.editor.content();t=t?{n:t}:{n:""},$.ajax({type:"POST",url:"/editnotes",success:function success(a){"success"in a?(e.parent.autosaveError(""),e.autosaveInProgress=!1,e.note.content(t),e.isModified=!1,e.note.isEmpty&&(e.note.isEmpty=!1,$(document).trigger("NewNote",[e.note])),e.autosaveFailed&&($.jGrowl("Successful autosave: Your notes are safe!",{life:1e3,position:"bottom-left"}),e.autosaveFailed=!1)):(e.parent.autosaveError("Autosave Error: The server returned this message \""+a.error.msg+"\". Please save your work for this note elsewhere and report this as a bug (along with the contents of your current note)."),e.autosaveFailed=!0,e.autosaveInProgress=!1)},error:function error(){e.parent.autosaveError("Autosave Error: Cannot connect to server to save notes! You've probably just temporarily lost your internet connection, but if it doesn't come back you should probably save anything you've edited since receiving this message to a safe place for now. Once this message disappears, your notes will have been successfully saved."),e.autosaveFailed=!0,e.autosaveInProgress=!1},timeout:5e3,data:{m:MID,n:this.note.nodeID,note:t},dataType:"JSON"})}},NodeNoteEditView.prototype.getCurrentAttachment=function(){var e=$(".Attachment",this.editor).data("Data");return null==e?0:e.nodeID},NodeNoteEditView.prototype.bindShortcuts=function(){var e=$(".UIEditor-multiline",this.dom);o.bindVideoShortcuts(e)},a.exports=NodeNoteEditView}),define("models.NodeNoteView",function(e,t,a){function NodeNoteView(e,t){var a=this;this.node=t.node,this.parent=t.parent,this.editLinkVisible=ko.observable(),this.slideImgURL=ko.observable(o.nodePath(t.node.parent)+"assets/page-"+(t.node.index+1)+".svg"),this.noteLinkURL=ko.observable("/open/"+t.node.parent.nodeID+"?p="+(t.node.index+1)),this.wantsAutoBlanks=t.wantsAutoBlanks,e(this),this.refresh(),this.node.note.content.subscribe(function(){a.refresh()}),$(document).bind("gotWikiterms",function(){a.refresh()})}function revealBlank(e,t){return function(){t.remove(),e.removeClass("hidden")}}function underlineClozeAll(e){$("u",e).each(function(e,t){for(var a=$("<span style=\"text-decoration:underline\" class=\"cloze\">"),s=$("<span class=\"hidden\">").append($(t).html()).appendTo(a),o="<span class=\"cloze-blank\">",d=0;10>d;d++)o+="&nbsp;";o+="</span>",a.append(o),$(t).replaceWith(a),a.mouseover(function(){$(".hidden",a).removeClass("hidden"),$(".cloze-blank",a).remove(),$(".wikiTerm",a).click(function(t){t.preventDefault(),t.stopPropagation(),n.showWiki($(t.target).attr("href"),{ref:"notes"})})})})}function clozeBracesInStr(e){return e=e.replace(/\{\{/g,"<u>"),e=e.replace(/\}\}/g,"</u>"),e}function clozeBracesInContent(e){return"string"==typeof e?clozeBracesInStr(e):(e.s=clozeBracesInStr(e.s),e)}var s=t("models/content"),o=t("core/util"),d=t("app/wikify"),n=t("ui/wikiViewer");NodeNoteView.prototype.refresh=function(){var e=this,t=this.node.note.content();e.editor=s($(".noteView",e.dom),clozeBracesInContent(t?t.n:"")),d.wikifyElements($(".wikify",e.dom),{ref:"notes"}),this.wantsAutoBlanks&&$(".wikiTerm",e.dom).each(function(e,t){for(var a="<span class=\"cloze-blank\">",s=0;10>s;s++)a+="&nbsp;";a+="</span>";var o=$("<span style=\"text-decoration:underline\" class=\"notesCloze\">"+a+"</span>");$(t).after(o).addClass("hidden"),o.mouseover(revealBlank($(t),o))}),underlineClozeAll(this.dom)},NodeNoteView.prototype.toggleHover=function(e){var t=this;return function(){t.editLinkVisible(e),t.parent.parent.parent.showSlide(this.slideImgURL())}},NodeNoteView.prototype.edit=function(){tabToURL(this.noteLinkURL())},a.exports=NodeNoteView}),define("models.NodeView",function(e,t,a){a.exports=fs.makeEditable(function NodeView(e,t){this.model=t.model})}),define("models.Note",function(e,t,a){a.exports=function Note(e){fs.setModel(this,"note",e),this.empty=ko.computed(function(){return!0})}}),define("models.PrintNodeNoteView",function(e,t,a){function NodeNoteView(e,t){var a=this;this.node=t.node,this.parent=t.parent,this.slideImgURL=ko.observable(o.nodePath(t.node.parent)+"assets/page-"+(t.node.index+1)+".svg"),this.noteLinkURL=ko.observable("/open/"+t.node.parent.nodeID+"?p="+(t.node.index+1)),e(this),this.refresh(),this.node.note.content.subscribe(function(){a.refresh()})}var s=t("models/content"),o=t("core/util"),d=t("app/wikify");NodeNoteView.prototype.refresh=function(){var e=this,t=this.node.note.content();e.editor=s($(".noteView",e.dom),t?t.n:""),d.wikifyElements($(".wikify",e.dom),{ref:"notes"})},a.exports=NodeNoteView}),define("models.QBankSnapshotView",function(e,t,a){function QBankSnapshotView(e,t){var a=this;this.bundleID=ko.observable(t.bundleID),this.icon=ko.observable(t.icon),this.title=ko.observable(t.title),this.questionCount=ko.observable(t.questionCount),this.flashcardCount=ko.observable(t.flashcardCount),this.url=ko.observable(t.url),this.difficulty=ko.observable(t.difficulty),this.prime=ko.observable(t.prime),this.status=ko.observable(t.status||0),this.inventoryID=t.inventoryID,this.price=ko.observable("$"+t.price/100),this.canBuy=ko.computed(function(){return"Included with Osmosis Prime"!=a.prime()&&0==a.status()}),e(this)}QBankSnapshotView.prototype.action=function(t,a){$(a.target).hasClass("overrideClick")||1!=this.status()||(window.location.href=this.url())},QBankSnapshotView.prototype.buy=function(){window.location.href="/packs?feature="+this.inventoryID},QBankSnapshotView.prototype.getPrime=function(){window.location.href="/store"},QBankSnapshotView.prototype.archive=function(){var e=this;fs.post("changePackStatus",{bundleID:this.bundleID,status:0},function(){e.status(-1)})},QBankSnapshotView.prototype.activate=function(){var e=this;fs.post("changePackStatus",{bundleID:this.bundleID,status:1},function(){e.status(1)})},a.exports=QBankSnapshotView}),define("models.QuizTopic",function(e,t,a){function QuizTopic(e){for(var t in e)this[t]=e[t];this.visible=ko.observable(!0),this.expanded=ko.observable(),this.subtopics=[],this.type=e.type,this.progressHidden=ko.observable("undefined"!=typeof e.groupID),this.progress=ko.observable({correct:0,completed:0,total:this.progressHidden()?1:0}),this.progressLoaded=ko.observable(this.progressHidden()),this.percentComplete=ko.observable(0),this.percentCorrect=ko.observable(0),this.percentIncorrect=ko.observable(0),this.topicTree=e.topicTree,this.itemType=e.itemType,this.groupID=e.groupID,this.difficulties="function"==typeof e.difficulties?e.difficulties:ko.observableArray([])}QuizTopic.prototype.collapseAll=function(){for(var e in this.subtopics)this.subtopics[e].expanded(!1)},QuizTopic.prototype.hasAllSubtopicsChecked=function(){return this.subtopics.every(function(e){return e.selected()})},QuizTopic.prototype.hasSomeSubtopicsChecked=function(){return this.subtopics.some(function(e){return e.selected()})},QuizTopic.prototype.hasSomeSubtopicsPartiallySelected=function(){return this.subtopics.some(function(e){return e.partiallySelected()})},QuizTopic.prototype.checkParent=function(){this.parent&&(this.parent.selected(this.parent.hasAllSubtopicsChecked()),this.parent.partiallySelected(!this.parent.selected()&&(this.parent.hasSomeSubtopicsChecked()||this.parent.hasSomeSubtopicsPartiallySelected())),this.parent.checkParent())},QuizTopic.prototype.setSubtopicStates=function(e){this.subtopics.forEach(function(t){t.selected(e),t.partiallySelected(!1),t.setSubtopicStates(e)})},a.exports=QuizTopic}),define("models.SurveyGroup",function(e,t,a){a.exports=function SurveyGroup(e){this;fs.setModel(this,"surveygroup",e),ko.editable(this)}}),define("models.SurveyGroupView",function(e,t,a){function SurveyGroupView(e,t){var a=this;this.model=t.model,this.group=this.model,this.emails=ko.observable(),this.newMember=ko.observableArray(),this.isAlreadyMember=ko.observableArray(),this.notFound=ko.observableArray(),this.notFoundList=ko.computed(function(){return a.notFound().join(", ")});var s={0:"Control (No Survey)",1:"Experimental (Survey)"};this.typeStr=ko.computed(function(){return s[a.group.type()]}),this.beginStr=ko.computed(function(){return moment(""+a.group.begin()).format("MMMM Do")}),this.endStr=ko.computed(function(){return moment(""+a.group.end()).format("MMMM Do YYYY")})}var s=t("models/SurveyGroup");SurveyGroupView.prototype.addStudents=function(){var e=this,t=this.emails().split(",");for(var a in t)t[a]=trim(t[a]);fs.post("addMembersByEmails",{groupID:this.group.groupID,emails:t},function(t){for(var a in e.newMember.removeAll(),e.isAlreadyMember.removeAll(),e.notFound.removeAll(),t.emails)-1==t.emails[a]?e.notFound.push(a):1==t.emails[a]?e.newMember.push(a):2==t.emails[a]&&e.isAlreadyMember.push(a)})},SurveyGroupView.prototype.clearBox=function(){this.emails("")},SurveyGroupView.prototype.newGroup=function(){var e=new s(null);e.name(this.group.name()).type(this.group.type()).begin(this.group.begin()).end(this.group.end()),e.likeGroup=this.group.groupID;var t=this.parent.indexOf(this.group),a=this.parent.add(t+1,{model:e})},a.exports=fs.makeEditable(SurveyGroupView)}),define("models.Table",function(e,t,a){a.exports=function Table(e){fs.setModel(this,"table",e),ko.editable(this)}}),define("models.TableView",function(e,t,a){var s=t("cms/expandFields");a.exports=fs.makeEditable(function TableView(e,t){this;this.__model=t.model,this.model=t.model,s(t.dom,t.model),e(this)})}),define("models.Tag",function(e,t,a){a.exports=function Tag(e){fs.setModel(this,"tag",e),this.nodes=ko.observableArray()}}),define("models.Test",function(e,t,a){function Test(e){fs.setModel(this,"test",e),this.marked=ko.observable("no")}Test.prototype.mark=function(){this.marked("yes")},a.exports=Test}),define("models.TestView",function(e,t,a){a.exports=fs.makeEditable(function TestView(e,t){this.model=t.model})}),define("models.concept.Block",function(e,t,a){function Block(){}Block.prototype.subscribe=function(){this;this.__subscriptions=[]},Block.prototype.dispose=function(){for(var e in this.__subscriptions)this.__subscriptions[e].dispose()},Block.prototype.remove=function(){this.parent.parent.removeBlock(this)},Block.prototype.doRemove=function(){this.parent.parent.doRemoveBlock(this,function(){})},Block.prototype.updateData=function(e,t){if(t){var a=this.node.data();a[e]=t,this.update()}},Block.prototype.saveCards=function(e){var t=this.node.data();t.fc=e,this.update()},Block.prototype.update=function(){fs.post("updateConceptTab",{g:window.groupID,m:window.MID,term:this.term,nodeID:this.node.nodeID,data:this.node.data()},function(){})},a.exports=Block}),define("models.concept.BookRef",function(e,t,a){a.exports=function BookRef(e,t){this.name=t.name,this.page=t.page,this.group=ko.observableArray(t.group)}}),define("models.concept.BookRefBlock",function(e,t,a){function BookRefBlock(e,t){var a=this;this.term=t.term,this.editing=t.editing,this.node=t.node;var s=this.node.data();this.edition=window.userSchedule&&window.userSchedule.books?ko.observable(window.userSchedule.books[s.book]):ko.observable(n[s.book]);var o={f14:"First Aid 2014",f15:"First Aid 2015",f16:"First Aid 2016",f17:"First Aid 2017",f18:"First Aid 2018"};this.editionStr=ko.computed(function(){return o[a.edition()]}),this.setEdition(a.edition()),e(this)}function getShortest(e){var t=e[0],a=1e7;for(var s in e){var o=e[s].height();o<a&&(a=o,t=e[s])}return t}function parseGroup(e){var t=[];for(var a in e){var s=e[a].split("|");t.push({name:s[0],page:s[1]})}return t}var s=t("models/content"),o=t("models/concept/Block"),d=t("app/wikify"),n={fa:"f18"};fs.extend(BookRefBlock,o),BookRefBlock.prototype.show=function(){this.render()},BookRefBlock.prototype.setEdition=function(e){var t=this.node.data();this.edition(e),this.refs=t[this.edition()]||[],this.refs.sort(function(e,t){return e.primary&&!t.primary?-1:!e.primary&&t.primary?1:0})},BookRefBlock.prototype.switchEdition=function(e){var t=this;return function(a){fs.post("setFAVersion",{edition:e},function(){t.setEdition(e),t.render(),a()})}},BookRefBlock.prototype.edit=function(){dialog("ui/dialogs/EditNodeData",function(){},{term:this.term,node:this.node})},BookRefBlock.prototype.render=function(){var e=[$(".col-1",this.dom),$(".col-2",this.dom),$(".col-3",this.dom)];for(var t in e)fs.empty(e[t]);for(var t in this.refs){var a=this.refs[t],s=a.ref.split("|");fs.mixAppend(getShortest(e),"models/concept/BookRef",{name:s[0],page:s[1],group:parseGroup(a.group)})}d.wikifyElements($(".wikify",this.dom),{ref:"concept-card-bookref"})},a.exports=BookRefBlock}),define("models.concept.Card",function(e,t,a){function Card(e,t){var a=this;this.editing="/editconcept"==location.pathname,this.completed=ko.observable(!!window.conceptCard&&window.conceptCard.status),this.quizCtaActive=ko.observable(!1),this.seriesData=t.seriesData,this.hasConceptCard=!0,this.editing||(!t.conceptCard&&(t.conceptCard={data:{tabs:[{label:"Overview",block:"WikiBlock"}],cat:""}},this.hasConceptCard=!1),t.flashcards&&t.conceptCard.data.tabs.splice(1,0,{label:"Cards",block:"FlashcardSelectBlock",icon:"cards"}),window.groupID&&t.conceptCard.data.tabs.push({label:"Timeline",block:"SearchBlock",icon:"timeline"})),this.term=t.term,this.name=ko.observable(t.term.replace(/\_/g," ")),this.quizName=ko.observable(this.name()),this.cat=window.conceptCategory?window.conceptCategory.split("|").join(" | "):"???????","string"==typeof this.cat&&(this.cat=this.cat.replace("\u03B2","<span class=\"greek\">\u03B2</span>").replace("\u03B3","<span class=\"greek\">\u03B3</span>").replace("\u03B1","<span class=\"greek\">\u03B1</span>")),this.category=ko.observable("string"==typeof this.cat?this.cat:""),this.selected=ko.observable(0);var s={},o=t.conceptCard.data.tabs.slice();if(!this.editing){var d=[];for(var n in this.hasConceptCard&&d.push({label:"Learn",block:"LearnBlock",icon:""}),o)c[o[n].label]&&("Overview"!=o[n].label||this.hasConceptCard)||d.push(o[n]),s[o[n].label]=l.getNodes(o[n].node)}else var d=o;for(var n in d)d[n].visible=ko.observable("Overview"!=d[n].label||this.editing||!this.hasConceptCard),d[n].badge=ko.observable(0),d[n].isEmpty=ko.observable(!1);for(var n in this.newBlockLabel=ko.observable(),this.customBlockVisible=ko.observable(),this.mode=ko.observable("edit"),this.newBlockType=ko.observable(),this.newBlockIcon=ko.observable(),this.pageTabs=ko.observableArray(d),this.flashcards=t.flashcards,this.isSeries=ko.observable(t.isSeries),e(this),this.pages=fs.mixList(this,".pages"),this.pages.viewModel="models/concept/Container",d)this.pages.push("models/concept/Container",{badge:d[n].badge,isEmpty:d[n].isEmpty,label:d[n].label,concept:t.term,block:d[n].block,icon:d[n].icon,nodes:l.getNodes(d[n].node),editing:this.editing});if("Learn"==this.pages.items[0].label()&&this.pages.items[0].blocks.items[0].render(this.name(),s),t.startVideo&&setTimeout(function(){var e=a.findTab("Learn");e&&e.nextSection()},500),this.editing&&$(".tab-grid",this.dom).sortable({forcePlaceholderSize:!0,placeholderClass:"tab-placeholder",dragImage:null}).bind("sortupdate",function(t,e){var s=a.pageTabs.splice(e.oldindex,1);a.pageTabs.splice(e.index,0,s[0]),a.pages.move(e.oldindex,e.index),a.moveTabs(),$(".tab-grid",a.dom).sortable()}),this.editing||fs.mix(this,"ui/ConceptCardNav",{browser:t.browser}),this.pages.items[0].visible(!0),this.editing||this.handleNavItems(),t.focusTab){var d=this.pageTabs();for(var n in d)if(d[n].label==t.focusTab){this.selectTab(n,!0);break}}this.flashcardBrowser=fs.mix(this,"models/concept/FlashcardBrowser"),$(window).resize(function(){a.editing||a.handleNavItems()});var p=getTabData(t.conceptCard,"Meta");if(p){var u=nodeIndex[p.node];if(u){var m=u.data().quiz;m&&(this.quizAddr="addr:"+m.addr,this.quizName(m.caption))}}if(!this.quizAddr){var v=getTabData(t.conceptCard,"Flashcards");if(v){var u=nodeIndex[v.node];u&&u.data().fc&&u.data().fc.length&&(this.quizAddr="addr:"+this.name())}}this.quizAddr&&!this.editing&&!this.isSeries()&&window.location.pathname.indexOf("/doc")&&window.location.pathname.indexOf("/pdf")&&this.quizCtaActive(!0)}function getTabData(e,t){var a=e.data.tabs;for(var s in a)if(t==a[s].label)return a[s];return null}function stripObservables(e){var t={};for(var a in e)ko.isObservable(e[a])||(t[a]=e[a]);return t}function stripObservablesFromArray(e){var t=[];for(var a in e)t.push(stripObservables(e[a]));return t}var s=t("models/concept/conceptView"),o=t("models/Node"),d=template("models/concept/tabIcons"),n=t("ui/conceptQuiz"),l=t("app/conceptCardLoader"),c=_.indexBy([256==window.userID?"None":"Summary","Physiology","Pathophysiology","Pharmacology","Interventions","Intervention","Picmonic","Sketchy Medical","Patient Story","Patient Experience","Khan Academy","Armando","Handwritten","Celeb Dx","3D Anatomy","Anatomy","First Aid","Step 1 Case","Step 1 Factoid","Step 2 Case","Step 1+2 Case","Discard","Sideline","Flashcards","Sideline FC","Discard FC","Celeb Case","COMLEX","COMLEX Factoid","Redirect","Table","Meta"],_.identity);Card.prototype.selectQuiz=function(){$(".close-card").trigger("click"),tabToURL(window.rewriteTabURL("*/quiz")),showFullscreenLoading(),n.buildQuiz(this.quizAddr)},Card.prototype.closeQuizCta=function(){this.quizCtaActive(!1)},Card.prototype.newConceptBlock=function(){this.mode("new-block"),this.newBlockLabel("")},Card.prototype.addConceptBlockUI=function(e,t,a,s){var d=ko.observable(!1),n=ko.observable(0);this.pageTabs.push({visible:ko.observable(!0),label:this.newBlockLabel(),block:this.newBlockType(),icon:"none"==this.newBlockIcon()?"":this.newBlockIcon(),isEmpty:d,badge:n});var l=e?new o(e):null;l&&l.type(2).subtype(t).data(s||{});var c=this.pages.push("models/concept/Container",{label:this.newBlockLabel(),concept:this.term,block:this.newBlockType(),icon:"none"==this.newBlockIcon()?"":this.newBlockIcon(),nodes:[l],isEmpty:d,badge:n});return a||this.showTab(this.pageTabs().length-1),$(".tab-grid",this.dom).sortable(),this.mode("edit"),c},Card.prototype.doCreateNewConceptBlock=function(e,t,a){var o=this;if(this.findTab(this.newBlockLabel()))return fs.alert("This tab already exists!");var d=s.getSubtype(this.newBlockType());fs.post("createConceptCardTab",{g:window.groupID,m:window.MID,term:this.name(),label:this.newBlockLabel(),subtype:d,block:this.newBlockType(),icon:"none"==this.newBlockIcon()?"":this.newBlockIcon()},function(s){var n=o.addConceptBlockUI(s.nodeID,d,t,a);e&&e(n)})},Card.prototype.createNewConceptBlock=function(){this.doCreateNewConceptBlock()},Card.prototype.cancelNewConceptBlock=function(){this.mode("edit")},Card.prototype.showTab=function(e){var t=this.pages.items;for(var a in t)t[a].visible(!1);return t[e].visible(!0),this.selected(e),t[e]},Card.prototype.selectTabClick=function(e){var t=this;return function(){t.selectTab(e)}},Card.prototype.selectTab=function(e,t){var a=this;if(e==a.selected())a.editing&&fs.prompt("Enter a new label for this tab:","Tab Label","info",function(t,s){a.pages.items[e].label(t),a.updateTabs(null,s)},a.pages.items[e].label());else{var s=a.showTab(e);s.show(),t&&s.play()}},Card.prototype.removeTab=function(e,t){var a=this,s=this.pages.indexOf(e);this.pages.removeAt(s),this.pageTabs.splice(s,1),this.updateTabs(0<s-1?s-1:0,t)},Card.prototype.moveTabs=function(){fs.post("updateConceptCard",{g:window.groupID,term:this.name(),tabs:stripObservablesFromArray(this.savePageTabs()),record:!1},function(){})},Card.prototype.updateTabs=function(e,t){var a=this,s=this.savePageTabs();this.pageTabs(s),fs.post("updateConceptCard",{g:window.groupID,term:this.name(),tabs:stripObservablesFromArray(s),record:!0},function(){null!=e&&a.showTab(e),t&&t()})},Card.prototype.savePageTabs=function(){var e=[],t=this.pages.items;for(var a in t){var s=t[a];s.nodes?e.push({label:s.label(),node:s.getNodeIDs(),icon:s.icon,isEmpty:s.isEmpty,badge:s.badge,visible:ko.observable(!0)}):e.push({label:s.label(),block:s.blockName,icon:s.icon,isEmpty:s.isEmpty,badge:s.badge,visible:ko.observable(!0)})}return e},Card.prototype.getIcon=function(e){return e?$("."+e,d).html():""},Card.prototype.handleNavItems=function(){var e=this,t=$(".concept-content",e.dom).outerWidth(),a=$(".secondary-nav .tab-item",e.dom).get(),s=0;for(var o in a)if(s+=$(a[o]).outerWidth(),s>=t-200){var d=$(a[o]).detach();$(".secondary-nav .more-items-dropdown ul",e.dom).append(d)}else{var d=$(a[o]).detach();$(".secondary-nav .tab-grid",e.dom).append(d)}0<$(".secondary-nav .more-items-dropdown ul li",e.dom).length?$(".secondary-nav .more-actions .more-items-icon",e.dom).show():$(".secondary-nav .more-actions .more-items-icon",e.dom).hide()},Card.prototype.findAllQues=function(){var e=[],t=this.pageTabs();for(var a in t)if(isQuesTab[t[a].label]){var s=this.pages.items[a],o=s.blocks.items;for(var a in o)e.push(o[a].getQuesID())}return e},Card.prototype.loadQues=function(e){var t=this;return function(){dialog("ui/dialogs/QuesItemBrowser",function(){},{term:t.term,exclude:t.findAllQues(),filter:e,categorize:function categorize(e,a,s){t.getQuesTab(e,function(e){e.setQues(a),s&&s()})}})}},Card.prototype.getQuesTab=function(e,t){var a=this.pageTabs();for(var s in a)if(a[s].label==e){var o=this.pages.items[s];return void o.addBlock(t)}this.newBlockLabel(e),this.newBlockType("QuesBlock"),this.newBlockIcon("question"),this.doCreateNewConceptBlock(function(e){t(e.blocks.items[0])})},Card.prototype.getTab=function(e,t,a,s,o){var d=this.pageTabs();for(var n in d)if(d[n].label==e)return void s(this.pages.items[n]);this.newBlockLabel(e),this.newBlockType(t),this.newBlockIcon(a),this.doCreateNewConceptBlock(function(e){s(e)},o)},Card.prototype.toggleCompleted=function(){var e=this;fs.post("updateConceptCardStatus",{term:this.name(),status:this.completed()?0:1},function(){e.completed(!e.completed())})},Card.prototype.showWikiTab=function(){var e=this.pageTabs();for(var t in e)"Overview"==e[t].label&&(e[t].visible(!0),this.showTab(t))},Card.prototype.findTab=function(e){var t=this.pageTabs();for(var a in t)if(t[a].label==e)return this.pages.items[a];return null},Card.prototype.moveBlock=function(e,t,a){var s=this.findTab(t),o=-1;for(var d in s.nodes)s.nodes[d].nodeID==e&&(o=+d);s.blocks.removeAt(o),s.nodes.splice(o,1);var n=this.findTab(a);n?(n.blocks.viewModel="models/concept/QuesBlock",n.nodes.push(nodeIndex[e]),n.blocks.removeAll(),n.render()):(this.pages.push("models/concept/Container",{badge:ko.observable(),isEmpty:ko.observable(),label:a,concept:this.term,icon:"question",nodes:[nodeIndex[e]],editing:!1}),location.reload()),this.updateTabs()};var p={Flashcards:"flashcard","Sideline FC":"sideline","Discard FC":"delete"};Card.prototype.moveFlashcard=function(e,t,a){this.getTab(a,"FlashcardBlock",p[a],function(a){a.blocks.items[0].addCard(e),t.blocks.items[0].removeCard(e)},!0)},Card.prototype.browseFlashcards=function(e){this.mode("browse-flashcards");var t=this.findTab("Flashcards");if(t){var a=t.blocks.items[0].node.data();a&&this.flashcardBrowser.list.set(a.fc)}this.doneBrowsingCards=e},Card.prototype.attachSelectedCards=function(){this.mode("edit");var e=[],t=this.flashcardBrowser.list.cards;for(var a in t)t[a].selected()&&e.push(t[a].node.nodeID);this.doneBrowsingCards(e)},Card.prototype.hotkey=function(e){if("edit"==this.mode()){var t=this.selected();if(0<t){var a=this.pages.items[t],s=e.replace(/\+/g,"_");if(a.blocks.items[0][s])return a.blocks.items[0][s]()}}},Card.prototype.cancelFlashcardAttach=function(){this.mode("edit")},Card.prototype.nextSection=function(){var e=this.findTab("Learn");e&&e.nextSection()},Card.prototype.prevSection=function(){var e=this.findTab("Learn");e&&e.prevSection()},Card.prototype.quickCreateTab=function(e,t,a){var s=this;return function(){s.newBlockLabel(e),s.newBlockType(a),s.newBlockIcon(t),s.doCreateNewConceptBlock()}},Card.prototype.addRedirectTab=function(){this.newBlockLabel("Redirect"),this.newBlockType("TextBlock"),this.newBlockIcon("redirect"),this.doCreateNewConceptBlock(null,null,{c:"<b>"+this.name()+"</b> may refer to: <ul><li></li></ul>"})},a.exports=Card}),define("models.concept.Container",function(e,t,a){function Container(e,t){var a=this;this.visible=ko.observable(!1),this.label=ko.observable(t.label),this.badge=t.badge,this.isEmpty=t.isEmpty,this.concept=t.concept,this.icon=t.icon,this.editing=t.editing,this.extensible=ko.observable(!!t.nodes),this.nodes=t.nodes,this.modelName=ko.observable(),this.locked=ko.observable(window.user&&1>window.user.prime.status);var o=["Overview"];for(var d in o)o[d]==this.label()&&this.locked(!1);if(e(this),this.blocks=fs.mixList(this,".blocks"),t.nodes){var n=s.models[this.nodes[0].subtype()-1],l=s.names[n];this.blocks.viewModel="models/concept/"+n}else if(t.block){var l=s.names[t.block];this.blockName=t.block,this.blocks.viewModel="models/concept/"+t.block}else return void(this.nodes=[]);this.modelName(l),$(document).bind("onFlagFlashcard",function(){a.calculateBadge()}),this.render(),this.calculateBadge()}var s=t("models/concept/conceptView"),o=t("models/Node");Container.prototype.show=function(){for(var e in this.blocks.items){var t=this.blocks.items[e];t.show&&t.show()}this.locked()&&!this.primeLockout&&(this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{source:"concept card",resource:this.label()}))},Container.prototype.save=function(){this.block.save();this.mode("view")},Container.prototype.edit=function(){this.mode("edit")},Container.prototype.render=function(){var e=$(this.dom).css("display");if($(this.dom).css("display",""),this.nodes)for(var t in this.nodes)var a=this.blocks.push(this.blocks.viewModel,{concept:this.concept,term:this.concept.replace(/\_/g," "),editing:this.editing,node:this.nodes[t]});else var a=this.blocks.push(this.blocks.viewModel,{concept:this.concept,term:this.concept.replace(/\_/g," "),editing:this.editing});$(this.dom).css("display",e),"extensible"in a&&this.extensible(a.extensible),1==this.blocks.items.length&&!this.editing&&this.blocks.items[0].isEmpty&&this.isEmpty(this.blocks.items[0].isEmpty()),this.locked()&&!this.primeLockout&&(this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{source:"concept card",resource:this.label()}))},Container.prototype.removeBlock=function(e){var t=this;fs.confirm("Are you <b>really</b> sure you want to remove this block?","Remove Block","danger",function(a){t.doRemoveBlock(e,a)})},Container.prototype.doRemoveBlock=function(e,t){var a=this,s=a.blocks.indexOf(e);a.blocks.removeAt(s),a.nodes.splice(s,1),a.nodes&&0!=a.blocks.items.length?a.parent.parent.updateTabs(null,t):a.parent.parent.removeTab(a,t)},Container.prototype.addBlock=function(e){var t=this,a=this.nodes[0].subtype();fs.post("createConceptCardTab",{g:window.groupID,m:window.MID,term:this.concept.replace(/\_/g," "),subtype:a,exists:!0},function(s){var d=new o(s.nodeID);d.type(2).subtype(a).data({}),nodeIndex[d.nodeID]=d,t.nodes.push(d),t.parent.parent.updateTabs(null,function(){var a=t.blocks.push(t.blocks.viewModel,{concept:t.concept,term:t.concept.replace(/\_/g," "),node:d});e&&e(a)})})},Container.prototype.addBlockClick=function(){this.addBlock()},Container.prototype.getNodeIDs=function(){var e=[];for(var t in this.nodes)e.push(this.nodes[t].nodeID);return 1==e.length?e[0]:e},Container.prototype.calculateBadge=function(){var e=0;for(var t in this.blocks.items){var a=this.blocks.items[t];a.getBadgeCount&&(e+=a.getBadgeCount())}this.badge(e)},Container.prototype.play=function(){if(this.blocks.items.length){var e=this.blocks.items[0];e.play&&e.play()}},Container.prototype.moveFlashcard=function(e,t){this.parent.parent.moveFlashcard(e,this,t)},Container.prototype.nextSection=function(){this.blocks.items[0].nextSection&&this.blocks.items[0].nextSection()},Container.prototype.prevSection=function(){this.blocks.items[0].prevSection&&this.blocks.items[0].prevSection()},a.exports=Container}),define("models.concept.FlashcardBlock",function(e,t,a){function FlashcardBlock(e,t){this.term=t.term,this.editing=t.editing,this.node=t.node,this.extensible=!1,e(this);var a=t.node.data();a.fc=a.fc||[],this.list=fs.mix(this,"ui/EditableFlashcardList",{fc:a.fc})}var s=t("models/concept/Block"),o=t("models/content");fs.extend(FlashcardBlock,s),FlashcardBlock.prototype.editText=function(){this.mode("edit");var e=this.node.data();this.text=o($(".textEditor",this.dom),e&&e.c?e.c:null,!0)},FlashcardBlock.prototype.saveText=function(){var e=this.text.content();if("string"==typeof e){var t=this.node.data();t.c=e,this.update(),this.mode("view"),fs.empty($(".textEditor",this.dom)),o($(".textEditor",this.dom),t&&t.c?t.c:null)}else fs.alert("Attachments not allowed in a text-only block.")},FlashcardBlock.prototype.addCard=function(e){this.list.addCard(e);var t=this.node.data();t.fc=t.fc||[],t.fc.push(e),this.update()},FlashcardBlock.prototype.removeCard=function(e,t){var a=this.list.indexOf(e);if(-1!=a){this.list.cards[a].dom.remove(),this.list.cards.splice(a,1);var s=this.node.data().fc;s.splice(a,1),t||this.update()}},FlashcardBlock.prototype.tab=function(){return this.list.tab(),!0},FlashcardBlock.prototype.mod_shift_s=function(){return this.list.saveAll(),!0},a.exports=FlashcardBlock}),define("models.concept.FlashcardBrowser",function(e,t,a){function FlashcardBrowser(e){e(this),this.list=fs.mix(this,"ui/EditableFlashcardList",{selectable:!0,fc:[]}),this.addCreateBlock()}FlashcardBrowser.prototype.addCreateBlock=function(){var e=this;this.block=fs.mixAppend($(".new-fc",this.dom),"ui/EditableFlashcardRow",{done:function done(t){e.block.dom.remove(),e.addCreateBlock(),e.list.addCard(t),e.list.cards[e.list.cards.length-1].selected(!0),e.parent.getTab("Flashcards","FlashcardBlock","flashcard",function(e){e.blocks.items[0].addCard(t)})}})},a.exports=FlashcardBrowser}),define("models.concept.FlashcardList",function(e,t,a){function FlashcardList(e,t){var a=this;this.editing="/editconcept"==location.pathname,this.term=t.term,this.cards=[],this.ids=[],this.hasCards=ko.observable(),this.canCreate=ko.observable(!0),e(this),this.addCards(t.fc,t.hl),$(".cards",this.dom).sortable({forcePlaceholderSize:!0,placeholderClass:"item-placeholder",dragImage:null}).bind("sortupdate",function(t,e){var s=a.ids.splice(e.oldindex,1);a.ids.splice(e.index,0,s[0]);var s=a.cards.splice(e.oldindex,1);a.cards.splice(e.index,0,s[0]),a.parent.saveCards(a.ids),a.renumber(),$(".cards",a.dom).sortable()})}var s=t("models/Node");FlashcardList.prototype.attachCards=function(){var e=this;this.parent.parent.parent.parent.parent.browseFlashcards(function(t){t&&e.appendCards(t)})},FlashcardList.prototype.createNewCard=function(){var e=this,t=new s;t.type(5).subtype(5).data({q:"",e:""}),t.MID=2857,dialog("ui/dialogs/EditItem",function(a,s){s&&(e.appendCards([t.nodeID]),fs.post("editorSubmitForReview",{nodeID:t.nodeID},function(){}))},{model:t,tools:{types:"none",tags:!1,contentTeamTags:!0}})},FlashcardList.prototype.addCards=function(e,t){for(var a in t=t||[],e)this.cards.push(fs.mixAppend($(".cards",this.dom),"models/ques/FlashcardPreview",{parent:this,term:this.term,node:nodeIndex[e[a]],idx:this.ids.length+1})),a<t.length&&(this.cards[a].highlight=t[a]),this.ids.push(+e[a]),this.hasCards(!0)},FlashcardList.prototype.appendCards=function(e){this.addCards(e),this.parent.saveCards(this.ids),$(".cards",this.dom).sortable()},FlashcardList.prototype.removeCard=function(e,t){var a=this;fs.confirm("Are you sure you want to remove this flashcard?",function(s){fs.unmix(e);var o=a.ids.indexOf(t);a.ids.splice(o,1),a.cards.splice(o,1),a.renumber(),a.parent.saveCards(a.ids),s()})},FlashcardList.prototype.renumber=function(){for(var e in this.cards)this.cards[e].index(+e+1)},FlashcardList.prototype.selectHighlight=function(e){for(var t in this.cards)this.cards[t].highlighting(!1);e.highlighting(!0),this.parent.image.setCoords(e.highlight),this.parent.image.renderImage()},FlashcardList.prototype.getHighlight=function(){for(var e in this.cards)if(this.cards[e].highlighting())return this.cards[e].highlight;return!!this.cards.length&&(this.cards[0].highlighting(!0),this.cards[0].highlight)},FlashcardList.prototype.updateHighlight=function(e){for(var t in this.cards)if(this.cards[t].highlighting())return this.cards[t].highlight=e;if(this.cards.length)return this.cards[0].highlighting(!0),this.cards[0].highlight=h1},FlashcardList.prototype.saveHighlight=function(){var e=[],t=!1;for(var a in this.cards)this.cards[a].highlight?(e.push(this.cards[a].highlight),t=!0):e.push({});return t?e:null},a.exports=FlashcardList}),define("models.concept.FlashcardSelectBlock",function(e,t,a){function FlashcardSelectBlock(e,t){this;for(var a in e(this),this.container=fs.mix(this,"models/resource/FactContainer"),this.flashcards=s.createQuickFlashcards(t.parent.parent.parent.parent.flashcards),this.flashcards)this.container.push(this.flashcards[a])}var s=t("app/recManager");FlashcardSelectBlock.prototype.isEmpty=function(){return!this.flashcards.length},FlashcardSelectBlock.prototype.getBadgeCount=function(){return this.container.unscheduledCount()},a.exports=FlashcardSelectBlock}),define("models.concept.GenericBlock",function(e,t,a){a.exports=function GenericBlock(){}}),define("models.concept.ImageBlock",function(e,t,a){function ImageBlock(e,t){var a=this;this.term=t.term,this.node=t.node,this.editing=t.editing,this.caption=ko.observable(),this.url=ko.observable(),this.mediaState=ko.observable("view"),this.editingMedia=ko.observable(!1),this.highlightType=ko.observable("p"==t.node.data().ht?"Point":"Rect"),this.isStatic=ko.observable(!1),this.src="",this.imgSrc=ko.observable(),e(this),this.fcList=fs.mix(this,"models/concept/FlashcardList",{term:t.term,fc:t.node.data().fc,hl:t.node.data().hl}),this.render(),this.highlightType.subscribe(function(){a.updateData("ht","Rect"==a.highlightType()?"r":"p"),a.render()})}var s=t("models/content"),o=t("models/concept/Block");fs.extend(ImageBlock,o),ImageBlock.prototype.render=function(){var e=this,t=this.node.data();if(t.n){var a=nodeIndex[t.n],s=a.data();this.isStatic(4!=a.subtype()),1==a.subtype()&&(this.caption(s.t),this.url(s.u)),this.src="https://d16qt3wv6xm098.cloudfront.net/"+s.$,this.imgSrc(this.src),fs.empty($(".image-space",this.dom)),this.image=fs.mixAppend($(".image-space",this.dom),"models/concept/Image"+this.highlightType()+"Highlight",{src:this.src,highlight:e.fcList.getHighlight(),updateHighlight:function updateHighlight(t){e.fcList.updateHighlight(t),e.updateData("hl",e.fcList.saveHighlight())}})}else this.changeImage()},ImageBlock.prototype.changeImage=function(){this.mediaState("change"),fs.empty($(".image-space",this.dom)),$(".image-space",this.dom).append("<div class=\"fwb\">Add image</div><div class=\"img\"/>"),this.img=s($(".image-space .img",this.dom),"",!0)},ImageBlock.prototype.saveImage=function(){var e=this.img.content();fs.empty($(".image-space",this.dom)),isNaN(+e.a)?fs.alert("Attach a single image only."):(this.updateData("n",+e.a),this.render()),this.mediaState("view")},ImageBlock.prototype.editNodeData=function(){dialog("ui/dialogs/EditNodeData",function(){},{term:this.term,node:this.node})},a.exports=ImageBlock}),define("models.concept.ImageHighlight",function(e,t,a){var s=Math.round;function ImageHighlight(){}ImageHighlight.prototype.createCanvas=function(){var t=this;this.canvas=$("canvas",this.dom),this.context=this.canvas[0].getContext("2d"),this.origin={},this.pos={},this.canvas.mousedown(function(a){var e=s(a.pageX-t.canvas.offset().left),o=s(a.pageY-t.canvas.offset().top);t.mouseIsDown=!0,t.origin={x:e,y:o},t.pos={x:e,y:o},t.renderImage()}).mousemove(function(a){if(t.mouseIsDown){var e=s(a.pageX-t.canvas.offset().left),o=s(a.pageY-t.canvas.offset().top);t.pos={x:e,y:o},t.renderImage()}}).mouseup(function(a){var e=s(a.pageX-t.canvas.offset().left),o=s(a.pageY-t.canvas.offset().top);t.mouseIsDown=!1,t.renderImage(),t.updateHighlight(t.save())})},ImageHighlight.prototype.loadImage=function(e){var t=this;this.image=new Image,this.image.onload=function(){t.canvas.attr("width",this.width).attr("height",this.height),t.renderImage()},this.image.src=e},ImageHighlight.prototype.toDataURL=function(e){return this.canvas[0].toDataURL(e)},a.exports=ImageHighlight}),define("models.concept.ImagePointHighlight",function(e,t,a){function ImagePointHighlight(e,t){this.updateHighlight=t.updateHighlight,e(this),this.radius=t.radius,this.lineWidth=t.lineWidth,this.fillStyle=t.fillStyle,this.strokeStyle=t.strokeStyle,this.createCanvas(),this.setCoords(t.highlight),this.loadImage(t.src)}var s=t("models/concept/ImageHighlight");fs.extend(ImagePointHighlight,s),ImagePointHighlight.prototype.renderImage=function(){var e=this.context;e.globalAlpha=1,e.fillStyle="white",e.fillRect(0,0,this.image.width,this.image.height),e.drawImage(this.image,0,0);var t=this.pos.x,a=this.pos.y,s=this.radius||5;e.beginPath(),e.arc(t,a,s,0,2*Math.PI,!1),e.fillStyle=this.fillStyle||"blue",e.fill(),e.lineWidth=this.lineWidth||2,e.strokeStyle="#000033",e.stroke()},ImagePointHighlight.prototype.save=function(){return{x:this.origin.x,y:this.origin.y}},ImagePointHighlight.prototype.setCoords=function(e){if(e){if("t"in e)return{x:this.origin.x,y:this.origin.y};this.origin={x:e.x-10,y:e.y-10},this.pos={x:e.x+10,y:e.y+10}}else this.origin={},this.pos={}},a.exports=ImagePointHighlight}),define("models.concept.ImageRectHighlight",function(e,t,a){function ImageRectHighlight(e,t){this.updateHighlight=t.updateHighlight,e(this),this.createCanvas(),this.setCoords(t.highlight),this.loadImage(t.src)}var s=t("models/concept/ImageHighlight");fs.extend(ImageRectHighlight,s),ImageRectHighlight.prototype.renderImage=function(){var e=this.context;e.globalAlpha=1,e.fillStyle="white",e.fillRect(0,0,this.image.width,this.image.height),e.drawImage(this.image,0,0);var t=this.origin.x,a=this.origin.y,s=this.pos.x,o=this.pos.y;e.fillStyle="black",e.globalAlpha=.5,e.fillRect(0,0,this.image.width,a),e.fillRect(0,o,this.image.width,this.image.height-o),e.fillRect(0,a,t,o-a),e.fillRect(s,a,this.image.width-s,o-a)},ImageRectHighlight.prototype.save=function(){return{t:this.origin.y,l:this.origin.x,b:this.pos.y,r:this.pos.x}},ImageRectHighlight.prototype.setCoords=function(e){e?"t"in e?(this.origin={x:e.l,y:e.t},this.pos={x:e.r,y:e.b}):(this.origin={x:e.x-10,y:e.y-10},this.pos={x:e.x+10,y:e.y+10}):(this.origin={},this.pos={})},a.exports=ImageRectHighlight}),define("models.concept.InteractiveBlock",function(e,t,a){function InteractiveBlock(e,t){var a=this;this.term=t.term,this.editing=t.editing,this.editLink=ko.observable(),this.node=t.node,this.mediaState=ko.observable("view"),this.editingMedia=ko.observable(!1);var s=this.node.data();this.caption=ko.observable(s&&s.c?s.c:null),this.src="",this.hasFlashcards=ko.observable(),this.flashcardTab=0;var o=t.parent.parent.parent.parent.pageTabs();for(var l in o)if("Cards"==o[l].label){this.flashcardTab=l,this.hasFlashcards(!0);break}e(this),this.pluginName="plugin"+n.next(),d(this.pluginName).on("plugin-ready",function(){a.sceneData&&d(a.pluginName).post("render",a.sceneData)})}var s=t("models/content"),o=t("models/concept/Block"),d=t("app/plugin"),n=t("app/pluginIndex");fs.extend(InteractiveBlock,o),InteractiveBlock.prototype.show=function(){this.render()},InteractiveBlock.prototype.render=function(){var e=this.node.data();if(e.n){this.sceneData=nodeIndex[e.n].data(),this.editLink("/editanatomy?n="+e.n+"&c="+this.parent.parent.concept.replace(/\s/g,"_"));var t=$(".plugin-space",this.dom);t.empty(),t.append("<iframe name=\""+this.pluginName+"\" src=\""+n.player.anatomy+"\" width=\"100%\" height=\"400\" frameborder=\"0\" allowfullscreen=\"\">"),d(this.pluginName).setWindow($("iframe",self.dom)[0].contentWindow)}else this.mediaState("new")},InteractiveBlock.prototype.isEmpty=function(){var e=this.node.data();return!e.n},InteractiveBlock.prototype.changeScene=function(){this.mediaState("change"),fs.empty($(".video-space",this.dom)),$(".video-space",this.dom).append("<div class=\"fwb\">Add video</div><div class=\"video\"/>");var e=this.node.data();this.video=s($(".video-space .video",this.dom),e&&e.n?"<node id=\""+e.n+"\"/>":"",!0)},InteractiveBlock.prototype.saveScene=function(){this.update(),this.render(),this.mediaState("view")},InteractiveBlock.prototype.newScene=function(){var e=this;fs.create("node",{m:MID,type:3,subtype:1,data:{}},function(t){e.editLink("/editanatomy?n="+t.nodeID+"&c="+e.parent.parent.concept.replace(/\s/g,"_"));var a=e.node.data();a.n=+t.nodeID,e.caption()&&(a.c=e.caption()),e.update(),e.mediaState("view")})},a.exports=InteractiveBlock}),define("models.concept.LearnBlock",function(e,t,a){function LearnBlock(){}function navToSection(e,t){goToByScroll(t.dom,-10,".models-concept-Container"),o.pauseAll(),t.play&&t.play()}var s=t("models/concept/Wiki"),o=t("ui/videoPlayer");LearnBlock.prototype.render=function(e,t){var a=this;this.pages=t,this.sections=[],this.recLevels=this.determineRecommendation();var s=fs.mixAppend(this.dom,"models/concept/learn/SummarySection",{name:e,summary:t.Summary,redirect:t.Redirect,meta:t.Meta,rec:this.recLevels.Summary,refs:t.Overview,openWikiTab:function openWikiTab(){a.parent.parent.parent.parent.showWikiTab()}});this.sections.push(s),s.dom.addClass("learn-section"),this.dom.append("<div class=\"major-divider\">"),this.dom.append("<div class=\"major-divider\">"),this.addBlock("VideoSection","Physiology"),this.addBlock("VideoSection","Pathophysiology"),this.addBlock("VideoSection","Pharmacology"),this.addBlock("VideoSection","Interventions"),this.addBlock("VideoSection","Intervention"),this.addBlock("VideoSection","Patient Story"),this.addBlock("VideoSection","Patient Experience"),this.addBlock("InteractiveSection","Anatomy"),this.dom.append("<div class=\"major-divider\">"),this.dom.append("<div class=\"major-divider\">"),this.addBlock("TableSection","Table"),this.addBlockGroup("LinkSection","3D Anatomy"),this.addBlockGroup("LinkSection","Picmonic"),this.addBlockGroup("LinkSection","Sketchy Medical"),this.addBlockGroup("LinkSection","Celeb Dx"),this.dom.append("<div class=\"major-divider\">"),this.dom.append("<div class=\"major-divider\">"),this.addBlock("RefSection","First Aid")},LearnBlock.prototype.determineRecommendation=function(){var e={},t=this.parent.parent.parent.parent;if(t.seriesData){var a=t.seriesData.hits,s=t.seriesData.progress,o=t.name()+" is mentioned <span class=\"fcg\">"+a+"</span>"+(1==a?" time ":" times ");if(50<s)var d="because you've already answered <span class=\"fcg\">"+(s||0)+"%</span> of the related flashcards";else var d="because you've answered <span class=\"fcg\">"+(s||0)+"%</span> of the related flashcards";var n="because understanding spatial relationships between structures is key to acing your anatomy exams.";e=50>s||2>=a?20<=a?{Summary:{state:"recommended",caption:o},Pathophysiology:{state:"recommended",caption:d},"Patient Story":{state:"recommended",caption:"because stories not only give insight to patient lives but also help our brains anchor memories more effectively."},"Patient Experience":{state:"recommended",caption:"because stories not only give insight to patient lives but also help our brains anchor memories more effectively."},"3D Anatomy":{state:"recommended",caption:n},"Celeb Dx":{state:"recommended",caption:"because celebrity stories help create salient memory anchors that make your brain more likely to recall disease facts later."},"First Aid":"recommended"}:10<=a?{Summary:{state:"recommended",caption:o},Pathophysiology:{state:"recommended",caption:d},"Patient Story":{state:"recommended",caption:"because stories not only give insight to patient lives but also help our brains anchor memories more effectively."},"Patient Experience":{state:"recommended",caption:"because stories not only give insight to patient lives but also help our brains anchor memories more effectively."},"3D Anatomy":{state:"recommended",caption:n},"Celeb Dx":{state:"skim"},"First Aid":"recommended"}:5<=a?{Summary:{state:"recommended",caption:o},Pathophysiology:{state:"recommended",caption:d},"Patient Story":{state:"recommended",caption:"because stories not only give insight to patient lives but also help our brains anchor memories more effectively."},"Patient Experience":{state:"recommended",caption:"because stories not only give insight to patient lives but also help our brains anchor memories more effectively."},"3D Anatomy":{state:"recommended",caption:n},"First Aid":"recommended"}:2<a?this.pages.Pathophysiology?{Summary:{state:"skim",caption:o},Pathophysiology:{state:"recommended",caption:d}}:{Summary:{state:"skim",caption:o},Pathophysiology:{state:"optional",caption:"because \""+t.name()+"\" is mentioned infrequently in lecture"}}:{Summary:{state:"skim",caption:o},Pathophysiology:{state:"optional",caption:"because \""+t.name()+"\" is mentioned infrequently in lecture"}}:{Summary:{state:"skim",caption:o},Pathophysiology:{state:"optional",caption:"because you've already covered this material"}}}return e},LearnBlock.prototype.addBlock=function(e,t){var a=this.pages[t];if(a){for(var s in a){var o=fs.mixAppend(this.dom,"models/concept/learn/"+e,{parent:this,label:0==s?t:"",rec:this.recLevels[t],block:a[s]});o.dom.addClass("learn-section"),this.sections.push(o)}this.dom.append("<div class=\"major-divider\">")}},LearnBlock.prototype.addBlockGroup=function(e,t){var a=this.pages[t];if(a){var s=fs.mixAppend(this.dom,"models/concept/learn/"+e,{label:t,nodes:a,parent:this});s.dom.addClass("learn-section"),this.sections.push(s),this.dom.append("<div class=\"major-divider\">")}},LearnBlock.prototype.getSectionIndex=function(e){if(e&&e.length)for(var t in this.sections)if(this.sections[t].dom[0]==e[0])return t;return-1},LearnBlock.prototype.nextSection=function(){var e=this,t=getScrolledToElem(e.parent.parent.dom,".learn-section",50),a=+e.getSectionIndex(t);if(-1!=a)for(var s=e.sections[a];a<e.sections.length-1;){a++;var o=e.sections[a];if(null!==o.dom[0].offsetParent){navToSection(s,o);break}}},LearnBlock.prototype.prevSection=function(){var e=this,t=getScrolledToElem(e.parent.parent.dom,".learn-section",50),a=+e.getSectionIndex(t);if(-1!=a)for(var s=e.sections[a];0<a;){a--;var o=e.sections[a];if(null!==o.dom[0].offsetParent){navToSection(s,o);break}}},a.exports=LearnBlock}),define("models.concept.MediaBlock",function(e,t,a){a.exports=function InsertMedia(){}}),define("models.concept.MetaBlock",function(e,t,a){function MetaBlock(e,t){this.term=t.term,this.editing=t.editing,this.node=t.node;var a=this.node.data();a.status=a.status||{},a.quiz=a.quiz||{},this.mode=ko.observable("view"),this.status=ko.observableArray(),this.quizCaption=ko.observable(a.quiz.caption),this.quizAddr=ko.observable(a.quiz.addr),this.wikiLink=ko.observable(a.wiki),e(this);var s=[];for(var n in d)s.push({ref:d[n].ref,label:d[n].label,value:ko.observable(a.status[d[n].ref]||d[n].default),options:_.map(d[n].options.split("|"),function(e){return{label:e,value:e}})});this.status(s),o($(".textEditor",this.dom),a&&a.c?a.c:null)}var s=t("models/concept/Block"),o=t("models/content"),d=[{ref:"video",label:"Phys/Path/Pharm Video",options:"Osmosis Produced|High Quality|Good Quality|Low Quality|Not Rated",default:"Not Rated"},{ref:"patient",label:"Patient Video",options:"Osmosis Produced|High Quality|Good Quality|Low Quality|Not Rated",default:"Not Rated"},{ref:"fc",label:"Flashcard Set",options:"High Quality|Good Quality|Needs Review|Incomplete|Not Rated",default:"Not Rated"},{ref:"step1",label:"Step 1 Questions",options:"High Quality|Good Quality|Needs Review|Incomplete|Not Rated",default:"Not Rated"},{ref:"step2",label:"Step 2 Questions",options:"High Quality|Good Quality|Needs Review|Incomplete|Not Rated",default:"Not Rated"},{ref:"comlex",label:"COMLEX",options:"High Quality|Good Quality|Needs Review|Incomplete|NA",default:"NA"}];fs.extend(MetaBlock,s),MetaBlock.prototype.editText=function(){this.mode("edit")},MetaBlock.prototype.saveText=function(){var e=this.node.data(),t=this.status();for(var a in t)e.status[t[a].ref]=t[a].value();(this.quizCaption()||this.quizAddr())&&(e.quiz={caption:this.quizCaption(),addr:this.quizAddr()}),e.wiki=this.wikiLink(),this.update(),this.mode("view")},a.exports=MetaBlock}),define("models.concept.QuesBlock",function(e,t,a){function QuesBlock(e,t){this.term=t.term,this.node=t.node,this.editing=t.editing,this.tags=ko.observableArray(),e(this),this.fcList=fs.mix(this,"models/concept/FlashcardList",{term:t.term,fc:t.node.data().fc,hl:t.node.data().hl}),this.render()}var s=t("models/concept/Block"),o=t("models/Node"),d=t("app/contentTags");fs.extend(QuesBlock,s),QuesBlock.prototype.render=function(){if(fs.empty($(".ques",this.dom)),this.node.data().q){var e=nodeIndex[this.node.data().q];fs.mixAppend($(".ques",this.dom),"models/ques/QuesPreview",{parent:this,node:e,mode:"view"});var t=e.data().t;t&&this.tags(d.deserialize(t))}},QuesBlock.prototype.getQuesID=function(){return this.node.data().q},QuesBlock.prototype.setQues=function(e){this.updateData("q",e),this.render()},QuesBlock.prototype.editQuestion=function(){var e=this;if(!this.node.data().q){var t=new o;t.type(5).subtype(1).data({q:"",ao:0,a:[{v:""},{v:""},{v:""},{v:""}],e:""}),t.MID=2856}else var t=null;dialog("ui/dialogs/EditItem",function(a,s){t&&(e.setQues(t.nodeID),fs.post("editorSubmitForReview",{nodeID:t.nodeID},function(){})),s&&e.render()},{model:t||nodeIndex[this.node.data().q],tools:{types:"none",tags:!1,contentTeamTags:!0}})},QuesBlock.prototype.moveQuestion=function(){var e=this,t=["Sideline","Discard","Step 1 Case","Step 1 Factoid","Step 2 Case","Step 1+2 Case","Celeb Case","COMLEX"];dialog("ui/dialogs/MultiSelect",function(a,s){if(s){var o=e.parent.parent.label(),d=t[a.selected()];e.parent.parent.parent.parent.moveBlock(e.node.nodeID,o,d)}},{items:t,noOther:!0})},a.exports=QuesBlock}),define("models.concept.SearchBlock",function(e,t,a){function SearchBlock(e,t){this;this.term=t.term,e(this),this.timelineSearch=fs.mix(this,"ui/TimelineSearch")}SearchBlock.prototype.show=function(){this.timelineSearch.width||(this.timelineSearch.width=this.dom.width(),this.timelineSearch.height=$(window).height()-200,this.timelineSearch.search(this.term.toLowerCase()))},a.exports=SearchBlock}),define("models.concept.TableBlock",function(e,t,a){function TableBlock(e,t){this.term=t.term,this.editing=t.editing,this.nodeID=ko.observable(),this.node=t.node;var a=this.node.data();this.mode=ko.observable("view"),e(this),this.nodeID(a&&a.n?a.n:""),this.nodeID()&&this.render()}var s=t("models/concept/Block"),o=t("models/content");fs.extend(TableBlock,s),TableBlock.prototype.editNode=function(){this.mode("edit");var e=this.node.data();this.text=o($(".textEditor",this.dom),e&&e.c?e.c:null,!0)},TableBlock.prototype.importNode=function(){var e=this,t=this.node.data();t.n=this.nodeID,fs.post("importTableNodes",{term:this.term,nodeID:t.n},function(){e.update(),e.mode("view"),e.render()})},TableBlock.prototype.render=function(){fs.empty($(".table-preview",this.dom)),fs.mixAppend($(".table-preview",this.dom),"ui/ContentTable",{model:nodeIndex[this.nodeID()]})},a.exports=TableBlock}),define("models.concept.TextBlock",function(e,t,a){function TextBlock(e,t){this.term=t.term,this.editing=t.editing,this.node=t.node;var a=this.node.data();this.mode=ko.observable("view"),e(this),o($(".textEditor",this.dom),a&&a.c?a.c:null)}var s=t("models/concept/Block"),o=t("models/content");fs.extend(TextBlock,s),TextBlock.prototype.editText=function(){this.mode("edit");var e=this.node.data();this.text=o($(".textEditor",this.dom),e&&e.c?e.c:null,!0)},TextBlock.prototype.saveText=function(){var e=this.text.content();if("string"==typeof e){var t=this.node.data();t.c=e,this.update(),this.mode("view"),fs.empty($(".textEditor",this.dom)),o($(".textEditor",this.dom),t&&t.c?t.c:null)}else fs.alert("Attachments not allowed in a text-only block.")},a.exports=TextBlock}),define("models.concept.VideoBlock",function(e,t,a){function VideoBlock(e,t){this.term=t.term,this.editing=t.editing,this.node=t.node,this.mediaState=ko.observable("view"),this.editingMedia=ko.observable(!1);var a=this.node.data();this.caption=ko.observable(a&&a.c?a.c:null),this.src="",this.videoPlayerObj=ko.observable(),this.hasFlashcards=ko.observable(),this.flashcardTab=0;var s=t.parent.parent.parent.parent.pageTabs();for(var o in s)if("Cards"==s[o].label){this.flashcardTab=o,this.hasFlashcards(!0);break}e(this),this.cards=fs.mix(this,"models/concept/FlashcardList",{term:t.term,fc:t.node.data().fc}),this.render()}var s=t("models/content"),o=t("models/concept/Block"),d=t("ui/videoPlayer");fs.extend(VideoBlock,o),VideoBlock.prototype.render=function(){var e=this.node.data();if(e.n){var t=nodeIndex[e.n].data();this.src=t;var a=$(".video-space",this.dom);fs.empty(a),this.videoPlayerObj(d.embed(this.src,a)),a.append(this.videoPlayerObj().el)}else this.changeVideo()},VideoBlock.prototype.isEmpty=function(){var e=this.node.data();return!e.n},VideoBlock.prototype.changeVideo=function(){this.mediaState("change"),fs.empty($(".video-space",this.dom)),$(".video-space",this.dom).append("<div class=\"fwb\">Add video</div><div class=\"video\"/>");var e=this.node.data();this.video=s($(".video-space .video",this.dom),e&&e.n?"<node id=\""+e.n+"\"/>":"",!0)},VideoBlock.prototype.saveVideo=function(){var e=this.video.content();if(fs.empty($(".video-space",this.dom)),!isNaN(+e.a)){var t=nodeIndex[+e.a].data();this.src=t;var t=this.node.data();t.n=+e.a,this.caption()&&(t.c=this.caption()),this.update(),this.render()}else fs.alert("Attach a single video only.");this.mediaState("view")},VideoBlock.prototype.testGet=function(){var e=this.videoPlayerObj().player.currentTime();console.log(e)},VideoBlock.prototype.testJump=function(){this.videoPlayerObj().player.currentTime(3)},VideoBlock.prototype.play=function(){this.videoPlayerObj().player.play()},VideoBlock.prototype.changeSpeed=function(e){var t=this;return function(){t.videoPlayerObj().player.hasStarted_?t.videoPlayerObj().player.playbackRate(e):(t.videoPlayerObj().player.play(),setTimeout(function(){t.videoPlayerObj().player.playbackRate(e)},3e3))}},VideoBlock.prototype.flagFlashcards=function(){var e=this.parent.parent.parent.parent;e.selectTab(this.flashcardTab)},a.exports=VideoBlock}),define("models.concept.Wiki",function(e,t,a){function Wiki(e,t){var a=this;e(this),this.article=fs.mix(this,"ui/WikiArticle"),this.article.get("/wiki/"+t.concept,function(){a.parseArticle()})}var s=t("ui/wikiViewer");Wiki.prototype.parseArticle=function(){var e=this;$("a",this.article.dom).each(function(t,a){var s=$(a).attr("href");if(!s)$(a).attr("target","_blank");else if(0==s.search("/wiki"))$(a).attr("href","http://en.wikipedia.org"+s),e.makeInternalLink($(a));else if(0==s.search("/w/index.php")){var o=s.slice(19).split("&");$(a).attr("href","http://en.wikipedia.org/wiki/"+o[0]),e.makeInternalLink($(a))}else 0==s.search("#")?(e.makeHashtagLink($(a)),$(a).addClass("hashtagLink")):$(a).attr("target","_blank")})},Wiki.prototype.makeHashtagLink=function(t){var a=this,s=$(".article-body",this.dom);t.click(function(s){s.preventDefault(),a.parent.parent.dom.scrollTop($(t.attr("href"),a.dom).offset().top-a.parent.dom.offset().top)})},Wiki.prototype.makeInternalLink=function(e){var t=this,a=e.attr("href").slice(23);return-1==a.search(":")?void e.click(function(t){return t.preventDefault(),-1==window.location.pathname.search("/editconcept")?void s.showWiki(a.slice(6).replace(/\_/g," "),{ref:"concept-card-wiki"}):void(window.location.href="/editconcept?term="+a.slice(6))}):e.attr("target","_blank")},a.exports=Wiki}),define("models.concept.WikiBlock",function(e,t,a){function WikiBlock(e,t){var a=this;if(this.node=t.node,this.hasConceptCard=ko.observable(t.parent.parent.parent.parent.hasConceptCard),this.articles=ko.observableArray(),this.node){var s=this.node.data().r;for(var o in s)this.articles.push(nodeIndex[s[o]].data())}e(this),this.article=fs.mix(this,"ui/WikiArticle"),this.article.get("/wiki/"+t.concept,function(){a.parseArticle()})}var s=t("models/concept/Wiki");fs.extend(WikiBlock,s),a.exports=WikiBlock}),define("models.concept.conceptView",function(e,t){e.models=t("shared/conceptBlockSubtypes").blocks,e.names={LearnBlock:"Learn Block",WikiBlock:"Wiki Block",ImageBlock:"Image",VideoBlock:"Video",SlideBlock:"Slide",URLBlock:"URL",BookRefBlock:"Book",InteractiveBlock:"Interactive",QuesBlock:"Ques",TextBlock:"Text",TableBlock:"Table",SearchBlock:"Search",MetaBlock:"Meta",FlashcardBlock:"Flashcards",FlashcardSelectBlock:"Cards",FeedbackBlock:"Feedback"},e.getSubtype=function(t){var a=e.models.indexOf(t);return a+1}}),define("models.concept.learn.InteractiveSection",function(e,t,a){function InteractiveSection(e,t){var a=this;this.label=ko.observable(t.label),this.node=t.block,this.visible=ko.observable(!0),this.isSeries=t.parent.parent.parent.parent.parent.isSeries(),e(this),fs.mix(this,"models/concept/learn/RecMargin",t.rec),this.pluginName="plugin"+o.next(),s(this.pluginName).on("plugin-ready",function(){a.sceneData&&s(a.pluginName).post("render",a.sceneData)}),this.render()}var s=t("app/plugin"),o=t("app/pluginIndex");InteractiveSection.prototype.render=function(){var e=this,t=this.node.data();if(t.n){this.sceneData=nodeIndex[t.n].data();var a=$(".plugin-space",this.dom);a.empty(),a.append("<iframe name=\""+this.pluginName+"\" src=\""+o.player.anatomy+"\" width=\"100%\" height=\"400\" frameborder=\"0\" allowfullscreen=\"\">"),s(this.pluginName).setWindow($("iframe",e.dom)[0].contentWindow)}},InteractiveSection.prototype.sizeVideo=function(){var e=780>=$(window).width()?$(window).width()-126:640,t=9*e/16;$(".video-space",this.dom).attr("width",e).attr("height",t),$(".video-js",this.dom).css({width:e+"px",height:t+"px"})},a.exports=InteractiveSection}),define("models.concept.learn.LinkSection",function(e,t,a){function LinkSection(e,t){this.label=ko.observable(t.label);var a=t.nodes;for(var s in this.links=ko.observableArray(),a){var o=this.addLink(a[s]);o&&this.links.push(o)}e(this),fs.mix(this,"models/concept/learn/RecMargin",t.rec)}LinkSection.prototype.addLink=function(e){var t=e.data();if(t.n){var a=nodeIndex[t.n],s=a.data(),o={caption:s.t,url:s.u,src:"https://d16qt3wv6xm098.cloudfront.net/"+s.$};return o}return o},a.exports=LinkSection}),define("models.concept.learn.RecMargin",function(e,t,a){a.exports=function RecMargin(e,t){this.state=ko.observable(t.state),this.caption=ko.observable(t.caption)}}),define("models.concept.learn.RefSection",function(e,t,a){function RefSection(e,t){var a=this;this.label=ko.observable(t.label),this.term=t.term,this.editing=t.editing,this.node=t.block,this.rec=ko.observable(t.rec),this.visible=ko.observable(!0);var s=this.node.data();this.edition=window.userSchedule&&window.userSchedule.books?ko.observable(window.userSchedule.books[s.book]):ko.observable(n[s.book]);var o={f14:"First Aid 2014",f15:"First Aid 2015",f16:"First Aid 2016",f17:"First Aid 2017"};this.editionStr=ko.computed(function(){return o[a.edition()]}),this.setEdition(a.edition()),e(this),setTimeout(function(){a.render()},1e3),fs.mix(this,"models/concept/learn/RecMargin",t.rec)}function getShortest(e){var t=e[0],a=1e7;for(var s in e){var o=e[s].height();o<a&&(a=o,t=e[s])}return t}function parseGroup(e){var t=[];for(var a in e){var s=e[a].split("|");t.push({name:s[0],page:s[1]})}return t}var s=t("models/content"),o=t("models/concept/Block"),d=t("app/wikify"),n={fa:"f17"};RefSection.prototype.setEdition=function(e){var t=this.node.data();this.edition(e),this.refs=t[this.edition()],this.refs&&this.refs.sort(function(e,t){return e.primary&&!t.primary?-1:!e.primary&&t.primary?1:0})},RefSection.prototype.switchEdition=function(e){var t=this;return function(a){fs.post("setFAVersion",{edition:e},function(){t.setEdition(e),t.render(),a()})}},RefSection.prototype.render=function(){var e=[$(".col-1",this.dom),$(".col-2",this.dom),$(".col-3",this.dom)];for(var t in e)fs.empty(e[t]);for(var t in this.visible(!!this.refs),this.refs){var a=this.refs[t],s=a.ref.split("|");fs.mixAppend(getShortest(e),"models/concept/BookRef",{name:s[0],page:s[1],group:parseGroup(a.group)})}d.wikifyElements($(".wikify",this.dom),{ref:"concept-card-bookref"})},a.exports=RefSection}),define("models.concept.learn.SummarySection",function(e,t,a){var s=t("app/wikify");a.exports=function SummarySection(e,t){if(this.text=ko.observable(),this.articles=ko.observableArray(),t.summary&&(this.summary=t.summary[0],this.summary)){var a=this.summary.data().c;this.text(a)}if(this.redirect=t.redirect&&t.redirect[0]?t.redirect[0].data().c:"",this.refs=t.refs,this.refs){var o=this.refs[0],d=o.data().r;for(var n in d)this.articles.push({publisher:"Medscape",data:nodeIndex[d[n]].data()})}var l=t.meta&&t.meta[0]?t.meta[0].data().wiki:"";"none"!=l&&this.articles.push({publisher:"Wikipedia",data:{t:t.name,u:"/wiki/"+(l||t.name).replace(/\s/g,"_")}}),e(this),$("a.Wikipedia",this.dom).click(function(a){a.preventDefault(),t.openWikiTab()}),t.redirect&&($(".redirect ul",this.dom).addClass("content-text"),s.wikifyElements($(".wikify",this.dom),{ref:"concept-card-redirect"})),fs.mix(this,"models/concept/learn/RecMargin",t.rec)}}),define("models.concept.learn.TableSection",function(e,t,a){a.exports=function TableSection(e,t){this.label=ko.observable(t.label),this.node=t.block,this.visible=ko.observable(!0),e(this),fs.mix(this,"models/concept/learn/RecMargin",t.rec),fs.mixAppend($(".main-content",this.dom),"ui/ContentTable",{model:nodeIndex[this.node.data().n]})}}),define("models.concept.learn.VideoSection",function(e,t,a){function VideoSection(e,t){this.label=ko.observable(t.label),this.node=t.block,this.visible=ko.observable(!0),this.isSeries=t.parent.parent.parent.parent.parent.isSeries(),e(this),fs.mix(this,"models/concept/learn/RecMargin",t.rec),this.render()}var s=t("ui/videoPlayer");VideoSection.prototype.render=function(){var e=this,t=this.node.data();if(t.n){var a=nodeIndex[t.n].data();console.log(a),this.src=a,this.src||this.visible(!1);var o=$(".video-space",this.dom);fs.empty(o),this.sizeVideo(),this.playerObj=s.embed(this.src,o),o.append(this.playerObj.el),e.sizeVideo(),$(window).resize(function(){e.sizeVideo()})}else this.visible(!1)},VideoSection.prototype.sizeVideo=function(){var e=780>=$(window).width()?$(window).width()-126:640,t=9*e/16;$(".video-space",this.dom).attr("width",e).attr("height",t),$(".video-js",this.dom).css({width:e+"px",height:t+"px"})},VideoSection.prototype.changeSpeed=function(e){var t=this;return function(){t.playerObj.player.hasStarted_?t.playerObj.player.playbackRate(e):(t.playerObj.player.play(),setTimeout(function(){t.playerObj.player.playbackRate(e)},3e3))}},VideoSection.prototype.play=function(){this.playerObj.player.paused()&&this.playerObj.player.play()},VideoSection.prototype.pause=function(){this.playerObj.player.pause()},a.exports=VideoSection}),define("models.feed.NewsFeedContainer",function(){function NewsFeedContainer(e,t){this.feedList=t.model,this.dom=t.dom,e(this),this.buildFeed()}NewsFeedContainer.prototype.buildFeed=function(){var e=this;this.feedItems=fs.mixList(this,".newsFeedList").source("postItems","models/NewsItemView",{source:this.feedList});var t=0,a=0,s=0;for(var o in this.feedItems)if(0==a&&(col1=$("<div class=\"feed-col1 col-lg-6\">"),col2=$("<div class=\"feed-col2 col-lg-6\">"),e.dom.append(col1),e.dom.append(col2)),0!=0%6)0==t?(col1.append(e.feedItems[o].dom),t++):(col2.append(e.feedItems[o].dom),t--);else{var d=e.getFeaturedItem(s);e.dom.append(d),a=0,s++}},NewsFeedContainer.prototype.getFeaturedItem=function(){return"<div><p>Featured Item</p></div>"},model.exports=NewsFeedContainer}),define("models.feed.PostBlock",function(e,t,a){a.exports=function PostBlock(e,t){this.enabled=ko.observable(!0),this.header=ko.observable(),this.title=t.model&&t.model.user?t.model.user:ko.observable(),this.subtitle=ko.observable(),this.caption=ko.observable(),this.avatar=ko.observable(),this.hasCustomAvatar=ko.observable(),e(this),fs.mixAppend($(".avatar",this.dom),"ui/Avatar",{userID:t.model.userID,userName:t.model.user});var a=$.extend({},t);a.parent=this,fs.mixAppend($(".panel-body",this.dom),t.viewModel,a)}}),define("models.feed.PostView",function(e,t,a){function PostView(e,t){var a=this;this.post=t.model,this.authorName=s.is(this.post.userID),this.itemContent=ko.observable(this.post.content),this.postedOnStr=ko.computed(function(){return $("<span>"+a.post.created()+"</span>").cuteTime().html()}),this.itemTypeDescr=ko.computed(function(){return{ask:"<i class=\"fa fa-comment\" />Asked a question...",art:"<i class=\"fa fa-file-alt\" />Posted an article...",img:"<i class=\"fa fa-camera-retro\" />Uploaded an image... ",vid:"<i class=\"fa fa-video\" />Linked a video..."}[a.post.data().t]}),e(this),o($(".post-body",this.dom),this.post.data().m),this.commentList=fs.mixList(this,".commentList").source("comment","models/CommentView",{source:this.post.comments}),this.avatar=fs.mix(this,"ui/Avatar",{userID:a.post.userID,userName:a.post.user})}var s=t("app/who"),o=t("models/content");PostView.prototype.comment=function(){var e=this.commentList.add(null,{category:2});e.comment.nodeID(this.post.nodeID).userID(userID),goToByScroll(e.dom)},PostView.prototype.remove=function(){var e=this;fs.confirm("Are you sure you want to delete this post?","Confirm Delete","danger",function(t){fs.destroy(e.post,function(){t()})})},a.exports=PostView}),define("models.feed.QuickViewQuestions",function(e,t,a){var s=t("shared/topics"),o=t("app/who");a.exports=function QuickViewQuestions(e,t){t.model;this.mode=ko.observable("view"),this.ques=t.model,e(this),this.parent.subtitle(5==this.ques.subtype()?"created a flashcard":"created a question"),this.quiz=fs.mixList(this,".quiz"),this.current=this.quiz.push("models/ques/ViewContainer",{model:this.ques,hasLocalAccess:!0,tools:{types:"none",tags:!1,actions:!0,contentTeamTags:!1,attachedSlide:!0}})}}),define("models.learn.FeaturedQuizzesSection",function(e,t,a){function FeaturedQuizzesSection(e,t){var a=[{id:"fc",quizClass:"flashcards",type:"Flashcards",count:ko.observable(0),completed:ko.observable(0),correctPercent:ko.observable(0),incorrectPercent:ko.observable(0)},{id:"ques",quizClass:"questions",type:"Questions",count:ko.observable(0),completed:ko.observable(0),correctPercent:ko.observable(0),incorrectPercent:ko.observable(0)}];this.hasPrime=1<=window.user.prime.status,this.quizTypes=ko.observableArray(a),this.breadcrumb=t.breadcrumb,this.currentQuizInfo=ko.observable({name:t.currentName,prefix:"",addr:t.currentAddr,primary:!0}),this.fcQuiz=ko.observable(),this.quesQuiz=ko.observable(),this.broadQuizzes=ko.observableArray(),this.card=t.card,this.quizBreakdownDropdownVisible=ko.observable(),e(this),this.quizBuilder=new d,this.buildBroadQuizzes();this.updateQuizzes(!0)}var s=t("app/addToQueue"),o=t("app/queues"),d=t("ui/QuizBuilder");FeaturedQuizzesSection.prototype.updateCurrentQuiz=function(e){var t=this;return function(){t.currentQuizInfo(e)}},FeaturedQuizzesSection.prototype.buildBroadQuizzes=function(){var e=[];if(this.breadcrumb){for(var t in this.breadcrumb)e.push({name:this.breadcrumb[t],prefix:this.breadcrumb[0]+"...",addr:this.breadcrumb.slice(0,+t+1).join("|")});e.push(this.currentQuizInfo()),e[0].prefix="All of ";var a=e[1].name.split(": ");1<a.length&&(e[1].name=a[1],e.splice(1,0,{name:a[0],prefix:e[0].name+" ",addr:e[0].name+"|"+a[0]})),this.broadQuizzes(e)}},FeaturedQuizzesSection.prototype.updateProgress=function(e,t){fs.post("getProgressForAddrs",{addrs:[e],type:t.id},function(a){t.count(a.progress[e].total),t.completed(a.progress[e].completed),t.correctPercent(100*(a.progress[e].correct/a.progress[e].total)),t.incorrectPercent(100*((a.progress[e].completed-a.progress[e].correct)/a.progress[e].total))})},FeaturedQuizzesSection.prototype.handleUpdateQuizzesClick=function(){var e=this.currentQuizInfo().addr;this.card.trackCardInteraction({feature:"quiz",interaction:"update",section:"side_icon",topic:e?e.toLowerCase():0}),this.updateQuizzes()},FeaturedQuizzesSection.prototype.updateQuizzes=function(){var e=this,t=this.currentQuizInfo().addr;for(var a in fs.post("getItemsByAddr",{addr:t},function(t){e.fcQuiz(t.fc),e.quesQuiz(t.ques)}),this.quizTypes())this.updateProgress(t,this.quizTypes()[a])},FeaturedQuizzesSection.prototype.startQuizNow=function(e,t){var a=this;return function(){if(a.hasPrime&&!a.card.docMode()){a.quizBuilder.quiz={ids:"fc"==e?a.fcQuiz():a.quesQuiz(),type:"fc"==e?"Flashcards":"Questions"},a.quizBuilder.displayScoreboard(null,function(){a.card.browseMode()&&a.card.closeCard()});var s="fc"==e?"flashcards":"questions";a.trackInteraction(t,s)}else a.card.docMode()&&fs.alert("You can't start a quiz while inside the document viewer, yet. However, you can Browse the cards and Save them to your Queue!")}},FeaturedQuizzesSection.prototype.addQuiz=function(e){var t=this;return function(){t.hasPrime?"fc"==e?50<t.fcQuiz().length?fs.confirm("Confirm adding "+t.fcQuiz().length+" flashcards to your queue?",function(e){t.doFlashcardAdd(),e()}):t.doFlashcardAdd():"ques"==e&&(20<t.quesQuiz().length?fs.confirm("Confirm adding "+t.quesQuiz().length+" questions to your queue?",function(e){t.doQuestionAdd(),e()}):t.doQuestionAdd()):window.triggerPrimePopup({type:"activate",ref:"main",src:"save"+("fc"==e?"Fc":"Ques")});var a="fc"==e?"flashcards":"questions";t.trackInteraction("save_to_queue",a)}},FeaturedQuizzesSection.prototype.doFlashcardAdd=function(){s.flashcards(this.fcQuiz(),$(".quiz-item.flashcards .quiz-actions .save",this.dom))},FeaturedQuizzesSection.prototype.doQuestionAdd=function(){s.questions(this.quesQuiz(),$(".quiz-item.questions .quiz-actions .save",this.dom))},FeaturedQuizzesSection.prototype.browseCards=function(){var e=this;return function(t){e.hasPrime?fs.post("browseFlashcards",{nodeIDs:e.fcQuiz()},function(e){dialog("ui/dialogs/FlashcardBrowser",function(){o.refresh()},{flashcards:e}),t()}):(window.triggerPrimePopup({type:"activate",ref:"main",src:"browseFc"}),t()),e.trackInteraction("browse","flashcards")}},FeaturedQuizzesSection.prototype.toggleQuizBreakdownDropdown=function(){this.quizBreakdownDropdownVisible(!this.quizBreakdownDropdownVisible()),this.quizBreakdownDropdownVisible()&&this.initOffClickListener($(".custom-quiz .current-quiz"),this.quizBreakdownDropdownVisible)},FeaturedQuizzesSection.prototype.initOffClickListener=function(t,a){$(document).on("click",function(s){0==$(s.target).closest(t).length&&a(!1)})},FeaturedQuizzesSection.prototype.trackInteraction=function(e,t){this.card.trackCardInteraction({feature:t,interaction:e,section:"side_icon"})},a.exports=FeaturedQuizzesSection}),define("models.learn.LearnCard",function(e,t,a){var s=Math.floor;function LearnCard(e,t){var a=this,s=this;this.indexNav=[{id:"tables",name:"Tables",vm:"TableSection",icon:"fa fa-th",active:ko.observable(),theme:"purple",visible:ko.observable()},{id:"flashcards",name:"Flashcards",vm:"QuizFlashSection",icon:"fas fa-bolt",active:ko.observable(),theme:"purple",visible:ko.observable()},{id:"questions",name:"Questions",vm:"QuizQuesSection",icon:"fas fa-stethoscope",active:ko.observable(),theme:"red",visible:ko.observable()},{id:"memory",name:"Memory Anchors",vm:"MemoryAnchorSection",icon:"fas fa-anchor",active:ko.observable(),theme:"teal",visible:ko.observable()},{id:"docs",name:"Document search",vm:"DocSearchSection",icon:"fi fi-doc-search",active:ko.observable(),theme:"olive",visible:ko.observable()},{id:"resources",name:"Other resources",vm:"ResourcesSection",icon:"fas fa-globe-americas",active:ko.observable(),theme:"purple",visible:ko.observable()},{id:"references",name:"References and External Links",vm:"ReferencesSection",icon:"fas fa-paperclip",active:ko.observable(),theme:"red",visible:ko.observable()},{id:"related",name:"Related Concepts",vm:"RelatedSection",icon:"fas fa-link",active:ko.observable(),theme:"teal",visible:ko.observable()}],this.flashcardIDs=ko.observable(),this.questionIDs=ko.observable(),this.quizzesLoading=ko.observable(!0),this.flashcardTotal=ko.observable(0),this.flashcardCount=ko.observable(0),this.questionTotal=ko.observable(0),this.questionCount=ko.observable(0),this.notes=ko.observable(null),this.notesLink=ko.computed(function(){return a.notes()&&a.notes()[2018]?"/open/"+a.notes()[2018].doc+(a.notes()[2018].page?"?p="+a.notes()[2018].page:""):""}),this.views=ko.observable(0),this.primaryTopic=ko.observable(),this.parent=t.parent,this.showPlaylist=ko.observable(!0),this.quizBuilder=new c,this.browseMode=ko.observable(t.browseMode),this.docMode=ko.observable(-1<window.location.pathname.indexOf("/pdf/")||-1<window.location.pathname.indexOf("/doc/")),this.playlistMode=ko.observable(-1<window.location.pathname.indexOf("playlist")),this.hasPrime=ko.observable(1<=window.user.prime.status),this.isPrimeOnly=ko.observable(),this.primeOnlyThumb=ko.observable(),this.freeTrialExpired=ko.observable(window.userID&&-1==window.user.prime.status),this.freeTrialExpiredText="Your free trial has expired.",this.primeLockTitle=ko.observable("Upgrade to Osmosis Prime"),this.primeLockSubtext=ko.observable("Get access to hundreds more Osmosis videos only with Osmosis Prime."),this.primeLockIcon=ko.observable("fas fa-lock"),this.startedFreeTrial=ko.observable(!1),this.concept=ko.observable(),this.hasBeenReviewed=ko.observable(!1),this.hasWatchedVideo=!1,this.hasProfile=!!(0<Object.keys(window.user.profile).length),this.noVideo=ko.observable(),this.stopVideo=t.stopVideo,this.pauseVideo=t.pauseVideo,this.rateChanges=ko.observable(0),this.progress=ko.observable(0),this.trackSharedLink(),this.pausePrompts=[{name:"sharePrompt",show:!0,open:function open(){s.openSharePrompt()},trigger:.9},{name:"reviewPrompt",show:ko.computed(function(){return s.hasPrime()&&0<s.flashcardTotal()}),open:function open(){s.openReviewPrompt()},trigger:.9}],this.breadcrumb=ko.observableArray(),this.breadcrumbLink=ko.observable(),this.clusterTitle=ko.observable(),this.name="",this.upNext=ko.observable({title:"",by:"",thumb:"",duration:null,url:""}),this.autoplaySettings={video:ko.observable(v()),list:ko.observable(b())},this.autoplay=this.autoplaySettings.video(),this.nextAutoplay=ko.observable(),this.autoplayTimer=ko.observable(5),this.autoplayCounting=ko.observable(!1),this.shareCta=ko.computed(function(){return s.noVideo()?"Share Concept":"Share Video"}),this.link=ko.computed(function(){var e=window.location.origin+"/learn/",t=s.clusterTitle();if(t){var a=t.replace(/\s/g,"_");return e+a}return""}),this.editURL=ko.computed(function(){return s.clusterTitle()?"/editlearn?title="+s.clusterTitle().replace(/\s/g,"_"):""}),this.indexSidebar=ko.observableArray(),this.hasQuesOrFC=ko.computed(function(){return s.concept()&&(0<s.concept().fcCount||0<s.concept().quesCount)}),this.featuredSectionVisible=ko.computed(function(){return s.dom&&s.dom.removeClass("hidden"),!(s.noVideo()&&0==s.concept().fcCount&&0==s.concept().quesCount)}),window.learnCardModalOpen=this.browseMode()?ko.observable(!0):ko.observable(!1),e(this),window.onmousemove=s.notIdle,window.onkeydown=s.notIdle,setInterval(function(){var e=+(localStorage.idleCounter||0);localStorage.setItem("idleCounter",e+1),localStorage.setItem("idleStopPlay",9<=e)},6e4),s.autoplaySettings.video.subscribe(function(e){localStorage.autoplayLearnVideos=e?"autoplay":"false",keen.track("feature_engagement",{feature:"video_autoplay",action:e?"on":"off"})}),s.autoplaySettings.list.subscribe(function(e){localStorage.autoplayLearnList=e?"autoplay":"false",e?s.startAutoplayCountdown():clearInterval(a.timerInterval),keen.track("feature_engagement",{feature:"playlist_autoplay",action:e?"on":"off"})}),this.init(t.id,t.index),$(window).load(function(){s.sizePlaylist()});var o=_.debounce(function(){s.sizeVideo(),s.sizePlaylist(),s.resetSidebar()},250);$(window).resize(o),$(this.browseMode()?this.parent.dom:this.dom.closest(".scrollable")).scroll(function(){s.positionSidebar(),s.updateActiveSidebar()}),this.escClose()}function isAnatomy(e){return!!(e&&3==e.type&&1==e.subtype)}function hasVideo(e){if(e){var t=e.data;if(t&&(t.mux||t.s3||t.yt||t.hasVideo||t.hls))return!0}if(e&&e.data&&e.data.ov)for(var a in e.data.ov)if(e.data.ov.hasOwnProperty(a))return!0;return!1}function hasMedia(e){if(e&&e.data&&(4==e.type||3==e.type)){if(4!=e.type)return!0;if(hasVideo(e))return!0}}function parseTime(e){var t=e.match(/[a-zA-Z]+|[0-9]+/g);if(4==t.length)return 60*+t[0]+ +t[2];return 2==t.length&&"m"==t[1]?60*+t[0]:2==t.length&&"s"==t[1]?+t[0]:1==t.length?+t[0]:0}var o=t("ui/videoPlayer"),d=t("app/conceptNavGlobals"),n=t("app/conceptCardLoader"),l=t("ui/interactiveObj"),c=t("ui/QuizBuilder"),p=t("app/purchaseModal"),u=t("app/test"),m=t("shared/obfuscation"),v=function autoplayVideoOn(){return("autoplay"===localStorage.autoplayLearnVideos||"undefined"==typeof localStorage.autoplayLearnVideos)&&"true"!==localStorage.idleStopPlay},b=function autoplayListOn(){return"autoplay"===localStorage.autoplayLearnList||"undefined"==typeof localStorage.autoplayLearnList};LearnCard.prototype.getNavIdx=function(e){for(var t in this.indexNav)if(e==this.indexNav[t].id)return t},LearnCard.prototype.notIdle=function(){localStorage.setItem("idleCounter",0),localStorage.setItem("idleStopPlay",!1)},LearnCard.prototype.resetSectionsVisibility=function(){for(var e=0;e<this.indexNav.length;e+=1)this.indexNav[e].visible(!1)},LearnCard.prototype.init=function(e){var t=this;if(($(".flashcards").tooltip({container:"body",trigger:"manual"}),!!e)&&(this.autoplayTimer(5),this.autoplayCounting(!1),fs.post("getLearnPage",{query:decodeURIComponent(e).replace(/\_/g," "),hash:urlQuery.hash,query_flag:!0},function(a){if(a.notFound)return fs.alert("".concat(e," not found")),t.closeCard();if(t.concept(a),t.updateQuizzes(a),t.notes(a.sections.notes),t.hasBeenReviewed(0<t.concept().sections.summary.length),t.views(a.views),t.hasPrime()&&fs.empty($(".video-space",t.dom)),t.indexSidebar.removeAll(),t.resetSectionsVisibility(),t.clusterTitle(a.name),t.name=a.name,hasMedia(a.feature)?(t.noVideo(!1),t.dom.removeClass("no-video"),hasVideo(a.feature)&&(t.videoSrc=m.deobfuscate(a.feature.data.ov),t.videoData=a.feature.data=_objectSpread({},a.feature.data,t.videoSrc)),isAnatomy(a.feature)&&t.renderAnatomyViewer(a.feature)):(t.noVideo(!0),t.dom.addClass("no-video"),t.renderSummaryPlaceholder(a.sections.summary)),t.isPrimeOnly(a.isPrimeOnly),t.rateChanges(0),t.setAutoplayNext(),t.renderVideoSpace(),t.playerObj){var s=t.playerObj.player;s.on("ended",function(){t.progress(1);var e=t.playlistConceptNames();e.indexOf(t.concept().name)===e.length-1||(t.autoplayCounting(!0),t.autoplaySettings.list()&&t.startAutoplayCountdown())})}if(t.primaryTopic(a.primaryName),t.breadcrumb(a.breadcrumb||[]),t.breadcrumbLink(a.libraryLink+"&from="+t.breadcrumb()[t.breadcrumb().length-1]+"&section="+(window.urlQuery.section||"")),t.setUpNext(a.upNext),t.indexSections=[],fs.mix(t,"ui/SharePopup",{link:t.link()}),t.concept().playlist){var l=t.concept().breadcrumb[1].split(":")[0];fs.mixAppend($("aside.playlist",t.dom),"models/learn/LearnPlaylist",{title:t.breadcrumb()[0],current:urlQuery.focus?decodeURIComponent(urlQuery.focus.replace(/\_/g," ")):t.clusterTitle(),currentCategory:l,data:t.concept().playlist.playlist,progress:t.progress,autoplaySettings:t.autoplaySettings,breadcrumbClick:t.breadcrumbLink,conceptBrowser:t.browseMode()&&t.parent?t.parent:null})}else t.showPlaylist(!1);for(var c=0,p;c<t.indexNav.length;c+=1)if(p=a.sections[t.indexNav[c].id],"docs"===t.indexNav[c].id&&(p=a),p){var u={id:t.indexNav[c].id,name:t.indexNav[c].name,vm:t.indexNav[c].vm,theme:t.indexNav[c].theme,icon:t.indexNav[c].icon,active:t.indexNav[c].active,visible:t.indexNav[c].visible,data:p,card:t};t.indexSections.push(fs.mixAppend($(".index-sections",t.dom),"models/learn/LearnCardSection",u)),t.indexSidebar.push(u)}t.browseMode()||analytics.track("Open Concept Card",{name:t.clusterTitle(),ref:"learn"}),t.trackCardData();var o={Renal:"visited_renal_concept",Cardiovascular:"visited_cardio_concept",Electrocardiography:"visited_ecg_concept",ECG:"visited_ecg_concept"};for(var d in o)-1<t.breadcrumb().indexOf(d)&&window.IntercomEvent("trackEvent",o[d]);t.concept().learnNode&&t.concept().learnNode.nodeID&&setTimeout(function(){fs.post("updateLearnViews",{learnNodeID:t.concept().learnNode.nodeID})},1e4),t.sizePlaylist(),t.hasProfile||t.hasWatchedVideo||(t.hasWatchedVideo=!0,t.addVideoToLocalStorage());var n=t.concept().feature?t.concept().feature.watchStatus.percent:0;5<n&&90>n&&(t.autoplay&&(t.autoplay=!1),t.openResumePrompt())}),!t.hasProfile)){var a=JSON.parse(window.localStorage.getItem("videosWatched")),s=JSON.parse(window.localStorage.getItem("hasSeenOnboardingModal"));if(a&&2<=a.length&&!s){var o=fs.mixAppend($("body"),"ui/onboarding/OnboardingModal",{});window.localStorage.setItem("hasSeenOnboardingModal",!0),setTimeout(function(){o.onboardingModalVisible(!0),t.noVideo()||t.playerObj.player.pause()},1e3)}}},LearnCard.prototype.playlistConceptNames=function(){return this.concept().playlist&&this.concept().playlist.playlist?_.pluck(_.flatten(_.pluck(this.concept().playlist.playlist,"concepts")),"concept"):[]},LearnCard.prototype.setAutoplayNext=function(){if(this.concept().playlist){var e=this.playlistConceptNames(),t=e.indexOf(this.concept().name)+1;e[t]&&this.nextAutoplay(e[t])}},LearnCard.prototype.trackCardData=function(){function getStepTotal(e,t){var a=0;for(var s in e.sections.questions)a+=e.sections.questions[s].data["step"+t].list.length;return a}function getMemoryTotal(e,t){var a=0;for(var s in e.sections.memory)for(var o in e.sections.memory[s].data)e.sections.memory[s].data[o].name==t&&(a+=e.sections.memory[s].data[o].links.length);return a}var e={concept:this.clusterTitle().toLowerCase(),organ_system:this.concept().breadcrumb?this.concept().breadcrumb[0]?this.concept().breadcrumb[0].toLowerCase():0:0,flashcards:this.concept().fcCount,questions:this.concept().quesCount,questions_step1:getStepTotal(this.concept(),1),questions_step2:getStepTotal(this.concept(),2),has_up_next:!!(this.concept().upNext&&this.concept().upNext.title),picmonic:getMemoryTotal(this.concept(),"Picmonic"),sketchy:getMemoryTotal(this.concept(),"Sketchy Medical"),references:function getReferencesTotal(e){var t=0;for(var a in e.sections.references)e.sections.references[a].data&&(t+=e.sections.references[a].data.length);return t}(this.concept()),related_concepts:function getRelatedTotal(e){return e.sections.related?e.sections.related.length:0}(this.concept()),is_prime:!!this.concept().isPrimeOnly,learnNodeID:this.concept().feature?this.concept().feature.learnNodeID:this.concept().learnNode?this.concept().learnNode.nodeID:0};keen.track("open_concept_card",e),e.logged_in=!0,analytics.track("Open Concept Card",e)},LearnCard.prototype.buildFeaturedQuizzes=function(){var e=this;_.each(["flashcards","questions"],function(t){var a=[],s=e.concept().sections[t];if("flashcards"==t){for(var o in s){var d=s[o].data.progress;for(var n in d.attemptedNodes)a.includes(d.attemptedNodes[n])||a.push(d.attemptedNodes[n])}e.flashcardCount(a.length)}else if("questions"==t){for(var o in s){var l=s[o].data.step1.progress,c=s[o].data.step2.progress,p=[].concat(_toConsumableArray2(l.attemptedNodes),_toConsumableArray2(c.attemptedNodes));for(var n in p)a.includes(p[n])||a.push(p[n])}e.questionCount(a.length)}e.quizzesLoading(!1)})},LearnCard.prototype.setUpNext=function(e){e?(e.duration=formatSecondsAsHMS(e.duration),e.url="/learn/"+e.title.replace(/\s/g,"_"),this.upNext(e)):this.upNext({name:"",by:"",thumb:"",duration:null})},LearnCard.prototype.renderSummaryPlaceholder=function(e){for(var t in e)return void fs.mixAppend($(".video-space",this.dom),"models/learn/sections/SummarySection",{card:this,concepts:[e[t]],hideHeader:!0})},LearnCard.prototype.renderAnatomyViewer=function(e){e.data&&l.embed({data:ko.observable(e.data)},$(".video-space",this.dom))},LearnCard.prototype.doPauseVideo=function(){this.playerObj&&this.playerObj.player.pause()},LearnCard.prototype.doPlayVideo=function(){this.playerObj&&this.playerObj.player.play()};var h=[{point:.1,event:"10_percent",fired:ko.observable()},{point:.25,event:"25_percent",fired:ko.observable()},{point:.5,event:"50_percent",fired:ko.observable()},{point:.75,event:"75_percent",fired:ko.observable()},{point:.9,event:"complete",fired:ko.observable()}];LearnCard.prototype.trackWatchedStatus=function(e){if(this.concept().feature&&this.concept().feature.mediaID){var t=0<e.duration()&&0<e.currentTime()?e.currentTime()/e.duration():0;100*t<this.concept().feature.watchStatus.percent||(this.progress(t),$.post("/updateMediaWatchedStatus",{lastTime:s(e.currentTime()),percent:s(100*t),mediaNodeID:this.concept().feature.mediaID},function(){console.log("Store last time: "+s(e.currentTime())),console.log("Store percent: "+s(100*t))}))}},LearnCard.prototype.checkPrompts=function(){for(var e=this,t=0,a;t<e.pausePrompts.length;t+=1)if(a=e.pausePrompts[t],e.playerObj.player.currentTime()/e.playerObj.player.duration()>a.trigger&&("function"==typeof a.show?a.show():a.show)){a.open(),a.show=!1;break}},LearnCard.prototype.openReviewPrompt=function(){fs.mixAppend($(".video-space-container .review-prompt",this.dom),"ui/video/ReviewPrompt",{parent:this,player:this.playerObj.player||null,title:this.primaryTopic(),fcCount:this.flashcardTotal(),flashcardIDs:this.flashcardIDs()})},LearnCard.prototype.openSharePrompt=function(){fs.mixAppend($(".share-prompt",this.dom),"ui/video/SharePrompt",{parent:this,trackingCode:{utm_medium:"osmosis",utm_source:"learn-page-share"}})},LearnCard.prototype.openResumePrompt=function(){fs.mixAppend($(".resume-prompt",this.dom),"ui/video/ResumePrompt",{parent:this,title:this.primaryTopic})},LearnCard.prototype.trackVideoView=function(){var e=_defineProperty({is_prime:!!this.isPrimeOnly(),mediaID:this.concept().feature&&this.concept().feature.mediaID,concept:this.clusterTitle().toLowerCase(),organ_system:this.concept().breadcrumb?this.concept().breadcrumb[0]?this.concept().breadcrumb[0].toLowerCase():0:0,addr:this.concept().breadcrumb},"mediaID",this.concept().feature&&this.concept().feature.mediaID);keen.track("video_view",e)},LearnCard.prototype.initVideoEvents=function(e){var t=this,a=e.player;a.on("playing",function(){t.trackVideoInteraction("start"),t.trackVideoView()}),a.on("ended",function(){t.trackWatchedStatus(a)}),a.on("pause",function(){t.trackWatchedStatus(a),t.trackVideoInteraction("pause"),a.scrubbing()||a.ended()||t.checkPrompts()}),a.on("ratechange",function(){if(2<=t.rateChanges()){var e=a.playbackRate();t.trackVideoInteraction(e+"x")}else t.rateChanges(t.rateChanges()+1)});var o=0;a.on("timeupdate",function(){var e=0<a.duration()&&0<a.currentTime()?a.currentTime()/a.duration():0;for(var d in a.currentTime()>5+o&&(t.trackWatchedStatus(a),o=5+s(a.currentTime())),h){var n=h[d];e>=n.point&&!n.fired()&&(t.trackVideoInteraction(n.event),n.fired(!0))}})},LearnCard.prototype.updateVideoTime=function(e){function updateTime(){e>t.playerObj.player.duration()?t.playerObj.player.currentTime(0):t.playerObj.player.currentTime(e),t.doPlayVideo(),t.playerObj.player.off("canplay",updateTime)}var t=this;this.playerObj.player.currentTime(e),this.playerObj.player.on("canplay",updateTime)},LearnCard.prototype.renderVideoSpace=function(){var e=$(".video-space",this.dom);this.videoSrc&&(!this.isPrimeOnly()||this.hasPrime())&&!isAnatomy(this.concept().feature)?o.embed(this.videoData,e,{},this.embedVideoPlayer.bind(this)):hasVideo(this.concept().feature)&&this.isPrimeOnly()&&!this.hasPrime()?(this.primeOnlyThumb("https://osmose-it.s3.amazonaws.com/"+(this.concept().feature.data.$$?this.concept().feature.data.$$:this.concept().feature.data.$)),analytics.track("Shown Prime Lockout",{source:"learn-video"}),this.sizeVideo(!0)):this.sizeVideo(!0)},LearnCard.prototype.embedVideoPlayer=function(e){var t=this,a=$(".video-space",this.dom);if(this.playerObj=e,a.append(this.playerObj.el),this.initVideoEvents(this.playerObj),this.sizeVideo(!0),this.stopVideo=this.stopVideo||!this.autoplaySettings.video(),!this.stopVideo)if(this.pauseVideo)this.doPauseVideo();else{if(this.doPlayVideo(),urlQuery.t||urlQuery.time){var s=parseTime(urlQuery.t||urlQuery.time);this.updateVideoTime(s)}else if(this.concept().feature.watchStatus&&0<this.concept().feature.watchStatus.lastTime&&98>this.concept().feature.watchStatus.percent)this.updateVideoTime(this.concept().feature.watchStatus.lastTime);else if(window.localStorage.getItem("signupTimestamp")){var o=JSON.parse(localStorage.getItem("signupTimestamp")).time;window.localStorage.removeItem("signupTimestamp"),this.updateVideoTime(o)}this.playerObj.player.one("canplay",function(){t.sizePlaylist(),$(".vjs-feedback-button").click(function(){dialog("ui/dialogs/FeedbackForm",function(){},{term:t.name,nodeID:t.concept()&&t.concept().learnNode&&t.concept().learnNode.nodeID,subject:"Feedback on video -- ".concat(t.name)})}),t.autoplay?t.doPlayVideo():t.doPauseVideo()})}},LearnCard.prototype.sizePlaylist=function(){var e=$(".video-header",this.dom),t=$(".video-space",this.dom),a=$(".tools",this.dom),s=$(".models-learn-LearnPlaylist header",this.dom),o=e.outerHeight()+t.outerHeight()+a.outerHeight()-s.innerHeight(),d=$(".models-learn-LearnPlaylist .playlist-content");d.css("max-height",o+"px")},LearnCard.prototype.sizeVideo=function(){var e=981>window.innerWidth?1:.7,t=$(".main-content",this.dom).width()*e;$(".video-js",this.dom).css({width:t+"px",height:9*t/16+"px"});var a=$(".featured-section",this.dom).outerHeight(),s=$(".video-space",this.dom).outerHeight(),o=$(".headline-section",this.dom).outerHeight(),d=s+o+35-a;0<d&&($(".featured-section").css("margin-bottom",d+35),$(".side-column").css("margin-top",-1*d)),992>$(window).width()&&($(".featured-section").css("margin-bottom",""),$(".side-column").css("margin-top",""))},LearnCard.prototype.loadVideo=function(e){var t=this;return function(a,s){return $(t.dom).scrollTop(0),t.trackVideoInteraction("next"),tabToURL("/learn/"+e.replace(/\s/g,"_")),s.preventDefault(),!1}},LearnCard.prototype.handleSidebarClick=function(e){var t=this;return function(){t.scrollToEl($(".models-learn-LearnCardSection."+e.id,t.dom))}},LearnCard.prototype.positionSidebar=function(){if(991<$(window).width()){var e=15,t=this.browseMode()?0:50,a=$(".contents-section",this.dom).offset().top-t;0>a?(e+=this.browseMode()?0:$(".notifications").outerHeight()+$("header#masthead").outerHeight(),$(".index-column",this.dom).css("top",e).css("position","fixed").css("left","auto")):(this.resetSidebar(e),$(".index-column",this.dom).css("top",e).css("position","").css("left",""))}},LearnCard.prototype.resetSidebar=function(e){e=e||15,$(".index-column",this.dom).css("top",e).css("position","").css("left","")},LearnCard.prototype.updateActiveSidebar=function(){var e=this.browseMode()?this.dom:$(".tabs-home-learn.scrollable"),t=$(".contents-section",this.dom);for(var a in this.indexNav)this.indexNav[a].active(!1);if(0>=t.offset().top-100)for(var a in this.indexNav)if(this.indexNav[a].visible()){var s=$(".models-learn-LearnCardSection."+this.indexNav[a].id,this.dom);if(s.offset()){var o=s.offset().top-85;if(15>=o)if(0<=o){for(var d in this.indexNav)this.indexNav[d].active(!1);this.indexNav[a].active(!0)}else{var n=s.outerHeight()+85;if(15<n+o){for(var d in this.indexNav)this.indexNav[d].active(!1);this.indexNav[a].active(!0)}}}}},LearnCard.prototype.getBorder=function(e){if("docs"==e.id)return"border-top border-bottom";return"related"==e.id&&this.indexNav[this.getNavIdx("references")].visible()?"border-top":void 0},LearnCard.prototype.scrollToMenu=function(){this.scrollToEl($(".index-column",this.dom))},LearnCard.prototype.scrollToEl=function(e,t){if(e){var a=this.parent.dom,s=$(".main-content",this.dom).height()+$(".main-header",this.dom).height()+$(".ui-MainHeader",this.dom).height(),o=$(e).position().top;a.animate({scrollTop:o+s+5},500,function(){t&&t()})}},LearnCard.prototype.featureVideo=function(e){var t=this;return function(){fs.post("featureVideo",{title:t.clusterTitle(),playlist:e},function(){$.jGrowl("Video featured!",{life:1e3,position:"bottom-left"})})}},LearnCard.prototype.closeCard=function(){this.browseMode()&&(this.parent.close(),this.dom.remove(),window.learnCardModalOpen(!1))},LearnCard.prototype.escClose=function(){var e=this;$(window).on("keyup",function(t){27==t.keyCode&&(e.closeCard(),$(window).off("keyup"))})},LearnCard.prototype.breadcrumbClick=function(){/\/home\/search\?topic=Professional_development/.exec(this.breadcrumbLink())&&this.breadcrumbLink("/home/scienceoflearning"),window.location.href=this.breadcrumbLink()},LearnCard.prototype.trackVideoInteraction=function(e){this.trackCardInteraction({feature:"video",is_prime:!!this.isPrimeOnly(),interaction:e,mediaID:this.concept().feature&&this.concept().feature.mediaID})},LearnCard.prototype.trackCardInteraction=function(e){e.concept=e.concept||this.clusterTitle().toLowerCase(),e.organ_system=this.concept().breadcrumb?this.concept().breadcrumb[0]?this.concept().breadcrumb[0].toLowerCase():0:0,keen.track("concept_card_interaction",e)},LearnCard.prototype.submitFeedback=function(){dialog("ui/dialogs/FeedbackForm",function(){},{term:this.clusterTitle()})},LearnCard.prototype.buildBreadcrumb=function(e,t,a){if(e){this.breadcrumb(_.map(e.split("|"),function(e){return"<span data-crumb-title=\""+e+"\">"+e+"</span>"}).join("<i class=\"fa fa-angle-right\"></i>"));var s=e.split("|");d.currentBreadcrumb(s),d.currentSubject(s[0]);var o=s[1].split(":");d.currentCategory(o[0]),d.currentSubcategory(o[1]?o[1].trim():null),d.currentTopic(s[2]),d.currentConcept(t?t.name:a),d.currentFocusConcept(urlQuery.focus?decodeURIComponent(urlQuery.focus.replace(/\_/g," ")):d.currentConcept())}else this.breadcrumb(""),d.currentBreadcrumb(""),d.currentSubject(""),d.currentCategory(""),d.currentSubcategory(""),d.currentTopic(""),d.currentConcept(""),d.currentFocusConcept("")},LearnCard.prototype.cardNav=function(e){var t=this;return function(){t.browseMode()&&t.parent&&("prev"==e&&t.parent.canReverse()?t.parent.back():"next"==e&&t.parent.canAdvance()&&t.parent.forward(),t.doPauseVideo())}},LearnCard.prototype.purchase=function(){analytics.track("Video Lockout Purchase Click",{source:"learn-video"}),p.showModal()},LearnCard.prototype.startFreeTrial=function(){var e=this;analytics.track("Lockout Free Trial Click",{source:"learn-video"}),fs.post("primeStartFreeTrial",{},function(){}),e.primeLockIcon("fas fa-unlock"),e.primeLockTitle("Awesome!"),e.primeLockSubtext("You now have access to all Osmosis videos, as well as everything else Osmosis has to offer."),e.startedFreeTrial(!0)},LearnCard.prototype.reloadPage=function(){location.reload()},LearnCard.prototype.openShareMenu=function(e,t){var a=this;t.stopPropagation(),fs.mixAppend($(t.target).parent(),"ui/PopupMenu",{header:"Share",items:[{icon:"fab fa-fw fa-facebook-f",text:"Facebook",type:"action",action:function action(){return a.shareToFB()}},{icon:"fa fa-fw fa-link",text:"Link",type:"action",action:function action(){return a.shareLinkClick()}}]})},LearnCard.prototype.startQuiz=function(e){var t=this,a=this;return function(){var s=[];s="flashcards"==e?a.flashcardIDs():a.questionIDs(),!a.hasPrime()||a.docMode()||a.playlistMode()?a.docMode()?fs.alert("You can't start a quiz while inside the document viewer, yet. However, you can Browse the cards and Save them to your Queue!"):a.playlistMode()?fs.alert("You can't start a quiz while inside the playlist viewer, yet. However, you can Browse the cards and Save them to your Queue!"):dialog("ui/dialogs/learn/PrimeLockoutDialog",{description:"Purchase an Osmosis Prime subscription or give it a test drive with a two week free trial.",source:t.clusterTitle(),resource:"Start ".concat(e," quiz")}):(a.quizBuilder.quiz={ids:s,type:e},a.playerObj&&a.playerObj.player.pause(),a.quizBuilder.displayScoreboard(null,function(){a.browseMode()&&a.closeCard()}))}},LearnCard.prototype.updateQuizzes=function(e){var t=this;fs.post("getItemsByAddr",{addr:e.names.join(";")},function(e){t.flashcardIDs(e.fc),t.questionIDs(e.ques),t.flashcardTotal(e.fc.length),t.questionTotal(e.ques.length),t.buildFeaturedQuizzes()})},LearnCard.prototype.startAutoplayCountdown=function(){var e=this;if(this.nextAutoplay()){var t=5;this.timerInterval&&(clearInterval(this.timerInterval),this.autoplayTimer(t)),this.timerInterval=setInterval(function(){e.autoplayTimer(t),t--,(!e.autoplayCounting()||0>t)&&(clearInterval(e.timerInterval),e.autoplayCounting()&&tabToURL("/learn/"+e.nextAutoplay().replace(/\s/g,"_")))},1e3)}},LearnCard.prototype.playNext=function(){tabToURL("/learn/"+this.nextAutoplay().replace(/\s/g,"_"))},LearnCard.prototype.cancelNext=function(){this.autoplayCounting(!1)},LearnCard.prototype.openNotes=function(){if(this.hasPrime()){analytics.track("Open Learn Notes",{name:this.clusterTitle(),ref:"learn-video"}),window.IntercomEvent("trackEvent","opened_learn_notes");var e=window.open(this.notesLink(),"_blank");e.focus()}else window.triggerPrimePopup({type:"activate",ref:"mainNotes"})},LearnCard.prototype.addVideoToLocalStorage=function(){var e=this,t=window.localStorage.getItem("videosWatched");if(t){t=JSON.parse(t);var a=!!t&&t.find(function(t){return t==e.concept().primaryName});a||t.push(e.concept().primaryName),window.localStorage.setItem("videosWatched",JSON.stringify(t))}else window.localStorage.setItem("videosWatched",JSON.stringify([e.concept().primaryName]))},LearnCard.prototype.trackSharedLink=function(){var e=new URL(window.location.href);if(e.searchParams){var t=e.searchParams.get("u");t&&keen.track("referral",{referrerCode:t,campaign:"share-video-prompt"})}},a.exports=LearnCard}),define("models.learn.LearnCardSection",function(e,t,a){function LearnCardSection(e,t){this.icon=t.icon,this.name=t.name,this.id=t.id,this.theme=t.theme,this.visible=t.visible,this.card=t.card,this.loggedOut=t.loggedOut,e(this),this.buildConceptsContent(t.data,t.vm)}LearnCardSection.prototype.scrollToMenu=function(){this.card.scrollToMenu()},LearnCardSection.prototype.buildConceptsContent=function(e,t){this.concept=fs.mixAppend($(".content",this.dom),"models/learn/sections/".concat(t),{concepts:e,card:this.card,visible:this.visible,loggedOut:this.loggedOut}),this.concept.visible=this.concept.visible||this.visible,this.concept.checkVisibility()},a.exports=LearnCardSection}),define("models.learn.LearnPlaylist",function(e,t,a){function LearnPlaylist(e,t){var a=this;this.conceptBrowser=t.conceptBrowser,this.breadcrumbLink=t.breadcrumbClick,this.loading=ko.observable(!1),this.current=t.current,this.progress=t.progress,this.categories=ko.observableArray([]),this.title=ko.observable(t.title),this.autoplaySettings=t.autoplaySettings,this.icon=ko.computed(function(){var e=s.getNewIcon(s.subject2topicID[a.title()]);return e.match(/\/undefined\d+\.png/)?"https://d3cdo0emj8d2qc.cloudfront.net/assets/ddac3ad0776deb6a4fa607ea95305d04a61b7329.png":e}),this.topicCount=ko.observable(10),this.playlist=ko.observableArray([]),this.rawData=t.data,this.data=ko.observable({}),this.currentCategory=ko.observable(),this.failed=ko.computed(function(){return a.data()[a.currentCategory()]&&a.data()[a.currentCategory()].failed()});var d=this;e(this),d.loading(!0),fs.post("populateSubjectPlaylist",{subject:d.title()},function(e){d.setupCategories(e.playlist),d.loading(!1);var a={};_.each(d.categories(),function(e){a[e]={loaded:!1,failed:ko.observable(!1)};var s=a[e];e===t.currentCategory&&(s.loaded=!0,s.data=d.rawData)}),d.data(a),d.currentCategory(t.currentCategory)}),d.currentCategory.subscribe(function(e){$(".playlist-content",a.dom).empty();var t=d.data();if(!t[e])d.rawData[0]&&"Career resources"===d.rawData[0].subtopic&&d.mixTopics(d.rawData);else if(!t[e].loaded){var s="".concat(d.title(),"|").concat(e);d.loading(!0),fs.post("/getLearnPlaylist",{addr:s},function(a){return t[e].loaded=!0,d.loading(!1),a.success?void(t[e].failed(!1),t[e].data=a.playlist,d.mixTopics(a.playlist)):void t[e].failed(!0)}),d.data(t)}else d.mixTopics(t[e].data);d.scrollToCurrent()})}var s=t("shared/topics");LearnPlaylist.prototype.scrollToCurrent=function(){var e="[data-title=\"".concat(this.current,"\"]");if($(e).length){var t=$(e).offset().top-$(e).offsetParent().offset().top;$(".playlist-content").scrollTop(t-350)}},LearnPlaylist.prototype.mixTopics=function(e){var t=this;_.each(e,function(e){e.concepts.length&&fs.mixAppend($(".playlist-content",t.dom),"models/learn/PlaylistTopic",{topic:e,current:t.current,progress:t.progress,conceptBrowser:t.conceptBrowser})})},LearnPlaylist.prototype.openSettings=function(e,t){t.stopPropagation(),$(t.target).parent().find(".ui-PopupMenu").remove(),fs.mixAppend($(t.target).parent(),"ui/PopupMenu",{header:"Settings",items:[{text:"Autoplay",type:"header"},{text:"Playlist",type:"toggle",currentState:this.autoplaySettings.list},{text:"Video",type:"toggle",currentState:this.autoplaySettings.video}]})},LearnPlaylist.prototype.setupCategories=function(e){for(var t in e){var a=t.split(":",1)[0];a&&!_.includes(this.categories(),a)&&("Physiology"===a?this.categories.unshift(a):this.categories.push(a))}},LearnPlaylist.prototype.breadcrumbClick=function(){window.location.href=this.breadcrumbLink()},a.exports=LearnPlaylist}),define("models.learn.PlaylistTopic",function(e,t,a){a.exports=function PlaylistTopic(e,t){var a=this;if(this.conceptBrowser=t.conceptBrowser,this.current=t.current,this.progress=t.progress,this.topic=t.topic,this.listItems=[],!!this.topic.concepts.length){var s=function progressCheck(e){var t=e.concept;return e.progress||(e.progress=ko.observable(0)),e.progress.subscribe(function(t){1!=t&&.96<t&&e.progress(1)}),e.progress(e.status.percent/100),a.current===t?(a.progress.subscribe(function(e){1!=e&&.96<e&&a.progress(1)}),a.progress(e.progress()),a.progress):e.progress};_.each(this.topic.concepts,function(e){a.listItems.push({t:e.concept,progress:s(e),highlighted:e.concept===a.current})});var o=this;e(this),fs.mixAppend($(".content",this.dom),"ui/VideoList",{links:o.listItems,onItemClick:function onItemClick(e){o.conceptBrowser?o.conceptBrowser.getConcept(e.t):tabToURL("/learn/"+e.t.replace(/\s/g,"_"))}})}}}),define("models.learn.sections.DocSearchSection",function(e,t,a){var s=Math.floor;function DocSearchSection(e,t){var a=this;this.data=t.concepts,this.hasPrime=!t.loggedOut&&1<=window.user.prime.status,this.card=t.card,this.docGroups=ko.observableArray(fs.transpose(window.activeGroupNames||{name:[],groupID:[]}).map(function(e){return{name:e.name,documents:ko.observableArray([]),groupID:e.groupID,mostRecentDate:"1800-01-01"}})),this.columns=ko.observableArray([]);var s=function getColCount(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$(window).width();return 1069<e?3:991<e?2:850<e?3:582<e?2:1};if(this.colCount=ko.observable(s()),this.colCount.subscribe(this.sortGroups.bind(this)),$(window).resize(function(){var e=s();e!==a.colCount()&&a.colCount(e)}),d)for(var l=0;20>l;l++)this.docGroups.push({name:"Test - ".concat(l),documents:ko.observableArray([]),groupID:234});if(this.hasGroups=ko.computed(function(){return a.docGroups().length}),this.hasDocs=ko.computed(function(){return!!_.find(a.docGroups(),function(e){return!!e.documents().length})}),this.concepts=DocSearchSection.getConcepts(this.data),this.searchTerm=(this.concepts[0]||"").replace(/_/g," "),this.timelineSearchLink="/home/timeline?query=".concat(this.concepts.join("|")),this.searching=ko.observable(!1),e(this),this.searchTerm&&this.hasPrime){var o=$(this.dom).scrollParent(),n=function onScroll(){600>=$(a.dom).offset().top-$(window).height()&&(a.searchDocs(),o.unbind("scroll",n))};o.bind("scroll",n)}fs.mix(this,"models/learn/sections/PrimeLockOverlay",{description:"Quickly analyze and sort through your course documents to find the exact information you need.",source:this.card.name,resource:"Document search section"})}var o={groupURL:"gksNZz2i",moduleData:{moduleID:[42671,71161],url:["kukjkj","asdf"]},timeline:{MIDs:[71161],date:["2018-11-15T17:00:00.000Z"],descr:["{}"],id:[36677880],pages:[[1,5,6]],url:["R074cYzmQoGTexljrPhBLzxNR6eGZpDn"],name:["Test"]},success:1},d=-1<window.location.origin.indexOf("localhost");DocSearchSection.prototype.searchDocs=function(){var e=this;this.searching(!0);var t=ko.observable(this.docGroups().length),a=t.subscribe(function(t){0>=t&&(d?setTimeout(function(){console.log("Pretend this is the post request finishing"),e.sortGroups(),e.searching(!1)},1e3):(e.sortGroups(),e.searching(!1)),a.dispose())}),s=!0,n=!1,l=void 0;try{for(var c=function _loop(){var a=u.value;d?(console.log("Pretend this is a post request. For searchtimeline"),e.parseTimeline(fs.transpose(o.timeline),a),t(t()-1)):fs.post("searchtimeline",{g:a.groupID,s:e.searchTerm.toLowerCase()},function(s){e.parseTimeline(fs.transpose(s.timeline),a),t(t()-1)})},p=this.docGroups()[Symbol.iterator](),u;!(s=(u=p.next()).done);s=!0)c()}catch(e){n=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(n)throw l}}},DocSearchSection.prototype.parseTimeline=function(e,t){var a=[],o=!0,n=!1,l=void 0,c;try{for(var p=e[Symbol.iterator](),u,m;!(o=(u=p.next()).done);o=!0)if(m=u.value,d)for(var v=s(5*Math.random()+1),b=0,h;b<v;b++){for(var g in h=Array(s(5*Math.random()+1)).fill(0),h)h[g]=s(10*Math.random()+1);a.push({name:"".concat(m.name.repeat(20)).concat(s(1e7*Math.random()),".pdf")||"Unknown",pages:h,date:"201".concat(s(5*Math.random()+3),"-0").concat(s(9*Math.random()+1),"-").concat(s(15*Math.random()+10)),id:m.id})}else a.push({name:m.name||"Unknown",pages:m.pages||[],date:m.date,id:m.id})}catch(e){n=!0,l=e}finally{try{o||null==p.return||p.return()}finally{if(n)throw l}}a.sort(function(e,t){return moment(t.date).valueOf()-moment(e.date).valueOf()}),a.length&&(t.mostRecentDate=a[0].date),(c=t.documents).push.apply(c,a)},DocSearchSection.prototype.sortGroups=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.colCount();this.docGroups.sort(function(e,t){return moment(t.mostRecentDate).valueOf()-moment(e.mostRecentDate).valueOf()});for(var t=[],a=0;a<e;a++)t.push({groups:[],count:0,id:a});for(var s=0,o;s<=this.docGroups().length;s+=e){o=[];for(var d=0,n;d<e;d++)n=this.docGroups()[s+d],void 0!==n&&o.push(n);0!==s&&(o.sort(function(e,t){return t.documents.length-e.documents.length}),t.sort(function(e,t){return e.count-t.count}));for(var l=0;l<o.length;l++)t[l].groups.push(o[l]),t[l].count+=o[l].documents.length+1}t.sort(function(e,t){return e.id-t.id}),this.columns(t)},DocSearchSection.getConcepts=function(e){var t=[];if(e.sections.summary.length)for(var a in e.sections.summary){var s=e.sections.summary[a].name;t.push(s.replace(/\s/g,"_"))}else t.push(e.name.replace(/\s/g,"_"));return t},DocSearchSection.prototype.checkVisibility=function(){this.visible(this.hasGroups())},DocSearchSection.prototype.primeStart=function(){window.location.href="/plans?ref=main&src=docs"},DocSearchSection.prototype.trackInteraction=function(){this.card.trackCardInteraction({feature:"timeline_search",interaction:"click",link:this.card.clusterTitle().toLowerCase()})},a.exports=DocSearchSection}),define("models.learn.sections.MemoryAnchorSection",function(e,t,a){function MemoryAnchorSection(e,t){this.concepts=t.concepts,this.buildAnchorArray(),this.loggedOut=t.loggedOut||!1,this.hasPrime=!this.loggedOut&&1<=window.user.prime.status,this.card=t.card,e(this),fs.mix(this,"models/learn/sections/PrimeLockOverlay",{description:"Make information truly stick with mnemonics and other memory devices.",source:this.card.name,resource:"Memory anchor section"})}var s=t("ui/mediaViewer"),o={default:{Picmonic:"zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png","Sketchy Medical":"VU-xguGLT6SJHKGxkWyl_QqVTWSY-rgr/_.jpg","Celeb Dx":"uItg_sGtRYi5ouWRrB9n26KXTkWE6xrN/_.png","Patient Experience":"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png","Patient Story":"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png",Intervention:"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png",Interventions:"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png"},night:{Picmonic:"<i class=\"fi fi-picmonic\"></i>","Sketchy Medical":"<i class=\"fi fi-sketchy\"></i>"}};for(var d in o.default)o.default[d]="<img src=\"https://osmose-it.s3.amazonaws.com/".concat(o.default[d],"\" alt=\"").concat(d,"\">");MemoryAnchorSection.prototype.buildAnchorArray=function(){for(var e in this.concepts)for(var t in this.concepts[e].anchors=[],this.concepts[e].data)for(var a in this.concepts[e].data[t].links)this.concepts[e].data[t].links[a].src=this.concepts[e].data[t].name,this.concepts[e].anchors.push(this.concepts[e].data[t].links[a])},MemoryAnchorSection.prototype.handleClick=function(e){var t=this;if(!this.loggedOut&&this.hasPrime)return function(){t.hasPrime&&("link"==e.type?window.open(e.url,"_blank"):"video"==e.type&&s.showVideo(e.url)),t.trackInteraction(e)}},MemoryAnchorSection.prototype.getLogo=function(e){return ko.computed(function(){return o[window.nightMode()?"night":"default"][e]||o.default[e]})},MemoryAnchorSection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)0<this.concepts[e].anchors.length&&this.visible(!0)},MemoryAnchorSection.prototype.primeStart=function(){window.location.href="/plans?ref=main&src=memory"},MemoryAnchorSection.prototype.trackInteraction=function(e){this.card.trackCardInteraction({feature:"memory_anchors",interaction:"click",link:e.title.toLowerCase(),source:e.src.toLowerCase()})},a.exports=MemoryAnchorSection}),define("models.learn.sections.NotesSection",function(e,t,a){a.exports=function NotesSection(e,t){this.concepts=t.concepts}}),define("models.learn.sections.PrimeLockOverlay",function(e,t,a){var s=function(){"use strict";function PrimeLockOverlay(e,t){_classCallCheck(this,PrimeLockOverlay),this.title=t.title||"This is an Osmosis Prime feature",this.description=t.description||"",this.loggedOut=!window.user,this.source=t.source,this.resource=t.resource,this.primeExpired=ko.observable(window.userID&&-1===window.user.prime.status),this.theme=ko.observable(""),this.isBasicFeature=t.isBasicFeature,e(this)}return _createClass(PrimeLockOverlay,[{key:"activateFreeTrialClick",value:function activateFreeTrialClick(){analytics.track("Lockout Free Trial Click",{source:this.source,resource:this.resource}),fs.post("primeStartFreeTrial",{}),location.reload(!0)}},{key:"purchasePrimeClick",value:function purchasePrimeClick(){analytics.track("Lockout Purchase Prime Click",{source:this.source,resource:this.resource}),window.location="/plans"}},{key:"signupClick",value:function signupClick(){var e={backgroundToggle:!0,source:"library-resource-lockout"};this.isBasicFeature&&(e.primaryMessage="Create your <b>free Osmosis account</b> to access this and tons of other high-yield content."),dialog("ui/dialogs/SignupDialog",e),analytics.track("Lockout Signup Click",{source:this.source,resource:this.resource})}}]),PrimeLockOverlay}();a.exports=s}),define("models.learn.sections.QuizFlashSection",function(e,t,a){function QuizFlashSection(e,t){var a=this;this.concepts=t.concepts,this.mainConcept=this.getMainConcept(t.card.clusterTitle(),t.concepts),this.subdeckOpen=ko.observable(!1),this.isMobile=o.ObservableTablet,this.quizBuilder=new s,this.hasPrime=1<=window.user.prime.status,this.card=t.card,e(this);var d=this.mainConcept.data.progress;fs.mixAppend($(".main-progress-circle",this.dom),"ui/ProgressCircle",{progress:ko.observable(d.attempted/d.available),size:30,borderSize:3,hideText:!0}),fs.mix(this,"models/learn/sections/PrimeLockOverlay",{description:"Reinforce your understanding with flashcards, the fastest way to study the essentials.",source:this.card.name,resource:"Flashcard section"}),0<this.concepts.length&&this.concepts.forEach(function(e,t){var s=e.data.progress;fs.mixAppend($(".progress-circle#".concat(t),a.dom),"ui/ProgressCircle",{progress:ko.observable(s.attempted/s.available),size:30,borderSize:3,hideText:!0})})}var s=t("ui/QuizBuilder"),o=t("ui/MediaQueryList"),d=t("app/queues"),n=t("app/addToQueue");QuizFlashSection.prototype.toggleSubdeck=function(){this.subdeckOpen(!this.subdeckOpen())},QuizFlashSection.prototype.getMainConcept=function(e,t){for(var a={name:e,data:{list:[],progress:{available:0,attempted:0,correct:0,attemptedNodes:[],correctNodes:[]}}},s=0;s<t.length;s++)a.data.list.push.apply(a.data.list,t[s].data.list),a.data.progress.available+=t[s].data.progress.available,a.data.progress.attempted+=t[s].data.progress.attempted,a.data.progress.correct+=t[s].data.progress.correct,a.data.progress.attemptedNodes.push.apply(t[s].data.progress.attemptedNodes),a.data.progress.correctNodes.push.apply(t[s].data.progress.correctNodes);return a},QuizFlashSection.prototype.openDropDown=function(t,a){var e=this;a.stopPropagation(),fs.mixAppend($(a.target).parent(),"ui/PopupMenu",{header:"Options",items:[{text:"Start",type:"action",color:"#9C52C8",action:function action(){e.startQuizNow(e.mainConcept.data.list)}},{text:"Save to queue",type:"action",action:function action(){$("li:nth-child(2) .popup-content").text("Saved to queue!"),e.save(e.mainConcept.data.list)}},{text:"Quick view",type:"action",action:function action(){e.browse(e.mainConcept.data.list)}}]})},QuizFlashSection.prototype.getPercent=function(e,t){if("correct"==e){var a=100*(t.data.progress.correct/t.data.progress.available);return a+"%"}if("incorrect"==e){var s=t.data.progress.attempted-t.data.progress.correct,a=100*(s/t.data.progress.available);return a+"%"}},QuizFlashSection.prototype.startQuizNow=function(e){var t=this;t.hasPrime&&!t.card.docMode()?(t.quizBuilder.quiz={ids:e,type:"Flashcards"},t.quizBuilder.displayScoreboard(null,function(){t.card.browseMode()&&t.card.closeCard()}),t.trackInteraction("start")):t.card.docMode()&&fs.alert("You can't start a quiz while inside the document viewer, yet. However, you can Browse the cards and Save them to your Queue!")},QuizFlashSection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)this.concepts[e].data.list&&0<this.concepts[e].data.list.length&&this.visible(!0)},QuizFlashSection.prototype.browse=function(e){var t=this;t.hasPrime&&(fs.post("browseFlashcards",{nodeIDs:e},function(e){dialog("ui/dialogs/FlashcardBrowser",function(){d.refresh()},{flashcards:e})}),t.trackInteraction("browse"))},QuizFlashSection.prototype.save=function(e){var t=this;t.hasPrime&&(50<e.length?fs.confirm("Confirm adding "+e.length+" flashcards to your queue?",function(a){t.doAdd(e),a()}):t.doAdd(e),t.trackInteraction("save_to_queue"))},QuizFlashSection.prototype.doAdd=function(e){n.flashcards(e)},QuizFlashSection.prototype.trackInteraction=function(e){this.card.trackCardInteraction({feature:"flashcards",interaction:e,section:"description"})},a.exports=QuizFlashSection}),define("models.learn.sections.QuizQuesSection",function(e,t,a){function QuizQuesSection(e,t){var a=this;this.concepts=this.parseConcepts(t.concepts),this.concepts[0].subdeckOpen=ko.observable(!1),this.concepts[1].subdeckOpen=ko.observable(!1),this.isMobile=d.ObservableTablet,this.quizBuilder=new s,this.hasPrime=1<=window.user.prime.status,this.card=t.card,e(this),fs.mix(this,"models/learn/sections/PrimeLockOverlay",{description:"Test your knowledge and prepare for the boards with these in-depth practice questions.",source:this.card.name,resource:"Quiz question section"}),this.concepts.forEach(function(e,t){var s="step".concat(t+1),o=e.mainConcept.data.progress;fs.mixAppend($(".progress-circle.main.".concat(s),a.dom),"ui/ProgressCircle",{progress:ko.observable(o.attempted/o.available),size:30,borderSize:3,hideText:!0}),e.concepts.forEach(function(e,s){if(e.data){var o=e.data.progress;fs.mixAppend($(".progress-circle.sub#".concat(t,"-").concat(s),a.dom),"ui/ProgressCircle",{progress:ko.observable(o.attempted/o.available),size:30,borderSize:3,hideText:!0})}})})}var s=t("ui/QuizBuilder"),o=t("app/addToQueue"),d=t("ui/MediaQueryList");QuizQuesSection.prototype.parseConcepts=function(e){for(var t=[{name:"Step 1",concepts:[],mainConcept:{name:"Step 1",data:{list:[],progress:{available:0,attempted:0,correct:0,attemptedNodes:[],correctNodes:[]}}}},{name:"Step 2",concepts:[],mainConcept:{name:"Step 2",data:{list:[],progress:{available:0,attempted:0,correct:0,attemptedNodes:[],correctNodes:[]}}}}],a=0;a<e.length;a++)0<e[a].data.step1.list.length&&t[0].concepts.push({name:e[a].name,data:e[a].data.step1}),0<e[a].data.step2.list.length&&t[1].concepts.push({name:e[a].name,data:e[a].data.step2}),t[0].mainConcept.data.list.push.apply(t[0].mainConcept.data.list,e[a].data.step1.list),t[0].mainConcept.data.progress.available+=e[a].data.step1.progress.available,t[0].mainConcept.data.progress.attempted+=e[a].data.step1.progress.attempted,t[0].mainConcept.data.progress.correct+=e[a].data.step1.progress.correct,t[0].mainConcept.data.progress.attemptedNodes.push.apply(t[0].mainConcept.data.progress.attemptedNodes,e[a].data.step1.progress.attemptedNodes),t[0].mainConcept.data.progress.correctNodes.push.apply(t[0].mainConcept.data.progress.correctNodes,e[a].data.step1.progress.correctNodes),t[1].mainConcept.data.list.push.apply(t[1].mainConcept.data.list,e[a].data.step2.list),t[1].mainConcept.data.progress.available+=e[a].data.step2.progress.available,t[1].mainConcept.data.progress.attempted+=e[a].data.step2.progress.attempted,t[1].mainConcept.data.progress.correct+=e[a].data.step2.progress.correct,t[1].mainConcept.data.progress.attemptedNodes.push.apply(t[1].mainConcept.data.progress.attemptedNodes,e[a].data.step2.progress.attemptedNodes),t[1].mainConcept.data.progress.correctNodes.push.apply(t[1].mainConcept.data.progress.correctNodes,e[a].data.step2.progress.correctNodes);return t},QuizQuesSection.prototype.toggleSubdeck=function(e){var t=this;return function(){t.concepts[e].subdeckOpen(!t.concepts[e].subdeckOpen())}},QuizQuesSection.prototype.openDropDown=function(t,a){var e=this;a.stopPropagation();var s=ko.contextFor(a.target);console.log(s),fs.mixAppend($(a.target).parent(),"ui/PopupMenu",{header:"Options",items:[{text:"Start",type:"action",color:"#D23A3E",action:function action(){s.$parent.startQuizNow(e.mainConcept.data.list,e.mainConcept.name)}},{text:"Save to queue",type:"action",action:function action(){s.$parent.save(e.mainConcept.data.list,e.mainConcept.name)}}]})},QuizQuesSection.prototype.getPercent=function(e,t){if("correct"==e){var a=100*(t.data.progress.correct/t.data.progress.available);return a+"%"}if("incorrect"==e){var s=t.data.progress.attempted-t.data.progress.correct,a=100*(s/t.data.progress.available);return a+"%"}},QuizQuesSection.prototype.startQuizNow=function(e,t){var a=this;a.hasPrime&&!a.card.docMode()?(a.quizBuilder.quiz={ids:e,type:"Questions"},a.quizBuilder.displayScoreboard(null,function(){a.card.browseMode()&&a.card.closeCard()}),a.trackInteraction("start",t)):a.card.docMode()&&fs.alert("You can't start a quiz while inside the document viewer, yet. However, you can Browse the cards and Save them to your Queue!")},QuizQuesSection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)for(var t in this.concepts[e].concepts)if(0<this.concepts[e].concepts[t].data.list.length)return void this.visible(!0)},QuizQuesSection.prototype.save=function(e,t){var a=this;a.hasPrime?50<e.length?fs.confirm("Confirm adding "+e.length+" questions to your queue?",function(t){a.doAdd(e),t()}):a.doAdd(e):window.triggerPrimePopup({type:"activate",ref:"main",src:"saveQues"}),a.trackInteraction("save_to_queue",t)},QuizQuesSection.prototype.doAdd=function(e){o.questions(e)},QuizQuesSection.prototype.trackInteraction=function(e,t){var a=0;"Step One"==t?a="step_1":"Step 2"==t&&(a="step_2"),this.card.trackCardInteraction({feature:"questions",interaction:e,section:"description",exam:a})},a.exports=QuizQuesSection}),define("models.learn.sections.ReferencesSection",function(e,t,a){function ReferencesSection(e,t){this.concepts=t.concepts,this.hasPrime=!t.loggedOut&&1<=window.user.prime.status,this.visible=t.visible?t.visible:ko.observable(),this.card=t.card,this.checkForNotes(),e(this),fs.mix(this,"models/learn/sections/PrimeLockOverlay",{description:"Explore more peer-reviewed resources to broaden your understanding of a topic.",source:this.card.name,resource:"References section"})}var s=t("models/media/urlPatterns");ReferencesSection.prototype.getLogo=function(e){return"https://osmose-it.s3.amazonaws.com/"+s.getDefaultImage(e)},ReferencesSection.prototype.getSourceName=function(e){var t=s.match(e.url);return t&&t.label?t.label:"Osmosis High Yield Notes"},ReferencesSection.prototype.checkForNotes=function(){this.card&&this.card.notes()&&this.concepts[0]&&this.concepts[0].data.push({title:"Osmosis Notes References",url:"https://d16qt3wv6xm098.cloudfront.net/ZRTUnGMhS5ycxQ9EADUZJWyATLeLDEu8/_.pdf"})},ReferencesSection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)this.concepts[e].data&&this.concepts[e].data.length&&this.visible(!0)},ReferencesSection.prototype.primeStart=function(){window.location.href="/plans?ref=main&src=references"},ReferencesSection.prototype.handleLinkClick=function(e){var t=this;return function(){t.trackInteraction(e),window.open(e.url,"_blank")}},ReferencesSection.prototype.trackInteraction=function(e){var t=s.match(e.url);this.card.trackCardInteraction({feature:"references",interaction:"click",link:e.title.toLowerCase(),source:t&&t.label?t.label.toLowerCase():e.url})},a.exports=ReferencesSection}),define("models.learn.sections.RelatedSection",function(e,t,a){function RelatedSection(e,t){this.concepts=t.concepts,this.card=t.card}RelatedSection.prototype.openCard=function(e){var t=this;return function(){t.trackInteraction(e.concept),tabToURL("/learn/"+e.concept.replace(/\s/g,"_"))}},RelatedSection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)this.concepts[e].concept&&this.visible(!0)},RelatedSection.prototype.breadcrumbClick=function(){/\/home\/search\?topic=Professional_development/.exec(this.card.breadcrumbLink())&&this.card.breadcrumbLink("/home/scienceoflearning"),window.location.href=this.card.breadcrumbLink()},RelatedSection.prototype.trackInteraction=function(e){this.card.trackCardInteraction({feature:"related_concepts",interaction:"click",link:e.toLowerCase()})},a.exports=RelatedSection}),define("models.learn.sections.ResourcesSection",function(e,t,a){function ResourcesSection(e,t){this;for(var a in this.concepts=t.concepts,this.currentBook=ko.observable(window.userSchedule&&window.userSchedule.books&&window.userSchedule.books.fa?window.userSchedule.books.fa:"f18"),this.card=t.card,this.loggedOut=!!t.loggedOut,("f14"==this.currentBook()||"f15"==this.currentBook())&&(this.currentBook("f19"),fs.post("setFAVersion",{edition:"f19"},function(){})),this.concepts)if(this.concepts[a].data)for(var s in this.concepts[a].data.faBooks=[],o)this.concepts[a].data.faBooks.push({data:this.concepts[a].data[s]?this.concepts[a].data[s]:[],bookID:s,bookTitle:o[s].split(/(\d+)/)[0],bookYear:o[s].replace("First Aid ","")}),this.concepts[a].data.faBooks.sort(function(e,t){return t.bookYear-e.bookYear});e(this),this.loggedOut&&fs.mix(this,"models/learn/sections/PrimeLockOverlay",{title:"This is an Osmosis account feature",description:"Quickly see where to find relevant First Aid resources for this concept.",isBasicFeature:!0,source:this.card.name,resource:"Resources section"}),this.wikifyTerms()}var s=t("app/wikify"),o={f15:"First Aid 2015",f16:"First Aid 2016",f17:"First Aid 2017",f18:"First Aid 2018",f19:"First Aid 2019"};ResourcesSection.prototype.wikifyTerms=function(){var e=this;s.defer(function(){s.wikifyElements($(".wikify",e.dom),{ref:"learn-card-bookref",onBeforeShow:function onBeforeShow(t){e.trackInteraction(t)}})})},ResourcesSection.prototype.updateBook=function(e){var t=this;return function(){t.currentBook(e),fs.post("setFAVersion",{edition:e},function(){})}},ResourcesSection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)this.concepts[e].data&&0<this.concepts[e].data.faBooks.length&&this.visible(!0)},ResourcesSection.prototype.trackInteraction=function(e){this.card.trackCardInteraction({feature:"resources",interaction:"click",link:e,source:o[this.currentBook()]})},a.exports=ResourcesSection}),define("models.learn.sections.SummarySection",function(e,t,a){function SummarySection(e,t){this.concepts=t.concepts,this.card=t.card,this.hideHeader=t.hideHeader,e(this),this.wikifyTerms()}var s=t("app/wikify");SummarySection.prototype.checkVisibility=function(){if(this.concepts)for(var e in this.concepts)this.concepts[e].data&&this.card.noVideo()&&this.visible(!0)},SummarySection.prototype.wikifyTerms=function(){var e=this;s.defer(function(){s.wikifyElements($(".wikify",e.dom),{ref:"learn-card-summary",onBeforeShow:function onBeforeShow(t){e.trackInteraction(t)}})})},SummarySection.prototype.getURL=function(e){return e.replace(/\s/g,"_")},SummarySection.prototype.trackInteraction=function(e){this.card.trackCardInteraction({feature:"summary",interaction:"click",link:e})},a.exports=SummarySection}),define("models.learn.sections.TableSection",function(e,t,a){function TableSection(e,t){this.label=ko.observable(t.label),this.node=t.block,e(this);for(var a=0;a<t.concepts.length;a+=1)fs.mixAppend($(".main-content",this.dom),"ui/ContentTable",{table:t.concepts[a].data})}TableSection.prototype.checkVisibility=function(){this.visible(!0)},a.exports=TableSection}),define("models.ques.AdvancedTools",function(e,t,a){function AdvancedTools(e,t){this.tools=ko.observableArray(t.tools),this.mode=t.parent.parent.mode,this.addingTopicTags=ko.observable(!!t.data.tag),this.hasMajorTakeaway=ko.observable(!!t.data.kp),e(this),this.inputBlock=fs.mix(this,"models/ques/ExtendedInput",{data:t.data,hasMajorTakeaway:this.hasMajorTakeaway}),this.refBlock=fs.mix(this,"models/ques/ref/Block",{refs:t.data.r}),this.topicTags=fs.mix(this,"models/ques/TopicTags",{tags:t.data.tag,addingTopicTags:this.addingTopicTags})}AdvancedTools.prototype.addReference=function(){var e=this;return function(){e.refBlock.addReference()}},AdvancedTools.prototype.save=function(e){this.inputBlock.save(e),this.refBlock.save(e),this.topicTags.save(e)},a.exports=AdvancedTools}),define("models.ques.ContentTeamTags",function(e,t,a){function ContentTeamTags(e,t){var a=this;this.ques=t.parent.ques,this.isElsevier=ko.observable();var o=this.ques.data();this.tags=ko.observableArray(s.deserialize(o.t)),console.log(this.ques.nodeID),this.ques.nodeID&&fs.post("getQuesElsevierStatus",{nodeID:this.ques.nodeID},function(e){e.isElsevier?a.isElsevier(!0):a.isElsevier(!1)})}var s=t("app/contentTags");ContentTeamTags.prototype.addAdminTag=function(){var e=this;dialog("ui/dialogs/ContentTags",function(t,a){a&&e.tags(s.deserialize(t.getTags()))},{tags:e.tags(),isForQuestions:!0})},a.exports=ContentTeamTags}),define("models.ques.DifficultyBar",function(e,t,a){var s=function(){"use strict";function DifficultyBar(e,t){var a=this;_classCallCheck(this,DifficultyBar),this.difficulties="function"==typeof t.difficulties?t.difficulties:ko.observableArray(t.difficulties||[]),this.allowClickChange=!!t.allowClickChange,this.difficultyText=ko.computed(function(){return _.map(a.difficulties().sort(),function(e){return DifficultyBar.diff2text(e)}).join("/")||"Difficulty"}),this.inPopup=t.inPopup,this.popupVisible=ko.observable(!1),this.popupVisible.subscribe(function(e){$(document)[e?"on":"off"]("click",a.__documentClickListener.bind(a))}),e(this),this.inPopup||this.renderPopup()}return _createClass(DifficultyBar,[{key:"__documentClickListener",value:function __documentClickListener(e){$(e.target).closest(this.dom).length||this.popupVisible(!1)}},{key:"__getKOHasDifficulty",value:function __getKOHasDifficulty(e){var t=this;return ko.computed(function(){return t.hasDifficulty(e)})}},{key:"hasDifficulty",value:function hasDifficulty(e){return!!~this.difficulties().indexOf(e)}},{key:"togglePopup",value:function togglePopup(){this.popupVisible(!this.popupVisible())}},{key:"showPopup",value:function showPopup(){this.popupVisible(!0)}},{key:"hidePopup",value:function hidePopup(){this.popupVisible(!1)}},{key:"toggleDifficulty",value:function toggleDifficulty(e){~this.difficulties.indexOf(e)?this.difficulties.remove(e):this.difficulties.push(e)}},{key:"difficultyClicked",value:function difficultyClicked(e){var t=this;return function(){t.allowClickChange?(t.toggleDifficulty(e),t.showPopup()):t.togglePopup()}}},{key:"renderPopup",value:function renderPopup(){var e=this,t=$(".popup-section-difficulty",this.dom);t.map(function(a){fs.mixAppend($(t[a],e.dom),"models/ques/DifficultyBar",{inPopup:!0,difficulties:[a]})})}}],[{key:"diff2text",value:function diff2text(e){return["Easy","Medium","Hard"][e]}},{key:"text2diff",value:function text2diff(e){return{Easy:0,Medium:1,Hard:2}[e]}}]),DifficultyBar}();a.exports=s}),define("models.ques.EditBtns",function(e,t,a){function EditBtns(e,t){this.parent=t.parent,this.ques=this.parent.ques,this.visible=ko.observable(!!t.visible)}var s=t("app/contentTags");EditBtns.prototype.saveEditsAsPublic=function(e,t){var a=this;this.ques.status(2),this.saveEdits(function(){a.parent.parent.parent.onSaveQues&&a.parent.parent.parent.onSaveQues(a.parent,a.parent.parent),e&&e()},function(){t&&t()})},EditBtns.prototype.saveEditsAsDraft=function(e,t){var a=this;this.ques.status(0),this.saveEdits(function(){a.parent.parent.parent.onSaveQues&&a.parent.parent.parent.onSaveQues(a.parent,a.parent.parent),e&&e()},function(){t&&t()})},EditBtns.prototype.saveEdits=function(e,t){var a=this,o=this.parent.quesBlock.save(),d=!this.ques.nodeID,n=o.data;if(!o.error){if(this.ques.nodeID||(this.ques.userID(userID),this.ques.origMID(this.ques.MID||window.MID)),this.parent.contentTeamTags){var l=this.parent.contentTeamTags.tags();l.length&&(n.t=s.serialize(l))}this.parent.quesBlock.silentUpdate(n),fs.save(this.ques,function(){if(d){var t=a.parent.tags?a.parent.tags.tagSelect.value():[];if(t&&t.length)for(var s in t)fs.create("link",{m:a.ques.MID,nodeID:a.ques.nodeID,type:1,targetID:t[s]});5==a.ques.subtype()&&(a.ques.schedule=1),a.parent.slideNodeID&&a.addToSlide(a.parent.slideNodeID)}else a.unlockNode();a.parent.parent.editing(!1),e()})}else alert(o.error),t()},EditBtns.prototype.cancelEdits=function(){var e=this;confirmYesNo("Are you sure you want to cancel editing? Any changes you've made to the question will be lost.","Cancel Edits","danger",function(t){e.doCancel(),t()})},EditBtns.prototype.unlockNode=function(){fs.post("unlocknode",{g:window.groupID,n:this.ques.nodeID,m:this.ques.MID||MID})},EditBtns.prototype.doCancel=function(){this.ques.nodeID&&this.unlockNode();this.ques._nodeID()?0:-1;if(!this.ques._nodeID()){var e=this.parent.parent.indexOf(this.parent);0<this.parent.parent.items.length&&0<e?goToByScroll(this.parent.parent.items[e-1].dom):jumpTo("body")}else goToByScroll(this.parent.dom);this.parent.parent.remove(this.parent),this.parent.parent.editing(!1)},EditBtns.prototype.addToSlide=function(e){fs.create("link",{nodeID:this.ques.nodeID,type:2,targetID:e}),this.parent.parent.parent.addedToSlide&&this.parent.parent.parent.addedToSlide(this.ques)},a.exports=EditBtns}),define("models.ques.EditContainer",function(e,t,a){function EditContainer(e,t){this;this.tools=t.tools||{types:"all",tags:!0,saveBtns:!0,contentTeamTags:!1},this.ques=t.model||new o,!this.ques.nodeID&&t.newQuesType&&(this.ques.type(5),this.ques.subtype(t.newQuesType)),this.rev={},this.visible=ko.observable(!0),this.mode=ko.observable("edit"),this.canPublish=ko.observable(!0),this.slideNodeID=t.slideNodeID,e(this),t.boxed&&this.dom.addClass("boxed"),t.delayRender||this.render()}var s=t("models/ques/types"),o=t("models/Node");EditContainer.prototype.render=function(){var e=this.tools,t="models/ques/view/"+s.viewModels[this.ques.subtype()-1];this.quesBlock=fs.mix(this,t,{},{matchName:"quesBlock"}),e.types&&"none"!=e.types&&(this.type=fs.mix(this,"models/ques/QuesType",{types:e.types||"all"})),e.tags&&(this.tags=fs.mix(this,"models/ques/QuesTags")),this.editBtns=fs.mix(this,"models/ques/EditBtns",{visible:e.saveBtns}),e.contentTeamTags&&(this.contentTeamTags=fs.mix(this,"models/ques/ContentTeamTags"))},EditContainer.prototype.isEmpty=function(){return!!this.quesBlock.isEmpty&&this.quesBlock.isEmpty()},EditContainer.prototype.save=function(e,t){this.canPublish()?this.editBtns.saveEditsAsPublic(e,t):this.editBtns.saveEditsAsDraft(e,t)},a.exports=EditContainer}),define("models.ques.ExtendedInput",function(e,t,a){function ExtendedInput(e,t){var a=this,d=t.data;this.hasMajorTakeaway=t.hasMajorTakeaway,this.hasExtendedInput=ko.observable(!!(t.data.op||t.data.kw)),this.takeawayWordCount=ko.observable(0),e(this),this.ob=s($(".quesObjective",this.dom),d.ob,"edit"==this.parent.parent.parent.mode(),this.parent.parent.parent.ques.MID),this.kp=s($(".quesKeyPoints",this.dom),d.kp,"edit"==this.parent.parent.parent.mode(),this.parent.parent.parent.ques.MID),this.kp&&window.useStrictEdits&&o.monitor(this.kp,this.takeawayWordCount),this.kw=s($(".quesKeywords",this.dom),d.kw,"edit"==this.parent.parent.parent.mode(),this.parent.parent.parent.ques.MID)}var s=t("models/content"),o=t("models/ques/wc");ExtendedInput.prototype.save=function(e){var t=this.ob.content();t&&(e.ob=t),t=this.kp.content(),t&&(e.kp=t),t=this.kw.content(),t&&(e.kw=t)},a.exports=ExtendedInput}),define("models.ques.FlashcardPreview",function(e,t,a){function FlashcardPreview(e,t){this.node=t.node,this.term=t.term,this.selectOnly=ko.observable(t.selectOnly),this.index=ko.observable(t.idx),this.highlighting=ko.observable(),e(this),this.render()}var s=t("models/content");FlashcardPreview.prototype.render=function(){var e=this.node.data();1==this.node.subtype()?(s($(".ques-body",this.dom),e.q),s($(".ques-exp",this.dom),e.e)):5==this.node.subtype()&&(s($(".ques-body",this.dom),e.q),s($(".ques-exp",this.dom),e.e))},FlashcardPreview.prototype.select=function(){this.index(this.parent.select(this.node.nodeID))},FlashcardPreview.prototype.remove=function(){this.parent.removeCard(this,this.node.nodeID)},FlashcardPreview.prototype.editCard=function(){var e=this;dialog("ui/dialogs/EditItem",function(t,a){a&&e.render()},{model:this.node})},FlashcardPreview.prototype.startHighlighting=function(){this.parent.selectHighlight(this)},a.exports=FlashcardPreview}),define("models.ques.HighlightButton",function(e,t,a){function HighlightButton(e,t){this.parent=t.parent,this.toggleOn=ko.observable(!0),this.css=ko.observable("btn-default")}HighlightButton.prototype.toggleHighlight=function(){this.parent.toggleHighlight(this.toggleOn()),!0==this.toggleOn()?this.css("yellow"):this.css("btn-default"),console.log("toggleOn: "),console.log(this.toggleOn()),this.toggleOn(!this.toggleOn())},a.exports=HighlightButton}),define("models.ques.NavBtnWrapper",function(e,t,a){a.exports=function NavBtnWrapper(e){var t=this;e(this),this.nav=fs.mix(this,"models/ques/NavBtns",{feature:!0});var a=setInterval(function(){if(a)try{if(0>t.dom.offset().top){clearInterval(a),a=null;var e=t.nav.rate(0);e()}}catch(t){}},100)}}),define("models.ques.NavBtns",function(e,t,a){function NavBtns(e,t){var a=this;this.visible=ko.observable(!1),this.parent=t.parent,this.reviewApp=t.reviewApp,this.wasAnswered=!1,this.rating=ko.observable(),this.quizType=t.type,this.isCorrect=ko.observable(),this.confidence=ko.observable(),this.displayFloatingPrompt=ko.observable(!0),window.localStorage&&window.localStorage.getItem("displayFloatingPromptOnQuizes")&&this.displayFloatingPrompt("true"===window.localStorage.getItem("displayFloatingPromptOnQuizes")),this.keyboardControl=ko.computed(function(){return!window.mobile.tablet()&&!window.mobile.mobile()});var s={1:"low",2:"med",3:"high"};this.defaultRepetition=ko.computed(function(){var e=a.isCorrect()?"correct":"incorrect",t=s[a.confidence()];return t?o[e][t]():""}),this.defaultRepetitionText=ko.computed(function(){var e=a.defaultRepetition();return e?"osmosis"==e?a.isCorrect()?"in a few days":"tomorrow":"in "+e:""})}var s=t("app/dbRepeat"),o=t("ui/repeatConfig");NavBtns.prototype.hideFloatingPrompt=function(e,t){return window.localStorage&&window.localStorage.setItem("displayFloatingPromptOnQuizes",!1),this.displayFloatingPrompt(!1),t.preventDefault(),t.stopPropagation(),!1},NavBtns.prototype.skip=function(){this.reviewApp.quizPanel.current.markAsSkipped(),this.reviewApp.next()},NavBtns.prototype.rate=function(e){var t=this;return function(){t.rating(e),$(".tooltip").remove(),fs.post("rateItem",{nodeID:t.parent.ques.nodeID,rating:e},function(){$.jGrowl("Thanks for giving feedback on this item!",{life:1e3,position:"bottom-left"})})}},NavBtns.prototype.repeat=function(e){var t=this;return function(){t.setRepeat(e)}},NavBtns.prototype.prompt=function(e,t,a){this.wasAnswered=!0,this.currentQues=e,this.confidence(a),this.isCorrect(t),this.visible(!0)},NavBtns.prototype.hotkey=function(){},NavBtns.prototype.moveOn=function(){this.reviewApp.next(),this.visible(!1),$(".tooltip").remove()},NavBtns.prototype.spacebar=function(){var e=!1;if(window.learnCardModalOpen&&(e=window.learnCardModalOpen()),!e)if(!this.wasAnswered)this.skip();else if("flashcards"==this.quizType()){var t=this.defaultRepetition();"osmosis"==t?this.reviewApp.next():this.setRepeat(t)}else this.moveOn()},a.exports=NavBtns}),define("models.ques.PlaylistContainer",function(e,t,a){function PlaylistContainer(e,t){this.ques=t.ques,this.style=ko.observable("list"),this.mode=ko.observable("view"),this.__mode=this.mode,this.__editing=ko.observable(!1),this.canPublish=ko.observable(!1),this.accConfColor=ko.observable(n.accConf[t.accConf].color),this.accConfMsg=ko.observable(n.accConf[t.accConf].title+" "+dateStr(t.ts)),this.buffer=ko.observableArray(),this.showingBuffer=ko.observable(!1),e(this),this.viewModels="models/ques/view/",l.renderFlashcard(this.ques.data(),$(".quesBlock .flashcardFront",this.dom),$(".quesBlock .flashcardBack",this.dom)),l.showAnswer($(".quesBlock",this.dom),!0),$(".flashcardBack",this.dom).text()||$(".flashcardBack",this.dom).remove();var a={};for(var o in t.resources){var c=t.resources[o];a[c.nodeID]||(t.shownResourceIndex[c.nodeID]?this.buffer.push(c):d.displayResource($(".recommendedList",this.dom),c,{originType:"playlist",originSubtype:5==this.ques.subtype()?"flashcard":"question",originID:this.ques.nodeID}),t.shownResourceIndex[c.nodeID]=!0),a[c.nodeID]=!0}s.wikifyElements($(".wikify",self.dom))}function dateStr(e){return $("<span>"+moment(1e3*e).format("YYYY-MM-DD HH:mm:ss")+"</span>").cuteTime().html()}var s=t("app/wikify"),o=t("app/wikiResourceManager"),d=t("models/media"),n=t("ui/scoreboardLegend"),l=t("models/ques/flashcardTools");PlaylistContainer.prototype.showBuffer=function(){var e=this.buffer();for(var t in this.showingBuffer(!0),e)d.displayResource($(".bufferedRecommendedList",this.dom),e[t])},PlaylistContainer.prototype.showPopover=function(){var e=!1,t=new Date().getTime(),a=!1;"function"==typeof Storage&&(a=!0),a&&(window.localStorage.playlistPopoverTimestamp?t-+window.localStorage.playlistPopoverTimestamp>=604800000&&(e=!0):e=!0,window.localStorage.setItem("playlistPopoverTimestamp",t)),e&&($(".recommended",this.dom).popover({content:"These recommended resources & study aids will help anchor all of your need-to-know concepts for cards you answered today.",title:"Strengthen your Memory",placement:"top",container:this.dom,template:"<div class=\"popover has-theme green\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>"}).popover("show"),$(".popover",this.dom).on("click",function(){$(".recommended",this.dom).popover("destroy")}))},a.exports=PlaylistContainer}),define("models.ques.QuesPreview",function(e,t,a){function QuesPreview(e,t){var a=this;this.node=t.node,this.term=t.term,this.score=t.score,this.mode=t.mode,this.idx=t.idx,this.count=t.count,this.matchTerm=ko.observable(),this.termURL=ko.computed(function(){return"/editconcept?term="+(a.matchTerm()||"").replace(/\s/g,"_")}),this.matchTabVisible=ko.observable(!1),this.hasMajorTakeaway=ko.observable(),this.editCaption=ko.computed(function(){if(window.editIndex){var e=editIndex[a.node.nodeID];return e?e.msg.name+" "+e.msg.msg+" "+when(e.timestamp):""}return""}),e(this);var d=t.node.data();if(1==t.node.subtype()){s($(".ques-body",this.dom),d.q);var n=d.a;for(var l in n){var c=$("<li>").appendTo($(".ques-ans",this.dom)),p=$(n[l].c?"<div class=\"fwb\" style=\"color: green\">":"<div>").appendTo(c),u=$("<div>").appendTo(c);s(p,n[l].v),n[l].e&&s(u,n[l].e)}s($(".ques-exp",this.dom),d.e),d.kp&&(this.hasMajorTakeaway(!0),s($(".ques-kp",this.dom),d.kp))}else 2==t.node.subtype()?(s($(".ques-body",this.dom),d.q),$(".ques-body",this.dom).append("<br>True/False"),s($(".ques-exp",this.dom),d.e)):5==t.node.subtype()&&(s($(".ques-body",this.dom),d.q),s($(".ques-exp",this.dom),d.e));o.defer(function(){o.wikifyElements($(".wikify",a.dom),null,function(e,t){return"<a href=\""+t+"\" class=\"ques-term\">"+e+"</a>"}),$(".ques-term",a.dom).click(function(t){t.preventDefault(),a.showMatchTab($(this).attr("href"),t.pageX-$(a.dom).offset().left+10,t.pageY-$(a.dom).offset().top+10)})})}function when(e){return $("<span>"+e+"</span>").cuteTime().html()}var s=t("models/content"),o=t("app/wikify");QuesPreview.prototype.showMatchTab=function(e,t,a){var s=this;s.matchTerm(e),s.matchTabVisible(!0),$(".match-tab",s.dom).css("left",t).css("top",a)},QuesPreview.prototype.note=function(e){var t=this;return function(){fs.post("makeEditorialNote",{tag:e,nodeID:t.node.nodeID},function(){$.jGrowl("Noted",{life:1e3,position:"bottom-left"})})}},QuesPreview.prototype.categorize=function(e){var t=this;return function(a){t.parent.categorize(e,t.node.nodeID,a),fs.post("makeEditorialNote",{tag:"attached",nodeID:t.node.nodeID},function(){})}},QuesPreview.prototype.moveAway=function(e){var t=this;return function(a){fs.post("editorAttachQuesToConcept",{nodeID:t.node.nodeID,term:t.matchTerm(),tab:e},function(){a(),t.parent.remove&&t.parent.doRemove()})}},a.exports=QuesPreview}),define("models.ques.QuesTags",function(e,t,a){function QuesTags(e,t){var a=this;this.ques=t.parent.ques,this.collapsed=ko.observable(!0),this.tags=ko.observableArray(),e(this),this.tagSelect=o(this,"tagSelect",{optionsArray:this.tags,onChange:"onChangeTag",caption:"Add tags here (optional)"}),fs.post("getTagsForModuleNode",{g:window.groupID,m:this.ques.MID||window.MID,nodeID:this.ques.nodeID},function(e){var t=fs.transpose(e.tagData,d);a.tags(_.map(t,function(e){return{value:e.tagID,label:e.tag()}})),a.collapsed(!e.tags.length),a.tagSelect.value(e.tags)})}var s=t("app/module"),o=t("ui/select"),d=t("models/Tag");QuesTags.prototype.onChangeTag=function(e){e&&(this.ques._nodeID()||this.ques.nodeID)&&(e.selected?this.ques.addTag(1,e.selected):e.deselected&&this.ques.removeTag(1,e.deselected))},QuesTags.prototype.createNewTag=function(){var e=this;fs.prompt("Enter the name of the tag you would like to create below:","Create New Tag","primary",function(t,a){null!=t||t!=null?fs.create("tag",{m:e.ques.MID,type:1,tag:t},function(e){console.log(e)}):fs.alert("Looks like you forgot to enter a tag name. Wanna try that again?"),a()})},a.exports=QuesTags}),define("models.ques.QuesType",function(e,t,a){function QuesType(e,t){this.ques=t.parent.ques,this.types=o;var a=d[t.types];e(this),this.quesTypeSelect=s(this,"quesTypeSelect",{options:a,value:this.ques.subtype()-1,onChange:"onChangeQuesType"})}var s=t("ui/select"),o=t("models/ques/types"),d={all:{0:"Multiple Choice",1:"True/False",3:"Label Matching",4:"Flashcard",6:"Fill-in Factoid"},ques:{0:"Multiple Choice",1:"True/False",3:"Label Matching",6:"Fill-in Factoid"},fc:{4:"Flashcard"}};QuesType.prototype.onChangeQuesType=function(){var e=this.parent.quesBlock;e&&e.dispose();var t=e.save();this.ques.subtype(+this.quesTypeSelect.value()+1),$("<div class=\"quesBlock\">").replaceAll($(".quesBlock",this.parent.dom)),this.parent.quesBlock=fs.mix(this.parent,"models/ques/view/"+o.viewModels[this.ques.subtype()-1],{changeType:t.data},{matchName:"quesBlock"})},a.exports=QuesType}),define("models.ques.QuizActions",function(e,t,a){function QuizActions(e,t){this;s.call(this,e,t),this.flagged=ko.observable(!1),this.isRepeatable=ko.observable(5==this.ques.subtype())}var s=t("models/ques/ViewActions"),o=t("ajax/NodeOps"),d=t("ui/repeatConfig");fs.extend(QuizActions,s),QuizActions.prototype.skip=function(){this.parent.nav.skip(),$(".tooltip").remove()},QuizActions.prototype.changeRepeat=function(){this.parent.grading()?(this.parent.quesBlock.customRepeatVisible(!0),this.parent.quesBlock.hasRepeatTimes(!0)):$.jGrowl("You can select a custom repeat time after you select a confidence level.",{life:2e3,position:"bottom-left"})},QuizActions.prototype.noRepeat=function(){this.parent.quesBlock.repeatTimeIfCorrect("Don't repeat"),this.parent.quesBlock.repeatTimeIfIncorrect("Don't repeat"),this.parent.quesBlock.overrideInterval="off",fs.post("mobileRescheduleQues",{nodeID:this.parent.ques.nodeID,days:-1},function(){$.jGrowl("Repetition switched off for this question",{life:2e3,position:"bottom-left"})})},QuizActions.prototype.flag=function(){var e=this;e.flagged()?(fs.post("scheduleForReview",{nodeIDs:[this.ques.nodeID],local:this.ques.MID?1:0,unflag:"unflag"},function(){}),d.flaggedOnly()?e.parent.quesBlock.hasRepeatTimes(!1):e.parent.quesBlock.hasRepeatTimes(!0)):(fs.post("scheduleForReview",{nodeIDs:[this.ques.nodeID],local:this.ques.MID?1:0},function(){}),e.parent.quesBlock.hasRepeatTimes(!0)),e.flagged(!e.flagged())},a.exports=QuizActions}),define("models.ques.QuizContainer",function(e,t,a){var s=Math.round;function QuizContainer(e,a){var s=this;this.showQuizControls=a.showQuizControls||ko.computed(!0),this.ques=a.model,this.ques.difficulty,this.dom=a.dom,this.beganViewing=now(),this.viewModelList=u,this.onWikify=a.onWikify,this.mode=ko.observable(a.view||"quiz"),this.grading=ko.observable(!1),this.__bindEditable(),this.__mode=ko.computed(function(){return s.__editing()?"edit":s.mode()}),this.style=ko.observable(a.style||"list"),this.rev={},this.newCommentVisible=ko.observable(),this.commentsVisible=ko.computed(function(){return"quiz"!=s.__mode()||s.grading()||s.newCommentVisible()}),this.hasLocalAccess=ko.observable(a.hasLocalAccess),this.reviewApp=a.reviewApp,e(this),this.actions=fs.mix(this,"models/ques/QuizActions"),s.actions.flagged(!1),s.getQuesMetadata(),this.commentList=fs.mixList(this,".commentList").source("comment","models/CommentView",{source:this.ques.comments}),this.viewModels="quiz"==this.mode()?"models/ques/quiz/":"models/ques/view/";var o=this.viewModels+this.viewModelList[this.ques.subtype()-1];this.quesBlock=fs.mix(this,o,{},{matchName:"quesBlock"});var d=!1;try{t(o+"Sideview"),d=!0}catch(t){}d&&(this.quesSideview=fs.mix(this,o+"Sideview",{mainView:this.quesBlock},{matchName:"quesSideview"})),this.nav=fs.mix(this,"models/ques/NavBtns",{type:this.parent.parent.parent.type,reviewApp:this.parent.parent.parent,parent:this}),this.setColumns(!0),$(window).resize(function(){s.setColumns()})}var o=t("app/dbResponses"),d=t("app/wikify"),n=t("app/dbProgress"),l=t("app/dbRepeat"),c=t("ui/repeatConfig"),p=t("core/ui"),u=["MultipleChoice","TrueFalse","MultipleCheckbox","LabelMatching","Flashcard","TableFlashcard","FillInFactoid"];QuizContainer.prototype.getQuesMetadata=function(){var e=this;fs.post("getQuesDifficulty",{nodeID:this.ques.nodeID},function(t){e.quesBlock.difficulties([t.difficulty])}),$.post("/getQuesMetadata",{nodeID:this.ques.nodeID},function(t){if(t.metrics){var a=_.reduce(t.metrics,function(e,t){return e+t},0),o=["A","B","C","D","E","F"];if(10<a)for(var d in e.quesBlock.ansMetrics=[],o)e.quesBlock.ansMetrics.push(s(100*(t.metrics[o[d]]/a)))}t.hasSlide&&fs.mix(e,"ui/MiniSlideViewer",{src:mediaServer+"/"+t.$+"/assets/page-"+t.pageNum+".svg",url:t.slideURL}),e.ques.MID=t.MID,t.MID&&e.ques.status(t.status),e.actions.MID(t.MID),e.actions.role(t.moduleRole),e.hasLocalAccess(!!t.MID),t.commentData&&fs.load("comment",t.commentData),e.hasLocalAccess()&&e.actions.showAvatar(),t.timestamp&&e.ques.created(t.timestamp),e.quesBlock.intervals=t.intervals,5==e.ques.subtype()&&(e.actions.flagged(t.flagged),e.quesBlock.flagged=t.flagged,!t.flagged&&c.flaggedOnly()&&e.quesBlock.hasRepeatTimes(!1))})},QuizContainer.prototype.setColumns=function(e){768>$(window).width()?($(".main-ques",this.dom).removeClass("scrollable").height(""),$(".main-ques-explain",this.dom).removeClass("scrollable").height("")):(e,$(".main-ques",this.dom).addClass("scrollable"),$(".main-ques-explain",this.dom).addClass("scrollable"),p.setScrollableHeights())},QuizContainer.prototype.createResponseObject=function(e){var t=this,a=this.quesBlock;this.graded=!0,a.graded=!0,a.response={n:this.ques.nodeID,conf:e,etta:t.stamptime(),submitted:!1},a.response.ts=+now(),a.response.tz=-4*new Date().getTimezoneOffset()/60,a.response.pf=window.mobile.phone()?16:window.mobile.tablet()?24:8,a.response.changed=0,this.graded=a.grade(),this.graded.quesNodeID=this.ques.nodeID,this.graded.confidence=e,1==this.ques.subtype()&&null!=this.graded.selectedIdx&&10>=this.graded.ansOrder.length&&(a.response.selected=this.graded.selectedIdx+1),a.response.acc=this.graded.isCorrect?1:0,this.ques.accuracy=this.graded.isCorrect?1:0,this.ques.confidence=e;var s={accConf:{},time:{}};s.accConf.from=+this.ques.timestamp<+this.parent.parent.parent.quizStartTime?7:this.ques.accConfBin,s.accConf.to=3*(this.graded.isCorrect?0:1)+(3-e),this.ques.accConfBin=s.accConf.to,this.ques.timestamp=new Date,s.time.from=0,s.time.to=0,this.ques.timeBin=0,$(document).trigger("QuesStatusChange",[this.ques,s]),this.parent.parent.parent.parent.controls.quizScoreboard.quesStatusChange(s)},QuizContainer.prototype.grade=function(e){this;this.createResponseObject(e),this.promptForRatings(this.ques,this.graded.isCorrect,e),this.mode("graded"),this.grading(!1),this.wikify(),this.submitResponse(-1,0)},QuizContainer.prototype.gradeAndAdvance=function(e,t){var a=this;if(this.createResponseObject(e),this.submitResponse(0,a.stamptime()-(a.quesBlock.earlyEtta||a.quesBlock.response.etta)),5==this.ques.subtype()&&this.quesBlock.hasRepeatTimes()){var t=t||c.getRepeatInterval(this.graded.isCorrect,e);t&&("off"==t?l.stop(this.ques):l.add(this.ques,t))}this.quesBlock.response=null,this.parent.parent.parent.next()},QuizContainer.prototype.markAsSkipped=function(){this.ques.timestamp=0;var e={accConf:{},time:{}};e.accConf.from=+this.ques.timestamp<+this.parent.parent.parent.quizStartTime?7:this.ques.accConfBin,e.accConf.to=6,this.ques.accConfBin=e.accConf.to,e.time.from=0,e.time.to=0,this.ques.timeBin=0,$(document).trigger("QuesStatusChange",[this.ques,e])},QuizContainer.prototype.stamptime=function(){return s((now()-this.beganViewing)/100)},QuizContainer.prototype.promptForRatings=function(e,t,a){var s=this;this.nav.prompt(e,t,a,function(e){s.submitResponse(e,s.stamptime()-s.quesBlock.response.etta),s.quesBlock.response=null})},QuizContainer.prototype.wikify=function(){var e=this,t=d.wikifyElements($(".wikify",this.dom),{ref:"quiz",subtype:5==this.ques.subtype()?"flashcard":"question"},null,!0),a=$(".wikify .content-text",this.dom).find("a");a.on("mouseenter",function(t){clearTimeout(e.hoverConceptTO),e.hoverConceptTO=setTimeout(function(){if($(t.target).data("tip-initialized"))return void setTimeout(function(){t.target.matches(":hover")&&e.showSummaryPopup(null,null,t.target)},100);var a=t.target.attributes.href.textContent;fs.post("getLearnPage",{query:a},function(a){a.sections&&a.sections.summary.length&&t.target.matches(":hover")?e.showSummaryPopup(a.sections.summary,a,t.target):$(t.target).data("tip-initialized",!0)}),eventTracker.track("quiz_link_summary",{},["intercom"],21600)},700)}),a.on("mouseleave",function(){clearTimeout(e.hoverConceptTO)}),this.onWikify&&this.onWikify(this.ques,t)},QuizContainer.prototype.showSummaryPopup=function(e,t,a){var s=this;if(!$(a).data("tip-initialized")&&e&&e[0]&&e[0].data){$(a).data("tip-initialized",!0);var o=e[0].data;$(a).data("content",o),$(a).attr("title",o),$(a).tooltip({html:!0,animation:!0,placement:"bottom",container:".models-ques-QuizContainer",boundary:"window",trigger:"manual",template:"\n      <div class=\"tooltip\">\n        <div class=\"arrow\"></div>\n        <div class=\"popup-entry\"></div>\n      </div>\n      "})}var d=$("[aria-describedby]");d.tooltip("hide"),clearTimeout(this.aboutToShowPopupTimer),this.aboutToShowPopupTimer=setTimeout(function(){$(a).tooltip("show"),$(a).data("component-initialized")||setTimeout(function(){try{t&&t.feature&&t.feature.data&&(t.feature.data.mux||t.feature.data.s3||t.feature.data.yt||t.feature.data.hls)&&(t.sections.video={name:"video"});var e=$(".popup-entry",s.dom);0===e.children(".ui-SummaryPopup").length&&(fs.mixAppend(e,"ui/SummaryPopup",{title:$(a).text(),content:$(a).data("content"),features:t?t.sections:[]}),$(a).data("component-initialized",!0))}catch(t){console.warn("Error appending SummaryPopup",t)}},200);var e;$(a).one("mouseleave",function(){e=setTimeout(function(){console.debug("timer ran out, hiding"),$(a).tooltip("hide")},850)}),$(document).click(function(t){var e=$(a).attr("aria-describedby");return!(0<$(t.target).closest("#"+e).length)&&void $(a).tooltip("hide")}),$(a).one("mouseenter",function(){clearTimeout(e),console.debug("re-entered element, clearing timer",e)}),setTimeout(function(){var t=$("#"+$(a).attr("aria-describedby")+" .tooltip-content");$(t).on("click",".fa-times",function(){console.log("clicked close btn"),$(a).tooltip("hide")}),$(t).on("click","button",function(){$(a).click()}),t.one("mouseenter",function(){clearTimeout(e),console.debug("entered, clearing timer"),t.on("mouseout",function(e){var t=$(e.relatedTarget).parents(".ui-SummaryPopup");t.length||(console.debug("moused out to",e.relatedTarget),!window.stopHiding&&$(a).tooltip("hide"))})})},250)},250)},QuizContainer.prototype.submitResponse=function(e,t){this.quesBlock.response.rate=e,this.quesBlock.response.ettr=t,this.quesBlock.response.pack=this.ques.packID()||-this.ques.MID||-MID,this.ques.myRating(e),o.add(this.quesBlock.response),n.todayIndex[this.ques.nodeID]=!0,n.index[this.ques.nodeID]=!0,this.parent.parent.parent.checkShortTermRepeats()},a.exports=fs.makeEditable(QuizContainer)}),define("models.ques.QuizPanel",function(e,t,a){function QuizPanel(e,t){var a=this;this.dom=t.dom,this.reviewApp=t.reviewApp,this.showQuizControls=t.showQuizControls||ko.computed(!0),this.quiz=fs.mixList(this,".quiz"),this.quiz.viewModel="models/ques/QuizContainer",e(this),o.isActive.subscribe(function(){a.current&&a.current.quesBlock&&a.current.quesBlock.toggleHighlight&&a.current.quesBlock.toggleHighlight()})}var s=t("app/tour"),o=t("ui/quizHighlightControl");QuizPanel.prototype.reset=function(){this.quiz.removeAll()},QuizPanel.prototype.display=function(e){var t=this;o.isVisible(e.subtype()&&1==e.subtype()),this.current=this.quiz.push("models/ques/QuizContainer",{model:e,onWikify:function onWikify(){},showQuizControls:t.showQuizControls,reviewApp:this.reviewApp}),s.next("newUI:9")},a.exports=QuizPanel}),define("models.ques.SubmitBtns",function(e,t,a){function SubmitBtns(e){this.descr=ko.observable("Rate your confidence to submit:"),this.mode=ko.observable("confidence"),this.selected=ko.observable(),e(this),this.shortcutSubmit={};for(var t=1;3>=t;t++)this.shortcutSubmit[t]=this.parent.submit(t);$(".confidence-shortcut",this.dom).attr("title","When these icons are visible, you can use the keyboard to rate your confidence.").tooltip({placement:"bottom"}),s.next("newUI:5")}var s=t("app/tour");SubmitBtns.prototype.numPress=function(e){if(1<=e&&3>=e)return this.selected(4-e),this.shortcutSubmit[this.selected()](),!0},a.exports=SubmitBtns}),define("models.ques.TableField",function(e,t,a){var s=t("models/content");a.exports=function TableField(e,t){e(this),this.name=s($(".fieldName",this.dom),t.name,"edit"==t.mode),this.descr=s($(".fieldDescr",this.dom),t.descr,"edit"==t.mode)}}),define("models.ques.TopicTags",function(e,t,a){function TopicTags(e,t){var a=this;this.addingTopicTags=t.addingTopicTags,this.mode=t.parent.mode,this.tags=ko.observable(t.tags),this.tagStr=ko.computed(function(){var e=a.tags();return e?e.split("|").join(", "):""}),$(".topicTag").tokenInput("/topictag",{method:"POST",theme:"facebook",jsonContainer:"res",preventDuplicates:!0,tokenDelimiter:"|",prePopulate:fillData(t.tags)})}function fillData(e){if(!e)return null;var t=[],a=e.split("|");for(var s in a)t.push({id:a[s],name:a[s]});return t}TopicTags.prototype.save=function(e){e.tag=this.tags()},a.exports=TopicTags}),define("models.ques.ViewActions",function(e,t,a){function ViewActions(e,t){var a=this;this.parent=t.parent,this.ques=this.parent.ques,this.visible=ko.observable(!0),this.__visible=ko.computed(function(){return"edit"!=a.parent.mode()&&a.visible()}),this.MID=ko.observable(this.ques.MID||0),this.role=ko.observable(window.role||0),this.statusStr=ko.computed(function(){return n[a.ques.status()]}),this.canEdit=ko.computed(function(){return 3>a.ques.status()&&(0<a.role()&&2>=a.role()||a.ques.userID()==userID)}),this.statusClass=ko.computed(function(){return n[a.ques.status()].replace(" ","-").toLowerCase()}),this.createdStr=ko.computed(function(){return $("<span>"+a.ques.created()+"</span>").cuteTime().html()})}var s=t("ajax/NodeOps"),o=t("ui/repeatConfig"),d=t("models/Node"),n=["Private","New","Public","Retired","Replaced"];ViewActions.prototype.showAvatar=function(){this.avatar=fs.mix(this,"ui/Avatar",{userID:this.ques.userID,userName:this.ques.user})},ViewActions.prototype.comment=function(){this.parent.newCommentVisible&&this.parent.newCommentVisible(!0);var e=this.parent.commentList.add();e.comment.nodeID(this.ques.nodeID).userID(userID).MID=MID||this.ques.MID,goToByScroll(e.dom)},ViewActions.prototype.onEdit=function(e){function startEdit(){e(),t.minimized(!1),jumpTo(t.dom),t.quesBlock.focus()}var t=this;this.ques.nodeID?fs.post("/locknode",{nodeID:this.ques.nodeID,m:this.ques.MID||window.MID},function(){startEdit()},function(){alert("Another user has locked this question for editing. Locks expire, so try again in 5-10 minutes.")}):startEdit()},ViewActions.prototype.fork=function(){this.clone(),this.ques.status(4)},ViewActions.prototype.clone=function(){var e=new d(null);e.type(5),e.subtype(this.ques.subtype()),e.data(JSON.parse(JSON.stringify(this.ques.data()))),e.cloneID=this.ques.nodeID;var t=this.parent.parent.indexOf(this.ques),a=this.parent.parent.add(t+1,{model:e,boxed:!0,slideNodeID:this.parent.slideNodeID}),t=this.parent.parent.indexOf(e),s=this.parent.parent.items[t].dom,o=s.parents(".scrollable");o.length||(o=s.parents("#viewerContainer")),goToByScroll(s,null,o)},ViewActions.prototype.retire=function(){var e=this;fs.confirm("Are you sure you want to retire this question?",function(t){s.changeNodeStatus(e.ques,3),fs.post("removeFromSpacedRep",{g:window.groupID,m:window.MID,n:e.ques.nodeID}),e.parent.parent.remove(e.parent),e.parent.parent.parent.onRemoveQues&&e.parent.parent.parent.onRemoveQues(e.parent,e.parent.parent),t()})},ViewActions.prototype.remove=function(){var e=this;fs.confirm("Are you sure you want to delete this question?","Confirm Delete","danger",function(t){fs.destroy(e.ques,function(){e.ques.removeDocLinks(),e.parent.parent.remove(e.parent),e.parent.parent.parent.onRemoveQues&&e.parent.parent.parent.onRemoveQues(e.parent,e.parent.parent),t()})})},ViewActions.prototype.replace=function(){this.clone()},ViewActions.prototype.showSlide=function(){this.slideVisible(!0)},ViewActions.prototype.viewDoc=function(){},ViewActions.prototype.edit=function(){this;dialog("ui/dialogs/EditItem",function(){$.jGrowl("Saved changes.",{life:1e3,position:"bottom-left"})},{model:this.ques})},ViewActions.prototype.publish=function(){s.changeNodeStatus(this.ques,2)},ViewActions.prototype.reportIssue=function(){dialog("ui/dialogs/FeedbackForm",function(){},{subject:"Feedback on Question Item "+this.ques.nodeID,nodeID:this.ques.nodeID})},a.exports=ViewActions}),define("models.ques.ViewContainer",function(e,t,a){function ViewContainer(e,t){this;this.tools=t.tools||{types:"none",tags:!1,actions:!0,contentTeamTags:!1},this.ques=t.model,this.rev={},this.visible=ko.observable(!0),this.mode=ko.observable("view"),this.style=ko.observable("list"),this.canPublish=ko.observable(!0),this.hasLocalAccess=ko.observable(t.hasLocalAccess),this.slideNodeID=t.slideNodeID,e(this),t.boxed&&this.dom.addClass("boxed"),t.delayRender||this.render()}var s=t("models/ques/types");ViewContainer.prototype.render=function(){var e=this.tools,t="models/ques/view/"+s.viewModels[this.ques.subtype()-1];this.quesBlock=fs.mix(this,t,{},{matchName:"quesBlock"}),e.types&&"none"!=e.types&&(this.type=fs.mix(this,"models/ques/QuesType",{types:e.types||"all"})),e.contentTeamTags&&(this.contentTeamTags=fs.mix(this,"models/ques/ContentTeamTags")),e.actions&&(this.actions=fs.mix(this,"models/ques/ViewActions")),e.attachedSlide&&this.getAttachedSlide(),this.commentList=fs.mixList(this,".commentList").source("comment","models/CommentView",{source:this.ques.comments})},ViewContainer.prototype.showRevision=function(e){this.rev=e,this.quesBlock.render()},ViewContainer.prototype.getAttachedSlide=function(){var e=this;$.post("/getQuesMetadata",{nodeID:this.ques.nodeID},function(t){t.hasSlide&&fs.mix(e,"ui/MiniSlideViewer",{src:mediaServer+"/"+t.$+"/assets/page-"+t.pageNum+".svg",url:t.slideURL}),e.ques.MID=t.MID})},a.exports=ViewContainer}),define("models.ques.flashcardTools",function(t,a){var s=Math.floor;function selectRandom(e){return e[s(Math.random()*e.length)]}function ankiStyleCloze(e){for(var t={},a=/\{\{([\w\W]+?)\}\}/g;result=a.exec(e);){var o=result[1].split("::");t[o[0]]=!0}var d=[];for(var n in t)d.push(n);var l=d[s(Math.random()*d.length)];return e.replace(a,function(e){e=e.slice(0,e.length-2).slice(2);var t=e.split("::");if(2==t.length||3==t.length){var a=t[0],s=t[1];if(a==l){var o="<span style=\"text-decoration:underline\" class=\"cloze\"><span class=\"hidden the-cloze\">"+s+"</span><span class=\"cloze-blank\">";if(3==t.length){for(var d=0;7>d;d++)o+="&nbsp;";o+="("+t[2]+")";for(var d=0;7>d;d++)o+="&nbsp;"}else for(var d=0;10>d;d++)o+="&nbsp;";o+="</span></span>"}else var o="<span style=\"text-decoration:underline\">"+s+"</span>";return o}return"<span style=\"color: red\">The cloze "+e+" is misformed. This question needs to be edited to correct this</span>"})}function addShowAnswerLink(a){$(".showFactAnswer",a).click(function(s){s.preventDefault(),t.showAnswer(a)}),$(".showFactAnswer",a).mouseover(function(){t.showAnswer(a)})}function extractText(e){return e?"string"==typeof e?e:e.s:""}function testBraceCloze(e){for(var t=[],a=0;a<e.length;)"{"==e[a]?t.push("{"):"}"==e[a]&&t.pop(),a++;return 0==t.length}function testCloze(e){var t=null;if(e.replace(/\{\{([\w\W]+?)\}\}/g,function(e){var a=e.split("::");2!=a.length&&3!=a.length&&(t=e)}),t)return t}function substituteUnderlineCloze(e){return e=e.replace(/\{\{/g,"<u>"),e=e.replace(/\}\}/g,"</u>"),e}var o=a("models/content"),d=a("app/wikify");t.underlineCloze=function(e){var t=[];$("u",e).each(function(e,a){t.push(a)});for(var a=selectRandom(t),s=$("<span style=\"text-decoration:underline\" class=\"cloze\">"),o=$("<span class=\"hidden the-cloze\">").append($(a).html()).appendTo(s),d="<span class=\"cloze-blank\">",n=0;10>n;n++)d+="&nbsp;";d+="</span>",s.append(d),$(a).replaceWith(s)},t.underlineClozeAll=function(e){$("u",e).each(function(e,t){for(var a=$("<span style=\"text-decoration:underline\" class=\"cloze\">"),s=$("<span class=\"hidden the-cloze\">").append($(t).html()).appendTo(a),o="<span class=\"cloze-blank\">",d=0;10>d;d++)o+="&nbsp;";o+="</span>",a.append(o),$(t).replaceWith(a)})},t.ankiClozeAll=function(e){return e?"string"==typeof e?ankiClozeAllText(e):{a:e.a,s:ankiClozeAllText(e.s)}:""},t.ankiStyleCloze=function(e){return e?"string"==typeof e?ankiStyleCloze(e):{a:e.a,s:ankiStyleCloze(e.s)}:""},t.renderFlashcard=function(e,a,s){var d=null;if("z"in e&&("a"==e.z||"aa"==e.z?d="anki":"u"==e.z?d="underline":"ua"==e.z?d="underline_all":"r"==e.z&&(d="replace")),"anki"==d)a&&o(a,t.ankiStyleCloze(e.q)),s&&o(s,t.ankiStyleCloze(e.e));else if("underline"==d)a&&(o(a,e.q),t.underlineCloze(a)),s&&o(s,e.e);else if("underline_all"==d)a&&(o(a,e.q),t.underlineClozeAll(a)),s&&o(s,e.e);else if("replace"!=d)a&&o(a,e.q),s&&o(s,e.e);else if(a){var n=$("<div class=\"cloze\">").appendTo(a),l=$("<div class=\"cloze-blank\">").appendTo(n),c=$("<div class=\"hidden\">").appendTo(n);o(l,e.q),o(c,e.e)}return d},t.showAnswer=function(e,t){$(".hidden",e).removeClass("hidden"),$(".cloze",e).each(function(e,a){window.user&&0>=window.user.prime.status&&!t&&dialog("ui/dialogs/GetPrimeDialog",function(e,t){t&&(window.location.href="/store")}),$(".hidden",a).removeClass("hidden"),$(".cloze-blank",a).addClass("hidden")}),$(".showFactAnswer",e).addClass("hidden"),d.wikifyElements(e,{ref:"flashcard-block"})},t.renderAsQuickFact=function(e,a){var s=$("<li style=\"margin-top:20px\"><div class=\"cardFront\"></div><div class=\"hidden cardBack\"></div><div class=\"mts\" style=\"font-size:80%\"><a href=\"\" class=\"showFactAnswer\">Mouse Over for Answer</a></div></li>").appendTo(e);t.renderFlashcard(a,$(".cardFront",s),$(".cardBack",s)),addShowAnswerLink(s)},t.processCloze=function(e){if("a"==e.z||"aa"==e.z){var t=testCloze(extractText(e.q));if(t)return{error:"Misformed cloze "+t+".",data:e};var t=testBraceCloze(extractText(e.q));if(!t)return{error:"Misformed cloze: Make sure all sets of open double braces {{ are closed with }}",data:e}}else if("u"==e.z||"ua"==e.z){var t=testBraceCloze(extractText(e.q));if(t)"string"==typeof e.q?e.q=substituteUnderlineCloze(e.q):e.q.s=substituteUnderlineCloze(e.q.s);else return{error:"Misformed cloze: Make sure all sets of open double braces {{ are closed with }}",data:e}}return{}}}),define("models.ques.quiz.AnswerChoice",function(e,t,a){function AnswerChoice(e,t){var a=this,s=this;this.parent=t.parent,this.self=this,this.visible=ko.observable(!0),this.model=t.model,this.choiceContent=t.choice,this.feedbackContent=t.feedbackContent,this.expContent=t.exp,this.ansType=ko.observable("multipleChoice"),this.animationClass=ko.observable(""),this.name=ko.observable(t.quesID),this.ansId=ko.observable(t.label),this.idx=t.idx,this.value=ko.observable(t.label),this.status=ko.observable("ungradedAns"),this.ansChoice=ko.observable(),this.strikethrough=ko.observable(!1),this.query=ko.observable(t.query),this.isCorrect=t.correct,this.expVisible=ko.observable(!1),this.feedback=ko.observable(),this.accStat=ko.observable(),this.hasExpLink=ko.computed(function(){return!!s.expContent&&"graded"==s.parent.parent.mode()&&!s.expVisible()}),this.percent=ko.observable(),this.hidePercentChose=ko.computed(function(){return!("graded"==s.parent.mode()&&s.percent())}),this.statusClass=ko.computed(function(){s.parent.selected()===s&&s.strikethrough(!1);var e=s.status();return"unselectableAns"===e?e:"ungradedAns"===e&&s.parent.selected()===s?"selectedAns":e}),this.explanationClass=ko.computed(function(){return a.hasExpLink()?"has-explanation":""}),this.isHolding=ko.observable(!1),this.eliminationIsActive=o.eliminationIsActive,this.changeHideEliminatedText=t.changeHideEliminatedText,this.eliminatedAnswersAreVisible=o.eliminatedAnswersAreVisible,this.hideAnswerButtonIsVisible=ko.observable(!1),this.slideRight=ko.observable(!1),this.slideLeft=ko.observable(!1),this.adjustEliminationAnimation(),o.eliminationIsActive.subscribe(function(e){s.animateElimination(e)}),o.eliminatedAnswersAreVisible.subscribe(function(){s.adjustEliminationAnimation()}),e(this),this.render()}var s=t("models/content"),o=t("ui/eliminationToolControl");AnswerChoice.prototype.render=function(){this.choice=s($(".answerChoice",this.dom),this.choiceContent),this.exp=s($(".individualAnsExp",this.dom),this.expContent),this.feedbackContent&&s($(".feedback",this.dom),this.feedbackContent)},AnswerChoice.prototype.select=function(){"quiz"==this.parent.parent.mode()?this.parent.selected(this):this.hasExpLink()&&this.expVisible(!0),"labelMatching"==this.ansType()&&($(".AnsChoice").removeClass("active").removeClass("fixed"),$(".AnsChoice",this.dom).addClass("active"))},AnswerChoice.prototype.strike=function(){this.strikethrough(!this.strikethrough())},AnswerChoice.prototype.createExp=function(){this.expMode("show"),this.exp.edit()},AnswerChoice.prototype.unmatch=function(){this.originalChoice.visible(!0),this.matchLabel.visible(!0),delete this.parent.matches[this.originalChoice.idx],$(".AnsChoice").removeClass("active").removeClass("fixed"),fs.unmix(this)},AnswerChoice.prototype.eliminate=function(){this.strike(),this.changeHideEliminatedText(),o.hasEliminatedAnAnswer()||o.hasEliminatedAnAnswer(!0)},AnswerChoice.prototype.animateElimination=function(e){var t=this;!0==e?(this.slideLeft(!1),this.slideRight(!0),setTimeout(function(){t.hideAnswerButtonIsVisible(!0)},500)):(this.hideAnswerButtonIsVisible(!1),this.slideLeft(!0),this.slideRight(!1))},AnswerChoice.prototype.adjustEliminationAnimation=function(){this.eliminationIsActive()&&(this.slideRight(!1),this.slideLeft(!1),this.hideAnswerButtonIsVisible(!0))},a.exports=AnswerChoice}),define("models.ques.quiz.EliminationTool",function(e,t,a){function EliminationTool(e,t){this;this.parent=t.parent,this.eliminationIsActive=s.eliminationIsActive,this.hideEliminatedText=ko.observable(),this.eliminatedAnswersAreVisible=s.eliminatedAnswersAreVisible,this.hasEliminatedAnAnswer=s.hasEliminatedAnAnswer,this.changeHideEliminatedText(),e(this)}var s=t("ui/eliminationToolControl");EliminationTool.prototype.toggleElimination=function(){var e=!!this.eliminationIsActive&&this.eliminationIsActive();s.eliminationIsActive(!e),!1==s.eliminationIsActive()&&(s.eliminatedAnswersAreVisible(!0),this.parent.choices.forEach(function(e){e.strikethrough&&e.strikethrough(!1)}))},EliminationTool.prototype.toggleHideEliminated=function(){s.eliminatedAnswersAreVisible()?this.hideEliminatedText("Show eliminated answers"):this.hideEliminatedText("Hide eliminated answers"),s.eliminatedAnswersAreVisible(!s.eliminatedAnswersAreVisible())},EliminationTool.prototype.changeHideEliminatedText=function(){var e=this.checkForEliminatedAnswers;e&&s.eliminatedAnswersAreVisible()||!e?this.hideEliminatedText("Hide eliminated answers"):this.hideEliminatedText("Show eliminated answers")},EliminationTool.prototype.checkForEliminatedAnswers=function(){var e=!1;return this.parent.choices.forEach(function(t){t.strikethrough&&t.strikethrough()&&(e=!0)}),e},a.exports=EliminationTool}),define("models.ques.quiz.FillInFactoid",function(e,t,a){var s=Math.floor;function FillInFactoid(e,t){o.call(this,e,t),this.isCorrect=!1,this.hasWordBank=ko.observable(!1),this.words=ko.observableArray(),this.canShowSubmitBtns=ko.observable(!0),this.readyForSubmit=ko.observable(!1),this.canFillInBlanks=ko.observable(!0),e(this),this.submitBtns=fs.mix(this,"models/ques/SubmitBtns"),this.submitBtns.descr("Rate your confidence to submit:"),this.subscribe()}var o=t("models/ques/quiz/Ques"),d=t("models/content"),n=t("app/factoidWordBank");fs.extend(FillInFactoid,o),FillInFactoid.prototype.makeWordBankInputs=function(e){function checkForDone(){var e=!1;for(var s in a)e=e||!a[s].val();e||t.readyForSubmit()||t.readyForSubmit(!0)}var t=this,a=[];for(var s in this.blanks){var o=this.blanks[s].hasClass("factoidInput")?this.blanks[s].val():"",d=$("<input index=\""+s+"\" type=\"text\" class=\"factoidInput\" style=\"display:inline; width:100px; border: 1px solid black\">");d.val(o),a.push(d),d.autocompleteArray(e,{delay:10,minChars:1,matchSubset:1,autoFill:!0,maxItemsToShow:10}),window.onTab=function(){a[0].focus(),window.onTab=null},d.on("keydown",function(s){var e=s.keyCode||s.which;if(9==e||13==e){s.preventDefault();var o=$(s.target);+o.attr("index")<a.length-1?a[+o.attr("index")+1].focus():(checkForDone(),a[0].focus())}else 40==e&&(s.preventDefault(),t.useWordBank())}),d.focusout(checkForDone),this.dom.click(checkForDone),this.blanks[s].replaceWith(d),this.blanks[s]=d,a.length&&a[0].focus()}},FillInFactoid.prototype.render=function(){var e=this;if(this.data())var t=this.data();else return;this.terms=n.extractTerms(t.q),this.factoid=d($(".factoid",this.dom),t.q),this.blanks=[],this.answers=[],$("u",$(".factoid",this.dom)).each(function(t,a){e.answers.push($(a).text()),e.blanks.push($(a))}),"quiz"==this.mode()?this.renderForQuiz(t):this.renderGraded(t)},FillInFactoid.prototype.renderForQuiz=function(){this.makeWordBankInputs(n.getBank())},FillInFactoid.prototype.renderGraded=function(){var e=this.parent.graded;for(var t in this.blanks)this.answers[t].toLowerCase()==e.responses[t].toLowerCase()?this.blanks[t].replaceWith("<u class=\"fwb\" style=\"color:green; font-size:110%\">"+this.answers[t]+"</u>"):this.blanks[t].replaceWith("<span><span style=\"text-decoration:line-through; color:red\">"+e.responses[t]+"</span> <u class=\"fwb\" style=\"font-size:110%\">"+this.answers[t]+"</u></span>")},FillInFactoid.prototype.grade=function(){var e=[],t=!0;for(var a in this.blanks){var s=this.blanks[a].val();t=t&&s.toLowerCase()==this.answers[a].toLowerCase(),e.push(s)}return{isCorrect:t,responses:e}},FillInFactoid.prototype.useWordBank=function(){if(!this.hasWordBank()){this.hasWordBank(!0);var e=[];for(var t in this.terms)e.push(this.terms[t]);for(var t in shuffle(e),e){var a=n.getPair(e[t]);a?this.words.push(a):this.words.push(e[t])}this.makeWordBankInputs(e)}},FillInFactoid.prototype.fillInBlanks=function(){this.canFillInBlanks(!1);var e=rangeArray(0,this.blanks.length-1);for(var t in shuffle(e),e=e.slice(s(e.length/2)),e)this.blanks[e[t]].val(this.answers[e[t]])},FillInFactoid.prototype.showAnswers=function(){for(var e in this.canShowSubmitBtns(!1),this.blanks)this.blanks[e].replaceWith("<u>"+this.answers[e]+"</u>");this.parent.mode("graded")},a.exports=FillInFactoid}),define("models.ques.quiz.Flashcard",function(e,t,a){function Flashcard(e,t){s.call(this,e,t),this.mouseover=ko.observable(),this.confidenceSelVisible=ko.observable(-1==window.location.pathname.search("dashboard")),this.sentConfidence=ko.observable(!1),this.flipped=ko.observable(!1),this.accuracy=ko.observable(null),this.repeatTimeIfCorrect=ko.observable(),this.repeatTimeIfIncorrect=ko.observable(),this.customRepeatVisible=ko.observable(),this.hasRepeatTimes=ko.observable(!0),this.hasBack=ko.observable(),this.isCloze=ko.observable(),this.responses=ko.observableArray(),this.displayWikiLinkMsg=ko.observable(c),c=!1,this.reviewApp=this.parent.reviewApp,this.totalFlashcards=this.parent.reviewApp.quizList.length,this.currentFlashcards=this.parent.reviewApp.current+1,e(this),this.submitBtns=fs.mix(this,"models/ques/SubmitBtns"),this.submitBtns.descr("<div class=\"confidence-flip\">Rate your confidence to flip</div>"),this.shortcutCorrect=this.beforeSubmit(1,{autoAdvance:!0}),this.shortcutIncorrect=this.beforeSubmit(0,{autoAdvance:!0}),this.subscribe(),$(".accuracy-shortcut",this.dom).attr("title","When these icons are visible, you can use the keyboard to select your accuracy.").tooltip({placement:"bottom"})}function isEmpty(e){return!e||("string"==typeof e?!e:!e.s)}function dateStr(e){var t=new Date/1e3,a=Math.round((t-e)/86400);return 0==a?"today":1==a?"yesterday":a+" days ago"}function HistoryObject(e){var t=d.accConf[e.ac];this.color=t.color,this.text=t.help.replace("%d","")+" "+dateStr(e.ts)}var s=t("models/ques/quiz/Ques"),o=t("models/ques/flashcardTools"),d=t("ui/scoreboardLegend"),n=t("ui/repeatConfig"),l=t("app/tour"),c=!0;fs.extend(Flashcard,s),Flashcard.prototype.render=function(){if(this.data())var e=this.data();else return;this.hasBack(!isEmpty(e.e)&&"r"!=e.z);var t=o.renderFlashcard(e,$(".cardFront",this.dom));t&&this.isCloze(!0)},Flashcard.prototype.renderGraded=function(){},Flashcard.prototype.grade=function(){return{isCorrect:this.accuracy()}},Flashcard.prototype.getRepeatTime=function(e,t){var a=n[e],s=a[n.map[t]]();if("osmosis"==s){if(this.intervals){var o=this.intervals[3*("correct"==e?0:1)+(3-t)];return 365>o?"Repeat in "+o+"d":"Done! (Don't repeat)"}return"correct"==e?"Repeat in a few days":"Repeat in 1d"}return"Repeat in "+s},Flashcard.prototype.submit=function(e){var t=this;return function(){t.confidence=e,t.overrideInterval||(t.repeatTimeIfCorrect(t.getRepeatTime("correct",e)),t.repeatTimeIfIncorrect(t.getRepeatTime("incorrect",e))),t.sentConfidence(!0),t.flipped(!0),$(".cloze",t.dom).each(function(e,t){$(".hidden",t).removeClass("hidden"),$(".the-cloze",t).addClass("pulse"),$(".cloze-blank",t).addClass("hidden")}),t.parent.grading(!0),t.earlyEtta=t.parent.stamptime(),t.parent.wikify(),fs.post("getResponseHistory",{nodeID:t.parent.ques.nodeID},function(e){var a=e.history;for(var s in a)t.responses.push(new HistoryObject(a[s]))})}},Flashcard.prototype.selfGrade=function(e,t){t=t||{};var a=this;return function(){a.accuracy(1==e),a.parent.gradeAndAdvance(a.confidence,a.overrideInterval),$(".tooltip").remove(),l.next("newUI:6")}},Flashcard.prototype.numPress=function(e){if(this.flipped()&&null==this.accuracy()){if(1==e)return this.shortcutCorrect(),!0;if(4==e)return this.shortcutIncorrect(),!0;$.jGrowl("Use 1 for correct and 4 for incorrect.",{life:1e3,position:"bottom-left"})}else this.submitBtns.numPress(e)},Flashcard.prototype.spacebar=function(){return null!=this.accuracy()},Flashcard.prototype.mouseover=function(){this.confidenceSelVisible(!0)},Flashcard.prototype.mouseout=function(){},Flashcard.prototype.clickCard=function(){this.confidenceSelVisible(!0)},Flashcard.prototype.setRepeatIntervals=function(){var e=this;dialog("ui/dialogs/RepetitionInterval",function(t,a){a?e.flagged?e.hasRepeatTimes(!0):n.flaggedOnly()&&e.hasRepeatTimes(!1):n.set(window.repetitionOverride)},{parent:this,confidence:this.confidence})},Flashcard.prototype.setRepeatOverride=function(e){var t=this;return function(){t.overrideInterval=e,t.customRepeatVisible(!1),t.hasRepeatTimes(!0),"off"==e?(t.repeatTimeIfCorrect("Don't repeat"),t.repeatTimeIfIncorrect("Don't repeat")):(t.repeatTimeIfCorrect("Repeat in "+e),t.repeatTimeIfIncorrect("Repeat in "+e))}},Flashcard.prototype.beforeSubmit=function(e,t){var a=this;return function(){a.checkSnackbar(),a.selfGrade(e,t)()}},Flashcard.prototype.checkSnackbar=function(){var e=(this.currentFlashcards+1)/this.totalFlashcards;if(.5<=e&&this.totalFlashcards>=10&&!this.reviewApp.hasSeenJoySnackbar){var t=1<Math.floor(8*Math.random())?"quote":"",a=this.totalFlashcards-this.currentFlashcards-1;fs.mixAppend($("body"),"ui/JoySnackbar",{theme:"pink",messageText:"Great work so far, <b>".concat(a," more flashcards</b> to go, you got this!"),delay:1e3,type:t,tracking:{source:"flashcard",reason:"halfway-complete"}}),this.reviewApp.hasSeenJoySnackbar=!0}},a.exports=Flashcard}),define("models.ques.quiz.FlashcardSideview",function(e,t,a){function FlashcardSideview(e,t){this.mainView=t.mainView,this.data=t.mainView.data,e(this),this.render()}var s=t("models/ques/flashcardTools");FlashcardSideview.prototype.render=function(){if(this.data())var e=this.data();else return;s.renderFlashcard(e,null,$(".cardBack",this.dom))},a.exports=FlashcardSideview}),define("models.ques.quiz.LabelMatching",function(e,t,a){function LabelMatching(e,t){s.call(this,e,t);this;this.defaultAnswerOrder=0,this.matches={},this.canSubmit=ko.observable(!1),this.activeFixedLabel=ko.observable(!1),e(this),this.subscribe()}var s=t("models/ques/quiz/Ques"),o=t("models/content");fs.extend(LabelMatching,s),LabelMatching.prototype.render=function(){if(this.data())var e=this.data();else return;this.labelStyle=e.lt,this.stem=o($(".quesStem",this.dom),e.q),this.onRender&&this.onRender()},LabelMatching.prototype.renderGraded=function(){this.render()},LabelMatching.prototype.grade=function(){var e=this.data(),t=!0,a=[],s=e.a;for(var o in s){if(this.matches[o]){var d=s[o].v==this.matches[o].originalChoice.model.v;a.push({incorrectChoiceFeedback:d?"":"You selected",incorrectChoiceContent:d?null:this.matches[o].originalChoice.model.v,isCorrect:d})}else a.push({incorrectChoiceFeedback:"<b>You did not make a selection for this item.</b>",incorrectChoiceContent:null,isCorrect:!1});t=t&&a[a.length-1].isCorrect}return{isCorrect:t,answers:a}},LabelMatching.prototype.appendAns=function(e,t,a,s,o,d){var t=fs.mixAppend(e,"models/ques/quiz/AnswerChoice",{parent:this,quesID:this.parent.ques.nodeID,model:t,choice:t.v,feedbackContent:d,mode:this.parent.mode(),idx:a,label:s?this.getListLabel(+a+1):"",query:this.queryType||"radio",exp:t.e},{templateName:"models/ques/quiz/AnswerChoice_quiz"});return o||this.choices.push(t),t},LabelMatching.prototype.match=function(e,t){var a=this;return function(){t.visible(!1),setTimeout(function(){e.visible(!1);var t=a.labels(),s=!1;for(var o in t)s=s||t[o].visible();for(var o in a.choices)if(a.choices[o].visible()){a.choices[o].select(),a.pinQuestionBar($(a.dom).closest(".scrollable"));break}a.matches.length==a.choices.length&&$(".AnsChoice").removeClass("selectedAns")},0);var s=$(".matchContainer[idx=\""+e.idx+"\"]"),o=a.appendAns(s,t.model,e.idx,!0,!0);o.ansType("matched"),o.originalChoice=t,o.matchLabel=e,a.matches[e.idx]=o}},LabelMatching.prototype.pinQuestionBar=function(e){var t=this,a=$(".AnsChoice.active",$(t.dom));if(a.height()<=200)if(0<a.length&&!a.hasClass("fixed")){var s=a.offset().left,d=a.outerWidth(),n=a.offset().top,l=$(e).outerHeight(),c=$(e).offset().top,o=a.outerHeight()+n;if(o>=l+c){var p=$(e).scrollTop();if(t.activeFixedLabel()){var u=$(".nav-frame:not(.init)"),m=$(".nav-subframe:not(.init)"),v=$("header#masthead").is(":visible")?$("header#masthead").outerHeight():0;v=$("header#masthead").hasClass("force-full")&&992>$(window).width()||992<=$(window).width()?v:5;var b=$(".subnav",m).is(":visible")?$(".subnav",m).outerHeight(!0):0;p=o-l-(v+b)}a.css({left:s-10+"px",width:d+"px"}).attr("data-top-offset",p),a.addClass("fixed"),t.activeFixedLabel(!0)}}else 0<a.length&&a.hasClass("fixed")&&$(e).scrollTop()>=a.attr("data-top-offset")&&(a.removeClass("fixed").css({left:"",width:""}).attr("data-top-offset",""),t.activeFixedLabel(!1))},LabelMatching.prototype.loadLabelPinning=function(){var e=this;$($(e.dom).closest(".scrollable")).scroll(function(){e.pinQuestionBar(this)})},a.exports=LabelMatching}),define("models.ques.quiz.LabelMatchingSideview",function(e,t,a){function LabelMatchingSideview(e,t){var a=this;this.mainView=t.mainView,this.data=t.mainView.data,this.mode=t.mainView.mode,this.defaultAnswerOrder=0,this.matches={},this.canSubmit=ko.observable(!1),this.activeFixedLabel=ko.observable(!1),e(this),this.submitOverlay=fs.mix(this,"models/ques/SubmitBtns",{parent:this.mainView}),this.mainView.onRender=function(){a.render()},a.render()}var s=t("models/content");LabelMatchingSideview.prototype.render=function(){if(this.data())var e=this.data();else return;this.labelStyle=e.lt,this.stem=s($(".quesStem",this.dom),e.q),"quiz"==this.mode()?this.renderForQuiz(e):this.renderExplanation(e)},LabelMatchingSideview.prototype.renderGraded=function(){this.render()},LabelMatchingSideview.prototype.renderForQuiz=function(e){for(var t in this.mainView.labels.removeAll(),e.a)this.mainView.labels.push({visible:ko.observable(!0),idx:t,label:this.mainView.getListLabel(+t+1)});var a=$(".quesAnswers",this.dom);for(var t in fs.empty(a),this.mainView.ansOrder){var s=this.mainView.appendAns(a,e.a[this.mainView.ansOrder[t]],this.mainView.ansOrder[t],!1);s.ansType("labelMatching")}var o=$(".quesMatches",this.dom).empty();for(var t in e.a)o.append("<div class=\"matchContainer\" idx=\""+t+"\">")},LabelMatchingSideview.prototype.renderExplanation=function(e){var t=this.parent.graded,a=$(".quesAnswers",this.dom);for(var o in fs.empty(a),t.answers){var d=this.mainView.appendAns(a,e.a[o],o,!0,null,t.answers[o].incorrectChoiceContent);d.ansType("labelMatching"),d.feedback(t.answers[o].incorrectChoiceFeedback),t.answers[o].isCorrect?d.status("correctAns"+this.mainView.confStr(t.confidence)):d.status("incorrectAns"+this.mainView.confStr(t.confidence))}this.mainView.hasExp()&&(this.exp=s($(".quesExp",this.dom),e.e))},a.exports=LabelMatchingSideview}),define("models.ques.quiz.MultipleChoice",function(e,t,a){function MultipleChoice(e,t){s.call(this,e,t),this.reviewApp=this.parent.reviewApp,this.totalQuestions=this.parent.reviewApp.quizList.length,this.currentQuestion=this.parent.reviewApp.current+1,e(this),this.eliminationTool=fs.mix(this,"models/ques/quiz/EliminationTool"),this.subscribe()}var s=t("models/ques/quiz/Ques"),o=t("models/content"),d=t("ui/quizHighlightControl");fs.extend(MultipleChoice,s),MultipleChoice.prototype.render=function(){if(this.data())var e=this.data();else return;this.stem=o($(".quesStem",this.dom),e.q);var t=$(".quesAnswers",this.dom);for(var a in fs.empty(t),this.ansOrder)var s=this.ansOrder[a],d=this.appendAns(t,e.a[s]);this.toggleHighlight()},MultipleChoice.prototype.renderGraded=function(){for(var o=0;o<this.ansOrder.length;o+=1){var e=this.ansOrder[o],t=this.ansOrder[e],a=this.choices[e],s=this.parent.graded;this.ansMetrics&&a.percent(this.ansMetrics[t]),"c"in a.model?(a.status("correctAns".concat(this.confStr(s.confidence))),$(".wikify",a.dom).attr("wiki-bin","correct")):s.isCorrect||t!==s.selectedIdx?a.status("unselectableAns"):(a.status("incorrectAns".concat(this.confStr(s.confidence))),$(".wikify",a.dom).attr("wiki-bin","incorrect"))}this.difficultyBar||(this.difficultyBar=fs.mix(this,"models/ques/DifficultyBar",{difficulties:this.difficulties}))},MultipleChoice.prototype.grade=function(){var e=this.selected(),t=this.ansOrder[e.idx],a=!!e&&"c"in this.data().a[t];return{isCorrect:a,selectedIdx:e?t:null,ansOrder:this.ansOrder}},MultipleChoice.prototype.answerInfo=function(){var e=this.selected();return e?{quesNodeID:this.nodeID,answerIndex:e.idx}:{quesNodeID:this.nodeID,answerIndex:""}},MultipleChoice.prototype.appendAns=function(e,t){var a=this,s=fs.mixAppend(e,"models/ques/quiz/AnswerChoice",{parent:this,model:t,quesID:this.parent.ques.nodeID,choice:t.v,mode:this.parent.mode(),correct:"c"in t,idx:this.choices.length,label:this.getListLabel(this.choices.length+1),query:this.queryType||"radio",exp:t.e,changeHideEliminatedText:function changeHideEliminatedText(){return a.eliminationTool.changeHideEliminatedText()},eliminatedAnswersAreVisible:this.eliminationTool.eliminatedAnswersAreVisible},{templateName:"models/ques/quiz/AnswerChoice_quiz"});return this.choices.push(s),s},MultipleChoice.prototype.toggleHighlight=function(){var e=$(".quesStem",this.dom);!0==d.isActive()?e.marker({minimum:3,maximum:3e3,overlap:!1,colorPicker:!1,style:{background:"#faecbd"},activeRemove:!0,caseSensitive:!0,add:void 0,remove:void 0,colorChange:void 0,mouseenter:void 0,mouseleave:void 0,debug:void 0}):(e.marker("clear"),e.marker("destroy"),e.off()),MultipleChoice.prototype.beforeSubmit=function(e,t,a){var s=e.selected(),o=e.ansOrder[s.idx],d=!!s&&"c"in e.data().a[o];d?t.animationClass("correct"):t.animationClass("incorrect"),e.checkSnackbar(),setTimeout(function(){e.submit(a)()},1e3)}},MultipleChoice.prototype.checkSnackbar=function(){var e=(this.currentQuestion+1)/this.totalQuestions;if(.5<=e&&this.totalQuestions>=10&&!this.reviewApp.hasSeenJoySnackbar){var t=1<Math.floor(8*Math.random())?"quote":"",a=this.totalQuestions-this.currentQuestion-1;fs.mixAppend($("body"),"ui/JoySnackbar",{theme:"pink",messageText:"Great work so far, <b>".concat(a," more questions</b> to go, you got this!"),delay:1e3,type:t,tracking:{source:"multiple-choice",reason:"halfway-complete"}}),this.reviewApp.hasSeenJoySnackbar=!0}},a.exports=MultipleChoice}),define("models.ques.quiz.MultipleChoiceSideview",function(e,t,a){function MultipleChoiceSideview(e,t){this.mainView=t.mainView,this.data=t.mainView.data,this.hasObjective=ko.observable(!1),this.hasKeyPoints=ko.observable(!1),e(this),this.render()}var s=t("models/ques/quiz/Ques"),o=t("models/content");MultipleChoiceSideview.prototype.render=function(){if(this.data())var e=this.data();else return;if(this.mainView.hasExp()){var t=e.e;"kp"in e&&(this.hasKeyPoints(!0),o($(".quesKeyPoints",this.dom),e.kp)),"ob"in e&&(this.hasObjective(!0),o($(".quesObjective",this.dom),e.ob)),this.exp=o($(".quesExp",this.dom),t)}},a.exports=MultipleChoiceSideview}),define("models.ques.quiz.Ques",function(e,t,a){var s=String.fromCharCode;function Ques(e,t){var a=this;this.parent=t.parent,this.data=t.parent.ques.data,this.mode=t.parent.mode,this.choices=[],this.difficulties=ko.observableArray(),this.labelStyle="A",this.selected=ko.observable(),this.labels=ko.observableArray(),this.defaultAnswerOrder=4,this.ansOrder=null,this.hasExp=ko.computed(function(){return a.data()&&!!a.data().e})}Ques.prototype.subscribe=function(){var e=this;this.__subscriptions=[],this.__subscriptions.push(this.data.subscribe(function(){e.data().a&&e.shuffleAns(),e.choices.length=0,e.render()})),this.__subscriptions.push(this.parent.mode.subscribe(function(){"graded"==e.parent.mode()?e.renderGraded():(e.choices.length=0,e.render())})),this.data(this.data())},Ques.prototype.dispose=function(){for(var e in this.__subscriptions)this.__subscriptions[e].dispose()},Ques.prototype.hasSelectedAns=function(){return null!=this.selected()},Ques.prototype.getListLabel=function(e){if("0"==this.labelStyle)var t=e;else if("A"==this.labelStyle||"1"==this.labelStyle)var t=s(64+ +e);else if("a"==this.labelStyle||"2"==this.labelStyle)var t=s(96+ +e);return t},Ques.prototype.shuffleAns=function(){var e=this.parent.ques.data(),t="ao"in e?e.ao:this.defaultAnswerOrder;if(0==t){var a=rangeArray(0,e.a.length-1);shuffle(a)}else if(3>=t){var s=e.a.length,a=rangeArray(0,s-t-1);shuffle(a);for(var o=t;1<=o;o--)a.push(s-o)}else var a=rangeArray(0,e.a.length-1);this.ansOrder=a},Ques.prototype.submit=function(e){var t=this;return function(){t.parent.grade(e),eventTracker.track("quiz_question_answered",{},["intercom"],21600)}};var o={3:"Sure",2:"Lucky",1:"NoClue"};Ques.prototype.confStr=function(e){return o[e]},a.exports=Ques}),define("models.ques.quiz.TableFlashcard",function(e,t,a){a.exports=function TableFlashcard(){}}),define("models.ques.quiz.TrueFalse",function(e,t,a){function TrueFalse(e,t){s.call(this,e,t),e(this),this.subscribe()}var s=t("models/ques/quiz/Ques"),o=t("models/content");fs.extend(TrueFalse,s),TrueFalse.prototype.render=function(){if(this.data())var e=this.data();else return;this.stem=o($(".quesStem",this.dom),e.q);var t=$(".quesAnswers",this.dom);fs.empty(t),this.trueChoice=this.appendAns(t,"True","t"),this.falseChoice=this.appendAns(t,"False","f"),this.exp=o($(".quesExp",this.dom),e.e)},TrueFalse.prototype.renderGraded=function(){var e=this.parent.graded,t="t"==this.data().a?"trueChoice":"falseChoice",a="t"==this.data().a?"falseChoice":"trueChoice";this[t].status("correctAns"+this.confStr(e.confidence)),this[a].status("unselectableAns"),e.isCorrect||this[a].status("incorrectAns"+this.confStr(e.confidence))},TrueFalse.prototype.grade=function(){var e=this.selected(),t=this.data().a,a=e&&e==this.trueChoice&&"t"==t||e==this.falseChoice&&"f"==t;return{isCorrect:a,selectedIdx:e?e.idx:null}},TrueFalse.prototype.appendAns=function(e,t,a){var s=fs.mixAppend(e,"models/ques/quiz/AnswerChoice",{parent:this,quesID:this.parent.ques.nodeID,choice:t,mode:this.parent.mode(),correct:!1,idx:a,label:"",query:this.queryType||"radio",exp:null},{templateName:"models/ques/quiz/AnswerChoice_quiz"});return s},a.exports=TrueFalse}),define("models.ques.ref.Block",function(e,t,a){function Block(e,t){if(this.editing=t.parent.editing,e(this),this.refs=fs.mixList(this,".quesReferences"),this.refs.viewModel="models/ques/ref/Container",t.refs)for(var a in t.refs)this.refs.push("models/ques/ref/Container",{mode:this.parent.parent.__mode,model:t.refs[a]})}var s=t("app/module");Block.prototype.save=function(e){var t=[],a=this.refs.items;for(var o in a)t.push(a[o].reference);if(t.length){for(var o in e.r=[],t)e.r.push(t[o].save());s.indexNodeRefs(t)}},Block.prototype.addReference=function(){var e=!1;for(var t in this.refs.items)if(this.refs.items[t].editing()){e=!0;break}if(!e){var a=this.refs.push("models/ques/ref/Container",{mode:this.parent.parent.__mode,model:{}});a.edit()}else fs.alert("Save the reference you are currently editing in order to add a new one.")},a.exports=Block}),define("models.ques.ref.BookRef",function(e,t,a){function BookRef(e,t){s.call(this,e,t),this.helpStr("or use the following form to create a new book")}var s=t("models/ques/ref/StandardRef");fs.extend(BookRef,s),BookRef.prototype.format=function(e){var t=[];return e.a()&&t.push(e.a()),e.y()&&t.push(" ("+e.y()+"). "),e.bt()&&t.push("<i>"+e.bt()+"</i>"),e.ct()&&e.pb()?t.push(e.ct()+": "+e.pb()):e.ct()?t.push(e.ct()):e.pb()&&t.push(e.pb()),t.join(" ")},BookRef.prototype.getFields=function(){return[{bt:"Book Title"},{a:"Author","?":"Format as: M.S. Smith, H. Jones Jr."},{pb:"Publisher"},{ct:"City"},{y:"Year"},{ed:"Editor"},{v:"Volume"},{e:"Edition"},{nv:"Number of Volumes"},{np:"Number of Pages"},{isbn:"ISBN"}]},a.exports=BookRef}),define("models.ques.ref.BookSectionRef",function(e,t,a){function BookSectionRef(e,t){s.call(this,e,t),this.helpStr("or use the following form to cite a part of a book")}var s=t("models/ques/ref/StandardRef");fs.extend(BookSectionRef,s),BookSectionRef.prototype.format=function(e){var t=[];return e.a()&&t.push(e.a()),e.y()&&t.push(" ("+e.y()+"). "),e.t()&&t.push(e.t()+"."),e.bt()&&t.push("<i>"+e.bt()+"</i>"),e.ct()&&e.pb()?t.push(e.ct()+": "+e.pb()):e.ct()?t.push(e.ct()):e.pb()&&t.push(e.pb()),t.join(" ")},BookSectionRef.prototype.getFields=function(){return[{t:"Section Title"},{bt:"Book Title"},{a:"Author","?":"Format as: M.S. Smith, H. Jones Jr."},{pb:"Publisher"},{ct:"City"},{y:"Year"},{ed:"Editor"},{c:"Chapter"},{v:"Volume"},{e:"Edition"},{nv:"Number of Volumes"},{np:"Number of Pages"},{isbn:"ISBN"}]},a.exports=BookSectionRef}),define("models.ques.ref.Container",function(e,t,a){function Container(e,t){this.refType=ko.observable(t.model._||"jrn"),this.args=t,t.refType=this.refType,this.editing=ko.observable(!1),this.parent=t.parent,this.model=t.model,t.editing=this.editing,this.readonly=ko.observable(!1),e(this);var a={jrn:"Journal Article",wba:"Web Article",bk:"Book",bkS:"Book Section"};for(var d in window.bookRefs){var n=d;a[n]=window.bookRefs[d].s,o[n]="NodeRef"}isNaN(t.model._)||window.bookRefs[t.model._]||this.readonly(!0),this.type=s(this,"refTypeSelect",{options:a,caption:"Reference type",onChange:"onChangeType"}),this.model._?this.type.value(this.model._):this.refType(this.type.value()),t.type=this.type,this.reference=fs.mix(this,"models/ques/ref/"+o[this.refType()],t,{matchName:"reference"})}var s=t("ui/select"),o={jrn:"JournalRef",bk:"BookRef",bkS:"BookSectionRef",wba:"WebRef"};Container.prototype.onChangeType=function(){var e=this.type.value();this.refType(e),this.reference&&(fs.empty(this.reference.dom),this.reference=fs.mix(this,"models/ques/ref/"+o[this.refType()],this.args,{matchName:"reference"}))},Container.prototype.edit=function(){this.reference.edit()},Container.prototype.cancel=function(){this.reference.cancel()},Container.prototype.preview=function(){this.reference.preview()},Container.prototype.save=function(){return this.reference.save()},Container.prototype.remove=function(){this.parent.remove(this)},a.exports=Container}),define("models.ques.ref.JournalRef",function(e,t,a){function JournalRef(e,t){s.call(this,e,t),this.helpStr("Enter the DOI to automatically pull a journal ref or fill in manually")}var s=t("models/ques/ref/StandardRef");fs.extend(JournalRef,s),JournalRef.prototype.format=function(e){var t=[];return e.a()&&t.push(e.a()),e.y()&&t.push(" ("+e.y()+"). "),e.t()&&t.push(e.t()+"."),e.j()&&t.push("<i>"+e.j()+"</i>"),t.push(this.volume(e.v(),e.i())),t.push(this.pages(e.sp(),e.ep())),t.join(" ")},JournalRef.prototype.getFields=function(){return[{doi:"DOI","?":"Find this on pubmed or the origin journal",_:"searchDOI"},{a:"Author","?":"Format as: M.S. Smith, H. Jones Jr."},{y:"Year"},{t:"Title"},{j:"Journal"},{v:"Volume"},{i:"Issue"},{pd:"Date Published"},{sp:"Start Page"},{ep:"End Page"},{pmid:"PubmedID"}]},a.exports=JournalRef}),define("models.ques.ref.NodeRef",function(e,t,a){function NodeRef(e,t){this;for(var a in this.idx=t.refType(),this.editing=t.editing,this.title=ko.observable(window.bookRefs[this.idx].s),this.topics=ko.observableArray(),e(this),this.book=window.bookRefs[this.idx].c,this.options={},createOptions(this.options,"",this.book),this.model=t.model,t.model)isNaN(a)||this.topics.push(t.model[a])}function createOptions(e,t,a){for(var s in a)e[a[s].n]=(t?t+"/":"")+a[s].s,createOptions(e,(t?t+"/":"")+a[s].s,a[s].c)}var s=t("ui/select");NodeRef.prototype.onChange=function(){},NodeRef.prototype.edit=function(){this.editing(!0),this.refSelect=s(this,"refSelect",{options:this.options,caption:"Select Topic(s)",onChange:"onChange"});var e=[];for(var t in this.model)isNaN(t)||e.push(t);this.refSelect.value(e)},NodeRef.prototype.cancel=function(){this.editing(!1)},NodeRef.prototype.preview=function(){if(this.refSelect){var e=this.refSelect.value();for(var t in this.topics.removeAll(),e)this.topics.push(this.options[e[t]]);return this.editing(!1),e}var e=[];for(var t in this.model)isNaN(t)||e.push(t);return e},NodeRef.prototype.save=function(){var e=this.idx,t=this.preview(),a={_:e,t:window.bookRefs[e].s};for(var s in t)a[t[s]]=this.options[t[s]];return a},a.exports=NodeRef}),define("models.ques.ref.StandardRef",function(e,t,a){function StandardRef(e,t){var a=this;t.dom.append(d),this.helpStr=ko.observable(),this.editing=t.editing,this.parentMode=t.mode,this.model={},this.type=t.type,this.bookRefs=o.bookRefs,this.refType=t.refType,this.fields=ko.observableArray();var n=this.getFields();for(var l in this.createObservables(this.model,n),this.model._=this.refType,ko.editable(this.model),this.showDOIExp=ko.observable(!1),t.model)this.model[l]&&this.model[l](t.model[l]);for(var l in this.formattedRef=ko.computed(function(){return a.format(a.model)}),e(this),this.bookSel=s(this,"bookSelect",{optionsArray:o.bookRefs,caption:"Use existing",onChange:"onChangeBook"}),n)this.fields.push(this.createField(n[l]))}function formatInitials(e){if(e){var t="",a=e.split(" ");for(var s in a)t+=a[s][0].toUpperCase()+".";return t}return""}function formatAuthors(e){var t=[];for(var a in e){var s=formatInitials(e[a].given);s?t.push(s+" "+e[a].family):t.push(e[a].family)}return 2==t.length?t[0]+" and "+t[1]:t.join(", ")}function formatYear(e){var t=e["date-parts"][0];return t[0]}function formatDate(e){var t=e["date-parts"][0];return n[t[1]]+" "+t[0]}var s=t("ui/select"),o=t("app/module"),d=template("models/ques/ref/standard");StandardRef.prototype.volume=function(e,t){return e&&t?e+" ("+t+"), ":e?e+", ":t?+"("+t+"), ":""},StandardRef.prototype.pages=function(e,t){return e?e==t?"p. "+e:"pp. "+e+"-"+t:""},StandardRef.prototype.createTrigger=function(e,t){var a=this;return function(){a[t](e)}},StandardRef.prototype.createField=function(e){var t={help:ko.observable(""),searchMode:ko.observable(null),onSearch:function onSearch(){}};for(var a in e)"?"==a?t.help(e[a]):"_"==a?(t.searchMode=ko.observable("idle"),t.onSearch=this.createTrigger(t,e[a])):(t.title=e[a],t.name=a,t.value=this.model[a]);return t},StandardRef.prototype.createObservables=function(e,t){this;for(var a in t){var s=this.createField(t[a]);e[s.name]||(e[s.name]=ko.observable())}};var n={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sept",10:"Oct",11:"Nov",12:"Dec"};StandardRef.prototype.searchDOI=function(e){var t=this;this.model.doi()?(e.searchMode("busy"),fs.post("getRef",{doi:"_"+this.model.doi()},function(a){if(t.model.t(a.title),t.model.j(a["container-title"]),t.model.a(formatAuthors(a.author)),t.model.y(formatYear(a.issued)),t.model.v(a.volume?a.volume:""),t.model.i(a.issue?a.issue:""),a.page){var s=a.page.split("-");t.model.sp(1==s.length?s[0]:s[0]),t.model.ep(1==s.length?s[0]:s[1])}t.model.pd(formatDate(a.issued)),console.log(a),e.searchMode("idle")},function(){e.searchMode("idle"),alert("Invalid DOI.")})):alert("DOI cannot be empty!")},StandardRef.prototype.explainDOI=function(e){return function(){e.showDOIExp(!0)}},StandardRef.prototype.onChangeBook=function(){console.log("here");var e=this.bookSel.value();if(e){var t=o.bookIndex[e];for(var a in t)this.model[a](t[a])}},StandardRef.prototype.edit=function(){this.editing(!0),this.model.beginEdit()},StandardRef.prototype.cancel=function(){this.editing(!1),this.model.rollback()},StandardRef.prototype.preview=function(){this.editing(!1),this.model.commit()},StandardRef.prototype.save=function(){var e=this.type.value(),t=this.fields(),a={_:e};for(var s in t)a[t[s].name]=t[s].value();return a},a.exports=StandardRef}),define("models.ques.ref.WebRef",function(e,t,a){function WebRef(e,t){if(s.call(this,e,t),this.helpStr("Use this for online reference materials and news articles"),"wba"==this.type){var a=new Date;this.model.ad(month[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear())}}var s=t("models/ques/ref/StandardRef");fs.extend(WebRef,s),WebRef.prototype.format=function(e){var t=[];return e.a()&&t.push(e.a()),e.pd()&&t.push(" ("+e.pd()+"). "),e.t()&&t.push(e.t()+"."),e.n()&&t.push("<i>"+e.n()+"</i>"),t.push(this.volume(e.v(),e.i())),e.url()&&t.push("Retrieved from <a href=\""+e.url()+"\" target=\"_blank\">"+e.url()+"</a>"),t.join(" ")},WebRef.prototype.getFields=function(){return[{a:"Author","?":"Format as: M.S. Smith, H. Jones Jr."},{t:"Title"},{url:"URL"},{n:"Website Name"},{pd:"Date Published"},{ad:"Date Accessed"},{v:"Volume"},{i:"Issue"},{doi:"DOI"}]},a.exports=WebRef}),define("models.ques.types",function(e){e.viewModels=["MultipleChoice","TrueFalse","MultipleCheckbox","LabelMatching","Flashcard","TableFlashcard","FillInFactoid"],e.names=["Multiple Choice","True/False","Multiple Checkbox","Label Matching","Flashcard","Table Flashcard","Fill-in Factoid"]}),define("models.ques.view.AnswerChoice",function(e,t,a){function AnswerChoice(e,t){this;this.name=ko.observable(t.quesID),this.value=ko.observable(t.label),this.mode=ko.observable(t.mode),this.query=ko.observable(t.query),this.selected=t.selected,this.isCorrect=ko.computed(t.isCorrectCheck(this)),this.expMode=ko.observable(t.expMode||"allowed"),this.expWordCount=ko.observable(0),e(this),this.choice=s($(".answerChoice",this.dom),t.choice,"edit"==t.mode),t.exp?(this.exp=s($(".answerExplanation",this.dom),t.exp,"edit"==t.mode),this.expMode("show")):this.exp=s($(".answerExplanation",this.dom),"","edit"==t.mode),this.exp&&window.useStrictEdits&&o.monitor(this.exp,this.expWordCount)}var s=t("models/content"),o=t("models/ques/wc");AnswerChoice.prototype.createExp=function(){this.expMode("show")},a.exports=AnswerChoice}),define("models.ques.view.FillInFactoid",function(e,t,a){function FillInFactoid(e,t){this.parent=t.parent,e(this),this.render(),this.subscribe()}var s=t("models/content"),o=t("models/ques/view/Ques");fs.extend(FillInFactoid,o),FillInFactoid.prototype.render=function(){var e=this.parent.ques.data();if(this.parent.canPublish(!1),!e)if(!this.parent.ques.nodeID)e={q:""};else return;this.content=s($(".froalaObject",this.dom),e.q,"edit"==this.parent.mode(),this.parent.ques.MID),this.advanced&&fs.empty(this.advanced.dom),this.advanced=fs.mix(this,"models/ques/AdvancedTools",{tools:["ref","topics"],data:e})},FillInFactoid.prototype.save=function(){var e={};return e.q=this.content.content(),this.advanced.save(e),e.q?{data:e}:{error:"The question is empty.",data:e}},a.exports=FillInFactoid}),define("models.ques.view.Flashcard",function(e,t,a){function Flashcard(e,t){this;this.parent=t.parent,this.clozeType=ko.observable(),this.clozeDescr=ko.observable(),this.hasBack=ko.observable(),this.hasContent=ko.observable(!1),this.minInfo=ko.observable(!1),this.usesCloze=ko.observable(!1),this.minInfoHelp=ko.observable(),this.usesClozeHelp=ko.observable(),e(this),this.render(),this.subscribe()}function substituteUnderlineCloze(e){return e=e.replace(/\{\{/g,"<u>"),e=e.replace(/\}\}/g,"</u>"),e}function extractText(e){return e?"string"==typeof e?e:e.s:""}function getAnkiCloze(e){var t=[];return e.replace(/\{\{([\w\W]+?)\}\}/g,function(e){var a=e.split("::");(2==a.length||3==a.length)&&t.push(a[1].slice(0,a[1].length-2))}),t}function isCloze(e,t){if(e&&0!=e&&"0"!=e){if("a"==e||"aa"==e){var a=getAnkiCloze(t);return 0<a.length}return("u"==e||"ua"==e)&&(t=substituteUnderlineCloze(t),-1!=t.search("<u>"))}return!1}var s=t("models/content"),o=t("models/ques/view/Ques"),d=t("ui/select"),n=t("models/ques/flashcardTools");fs.extend(Flashcard,o),Flashcard.prototype.render=function(){var t=this,a=this.parent.ques.data(),o;if(!a)if(!this.parent.ques.nodeID)a={q:"",e:""};else return;this.front=s($(".flashcardFront",this.dom),a.q,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.q),this.front&&($(".OsmosisBlockText",this.front.divSource).keyup(function(){t.checkQuality()}),$(this.front.divContent).on("froalaEditor.commands.after",function(){t.checkQuality()}),$(this.front.divContent).keydown(function(a){switch(a.keyCode){case 13:(a.ctrlKey||a.metaKey)&&t.quicksaveFlashcard();break;case 219:if(219==o){if("a"!=t.clozeType()&&"aa"!=t.clozeType())return;a.preventDefault(),a.stopPropagation();var e=$(t.front.divContent).froalaEditor("html.get"),s=e.match(/{{c\d*::/g),d=0;d=s?s.length+1:1,$(t.front.divContent).froalaEditor("html.insert","{c"+d+"::")}break;case 37:a.stopPropagation();case 39:a.stopPropagation();}o=a.keyCode}));var d=localStorage.getItem("defaultCloze")||"u";"aa"==a.z&&(a.z="a"),this.clozeType(a.z?a.z:d),this.back=s($(".flashcardBack",this.dom),a.e,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.e),this.hasBack(!!a.e||"edit"==this.parent.mode()),this.back&&($(".OsmosisBlockText",this.back.divSource).keydown(function(){t.checkQuality()}),$(this.back.divContent).on("froalaEditor.commands.after",function(){t.checkQuality()}),$(this.back.divContent).keydown(function(a){switch(a.keyCode){case 13:(a.ctrlKey||a.metaKey)&&t.quicksaveFlashcard();}})),this.parent.ques.nodeID&&this.checkQuality(a.q,a.e)},Flashcard.prototype.focus=function(){$(".flashcardFront .UIEditor-multiline",this.dom).focus().click()},Flashcard.prototype.save=function(){var e={q:this.front.content(!0)},t=this.clozeType();"0"!=t&&(e.z=t),e.e=this.back.content(!0);var a=n.processCloze(e);return a.error?a:e.q?{data:e}:{error:"The question is empty.",data:e}},Flashcard.prototype.checkQuality=function(e,t){var a=this.front?$(this.front.divContent).froalaEditor("html.get").length:null,s=this.back?$(this.back.divContent).froalaEditor("html.get").length:null;if((e||this.front||t||this.back)&&(this.front&&a||e||this.back&&s||t)){var o="string"!=typeof(this.front?e||this.front.content():e);e=extractText(this.front?e||this.front.content():e),t=extractText(this.back?t||this.back.content():t),this.hasContent(!0),this.minInfo(500>=e.length),this.minInfo()&&this.minInfo(2e3>=t.length),this.usesCloze(isCloze(this.clozeType(),e)||o)}},Flashcard.prototype.onChangeCloze=function(){switch(this.clozeType()){case"0":this.clozeDescr("Set cloze to \"None\" for traditional flashcards that have a front and back.");break;case"u":this.clozeDescr("Select \"Underline\" cloze and Osmosis will randomly replace one underlined word with a blank when the front is displayed. (Hint: {{Double braces}} are identical to underlining and are faster while typing.)");break;case"ua":this.clozeDescr("\"All blank\" is identical to \"Underline\" cloze but all underlined words will be replaced with blanks. (Hint: {{Double braces}} are identical to underlining and are faster while typing.)");break;case"a":case"aa":this.clozeDescr("\"Anki\" cloze is identical to \"underline\" cloze except that instead of using underlines, use Anki-style {{cN::term}} formatting. This is mostly for people familiar with Anki. Use underlines if you don't understand this.");}this.checkQuality(),localStorage.setItem("defaultCloze",this.clozeType())},Flashcard.prototype.quicksaveFlashcard=function(){var e=this,t=this.dom.closest(".ui-PDFRightTray"),a=this.save();a.error?fs.alert(a.error):this.parent.save(function(){$(".add-flashcard",t).click(),$.jGrowl("Flashcard saved.",{life:3e3,position:"bottom-left"})})},Flashcard.prototype.publishAnyway=function(){this.parent.editBtns.saveEditsAsPublic()},Flashcard.prototype.setCloze=function(e){var t=this;return function(){t.clozeType(e),t.onChangeCloze()}},Flashcard.prototype.isEmpty=function(){var e=this.save();return"The question is empty."==e.error},a.exports=Flashcard}),define("models.ques.view.LabelMatching",function(e,t,a){function LabelMatching(e,t){this.parent=t.parent,this.labelStyle="0",this.isCorrectCheck=function(){return function(){return!1}},e(this),this.labelStyleSel=d(this,"labelStyleSel",{options:{0:"1, 2, 3",A:"A, B, C",a:"a, b, c"},value:"0",onChange:"onChangeLabelStyle"}),this.render(),this.subscribe()}var s=t("models/ques/view/MultipleChoice"),o=t("models/content"),d=t("ui/select");fs.extend(LabelMatching,s),LabelMatching.prototype.render=function(){var e=this.parent.ques.data();if(!e)if(!this.parent.ques.nodeID)e={q:"",ao:0,a:[{v:""},{v:""},{v:""},{v:""}],e:""};else return;"lt"in e?this.labelStyleSel.value(e.lt):this.labelStyleSel.value("0"),this.stem=o($(".quesStem",this.dom),e.q,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.q);var t=$(".quesAnswers",this.dom).empty();for(var a in this.choices=[],this.labelStyle=this.labelStyleSel.value(),e.a)this.appendAns(t,e.a[a]);this.exp=o($(".quesExplanation",this.dom),e.e,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.e),this.advanced&&fs.empty(this.advanced.dom),this.advanced=fs.mix(this,"models/ques/AdvancedTools",{tools:["ref","topics"],data:e})},LabelMatching.prototype.onChangeLabelStyle=function(){for(var e in this.labelStyle=this.labelStyleSel.value(),this.choices)this.applyLabel($(".ansInput",this.choices[e].dom),+e+1)},LabelMatching.prototype.appendAns=function(e,t,a){var t=s.prototype.appendAns.call(this,e,t,a);return this.applyLabel($(".ansInput",t.dom),this.choices.length),t},LabelMatching.prototype.applyLabel=function(e,t){e.empty();var a=this.getListLabel(this.labelStyle,t);e.append(a+".&nbsp;")},LabelMatching.prototype.save=function(){var e={};for(var t in e.q=this.stem.content(),e.lt=this.labelStyleSel.value(),e.a=[],this.choices){var a=this.choices[t],s={};s.v=a.choice.content();var o=a.exp.content();if(o&&(s.e=o),s.v)e.a.push(s);else if(s.e)return"No answer choice specified, but an answer explanation was provided!"}return e.e=this.exp.content(),this.advanced.save(e),e.q?e.a.length?{data:e}:{error:"No answers have been provided.",data:e}:{error:"The question is empty.",data:e}},a.exports=LabelMatching}),define("models.ques.view.MultipleCheckbox",function(e,t,a){function MultipleCheckbox(e,t){var a=this;this.queryType="checkbox",this.selected=ko.observableArray(),this.isCorrectCheck=function(e){return function(){return-1!=a.selected().indexOf(e.value())}},s.call(this,e,t)}var s=t("models/ques/view/MultipleChoice");fs.extend(MultipleCheckbox,s),a.exports=MultipleCheckbox}),define("models.ques.view.MultipleChoice",function(e,t,a){var s=String.fromCharCode;function MultipleChoice(e,t){var a=this;if(this.labelStyle="A",this.selected||(this.selected=ko.observable()),this.showFeaturedAns=ko.observable(!1),this.distractors=ko.observableArray(),this.parent=t.parent,this.isCorrectCheck||(this.isCorrectCheck=function(e){return function(){return a.selected()==e.value()}}),t.changeType){var s=t.changeType;s&&((!s.a||"string"==typeof s.a)&&(s.a=[{v:""},{v:""},{v:""},{v:""}]),this.parent.ques.data(s))}this.stemWordCount=ko.observable(0),this.expWordCount=ko.observable(0),e(this),this.answerOrder=n(this,"answerOrderSel",{options:{0:"Randomized",1:"Randomized Except for Last Choice",2:"Randomized Except for Last 2 Choices",3:"Randomized Except for Last 3 Choices",4:"As Listed"},value:0}),this.render(),this.subscribe()}function extractText(e){return e?"string"==typeof e?e:e.s:""}function promptForAction(e,t){var a=confirm(t);return a?{data:e}:{error:"The question was not saved.",data:e}}function checkImages(e){var t=!0;return forAll(e,function(e){var a=getAttachments(e);for(var s in a){var o=nodeIndex[a[s]];4!=o.subtype()||c.get(o.data().s)||(t=!1)}}),t}function getAttachments(e){return"string"==typeof e?[]:"object"==_typeof(e.a)?e.a:[e.a]}function forAll(e,t){t(e.q);var a=e.a;for(var s in a)t(a[s].v),a[s].e&&t(a[s].e);e.e&&t(e.e),e.kp&&t(e.kp)}function checkIndividualExp(e){var t=e.a;for(var a in t)if(t[a].c&&t[a].e)return!1;return!0}var o=t("models/ques/view/Ques"),d=t("models/content"),n=t("ui/select"),l=t("app/content2txt"),c=t("ui/imgSrc"),p=t("models/ques/wc");fs.extend(MultipleChoice,o),MultipleChoice.prototype.render=function(){var e=this,t=this.parent.ques.data();if(!t)if(!this.parent.ques.nodeID)t={q:"",ao:0,a:[{v:""},{v:""},{v:""},{v:""},{v:""}],e:""};else return;"ao"in t?this.answerOrder.value(t.ao):this.answerOrder.value(4),this.stem=d($(".quesStem",this.dom),t.q,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.q),this.stemWordCount(p.count(t.q)),this.stem&&window.useStrictEdits&&p.monitor(this.stem,this.stemWordCount),this.selected.indexOf&&this.selected.removeAll(),this.renderAnswers(t),this.advanced&&fs.empty(this.advanced.dom),this.advanced=fs.mix(this,"models/ques/AdvancedTools",{tools:["takeaway","ref","topics"],data:t}),this.exp=d($(".quesExplanation",this.dom),t.e,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.e),this.expWordCount(p.count(t.e)),this.exp&&window.useStrictEdits&&p.monitor(this.exp,this.expWordCount);var a=window.distractors;if(ADMIN.editor&&a)for(var s in this.distractors.removeAll(),a)this.distractors.push(s)},MultipleChoice.prototype.focus=function(){$(".quesStem .UIEditor-multiline",this.dom).focus().click()},MultipleChoice.prototype.getData=function(){var e={q:this.stem.content(),ao:this.answerOrder.value(),a:[]};for(var t in this.choices){var a=this.choices[t],s={};s.v=a.choice.content(),a.isCorrect()&&(s.c=1);var o=a.exp.content();if(o&&(s.e=o),s.v)e.a.push(s);else if(s.e)return{error:"No answer choice specified, but an answer explanation was provided!",data:e}}return e.e=this.exp.content(),this.advanced.save(e),e},MultipleChoice.prototype.renderAnswers=function(e){var t=$(".quesAnswers",this.dom).empty();for(var a in this.choices=[],e.a){var s=this.appendAns(t,e.a[a]);"c"in e.a[a]&&(this.selected.indexOf?this.selected.push(s.value()):this.selected(s.value()))}},MultipleChoice.prototype.save=function(){var e=this.getData();console.log(e);var t=!1;for(var a in e.a)e.a[a].c&&(t=!0);return e.q?e.a.length?t?window.useStrictEdits?checkImages(e)?e.kp?50>extractText(e.q).split(/\s/).length?promptForAction(e,"The question stem is too short (should be greater than 50 words). Save anyway?"):checkIndividualExp(e)?4>e.a.length||6<e.a.length?promptForAction(e,"There should be 4-6 answer choices (preferably 5). Save anyway?"):{data:e}:promptForAction(e,"The correct answer choice should not have an individual choice explanation. This text should be in the main explanation. Save anyway?"):promptForAction(e,"A major takeaway was not provided and is required. Save anyway?"):promptForAction(e,"One or more images is not from a known public domain or CC source. Save anyway?"):{data:e}:{error:"A correct answer must be selected.",data:e}:{error:"No answers have been provided.",data:e}:{error:"The question is empty.",data:e}},MultipleChoice.prototype.appendAns=function(e,t,a){a=a||"A";var t=fs.mixAppend(e,"models/ques/view/AnswerChoice",{quesID:this.parent.ques.nodeID,choice:t.v,selected:this.selected,isCorrectCheck:this.isCorrectCheck,mode:this.parent.mode(),label:this.getListLabel(a,this.choices.length+1),query:this.queryType||"radio",exp:t.e},{templateName:"models/ques/view/AnswerChoice_"+this.parent.mode()});return this.choices.push(t),t},MultipleChoice.prototype.addAnswerChoice=function(e){if(16>this.choices.length){var t=this.appendAns($(".quesAnswers",this.dom),{v:e?e:""});$(".OsmosisBlockText",t.dom).focus().click()}else alert("16 is the maximum number of answer choices!")},MultipleChoice.prototype.getListLabel=function(e,t){if("0"==e)var a=t;else if("A"==e||"1"==e)var a=s(64+ +t);else if("a"==e||"2"==e)var a=s(96+ +t);return a},MultipleChoice.prototype.addDistractor=function(e){var t=this;return function(){t.addAnswerChoice(e)}},MultipleChoice.prototype.alphabetize=function(){var e=this.getData(),t=e.a;t.sort(function(e,t){var a=extractText(e.v),s=extractText(t.v);return a>s?1:a<s?-1:0}),this.renderAnswers(e)},a.exports=MultipleChoice}),define("models.ques.view.Ques",function(e,t,a){function Ques(){}Ques.prototype.subscribe=function(){var e=this;this.__subscriptions=[],this.__subscriptions.push(this.parent.ques.data.subscribe(function(){e.skipRender||e.render()}))},Ques.prototype.silentUpdate=function(e){this.skipRender=!0,this.parent.ques.data(e),this.skipRender=!1},Ques.prototype.focus=function(){},Ques.prototype.dispose=function(){for(var e in this.__subscriptions)this.__subscriptions[e].dispose()},a.exports=Ques}),define("models.ques.view.TableFlashcard",function(e,t,a){function TableFlashcard(e,t){this.parent=t.parent,e(this),this.render(),this.subscribe()}var s=t("models/ques/view/Ques"),o=t("models/content");fs.extend(TableFlashcard,s),TableFlashcard.prototype.render=function(){var e=this.parent.ques.data();if(!e)if(!this.parent.ques.nodeID)e={q:"",a:[{v:"",e:""},{v:"",e:""},{v:"",e:""},{v:"",e:""}]};else return;if(this.name=o($(".flashcardFront",this.dom),e.q,"edit"==this.parent.__mode()),e.c){var t=e.c;$(".colorDisplay",this.dom).html("#"+t).css("color",readableFG(t)).css("background-color","#"+t)}this.renderColorSel(e);var a=$(".flashcardFields",this.dom).empty();for(var s in this.fields=[],e.a)this.appendField(a,e.a[s])},TableFlashcard.prototype.appendField=function(e,t){this.fields.push(fs.mixAppend(e,"models/ques/TableField",{mode:this.parent.__mode(),name:t.v,descr:t.e}))},TableFlashcard.prototype.addField=function(){16>this.fields.length?this.appendField($(".flashcardFields",this.dom),{v:"",e:""}):alert("16 is the maximum number of fields!")},TableFlashcard.prototype.renderColorSel=function(e){for(var t=$(".colorPicker",this.dom).empty(),a=$("<select name=\"cardColor\" class=\"cardColor\">").appendTo(t),s=[],o=0;10>o;o++)s.push(rgb2color(hsl2rgb(o/10,.75,.9))),s.push(rgb2color(hsl2rgb(o/10,.5,.75))),s.push(rgb2color(hsl2rgb(o/10,.8,.75)));for(var o in s.push("fff"),-1==s.indexOf(e.c)&&s.push(e.c),s)a.append("<option value=\""+s[o]+"\">#"+s[o]+"</option>");e.c&&a.val(e.c),a.colourPicker({ico:"/3rd/colourPicker/colourPicker.gif",title:!1})},TableFlashcard.prototype.save=function(){var e={};e.q=this.name.content();var t=$("input[name=\"cardColor\"]",this.dom).val();if("ffffff"!=t&&"fff"!=t)if(/^[a-fA-F0-9]+$/.test(t)&&(3==t.length||6==t.length))e.c=t;else return"Invalid color.";for(var a in e.a=[],this.fields){var s=this.fields[a],o={};o.v=s.name.content();var d=s.descr.content();if(d&&(o.e=d),o.v)e.a.push(o);else if(o.e)return"No answer choice specified, but an answer explanation was provided!"}return e.q?e.a.length?{data:e}:{error:"No answers have been provided.",data:e}:{error:"The question is empty.",data:e}},a.exports=TableFlashcard}),define("models.ques.view.TrueFalse",function(e,t,a){function TrueFalse(e,t){var a=this;if(this.name=t.parent.ques._nodeID,this.selected=ko.observable(),this.parent=t.parent,this.ansText=ko.computed(function(){var e=a.getData();return e?d[e.a]:""}),t.changeType){var s=t.changeType;s&&this.parent.ques.data({q:s.q,e:s.e})}e(this),this.render(),this.subscribe()}var s=t("models/ques/view/Ques"),o=t("models/content"),d={t:"True",f:"False"};fs.extend(TrueFalse,s),TrueFalse.prototype.getData=function(){var e=this.parent.ques.data();return e||this.parent.ques.nodeID||(e={q:"",a:"",e:""}),e},TrueFalse.prototype.render=function(){var e=this.getData();e&&(this.stem=o($(".quesStem",this.dom),e.q,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.q),this.selected(e.a),this.exp=o($(".quesExplanation",this.dom),e.e,"edit"==this.parent.mode(),this.parent.ques.MID,this.parent.rev.e),this.advanced&&fs.empty(this.advanced.dom),this.advanced=fs.mix(this,"models/ques/AdvancedTools",{tools:["ref","topics"],data:e}))},TrueFalse.prototype.save=function(){var e={};return e.q=this.stem.content(),e.a=this.selected(),e.e=this.exp.content(),this.advanced.save(e),e.q?e.a?{data:e}:{error:"A correct answer must be selected.",data:e}:{error:"The question is empty.",data:e}},TrueFalse.prototype.convert=function(){},a.exports=TrueFalse}),define("models.ques.wc",function(e){function extractText(e){return e?"string"==typeof e?e:e.s:""}function getWordCount(e,t){var a=extractText(e.content());a?t(a.split(/\s/).length):t(0)}e.monitor=function(e,t){getWordCount(e,t),$(".OsmosisBlockText",e.divSource).keyup(function(){getWordCount(e,t)}),e.divSource.bind("format",function(){getWordCount(e,t)})},e.count=function(e){return extractText(e).split(/\s/).length}}),define("models.resource.AtomContainer",function(e,t,a){function AtomContainer(){}var s=t("models/media"),o=t("models/Node");AtomContainer.prototype.push=function(e,t){var a=new o;a.nodeID=e.nodeID,a.type(e.type),a.subtype(e.subtype),a.data(e.data),s.displayResource($(".resources",this.dom),a,t)},a.exports=AtomContainer}),define("models.resource.BookRefContainer",function(e,t,a){function BookRefContainer(e,t){this.book=t.model,this.title=ko.observable(this.book.data.title),this.resources=ko.observableArray()}function BookRef(e){this.name=ko.observable(e.n),this.page=ko.observable(e.p),this.children=ko.observableArray();var t=window.studyTopic.toLowerCase(),a=!1;for(var o in s.wikifyText(this.name(),function(e,t){a=window.studyTopic.toLowerCase()==t.toLowerCase()}),e.c){var d=e.c[o].n,n=a||-1!=d.toLowerCase().search(t);s.wikifyText(d,function(e,t){n=n||window.studyTopic.toLowerCase()==t.toLowerCase()}),this.children.push({ref:d+" "+e.c[o].p,active:n})}}var s=t("app/wikify");BookRefContainer.prototype.push=function(e){this.resources.push(new BookRef(e.data))},a.exports=BookRefContainer}),define("models.resource.FactContainer",function(e,t,a){function FactContainer(e){this.showingAll=ko.observable(!1),this.flashcardCount=ko.observable(0),this.unscheduledCount=ko.observable(0),this.scheduledCount=ko.observable(0),e(this),this.flashcards=[],this.flashcardModels=[]}FactContainer.prototype.push=function(e){var t=this;if(this.flashcards.push(e),this.flashcardCount(this.flashcards.length),this.updateCounts(),10>this.flashcards.length){var a=fs.mixAppend($(".flashcard",this.dom),"models/resource/SingleFact",{flashcard:e});a.scheduledOn.subscribe(function(){t.updateCounts(),$(document).trigger("onFlagFlashcard")}),this.flashcardModels.push(a)}},FactContainer.prototype.display=function(e){for(var t in e)this.push({nodeID:e[t],type:5,subtype:5,data:nodeIndex[e[t]].data(),schedule:0})},FactContainer.prototype.showMore=function(){for(var e=this,t=9,a;t<this.flashcards.length;t++)a=fs.mixAppend($(".flashcard",this.dom),"models/resource/SingleFact",{flashcard:this.flashcards[t]}),a.scheduledOn.subscribe(function(){e.updateCounts(),$(document).trigger("onFlagFlashcard")}),this.flashcardModels.push(a);this.showingAll(!0)},FactContainer.prototype.updateCounts=function(){var e=0,t=0;for(var a in this.flashcards)null==this.flashcards[a].schedule?t++:e++;this.unscheduledCount(t),this.scheduledCount(e)},FactContainer.prototype.scheduleAll=function(e){var t=this,a=[];for(var s in this.flashcards)null==this.flashcards[s].schedule&&a.push(this.flashcards[s].nodeID);fs.post("scheduleForReview",{nodeIDs:a},function(){for(var a in t.flashcardModels)t.flashcardModels[a].scheduled()||t.flashcardModels[a].scheduledOn(1);for(var a in t.flashcards)t.flashcards[a].schedule=1;t.updateCounts(),e()})},a.exports=FactContainer}),define("models.resource.SingleFact",function(e,t,a){function SingleFact(e,t){var a=this;this.showingAnswer=ko.observable(),this.scheduledOn=ko.observable(t.flashcard.schedule),this.scheduled=ko.computed(function(){return null==a.scheduledOn()?null:0<=a.scheduledOn()}),this.scheduledMsg=ko.computed(function(){var e=a.scheduledOn();return null==e?"Save to queue":0<=e?"Remove from queue":"Overdue - Bump Back into Repetition Queue"}),this.justScheduledMsgVisible=ko.observable(),this.excluded=ko.computed(function(){return 1e4<a.scheduledOn()}),this.flashcard=t.flashcard,this.scheduleHint=ko.computed(function(){if(a.scheduled()&&2<=a.scheduledOn())return"Scheduled for repetition "+a.scheduledOn()+" days from now (click to remove)";return 0==a.scheduledOn()?"Scheduled for repetition today (click to remove)":1==a.scheduledOn()?"Scheduled for repetition tomorrow (click to remove)":null==a.scheduledOn()?"Not scheduled for spaced repetition (click to save)":void 0}),e(this),$(".fa-flag",this.dom).tooltip(),this.card=$("li",this.dom),this.card.length||(this.card=this.dom),s.renderFlashcard(t.flashcard.data,$(".cardFront",this.card),$(".cardBack",this.card))}var s=t("models/ques/flashcardTools");SingleFact.prototype.showAnswer=function(){this.showingAnswer(!0),s.showAnswer(this.card,this.local)},SingleFact.prototype.scheduleForReview=function(e){var t=this,a={nodeIDs:[this.flashcard.nodeID]};this.local&&(a.local=1,a.m=window.MID),fs.post("scheduleForReview",a,function(){t.flashcard.schedule=1,t.scheduledOn(1),e()})},SingleFact.prototype.unscheduleReview=function(e){var t=this,a={nodeIDs:[this.flashcard.nodeID]};this.local&&(a.local=1),fs.post("unscheduleReview",a,function(){t.flashcard.schedule=null,t.scheduledOn(null),e()})},SingleFact.prototype.flag=function(e){var t=this;this.scheduled()?this.unscheduleReview(function(){t.showAnswer(),$(".fi-flashcard-bolt",t.dom).tooltip("show"),e()}):this.scheduleForReview(function(){t.showAnswer(),t.justScheduledMsgVisible(!0),$(".fi-flashcard-boltg",t.dom).tooltip("show"),e()})},a.exports=SingleFact}),define("models.scheduleClassic.BookToDo",function(e,t,a){function BookToDo(e,t){s.call(this,e,t),e(this),fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("models/scheduleClassic/ToDo");fs.extend(BookToDo,s),a.exports=BookToDo}),define("models.scheduleClassic.ConceptToDo",function(e,t,a){function ConceptToDo(e,t){var a=this;this.link=t.link,this.state=ko.observable(t.state?"done":null),e(this),this.link.yt&&$("a",this.dom).click(function(t){t.preventDefault(),o.showVideo(a.link.yt)})}var s=t("app/step1classic/step1"),o=t("ui/mediaViewer");ConceptToDo.prototype.changeState=function(e){var t=this;return function(){"done"==t.state()&&"done"==e&&(e=""),t.state(e),fs.post("setNodeToDoState",{scheduleID:s.scheduleID,nodeID:this.link.id,state:"done"==e?1:0},function(){})}},a.exports=ConceptToDo}),define("models.scheduleClassic.CrunchTime",function(e,t,a){a.exports=function CrunchTime(){}}),define("models.scheduleClassic.DailyGoalChecklist",function(e,t,a){function DailyGoalChecklist(e,t){for(var a in this.date=t.date,this.fitlers=t.filters,this.show=t.show,this.customTodos=ko.observable(t.custom),e(this),t.custom)this.addTodo(t.custom[a].todoID,t.custom[a].todo,t.custom[a].state)}var s=t("app/step1classic/step1"),o={qbank:{view:"QBankToDo"},book:{view:"BookToDo"},pages:{view:"PagesToDo"},video:{view:"FixedVideoToDo"}};DailyGoalChecklist.prototype.addTodo=function(e,t,a){t.id=e,t.sub=moment(this.date).format("dddd, MMMM Do"),fs.mixAppend($(".goal-todos",this.dom),"models/scheduleClassic/"+o[t.type].view,{todo:t,isCustom:!0,title:t.title,state:a,alwaysVisible:!0,filters:this.filters,show:this.show})},DailyGoalChecklist.prototype.addCustomGoal=function(){var e=this;dialog("ui/dialogs/AddCustomDailyGoal",function(t,a,o){if(a){var d=t.getTodo();fs.post("addCustomDailyGoal",{scheduleID:s.scheduleID,date:e.date,todo:d},function(t){e.addTodo(t.todoID,d),o()})}},{date:this.date})},a.exports=DailyGoalChecklist}),define("models.scheduleClassic.DaysOffEditor",function(e,t,a){function DaysOffEditor(){this.dates=s.vacations,this.dates.sort(function(e,t){return+moment(e.start)-+moment(t.start)}),this.mode=ko.observable("view"),this.modified=ko.observable()}var s=t("app/step1classic/step1"),o=t("ui/decisionTree"),d={start:{prompt:"When do you want to take time off?",options:["Take <b>today</b> off","Take <b>tomorrow</b> off","Take a specific day off","Take several days off"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){if(1==e){var s=moment().format("YYYY-MM-DD");a("vacations",[{start:s,stop:s}]),t()}else if(2==e){var s=moment().add(1,"day").format("YYYY-MM-DD");a("vacations",[{start:s,stop:s}]),t()}else 3==e?t("single-day"):t("multiple-days")})},"single-day":{prompt:"What date do you want to take off?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("vacations",[{start:e,stop:e}]),t()})},"multiple-days":{custom:"ui/StudyPlanVacations",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("vacations",e),t()})}};DaysOffEditor.prototype.removeRange=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove "+(e.start==e.stop?"this day off?":"these vacation days?"),function(a){t.dates.remove(e),t.modified(!0),s.vacationsModified=!0,a()})}},DaysOffEditor.prototype.addDaysOff=function(){var e=this;this.mode("add"),fs.empty($(".add-days",this.dom)),o($(".add-days",this.dom),d,function(t){for(var a in t.vacations)e.dates.push(t.vacations[a]);e.dates.sort(function(e,t){return+new Date(e.startDate)-+new Date(t.startDate)}),e.modified(!0),s.vacationsModified=!0,e.mode("view")})},a.exports=DaysOffEditor}),define("models.scheduleClassic.DividerToDo",function(e,t,a){a.exports=function DividerToDo(){}}),define("models.scheduleClassic.ExamDay",function(e,t,a){function ExamDay(e,t){var a=t.exam.todo;this.mode=ko.observable(a.score?"display":"prompt"),this.todoID=t.exam.todoID,this.exam=a.exam,this.form=a.form,this.score=ko.observable(a.score)}ExamDay.prototype.submitScore=function(e){var t=this;fs.post("submitPracticeExamScore",{todoID:this.todoID,score:"_"+this.score()},function(){t.mode("display"),e()})},a.exports=ExamDay}),define("models.scheduleClassic.FixedVideoToDo",function(e,t,a){function FixedVideoToDo(e,t){s.call(this,e,t),e(this),fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("models/scheduleClassic/ToDo");fs.extend(FixedVideoToDo,s),a.exports=FixedVideoToDo}),define("models.scheduleClassic.ItemBankToDo",function(e,t,a){function ItemBankToDo(e,t){o.call(this,e,t),this.count=ko.observable(this.todo.quizIDs.length),e(this),this.quizBuilder=new s,fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("ui/QuizBuilder"),o=t("models/scheduleClassic/ToDo"),d=t("app/addToQueue");fs.extend(ItemBankToDo,o),ItemBankToDo.prototype.buildQuiz=function(e){var t=this;window.nav.getTab(window.prefixTabURL("/quiz")),t.quizBuilder.quiz={ids:t.todo.quizIDs,type:"Flashcards"},t.quizBuilder.displayScoreboard(),e()},ItemBankToDo.prototype.addToQueue=function(e){"questions"==this.todo.type?d.questions(this.todo.quizIDs,$(".add-to-queue",this.dom)):d.flashcards(this.todo.quizIDs,$(".add-to-queue",this.dom)),e()},a.exports=ItemBankToDo}),define("models.scheduleClassic.OsmosisToDo",function(e,t,a){function OsmosisToDo(e,t){this.conceptsVisible=ko.observable(),this.conceptCount=ko.observable(0);var a=t.action.split(" %% ");this.verb=a[0],this.predicate=a[1],s.call(this,e,t),e(this);var o=t.todo.links;for(var d in o)fs.mixAppend($(".concept-subsection",this.dom),"models/scheduleClassic/ConceptToDo",{state:t.completedNodes[o[d].id],link:o[d]});this.conceptCount(t.todo.links.length),fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("models/scheduleClassic/ToDo"),o=t("ui/playlistQuiz");fs.extend(OsmosisToDo,s),a.exports=OsmosisToDo}),define("models.scheduleClassic.PagesToDo",function(e,t,a){function PagesToDo(e,t){s.call(this,e,t),e(this),fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("models/scheduleClassic/ToDo");fs.extend(PagesToDo,s),a.exports=PagesToDo}),define("models.scheduleClassic.Push",function(e,t,a){function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Push(e){var t=this;this.pushMode=ko.observable(e.pushMode||"normal"),this.pushModeFormatted=ko.computed(function(){return capitalize(t.pushMode())}),this.pushModeDescr=ko.computed(function(){return o[t.pushMode()]}),this.pushOrder=ko.observable(e.pushOrder||"random"),this.pushOrderFormatted=ko.computed(function(){return s[t.pushOrder()]}),this.finalEmail=ko.observable(e.email||"yes"),this.pushEnabled=ko.observable(e.pushEnabled||0)}var s={fc:"flashcards first",ques:"questions first",random:"randomized"},o={minimum:"Osmosis will send one or fewer push notifications per day.",timid:"Osmosis will send push notifications until you've completed your queues for the day. If you do not respond the first push notification, Osmosis will stop sending push for the day. Average push rate is every 2-4 hours.",normal:"Osmosis will send push notifications until you've completed your queues for the day. If you do not respond to push notifications twice in a row, Osmosis will stop sending push for the day. Average push rate is every 2-4 hours.",persistent:"Same as normal mode, but Osmosis will continue sending push notifications until you're queue is empty even if you don't respond. Average push rate is every 2-4 hours.",assertive:"Same as persistent mode, but more frequent push notifications are sent (every 1-2 hours)",epic:"Osmosis may throw a tantrum if you don't respond to its notifications."};Push.prototype.updatePush=function(){this;fs.post("mobilePushPreference",{pushEnabled:1==this.pushEnabled()?1:0},function(){$.jGrowl("Updated schedule.",{life:1e3,position:"bottom-left"})})},a.exports=Push}),define("models.scheduleClassic.QBankToDo",function(e,t,a){function QBankToDo(e,t){s.call(this,e,t),e(this),fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("models/scheduleClassic/ToDo");fs.extend(QBankToDo,s),a.exports=QBankToDo}),define("models.scheduleClassic.ScheduleDay",function(e,t,a){var s=t("app/step1classic/step1");a.exports=function ScheduleDay(e,t){if(this.date=t.date,this.title=moment(t.date).format("dddd, MMM D"),this.timestamp=moment(t.date).unix(),this.isFreeDay=ko.observable(),this.isRestartDay=ko.observable(!!s.meta.restart&&moment(t.date).format("YYYY-MM-DD")==s.meta.restart),e(this),t.exam)fs.mixAppend($(".sections",this.dom),"models/scheduleClassic/ExamDay",{exam:t.exam});else if(t.sections)if(fs.mix(this,"models/scheduleClassic/DailyGoalChecklist",{date:t.date,custom:t.custom,filters:t.filters,show:t.show}),"Free"!=t.sections[0].title)for(var a in t.sections)fs.mixAppend($(".sections",this.dom),"models/scheduleClassic/ScheduleSection",{section:t.sections[a],filters:t.filters,completed:t.completedTodo,completedNodes:t.completedNodes,show:t.show});else this.isFreeDay(!0)}}),define("models.scheduleClassic.ScheduleSection",function(e,t,a){var s={div:{view:"DividerToDo",title:""},uworld:{view:"QBankToDo",title:"UWorld"},fa19:{view:"BookToDo",title:"First Aid 2019"},fa18:{view:"BookToDo",title:"First Aid 2018"},fa17:{view:"BookToDo",title:"First Aid 2017"},fa16:{view:"BookToDo",title:"First Aid 2016"},fa15:{view:"BookToDo",title:"First Aid 2015"},pathoma:{view:"VideoToDo",title:"Pathoma"},osmosis:{view:"OsmosisToDo",title:"Osmosis Videos",action:"Watch %% Video"},picmonic:{view:"OsmosisToDo",title:"Picmonic",action:"Study %% Picmonic"},sketchy:{view:"OsmosisToDo",title:"Sketchy Medical",action:"Watch %% Video"},questions:{view:"ItemBankToDo",title:"Osmosis Case Questions"},flashcards:{view:"ItemBankToDo",title:"Osmosis Fact Flashcards"}};a.exports=function ScheduleSection(e,t){for(var a in this.section=t.section,e(this),this.section.todos){var o=this.section.todos[a];fs.mixAppend($(".section-todos",this.dom),"models/scheduleClassic/"+s[o.type].view,{todo:o,state:t.completed[o.id],completedNodes:t.completedNodes,title:s[o.type].title,action:s[o.type].action,filters:t.filters,show:t.show})}}}),define("models.scheduleClassic.Target",function(e,t,a){function Target(e,t){var a=this;this.targetDate=ko.observable(t.target.date),this.descr=ko.observable(t.descr),this.behavior=ko.observable(t.behavior),e(this),this.targetDate.subscribe(function(){a.update()}),this.topics=s(this,"topicSelect",{options:o.fullName,caption:"Select Topics",onChange:"update",width:"100%",value:t.target.topics})}var s=t("ui/select"),o=t("shared/topics");Target.prototype.save=function(){return{date:this.targetDate(),topics:this.topics.value()}},Target.prototype.remove=function(){var e=this;fs.confirm("Are you sure you want to remove this entry from the schedule?","Remove Entry","danger",function(t){e.parent.remove(e),e.update(),t()})},Target.prototype.update=function(){this.parent.parent.update()},a.exports=Target}),define("models.scheduleClassic.ToDo",function(e,t,a){var s={0:"",1:"done",2:"later",3:"ignore"};a.exports=function ToDo(e,t){var a=this;this.todo=t.todo,this.state=ko.observable(s[t.state||0]),this.isCustom=t.isCustom,this.doToday=ko.observable(!1),this.visible=ko.computed(function(){for(var e in t.filters)if(e==t.todo.type){var s=t.filters[e]();break}t.alwaysVisible&&(s=!0);var o=t.show(),d=a.state();return"everything"==o?s:"incomplete"==o&&("later"==d||""==d)?s:"completed"==o&&"done"==d?s:"later"==o&&"later"==d&&s}),this.title=t.title}}),define("models.scheduleClassic.ToDoState",function(e,t,a){function ToDoState(e,t){this.state=t.parent.state,e(this)}var s=t("app/step1classic/step1"),o={"":0,done:1,later:2,ignore:3},d=t("app/step1classic/scheduleProgress");ToDoState.prototype.changeState=function(e){var t=this;return function(){"done"==t.state()&&"done"==e&&(e=""),t.state(e),d.done[this.parent.todo.id]=o[e],fs.post(this.parent.isCustom?"setClassicCustomToDoState":"setToDoState",{scheduleID:s.scheduleID,todoID:this.parent.todo.id,state:o[e]},function(){})}},a.exports=ToDoState}),define("models.scheduleClassic.VideoToDo",function(e,t,a){function VideoToDo(e,t){s.call(this,e,t),e(this),fs.mix(this,"models/scheduleClassic/ToDoState")}var s=t("models/scheduleClassic/ToDo");fs.extend(VideoToDo,s),a.exports=VideoToDo}),define("models.step1_calendar.Day",function(e,t,a){function Day(e,t){if(this.day=t.day,this.fullDate=t.day.fullDate,this.date=0|t.day.date||0,this.topic=t.day.topic||"",this.subTopics=t.day.subTopics||"",this.empty="undefined"==typeof t.day.empty||t.day.empty,this.borderWidth=t.day.borderWidth||"default",this.color=t.day.color,this.otherMonth=t.day.otherMonth||!1,this.mode=t.mode||"MonthView",this.currentDay=t.day.currentDay||!1,this.calendar=t.calendar,this.emptyWeek="undefined"==typeof t.emptyWeek||t.emptyWeek,this.freeDay="Free"===this.subTopics,this.examDay="Exam"===this.subTopics.substring(0,4),this.examTitle=this.examDay?this.subTopics.substring(5):"",this.faFilter=ko.computed(function(){return!0},this),this.summary=t.day.summary,"WeekView"==this.mode&&!this.otherMonth)for(var a in this.summary){var s=this.summary[a];s.count&&(s.checked=ko.observable(s.checked),this.calendar.addTodoDayStatus(this.fullDate,s.type,s.checked))}this.summary=ko.observableArray(this.summary),"Free"===this.subTopics&&(this.subTopics=""),e(this)}Day.prototype.dayInfoHeadingClicked=function(){this.otherMonth||this.empty||(this.calendar.changeView("Topic"),this.calendar.sidebarCalendar.updateSelectedDate(moment(this.fullDate)))},Day.prototype.dayInfoClicked=function(){this.otherMonth||this.empty||this.calendar.displayTopicDayPopup(this.day.fullDate)},a.exports=Day}),define("models.step1_calendar.MobileTopicView",function(e,t,a){function MobileTopicView(e,t){this.calendar=t.calendar,this.topicBlocks=t.topicBlocks,e(this);var a=this.calendar.sidebarCalendar.currentDate.format("YYYY-MM-DD");moment(a).isBefore(moment(o.getCurrentSchedule().startDate),"day")?a=moment(o.getCurrentSchedule().startDate).format("YYYY-MM-DD"):moment(a).isAfter(moment(o.getCurrentSchedule().endDate),"day")&&(a=moment(o.getCurrentSchedule().endDate).format("YYYY-MM-DD")),this.goToDate(a)}var s=t("app/schedules"),o=s.schedules,d=t("models/step1_calendar/scheduleLoader");MobileTopicView.prototype.render=function(e,t){this;d.appendCurrentScheduleDays(this.dom,this.calendar,{start:e,stop:e,topicDayArgs:{mobileView:!0}},t)},MobileTopicView.prototype.goToDate=function(e){this;e=moment(e).format("YYYY-MM-DD"),this.render(e,function(){})},a.exports=MobileTopicView}),define("models.step1_calendar.MobileView",function(e,t,a){function MobileView(e,t){var a=this;this.months=t.months,this.topicBlocks=t.topicBlocks,this.calendar=t.calendar,e(this),this.sidebarCalendar=fs.mix(this,"models/step1_calendar/SidebarCalendar",{dateSelectedCallback:a.dateSelectedCallback.bind(this),months:this.months,mobileView:!0}),this.updateSelectedDate=this.sidebarCalendar.updateSelectedDate,this.mobileTopicView=fs.mix(this,"models/step1_calendar/MobileTopicView",{calendar:this.calendar,topicBlocks:this.topicBlocks})}MobileView.prototype.dateSelectedCallback=function(e){this.mobileTopicView.goToDate(e)},a.exports=MobileView}),define("models.step1_calendar.Month",function(e,t,a){a.exports=function Month(e,t){for(var a in this.calendar=t.calendar,this.name=t.month.name,this.year=t.month.year,this.mode=t.mode||"MonthView",this.weeks=t.month.weeks,e(this),this.weeks)fs.mixAppend($(".weeks-container",this.dom),"models/step1_calendar/Week",{week:this.weeks[a],mode:this.mode,calendar:this.calendar})}}),define("models.step1_calendar.MonthView",function(e,t,a){function MonthView(e,t){var a=this;this.calendar=t.calendar,this.months=t.months,this.isAnimating=!1,this.lastDateLoaded=ko.observable(null),this.firstDateLoaded=ko.observable(null),this.lastMonthInSchedule=ko.computed(function(){var e=moment(this.lastDateLoaded()).date(moment(this.lastDateLoaded()).daysInMonth());return e.isAfter(moment(d.getCurrentSchedule().endDate),"day")||e.isSame(moment(d.getCurrentSchedule().endDate),"day")},this),this.firstMonthInSchedule=ko.computed(function(){var e=moment(this.firstDateLoaded()).date(1);return e.isBefore(moment(d.getCurrentSchedule().startDate),"day")||e.isSame(moment(d.getCurrentSchedule().startDate),"day")},this),this.loadedDates=[],this.loading=ko.observable(!1),this.previousLoading=ko.observable(!1),e(this),$(".spin-loader",this.dom).append("<div class=\"center\">"+n+"</div>");var s=this.calendar.sidebarCalendar.currentDate.format("YYYY-MM-DD");moment(s).isBefore(moment(d.getCurrentSchedule().startDate),"day")?s=moment(d.getCurrentSchedule().startDate).format("YYYY-MM-DD"):moment(s).isAfter(moment(d.getCurrentSchedule().endDate),"day")&&(s=moment(d.getCurrentSchedule().endDate).format("YYYY-MM-DD")),this.render(s,function(){a.scrollToDate(s)})}var s=t("models/step1_calendar/scheduleLoader"),o=t("app/schedules"),d=o.schedules,n=template("core/spinCircle");MonthView.prototype.previousLoadingClick=function(){this.loadPreviousMonth()},MonthView.prototype.nextLoadingClick=function(){this.loadNextMonth()},MonthView.prototype.render=function(e,t){var a=this;if(!this.loading()){if(this.lastMonthInSchedule()&&t)return void t();var o=!!_.find(a.loadedDates,function(t){return moment(t).isSame(moment(e),"month")});if(!o)a.loadedDates.push(e);else if(t)return void t();this.loading(!0),this.lastDateLoaded(e),null===this.firstDateLoaded()&&this.firstDateLoaded(this.lastDateLoaded()),s.appendCurrentScheduleMonth(this.dom,this.calendar,"MonthView",{date:e},function(){a.loading(!1),t&&t()})}},MonthView.prototype.renderBefore=function(e,t){var a=this;if(!this.previousLoading()){if(this.firstMonthInSchedule()&&t)return void t();var o=!!_.find(a.loadedDates,function(t){return moment(t).isSame(moment(e),"month")});if(!o)a.loadedDates.push(e);else if(t)return void t();this.previousLoading(!0),this.firstDateLoaded(e),s.appendCurrentScheduleMonth(this.dom,this.calendar,"MonthView",{date:e},function(){var e=$(".months-container .month",a.dom);$(e[e.length-1]).prependTo($(".months-container",a.dom)),a.previousLoading(!1),t&&t()})}},MonthView.prototype.dateSelectedCallbackHandler=function(){var e=this;return function(t){e.goToDate(moment(t).format("YYYY-MM-DD"))}},MonthView.prototype.loadPreviousMonth=function(e){this.firstMonthInSchedule()||this.renderBefore(moment(this.firstDateLoaded()).date(1).month(moment(this.firstDateLoaded()).month()-1).format("YYYY-MM-DD"),e)},MonthView.prototype.loadNextMonth=function(e){this.lastMonthInSchedule()||this.goToDate(moment(this.lastDateLoaded()).date(1).month(moment(this.lastDateLoaded()).month()+1).format("YYYY-MM-DD"),e,!1)},MonthView.prototype.endOfScheduleCTAClicked=function(){fs.mixAppend($("body"),"ui/dialogs/schedule-old/ScheduleSettings",{calendar:this.calendar,activeScheduleID:d.currentScheduleID()})},MonthView.prototype.goToDate=function(e,t,a){var s=this;a=!("undefined"!=typeof a)||a;var o=!!_.find(s.loadedDates,function(t){return moment(t).isSame(moment(e),"month")});if(o)return void s.scrollToDate(e);var d=moment(s.firstDateLoaded()).isAfter(moment(e)),n=moment(d?s.firstDateLoaded():s.lastDateLoaded()).date(1),l=Math.abs(12*moment(n).year()+moment(n).month()-(12*moment(e).year()+moment(e).month()));if(d){var c=function recursiveRenderBefore(e,o){s.renderBefore(e,function(){0<o?c(moment(e).subtract(1,"months").format("YYYY-MM-DD"),--o):(a&&s.scrollToDate(e),t&&t())})};c(n,l)}else{var p=function recursiveRender(e,o){s.render(e,function(){o<l?p(moment(e).add(1,"months").format("YYYY-MM-DD"),++o):(a&&s.scrollToDate(e),t&&t())})};p(n,0)}},MonthView.prototype.scrollToDate=function(e){var t=this;e=moment(e);var a=$(".view-container.month",this.parent.dom);if(this.firstMonthInSchedule()&&moment(this.firstDateLoaded()).isAfter(e,"month"))a.stop(),t.isAnimating=!0,a.animate({scrollTop:0},250,function(){t.isAnimating=!1});else if(this.lastMonthInSchedule()&&moment(this.lastDateLoaded()).isBefore(e,"month"))a.stop(),t.isAnimating=!0,a.animate({scrollTop:a[0].scrollHeight-a.height()},250,function(){t.isAnimating=!1});else{var s=$(".day[data-date=\""+e.format("YYYY-MM-DD")+"\"]",this.dom);s.length?(a.stop(),t.isAnimating=!0,a.animate({scrollTop:a.scrollTop()+s.offset().top-110},250,function(){t.isAnimating=!1})):a.scrollTop(0)}},a.exports=MonthView}),define("models.step1_calendar.SidebarCalendar",function(e,t,a){function SidebarCalendar(e,t){this.dateSelectedCallback=t.dateSelectedCallback,this.mobileView=t.mobileView||!1,this.month=ko.observableArray([]),this.monthName=ko.observable(""),this.monthYear=ko.observable(""),this.currentDate=moment();var a=moment();moment(a).isBefore(moment(o.getCurrentSchedule().startDate),"day")?a=moment(o.getCurrentSchedule().startDate):moment(a).isAfter(moment(o.getCurrentSchedule().endDate),"day")&&(a=moment(o.getCurrentSchedule().endDate)),this.selectedDate=ko.observable(a),this.months=ko.observableArray(t.months||[]),this.buildMonth(this.selectedDate()),this.updateSelectedDate=this.updateSelectedDate.bind(this),this.addMonthsData=this.addMonthsData.bind(this),this.moveSeletedDate=this.moveSeletedDate.bind(this),e(this)}var s=t("app/schedules"),o=s.schedules;SidebarCalendar.prototype.addMonthsData=function(e){this.months(e),this.buildMonth(this.currentDate)},SidebarCalendar.prototype.updateSelectedDate=function(e,t){t=!("undefined"!=typeof t)||t,(this.currentDate.month()!==e.month()||this.currentDate.year()!==e.year())&&(this.currentDate=e,this.buildMonth(this.currentDate)),this.selectedDate(e),t&&this.dateSelectedCallback(this.selectedDate())},SidebarCalendar.prototype.moveSeletedDate=function(e,t){var a=moment(this.selectedDate());"weeks"===t?a.startOf("week"):"months"==t&&a.startOf("month"),this.updateSelectedDate(a.add(e,t))},SidebarCalendar.prototype.dateClicked=function(){var e=this;return function(t){t.otherMonth||(e.selectedDate(moment(e.currentDate).date(t.date)),e.dateSelectedCallback(e.selectedDate()))}},SidebarCalendar.prototype.nextMonth=function(){this.currentDate.date(this.currentDate.daysInMonth()+1),this.buildMonth(this.currentDate)},SidebarCalendar.prototype.prevMonth=function(){this.currentDate.date(0),this.buildMonth(this.currentDate)},SidebarCalendar.prototype.buildMonth=function(e){this.monthName(e.format("MMMM")),this.monthYear(e.format("YYYY"));for(var t=[],a=(moment(e).date(1).weekday()+(6-moment(e).date(e.daysInMonth()).weekday())+e.daysInMonth())/7,s=0;s<a;s++)t.push(Array(7));for(var o=moment(e).date(0),s=o.weekday();0<=s;s--)t[0][o.weekday()-s]={date:o.daysInMonth()-s,otherMonth:!0,currentDate:!1};var d=!1,n=null;if(0<this.months().length)for(var l in this.months())if(this.months()[l].name===this.monthName()&&e.year()===this.months()[l].year){n=l,d=!0;break}for(var c=moment(e).date(1).weekday(),s=0;s<e.daysInMonth();s++){var p=Math.floor((s+c)/7),u=(s+c)%7;t[p][u]={date:s+1,otherMonth:!1,empty:!0,currentDate:s+1===moment().date()&&e.month()===moment().month()&&e.year()===moment().year()},d&&!this.months()[n].weeks[p].days[u].empty&&(t[p][u].color=this.months()[n].weeks[p].days[u].color,t[p][u].borderWidth=this.months()[n].weeks[p].days[u].borderWidth,t[p][u].empty=!1)}for(var m=6-moment(e).date(e.daysInMonth()).weekday(),s=0;s<m;s++)t[t.length-1][6-s]={date:m-s,otherMonth:!0,currentDate:!1};this.month.removeAll();for(var s=0;s<t.length;s++)this.month.push(t[s])},a.exports=SidebarCalendar}),define("models.step1_calendar.SidebarTopic",function(e,t,a){function SidebarTopic(e,t){this.calendar=t.calendar,this.goToPrevBlock=t.goToPrevBlock,this.goToNextBlock=t.goToNextBlock,this.goToDate=t.goToDate,this.currentBlock=t.currentBlock,this.prevBlock=t.prevBlock,this.nextBlock=t.nextBlock,this.color=ko.computed(function(){return this.currentBlock().days&&this.currentBlock().days[0]?this.currentBlock().days[0].color:""},this),e(this)}SidebarTopic.prototype.selectorClickHandler=function(){var e=this;return function(t){e.goToDate(moment(t.date))}},a.exports=SidebarTopic}),define("models.step1_calendar.Subtopic",function(e,t,a){function Subtopic(e,t){this;for(var a in this.calendar=t.calendar,this.topicDay=t.topicDay,this.popup=t.popup||!1,this.mobileView=t.mobileView||!1,this.todos=[],this.todoComponents=[],this.name=t.subtopic.title,this.topicName=t.subtopic.topic,this.blockNum=t.subtopic.blockNum,this.date=t.date,this.sideTodos={},this.checkAllTodoStatus=this.checkAllTodoStatus.bind(this),e(this),t.subtopic.todos)this.addToDo(t.subtopic.todos[a])}Subtopic.prototype.checkAllTodoStatus=function(e){var t=null;for(var a in this.todoComponents)if(this.todoComponents[a].type===e){if(null!==t&&t!==this.todoComponents[a].status())return"mixed";t=this.todoComponents[a].status()}return t},Subtopic.prototype.onMobileActionClick=function(e){var t=this;return t.mobileView?function(){t.sideTodos[e.id]||(t.sideTodos[e.id]=fs.mixAppend($(".mobile-todo-side-container",t.dom),"models/step1_calendar/Todo",{todo:e,calendar:t.calendar,topicDay:t.topicDay,topicName:t.topicName,sectionName:t.sectionName,mobileSideView:!0})),setTimeout(t.sideTodos[e.id].open,0)}:null},Subtopic.prototype.addToDo=function(e,t){t=t||{},this.todos.push(e),this.todoComponents.push(fs.mixAppend($(".todo-container",this.dom),"models/step1_calendar/Todo",{todo:e,group:t.group,state:t.state,calendar:this.calendar,topicDay:this.topicDay,date:this.date,popup:this.popup,mobileView:this.mobileView,topicName:this.topicName,sectionName:this.name,onMobileActionClick:this.onMobileActionClick(e)}))},a.exports=Subtopic}),define("models.step1_calendar.Todo",function(e,t,a){function Todo(e,t){this.calendar=t.calendar,this.topicDay=t.topicDay,this.popup=t.popup||!1,this.mobileView=t.mobileView||!1,this.mobileSideView=t.mobileSideView||!1,this.group=t.group||"core",this.onMobileActionClick=t.onMobileActionClick||function(){},this.show=this.calendar.show,this.filters=this.calendar.filters,this.todo=t.todo,this.date=t.date,this.type=t.todo.type,this.quizType="qbank"===this.type||"questions"===this.type?"Questions":"Flashcards","qbank"===this.type&&~this.todo.title.indexOf("UWorld")&&(this.type="uworld");var a=c.getCurrentSchedule();switch(this.scheduleType=a.preferences.schedule,this.state=this.todo.id?a.getTodoCheckbox(this.group,this.todo.id):ko.observable(t.state),this.status=ko.computed({read:function read(){return o[this.state()]},write:function write(e){this.state(s[e]),this.topicDay.todoStatusUpdated(this.type)},owner:this}),this.count=ko.observable(0),this.blockNum=t.todo.blockNum,this.blockName=t.todo.blockName,this.nameExtra="",this.topicName=t.topicName,this.subtopicName=t.sectionName,this.subitems=[],this.subitemsVisible=ko.observable(this.mobileSideView||!1),this.hasRenderedSubitems=!1,this.examScore=ko.observable(""),this.submittedExamScore=ko.observable(!1),this.shownInFilters=ko.computed(function(){this.type;return this.popup||"everything"===this.show()||this.status()===this.show()},this),this.open=this.open.bind(this),this.type){case"fa19":case"fa18":case"fa17":case"fa16":this.name="First Aid 20"+this.type.substring(2)+":",this.nameExtra="p. "+(this.todo.pStart==this.todo.pEnd?this.todo.pStart:this.todo.pStart+" - "+this.todo.pEnd),this.count(this.todo.range);break;case"picmonic":this.name="Picmonic",this.count(this.todo.links.length);break;case"osmosis":this.name="Osmosis Videos",this.count(this.todo.links.length);break;case"sketchy":this.name="Sketchy Medical",this.count(this.todo.links.length);break;case"pathoma":this.name="Pathoma",this.nameExtra=this.todo.sub,this.count(this.todo.min+" min");break;case"boardsAndBeyond":this.name="Boards and Beyond",this.nameExtra=this.todo.sub,this.count(this.todo.min+" min");break;case"flashcards":this.name=this.todo.quizIDs.length+" Osmosis Fact Flashcards",this.count(this.todo.quizIDs.length),this.quizBuilder=new d;break;case"questions":this.name=this.todo.quizIDs.length+" Osmosis Case Questions",this.count(this.todo.quizIDs.length),this.quizBuilder=new d;break;case"pages":case"video":case"qbank":case"uworld":this.name=this.todo.title,this.count(this.todo.count);break;case"book":this.name=this.todo.title,this.nameExtra="p. "+this.todo.pStart+"-"+this.todo.pEnd,this.count(this.todo.pEnd-this.todo.pStart+1);break;case"exam":this.name="UW";break;default:console.log(this.todo);}e(this),this.renderSubitems()}var s={unchecked:0,checked:1,later:2,ignore:3},o={0:"unchecked",1:"checked",2:"later",3:"ignore"},d=t("ui/QuizBuilder"),n=t("app/addToQueue"),l=t("app/schedules"),c=l.schedules,p=_.indexBy(["qbank","pages","book"],_.identity);Todo.prototype.toggleSubitemsVisible=function(){this.subitemsVisible(!this.subitemsVisible())},Todo.prototype.renderSubitems=function(){switch(fs.empty($(".todo-subitem-container",this.dom)),this.type){case"sketchy":case"picmonic":for(var e in this.todo.links)this.subitems.push(fs.mixAppend($(".todo-subitem-container",this.dom),"models/step1_calendar/TodoSubitem",{id:this.todo.links[e].id,state:this.todo.links[e].state,img:"https://osmose-it.s3.amazonaws.com/"+this.todo.links[e].$,type:"resource",url:this.todo.links[e].u,title:this.todo.links[e].t,mobileSideView:this.mobileSideView,todo:this}));break;case"osmosis":for(var e in console.log(this.todo.links),this.todo.links)this.subitems.push(fs.mixAppend($(".todo-subitem-container",this.dom),"models/step1_calendar/TodoSubitem",{id:this.todo.links[e].id,state:this.todo.links[e].state,img:"https://osmose-it.s3.amazonaws.com/"+this.todo.links[e].$,type:"osmosis",video:this.todo.links[e],mobileSideView:this.mobileSideView,todo:this}));break;default:}this.hasRenderedSubitems=!0},Todo.prototype.subitemStatusChangeCallback=function(){for(var e in this.subitems)if("checked"!==this.subitems[e].status())return void("checked"===this.status()&&(this.status("unchecked"),this.saveState(this.status())));this.status("checked"),this.saveState(this.status())},Todo.prototype.setSubitemStates=function(e){for(var t in this.subitems)this.subitems[t].setStatus(e)},Todo.prototype.dropdownClickHandler=function(e){var t=this;return function(a){switch(e){case"remove":fs.confirm("Are you sure you want to <b>completely remove</b> this item from your schedule?",function(e){t.removeTodo(e)});break;case"checked":case"unchecked":this.setSubitemStates(e);default:a.status(e),t.saveState(a.status());}}},Todo.prototype.checkClicked=function(e){function save(){var s={schedule_id:c.currentScheduleID(),resource:e.type,topic:e.topicName,subtopic:e.subtopicName,assigned_count:0<a?a:e.count(),completed:parseInt(e.count()),todo_group:e.group,todo_type:e.todo.type,checked:"checked"==e.status()};keen.track("schedule_engagement",s),t.saveState(e.status()),t.setSubitemStates(e.status())}var t=this,a=0;switch(e.status()){case"unchecked":if("repeat"==this.group){a=this.todo.count;var s="qbank"==this.todo.type?"questions":"pages";fs.prompt("Nice work! <b>"+this.todo.count+" "+s+"</b> were scheduled. How many did you complete?","Completed Task","info",function(a,s){t.todo.count=a,t.count(a),s(),e.status("checked"),save()},t.todo.count)}else e.status("checked"),save();break;case"checked":e.status("unchecked"),save();break;default:e.status("unchecked"),save();}};var u={core:{url:"setToDoState",key:"todoID"},custom:{url:"setScheduleCustomToDoState",key:"customTodoID"},repeat:{url:"setScheduleRepeatToDoState",key:"repeatTodoID"}};Todo.prototype.saveState=function(e){var t=this,a=e;"string"==typeof a&&(a=s[a]);var o=u[this.group],d={scheduleID:c.currentScheduleID(),state:a};d[o.key]=this.todo.id,"repeat"==this.group&&(d.count=this.todo.count,!this.todo.id&&(d.taskID=this.todo.taskID,d.date=this.date)),fs.post(o.url,d,function(e){"repeat"!=t.group||t.todo.id||(t.todo.id=e.id)}),analytics.track("Study Schedule",{action:"todo",schedule:this.scheduleType,type:this.type,state:e})},Todo.prototype.buildQuiz=function(e){var t=this;window.nav.getTab(window.prefixTabURL("/quiz")),t.quizBuilder.quiz={ids:t.todo.quizIDs,type:this.quizType},t.quizBuilder.displayScoreboard(),e()},Todo.prototype.addToQueue=function(e){"questions"==this.todo.type?n.questions(this.todo.quizIDs,$(".todo-action-button-save-to-queue",this.dom)):n.flashcards(this.todo.quizIDs,$(".todo-action-button-save-to-queue",this.dom)),e()},Todo.prototype.open=function(){$(this.dom).addClass("open")},Todo.prototype.close=function(){$(this.dom).removeClass("open")},Todo.prototype.toggleOpen=function(){$(this.dom).toggleClass("open")};var m={custom:{post:"removeCustomDailyGoal",key:"customTodoID"},repeat:{post:"removeRepeatDailyGoal",key:"repeatTodoID"}};Todo.prototype.removeTodo=function(e){var t=this,a=m[this.group],s={scheduleID:c.currentScheduleID()};s[a.key]=this.todo.id,fs.post(a.post,s,function(){t.dom.remove(),e()})},Todo.prototype.submitExamScoreClickHandler=function(){this.submitExamScore(this.examScore())},Todo.prototype.submitExamScore=function(e){var t=this;null!=e&&t.submittedExamScore(!0)},a.exports=Todo}),define("models.step1_calendar.TodoSubitem",function(e,t,a){function TodoSubitem(e,t){this.id=t.id||0,this.img=t.img||"#",this.title=t.title||"",this.url=t.url||window.location+"#",this.video=t.video||null,this.todo=t.todo||{};var a=n.getCurrentSchedule();this.scheduleType=a.preferences.schedule,this.state=a.getNodeCheckbox(this.id),this.status=ko.computed({read:function read(){return o[this.state()]},write:function write(e){this.state(s[e])},owner:this}),this.type=t.type||"resource",this.mobileSideView=t.mobileSideView||!1,this.setStatus=this.setStatus.bind(this),e(this)}var s={unchecked:0,checked:1,later:2,ignore:3},o={0:"unchecked",1:"checked",2:"later",3:"ignore"},d=t("app/schedules"),n=d.schedules,l=t("ui/mediaViewer");TodoSubitem.prototype.setStatus=function(e){e!=this.status()&&(this.status(e),this.saveStatus(e))},TodoSubitem.prototype.checkClicked=function(e){switch(e.status()){case"unchecked":e.status("checked");break;case"checked":e.status("unchecked");break;default:e.status("unchecked");}this.saveStatus(e.status()),this.todo.subitemStatusChangeCallback()},TodoSubitem.prototype.saveStatus=function(e){fs.post("setNodeToDoState",{scheduleID:n.currentScheduleID(),nodeID:this.id,state:"checked"===e?1:0},function(){}),analytics.track("Study Schedule",{action:"node",schedule:this.scheduleType,state:e})},TodoSubitem.prototype.playItem=function(e,t){return"osmosis"!==this.type||(t.preventDefault(),l.showVideo(this.video),!1)},a.exports=TodoSubitem}),define("models.step1_calendar.TopicDay",function(e,t,a){function TopicDay(e,t){this.calendar=t.calendar,this.popup=t.popup||!1,this.mobileView=t.mobileView||!1,this.day=t.day,this.name=t.day.sections.length?t.day.sections[0].topic:"",this.color=d.get(this.name),this.date=t.day.date,this.displayDate=ko.computed(function(){var e=moment(this.date).format("ddd");return e+=moment(this.date).format(". MMM D, YYYY"),e},this),this.subtopicContainers=[],e(this);var a=o.getCurrentSchedule();if(t.custom)for(var s in t.custom){var n=t.custom[s];n.todo.id=n.todoID;var l=a.getTodoCheckbox("custom",n.todo.id);l(n.state),this.addCustomTodo(n.todo,{group:"custom"})}if(t.repeat)for(var s in t.repeat){var c=t.repeat[s];if(c.todo.id=c.todoID,c.todoID){var l=a.getTodoCheckbox("repeat",c.todo.id);l(c.state)}this.addCustomTodo(c.todo,{group:"repeat",state:c.state})}for(var s in t.day.sections)this.subtopicContainers.push(fs.mixAppend($(".subtopic-container",this.dom),"models/step1_calendar/Subtopic",{subtopic:t.day.sections[s],calendar:this.calendar,topicDay:this,popup:this.popup,date:this.day.date,mobileView:this.mobileView}))}var s=t("app/schedules"),o=s.schedules,d=t("models/step1_calendar/topicColor");TopicDay.prototype.todoStatusUpdated=function(e){var t=this.checkAllTodoStatus(e);null!==t&&this.calendar.updateTodoDayStatus(this.date,e,"checked"===t?1:0)},TopicDay.prototype.checkAllTodoStatus=function(e){var t=null;if(this.customSubtopicContainer){var a=this.customSubtopicContainer.checkAllTodoStatus(e);if("mixed"===a)return"unchecked";t=a}for(var s in this.subtopicContainers){var a=this.subtopicContainers[s].checkAllTodoStatus(e);if(null!==a){if(null!==t&&t!==a||"mixed"===a)return"unchecked";t=a}}return t},TopicDay.prototype.addCustomGoal=function(){var e=this;dialog("ui/dialogs/schedule-old/AddCustomDailyGoal",function(t,a,s){if(a){var d=t.getTodo();fs.post("addCustomDailyGoal2",{scheduleID:o.currentScheduleID(),date:e.date,todo:d},function(t){d.id=t.todoID,e.addCustomTodo(d,{group:"custom"}),s()})}},{date:this.date})},TopicDay.prototype.addCustomTodo=function(e,t){var a=this;this.customSubtopicContainer||(this.customSubtopicContainer=fs.mixAppend($(".subtopic-container",this.dom),"models/step1_calendar/Subtopic",{subtopic:{date:a.day,title:"Custom Goals",todos:[]},calendar:a.calendar,topicDay:this,popup:a.popup,date:this.day.date,mobileView:a.mobileView})),this.customSubtopicContainer.addToDo(e,t)},a.exports=TopicDay}),define("models.step1_calendar.TopicPopup",function(e,t,a){function TopicPopup(e,t){this.calendar=t.calendar,this.day=t.day,e(this),this.displayDay(this.day),$("body").addClass("modal-open")}var s=t("models/step1_calendar/scheduleLoader");TopicPopup.prototype.displayDay=function(e){fs.empty($(".topic",this.dom)),s.appendCurrentScheduleDays(this.dom,this.calendar,{start:e,stop:e,topicDayArgs:{popup:!0}})},TopicPopup.prototype.close=function(){$("body").removeClass("modal-open"),this.dom.remove()},a.exports=TopicPopup}),define("models.step1_calendar.TopicView",function(e,t,a){function TopicView(e,t){var a=this;this.calendar=t.calendar,this.firstDay=ko.observable(),this.isAnimating=!1,this.isLoading=ko.observable(!1),this.firstLoadDone=ko.observable(!1),this.lastLoadedWeekStart=null,this.lastLoadedWeekStop=null,this.lastLoadedDate=ko.observable(null),this.loadingMode=ko.observable("day"),e(this),$(".spin-loader",this.dom).append("<div class=\"center\">"+n+"</div>");var s=this.calendar.sidebarCalendar.currentDate.format("YYYY-MM-DD");moment(s).isBefore(moment(o.getCurrentSchedule().startDate),"day")?s=moment(o.getCurrentSchedule().startDate).format("YYYY-MM-DD"):moment(s).isAfter(moment(o.getCurrentSchedule().endDate),"day")&&(s=moment(o.getCurrentSchedule().endDate).format("YYYY-MM-DD")),this.firstDay(s),this.goToDate(s,function(){a.firstLoadDone(!0)});var d=s;$(".view-container.topic",this.parent.dom).scroll(function(){if(!a.isAnimating)for(var e=$(".topic-day"),t=0,s;t<e.length;t++)if(s=e[t],150>=$(s).offset().top&&150<$(s).height()+$(s).offset().top){d!==s.dataset.date&&(d=s.dataset.date,a.calendar.sidebarCalendar.updateSelectedDate(moment(s.dataset.date),!1));break}})}var s=t("app/schedules"),o=s.schedules,d=t("models/step1_calendar/scheduleLoader"),n=template("core/spinCircle");TopicView.prototype.loadNext=function(){~this.isAnimating&&!this.isLoading()&&(this.loadingMode("day"),this.goToDate(moment(this.lastLoadedDate()).add(1,"days")))},TopicView.prototype.loadNextWeek=function(){if(!this.isAnimating&&!this.isLoading()){var e;"day"===this.loadingMode()?e=this.lastLoadedDate():"week"===this.loadingMode()&&(e=this.lastLoadedWeekStop),this.loadingMode("week"),this.goToDate(moment(e).add(1,"days"))}},TopicView.prototype.render=function(e,t,a){var s=this;s.isLoading(!0),d.appendCurrentScheduleDays(this.dom,this.calendar,{start:e,stop:t},function(){s.isLoading(!1),a&&a()})},TopicView.prototype.dateSelectedCallbackHandler=function(){var e=this;return function(t){e.goToDate(t)}},TopicView.prototype.goToDate=function(e,t){var a=this;e=moment(e);var s=e.format("YYYY-MM-DD"),o=e.format("YYYY-MM-DD"),d=e.format("YYYY-MM-DD");if("week"===this.loadingMode())var o=e.startOf("week").format("YYYY-MM-DD"),d=e.endOf("week").format("YYYY-MM-DD");"day"===this.loadingMode()&&s===this.lastLoadedDate()||"week"===this.loadingMode()&&(o===this.lastLoadedWeekStart||d===this.lastLoadedWeekStop)?a.scrollToDate(s):(this.lastLoadedWeekStart=o,this.lastLoadedWeekStop=d,this.lastLoadedDate(s),this.render(o,d,function(){a.scrollToDate(s),t&&t()}))},TopicView.prototype.scrollToDate=function(e){var t=this;e=moment(e);var a=$(".view-container.topic",this.parent.dom),s=$(".topic-day[data-date=\""+e.format("YYYY-MM-DD")+"\"]",this.dom);s.length?(a.stop(),this.isAnimating=!0,a.animate({scrollTop:a.scrollTop()+s.offset().top-107},250,function(){t.isAnimating=!1})):a.scrollTop(0)},a.exports=TopicView}),define("models.step1_calendar.Week",function(e,t,a){a.exports=function Week(e,t){for(var a in this.calendar=t.calendar,this.days=t.week.days||Array(7),this.num=t.week.num||1,this.mode=t.mode||"MonthView",this.days)if(!this.days[a].otherMonth){this.fullDate=this.days[a].fullDate;break}for(var a in this.empty="WeekView"===this.mode&&!_.find(this.days,function(e){return!e.empty}),e(this),this.days)fs.mixAppend($(".days-container",this.dom),"models/step1_calendar/Day",{day:this.days[a],mode:this.mode,emptyWeek:this.empty,calendar:this.calendar})}}),define("models.step1_calendar.WeekView",function(e,t,a){function WeekView(e,t){var a=this;this.calendar=t.calendar,this.months=t.months,this.isAnimating=!1,this.lastDateLoaded=ko.observable(null),this.firstDateLoaded=ko.observable(null),this.lastMonthInSchedule=ko.computed(function(){var e=moment(this.lastDateLoaded()).date(moment(this.lastDateLoaded()).daysInMonth());return e.isAfter(moment(o.getCurrentSchedule().endDate),"day")||e.isSame(moment(o.getCurrentSchedule().endDate),"day")},this),this.firstMonthInSchedule=ko.computed(function(){var e=moment(this.firstDateLoaded()).date(1);return e.isBefore(moment(o.getCurrentSchedule().startDate),"day")||e.isSame(moment(o.getCurrentSchedule().startDate),"day")},this),this.loadedDates=[],this.loading=ko.observable(!1),this.previousLoading=ko.observable(!1),e(this),$(".spin-loader",this.dom).append("<div class=\"center\">"+n+"</div>");var s=this.calendar.sidebarCalendar.currentDate.format("YYYY-MM-DD");moment(s).isBefore(moment(o.getCurrentSchedule().startDate),"day")?s=moment(o.getCurrentSchedule().startDate).format("YYYY-MM-DD"):moment(s).isAfter(moment(o.getCurrentSchedule().endDate),"day")&&(s=moment(o.getCurrentSchedule().endDate).format("YYYY-MM-DD")),this.render(s,function(){a.scrollToDate(s)})}var s=t("app/schedules"),o=s.schedules,d=t("models/step1_calendar/scheduleLoader"),n=template("core/spinCircle");WeekView.prototype.previousLoadingClick=function(){this.loadPreviousMonth()},WeekView.prototype.nextLoadingClick=function(){this.loadNextMonth()},WeekView.prototype.render=function(e,t){var a=this;if(!this.loading()){if(this.lastMonthInSchedule()&&t)return void t();var s=!!_.find(a.loadedDates,function(t){return moment(t).isSame(moment(e),"month")});if(!s)a.loadedDates.push(e);else if(t)return void t();this.loading(!0),this.lastDateLoaded(e),null===this.firstDateLoaded()&&this.firstDateLoaded(this.lastDateLoaded()),d.appendCurrentScheduleMonth(this.dom,this.calendar,"WeekView",{date:e},function(){a.loading(!1),t&&t()})}},WeekView.prototype.renderBefore=function(e,t){var a=this;if(!this.previousLoading()){if(this.firstMonthInSchedule()&&t)return void t();var s=!!_.find(a.loadedDates,function(t){return moment(t).isSame(moment(e),"month")});if(!s)a.loadedDates.push(e);else if(t)return void t();this.previousLoading(!0),this.firstDateLoaded(e),d.appendCurrentScheduleMonth(this.dom,this.calendar,"WeekView",{date:e},function(){var e=$(".months-container .month",a.dom);$(e[e.length-1]).prependTo($(".months-container",a.dom)),a.previousLoading(!1),t&&t()})}},WeekView.prototype.dateSelectedCallbackHandler=function(){var e=this;return function(t){e.goToDate(moment(t).format("YYYY-MM-DD"))}},WeekView.prototype.loadPreviousMonth=function(e){this.firstMonthInSchedule()||this.renderBefore(moment(this.firstDateLoaded()).date(1).month(moment(this.firstDateLoaded()).month()-1).format("YYYY-MM-DD"),e)},WeekView.prototype.loadNextMonth=function(e){this.lastMonthInSchedule()||this.goToDate(moment(this.lastDateLoaded()).date(1).month(moment(this.lastDateLoaded()).month()+1).format("YYYY-MM-DD"),e,!1)},WeekView.prototype.endOfScheduleCTAClicked=function(){fs.mixAppend($("body"),"ui/dialogs/schedule-old/ScheduleSettings",{calendar:this.calendar,activeScheduleID:o.currentScheduleID()})},WeekView.prototype.goToDate=function(e,t,a){var s=this;a=!("undefined"!=typeof a)||a;var o=!!_.find(s.loadedDates,function(t){return moment(t).isSame(moment(e),"month")});if(o)return void s.scrollToDate(e);var d=moment(s.firstDateLoaded()).isAfter(moment(e)),n=moment(d?s.firstDateLoaded():s.lastDateLoaded()).date(1),l=Math.abs(12*moment(n).year()+moment(n).month()-(12*moment(e).year()+moment(e).month()));if(d){var c=function recursiveRenderBefore(e,o){s.renderBefore(e,function(){0<o?c(moment(e).subtract(1,"months").format("YYYY-MM-DD"),--o):(a&&s.scrollToDate(e),t&&t())})};c(n,l)}else{var p=function recursiveRender(e,o){s.render(e,function(){o<l?p(moment(e).add(1,"months").format("YYYY-MM-DD"),++o):(a&&s.scrollToDate(e),t&&t())})};p(n,0)}},WeekView.prototype.scrollToDate=function(e){var t=this;e=moment(e);var a=$(".view-container.week",this.parent.dom);if(this.firstMonthInSchedule()&&moment(this.firstDateLoaded()).isAfter(e,"month"))a.stop(),t.isAnimating=!0,a.animate({scrollTop:0},250,function(){t.isAnimating=!1});else if(this.lastMonthInSchedule()&&moment(this.lastDateLoaded()).isBefore(e,"month"))a.stop(),t.isAnimating=!0,a.animate({scrollTop:a[0].scrollHeight-a.height()},250,function(){t.isAnimating=!1});else{var s=$(".day[data-date=\""+e.format("YYYY-MM-DD")+"\"]",this.dom);s.length?(a.stop(),t.isAnimating=!0,a.animate({scrollTop:a.scrollTop()+s.offset().top-100},250,function(){t.isAnimating=!1})):a.scrollTop(0)}},a.exports=WeekView}),define("models.step1_calendar.modal.Feedback",function(e,t,a){a.exports=function Feedback(e,t){var a=this;this.modal=t.modal,this.userFeedback=ko.observable(""),this.title=ko.observable("OSMOSIS STUDY SCHEDULE"),this.ctas=ko.observableArray([{title:"Back",onClick:function onClick(){a.modal.changeScreen("Over")},enabled:ko.observable(!0),styles:ko.observable("back")},{title:"Set up next schedule",onClick:function onClick(){a.modal.changeScreen("Setup")},enabled:ko.computed(function(){return 0<a.userFeedback().length}),styles:ko.observable("")}]),e(this)}}),define("models.step1_calendar.modal.MobileApp",function(e,t,a){a.exports=function MobileApp(e){this.title=ko.observable("TAKE YOUR SCHEDULE ANYWHERE"),this.ctas=ko.observableArray([{title:"Send me the link",onClick:function onClick(){},enabled:ko.observable(!1),styles:ko.observable("")}]),e(this)}}),define("models.step1_calendar.modal.Over",function(e,t,a){function Over(e,t){this.modal=t.modal,this.title=ko.observable("OSMOSIS STUDY SCHEDULE"),this.ctas=ko.observableArray([]),e(this)}Over.prototype.nopeClicked=function(){this.modal.hideModal(),window.localStorage&&window.localStorage.setItem("scheduleOverModalLastSeen",moment().format("YYYY-MM-DD"))},Over.prototype.feedbackClicked=function(){this.modal.changeScreen("Feedback")},Over.prototype.setupClicked=function(){this.modal.confirmationDialog({title:"What happens to my completed schedule?",content:"Your completed schedule will be archived",yes:{title:"Archive, and set up new schedule",cb:function cb(){fs.post("archiveAllSchedules",{},function(){location.replace("/study")})}}})},a.exports=Over}),define("models.step1_calendar.modal.ScheduleModal",function(e,t,a){function ScheduleModal(e,t){this.screen=ko.observable(t.screen||"Over"),this.currentScreen=ko.observable({title:ko.observable(""),ctas:ko.observableArray([])}),this.modalTitle=ko.computed(function(){return this.currentScreen().title?this.currentScreen().title():"OSMOSIS STUDY SCHEDULE"},this),this.ctas=ko.computed(function(){return this.currentScreen().ctas?this.currentScreen().ctas():[]},this),this.modalVisible=ko.observable(!0),this.confirmationDialogModalVisible=ko.observable(!1),this.confirmationDialogOptions={title:ko.observable(""),content:ko.observable(""),theme:ko.observable(""),no:{title:ko.observable(""),cb:function cb(){}},yes:{title:ko.observable(""),cb:function cb(){}}},e(this),this.render(),this.changeScreen=this.changeScreen.bind(this),this.hideModal=this.hideModal.bind(this),this.showModal=this.showModal.bind(this),this.confirmationDialog=this.confirmationDialog.bind(this)}ScheduleModal.prototype.render=function(){fs.empty($(".schedule-modal-content-container",this.dom)),this.currentScreen(fs.mixAppend($(".schedule-modal-content-container",this.dom),"models/step1_calendar/modal/"+this.screen(),{modal:this}))},ScheduleModal.prototype.exitClicked=function(){this.hideModal()},ScheduleModal.prototype.changeScreen=function(e){this.screen(e),this.render()},ScheduleModal.prototype.confirmationDialog=function(e){this.confirmationDialogOptions.title(e.title?e.title:"Confirmation"),this.confirmationDialogOptions.content(e.content?e.content:""),this.confirmationDialogOptions.theme(e.theme?e.theme:"default"),e.no?(this.confirmationDialogOptions.no.title(e.no.title?e.no.title:"Cancel"),this.confirmationDialogOptions.no.cb=e.no.cb?e.no.cb:function(){}):(this.confirmationDialogOptions.no.title("Cancel"),this.confirmationDialogOptions.no.cb=function(){}),e.yes?(this.confirmationDialogOptions.yes.title(e.yes.title?e.yes.title:"Cancel"),this.confirmationDialogOptions.yes.cb=e.yes.cb?e.yes.cb:function(){}):(this.confirmationDialogOptions.yes.title("Cancel"),this.confirmationDialogOptions.yes.cb=function(){}),this.showConfirmationDialog()},ScheduleModal.prototype.getConfirmationDialogCTAClicked=function(e){var t=this;return function(){t.confirmationDialogOptions[e].cb(),t.hideConfirmationDialogModal()}},ScheduleModal.prototype.hideConfirmationDialogModal=function(){this.confirmationDialogModalVisible(!1)},ScheduleModal.prototype.showConfirmationDialog=function(){this.confirmationDialogModalVisible(!0)},ScheduleModal.prototype.hideModal=function(){this.modalVisible(!1)},ScheduleModal.prototype.showModal=function(){this.modalVisible(!0)},ScheduleModal.prototype.onClickCTAHandler=function(e){(e.enabled&&e.enabled()&&e.onClick||!e.enabled&&e.onClick)&&e.onClick()},a.exports=ScheduleModal}),define("models.step1_calendar.modal.Setup",function(e,t,a){a.exports=function Setup(e){this.title=ko.observable("CREATE YOUR STUDY SCHEDULE"),this.ctas=ko.observableArray([{title:"Next",onClick:function onClick(){},enabled:ko.observable(!0),styles:ko.observable("")}]),e(this),$(".setup-cta").mouseenter(function(e){$(".setup-cta").removeClass("active"),$(e.currentTarget).addClass("active")})}}),define("models.step1_calendar.scheduleLoader",function(e,t){function findTopic(e,t){for(var a in t=+moment(t),e)if(t>=+moment(e[a].b)&&t<=+moment(e[a].e))return a;return""}function getTopicLabel(e,t){for(var a in e)if(t==e[a].b)return a;return findTopic(e,t)}function createWeeks(e,t,a,s){for(var d=[],n=moment(t).startOf("month").startOf("week").subtract(1,"day"),l=moment(t).endOf("month").endOf("week"),c=moment().format("YYYY-MM-DD"),p=moment(t).format("M");0>=n.add(1,"days").diff(l);){var u=n.format("YYYY-MM-DD"),m={fullDate:u,date:n.format("D"),currentDay:u==c,borderWidth:"default",otherMonth:n.format("M")!=p,topic:getTopicLabel(a,u),color:o.get(findTopic(a,u)),calendar:e};s(m),0<d.length&&(!m.otherMonth&&d[d.length-1].otherMonth||d[d.length-1].empty||!n.day()?m.borderWidth="default":m.topic===d[d.length-1].topic&&(m.borderWidth="left")),d.push(m)}for(var v=[],b=d.length,h=0;h<b/7;h++)v.push({days:d.splice(0,7),num:+h+1});return{name:moment(t).format("MMMM"),weeks:v,year:moment(t).format("YYYY")}}function createSummary(e){if(!e)return null;var t=[];for(var a in d){var s=e[a];s&&t.push({count:s[0],checked:s[1],label:1==s[0]?d[a].single:d[a].plural,type:a})}return t}var a=t("app/schedules"),s=a.schedules,o=t("models/step1_calendar/topicColor");e.appendCurrentScheduleDays=function(e,t,a,o){a.scheduleIDs=[s.currentScheduleID()],fs.post("getStudyScheduleDays",a,function(d){d.schedules[0].success=d.success,d=d.schedules[0],fs.empty($(".topic",e));var n=_.map(_.groupBy(d.sections,"date"),function(e,t){return{date:t,sections:e}}),l=_.groupBy(fs.transpose(d.customData),"scheduledFor"),c=_.groupBy(fs.transpose(d.repeatData),"scheduledFor");for(var p in n.sort(function(e,t){return new Date(e.date)-new Date(t.date)}),n){var u={day:n[p],custom:l[n[p].date],repeat:c[n[p].date],calendar:t};for(var m in a.topicDayArgs)u[m]=a.topicDayArgs[m];fs.mixAppend($(".topic",e),"models/step1_calendar/TopicDay",u)}var v=s.getCurrentSchedule();for(var b in d.completed){var h=v.getTodoCheckbox("core",b);h(d.completed[b])}for(var b in d.completedNodes){var h=v.getNodeCheckbox(b);h(d.completedNodes[b])}t.loading(!1),o&&o()})},e.appendCurrentScheduleMonth=function(e,t,a,o,d){o.scheduleIDs=[s.currentScheduleID()],fs.post("WeekView"==a?"getStudyScheduleWeeks":"getStudyScheduleMonth",o,function(s){function populateSummaryData(e){var t=n[e.fullDate];t?(e.empty=!1,t.subtopics&&(e.subTopics=t.subtopics),e.summary=createSummary(t)):e.empty=!0}function populateTitleData(e){var t=n[e.fullDate];e.subTopics=t,e.empty=!t}if(s.schedules[0].success=s.success,s=s.schedules[0],"WeekView"==a)var n=_.indexBy(fs.transpose(s.dayData),function(e){return e.day});else n=s.dayData;fs.mixAppend($(".months-container",e),"models/step1_calendar/Month",{month:createWeeks(t,o.date,s.blockIndex,"WeekView"==a?populateSummaryData:populateTitleData),mode:a,calendar:t}),d&&d()})};var d={fa:{single:"Page in First Aid",plural:"Pages in First Aid"},osmosis:{single:"Osmosis Video",plural:"Osmosis Videos"},flashcards:{single:"Osmosis Flashcard",plural:"Osmosis Flashcards"},questions:{single:"Osmosis Question",plural:"Osmosis Questions"},picmonic:{single:"Picmonic",plural:"Picmonics"},sketchy:{single:"Sketchy",plural:"Sketchies"},pathoma:{single:"Pathoma Video",plural:"Pathoma Videos"},boardsAndBeyond:{single:"Boards and Beyond Video",plural:"Boards and Beyond Videos"},qbank:{single:"Question Bank",plural:"Question Bank"},uworld:{single:"UWorld Question",plural:"UWorld Questions"},pages:{single:"Page",plural:"Pages"},book:{single:"Page",plural:"Pages"},video:{single:"Video",plural:"Videos"}}}),define("models.step1_calendar.topicColor",function(e,t){var a=t("shared/topics"),s={"General Pathology":"purple",Pathology:"purple","Behavioral Science":"red",Pharmacology:"teal","General Pharmacology":"teal","Epidemiology/Biostatistics":"green","Crunch Time":"teal",Respiratory:"blue",Cardiovascular:"red",Reproductive:"red","Science of Learning":"blue"};e.get=function(e){return"General Pathology"!==e&&~e.indexOf(" Pathology")?e=e.replace(" Pathology",""):~e.indexOf(" Physiology")&&(e=e.replace(" Physiology","")),e?a.getTopicTheme(a.name2id[e])||s[e]:""}}),define("models.step1_calendar.wizard.scheduleDates",function(e,t,a){function giveScheduleFeedback(e,t,a){var s=moment(a.examDate).diff(a.startDate,"days"),o=moment(a.examDate).diff(a.startDate,"weeks");t("totalLen",s),8<=o?e("longSchedule",o):e("shortSchedule",o)}a.exports={step1Date:{prompt:"What is your Step 1 date?",type:"date",value:function value(e){return e.examDate},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("schedule","usmle-step1"),a("examDate",e),a("eExcluded",0),a("dExcluded",0),a("startDate",s.startDate||moment().format("YYYY-MM-DD")),s.isDedicated?t("take-day"):giveScheduleFeedback(t,a,s),$(document).trigger("step1-build")}),validate:function validate(e){return+moment(e)<+moment()?"Your step 1 date can't be in the past!":+moment(e)<+moment().add(21,"days")?"Your step 1 date needs to be at least 3 weeks from now!":void 0}},step1DateEstimate:{prompt:"When do you expect to take Step 1?",type:"prompt",options:["Sometime in the next 6 months","Sometime in the next 12 months","More than 12 months from now"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("schedule","usmle-step1"),a("startDate",s.startDate||moment().format("YYYY-MM-DD")),a("examDateEst",["<6mo","<12mo",">12mo"][e-1]),t("classStatus")})},startToday:{prompt:"Do you want to start reviewing <b>today</b> or start <b>later</b>?",options:["Start my schedule <b>today</b>","Start tomorrow or at a <b>later date</b>"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){1==e?(a("startDate",moment().format("YYYY-MM-DD")),giveScheduleFeedback(t,a,s)):t("startDate")})},startDate:{prompt:"When do you want to start studying?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("startDate",e),giveScheduleFeedback(t,a,s)}),validate:function validate(e,t){return 0>+moment(t.examDate).diff(e,"days")?"Your start date can't be after your step 1 date!":14>+moment(t.examDate).diff(e,"days")?"Your step 1 date needs to be at least 2 weeks from your start date!":void 0}},longSchedule:{display:function display(e,t){e.alert=e.alert(t)},alert:function alert(e){return"Great, you have <b>"+e+"</b> weeks until your exam date! We'll help you set up a long-term study schedule as well as a faster paced dedicated schedule for the last 4-6 weeks."},next:"classStatus"},shortSchedule:{display:function display(e,t){e.alert=e.alert(t)},alert:function alert(e){return"You have <b>"+e+"</b> weeks between now and your exam date. We'll help you set up a dedicated prep schedule so you can make the most of your time."},next:"classStatus"},classesEnd:{prompt:"When do <b>classes end</b> (i.e., when will you begin full-time dedicated Step 1 prep)?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("dDate",e),s.examDate?(a("dTotalLen",moment(s.examDate).diff(e,"days")),a("eTotalLen",s.totalLen-s.dTotalLen),60<s.eTotalLen?t("multiStudySchedule"):t("shortEarlySchedule")):t("multiStudySchedule")}),validate:function validate(e,t){return 0>+moment(e).diff(t.startDate,"days")?"Your dedicated start date can't be before your schedule start date.":t.examDate&&0>+moment(t.examDate).diff(e,"days")?"Your dedicated start date can't be after your step 1 date.":t.examDate&&14>+moment(t.examDate).diff(e,"days")?"Your step 1 date needs to be at least 2 weeks from your dedicated start date!":void 0}},dedicatedDate:{prompt:"When will you start studying for Step 1 full-time (we recommend at least 6 weeks of full-time prep)?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("dDate",e),a("dTotalLen",moment(s.examDate).diff(e,"days")),a("eTotalLen",s.totalLen-s.dTotalLen),t("feedbackStudyEarlyOnly")}),validate:function validate(e,t){if(0>+moment(e).diff(t.startDate,"days"))return"Your dedicated start date can't be before your schedule start date.";if(t.examDate){if(0>+moment(t.examDate).diff(e,"days"))return"Your dedicated start date can't be after your step 1 date.";if(14>+moment(t.examDate).diff(e,"days"))return"Your step 1 date needs to be at least 2 weeks from your dedicated start date!"}}},classExamDate:{prompt:"What is the date of your next <b>class exam</b>?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("nextClassExamDate",e),a("eExcluded",0),a("dExcluded",0),t("classExamSubject")}),validate:function validate(e){if(+moment(e)<+moment())return"Your next exam can't be in the past!"}}}}),define("models.study.ActionItem",function(e,t,a){function ActionItem(e,t){this.event=t.event,this.dashboard=t.dashboard,this.action=ko.observable(t.action),this.actionFn=t.actionFn}ActionItem.prototype.learn=function(e){return function(){"priming"==e?fs.alert("Seeing something before diving into it primes your brain to remember it when it's shown again. This is known as the \"Priming Effect\" and you can use it speed up how quickly you can absorb and retain the lecture material. Osmosis selects facts that are high-yield for boards based on whether it thinks they are relevant to your document.","Priming Effect","info"):"quick-consolidation"==e?fs.alert("What you learned may still be floating in short term memory. Assuming about 30 minutes to an hour has passed since you did the quick facts, you need to consolidate those facts in long-term memory by challenging your brain to a quiz.","Quick Fact Memory Consolidation","info"):"fc-consolidation"==e?fs.alert("This is important for the same reason you consolidate the quick facts. The main difference is that it fills in any gaps in what you need to know for boards and what you need to know for your school exam.","Crowdsourced Flashcard Consolidation","info"):"practice"==e&&fs.alert("If your classmates have written practice questions, they'll be available here. You can answer them now, wait until later and Osmosis will interleave the questions into a single review, or you can do both. Interleaved practice has been shown to increase memory retention more than blocked topic-by-topic practice.","Crowdsourced Questions","info")}},ActionItem.prototype.trigger=function(e){var t=this;return function(){t.actionFn(e)}},a.exports=ActionItem}),define("models.study.CourseEventTitle",function(e,t,a){function CourseEventTitle(e,t){var a=this;this.event=t.model,this.dashboard=t.dashboard,this.formattedDate=ko.computed(function(){var e=moment(a.event.begin()),t=e.format("D"),o=e.tz(s.timezone()).format("h:mma");return e.format("dddd")+",&nbsp;"+e.format("MMMM")+"&nbsp;"+t+"<sup>"+ordinalSuffix(t,!0)+"</sup>&nbsp;@&nbsp;"+o})}var s=t("app/timezone");CourseEventTitle.prototype.trigger=function(e){var t=this;return function(){e.call(t.dashboard)}},a.exports=CourseEventTitle}),define("models.study.MaxEfficiency",function(e,t,a){function MaxEfficiency(e,t){var a=this;this.event=t.model,this.userAlreadySignedUp=ko.computed(function(){var e=a.event.signUps();for(var t in e)if(e[t]==userID)return!0;return!1})}MaxEfficiency.prototype.learn=function(e){return function(){"pair-studying"==e?fs.alert("This concept derives from pair programming in software engineering. <ul><li>Pick a friend who you would trust to take notes for you.</li><li>Both of you will review all lectures, but each one will alternate making flashcards so that one writes flashcards and the other critiques them with comments if necessary.</li><li>Use the \"sign up\" feature to keep track of who is signed up for what lecture. A good way to do this is at the beginning of the week, you can simply sign up for every other lecture and your partner can do the same.</li><li>Limit your team to 2 so that you can hold each other accountable.</li><li>Although you'll always be a team of 2, find other pairs to collaborate with so that you don't have to sign up for all lectures (i.e., your pair could sign up for Mon and another could do Tue. Ideally you'd have 10 people with one pair for each day of the week.)</li><li>Even if you're not signed up, feel free to make flashcards, but also try to engage in other study modalities (like exploring content or watching youtube videos that Osmosis recommends).</li>","Pair Studying","info"):"question-writing"==e?fs.alert("Writing your own question is the single most powerful way to learn and retain a concept. By taking time to think through a topic and consult a resource like <a href=\"http://reference.medscape.com/\" target=\"_blank\">Medscape</a> or <a href=\"http://www.uptodate.com/home\" target=\"_blank\">UpToDate</a>, you can create a high quality question that challenges you to really understand the concept and any related concepts. Here are the hallmarks of good question writing: <ul><li><b>Use pair studying.</b> You definitely can't write questions for every topic, but with <b>pair studying</b> you can cover a lot of ground.</li><li><b>Write good distractors.</b> Just like good villians make good movies, good incorrect choice distractors make good questions.<ul><li><b>Class-based distractors.</b> Good distractors will always come from the same class as the correct answer (i.e., drugs are distractors for drugs and diseases are distractors for diseases).</li><li><b>Similar distractors.</b> Good distractors should also include similarities with each other (shared symptoms, properties). For example, dermatomyositis, polymyositis, and juvenile idiopathic arthritisis are all good distractors for each other b/c 2 involve rashes and 2 involve muscle weakness.</li></ul></li><li><b>Take your time.</b> You'll have extra time if 4-5 study pairs are covering all the material. Use it to drill down on specific concepts. When others do the same, you'll benefit from the high quality questions created by the group.</li></ul>","Question Writing","info"):"push-notifications"==e&&fs.alert("<ul><li><b>Spaced Repetition</b> is the practice of refreshing factual knowledge at increasingly spaced intervals. It's difficult to know when you should repeat an item, so Osmosis calculates this and does the scheduling for you. And this leads us to push notifications...</li><li><b>Push notifications</b> let the Osmosis mobile app try to catch you when you have some free time (e.g., standing in line at lunch or waiting for the bus). If you consistently respond to push you'll cover 60% more material than if you wait and try to do it on your own.</li></ul>","Spaced Repetition and Push Notifications","info")}},MaxEfficiency.prototype.signUpForEvent=function(){this.event.signup()},a.exports=MaxEfficiency}),define("models.study_calendar.MultiScheduleDay",function(e,t,a){function MultiScheduleDay(e,t){var a=this;for(var g in this.calendar=t.calendar||{},this.date=moment(t.date),o.sectionIndex)o.sectionIndex[g][this.date.format("YYYY-MM-DD")]||(o.sectionIndex[g][this.date.format("YYYY-MM-DD")]=ko.observableArray([]));this.group=t.group||"core",this.isToday="undefined"==typeof t.isToday?this.date.isSame(moment(),"day"):t.isToday,this.inPast=this.date.isBefore(moment(),"day"),this.dueDate=moment(this.date).diff(moment(),"days"),this.outsideMonth=t.outsideMonth||!1,this.currentScheduleID="undefined"==typeof t.scheduleID?o.currentScheduleID:"function"==typeof t.scheduleID?t.scheduleID:ko.observable(t.scheduleID),this.day=t.day||[],this.tabletQuery=u.ObservableTablet;this.baseTodos=ko.observableArray(_.flatten(_.map(this.day,function(e){return _.map(e.day.sections,function(e){return e.todos})}))),this.filteredTodos=ko.computed(function(){return _.filter(a.baseTodos(),function(e){return-1===a.currentScheduleID()||e.scheduleID===a.currentScheduleID()})});var s=[],c=!0,p=!1,m=void 0;try{for(var v=function _loop4(){var e=h.value;if(e.day.topic){var t=_.findIndex(s,function(t){return t.name===e.day.topic});if(~t){var a=s[t].scheduleIDs.indexOf(e.scheduleID);~a||s[t].scheduleIDs.push(e.scheduleID)}else s.push({name:e.day.topic,scheduleIDs:[e.scheduleID],subtopics:[]})}},b=this.day[Symbol.iterator](),h;!(c=(h=b.next()).done);c=!0)v()}catch(e){p=!0,m=e}finally{try{c||null==b.return||b.return()}finally{if(p)throw m}}for(var f in this.sectionIndex={},o.sectionIndex)this.sectionIndex[f]=o.sectionIndex[f][moment(this.date).format("YYYY-MM-DD")];this.topics=ko.computed(function(){var e=o.currentScheduleID(),t=s.filter(function(t){return t.scheduleIDs.includes(e)||-1===e}).map(function(e){return _objectSpread({},e,{subtopics:[]})});for(var w in a.sectionIndex){var S=a.sectionIndex[w]();if(Array.isArray(S)){var d=!0,n=!1,l=void 0;try{for(var c=function _loop2(){var e=u.value,a=!0,s=!1,o=void 0;try{for(var d=t[Symbol.iterator](),n,l;!(a=(n=d.next()).done);a=!0)if(l=n.value,~l.scheduleIDs.indexOf(0|w)){var c=_.findIndex(l.subtopics,function(t){return t.title===e.title});~c?(l.subtopics[c].scheduleIDs.push(0|w),l.subtopics[c].sectionIDs.push(e.id)):l.subtopics.push({sectionIDs:[e.id],scheduleIDs:[0|w],title:e.title})}}catch(e){s=!0,o=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw o}}},p=S[Symbol.iterator](),u;!(d=(u=p.next()).done);d=!0)c()}catch(e){n=!0,l=e}finally{try{d||null==p.return||p.return()}finally{if(n)throw l}}}}var m=!0,v=!1,b=void 0;try{for(var h=function _loop3(){var e=f.value;e.forceSize=ko.computed(function(){return MultiScheduleDay.isDragging()&&MultiScheduleDay.draggingTopic()===e.name&&-1!==_.findIndex(e.scheduleIDs,function(e){return~MultiScheduleDay.validScheduleIDs().indexOf(e)})})},g=t[Symbol.iterator](),f;!(m=(f=g.next()).done);m=!0)h()}catch(e){v=!0,b=e}finally{try{m||null==g.return||g.return()}finally{if(v)throw b}}return t}),this.topics.subscribe(function(){a.topicsTimeout&&clearTimeout(a.topicsTimeout),a.topicsTimeout=setTimeout(function(){a.reinstateDraggables()},100)}),this.canDropTopic=ko.computed(function(){return!!_.find(a.topics(),function(e){return e.forceSize()})}),this.expandedTopic=ko.observable(-1),this.withinBounds=ko.computed(function(){var e,t;if(-1===a.currentScheduleID()){var s=!0,d=!1,n=void 0;try{for(var c=a.day[Symbol.iterator](),p;!(s=(p=c.next()).done);s=!0){var u=p.value,m=o.getSchedule(u.scheduleID);("undefined"==typeof e||moment(m.startDate).isBefore(e))&&(e=moment(m.startDate)),("undefined"==typeof t||moment(m.endDate).isAfter(t))&&(t=moment(m.endDate))}}catch(e){d=!0,n=e}finally{try{s||null==c.return||c.return()}finally{if(d)throw n}}}else{var q=o.getSchedule(a.currentScheduleID());e=moment(q.startDate),t=moment(q.endDate)}var v=l.todoFilters.dueDate();if(l.todoFilters.active()){var b=!0,h=!1,g=void 0;try{for(var f=v[Symbol.iterator](),w,S;!(b=(w=f.next()).done);b=!0)if(S=w.value,!(0>S)){if(0>a.dueDate)return!1;if(a.dueDate>S)return!1}else if(0<=a.dueDate)return!1}catch(e){h=!0,g=e}finally{try{b||null==f.return||f.return()}finally{if(h)throw g}}}return(a.date.isSame(e,"day")||a.date.isAfter(e,"day"))&&(a.date.isSame(t,"day")||a.date.isBefore(t,"day"))}),this.completedMessage=n.getInfoByDate(this.date).title,this.hasExam=ko.computed(function(){return!!_.find(a.filteredTodos(),function(e){return"exam"===e.type})}),this.examComplete=ko.observable(!0),this.todoCounts=ko.computed(this.getTodoCounts.bind(this)),this.totalCount=ko.computed(function(){return _.reduce(a.todoCounts(),function(e,t){return e+t.count},0)}),this.isFreeDay="undefined"==typeof t.isFreeDay?ko.computed(function(){return!_.find(a.topics(),function(e){return e.subtopics.length})}):ko.observable(t.isFreeDay),this.freeDayInfo=d.getInfoByDate(this.date),this.complete=ko.computed(function(){if(_.isEqual(l.todoFilters.state(),[1]))return!1;var e=!0,t=!1,s=void 0;try{for(var o=a.todoCounts()[Symbol.iterator](),d,n;!(e=(d=o.next()).done);e=!0)if(n=d.value,!n.complete())return!1}catch(e){t=!0,s=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw s}}return!0}),e(this),this.setupDraggables()}var s=t("app/schedules"),o=s.schedules,d=s.freeDayInfo,n=s.completedDayInfo,l=s.filterSortTodos,c=t("models/study_calendar/TodoController"),p={todo:t("models/study_calendar/todos/Todo")};for(var b in c.prototype.todoComponents)p[b]=t("models/study_calendar/todos/"+c.prototype.todoComponents[b]);var u=t("ui/MediaQueryList"),m=t("ui/Snackbar");MultiScheduleDay.sortableContainers=ko.observableArray([]),MultiScheduleDay.sortable=null,MultiScheduleDay.isDragging=ko.observable(!1),MultiScheduleDay.validScheduleIDs=ko.observableArray([]),MultiScheduleDay.draggingTopic=ko.observable(),MultiScheduleDay.prototype.reinstateDraggables=function(){if(this.sortableContainers){var e=!0,t=!1,a=void 0;try{for(var s=this.sortableContainers[Symbol.iterator](),o,d;!(e=(o=s.next()).done);e=!0)d=o.value,MultiScheduleDay.sortable.removeContainer(d),MultiScheduleDay.sortableContainers.remove(d)}catch(e){t=!0,a=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}}this.addSortableContainers()},MultiScheduleDay.prototype.addSortableContainers=function(){var e;this.sortableContainers=$(".topic",this.dom[0]).toArray(),(e=MultiScheduleDay.sortableContainers).push.apply(e,_toConsumableArray2(this.sortableContainers))},MultiScheduleDay.prototype.setupDraggables=function(){var e=this;if(this.addSortableContainers(),!MultiScheduleDay.sortable){var t=document.getElementById("draggable-subtopic-mirror-container");if(!t){var a=document.createElement("div");a.setAttribute("id","draggable-subtopic-mirror-container"),a.setAttribute("style","position: relative; z-index: 9999; min-height: 0px; height: 0px; padding: 0px;"),a.setAttribute("class","models-study_calendar-MultiScheduleDay"),t=document.body.appendChild(a)}MultiScheduleDay.sortable=new Draggable.Sortable(MultiScheduleDay.sortableContainers(),{draggable:".subtopic-name-wrapper",mirror:{constrainDimensions:!0,appendTo:t},appendTo:t});var s=MultiScheduleDay.sortableContainers().length;MultiScheduleDay.sortableContainers.subscribe(function(e){for(var t=s;t<e.length;t++)MultiScheduleDay.sortable.addContainer(e[t]);s=e.length}),MultiScheduleDay.sortable.on("drag:start",function(e){var t=ko.contextFor(e.originalSource);MultiScheduleDay.isDragging(!0),MultiScheduleDay.draggingTopic(t.$parent.name),MultiScheduleDay.validScheduleIDs(t.$parent.scheduleIDs)}),MultiScheduleDay.sortable.on("sortable:sort",function(e){var t=ko.contextFor(e.dragEvent.originalSource),a=ko.contextFor(e.dragEvent.overContainer);MultiScheduleDay.draggingTopic()!==a.$data.name||-1===_.findIndex(a.$data.scheduleIDs,function(e){return~t.$data.scheduleIDs.indexOf(e)})?(MultiScheduleDay.isDragging(!1),e.cancel()):!$(e.dragEvent.overContainer).hasClass("expanded")&&a.$parent.expandTopic(a.$index())()}),MultiScheduleDay.sortable.on("sortable:stop",function(t){var a=ko.contextFor(t.dragEvent.originalSource),s=ko.contextFor(t.oldContainer),o=ko.contextFor(t.newContainer);s!==o&&function(){var d=_.filter(s.$parent.getTodosByTopicAndSub(MultiScheduleDay.draggingTopic(),a.$data.title),function(e){return!e.moved&&~a.$data.scheduleIDs.indexOf(e.scheduleID)}),n=a.$data.scheduleIDs,l=a.$data.sectionIDs,c=moment(s.$parent.date).format("YYYY-MM-DD"),p=moment(o.$parent.date).format("YYYY-MM-DD");fs.post("moveScheduleSubtopic",{scheduleIDs:n,sectionIDs:l,oldDate:c,newDate:p},function(){e.trackMove(c,p,a.$data.title)});var u=!0,v=!1,b=void 0;try{for(var h=function _loop5(){var e=f.value;setTimeout(function(){document.dispatchEvent(new CustomEvent("schedule:todo-moved",{detail:{todoVM:{todo:_objectSpread({},e,{date:moment(o.date).format("YYYY-MM-DD")})},id:e.id,group:e.group,oldScheduleID:e.scheduleID,newScheduleID:e.scheduleID,oldDate:c,newDate:p,newIndex:0}}))},0)},g=d[Symbol.iterator](),f;!(u=(f=g.next()).done);u=!0)h()}catch(e){v=!0,b=e}finally{try{u||null==g.return||g.return()}finally{if(v)throw b}}setTimeout(function(){var d=MultiScheduleDay.draggingTopic();e.moveSubtopic(a,s,o),m.show({type:"task-moved-topic",grouped:!0,text:"Moved ".concat(a.$parent.name," - ").concat(a.$data.title),actions:[{name:"Undo",action:function action(l){e.undoDragAndDrop(t,a,s,o,d,n),l.remove()}}]})},0)}(),MultiScheduleDay.isDragging(!1)})}document.addEventListener("schedule:todo-moved",function(t){var a=t.detail;if(a.oldDate===moment(e.date).format("YYYY-MM-DD"))for(var s=0,o;s<e.baseTodos().length;s++)o=e.baseTodos()[s],o.id===a.id&&o.group===a.group&&(e.baseTodos.splice(s,1),s--);else a.newDate===moment(e.date).format("YYYY-MM-DD")&&e.baseTodos.push(a.todoVM.todo)})},MultiScheduleDay.prototype.trackMove=function(e,t,a){var s={action:"drag",type:"topic",topic:a,daysMoved:Math.abs(moment(e).diff(moment(t),"days"))};eventTracker.track("schedule_engagement",s,["mixpanel"])},MultiScheduleDay.prototype.undoDragAndDrop=function(e,t,a,s,o,d){var n=this;a!==s&&function(){var e=_.filter(s.$parent.getTodosByTopicAndSub(o,t.$data.title),function(e){return!e.moved&&~d.indexOf(e.scheduleID)}),l=moment(s.$parent.date).format("YYYY-MM-DD"),c=moment(a.$parent.date).format("YYYY-MM-DD");fs.post("moveScheduleSubtopic",{scheduleIDs:d,sectionIDs:t.$data.sectionIDs,oldDate:l,newDate:c});var p=!0,u=!1,m=void 0;try{for(var v=function _loop6(){var e=h.value;setTimeout(function(){document.dispatchEvent(new CustomEvent("schedule:todo-moved",{detail:{todoVM:{todo:_objectSpread({},e,{date:moment(a.date).format("YYYY-MM-DD")})},id:e.id,group:e.group,oldScheduleID:e.scheduleID,newScheduleID:e.scheduleID,oldDate:l,newDate:c,newIndex:0}}))},0)},b=e[Symbol.iterator](),h;!(p=(h=b.next()).done);p=!0)v()}catch(e){u=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(u)throw m}}n.moveSubtopic(t,s,a)}()},MultiScheduleDay.prototype.moveSubtopic=function(e,t,a){for(var s=function _loop7(s){var d=e.$data.scheduleIDs[s],n=e.$data.sectionIDs[s],l=null,c=o.sectionIndex[d][moment(t.$parent.date).format("YYYY-MM-DD")],p=c(),u=_.findIndex(p,function(e){return e.id===n});~u&&(l=p.splice(u,1)[0],c(p)),l&&(c=o.sectionIndex[d][moment(a.$parent.date).format("YYYY-MM-DD")],p=c(),u=_.findIndex(p,function(e){return e.id===l.id}),!~u&&(p.push(l),c(p)))},d=0;d<e.$data.scheduleIDs.length;d++)s(d)};var v=MultiScheduleDay.prototype.getTopicClass=function(e){return"".concat(e.replace(/\/|\s/g,"-"))};MultiScheduleDay.prototype.getTopicColor=function(e){return"topic-color-".concat(v(e))},MultiScheduleDay.prototype.getTopicBGColor=function(e){return"topic-bg-color-".concat(v(e))},MultiScheduleDay.prototype.getTopicBorderColor=function(e){return"topic-border-color-".concat(v(e))},MultiScheduleDay.prototype.openTopicSettings=function(){var e=this;return function(t){var a=urlQuery.settings;urlQuery.settings="topics",t&&t.name&&(urlQuery.scrollToTopic=t.name),e.calendar&&e.calendar.openScheduleSettings&&e.calendar.openScheduleSettings()(),urlQuery.settings=a,delete urlQuery.scrollToTopic}},MultiScheduleDay.prototype.getTodosByTopicAndSub=function(e,t){return _.filter(this.baseTodos(),function(a){return a.topic===e&&(a.sub===t||a.title===t)})},MultiScheduleDay.prototype.getTodoCounts=function(){for(var e={uworld:{countStr:"&nbsp;UWorld question${s}"},custom:{countStr:"&nbsp;Custom goal item${s}"},video:{countStr:"&nbsp;video${s}"},flashcards:{countStr:"&nbsp;flashcard${s}"},questions:{countStr:"&nbsp;question${s}"},picmonic:{countStr:"&nbsp;Picmonic${s}"},sketchy:{countStr:"&nbsp;Sketch${ys}"}},t=15;19>=t;t++)e["fa".concat(t)]={countStr:"&nbsp;page${s} in First Aid"};var a=l.todoFilters.type();for(var h in e){if(l.todoFilters.active()&&0<a.length){var g=0===h.indexOf("fa")?"fa":"osmosis"==h?"video":h;if(!~a.indexOf(g)){delete e[h];continue}}e[h]=_objectSpread({count:0,complete:ko.observable(!0),saving:!1,todos:[],completionPercent:ko.observable(0),type:h},e[h])}this.examComplete(!0);var s=l.todoFilters.state(),o=l.todoFilters.topic(),d=!0,n=!1,c=void 0;try{for(var u=this.filteredTodos()[Symbol.iterator](),m,v;!(d=(m=u.next()).done);d=!0)if((v=m.value,-1===this.currentScheduleID()||v.scheduleID===this.currentScheduleID())&&3!=v.state()){var b=v.type;if("qbank"===b?(b="custom",0===v.title.indexOf("UWorld")&&(b="uworld")):"osmosis"===b||"pathoma"===b||"boardsAndBeyond"===b?b="video":"book"===b||"pages"===b?b="custom":void 0,!e.hasOwnProperty(b)){"exam"===b&&1!==v.state()&&4!==v.state()&&this.examComplete(!1);continue}if(l.todoFilters.active()){if(0<s.length&&!~s.indexOf(v.state()))continue;if(0<o.length&&!~o.indexOf(v.topic))continue}1===v.state()?e[b].completionPercent(e[b].completionPercent()+1):e[b].complete(!1),p.hasOwnProperty(v.type)&&p[v.type].prototype.hasOwnProperty("getCount")&&(e[b].count+=p[v.type].prototype.getCount.call(v)),e[b].todos.push(v)}}catch(e){n=!0,c=e}finally{try{d||null==u.return||u.return()}finally{if(n)throw c}}for(var f in e)0===e[f].completionPercent()||0===e[f].todos.length?e[f].completionPercent(0):e[f].completionPercent(e[f].completionPercent()/e[f].todos.length);return this.sortTodoCounts(Object.keys(e).map(function(t){return e[t]}))},MultiScheduleDay.prototype.sortTodoCounts=function(e){switch(l.todoSort.by()){case"resource":var t=_.map(l.todoSort.options(),function(e){return e.toLowerCase()});return _.sortBy(e,function(e){return t.indexOf(0===e.type.indexOf("fa")?"fa":e.type)});case"progressDec":return _.sortBy(e,function(e){return-e.completionPercent()});case"progressAsc":return _.sortBy(e,function(e){return+e.completionPercent()});default:return e;}},MultiScheduleDay.prototype.checkBoxClicked=function(){var e=this;return function(t){if(t.todos.length&&!t.saving){t.saving=!0,t.complete()||m.show({type:"task-state-check",grouped:!0,text:"Marked ".concat(t.todos.length," items as complete."),actions:[{name:"Undo",action:function action(){e.checkBoxClicked()(t)}}]}),t.complete(!t.complete());var a=!0,s=!1,o=void 0;try{for(var d=t.todos[Symbol.iterator](),n,l;!(a=(n=d.next()).done);a=!0)l=n.value,l.state(0|t.complete()),"repeat"===l.group&&fs.post("setScheduleRepeatToDoState",{scheduleID:l.scheduleID,state:0|t.complete(),repeatTodoID:l.id,count:l.count,taskID:l.taskID,date:l.date},function(){})}catch(e){s=!0,o=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw o}}fs.post("setMultiTodoStates",{scheduleIDs:_.map(t.todos,function(e){return e.scheduleID}),todoIDs:_.map(t.todos,function(e){return e.id}),state:0|t.complete(),scheduledFor:moment(e.date).format("YYYY-MM-DD")},function(){t.saving=!1})}}},MultiScheduleDay.prototype.parseCountStr=function(e){return e.countStr.replace(/\$\{s\}/g,1===e.count?"":"s").replace(/\$\{ys\}/g,1===e.count?"y":"ies")},MultiScheduleDay.prototype.expandTopic=function(e){var t=this;return function(){t.expandedTopic()===e?t.expandedTopic(-1):t.expandedTopic(e)}},MultiScheduleDay.prototype.goToDayView=function(){this.calendar.setView&&this.calendar.date&&(this.calendar.date(this.date),this.calendar.setView("day"))},MultiScheduleDay.prototype.openDayView=function(){fs.mixAppend(this.dom,"ui/modals/schedule/DayViewModal",{date:this.date,calendar:this.calendar})},MultiScheduleDay.prototype.onBeforeUnmix=function(){this.withinBounds.dispose(),this.topics.dispose(),this.filteredTodos.dispose(),this.hasExam.dispose(),this.todoCounts.dispose(),this.totalCount.dispose(),this.complete.dispose()},a.exports=MultiScheduleDay}),define("models.study_calendar.ScheduleDay",function(e,t,a){var s=Math.abs;function ScheduleDay(e,t){var a=this;for(var s in this.scheduleID=t.scheduleID,this.schedule=d.getSchedule(this.scheduleID),this.todosAnimatedTimeouts=[],this.loading=ko.observable(!0),this.calendar=t.calendar||{},this.inModal=t.inModal,this.dayView=t.dayView,this.size="function"==typeof t.size?t.size:ko.observable(t.size||"list"),this.visible=ko.observable("undefined"==typeof t.visible||t.visible),this.completedItemsVisible=ko.observable(!0),this.savedForLaterItemsVisible=ko.observable(!1),n.todoFilters.state.subscribe(function(e){~e.indexOf(2)&&a.savedForLaterItemsVisible(!0),~e.indexOf(1)&&a.completedItemsVisible(!0)}),this.day=t.day,this.date=moment(t.date||this.day.date),this.todos=ko.observableArray([]),this.todosLocCount={},this.todoDOMLocations)this.todosLocCount[s]=ko.observable(0);this.isFreeDay=ko.computed(function(){return!a.loading()&&!a.todos().length}),this.freeDayInfo=ko.computed(function(){return{title:"Nothing scheduled for today"}}),this.isCompletedDay=ko.computed(function(){return!(a.loading()||a.isFreeDay())&&"undefined"==typeof _.find(a.todos(),function(e){return 1!==e.state()&&3!==e.state()})}),this.completedDayInfo=c.getInfoByDate(this.date,this.scheduleID),this.progress=ko.computed(function(){if(!a.todos().length)return 1;var e=0,t=0,s=!0,o=!1,d=void 0;try{for(var n=a.todos()[Symbol.iterator](),l,c;!(s=(l=n.next()).done);s=!0)(c=l.value,"function"==typeof c.progress)&&(e+=c.progress(),t++)}catch(e){o=!0,d=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw d}}return e/t}),this.withinBounds=ko.computed(function(){var e=moment(a.schedule.startDate),t=moment(a.schedule.endDate);return(a.date.isSame(e,"day")||a.date.isAfter(e,"day"))&&(a.date.isSame(t,"day")||a.date.isBefore(t,"day"))}),this.isDragging=ScheduleDay.isDragging,this.draggingSchID=ScheduleDay.draggingSchID,this.css=ko.computed(function(){return a.size()}),e(this),window.requestAnimationFrame(function(){a.parseSections(),a.renderTodos(),n.todoSort.by.subscribe(a.sortTodos.bind(a)),n.todoSort.options.subscribe(function(){"resource"===n.todoSort.by()&&a.sortTodos()}),a.setupDraggables(),a.loading(!1)})}var o=t("app/schedules"),d=o.schedules,n=o.filterSortTodos,l=o.freeDayInfo,c=o.completedDayInfo,p=t("ui/Snackbar");ScheduleDay.sortableContainers=ko.observableArray([]),ScheduleDay.sortable=null,ScheduleDay.isDragging=ko.observable(!1),ScheduleDay.draggingSchID=ko.observable(-1),ScheduleDay.prototype.setupDraggables=function(){var e=this;if(!(this.todos().length&&"exam"===this.todos()[0].type)){if(ScheduleDay.sortableContainers.push($(".todos-container",this.dom[0])[0]),!ScheduleDay.sortable){var t=document.getElementById("draggable-mirror-container");if(!t){var a=document.createElement("div");a.setAttribute("id","draggable-mirror-container"),a.setAttribute("style","position: relative; z-index: 9999;"),t=document.body.appendChild(a)}ScheduleDay.sortable=new Draggable.Sortable(ScheduleDay.sortableContainers(),{draggable:".models-study_calendar-TodoController",delay:0,touchDelay:150,minimumDistance:7,mirror:{constrainDimensions:!0,appendTo:t},sensors:[Draggable.Sensors.MouseDistanceSensor,Draggable.Sensors.TouchDelaySensor],appendTo:t}).removeSensor(Draggable.Sensors.MouseSensor,Draggable.Sensors.TouchSensor);var s=ScheduleDay.sortableContainers().length;ScheduleDay.sortableContainers.subscribe(function(e){for(var t=s;t<e.length;t++)ScheduleDay.sortable.addContainer(e[t]);s=e.length}),ScheduleDay.sortable.on("drag:start",function(e){var t=ko.dataFor(e.originalSource);"repeat"===t.group||"exam"===t.type?e.cancel():(ScheduleDay.isDragging(!0),ScheduleDay.draggingSchID(t.scheduleID))}),ScheduleDay.sortable.on("sortable:sort",function(e){var t=ko.dataFor(e.dragEvent.originalSource),a=ko.dataFor(e.dragEvent.overContainer);t.scheduleID!=a.scheduleID&&e.cancel()}),ScheduleDay.sortable.on("sortable:stop",this.sortableStop.bind(this))}document.addEventListener("schedule:todo-moved",function(t){var a=t.detail;console.log("TODO MOVED"),a.oldScheduleID===e.scheduleID&&a.oldDate===moment(e.date).format("YYYY-MM-DD")?(e.removeTodoByDetail(a),e.renderTodos()):a.newScheduleID===e.scheduleID&&a.newDate===moment(e.date).format("YYYY-MM-DD")&&(e.todos.splice(a.newIndex,0,a.todoVM.todo),e.renderTodos())})}},ScheduleDay.prototype.sortableStop=function(e){var t=this;ScheduleDay.isDragging(!1);var a="sort",s=ko.dataFor(e.dragEvent.originalSource),o=ko.dataFor(e.oldContainer),n=ko.dataFor(e.newContainer);if(o.scheduleID!=n.scheduleID)return e.cancel();var l={group:s.todo.group,id:s.todo.id},c=_.map(n.todos(),function(e){return{group:e.todo.group,id:e.todo.id}});c.splice(e.oldIndex,1),c.splice(e.newIndex,0,l),c=_.filter(c,function(e){return e.id}),n.updateTitleBanners(),n!=o&&(o.updateTitleBanners(),a="move"),this.updateTitleBanners(),"exam"!==s.type&&fs.post("moveScheduleTodo",{scheduleID:n.scheduleID,scheduleFor:n.day.date,todo:l,moveType:a,todos:c},function(){t.trackMove(o,n)}),o!==n&&(s.todo=_objectSpread({},s.todo,{scheduleID:n.scheduleID,date:moment(n.date).format("YYYY-MM-DD"),state:"undefined"==typeof s.todo.score?s.todo.state?d.getSchedule(n.scheduleID).getTodoCheckbox(s.group,s.todo.id):ko.observable(null):ko.observable(s.todo.score?1:0)}),setTimeout(function(){document.dispatchEvent(new CustomEvent("schedule:todo-moved",{detail:{todoVM:s,id:s.todo.id,group:s.group,oldScheduleID:o.scheduleID,newScheduleID:n.scheduleID,oldDate:moment(o.date).format("YYYY-MM-DD"),newDate:moment(n.date).format("YYYY-MM-DD"),newIndex:e.newIndex}})),p.show({type:"task-moved-items",grouped:!0,text:"Moved ".concat(s.topic," - ").concat(s.title),actions:[{name:"Undo",action:function action(a){t.undoDragAndDrop(e),a.remove()}}]})},0))},ScheduleDay.prototype.trackMove=function(e,t){var a={action:"drag"};if(e!=t)var o="move";else var o="sort";if(a.type=o,"move"==o){var d=s(moment(t.date).diff(moment(e.date),"days"));a.daysMoved=d}eventTracker.track("schedule_engagement",a,["mixpanel"])},ScheduleDay.prototype.undoDragAndDrop=function(e){var t="sort",a=ko.dataFor(e.dragEvent.originalSource),s=ko.dataFor(e.oldContainer),o=ko.dataFor(e.newContainer);a.todo=_objectSpread({},a.todo,{scheduleID:s.scheduleID,date:moment(s.date).format("YYYY-MM-DD"),state:"undefined"==typeof a.todo.score?a.todo.state?d.getSchedule(s.scheduleID).getTodoCheckbox(a.group,a.todo.id):ko.observable(null):ko.observable(a.todo.score?1:0)});var n={group:a.todo.group,id:a.todo.id},l=_.map(s.todos(),function(e){return{group:e.todo.group,id:e.todo.id}});l.splice(e.oldIndex,0,n),l=_.filter(l,function(e){return e.id}),o!=s&&(t="move"),fs.post("moveScheduleTodo",{scheduleID:s.scheduleID,scheduleFor:s.day.date,todo:n,moveType:t,todos:l}),document.dispatchEvent(new CustomEvent("schedule:todo-moved",{detail:{todoVM:a,id:a.todo.id,group:a.group,oldScheduleID:o.scheduleID,newScheduleID:s.scheduleID,oldDate:moment(o.date).format("YYYY-MM-DD"),newDate:moment(s.date).format("YYYY-MM-DD"),newIndex:e.oldIndex}}))},ScheduleDay.prototype.removeTodoByDetail=function(e){for(var t=0,a;t<this.todos().length;t++)a=this.todos()[t].todo,a.id===e.id&&a.group===e.group&&(this.todos.splice(t,1),t--)},ScheduleDay.prototype.scrollToTodoContainer=function(e){var t=$(e),a=t.scrollParent();a.animate({scrollTop:t.offset().top-a.offset().top+a.scrollTop()-2})},ScheduleDay.prototype.toggleCompletedItemsVisible=function(e,t){this.completedItemsVisible(!this.completedItemsVisible()),this.scrollToTodoContainer(t.currentTarget)},ScheduleDay.prototype.toggleSavedForLaterItemsVisible=function(e,t){this.savedForLaterItemsVisible(!this.savedForLaterItemsVisible()),this.scrollToTodoContainer(t.currentTarget)},ScheduleDay.prototype.setAllTodoStates=function(e){var t=this,a=[],s=[];if(1===e&&p.show({type:"task-state-check",grouped:!0,text:"You checked all your items for the day",actions:[{name:"Undo",action:function action(e){t.setAllTodoStates(0),e.remove()}}]}),!!this.todos().length){var o=!0,d=!1,n=void 0;try{for(var l=this.todos()[Symbol.iterator](),c,u;!(o=(c=l.next()).done);o=!0)u=c.value,u.todo.count&&(u.skipPrompt(!0),u.checkStateChanged(1)),u.setState(e,!0),s.push(u.scheduleID),a.push(u.todo.id)}catch(e){d=!0,n=e}finally{try{o||null==l.return||l.return()}finally{if(d)throw n}}fs.post("setMultiTodoStates",{scheduleIDs:s,todoIDs:a,state:e,scheduledFor:this.todos()[0].date},function(e){return console.log(e)}),this.calendar.getScheduleProgress(this.calendar)}},ScheduleDay.prototype.addTodo=function(){for(var e=this,t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];for(var o=0,d;o<a.length;o++)d=a[o],this.todos.unshift(d);this.renderTodos(),setTimeout(function(){e.updateTitleBanners()},120)},ScheduleDay.prototype.removeTodo=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var s=0,o;s<t.length;s++)o=t[s],this.todos.removeAll(o)},ScheduleDay.prototype.setSize=function(e){this.size(e)},ScheduleDay.prototype.show=function(){this.visible(!0)},ScheduleDay.prototype.hide=function(){this.visible(!1)},ScheduleDay.prototype.toggle=function(){this.visible(!this.visible())},ScheduleDay.prototype.todoDOMLocations={0:".todos-container",1:".completed-todos-container",2:".saved-for-later-todos-container",3:".ignored-todos-container"},ScheduleDay.prototype.getTodoDOMLocation=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return ScheduleDay.prototype.todoDOMLocations[e]||".todos-container"},ScheduleDay.prototype.parseTodo=function(e){e.hideTitle=!!e.hideTitle,"undefined"==typeof e.topic&&"exam"===e.type&&(e.topic="Exam"),e.state||("exam"===e.type?e.state=ko.observable(!!e.score):e.state=this.schedule.getTodoCheckbox(e.group,e.id))},ScheduleDay.prototype.parseSections=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.day.sections;this.todos([]);var t=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),d;!(t=(d=o.next()).done);t=!0){var n=d.value,l=!0,c=!1,p=void 0;try{for(var u=n.todos[Symbol.iterator](),m,v;!(l=(m=u.next()).done);l=!0)v=m.value,this.parseTodo(v),this.todos.push(v)}catch(e){c=!0,p=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw p}}}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}},ScheduleDay.prototype.renderTodo=function(e,t){var a=this;if(e.dom)return!1;var s=fs.mixAppend($(this.getTodoDOMLocation(e.state()),this.dom),"models/study_calendar/TodoController",{todo:e,isFirstOfSub:!t||t.section!==e.section,size:this.size,onRemoveCB:this.removeTodo.bind(this),savedForLaterObs:this.savedForLaterItemsVisible,calendar:this.calendar,scheduleDay:this,inModal:this.inModal});return s.state.subscribe(this.getOnTodoStateChange(s)),s.progress.subscribe(function(){a.progUpdateTO||(a.progUpdateTO=setTimeout(function(){("progressDec"===n.todoSort.by()||"progressAsc"===n.todoSort.by())&&a.sortTodos(),clearTimeout(a.progUpdateTO),a.progUpdateTO=null},0))}),s},ScheduleDay.prototype.updateTitleBanners=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:n.todoSort.by(),t=!0,a=!1,s=void 0;try{for(var o=function _loop8(){var t=l.value;setTimeout(function(){var a=ko.dataFor(t.dom.prev(".models-study_calendar-TodoController")[0]||{}),s="schedule"===e&&(!a||a.parsedTitle()!==t.parsedTitle());t.isFirstOfSub(s);var o="resource"===e&&(!a||a.type!==t.type);t.isFirstOfType(o)},0)},d=this.todos()[Symbol.iterator](),l;!(t=(l=d.next()).done);t=!0)o()}catch(e){a=!0,s=e}finally{try{t||null==d.return||d.return()}finally{if(a)throw s}}},ScheduleDay.prototype.renderTodos=function(){$(".todos-container",this.dom).children().detach();var e=null,t=!0,a=!1,s=void 0;try{for(var o=this.todos()[Symbol.iterator](),d;!(t=(d=o.next()).done);t=!0){var n=d.value,l=this.renderTodo(n,e);l&&this.todos.replace(n,l),e=n}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}this.countTodoLocs(),this.sortTodos()},ScheduleDay.prototype.getOnTodoStateChange=function(e){var t=this;return function(a){var s=setTimeout(function(){e.dom.appendTo($(t.getTodoDOMLocation(a),t.dom)),t.countTodoLocsTimeout&&clearTimeout(t.countTodoLocsTimeout),t.countTodoLocsTimeout=setTimeout(function(){t.countTodoLocsTimeout=null,t.countTodoLocs(),0===t.todosAnimatedTimeouts.length&&t.sortTodos()},0),t.todosAnimatedTimeouts=_.without(t.todosAnimatedTimeouts,s)},1===a?1700:0);t.todosAnimatedTimeouts.push(s)}},ScheduleDay.prototype.countTodoLocs=function(){for(var e in this.todosLocCount)this.todosLocCount[e]($(this.todoDOMLocations[e],this.dom).children().length)},ScheduleDay.prototype.sortTodos=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.todoSort.by();for(var d in n.todoSort.active()||(e="schedule"),this.todoDOMLocations)$(this.todoDOMLocations[d],this.dom).children().detach();var t=[];switch(e){case"progressDec":t.push.apply(t,_toConsumableArray2(_.sortBy(this.todos(),function(e){return+e.progress()})));break;case"progressAsc":t.push.apply(t,_toConsumableArray2(_.sortBy(this.todos(),function(e){return-e.progress()})));break;case"resource":var l=n.todoSort.options();t.push.apply(t,_toConsumableArray2(_.sortBy(this.todos(),function(e){return l.indexOf(0===e.type.indexOf("fa")?"fa":e.type)})));break;case"schedule":default:t.push.apply(t,_toConsumableArray2(_.sortBy(this.todos(),function(e){return e.parsedTitle()})));}for(var a=0;a<t.length;a++){var s=t[a],o=s.state();"exam"===s.todo.type&&3!=o&&(o=s.todoComponent.submitted()?1:0),$(s.dom).appendTo($(this.getTodoDOMLocation(o),this.dom))}this.updateTitleBanners()},ScheduleDay.prototype.showScheduleActions=function(){fs.mixAppend($(".schedule-actions",this.dom),"ui/PopupMenu",{header:"Schedule actions",items:[{text:"Check all items",type:"action",action:this.checkAll.bind(this)},{text:"Uncheck all items",type:"action",action:this.uncheckAll.bind(this)},{text:"Save all for later",type:"action",action:this.saveAllForLater.bind(this)}]})},ScheduleDay.prototype.checkAll=function(){var e=this;confirmYesNo("Are you sure you want to check all the items of \u201C".concat(this.schedule.name,"\u201D for the day?"),"Check all items","warning",function(t){e.setAllTodoStates(1),t()},function(){},"Check all items","Cancel")},ScheduleDay.prototype.uncheckAll=function(){var e=this;confirmYesNo("Are you sure you want to uncheck all the items of \u201C".concat(this.schedule.name,"\u201D for the day?"),"Uncheck all items","warning",function(t){e.setAllTodoStates(0),t()},function(){},"Uncheck all items","Cancel")},ScheduleDay.prototype.saveAllForLater=function(){var e=this;confirmYesNo("Are you sure you want to save all the items of \u201C".concat(this.schedule.name,"\u201D for the day for later?"),"Save all for later","warning",function(t){e.setAllTodoStates(2),t()},function(){},"Save all for later","Cancel")},a.exports=ScheduleDay}),define("models.study_calendar.TodoController",function(e,t,a){var s=Math.floor;function TodoController(e,t){var a=this;this.todoControllerID=++m,this.savedForLaterItemsVisible=t.savedForLaterObs,this.inModal=t.inModal,this.todo=t.todo||{},this.skipPrompt=ko.observable(!1),this.scheduleDay=t.scheduleDay,this.date=this.todo.date,this.date&&(this.dueDate=moment(this.date).diff(moment(),"days")),this.todoComponent=null,this.group=t.group||this.todo.group||"core",this.calendar=t.calendar||{},this.scheduleID=this.todo.scheduleID,this.schedule=l.getSchedule(this.scheduleID),this.checkedThisSession=!1,this.state="undefined"==typeof this.todo.score?this.todo.state?this.todo.state:this.todo.id?this.schedule.getTodoCheckbox(this.group,this.todo.id):ko.observable(null):ko.observable(this.todo.score?1:0),t.onStateChange&&this.state.subscribe(t.onStateChange),this.status=ko.computed({read:function read(){return d[a.state()]},write:function write(e){return a.state(o[e])}}),this.checked=ko.computed({read:function read(){return 1===a.state()?1:0},write:function write(e){var t=a.checkStateChanged(e);return a.state("undefined"==typeof t?0|e:t)}}),this.topic=this.todo.topic,this.topicClass=this.topic.replace(/\/|\s/g,"-"),this.title=this.todo.title,this.sub=this.todo.sub,this.type=this.todo.type,this.topicTip=ko.computed(function(){return"Repeat"===a.topic?a.todoTypeText[a.type]:a.topic}),this.isFirstOfSub=ko.observable(t.isFirstOfSub),this.isFirstOfType=ko.observable(),this.isFirstOfClass=ko.computed(function(){return a.isFirstOfSub()||a.isFirstOfType()?"with-topic-banner":""}),this.onRemoveCB=t.onRemoveCB||function(){},this.refreshParentCalendar=t.refreshParentCalendar||function(){},this.count=ko.observable(0),this.iconHTML=ko.observable(""),this.iconToolTip=ko.observable(this.type),this.completedHTML=ko.observable(""),this.progress=ko.observable(0),this.size="function"==typeof t.size?t.size:ko.observable(t.size||"list"),"fa"===this.type.substring(0,2)?(this.typeText="First Aid",this.title="".concat(this.sub),this.sub=""):this.typeText=this.type.charAt(0).toUpperCase()+this.type.slice(1),this.useFilters=!("undefined"!=typeof t.useFilters)||t.useFilters,this.setupFilters(),this.inlineTodo=ko.observable(!1),this.clickable=ko.observable(!1),this.clickAria=ko.observable(""),this.todoAttrs=ko.computed(function(){return a.clickable()?{role:"button",tabindex:"0","aria-label":a.clickAria()}:{}}),e(this),this.renderTodo()}var o={unchecked:0,checked:1,later:2,ignore:3},d={0:"unchecked",1:"checked",2:"later",3:"ignore"},n=t("app/schedules"),l=n.schedules,c=n.filterSortTodos,p=t("shared/topics"),u=t("ui/Snackbar"),m=-1;TodoController.prototype.setupFilters=function(){var e=this;return this.useFilters?void(this.filtered=ko.computed(function(){if(!c.todoFilters.active())return!1;for(var l in c.todoFilters){var p=c.todoFilters[l]();if(p.length){if(!e.hasOwnProperty(l))return!0;switch(l){case"dueDate":var t=!0,a=!1,s=void 0;try{for(var o=p[Symbol.iterator](),d,n;!(t=(d=o.next()).done);t=!0)if(n=d.value,!(0>n)){if(0>e.dueDate)return!0;if(e.dueDate>n)return!0}else if(0<=e.dueDate)return!0}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}break;default:if(!p.includes("function"==typeof e[l]?e[l]():e[l]))return!0;}}}return!1})):void(this.filtered=ko.observable(!1))},TodoController.prototype.renderTodo=function(){fs.empty($(".todo-container",this.dom)),this.inlineTodo(!!t(this.getTodoPath()).inline),this.todoComponent=fs.mixAppend($(".todo-container".concat(this.inlineTodo()?"-inline":""),this.dom),this.getTodoPath(),_objectSpread({controller:this,state:this.state,progress:this.progress,size:this.size,inModal:this.inModal},this.todo)),this.pullTodoVars()},TodoController.prototype.parsedTitle=function(){var e=this.todo.title,t=this.todo.type;return("pathoma"===t||"boardsAndBeyond"===t)&&(e=this.todo.section),e.split(" ").map(function(e){return e&&e[0]?"".concat(e[0].toUpperCase()).concat(e.substring(1)):e}).join(" ")},TodoController.prototype.pullTodoVars=function(){var e=this;this.completedHTML(this.todoComponent.getCompletedHTML()),this.completedHTMLSubscription=ko.computed(this.todoComponent.getCompletedHTML,this.todoComponent).subscribe(function(t){return e.completedHTML(t)}),this.iconHTML(this.todoComponent.getIconHTML()),this.iconToolTip(this.todoComponent.getIconToolTip()||this.type.substr(0,1).toUpperCase()+this.type.substr(1)),this.count(this.todoComponent.getCount()),this.onClick=this.todoComponent.onClick,this.clickAria(this.todoComponent.clickAria),this.clickable(!!this.onClick),this.todoComponent.expanded&&0!==this.state()&&this.todoComponent.expanded(!1),this.progress.subscribe(function(t){1<=t?e.state(1):1===e.state()}),setTimeout(function(){e.setupOverflowTooltip()},0)},TodoController.prototype.setupOverflowTooltip=function(){var e=function hasOverflow(e){return $(e)[0].scrollWidth>$(e).innerWidth()}($(".todo-title",this.dom));e&&$(".todo-name",this.dom).tooltip({title:this.topic+(this.title&&!this.todo.hideTitle?" - ".concat(this.title):""),container:"body",boundary:"viewport",delay:{show:800,hide:0}})},TodoController.prototype.clicked=function(e,t){var a=$(t.target);return!!(a.hasClass("checkbox-input")||a.parent().hasClass("checkbox-input"))||("function"==typeof this.onClick?(this.onClick(),!1):void 0)},TodoController.prototype.todoComponents={osmosis:"TodoVideo",picmonic:"TodoVideo",sketchy:"TodoVideo",fa20:"TodoPages",fa19:"TodoPages",fa18:"TodoPages",fa17:"TodoPages",fa16:"TodoPages",fa15:"TodoPages",book:"TodoPages",pages:"TodoPages",questions:"TodoQuiz",flashcards:"TodoQuiz",pathoma:"TodoSingleVideo",boardsAndBeyond:"TodoSingleVideo",exam:"TodoExam",qbank:"TodoQBank",video:"TodoCustVideo"},TodoController.prototype.todoTypeText={osmosis:"Osmosis videos",picmonic:"Picmonic",sketchy:"Sketchy",fa20:"First Aid '20",fa19:"First Aid '19",fa18:"First Aid '18",fa17:"First Aid '17",fa16:"First Aid '16",fa15:"First Aid '15",book:"Book",pages:"Pages",questions:"Osmosis questions",flashcards:"Osmosis flashcards",pathoma:"Pathoma",boardsAndBeyond:"Boards and Beyond",exam:"Exam",qbank:"QBank",video:"Custom video"},TodoController.prototype.getTodoPath=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.type,t=this.todoComponents[e]||"Todo";return"models/study_calendar/todos/"+t},TodoController.prototype.openActions=function(){var e=this,t=[{text:ko.computed(function(){return"Mark as ".concat(e.checked()?"in":"","complete")}),type:"action",action:function action(){e.checked(!e.checked())}},{text:"Save for later",type:"action",action:function action(){e.state(2),e.saveState(2),e.savedForLaterItemsVisible(!0)}}];"exam"!==this.type&&t.push({text:"Remove",type:"action",color:"#D53939",action:function action(){"core"===e.group?(e.setState(3),e.saveState(3)):fs.confirm("Are you sure you want to <b>completely remove</b> this item from your schedule?",function(t){e.removeTodo(t)})}}),fs.mixAppend($(".todo-action-container",this.dom),"ui/PopupMenu",{header:"Actions",items:t,onClose:function onClose(){e.actionPopup=null}})},TodoController.prototype.openMoveToMenu=function(){fs.mixAppend($(".todo-action-container",this.dom),"ui/PopupMenu",{header:"Move to...",items:[{text:"Tomorrow",type:"action",action:function action(){}},{text:"Next week",type:"action",action:function action(){}},{text:"Next month",type:"action",action:function action(){}},{text:"Custom",type:"action",action:function action(){}}]})},TodoController.prototype.checkStateChanged=function(e){var t=this;if(e&&(this.checkedThisSession=!0),"exam"===this.type&&!this.todoComponent.submitted())return setTimeout(function(){t.todoComponent.checked(e)},120),0;if("exam"!==this.type){var a=function showSnackbar(){u.show({type:"task-state-check",text:"Checked ".concat(t.todo.topic," - ").concat(t.todo.title),actions:[{name:"Undo",action:function action(e){t.checked(!1),e.remove()}}]})};if(this.todoComponent&&this.todoComponent.expanded&&this.todoComponent.expanded(!1),"repeat"!==this.group&&e&&a(),e&&"repeat"==this.group){var o=this.todo.count;if(this.skipPrompt())this.count(o),this.save(o);else{var d="video"==this.todo.type?"videos":"qbank"==this.todo.type?"questions":"pages";return fs.mixAppend(this.dom,"ui/modals/schedule/CompletedTaskModal",{count:this.todo.count,type:d,closedCB:function closedCB(){t.state(!1)},confirmCB:function confirmCB(e){t.todo.count=e,t.count(e),t.todoComponent.setCount(e),a(),t.state(1),t.save(o)}}),0}}else setTimeout(function(){if(t.save(),t.scheduleDay.dayView.allTodosComplete()){var e=moment(t.date,"YYYY-MM-DD"),a=t.scheduleDay.dayView.joyScheduleTest;a.track();var o=1<s(8*Math.random())?"quote":"";a.value&&fs.mixAppend($("body"),"ui/JoySnackbar",{theme:"pink",messageText:"You've finished all your tasks for ".concat(moment().format("YYYY-MM-DD")===e.format("YYYY-MM-DD")?"today":e.format("dddd"),"! Keep up the great work."),delay:1e3,type:o,tracking:{source:"schedule",reason:"day-complete"}})}},20)}},TodoController.prototype.removeTodo=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(){},a={custom:{post:"removeCustomDailyGoal",key:"customTodoID"},repeat:{post:"removeRepeatDailyGoal",key:"repeatTodoID"}}[this.group];if("undefined"==typeof a)throw"Tried to remove a todo of an invalid group!";fs.post(a.post,_defineProperty({scheduleID:this.scheduleID},a.key,this.todo.id),function(){e.setState(3),e.onRemoveCB(e),t()})},TodoController.prototype.topicIcon=function(){var e=[{id:524,name:"Biochemistry"},{id:525,name:"Metabolism"},{id:527,name:"Immunology"},{id:528,name:"Microbiology"},{id:530,name:"Heme/Onc"},{id:533,name:"Respiratory"},{id:534,name:"Renal"},{id:535,name:"Cardiovascular"},{id:536,name:"GI"},{id:537,name:"Endocrine"},{id:538,name:"Reproductive"},{id:531,name:"Neurology"},{id:532,name:"Psychiatry"},{id:539,name:"MSK"},{id:543,name:"General Pathology"},{id:542,name:"General Pharmacology"},{id:2,name:"Behavioral Science"},{id:7217,name:"Epidemiology/Biostatistics"},{id:1,name:"Science of Learning"}],t=p.name2id[this.topic]||function getTopicID(t){for(var a in e)if(t==e[a].name)return e[a].id}(this.topic);if(!t)return"";return p.getNewIcon(t)},TodoController.prototype.shouldShowCheckbox=function(){return"exam"!==this.type||1!==this.state()},TodoController.prototype.setState=function(e){this.state(e)},TodoController.prototype.save=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t={schedule_id:this.scheduleID,resource:this.type,topic:this.topic,subtopic:this.title,assigned_count:0<e?e:this.count(),completed:parseInt(this.count()),todo_group:this.group,todo_type:this.type,checked:1===this.state()};keen.track("schedule_engagement",t),this.saveState()},TodoController.prototype.saveState=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.state(),a=1<arguments.length?arguments[1]:void 0;"string"==typeof t&&(t=o[t]);var s={core:{url:"setToDoState",key:"todoID"},custom:{url:"setScheduleCustomToDoState",key:"customTodoID"},repeat:{url:"setScheduleRepeatToDoState",key:"repeatTodoID"}}[this.group],d=_defineProperty({scheduleID:this.scheduleID,state:t},s.key,this.todo.id);"repeat"==this.group?(d.count=this.todo.count,!this.todo.id&&(d.taskID=this.todo.taskID,d.date=this.date)):"core"==this.group&&(d.scheduledFor=this.todo.date),a||fs.post(s.url,d,function(t){"repeat"!=e.group||e.todo.id||(e.todo.id=t.id)}),!a&&this.calendar.getScheduleProgress&&this.calendar.getScheduleProgress(this.calendar),analytics.track("Study Schedule",{action:"todo",schedule:this.schedule.preferences.schedule,type:this.type,state:t})},TodoController.prototype.onBeforeUnmix=function(){this.status.dispose(),this.checked.dispose(),this.filtered.dispose(),this.todoAttrs.dispose(),this.completedHTMLSubscription.dispose()},a.exports=TodoController}),define("models.study_calendar.scheduleLoader",function(e,t){var a=Math.abs;function addCustRepTodosByDate(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"custom";for(var s in e.sections||(e.sections=[]),t){var o={topic:a.charAt(0).toUpperCase()+a.slice(1),title:"",date:s,todos:[]};for(var d in t[s]){var n=t[s][d];o.todos.push(_objectSpread({state:n.state,id:n.todoID,date:s,group:a},n.todo))}e.sections.unshift(o)}}function addMiscTodos(e,t,a){for(var s=arguments.length,o=Array(3<s?s-3:0),d=3;d<s;d++)o[d-3]=arguments[d];for(var n=0;n<o.length;n++){var l=o[n],c="".concat(l,"Data");if(e[c]){var p=_.groupBy(fs.transpose(e[c]),"scheduledFor");for(var u in p){var m=moment(u);(m.isSame(t,"day")||m.isAfter(t,"day"))&&(m.isSame(a,"day")||m.isBefore(a,"day"))||delete p[u]}addCustRepTodosByDate(e,p,l)}}}function parseTodos(e){var t=o.getSchedule(e.scheduleID),a=!0,s=!1,d=void 0;try{for(var n=e.sections[Symbol.iterator](),l,c;!(a=(l=n.next()).done);a=!0){if(c=l.value,c&&/^Exam/.exec(c.title)){var g={type:"exam",title:c.title.split("Exam:")[1].trim(),hideTitle:!0,scheduleID:e.scheduleID};c.score&&(g.score=c.score),c.todos=[g]}var p=!0,u=!1,m=void 0;try{for(var v=c.todos[Symbol.iterator](),b,h;!(p=(b=v.next()).done);p=!0)h=b.value,h.group||(h.group="core"),h.state=t.getTodoCheckbox(h.group,h.id,h.state||e.completed[h.id],h),h.date=c.date,h.section=h.title||c.title,h.title=h.sub||h.title||c.title,h.topic=h.topic||c.topic,h.scheduleID=e.scheduleID}catch(e){u=!0,m=e}finally{try{p||null==v.return||v.return()}finally{if(u)throw m}}}}catch(e){s=!0,d=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw d}}for(var f in e.completedNodes)t.getNodeCheckbox(f,e.completedNodes[f])}var s=t("app/schedules"),o=s.schedules,d=function scheduleLoaderParseData(e){var t=e.sectionsByDay||{};for(var g in t)t[g]=ko.observableArray(t[g]||[]),t[g].subscribe(function(e){return console.log(JSON.stringify(e))});o.sectionIndex=_objectSpread({},o.sectionIndex,_defineProperty({},e.scheduleID,t));var s=e.blocks||[],d={},n=!0,l=!1,c=void 0;try{for(var p=s[Symbol.iterator](),u;!(n=(u=p.next()).done);n=!0)for(var m=u.value,v=a(moment(m.start).diff(moment(m.stop),"days"))+1,b=0;b<v;b++)d[moment(m.start).add(b,"days").format("YYYY-MM-DD")]=m.block}catch(e){l=!0,c=e}finally{try{n||null==p.return||p.return()}finally{if(l)throw c}}var h=_.map(_.groupBy(e.sections,"date"),function(e,t){return{date:t,sections:e,topic:d[t]}});return h.sort(function(e,t){return new Date(e.date)-new Date(t.date)}),_.map(h,function(t){return{day:t,scheduleID:e.scheduleID}})};e.getStudyScheduleDays=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:function(){},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:o.scheduleIDs;fs.post("getStudyScheduleDays",{start:e,stop:t,scheduleIDs:s},function(s){var n=[];o.sectionIndex={};var l=!0,c=!1,p=void 0;try{for(var u=s.schedules[Symbol.iterator](),m,v;!(l=(m=u.next()).done);l=!0)v=m.value,addMiscTodos(v,e,t,"custom","repeat"),parseTodos(v),n.push.apply(n,_toConsumableArray2(d(v)))}catch(e){c=!0,p=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw p}}a(n,s)})}}),define("models.study_calendar.todos.Todo",function(e,t,a){var s=Math.floor,o=function(){"use strict";function Todo(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Todo),this.type=t.type,this.id=t.id,this.scheduleID=t.scheduleID,this.controller=t.controller,this.inModal=t.inModal,this.state=t.state,this.controllerProgress=t.progress,this.topic=t.topic,this.title=t.title,this.sub=t.sub,this.score=t.score,this.size=t.size||ko.observable("list"),this.icon=t.icon||"<i class=\"fas fa-question\"></i>",e&&(this.setObservables(t),e(this))}return _createClass(Todo,[{key:"setObservables",value:function setObservables(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"function"!=typeof this.completedCount&&(this.completedCount=ko.observable(t.completedCount||this.getCompletedCount())),"function"!=typeof this.totalCount&&(this.totalCount=ko.observable(t.totalCount||t.count||this.getCount())),"function"!=typeof this.progress&&(this.progress=ko.computed({read:function read(){return e.completedCount()/e.totalCount()},write:function write(t){return e.completedCount(s(e.totalCount()*t))}})),this.controllerProgress(this.progress()),this.progress.subscribe(function(t){return e.controllerProgress(t)})}},{key:"getCompletedHTML",value:function getCompletedHTML(){return this.completedCount?"".concat(this.completedCount()," / ").concat(this.totalCount()):this.title}},{key:"getIconHTML",value:function getIconHTML(){return this.icon}},{key:"getIconToolTip",value:function getIconToolTip(){return this.type.substr(0,1).toUpperCase()+this.type.substr(1)}},{key:"getCount",value:function getCount(){return console.warn("getCount() is meant to be overwritten, returning 0"),0}},{key:"setCount",value:function setCount(e){this.completedCount(e)}},{key:"getCompletedCount",value:function getCompletedCount(){return 1===this.state()?this.getCount():0}},{key:"onClick",get:function get(){}},{key:"clickAria",get:function get(){return""}}],[{key:"inline",get:function get(){return!1}}]),Todo}();a.exports=o}),define("models.study_calendar.todos.TodoCustVideo",function(e,t,a){var s=t("models/study_calendar/todos/Todo"),o=function(e){"use strict";function TodoCustVideo(e,t){var a;return _classCallCheck(this,TodoCustVideo),t.icon=t.icon||"<i class=\"fas fa-video\"></i>",a=_possibleConstructorReturn(this,_getPrototypeOf(TodoCustVideo).call(this,e,t)),a.state.subscribe(function(){return a.completedCount(a.getCompletedCount())}),a}return _inherits(TodoCustVideo,e),_createClass(TodoCustVideo,[{key:"setCount",value:function setCount(e){this.completedCount(e),this.totalCount(e),this.completedCount(e)}},{key:"getCompletedHTML",value:function getCompletedHTML(){return"".concat(this.totalCount()," videos")}}]),TodoCustVideo}(s);a.exports=o}),define("models.study_calendar.todos.TodoExam",function(e,t,a){var s=t("models/study_calendar/todos/Todo"),o=function(e){"use strict";function TodoExam(e,t){var a;return _classCallCheck(this,TodoExam),t.icon=t.icon||"<i class=\"fas fa-calendar-exclamation\"></i>",a=_possibleConstructorReturn(this,_getPrototypeOf(TodoExam).call(this,void 0,t)),a.examScore=ko.observable(a.score),a.checked=ko.observable(!!a.score),a.submitted=ko.observable(!!a.score),a.state(!!a.examScore),a}return _inherits(TodoExam,e),_createClass(TodoExam,[{key:"submit",value:function submit(){var e=this;return isNaN(parseInt(this.examScore()))?void console.debug("NaN examScore"):void fs.post("submitPracticeExamScore",{score:+this.examScore(),scheduleID:this.scheduleID,title:this.title},function(){window.popConfetti(),e.submitted(!0),setTimeout(function(){e.state(1),e.controller.checked(1)},1500)})}}]),TodoExam}(s);a.exports=o}),define("models.study_calendar.todos.TodoPages",function(e,t,a){var s=t("models/study_calendar/todos/Todo"),o=function(e){"use strict";function TodoPages(e,t){var a;return _classCallCheck(this,TodoPages),t.icon=t.icon||"<i class=\"fi fi-book\"></i>",a=_possibleConstructorReturn(this,_getPrototypeOf(TodoPages).call(this,void 0,t)),a.pStart=t.pStart||0,a.pEnd=t.pEnd||0,a.count=ko.observable(t.count||0),a.setObservables(t),a.state.subscribe(function(){return a.completedCount(a.getCompletedCount())}),e(_assertThisInitialized(a)),a}return _inherits(TodoPages,e),_createClass(TodoPages,[{key:"getCount",value:function getCount(){return this.range?this.range:this.completedCount?this.completedCount():this.count?"function"==typeof this.count?this.count():this.count:this.pEnd-this.pStart+1}},{key:"getIconToolTip",value:function getIconToolTip(){return 0===this.type.indexOf("fa")?"First Aid 20".concat(this.type.substr(2,2)):"Book"}},{key:"getCompletedHTML",value:function getCompletedHTML(){return!~this.type.indexOf("fa")&&this.completedCount&&0<this.completedCount()?"".concat(this.completedCount()," pages"):this.count()?"".concat(this.count()," pages"):this.pStart==this.pEnd?"p. ".concat(this.pStart):"p. ".concat(this.pStart,"-").concat(this.pEnd)}},{key:"setCount",value:function setCount(e){this.count(e)}}]),TodoPages}(s);a.exports=o}),define("models.study_calendar.todos.TodoQBank",function(e,t,a){var s=Math.floor,o=t("models/study_calendar/todos/Todo"),d=function(e){"use strict";function TodoQBank(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a;return _classCallCheck(this,TodoQBank),t.icon=t.icon||"<i class=\"fas fa-stethoscope\"></i>",a=_possibleConstructorReturn(this,_getPrototypeOf(TodoQBank).call(this,void 0,t)),a.progress=ko.computed({read:function read(){return 1===a.state()?1:0},write:function write(e){return a.state(s(e))}}),a.totalCount=ko.observable(t.count||0),a.completedCount=ko.computed(function(){return 1===a.state()?a.totalCount():0}),a.setObservables(),e(_assertThisInitialized(a)),a}return _inherits(TodoQBank,e),_createClass(TodoQBank,[{key:"getIconToolTip",value:function getIconToolTip(){return"Question Bank"}},{key:"getCompletedHTML",value:function getCompletedHTML(){var e="x ".concat(this.getCount());return"compact"===this.size()?"<span>".concat(e,"</span>"):e}},{key:"getCount",value:function getCount(){return this.totalCount?this.totalCount():this.count}},{key:"setCount",value:function setCount(e){this.totalCount(e)}}]),TodoQBank}(o);a.exports=d}),define("models.study_calendar.todos.TodoQuiz",function(e,t,a){var s=t("ui/QuizBuilder"),o=t("app/addToQueue"),d=t("models/study_calendar/todos/Todo"),n=function(e){"use strict";function TodoQuiz(e,t){var a;return _classCallCheck(this,TodoQuiz),t.icon=t.icon||"<i class=\"fas fa-".concat("flashcards"===t.type?"bolt":"stethoscope","\"></i>"),a=_possibleConstructorReturn(this,_getPrototypeOf(TodoQuiz).call(this,void 0,t)),a.quizIDs=t.quizIDs||t.todo.quizIDs||[],a.quizBuilder=new s,a.completedCount=ko.computed(a.getCompletedCount.bind(_assertThisInitialized(a))),a.setObservables(t),e(_assertThisInitialized(a)),a}return _inherits(TodoQuiz,e),_createClass(TodoQuiz,[{key:"getCompletedHTML",value:function getCompletedHTML(){var e="x ".concat(this.getCount());return"compact"===this.size()?"<span>".concat(e,"</span>"):e}},{key:"getCompletedCount",value:function getCompletedCount(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.state();return 1===e?this.getCount():0}},{key:"getCount",value:function getCount(){return this.quizIDs.length}},{key:"startQuiz",value:function startQuiz(){var e=this;this.quizBuilder.quiz={ids:this.quizIDs,type:this.type},keen.track("schedule_engagement",{schedule_id:this.scheduleID,assigned_count:this.getCount(),type:this.type,topic:this.topic,subtopic:this.title,action:"start"}),this.quizBuilder.displayScoreboard(null,function(){e.inModal&&e.inModal.close()})}},{key:"addToQueue",value:function addToQueue(){"questions"==this.type?o.questions(this.todo.quizIDs,$(".todo-action-button-save-to-queue",this.dom)):o.flashcards(this.todo.quizIDs,$(".todo-action-button-save-to-queue",this.dom))}},{key:"onClick",get:function get(){return this.startQuiz.bind(this)}},{key:"clickAria",get:function get(){return"Build quiz"}}]),TodoQuiz}(d);a.exports=n}),define("models.study_calendar.todos.TodoSingleVideo",function(e,t,a){var s=t("models/study_calendar/todos/Todo"),o=function(e){"use strict";function TodoSingleVideo(e,t){var a;return _classCallCheck(this,TodoSingleVideo),t.icon=t.icon||"<i class=\"fas fa-video\"></i>",a=_possibleConstructorReturn(this,_getPrototypeOf(TodoSingleVideo).call(this,void 0,t)),a.min=t.min,a.setObservables(t),e(_assertThisInitialized(a)),a}return _inherits(TodoSingleVideo,e),_createClass(TodoSingleVideo,[{key:"getCompletedHTML",value:function getCompletedHTML(){return"".concat(this.min," min")}},{key:"getCount",value:function getCount(){return 1}}]),TodoSingleVideo}(s);a.exports=o}),define("models.study_calendar.todos.TodoVideo",function(e,t,a){var s=Math.round,o=t("models/study_calendar/todos/Todo"),d=t("app/schedules"),n=d.schedules,l=function(e){"use strict";function TodoVideo(e,t){var a;return _classCallCheck(this,TodoVideo),t.icon=t.icon||"<i class=\"fi fi-".concat(TodoVideo.getVideoIcon(t.type),"\"></i>"),a=_possibleConstructorReturn(this,_getPrototypeOf(TodoVideo).call(this,void 0,t)),a.schedule=n.getSchedule(a.scheduleID),a.links=a.parseLinks(t.links||[]),a.expanded=ko.observable(!0),a.completedCount=ko.computed(function(){return _.reduce(a.links,function(e,t){return e+t.checked()},0)}),a.completedCount()===a.getCount()&&0===a.state()?a.controller.saveState(1):a.completedCount.subscribe(function(e){e===a.getCount()&&0===a.state()&&a.controller.saveState(1)}),a.state.subscribe(function(e){if(1===e||0===e&&a.completedCount()+1!==a.getCount()){var t=!0,s=!1,o=void 0;try{for(var d=a.links[Symbol.iterator](),n,l;!(t=(n=d.next()).done);t=!0)l=n.value,l.checked(e)}catch(e){s=!0,o=e}finally{try{t||null==d.return||d.return()}finally{if(s)throw o}}}}),a.setObservables(t),e(_assertThisInitialized(a)),a.videoList=fs.mix(_assertThisInitialized(a),"ui/VideoList",{icon:"osmosis"===a.type?null:"fi fi-".concat(a.type),noProgress:"osmosis"!==a.type,noIcon:"osmosis"!==a.type,hasCheckbox:"osmosis"!==a.type,checkboxOnHover:"osmosis"===a.type,checkOnComplete:!0,thumbnail:"$",linkClass:"topic-hover-bg-color-".concat(a.controller.topicClass),onItemClick:"osmosis"===a.type?null:function(e){return window.open(e.u,"_blank")},links:a.links,title:"".concat(a.topic," - ").concat(a.title),modalArgs:{iconColor:"topic-color-".concat(a.topic.replace(/\/|\s/g,"-"))}}),a.completedCount()===a.links.length&&a.controller.setState(1),a}return _inherits(TodoVideo,e),_createClass(TodoVideo,[{key:"parseLinks",value:function parseLinks(e){var t=this,a=!0,s=!1,o=void 0;try{for(var d=function _loop9(){var e=l.value;e.id&&(e.state=t.schedule.getNodeCheckbox(e.id),e.checked=ko.computed({read:function read(){return 1===e.state()?1:0},write:function write(t){return e.state(0|t)}}),e.topic=t.topic,e.scheduleID=t.scheduleID,e.v&&(e.progress=ko.observable(e.pct/100),e.progress.subscribe(function(t){1==t&&e.checked(1)}),e.watchStatus=ko.observable({})))},n=e[Symbol.iterator](),l;!(a=(l=n.next()).done);a=!0)d()}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return e}},{key:"getCompletedHTML",value:function getCompletedHTML(){var e=this.links.reduce(function(e,t){return e+ +t.d},0)-1,t=parseInt(e/60,10);return isNaN(t)||isNaN(e-60*t)?_get(_getPrototypeOf(TodoVideo.prototype),"getCompletedHTML",this).call(this):"".concat(s(e/60)," min")}},{key:"getCount",value:function getCount(){return this.links.length}},{key:"getIconToolTip",value:function getIconToolTip(){return this.type.substr(0,1).toUpperCase()+this.type.substr(1)+("osmosis"===this.type?" Videos":"")}},{key:"toggleExpanded",value:function toggleExpanded(){this.expanded(!this.expanded())}},{key:"clickAria",get:function get(){return"Toggle video list"}},{key:"onClick",get:function get(){return this.toggleExpanded.bind(this)}}],[{key:"getVideoIcon",value:function getVideoIcon(e){return{picmonic:"picmonic",sketchy:"sketchy",osmosis:"video"}[e]||"video"}}]),TodoVideo}(o);a.exports=l}),define("models.study_calendar.views.BaseView",function(e,t,a){function BaseView(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(){},a=1<arguments.length?arguments[1]:void 0;this.active=ko.observable(!("undefined"!=typeof a.active)||a.active),this.hasData=!1,this.activeCallbacks=[],this.date=moment(a.date),this.calendar=a.calendar||{},!a.date&&this.date.isBefore(moment(o.scheduleStartDate()),"day")&&(this.date=moment(o.scheduleStartDate())),this.date=ko.observable(this.date),this.onDateChangeCB=a.onDateChangeCB||function(){},this.date.subscribe(function(t){e.active()&&e.onDateChangeCB(t)}),this.loading=ko.observable(!1),a.date||this.onDateChangeCB(this.date()),t(this)}var s=t("app/schedules"),o=s.schedules;BaseView.prototype.goToNextDay=function(){this.goToDate(moment(this.date()).add(1,"days"))},BaseView.prototype.goToPrevDay=function(){this.goToDate(moment(this.date()).subtract(1,"days"))},BaseView.prototype.goToNextWeek=function(){this.goToDate(moment(this.date()).add(1,"week"))},BaseView.prototype.goToPrevWeek=function(){this.goToDate(moment(this.date()).subtract(1,"week"))},BaseView.prototype.goToNextMonth=function(){this.goToDate(moment(this.date()).add(1,"month"))},BaseView.prototype.goToPrevMonth=function(){this.goToDate(moment(this.date()).subtract(1,"month"))},BaseView.prototype.goToDate=function(e){this.date(moment(e)),this.pullData()},BaseView.prototype.deactivate=function(){this.active()&&this.active(!1)},BaseView.prototype.activate=function(){if(!this.active())for(this.active(!0);0<this.activeCallbacks.length;){var e;(e=this.activeCallbacks[0].func).apply.apply(e,[this].concat(_toConsumableArray2(this.activeCallbacks[0].args))),this.activeCallbacks.splice(0,1)}},BaseView.prototype.addActiveCallback=function(e,t){var a=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];if(a)for(var s=this.activeCallbacks.length-1;0<=s;s--)if(this.activeCallbacks[s].func==e){this.activeCallbacks.splice(s,1);break}this.activeCallbacks.push({func:e,args:t})},BaseView.prototype.pullData=function(){},a.exports=BaseView}),define("models.study_calendar.views.DayView",function(e,t,a){function DayView(e,t){var a=this;this.emptyDay=ko.observable(!1),this.activeSchDays=ko.observableArray(),this.theme=ko.observable(t.theme||this.getSavedTheme()||"list"),this.theme.subscribe(this.setSavedTheme),this.inModal=t.inModal,this.calendar=t.calendar||{},this.style=t.style||"",this.isSmallMonitor=u.ObservableDesktop,this.popupOpen=ko.observable(!1),this.onboardingHints=ko.observableArray(this.getUnseenOnboarding()),this.onboardingHintsVisible=ko.observable(!1),this.scheduleDaysByID={},this.itemCheckedToday=!1,n.currentScheduleID.subscribe(this.selectedScheduleUpdated,this),o.call(this,void 0,t),this.loading(!0),this.freeDayInfo=ko.computed(function(){return _objectSpread({},c.getInfoByDate(a.date()),{title:"Nothing scheduled for today"})}),this.freeDay=ko.computed(function(){if(a.loading())return!1;for(var e=!0,t=0;t<a.activeSchDays().length;t++){var s=a.activeSchDays()[t],o=!s.loading()&&s.isFreeDay();e=e&&o}return e}),this.joyScheduleTest=s.create({name:"joy-schedule-test",a:!0,b:!1,descr:"Show users a joyful message when they complete all of a day's tasks",labels:{a:"Show the message.",b:"Don't show the message"}}),this.todayClass=ko.computed(function(){return a.date().format("YYYY-MM-DD")==moment(new Date).format("YYYY-MM-DD")?"today":""}),this.actionTense=ko.computed(function(){return a.date().format("YYYY-MM-DD")==moment(new Date).format("YYYY-MM-DD")?"present":0>moment(a.date()).diff(moment().format("YYYY-MM-DD"),"days")?"past":"future"}),this.dateHTML=ko.computed(function(){var e="";return a.date().isSame(moment(),"day")?e="Today - ":a.date().isSame(moment().add(1,"days"),"day")?e="Tomorrow - ":a.date().isSame(moment().subtract(1,"days"),"day")&&(e="Yesterday - "),a.date().format("\n      [<span class=\"day-view-date-relative\">".concat(e,"</span>]\n      [<span class=\"day-view-date-day\">]dddd[</span>] MMMM Do, YYYY\n    "))}),e(this),this.setupOnboardingSettingsButtons(),this.previousSortBy=l.todoSort.by(),l.todoSort.by.subscribe(this.sortScheduleDays.bind(this)),t.schData?this.parseDataAndRender(t.schData,function(){a.selectedScheduleUpdated(n.currentScheduleID())}):this.pullData()}var s=t("app/test"),o=t("models/study_calendar/views/BaseView"),d=t("app/schedules"),n=d.schedules,l=d.filterSortTodos,c=d.freeDayInfo,p=t("models/study_calendar/scheduleLoader"),u=t("ui/MediaQueryList");fs.extend(DayView,o);var m=[{id:0,type:"basic",title:"How do I move topics around?",message:"In the upper right-hand corner, go to <button class=\"false-button button box thin left-icon open-settings\"><i class=\"fas fa-cog\"></i><span>Settings</span></button>\n  <i class=\"fas fa-arrow-right\"></i>\n  <button class=\"false-button button thin box open-settings\" data-settings-panel=\"topics\">Topics</button> to move topics to different dates.<br />\n  <img class='faq-image' src='https://osmosis-src.s3.amazonaws.com/assets/S2claet-RWiWuN8GhG2jOtjrQx_ci2D3.png' />\n  <img class='faq-image' src='https://osmosis-src.s3.amazonaws.com/assets/s_iujpdAS3OE7m5IBYmtkYxpRSecaoiK.png' />\n  Or in week and day views, drag and drop topics and action items around.\n  "},{id:1,type:"basic",title:"How do I add custom resources?",message:"In the upper right hand corner, go to <button class=\"false-button button box thin left-icon open-settings\"><i class=\"fas fa-cog\"></i><span>Settings</span></button>\n  <i class=\"fas fa-arrow-right\"></i>\n  <button class=\"false-button button thin box open-settings\" data-settings-panel=\"resources\">Resources</button> and add custom resources like Boards and Beyond."},{id:2,type:"button",title:"How do I use UWorld?",message:"You can choose to do UWorld questions randomly, by subject, or a hybrid approach where you start by subject but become more random over time which is more like boards.",cta:"More info",href:"https://help.osmosis.org/study-schedule/step-1-study-schedule-basics/uworld-passes-in-the-step-1-schedule",classes:"blue"},{id:3,type:"checklist",title:"Is this study schedule for Boards or classes?",message:"Both!",items:["1 Study schedule to <b>review older</b> material","1 Study schedule to <b>learn new</b> material","1 Study schedule for a <b>dedicated study</b> period"]},{id:4,type:"button",title:"How do I start over",message:"You might want to start over if you haven\u2019t yet used the schedule, or want to go back through the questionnaire to set up a new schedule. To archive this schedule and start over, visit this link (Note: This cannot be undone).",cta:"Archive everything",href:"/study/startover",classes:"red"}];DayView.prototype.setupOnboardingSettingsButtons=function(){var t=this;$(".day-view-onboarding-hint .open-settings",this.dom).click(function(a){var e=urlQuery.settings;a.currentTarget.dataset.settingsPanel&&(urlQuery.settings=a.currentTarget.dataset.settingsPanel),t.calendar&&t.calendar.openScheduleSettings&&t.calendar.openScheduleSettings()(),urlQuery.settings=e})},DayView.prototype.getUnseenOnboarding=function(){var e=this.getSeenOnboardingIDs();return _.filter(m,function(t){return!~e.indexOf(t.id)})},DayView.prototype.getSeenOnboardingIDs=function(){var t;if(window.localStorage){t=window.localStorage.getItem("schedule:dayViewOnboardingSeen");try{t=JSON.parse(t)}catch(a){t=[]}Array.isArray(t)||(t=[])}return t||[]},DayView.prototype.saveSeenOnboardingIDs=function(e){window.localStorage&&window.localStorage.setItem("schedule:dayViewOnboardingSeen",JSON.stringify(e))},DayView.prototype.addSeenOnboardingID=function(e){this.saveSeenOnboardingIDs([].concat(_toConsumableArray2(this.getSeenOnboardingIDs()),[e]))},DayView.prototype.closeOnboardingHint=function(){var e=this;return function(t){e.addSeenOnboardingID(t.id);var a=_.findIndex(e.onboardingHints(),function(e){return e.id===t.id});!~a||e.onboardingHints.splice(a,1)}},DayView.prototype.openThemeMenu=function(){var e=this;this.popupOpen()?($(".ui-PopupMenu").fadeOut(),this.popupOpen(!1)):(fs.mixAppend($(".day-view-theme-menu",this.dom),"ui/PopupMenu",{header:"Theme",onClose:function onClose(){return e.popupOpen(!1)},items:[{text:"List",type:"action",action:function action(){e.theme("list")}},{text:"Grid",type:"action",action:function action(){e.theme("kanban")}}]}),this.popupOpen(!0))},DayView.prototype.getSavedTheme=function(){var e=window.localStorage?window.localStorage.getItem("schedule:dayViewTheme"):void 0;return e||void 0},DayView.prototype.setSavedTheme=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.theme();window.localStorage&&window.localStorage.setItem("schedule:dayViewTheme",e)},DayView.prototype.openOptions=function(){var e=this;if(!this.popupOpen()){var t=[{text:"Sort by...",type:"action",action:this.openSortByMenu.bind(this)},{text:"Collapse all",type:"action",action:this.collapseAll.bind(this)},{text:"Expand all",type:"action",action:this.expandAll.bind(this)},{text:"Check all items",type:"action",action:this.checkAll.bind(this)},{text:"Uncheck all items",type:"action",action:this.uncheckAll.bind(this)},{text:"Save all for later",type:"action",action:this.saveAllForLater.bind(this)}];fs.mixAppend($(".day-view-options-menu",this.dom),"ui/PopupMenu",{header:"Day actions",onClose:function onClose(){return e.popupOpen(!1)},items:t}),this.popupOpen(!0)}else $(".ui-PopupMenu").fadeOut(),this.popupOpen(!1)};var v=function getComputedTodoSortByToggle(e){return ko.computed({read:function read(){return l.todoSort.by()===e},write:function write(t){t?l.todoSort.by(e):l.todoSort.by("schedule")}})};DayView.prototype.openSortByMenu=function(){var e=this;eventTracker.track("schedule_engagement",{action:"Sort by..."},["mixpanel","keen"]),fs.mixAppend($("kanban"===this.theme()?".day-view-sort-menu":".day-view-options-menu",this.dom),"ui/PopupMenu",{header:"Sort by...",onClose:function onClose(){return e.popupOpen(!1)},toggleIcon:"<i class=\"fas fa-check\"></i>",items:[{text:"Resource type...",type:"toggle",currentState:function(){var t=v("resource");return t.subscribe(function(t){t&&e.openSortResourceMenu()}),t}()},{text:"Most to least complete",type:"toggle",currentState:v("progressAsc")},{text:"Least to most complete",type:"toggle",currentState:v("progressDec")},{text:"Topic",type:"toggle",currentState:v("schedule")}]})},DayView.prototype.openSortResourceMenu=function(){var e=this;l.todoSort.by("resource");var t=l.todoSort.options(),a=[];if(!t||!Array.isArray(t)||0>=t.length)a.push.apply(a,_toConsumableArray2(_.keys(l.sortByResourceOptions)));else{var s=!0,o=!1,d=void 0;try{for(var n=t[Symbol.iterator](),c,p;!(s=(c=n.next()).done);s=!0)for(var u in p=c.value,p.match(/^fa/)&&(p="fa"),l.sortByResourceOptions)l.sortByResourceOptions[u]===p&&a.push(u)}catch(e){o=!0,d=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw d}}}fs.mixAppend($("kanban"===this.theme()?".day-view-sort-menu":".day-view-options-menu",this.dom),"ui/PopupMenu",{header:"Sort by: type",onClose:function onClose(){return e.popupOpen(!1)},items:[{text:"",type:"sort",list:a,onListUpdate:function onListUpdate(e){l.todoSort.options(_.map(e,function(e){return l.sortByResourceOptions[e]}))}}]})},DayView.prototype.openMoveToMenu=function(){var e=this;fs.mixAppend($(".day-view-options-menu",this.dom),"ui/PopupMenu",{header:"Move all items...",onClose:function onClose(){return e.popupOpen(!1)},items:[{text:"Tomorrow",type:"action",action:function action(){}},{text:"Next week",type:"action",action:function action(){}},{text:"Next month",type:"action",action:function action(){}},{text:"Custom",type:"action",action:function action(){}}]})},DayView.prototype.collapseAll=function(){for(var n in eventTracker.track("schedule_engagement",{action:"Collapse all"},["mixpanel","keen"]),this.scheduleDaysByID){var e=!0,t=!1,a=void 0;try{for(var s=this.scheduleDaysByID[n][Symbol.iterator](),o,d;!(e=(o=s.next()).done);e=!0){d=o.value;for(var l=0,c;l<d.todos().length;l+=1)c=d.todos()[l].todoComponent,c.expanded&&c.expanded(!1)}}catch(e){t=!0,a=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}}},DayView.prototype.expandAll=function(){for(var n in eventTracker.track("schedule_engagement",{action:"Expand all"},["mixpanel","keen"]),this.scheduleDaysByID){var e=!0,t=!1,a=void 0;try{for(var s=this.scheduleDaysByID[n][Symbol.iterator](),o,d;!(e=(o=s.next()).done);e=!0){d=o.value;for(var l=0,c;l<d.todos().length;l+=1)c=d.todos()[l].todoComponent,c.expanded&&c.expanded(!0)}}catch(e){t=!0,a=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}}},DayView.prototype.checkAll=function(){var e=this;confirmYesNo("Are you sure you want to check all the items for the day?","Check all items","warning",function(t){e.setAllTodoStates(1),eventTracker.track("schedule_engagement",{action:"Check all"},["mixpanel","keen"]),t()},function(){},"Check all items","Cancel")},DayView.prototype.uncheckAll=function(){var e=this;confirmYesNo("Are you sure you want to uncheck all the items for the day?","Uncheck all items","warning",function(t){e.setAllTodoStates(0),eventTracker.track("schedule_engagement",{action:"Uncheck all"},["mixpanel","keen"]),t()},function(){},"Uncheck all items","Cancel")},DayView.prototype.saveAllForLater=function(){var e=this;confirmYesNo("Are you sure you want to save all the items for the day for later?","Save all for later","warning",function(t){e.setAllTodoStates(2),eventTracker.track("schedule_engagement",{action:"Save all for later"},["mixpanel","keen"]),t()},function(){},"Save all for later","Cancel")},DayView.prototype.setAllTodoStates=function(e){for(var l in this.scheduleDaysByID){var t=!0,a=!1,s=void 0;try{for(var o=this.scheduleDaysByID[l][Symbol.iterator](),d,n;!(t=(d=o.next()).done);t=!0)n=d.value,n.setAllTodoStates(e)}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}}},DayView.prototype.selectedScheduleUpdated=function(e){if(!this.active())return void this.addActiveCallback(this.selectedScheduleUpdated,arguments);if(-1==e)for(var q in this.scheduleDaysByID){var t=!0,a=!1,s=void 0;try{for(var o=this.scheduleDaysByID[q][Symbol.iterator](),d,n;!(t=(d=o.next()).done);t=!0)n=d.value,n.show()}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}}else for(var C in this.scheduleDaysByID)if(C==e){var l=!0,c=!1,p=void 0;try{for(var u=this.scheduleDaysByID[C][Symbol.iterator](),m,v;!(l=(m=u.next()).done);l=!0)v=m.value,v.show()}catch(e){c=!0,p=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw p}}}else{var b=!0,h=!1,g=void 0;try{for(var f=this.scheduleDaysByID[C][Symbol.iterator](),w,S;!(b=(w=f.next()).done);b=!0)S=w.value,S.hide()}catch(e){h=!0,g=e}finally{try{b||null==f.return||f.return()}finally{if(h)throw g}}}},DayView.prototype.parseDataAndRender=function(e,t){var a=this,s=this;fs.empty($(".schedules-container",this.dom)),this.scheduleDaysByID={};var o=0,d=e.length,n=new Promise(function(t){var s=!1;a.activeSchDays([]);var n=!0,l=!1,c=void 0;try{for(var p=function _loop10(){var e=m.value;window.requestAnimationFrame(function(){a.scheduleDay=a.renderScheduleDay(e);var n=a.scheduleDay;n&&(a.activeSchDays.push(n),s=!0,!a.scheduleDaysByID[e.scheduleID]&&(a.scheduleDaysByID[e.scheduleID]=[]),a.scheduleDaysByID[e.scheduleID].push(n)),o++,o>=d&&t({anyTodos:s})})},u=e[Symbol.iterator](),m;!(n=(m=u.next()).done);n=!0)p()}catch(e){l=!0,c=e}finally{try{n||null==u.return||u.return()}finally{if(l)throw c}}});n.then(function(e){var s=e.anyTodos;a.emptyDay(!s),a.hasData=!0,a.loading(!1),a.sortScheduleDays(),t()})},DayView.prototype.pullData=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.date(),a=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];if(!a&&!this.active())return void this.addActiveCallback(this.pullData,arguments);var s=moment(t).format("YYYY-MM-DD");this.loading(!0),p.getStudyScheduleDays(s,s,function(t){e.parseDataAndRender(t,function(){e.selectedScheduleUpdated(n.currentScheduleID())})})},DayView.prototype.renderScheduleDay=function(e){return fs.mixAppend($(".schedules-container",this.dom),"models/study_calendar/ScheduleDay",_objectSpread({},e,{inModal:this.inModal,size:this.theme,calendar:this.calendar,freeDay:this.freeDay,dayView:this,visible:-1===n.currentScheduleID()||e.scheduleID===n.currentScheduleID()}))},DayView.prototype.sortScheduleDays=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l.todoSort.by();if(l.todoSort.active()||(e="schedule"),this.previousSortBy!==e&&("progressDec"===this.previousSortBy||"progressAsc"===this.previousSortBy)){$(".schedules-container .models-study_calendar-ScheduleDay",this.dom).detach();var t=[];switch(e){case"progressDec":var v=_.flatten(_.values(this.scheduleDaysByID),!0);t.push.apply(t,_toConsumableArray2(_.sortBy(v,function(e){return+e.progress()})));break;case"progressAsc":var b=_.flatten(_.values(this.scheduleDaysByID),!0);t.push.apply(t,_toConsumableArray2(_.sortBy(b,function(e){return-e.progress()})));break;case"resource":case"schedule":default:var a=_.sortBy(_.keys(this.scheduleDaysByID),function(e){return e}),s=!0,o=!1,d=void 0;try{for(var n=a[Symbol.iterator](),c,p;!(s=(c=n.next()).done);s=!0)p=c.value,t.push.apply(t,_toConsumableArray2(this.scheduleDaysByID[p]))}catch(e){o=!0,d=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw d}}}for(var u=0,m;u<t.length;u++)m=t[u],$(m.dom).appendTo($(".schedules-container",this.dom));this.previousSortBy=e}},DayView.prototype.toggleOnboardingHints=function(){this.onboardingHintsVisible(!this.onboardingHintsVisible())},DayView.prototype.addCustomGoalDialog=function(){var e=this;dialog("ui/dialogs/schedule/CustomGoalSelect",{cb:function cb(t){"today"===t?e.addCustomGoalDay():e.addCustomGoalRepeat()}})},DayView.prototype.addCustomGoalRepeat=function(){dialog("ui/dialogs/schedule/AddCustomResource",function(e,t,a){t&&(e.data.stopDate=e.finishBy(),fs.post("modifyStudySchedule",{scheduleID:e.data.schedule.scheduleID,today:moment().format("YYYY-MM-DD"),part:"resources",tasks:[{data:{title:e.data.title,type:e.data.type,count:e.data.count,startDate:e.data.startDate,stopDate:e.data.stopDate}}]},function(){a(),window.location.reload()}))},{schedules:this.activeSchDays()})},DayView.prototype.addCustomGoalDay=function(){this.customGoalDialog&&fs.unmix(this.customGoalDialog);var e=_.chain(this.scheduleDaysByID).values().flatten().filter(function(e){return e.withinBounds()&&e.visible()}).map(function(e){return e.scheduleID}).unique().value();this.customGoalDialog=fs.mixAppend($(this.dom),"ui/modals/schedule/AddCustomDailyGoalModal",{date:moment(this.date()).format("YYYY-MM-DD"),scheduleIDs:e,onSave:this.addTodo.bind(this)})},DayView.prototype.addTodo=function(e){if(this.scheduleDaysByID.hasOwnProperty(e.scheduleID)){var t=this.scheduleDaysByID[e.scheduleID][0];if(!t)throw"No schedule days to add todo to";t.addTodo(e)}else throw"Invalid schedule"},DayView.prototype.takeDayOff=function(){var e=this;fs.confirm("Do you want to take the entire day off for all schedules?",function(t){fs.post("scheduleTakeEntireDayOff",{scheduleIDs:n.scheduleIDs,date:e.date().format("YYYY-MM-DD"),today:moment().format("YYYY-MM-DD")},function(){location.reload(),t()})})},DayView.prototype.catchUp=function(){this.takeDayOff(),fs.alert("Now move overdue tasks to today using the \"Move to Today\" option in each column or drag/drop individual tasks.")},DayView.prototype.moveToToday=function(){alert("taking this day off")},DayView.prototype.allTodosComplete=function(){for(var e=0,t;e<this.activeSchDays().length;e+=1)if(t=this.activeSchDays()[e].todos,0<t().length)for(var a=0,s;a<t().length;a+=1)if(s=t()[a],1!==s.state()&&3!==s.state())return!1;return!0},a.exports=DayView}),define("models.study_calendar.views.MonthView",function(e,t,a){function MonthView(e,t){var a=this;this.month={},s.call(this,void 0,t),this.dateHTML=ko.computed(function(){return a.date().format("MMMM YYYY")}),e(this),this.loading(!0),this.pullData()}var s=t("models/study_calendar/views/BaseView"),o=t("app/schedules"),d=o.schedules,n=t("models/study_calendar/scheduleLoader");fs.extend(MonthView,s),MonthView.prototype.pullData=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.date(),a=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];if(!a&&!this.active())return void this.addActiveCallback(this.pullData,arguments);var s=moment(t).startOf("month").day(),o=6-moment(t).endOf("month").day(),d=moment(t).startOf("month").subtract(s,"days").format("YYYY-MM-DD"),l=moment(t).endOf("month").add(o,"days").format("YYYY-MM-DD");n.getStudyScheduleDays(d,l,function(a){e.month=e.buildMonth(t,a),e.renderMonth(),e.loading(!1)})},MonthView.prototype.buildMonth=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.date(),t=1<arguments.length?arguments[1]:void 0,a={};e=moment(e).startOf("month");for(var s=moment(e).format("YYYY-MM-"),o=moment(e).daysInMonth(),d=moment(e).day(),n=6-moment(e).endOf("month").day(),l=d,c;0<l;l--)c=moment(e).subtract(l,"days").format("YYYY-MM-DD"),a[c]=[];for(var g=1,f;g<o+1;g++)f=s+(10>g?"0"+g:g),a[f]=[];for(var w=1,S;w<=n;w++)S=moment(e).endOf("month").add(w,"days").format("YYYY-MM-DD"),a[S]=[];var p=!0,u=!1,m=void 0;try{for(var v=t[Symbol.iterator](),b,h;!(p=(b=v.next()).done);p=!0)if(h=b.value,a.hasOwnProperty(h.day.date))a[h.day.date].push(h);else throw"Invalid date returned from server: ".concat(h.day.date," (Not in bounds of month)")}catch(e){u=!0,m=e}finally{try{p||null==v.return||v.return()}finally{if(u)throw m}}return a},MonthView.prototype.renderMonth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.month;for(var a in fs.empty($(".days-container",this.dom)),e)fs.mixAppend($(".loaded.days-container",this.dom),"models/study_calendar/MultiScheduleDay",{day:e[a],date:a,calendar:this.calendar,outsideMonth:moment(a).isBefore(moment(this.date()).startOf("month"),"day")||moment(a).isAfter(moment(this.date()).endOf("month"),"day")});var t=$(".is-today",this.dom).first();if(t.length){var s=t.scrollParent();s.length&&s.animate({scrollTop:t.offset().top-s.offset().top+s.scrollTop()},1e3,function(){return t.focus()})}},a.exports=MonthView}),define("models.study_calendar.views.WeekView",function(e,t,a){function WeekView(e,t){var a=this,o=this;this.daysOfTheWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s.call(this,void 0,t);var d=moment(new Date);this.isToday=d.isBefore(moment(this.date()).endOf("week"))&&d.isAfter(moment(this.date()).startOf("week")),this.dateHTML=ko.computed(function(){var e=a.date().format("MMMM"),t=a.date().startOf("week").format("MMMM");t===e?e="":(t=a.date().format("MMM")+".",e=a.date().endOf("week").format("MMM")+". ");var s=a.date().startOf("week").format("Do"),o=a.date().endOf("week").format("Do"),d=a.date().format("YYYY");return"".concat(t," ").concat(s," - ").concat(e).concat(o,", ").concat(d)}),this.lastLoadedDate=moment().valueOf(),e(this),this.pullData()}var s=t("models/study_calendar/views/BaseView"),o=t("app/schedules"),d=o.schedules,n=t("models/study_calendar/scheduleLoader");fs.extend(WeekView,s),WeekView.prototype.pullData=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.date(),a=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];if(!a&&!this.active())return void this.addActiveCallback(this.pullData,arguments);this.loading(!0);var s=this.lastLoadedDate=moment().valueOf(),o=moment(t).startOf("week").format("YYYY-MM-DD"),d=moment(t).endOf("week").format("YYYY-MM-DD");n.getStudyScheduleDays(o,d,function(a){if(s===e.lastLoadedDate){fs.empty($(".day-wrapper",e.dom)),e.schDays=[];var o=_.groupBy(a,function(e){return e.day.date}),d=function _loop11(t){window.requestAnimationFrame(function(){var a=e.renderScheduleDay(o[t],t);a&&e.schDays.push(a)})};for(var n in o)d(n);!e.hasData&&moment(t).isSame(moment(),"week")&&e.scrollToDay(),e.loading(!1),e.hasData=!0}})},WeekView.prototype.scrollToDay=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:moment().format("dddd"),t=$(".day-wrapper.".concat(e),this.dom);t.scrollParent().scrollLeft(t.scrollParent().scrollLeft()+t.parent().position().left-30)},WeekView.prototype.renderScheduleDay=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;if(!(0>=e.length))return t=moment(t||e[0].day.date),fs.mixAppend($(".day-wrapper.".concat(t.format("dddd")),this.dom),"models/study_calendar/views/DayView",{theme:"compact",style:"plain",active:!0,calendar:this.calendar,schData:e,date:t})},a.exports=WeekView}),define("modtabs.search.module",function(e,t,a){function searchModule(e,t){this.dom=t.dom,this.searching=ko.observable(!0),this.keywords=ko.observable(""),this.objectivesResultsList=fs.mixList(this,".objectivesResultsList"),this.regularResultsList=fs.mixList(this,".regularResultsList"),this.links=ko.observableArray()}searchModule.prototype.nav={title:"This Module",index:0},searchModule.prototype.displayResults=function(e,t,a){var s={},o=[];for(var d in delete a.count,a){var n=d.split(".");if(s[+n[0]])s[+n[0]].ids.push(+n[1]),s[+n[0]].txt.push(a[d]);else{var l={id:+n[0],ids:[n[1]],txt:[a[d]]};s[+n[0]]=l,o.push(l)}}for(var d in o.sort(function(e,t){return e.ids.length>t.ids.length?-1:e.ids.length==t.ids.length?0:1}),o){var c=nodeIndex[o[d].id];e.push("ui/DocSearchResults",{node:c,result:o[d]})}},searchModule.prototype.doSearch=function(e){var t=this;this.keywords(e),this.searching(!0),fs.post("searchmodule",{s:e,m:MID},function(a){for(var s in t.links.removeAll(),a.terms)t.links.push({title:a.terms[s].name+" - Main Article",topic:a.terms[s].name});t.searching(!1),t.displayResults(t.objectivesResultsList,e,a.obj),t.displayResults(t.regularResultsList,e,a.nodes)})},searchModule.prototype.show=function(){"q"in urlQuery&&this.query!=urlQuery.q&&(this.query=urlQuery.q,$(".link-modtabs-search").attr("href",urlPrefix+"/search/module?q="+urlQuery.q),$(".link-modtabs-search-module").attr("href",urlPrefix+"/search/module?q="+urlQuery.q),$(".link-modtabs-search-timeline").attr("href",urlPrefix+"/search/timeline?q="+urlQuery.q),this.objectivesResultsList.removeAll(),this.regularResultsList.removeAll(),this.doSearch(urlQuery.q.replace(/\+/g," ")))},searchModule.prototype.clickSearchLink=function(e){return function(){window.studyTopic=e.topic,tabToURL(urlPrefix+"/study")}},a.exports=searchModule}),define("page.OsmosisQuest",function(e,t,a){var s=t("app/tools"),o=function(){"use strict";function OsmosisQuest(e){var t=this;_classCallCheck(this,OsmosisQuest),this.checkboxes={freeAccount:ko.observable(OsmosisQuest.getCheckbox("freeAccount")),scavengerHunt:ko.observable(OsmosisQuest.getCheckbox("scavengerHunt")),freePrime:ko.observable(OsmosisQuest.getCheckbox("freePrime"))};var a=function _loop12(e){t.checkboxes[e].subscribe(function(t){return OsmosisQuest.setCheckbox(e,t)})};for(var o in this.checkboxes)a(o);e(this),fs.mix(this,"ui/ToolsMenu",{tools:s.filter(function(e){return 4!==e.id}).map(function(e){return _objectSpread({},e,{active:ko.observable(1)})}),filter:1})}return _createClass(OsmosisQuest,null,[{key:"getCheckbox",value:function getCheckbox(e){return window.localStorage&&window.localStorage.getItem("osmosis-quest:".concat(e))}},{key:"setCheckbox",value:function setCheckbox(e,t){window.localStorage&&window.localStorage.setItem("osmosis-quest:".concat(e),t)}}]),OsmosisQuest}();a.exports=o}),define("page.about",function(e,t,a){function about(e){this.teamCore=profiles.teamCore.sort(o),this.reorderProfiles(this.teamCore,"Owen Willis, MEd"),this.reorderProfiles(this.teamCore,"Rishi Desai, MPH, MD"),this.reorderProfiles(this.teamCore,"Ryan Haynes, PhD/MPhil"),this.reorderProfiles(this.teamCore,"Shiv Gaglani, MBA"),this.teamAux=profiles.teamAux.sort(o),this.playerObj=s.embed("WKzBJegZ-hM",$("#values-video-wrapper")),$("#values-video-wrapper").append(this.playerObj.el),e(this)}var s=t("ui/videoPlayer");about.prototype.reorderProfiles=function(e,t){for(var a=-1,s=null,o=0;o<e.length;o++)e[o].name===t&&(a=o,s=e[o]);s&&(e.splice(a,1),e.unshift(s))},about.prototype.chatClick=function(){Intercom("show")};var o=function alphabetically(e,t){return e.name<t.name?-1:e.name>t.name?1:0};a.exports=about}),define("page.action",function(e,t,a){a.exports=function action(){this.type=ko.observable(actionMessage.type),this.message=ko.observable(actionMessage.message)}}),define("page.admindoc",function(e,t,a){function admindoc(){}admindoc.prototype.fix=function(e){fs.post("adminFixMoveDoc",{n:urlQuery.n},e)},a.exports=admindoc}),define("page.adminedit",function(e,t,a){function adminedit(){this.query=ko.observable(),this.nodeID=ko.observable(),this.searchResults=ko.observableArray(null),this.searched=ko.observable(),this.packName=ko.observable(),this.userEmail=ko.observable(),this.primeReason=ko.observable()}var s=t("models/Node");adminedit.prototype.search=function(e){var t=this;fs.post("adminSearchPacks",{query:this.query()},function(a){for(var o in fs.empty($(".quesList",t.dom)),a.nodeData.type=[],a.nodeData.nodeID)a.nodeData.type.push(5);fs.load("node",a.nodeData);var d=fs.transpose(a.nodeData,s);for(var o in d)fs.mixAppend($(".quesList",t.dom),"ui/AdminEditNode",{node:d[o],color:o%2?"#CCC":"white"});e()})},adminedit.prototype.searchConceptCards=function(e){var t=this;fs.post("adminSearchConceptCards",{nodeID:this.nodeID()},function(a){if(a.results){for(var s in a.results)a.results[s].url=a.results[s].name.replace(/\s/g,"_");t.searchResults(a.results)}else a.pack?(t.searchResults.removeAll(),t.packName("Pack: "+a.pack.name)):(t.searchResults.removeAll(),t.packName(null));t.searched(!0),e()})},adminedit.prototype.addPrime=function(e){fs.post("editorAddPrime",{email:this.userEmail(),reason:this.primeReason()},function(){$.jGrowl("Prime added to account",{life:2e3,position:"bottom-left"}),e()})},a.exports=adminedit}),define("page.analyticsBeta",function(e,t,a){a.exports=function analyticsBeta(){}}),define("page.ankiBeta",function(e,t,a){a.exports=function ankiBeta(){}}),define("page.appendToQues",function(e,t,a){function matchQues(e){var t=this;this.nodeID=ko.observable(),this.matchTerm=ko.observable(),this.termURL=ko.computed(function(){return"/editconcept?term="+(t.matchTerm()||"").replace(/\s/g,"_")}),this.matchTabVisible=ko.observable(!1);var a=fs.transpose(window.quesData.nodeData,s);for(var d in a)nodeIndex[a[d].nodeID]=a[d];var n=fs.transpose(window.quesData.mediaData,s);for(var d in n)nodeIndex[n[d].nodeID]=n[d];var l=[];for(var d in nodeIndex)5==nodeIndex[d].type()&&l.push(nodeIndex[d]);this.list=l,this.count=ko.observable(this.list.length),this.idx=0,e(this),o.init(function(){t.render()})}var s=t("models/Node"),o=t("app/wikify");window.nodeIndex={},window.packIndex={},matchQues.prototype.next=function(){this.idx++,this.count(this.count()-1),this.matchTabVisible(!1),this.render()},matchQues.prototype.render=function(){this;fs.empty($(".ques",this.dom)),this.nodeID(this.list[this.idx].nodeID),fs.mixAppend($(".ques",this.dom),"models/ques/QuesPreview",{parent:this,node:this.list[this.idx],mode:"view"})},matchQues.prototype.append=function(e){var t=this;return function(a){fs.post("editorAppendToQues",{nodeID:t.list[t.idx].nodeID,append:e},function(){a(),t.next()})}},a.exports=matchQues}),define("page.apply",function(e,t,a){var s=function apply(){this;$(".navBarItem").addClass("hidden"),this.name=ko.observable(""),this.email=ko.observable(""),this.school=ko.observable(""),this.schoolClassification=ko.observable(""),this.why=ko.observable(""),this.feedback=ko.observable(""),this.success=ko.observable(!1)};s.prototype.submitForm=function(){var e=this;""==e.name()||""==e.email()?alert("Please provide at least your name and email."):$.post("/postForm",{id:1,data:JSON.stringify({name:e.name(),email:e.email(),school:e.school(),cls:e.schoolClassification(),why:e.why(),feedback:e.feedback()})},parseResult(function(){e.success(!0)}))},a.exports=s}),define("page.aroundTheWorld",function(e,t,a){var s=t("ui/account/ProfessionData"),o=t("ui/videoPlayer"),d=function(){"use strict";function aroundTheWorld(e){var t=this;_classCallCheck(this,aroundTheWorld),this.permissionGranted=ko.observable(!1),this.forms=[],this.submitted=ko.observable(!1),this.allValidForms=ko.computed(function(){for(var e=0;e<t.forms.length;e+=1)if(!t.forms[e].valid())return!1;return!!t.permissionGranted()}),e(this),this.profile=fs.mixAppend($(".form-components",this.dom),"ui/forms/GeneralInformation"),this.forms.push(this.profile),this.countryInput=fs.mixAppend($(".form-components",this.dom),"ui/forms/Country"),this.forms.push(this.countryInput),this.videoReview=fs.mixAppend($(".form-components",this.dom),"ui/forms/VideoReview",{formHeader:"Video link",required:!0}),this.forms.push(this.videoReview),this.headshotUpload=fs.mixAppend($(".form-components",this.dom),"ui/forms/Headshot"),this.forms.push(this.headshotUpload),this.renderVideos()}return _createClass(aroundTheWorld,[{key:"renderVideos",value:function renderVideos(){var e=$(".intro-video",this.dom);this.introVideoObj=o.embed({yt:"sTqA7YopA78",hideControls:!0},e),e.append(this.introVideoObj.el);var t=$(".example-review-video",this.dom);this.exampleReviewVideoObj=o.embed({yt:"nl4JSU_tcSc",hideControls:!0},t),t.append(this.exampleReviewVideoObj.el)}},{key:"submitReview",value:function submitReview(e){var t=this,a={name:"".concat(this.profile.preferredName()," ").concat(this.profile.lastName()),school:this.profile.school.formalName(),year:s.classYear2Number[this.profile.classYear()],field:this.profile.degree(),market:this.permissionGranted()?"yes":"no",share:"no",headshot:this.headshotUpload.headshot(),video:this.videoReview.videoLink()},o;this.countryInput.country()&&(o=this.countryInput.country());var d;if(user.email){var n=user;d=n.email}a.love="\n      campaign: around-the-world\n      country: ".concat(o,"\n      email: ").concat(d,"\n    "),this.profile.updateProfile(),fs.post("/submitReview",a,function(){t.submitted(!0),e()})}}]),aroundTheWorld}();a.exports=d}),define("page.auth_redirect",function(){}),define("page.authenticate",function(e,t,a){a.exports=function(e){e(this),window.inviteURL&&($.cookie("inviteURL",window.inviteURL,{expires:7}),localStorage.setItem("inviteURL",window.inviteURL)),fs.mixAppend($("#Content"),"ui/SimpleLoginBox")}}),define("page.beyondflippedclassroom",function(e,t,a){a.exports=function flippedclassroom(e){e(this)}}),define("page.bookMatching",function(e,t,a){function bookMatching(){function modified(){e.loading||(e.modified=!0)}var e=this;for(var t in this.title=ko.observable(),this.topic=ko.observable(),this.notes=ko.observable(),this.concepts=ko.observableArray(),this.others=ko.observableArray(),this.candidates=ko.observableArray(),this.tags=ko.observableArray(),d)this.tags.push({checked:ko.observable(!1),tag:d[t],name:d[t].replace(/\-/g," ")});this.sectionIdx=ko.observable(window.sectionIdx||0),this.startPage=bookKeys.f18.startPage,this.pdfPage=ko.observable(this.startPage),this.bookPage=ko.observable(this.pdfPage()-bookKeys.f18.startPage+1),this.mainPageURL=ko.observable(),this.mainPages=ko.observableArray(),this.altPages=ko.observableArray(),this.title.subscribe(modified),this.notes.subscribe(modified),this.concepts.subscribe(modified),this.others.subscribe(modified),this.candidates.subscribe(modified),s.init(function(){e.refresh()})}var s=t("app/wikify"),o="f18",d=["no-osmosis-content","reference-page"];bookMatching.prototype.prev=function(){this.autosave(),0<this.sectionIdx()&&this.sectionIdx(+this.sectionIdx()-1),this.refresh()},bookMatching.prototype.next=function(){this.autosave(),this.sectionIdx(+this.sectionIdx()+1),this.refresh()},bookMatching.prototype.goTo=function(){this.autosave(),this.pdfPage(+this.bookPage()+bookKeys[o].startPage-1),this.refresh()},bookMatching.prototype.getPageObject=function(e,t){return{version:e,idx:t,page:t-bookKeys[e].startPage+1,url:window.mediaServer+"/"+bookKeys[e].url+"/assets/page-"+t+".svg"}},bookMatching.prototype.render=function(e){this.section=e,this.title(e.title),e.topic&&this.topic(e.topic),this.notes(e.notes),this.concepts(e.concepts||[]),this.others(e.others||[]),this.candidates(e.candidates||[]);var t=_.indexBy(e.tags||[],_.identity),a=this.tags();for(var s in a)a[s].checked(t[a[s].tag]);var d=e.pages[o];for(var s in this.mainPages.removeAll(),d)this.mainPages.push(this.getPageObject(o,d[s]));for(var n in this.mainPageURL(this.mainPages()[0].url),this.altPages.removeAll(),e.pages){var d=e.pages[n];for(var s in d)this.altPages.push(this.getPageObject(n,d[s]))}this.concepts().length||this.candidates().length||(this.modified=!0,this.wikify()),this.loading=!1},bookMatching.prototype.showPage=function(e){var t=this;return function(){t.mainPageURL(e.url)}},bookMatching.prototype.refresh=function(){var e=this;this.loading=!0,this.concepts.removeAll(),this.candidates.removeAll(),fs.post("getStep1MasterSection",{idx:this.sectionIdx()},function(t){e.render(t.section)})},bookMatching.prototype.autosave=function(){this.modified&&this.save()},bookMatching.prototype.save=function(){this;this.section.title=this.title(),this.section.topic=this.topic(),this.section.notes=this.notes(),this.section.concepts=this.concepts(),this.section.others=this.others(),this.section.candidates=this.candidates();var e=this.tags();for(var t in this.section.tags=[],e)e[t].checked()&&this.section.tags.push(e[t].tag);fs.post("putStep1MasterSection",{idx:this.sectionIdx(),section:this.section},function(){$.jGrowl("Saved",{life:1e3,position:"bottom-left"})}),this.modified=!1},bookMatching.prototype.wikify=function(){var e=this;this.concepts.removeAll(),this.others.removeAll(),this.candidates.removeAll();var t={},a=this.notes().split("\n");for(var o in a)if(a[o])if("*"!=a[o][0]){var d=!1;s.wikifyText(a[o],function(a,s){t[s]||e.concepts.push(s),t[s]=!0,d=!0})}else{var n=a[o].slice(1);t[n]||this.candidates.push(n),t[n]=!0}},bookMatching.prototype.removeConcept=function(e,t){this;return function(){e.remove(t)}},bookMatching.prototype.editMaster=function(e){var t=this;fs.post("editStep1Master",{action:e,idx:this.sectionIdx()},function(){window.location.href="/bookMatching?section="+t.sectionIdx()})},bookMatching.prototype.splitPage=function(){var e=this;fs.confirm("Are you sure you want to split this page into two pages?",function(){e.editMaster("split")})},bookMatching.prototype.mergeNextPage=function(){var e=this;fs.confirm("Are you sure you want to merge the next page into this one?",function(){e.editMaster("merge")})},bookMatching.prototype.addConcept=function(){var e=this;fs.prompt("Enter a concept:",function(t,a){e.concepts.push(t),a()})},a.exports=bookMatching}),define("page.bqTest",function(e,t,a){function BqTest(e){this.totalItems2018=ko.observable(""),this.fcAnswered2018=ko.observable(""),this.mcqAnswered2018=ko.observable(""),this.conceptVideosViewed2018=ko.observable(""),e(this),this.getTotalItemResponses(),this.getFcMcqResponses(),this.getConceptVideosViewed()}var s=t("app/bigQuery");BqTest.prototype.getTotalItemResponses=function(){var e=this;s("/data/bqGetTotalItemsAnswered",{},function(t){e.totalItems2018(t.total)})},BqTest.prototype.getFcMcqResponses=function(){var e=this;s("/data/bqGetFcMcqItemsAnswered",{},function(t){e.fcAnswered2018(t.fcAnswered),e.mcqAnswered2018(t.mcqAnswered)})},BqTest.prototype.getConceptVideosViewed=function(){var e=this;s("/data/bqGetNumOfConceptsViewed",{},function(t){e.conceptVideosViewed2018(t.conceptsViewed)})},a.exports=BqTest}),define("page.buy",function(e,t,a){var s=t("app/test");a.exports=function buy(e){$("#Content").css("min-height","auto"),e(this);var t;t=s.select({name:"checkout-versions",a:!0,b:!1,descr:"Test revenue with old vs new version of checkout page.",labels:{a:"Old version",b:"New version"}})?"ui/oldBuy/Buy":"ui/Buy",fs.mixAppend($(".buy-entry",this.dom),t,{emptyRedirect:"/plans"})}}),define("page.cardioAndNotes",function(e,t,a){a.exports=function cardioAndNotes(e){"use strict";_classCallCheck(this,cardioAndNotes),this.hasPrime=ko.observable(!!window.cardioBookDownloadLink),this.downloadLink=window.cardioBookDownloadLink||null,this.notesDownloadLink=window.notesDownloadLink||null,this.redirectLink=window.userID?"/plans":"/plans",this.locked=ko.observable(!1),e(this),this.hasPrime()||(this.locked(!0),this.primeLockout=fs.mix(this,"ui/PrimeLockOverlay",{parent:self,source:"offers",resource:"cardio-book-and-notes",fullScreen:!0,content:"offer",hasLoginStep:!0})),$(".footer-info").remove(),$(".footer-close").remove()}}),define("page.chart",function(e,t,a){a.exports=function chart(){var e=dimple.newSvg("#chartContainer",590,400);d3tsv("/data/groupAnalytics",{from:"",to:""},function(t){var a=new dimple.chart(e,t);a.setBounds(60,30,510,305);var s=a.addCategoryAxis("x","Month");s.addOrderRule("Date"),a.addMeasureAxis("y","Unit Sales"),a.addSeries("Channel",dimple.plot.bar),a.addLegend(60,10,510,20,"right"),a.draw()})}}),define("page.consams",function(e,t,a){a.exports=function consams(){}}),define("page.cranialRap",function(e,t,a){function cranialNerves(e){this;o=$(".carousel-activator"),e(this),this.embedVideos(),this.initializeVideoIndicators(),this.initializeCarousel()}var s=t("ui/videoPlayer"),o=$(".carousel-activator"),d;cranialNerves.prototype.embedVideos=function(){this.playerObj=s.embed("uHK7IBlNCBw",$("#iframe-wrapper-cranial")),$("#iframe-wrapper-cranial").append(this.playerObj.el)},cranialNerves.prototype.playCarousel=function(e,t){var a=this,s=0;t&&(s=t),d=setTimeout(function(){var t=$(e[s]).next(),o=s==e.length-1?0:s+1,n=$(e[o]).next(),l=$(e[o]);clearTimeout(d),t.fadeOut("slow",function(){l.prop("checked",!0),$(e).each(function(e,t){$(t).next().hide()}),n.fadeIn("slow",function(){return s==e.length-1?a.playCarousel(e):a.playCarousel(e,s+1)})})},14e3)},cranialNerves.prototype.initializeCarousel=function(){var e=this;$(".carousel-indicator").click(function(){var t=this.getAttribute("for")-1,a=$(".carousel-slide");a.finish().hide(),a.each(function(e){$(e).finish().hide()}),clearTimeout(d),$(a[t]).css("display","flex").hide().fadeIn("slow",function(){e.playCarousel(o,t)})});var t=$(".carousel-slide"),a=$(o[0]),s=$(t[0]);t.finish().hide(),a.prop("checked",!0),s.hide(),s.css("display","flex").hide().fadeIn("slow",function(){e.playCarousel(o,0)})},cranialNerves.prototype.initializeVideoIndicators=function(){$("#study-schedule-masthead .angela").css("opacity",1)},a.exports=cranialNerves}),define("page.doc",function(e,t,a){function buildWikiIndex(e){for(var t in e)for(var a in d[t.toLowerCase()]=t,e[t])1<e[t][a].length&&(d[e[t][a]]=t)}var s=t("ui/SinglePageDoc"),o=t("app/module"),d=t("app/wikiIndex"),n=t("app/wikify"),l=t("app/who"),c=t("ui/pdf/annotationStore"),p=t("ui/pdf/animationBuffer");window.isMobileApp=!1,window.isMobile=!1,window.clearShortcuts=function(){},window.unregisterHotkeys=function(){},window.restoreShortcuts=function(){},a.exports=function doc(e){var t=this;o.init(),n.init(),navData.moduleData&&fs.load("module",navData.moduleData),fs.startSync(window.__sync),window.wikiData&&buildWikiIndex(window.wikiData),e(this),l.update(),this.document=new s,c.init(),c.sync(function(e){window.highlightData.nodeID.push(e.nodeID),window.highlightData.content.push(e.annotation)}),$(document).keydown(function(a){switch(a.keyCode){case 13:(a.ctrlKey||a.metaKey)&&!window.runUnsavedWorkChecks()&&(a.preventDefault(),a.stopPropagation(),t.document.document&&t.document.document.rightTray.createFlashcard());}}),p.play()}}),define("page.donate",function(e,t,a){var s=t("ui/videoPlayer");a.exports=function donate(e){this;this.playerObj=s.embed("KeGvruygLvg",$("#iframe-wrapper-world",this.dom)),$("#iframe-wrapper-world").append(this.playerObj.el),e(this),$(document).ready(function(){$(".medium-6").hide()})}}),define("page.editAliases",function(e,t,a){function editAliases(e){this.altTerm=ko.observable(),this.terms=ko.observableArray(),this.locked=ko.observable(!0),this.idx=0,e(this),this.showDuplicate(duplicates[this.idx])}editAliases.prototype.showDuplicate=function(e){this.altTerm(e[0].altTerm),this.terms(e)},editAliases.prototype.next=function(){(this.locked()||1!=this.terms().length)&&0!=this.terms().length||(this.idx++,this.showDuplicate(duplicates[this.idx]))},editAliases.prototype.goNext=function(){this.idx++,this.showDuplicate(duplicates[this.idx])},editAliases.prototype.remove=function(e){var t=this;return function(){fs.post("adminRemoveAlias",{termID:e.termID,altTerm:e.altTerm},function(){t.terms.remove(e),t.next()})}},a.exports=editAliases}),define("page.editStudySchedule",function(e,t,a){function editStudySchedule(e){var t=this;this.subjects=window.subjects,this.currentSubject=ko.observable(),this.currentSection=ko.observable(),this.sections=ko.observableArray(),this.learn=ko.observableArray(),this.majorConcepts=ko.observableArray(),this.minorConcepts=ko.observableArray(),this.currentFA=ko.observable("f19"),this.currentFAPage=ko.observable(),this.mainPageURL=ko.observable(),this.mainPages=ko.observableArray(),this.showRecompileSchedule=ko.observable(),e(this),this.searchBar=fs.mix(this,"ui/SearchBar",{placeholder:"Search"}),$("input",this.searchBar.dom).css("width","95%"),this.searchBar.search=function(){var e=t.searchBar.getSearchTermData();e&&fs.post("getScheduleConcepts",{query:e.termName||e.name},function(e){for(var a in e.concepts)t.majorConcepts.push(formatConcept(e.concepts[a],!0));t.save()})},$("input",this.searchBar.dom).focusout(function(){$("input",t.searchBar.dom).val("")})}function getConcepts(e){var t=[];for(var a in e)e[a].removed()||t.push(e[a].concept);return t}function formatConcept(e,t){return{concept:e,state:ko.observable("current"),isNew:ko.observable(t),removed:ko.observable(),icons:ko.observableArray()}}function mapIcons(e){var t=[];for(var a in e)o[e[a]]&&t.push(o[e[a]]);return t}function formatConcepts(e,t){var a=[];for(var s in e){var o=formatConcept(e[s]);t&&o.icons(mapIcons(t[o.concept])),a.push(o)}return a}function applyChanges(e,t,a,s){for(var o in s.add)t.push(formatConcept(s.add[o],!0));for(var o in s.remove)e[s.remove[o]].removed(!0);for(var o in s.swap)t.push(formatConcept(s.swap[o])),a.remove(e[s.swap[o]])}function formatCheckResponse(e,t){return t.length?"<ul class=\""+e.toLowerCase()+"-log\"><li><span>"+e+":</span> "+t.join("</li><li><span>"+e+":</span> ")+"</li></ul>":""}var s=t("app/wikify"),o={"yt-osm":"https://d3cdo0emj8d2qc.cloudfront.net/assets/71e7e522444440761e2b1a6bba54c22b744be3e4.png",picmonic:"https://d3cdo0emj8d2qc.cloudfront.net/assets/10cb250880e66f4f433cacc7d7c347c8aaba1448.png",sketchy:"https://osmose-it.s3.amazonaws.com/VU-xguGLT6SJHKGxkWyl_QqVTWSY-rgr/_.jpg"};editStudySchedule.prototype.getPageObject=function(e,t){return{version:e,idx:t,page:t-bookKeys[e].startPage+1,url:window.mediaServer+"/"+bookKeys[e].url+"/assets/page-"+t+".svg"}},editStudySchedule.prototype.renderPages=function(){var e=this.currentFA(),t=this.section.pages[e];for(var a in this.currentFAPage(0),this.mainPages.removeAll(),t)this.mainPages.push(this.getPageObject(e,t[a]));this.renderCurrentPage()},editStudySchedule.prototype.renderCurrentPage=function(){var e=this.mainPages()[this.currentFAPage()];e?$(".book-page",this.dom).html("<object data=\""+e.url+"\" type=\"image/svg+xml\" style=\"width: 100%; background-color: white\"></object>"):$(".book-page",this.dom).html("")},editStudySchedule.prototype.save=function(){this;fs.post("putScheduleMasterSection",{subject:this.currentSubject(),section:this.currentSection(),majorConcepts:getConcepts(this.majorConcepts()),minorConcepts:getConcepts(this.minorConcepts())},function(){})},editStudySchedule.prototype.demoteConcept=function(e){var t=this;return function(){t.majorConcepts.remove(e),t.minorConcepts.push(e),t.save()}},editStudySchedule.prototype.promoteConcept=function(e){var t=this;return function(){t.minorConcepts.remove(e),t.majorConcepts.push(e),t.save()}},editStudySchedule.prototype.removeConcept=function(e){var t=this;return function(){e.isNew()?(t.majorConcepts.remove(e),t.minorConcepts.remove(e)):e.removed(!e.removed()),t.save()}},editStudySchedule.prototype.showSubject=function(e){var t=this;return function(){t.currentSubject(e),fs.post("getScheduleMaster",{subject:e},function(e){t.sections(e.sections)})}},editStudySchedule.prototype.applyChanges=function(e){var t=this,a={},s=t.majorConcepts(),o=t.minorConcepts();for(var d in s)a[s[d].concept]=s[d];for(var d in o)a[o[d].concept]=o[d];applyChanges(a,t.majorConcepts,t.minorConcepts,e.major),applyChanges(a,t.minorConcepts,t.majorConcepts,e.minor)},editStudySchedule.prototype.showSection=function(e){var t=this;return function(){t.currentSection(e),fs.post("getScheduleMaster",{subject:t.currentSubject(),section:e},function(e){t.section=e.section,t.renderPages(),t.majorConcepts.removeAll(),t.minorConcepts.removeAll(),e.section.concepts&&t.majorConcepts(formatConcepts(e.section.concepts,e.section.conceptIcons)),e.section.minor&&t.minorConcepts(formatConcepts(e.section.minor,e.section.conceptIcons)),e.section.changes&&t.applyChanges(e.section.changes)})}},editStudySchedule.prototype.switchEdition=function(e){var t=this;return function(){t.currentFA(e),t.renderPages()}},editStudySchedule.prototype.showPage=function(e){var t=this;return function(){t.currentFAPage(e),t.renderCurrentPage()}},editStudySchedule.prototype.checkSchedule=function(){fs.post("checkScheduleMaster",{},function(e){e.errors.length||e.warnings.length?fs.alert("<div class=\"page-editStudySchedule\">"+formatCheckResponse("Error",e.errors)+" "+formatCheckResponse("Warning",e.warnings)+"</div>"):fs.alert("No errors or warnings were found during the build.","No Errors","info")})},a.exports=editStudySchedule}),define("page.editanatomy",function(e,t,a){var s=Math.round;function newObj(){return c++,c}function AnatomyStruct(e){var t=this;this.id=ko.observable(e.mesh),this.className=ko.computed(function(){return t.id().replace(/\s/g,"_")}),this.editing=ko.observable(),this.parts=ko.observable(e.parts),this.style=ko.observable(e.style||"custom"),this.opaque=ko.observable(!0),this.opacity=ko.observable(null),this.color=ko.observable(),this.selfCollides=ko.observable(!1),"custom"==this.style()&&("opacity"in e&&1!=e.opacity?(this.opaque(!1),this.opacity(e.opacity)):(this.opaque(!0),this.opacity(null)),"color"in e&&this.color(e.color),"selfCollide"in e?this.selfCollides(!!e.selfCollide):this.selfCollides(!1))}function Label(e){var t=this;this.editing=ko.observable(),this.id=ko.observable(),this.countIndex=ko.observable(),this.primary=ko.observable(e.primary),e.id?this.id(e.id):(u++,this.countIndex(u)),this.index=ko.computed(function(){return t.id()?t.id():t.countIndex()}),this.label=ko.observable(e.label),this.descr=ko.observable(e.descr),this.pos=e.pos,this.mesh=e.mesh}function ControlPoint(){this.pos=ko.observableArray(),this.x=new ControlPointCtrls(this,"x"),this.pos.push(this.x),this.y=new ControlPointCtrls(this,"y"),this.pos.push(this.y),this.z=new ControlPointCtrls(this,"z"),this.pos.push(this.z)}function ControlPointCtrls(e,t){this.parent=e,this.name=ko.observable(t),this.value=ko.observable(null)}function View(e){this.origin={x:ko.observable(e.origin.x),y:ko.observable(e.origin.y),z:ko.observable(e.origin.z)},this.camera={pos:{x:ko.observable(e.camera.pos.x),y:ko.observable(e.camera.pos.y),z:ko.observable(e.camera.pos.z)},up:{x:ko.observable(e.camera.up.x),y:ko.observable(e.camera.up.y),z:ko.observable(e.camera.up.z)}},this.caption=ko.observable(e.caption)}function editanatomy(e){var t=this;l=this,this.view=null,this.currentView=ko.observable(null),this.views=ko.observableArray(),this.labels=ko.observableArray(),this.pins=ko.observableArray(),this.clickMode=ko.observable("nothing"),this.clickedPart=ko.observable(),this.tab=ko.observable("view"),this.templates=ko.observableArray(fs.transpose(window.templateData)),this.selectedTemplate=ko.observable(window.localStorage.getItem("anatomyTemplate")),this.statusText=ko.observable(),this.frontScreenshot=ko.observable(),this.backScreenshot=ko.observable(),this.cardAnswer=ko.observable(window.conceptName),this.anatomyTableVisible=ko.observable(),this.anatomyTable=ko.observableArray(),this.clickPoint={x:0,y:0,z:0,mesh:""},this.structs=ko.observableArray(),this.controlPoint=new ControlPoint,e(this),this.sceneData=window.sceneNode.data;var a=[];$.get("https://s3.amazonaws.com/osmosis-anatomy/v2/index.json?ts="+(+new Date+"editanatomy"),function(e){for(var s in p=e,e)a.push(s);t.loadEditor()}),this.load(),o("anatomy-viewer").on("plugin-ready",function(){o("anatomy-viewer").post("render",t.sceneData)}).on("intersect",function(e){t.statusText(e.meshName),l.clickedPart(e.partName),"addLabel"==l.clickMode()&&"labels"==t.tab()?(l.clickPoint.x=e.x,l.clickPoint.y=e.y,l.clickPoint.z=e.z,l.clickPoint.mesh=e.meshName,l.addLabel()):t.tab("structures"),jumpTo($("."+e.partName.replace(/\s/g,"_")),-20,".scrollable-tab")}).on("camera-move",function(e){playerCameraMoved(e.pos,e.up)}),$(document).create(".ac_results",function(e){$(e.target).addClass("pull-to-top")}),$(document).create(".autocompleteAnatomy",function(e){$(e.target).autocompleteArray(a,{delay:10,minChars:1,matchSubset:1,matchContains:1,autoFill:!0,maxItemsToShow:10})}),this.front=n($(".flashcard .front",this.dom),"",!0,2857),this.back=n($(".flashcard .back",this.dom),"",!0,2857)}function fixed(e){return parseFloat(s(100*e)/100).toFixed(2)}function playerCameraMoved(e,t){l.view.camera.pos.x(s(e.x)),l.view.camera.pos.y(s(e.y)),l.view.camera.pos.z(s(e.z)),l.view.camera.up.x(fixed(t.x)),l.view.camera.up.y(fixed(t.y)),l.view.camera.up.z(fixed(t.z))}function tokenize(e){for(var t=[],a="",s=0;s<e.length;){for(var a="";"a"<=e[s]&&"z">=e[s]||"A"<=e[s]&&"Z">=e[s]||"0"<=e[s]&&"9">=e[s]&&s<e.length;)a+=e[s],s++;if(""!=a&&(t.push(a),a=""),"<"==e[s]){for(;">"!=e[s]&&s<e.length;)a+=e[s],s++;if(""!=a&&">"==e[s]){s++,t.push(a+">"),a="";continue}}for(;!("a"<=e[s]&&"z">=e[s]||"A"<=e[s]&&"Z">=e[s]||"0"<=e[s]&&"9">=e[s])&&"<"!=e[s]&&s<e.length;)a+=e[s],s++;""!=a&&t.push(a)}return t}function getClass(e){return /[0-9]/.test(e)?4:/[a-z]/.test(e)?3:/[A-Z]/.test(e)?2:1}function compareTokens(e,t){if(!isNaN(e)&&!isNaN(t))return+e-+t;var a=getClass(e),s=getClass(t);return 0==a-s?e>t?1:e<t?-1:0:a-s}function compareLabels(e,t){e=tokenize((""+e.index()).replace(/(<([^>]+)>)/ig,"")),t=tokenize((""+t.index()).replace(/(<([^>]+)>)/ig,""));var s=compareTokens(e[0],t[0]);return s?s:1<e.length&&1<t.length?compareTokens(e[1],t[1]):e.length-t.length}function extractLabels(e){var t=[];for(var a in e)t.push(e[a].labelStr+(isNaN(e[a].labelStr)?": ":". ")+e[a].text);return t}var o=t("app/plugin"),d=t("app/pluginIndex"),n=t("models/content"),l=null,c=0,p={};AnatomyStruct.prototype.save=function(){var e={};return e.mesh=this.id(),"custom"==this.style()?(!this.opaque()&&(e.opacity=this.opacity()||.5),e.color=this.color()||"white",this.selfCollides()&&(e.selfCollide=1)):e.style=this.style(),("Left clavicle"==e.mesh||"Right clavicle"==e.mesh)&&console.log(e),this.parts()&&(e.parts=this.parts()),e},AnatomyStruct.prototype.populate=function(){var t=$.Event("keypress");t.which=13,$(".autocompleteAnatomy").trigger(t);var e=p[this.id()];if(e){var a=e.split(":"),s=a[0];if("custom"!=this.style()||this.color()||this.style(s),1<a.length&&1<a[1]){for(var o=[],d=a[1],n=1;n<=d;n++)o.push(n);this.parts(o.join("|"))}}};var u=0;Label.prototype.save=function(){var e={label:this.label(),pos:this.pos,mesh:this.mesh};return this.descr()&&(e.descr=this.descr()),this.id()&&(e.id=this.id()),this.primary()&&(e.primary=1),e},ControlPoint.prototype.set=function(e){this.object=e.id,this.x.value(e.pos.x),this.y.value(e.pos.y),this.z.value(e.pos.z)},ControlPointCtrls.prototype.change=function(e){var t=this;return function(){var a=t.parent.object;if(a){var s=+t.value()+e;t.value(s),o("anatomy-viewer").post("setPosition",{id:a,x:t.parent.x.value(),y:t.parent.y.value(),z:t.parent.z.value()})}}},View.prototype.clone=function(){var e=this.save();return e.caption="",new View(e)},View.prototype.save=function(){return{origin:{x:this.origin.x(),y:this.origin.y(),z:this.origin.z()},camera:{pos:{x:this.camera.pos.x(),y:this.camera.pos.y(),z:this.camera.pos.z()},up:{x:this.camera.up.x(),y:this.camera.up.y(),z:this.camera.up.z()}},caption:this.caption()}},window.initAnatomyPlayer=function(e){l.player=e};var m={"head-top":{x:0,y:0,z:1600},"head-mid":{x:0,y:0,z:1600},midbrain:{x:0,y:-80,z:1500},neck:{x:0,y:0,z:1500},chest:{x:0,y:-120,z:1250},shoulder:{x:-170,y:-80,z:1320},arm:{x:-190,y:-70,z:1180},elbow:{x:-210,y:-60,z:1040},forearm:{x:-230,y:-90,z:920},wrist:{x:-250,y:-120,z:800},pelvis:{x:0,y:-60,z:830},hip:{x:-90,y:-70,z:810},thigh:{x:-95,y:-95,z:595},knee:{x:-80,y:-90,z:380},leg:{x:-85,y:-80,z:160},ankle:{x:-70,y:-70,z:-20}};editanatomy.prototype.loadEditor=function(){var e=this,t=this.sceneData;for(var a in this.views.removeAll(),t.views)e.views.push(new View(t.views[a]));for(var a in e.view=e.views()[0],e.currentView(e.view),this.structs.removeAll(),t.objects)e.structs.push(new AnatomyStruct(t.objects[a]));for(var a in u=0,this.labels.removeAll(),t.labels)e.labels.push(new Label(t.labels[a]));e.labels.sort(compareLabels)},editanatomy.prototype.addCtrlPt=function(e){var t=this;return function(){if(t.controlPoint.object&&o("anatomy-viewer").post("removeFromScene",{id:t.controlPoint.object}),"origin"==e)var a={id:newObj(),radius:40,pos:{x:this.view.origin.x(),y:this.view.origin.y(),z:this.view.origin.z()},color:16777215};else var a={id:newObj(),radius:40,pos:m[e],color:16777215};o("anatomy-viewer").post("buildPin",a),t.controlPoint.set(a)}},editanatomy.prototype.addLabel=function(){this.labels.push(new Label({label:this.clickedPart(),pos:{x:this.clickPoint.x,y:this.clickPoint.y,z:this.clickPoint.z},mesh:this.clickPoint.mesh,descr:""}))},editanatomy.prototype.setClickMode=function(e){var t=this;return function(){t.clickMode(e)}},editanatomy.prototype.addPin=function(){},editanatomy.prototype.setOrigin=function(){var e=this;return function(){console.log("setting origin"),e.view.origin.x(e.controlPoint.x.value()),e.view.origin.y(e.controlPoint.y.value()),e.view.origin.z(e.controlPoint.z.value()),e.refreshView(e.view)}},editanatomy.prototype.resetCameraPos=function(){var e=this;return function(){e.view.camera.pos.x(e.view.origin.x()),e.view.camera.pos.y(-600),e.view.camera.pos.z(e.view.origin.z()),e.refreshView(e.view)}},editanatomy.prototype.resetCameraUp=function(){var e=this;return function(){e.view.camera.up.x(0),e.view.camera.up.y(0),e.view.camera.up.z(1),e.refreshView(e.view)}},editanatomy.prototype.refreshView=function(e){this.view=e,this.currentView(e),o("anatomy-viewer").post("changeView",{origin:{x:e.origin.x(),y:e.origin.y(),z:e.origin.z()},cam:{pos:{x:e.camera.pos.x(),y:e.camera.pos.y(),z:e.camera.pos.z()},up:{x:e.camera.up.x(),y:e.camera.up.y(),z:e.camera.up.z()}}})},editanatomy.prototype.setView=function(e){var t=this;return function(){var a=t.views();t.refreshView(a[e])}},editanatomy.prototype.addView=function(){var e=this.view.clone();this.views.push(e),this.refreshView(e)},editanatomy.prototype.deleteLabel=function(e){var t=this;return function(){t.labels.remove(e)}},editanatomy.prototype.deleteStructure=function(e){var t=this;return function(){t.structs.remove(e)}},editanatomy.prototype.addStructure=function(){var e=new AnatomyStruct({part:"",mesh:""});e.editing(!0),this.structs.push(e)},editanatomy.prototype.persist=function(){var t=$.Event("keypress");t.which=13,$(".autocompleteAnatomy").trigger(t);var e=[],a=this.views();for(var s in a)e.push(a[s].save());var o=[],d=this.structs();for(var s in d)d[s].id()&&o.push(d[s].save());var n=[],l=this.labels();for(var s in l)l[s].label()&&n.push(l[s].save());var c={views:e,objects:o};n.length&&(c.labels=n),this.sceneData=c,console.log(c)},editanatomy.prototype.save=function(){console.log("saving"),this.persist(),$.post("saveAnatomyScene",{nodeID:window.sceneNode.nodeID,data:this.sceneData},function(){$.jGrowl("Saved",{life:1e3,position:"bottom-left"})})},editanatomy.prototype.changeTab=function(e){var t=this;return function(){t.tab(e)}},editanatomy.prototype.load=function(){var e=$(".anatomyPlayer",this.dom);e.empty(),e.append("<iframe name=\"anatomy-viewer\" src=\""+d.player.anatomy+"\" width=\"100%\" height=\"400\" frameborder=\"0\" allowfullscreen=\"\">"),$("iframe",e).load(function(){o("anatomy-viewer").setWindow($("iframe",e)[0].contentWindow)})},editanatomy.prototype.refresh=function(){this.persist(),this.load()},editanatomy.prototype.editJSON=function(){var e=this;this.persist(),dialog("ui/dialogs/EditJSONData",function(t,a,s,o){if(a)try{e.sceneData=JSON.parse(t.json()),e.load(),e.loadEditor(),s()}catch(t){fs.alert("Invalid JSON syntax"),o()}},{json:this.sceneData})},editanatomy.prototype.applyTemplate=function(){var e=this;fs.post("getAnatomyTemplate",{nodeID:this.selectedTemplate()},function(t){e.sceneData=t.data,e.load(),e.loadEditor(),window.localStorage.setItem("anatomyTemplate",e.selectedTemplate())})},editanatomy.prototype.copyOrientation=function(){var e=this;fs.post("getAnatomyTemplate",{nodeID:this.selectedTemplate()},function(t){e.sceneData.views=t.data.views,e.load(),e.loadEditor()})},editanatomy.prototype.saveAsTemplate=function(){var e=this;fs.prompt("Enter a template name",function(t,a){e.persist(),fs.post("saveAsAnatomyTemplate",{name:t,data:e.sceneData},function(){a()})})},editanatomy.prototype.takeUnlabeledScreenshot=function(e){var t=this;return function(){t.takeScreenshot({labeled:!1},function(t){e(t)})}},editanatomy.prototype.takeLabeledScreenshot=function(e,t){var a=this;return function(){a.takeScreenshot({labeled:!0},function(s,o){e(s);var d=[];for(var l in o)d.push(o[l].labelStr+(isNaN(o[l].labelStr)?": ":". ")+o[l].text);a[t]=n($(".flashcard ."+t,a.dom),d.join("<br>"),!0,2857)})}},editanatomy.prototype.takeScreenshot=function(e,t){var a=this;o("anatomy-viewer").post("screenshot",{},function(s){var o=!1;for(var d in s.labels)s.labels[d].ts&&(o=!0);var n=[];for(var d in s.labels)(!o||s.labels[d].ts)&&n.push(s.labels[d]);for(var d in n){var l=n[d];l.index=ko.observable(o?l.ts:l.id)}n.sort(compareLabels);var c=1;for(var d in n)isNaN(n[d].id)?n[d].labelStr=n[d].id:(n[d].labelStr=c,c++);dialog("ui/dialogs/EditScreenshot",function(s,o,d){o&&(e.labeled?(t(s.canvas[0].toDataURL("image/png"),n),a.screenshotLabels=n):t(s.image.toDataURL("image/png")),d())},{src:s.data,labels:n,labeled:e.labeled})})};var v={muscle:"Identify the <u><b>muscle</b></u> pinned below and its origin, insertion, and action. (<i>Hint: The action is determined by the 3D relationship between the origin and insertion</i>)"};editanatomy.prototype.fcTemplate=function(e){var t=this;return function(){var a=v[e]||"Identify the <u><b>"+e+"</b></u> pinned below.";t.front=n($(".flashcard .front",this.dom),a,!0,2857)}},editanatomy.prototype.createFlashcard=function(e){if(window.conceptName){if(!this.front.content())return fs.alert("The front of the card is blank!");fs.post("createAnatomyFlashcard",{concept:window.conceptName,answer:this.cardAnswer(),front:this.front.content(),back:this.back.content(),frontImage:this.frontScreenshot(),backImage:this.backScreenshot(),backTable:this.backTable?this.backTable.content():null},function(){$.jGrowl("Created flashcard",{life:1e3,position:"bottom-left"}),e()})}else fs.alert("A concept name is needed to perform this action.")},editanatomy.prototype.showAnatomyTable=function(){var e=JSON.parse(window.localStorage.getItem("anatomy-table"));this.anatomyTableVisible(!0);var t=[];for(var a in e)e[a].name=a,e[a].checked=ko.observable(),t.push(e[a]);t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),this.anatomyTable(t)},editanatomy.prototype.addTable=function(){var e="",t=[],a=this.anatomyTable();for(var s in a)a[s].checked()&&t.push(a[s]);for(var s in t){var o=t[s];1<t.length&&(e+="<b>Part:</b> "+o.Muscle+"<br>"),e+="<b>Origin:</b> "+o.Origin+"<br>",e+="<b>Insertion:</b> "+o.Insertion+"<br>",e+="<b>Action:</b> "+o.Action+"<br>"}e+="<br>(<i>To remember the action, take a moment to visualize the origin and insertion and imagine the motion that contraction of the muscle would cause.</i>)",this.backTable=n($(".anatomy-table .backtable",this.dom),e,!0,2857)},editanatomy.prototype.createThumbnails=function(e){fs.post("createAnatomyThumbnail",{nodeID:sceneNode.nodeID,frontImage:this.frontScreenshot(),backImage:this.backScreenshot(),labels:extractLabels(this.screenshotLabels)},function(){$.jGrowl("Created thumbnails",{life:1e3,position:"bottom-left"}),e()})},editanatomy.prototype.cleanVersions=function(){var e=this.structs();for(var t in e){var a=e[t].parts();a&&(a=a.split("|"),1<a.length&&e[t].parts(1))}},a.exports=editanatomy}),define("page.editarticles",function(e,t,a){function Article(e){var t=this;for(var a in e)this[a]=e[a];this.include=ko.observable(e.include),this.linkColor=ko.computed(function(){if(-1==t.include())return"gray";return 0==t.include()?"":1==t.include()?"black":void 0})}Article.prototype.setInclude=function(e){var t=this;return function(){fs.post("setArticleInclude",{articleID:t.articleID,vote:e},function(){t.include(e)})}},a.exports=function editarticles(){var e=_.groupBy(fs.transpose(articleData),function(e){return e.topic});for(var t in this.topics=ko.observableArray(),e){var a=[];for(var s in e[t])a.push(new Article(e[t][s]));this.topics.push({topic:t,articles:a})}}}),define("page.editconcept",function(e,t,a){function editconcept(e){this;if(window.groupID=1452,window.MID=2802,this.hasPages=ko.observable(!!window.conceptCard),this.term=ko.observable(),window.fcAssocIndex=_.groupBy(fs.transpose(window.fcAssocData),function(e){return e.nodeID}),e(this),window.conceptCard){var l=function getHotkeyHandler(t){return function(a){d.hotkey(t)&&a.preventDefault()}};window.editIndex=_.indexBy(fs.transpose(window.editData),function(e){return e.nodeID});var t=fs.transpose(window.conceptCard.nodeData,s);for(var a in t)nodeIndex[t[a].nodeID]=t[a];var d=fs.mix(this,"models/concept/Card",{conceptCard:window.conceptCard,term:window.termName}),n=["tab","mod+shift+s"];for(var a in n)Mousetrap.bind(n[a],l(n[a]))}o.init()}var s=t("models/Node"),o=t("app/wikify");window.useStrictEdits=!0,window.nodeIndex=fs.getIndex("node"),window.packIndex={},window.editIndex={},editconcept.prototype.createConceptCard=function(){window.location.replace(window.location.href+"&create=1")},a.exports=editconcept}),define("page.editcontent",function(e,t,a){function editcontent(e){this;window.groupID=0,this.mode=ko.observable("view"),fs.load("node",window.nodeData),window.nodeIndex=fs.getIndex("node"),o.loadTags(),d.links(window.linkData);var t=fs.transpose(window.revData);t.sort(function(e,t){return new Date(t.modified)-new Date(e.modified)}),this.revs=ko.observableArray(t),this.hasEditRecord=ko.observable(),e(this),this.list=fs.mixList(this,".quesList"),this.current=this.list.push("models/ques/ViewContainer",{model:nodeIndex[urlQuery.n],tools:{types:"none",tags:!0,actions:!1,contentTeamTags:!0}}),t.length&&"rev"==urlQuery.show&&this.list.items[0].showRevision(t[0].oldData),"edit"==urlQuery.show&&this.list.items[0].edit(),window.quesEditRecord&&(this.hasEditRecord(!0),fs.mix(this,"ui/QuesEditPanel",{edit:window.quesEditRecord}))}var s=t("models/Node"),o=t("app/module"),d=t("app/loader");window.useStrictEdits=!0,window.packIndex={},window.role=2,editcontent.prototype.when=function(e){return $("<span>"+e+"</span>").cuteTime().html()},editcontent.prototype.showRevision=function(e){var t=this;return function(){t.current.showRevision(e)}},editcontent.prototype.edit=function(){this.list.removeAll(),this.mode("edit"),this.current=this.list.push("models/ques/EditContainer",{model:nodeIndex[urlQuery.n],tools:{types:"none",tags:!0,contentTeamTags:!0}})},editcontent.prototype.view=function(){this.list.removeAll(),this.mode("view"),this.current=this.list.push("models/ques/ViewContainer",{model:nodeIndex[urlQuery.n],tools:{types:"none",tags:!0,actions:!1,contentTeamTags:!0}})},editcontent.prototype.save=function(e){var t=this;this.current.editBtns.saveEditsAsPublic(function(){t.view(),e()})},editcontent.prototype.cancel=function(){window.location.reload()},a.exports=editcontent}),define("page.editkinetic",function(e,t,a){a.exports=function editkinetic(e){e(this),fs.mix(this,"cms/ContentGallery",{route:"kinetic",model:"models/Kinetic",view:"models/KineticView"})}}),define("page.editlearn",function(e,t,a){a.exports=function editlearn(e){this;window.groupID=1452,window.MID=2802,e(this),this.videoManagement=fs.mixAppend($(".video-management",this.dom),"ui/VideoManagement",{})}}),define("page.edittable",function(e,t,a){function edittable(e){this;this.editing=ko.observable(),this.title=ko.observable(),this.activeTable=null,this.tables=[],this.conceptTargets=ko.observableArray(),fs.load("node",window.nodeData),window.nodeIndex=fs.getIndex("node"),d.init(),e(this);var t=nodeIndex[window.tableNodeID];if(t){var a=t.data();for(var o in this.colCount=a.heading.length,this.heading=this.addTableSection({table:[a.heading]},{isHeading:!0}),this.heading.edit(),a.tables){var n=this.addTableSection(a.tables[o]);this.tables.push(n),"edit"in urlQuery&&0==o&&n.edit()}this.title(a.title),this.footnotes=s($(".footnotes",this.dom),a.notes,!0)}else this.colCount=3,this.footnotes=s($(".footnotes",this.dom),"",!0)}var s=t("models/content"),o=t("models/Node"),d=t("app/wikify");edittable.prototype.addColumn=function(e){var t=this;return function(){var a=t.activeTable.getActiveColumn(e);for(var s in t.heading.addColumn(a),t.tables)t.tables[s].addColumn(a)}},edittable.prototype.removeColumn=function(){var e=this.activeTable.getActiveIndex();if(e)for(var t in this.heading.removeColumn(e.col),this.tables)this.tables[t].removeColumn(e.col);else fs.alert("Select a column to delete.")},edittable.prototype.addRow=function(e){var t=this;return function(){t.activeTable.addRow(e)}},edittable.prototype.removeRow=function(){this.activeTable.removeRow()},edittable.prototype.onEditTable=function(e){e.isHeading||(this.activeTable&&this.activeTable.save(),this.editing(!0),this.activeTable=e,!this.footnotes&&(this.footnotes=s($(".footnotes",this.dom),this.footnotesContent,!0)))},edittable.prototype.addTableSection=function(e,t){t=t||{};var a=this,e=fs.mixAppend($(".sections",this.dom),"ui/EditableContentTable",{isHeading:t.isHeading,colCount:this.heading?this.heading.colCount:null,model:e,onEdit:function onEdit(e){a.onEditTable(e)}});return e},edittable.prototype.addSectionClick=function(){var e=this.addTableSection();this.tables.push(e),e.edit()},edittable.prototype.removeSectionClick=function(){if(this.activeTable)for(var e in this.tables)if(this.activeTable==this.tables[e])return this.tables.splice(e,1),this.activeTable.dom.remove(),void(this.activeTable=null)},edittable.prototype.save=function(){var e=[];for(var t in this.tables){var a=this.tables[t].save();e.push(a)}var s=this.heading.save(),o={title:this.title(),heading:s.table[0],tables:e},d=this.footnotes.content();d&&(o.notes=d),fs.empty($(".footnotes",this.dom)),this.footnotes=null,this.footnotesContent=d,this.editing(!1),this.activeTable=null,$.ajax({url:"/modifyContentTable",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({nodeID:window.tableNodeID,data:o}),success:function success(){},error:function error(){}})},edittable.prototype.getConceptCards=function(){this.conceptTargets;var e=[];for(var t in this.tables){var a=this.tables[t].save();for(var s in a.table)e.push(a.table[s][0])}var o=[];d.wikifyText(e.join("  . . . "),function(e,t){o.push(t)}),console.log(o),this.conceptTargets(o)},edittable.prototype.addConceptTarget=function(){var e=this;fs.prompt("Enter the exact concept card name:",function(t,a){e.conceptTargets.push(t),a()})},edittable.prototype.pushTableToConceptCards=function(e){fs.post("pushTableToConceptCards",{tableNodeID:urlQuery.n,concepts:this.conceptTargets()},function(){e()})},a.exports=edittable}),define("page.edittables",function(e,t,a){a.exports=function edittables(e){e(this),fs.mix(this,"cms/ContentGallery",{route:"table",model:"models/Table",view:"models/TableView"})}}),define("page.edittags",function(e,t,a){function edittags(){this.letters=ko.observableArray();for(var e=65;e<91;e++)this.letters.push(String.fromCharCode(e))}function needsWork(){return!0}edittags.prototype.clickLetter=function(e){var t=this;return function(){t.displayTags(e)}},edittags.prototype.displayTags=function(e){for(var t in fs.empty($(".tags",this.dom)),firstAid)firstAid[t].tag[0]==e&&needsWork(firstAid[t])&&fs.mixAppend($(".tags",this.dom),"ui/EditableTopicTag",{tree:firstAid[t]});console.log(e)},a.exports=edittags}),define("page.editterms",function(e,t,a){function editterms(){var e=fs.transpose(termData,WikiTerm);e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),this.unclassified=ko.observableArray(getTerms(e,function(e){return!e.classID()})),this.anatomy=ko.observableArray(getTerms(e,function(e){return 1==e.classID()})),this.physiology=ko.observableArray(getTerms(e,function(e){return 2==e.classID()})),this.pathophysiology=ko.observableArray(getTerms(e,function(e){return 3==e.classID()})),this.pharmacology=ko.observableArray(getTerms(e,function(e){return 4==e.classID()}))}function getTerms(e,t){var a=[];for(var s in e)t(e[s])&&a.push(e[s]);return a}function WikiTerm(){this.classID=ko.observable()}editterms.prototype.setClass=function(e,t){this;return function(){e.classID(t),fs.post("setWikiTermClass",{termID:e.termID,classID:e.classID()},function(){})}},a.exports=editterms}),define("page.error",function(e,t,a){a.exports=function(){$("#errorBox").css("display","block"),$("#divErrorMsg").html(errorMsg)}}),define("page.forms",function(e,t,a){var s={oer:"rwjfMed","oer/apply":"nbmeApply","oer/nursing":"rwjfNursing",getpublished:"getPublished",sime:"sime",boardstudy:"boardstudy"};a.exports=function forms(e){e(this),this.dom.append(template("forms/"+s[document.URL.slice(serverURL.length).split("?")[0]]))}}),define("page.freeevents",function(e,t,a){a.exports=function freeevents(){$(".school-name").on("change",function(){"other"==$(".school-name option:selected").val()?($(".other-school-name").removeClass("hidden"),$(".other-school").attr("required","true")):($(".other-school").attr("value","").removeAttr("required"),$(".other-school-name").addClass("hidden"))})}}),define("page.giftcard",function(e,t,a){function formatPlan(e){var t={time:e,tag:""};return t.title=12===e?"1 year":0==e%12?"".concat(e/12," years"):1===e?"1 month":"".concat(e," months"),t.checked=!1,t}function getMonths(e,t){return"month"===t?e:"year"===t?12*e:e}var s=t("app/storeCart"),o=t("shared/urlRegex"),d=function(){"use strict";function giftcard(e){var t=this;_classCallCheck(this,giftcard);var a=this;this.dealName=localStorage.getItem("dealName")?localStorage.getItem("dealName"):null,this.defaultMessage="Hope you enjoy this Osmosis eGift card!",this.messageInput=ko.observable(""),this.message=ko.computed(function(){return""===t.messageInput()?t.defaultMessage:t.messageInput().replace(o,"[link removed]")}),this.selectedCard=ko.observable({}),this.inventoryIndex=s.parseInventoryData(inventoryData),this.inventoryIndexByMonth={};for(var c=0,p;c<Object.keys(this.inventoryIndex).length;c+=1)p=Object.keys(this.inventoryIndex)[c],this.inventoryIndexByMonth[getMonths(this.inventoryIndex[p].amount,this.inventoryIndex[p].unit)]=this.inventoryIndex[p];var d=[1,6,12,24,48];if(this.plans=ko.observableArray(),!s.noInventory)for(var u=0;u<d.length;u+=1)this.plans.push(formatPlan(d[u]));this.selectedPlan=ko.observable(this.plans().find(function(e){return 12===e.time}));var n=this.plans().find(function(e){return 12===e.time});this.selectPlan(n,this),this.recipientEmail=ko.observable(),this.senderEmail=ko.observable(window.user?window.user.email:""),this.deliveryDate=ko.observable(""),this.attemptedPurchase=ko.observable(!1);var l=/\S+@\S+\.\S+/;this.validInputs={selectedPlan:ko.computed(function(){return!!t.selectedPlan()}),recipientEmail:ko.computed(function(){return l.test(a.recipientEmail())}),senderEmail:ko.computed(function(){return l.test(a.senderEmail())}),deliveryDate:ko.computed(function(){return 0<=moment(t.deliveryDate()).diff(new Date,"days")||!t.deliveryDate()})},this.allInputsValid=ko.computed(function(){for(var e=0,t;e<Object.keys(a.validInputs).length;e+=1)if(t=Object.keys(a.validInputs)[e],!a.validInputs[t]())return!1;return!0}),this.purchaseError=ko.observable(),this.purchaseSuccess=ko.observable(!1),this.cardType=ko.observable(),e(this),window.saleBanner=fs.mixAppend($(".sale-banner"),"ui/SaleBanner"),this.cc=fs.mix(this,"ui/Creditcard",{paymentURI:"giftcardPayment",purchaseError:this.purchaseError,cardType:this.cardType}),this.cardPicker=fs.mix(this,"ui/CardPicker",{selectedCard:this.selectedCard})}return _createClass(giftcard,[{key:"selectPlan",value:function selectPlan(e,t){for(var a=t.plans(),s=0;s<t.plans().length;s+=1)a[s].checked=a[s]===e;t.selectedPlan(e)}},{key:"getPrimeInventory",value:function getPrimeInventory(e){return this.inventoryIndexByMonth[e]}},{key:"strikePrice",value:function strikePrice(e){var t=this.getPrimeInventory(e);return t.strikePrice?t.strikePrice/100:0}},{key:"totalPrice",value:function totalPrice(e){var t=this.getPrimeInventory(e);return t.price}},{key:"purchaseClick",value:function purchaseClick(e){var t=this,a=this;if(this.attemptedPurchase(!0),!this.allInputsValid())return void e();var o={image:this.selectedCard().id,title:this.selectedPlan().title,recipientEmail:this.recipientEmail(),senderEmail:this.senderEmail(),message:this.message(),deliveryDate:this.deliveryDate()?this.deliveryDate():moment(new Date).format("YYYY-MM-DD")};s.clear(),s.add(this.getPrimeInventory(this.selectedPlan().time).inventoryID);for(var d=s.items(),n=[],l=a.totalPrice(this.selectedPlan().time),c=0,p;c<Object.keys(d).length;c+=1)p=Object.keys(d)[c],this.discountCode=d[p].group,n.push(d[p].key);a.cc.submit({totalCharge:l,currency:s.currency,items:n,purchaseInformation:o},function(){a.purchaseError(!1),a.purchaseSuccess(!0);var o=(l/100).toFixed(2),d=t.getPrimeInventory(t.selectedPlan().time),n=d.strikePrice?d.strikePrice:d.price;keen.track("prime_purchase",{paid_amount:o,paid_currency:s.currency(),paid_amount_dollars:"inr"===s.currency()?(o/window.conversionRateINR).toFixed(2):o,months:t.selectedPlan().time,price:n,type:"gift-card",discount_code:t.discountCode,deal:t.dealName,success:1,error_message:0}),setTimeout(function(){goToByScroll(".confirmation-message")},1e3);e({message:"Purchase successful",disabled:!0,classes:"disabled"})},function(t){a.purchaseError(t.message),e()})}}]),giftcard}();a.exports=d}),define("page.grid",function(e,t,a){function grid(e){this;this.category=ko.observable(),this.concepts=ko.observable(),e(this)}function split(e){for(var t in e=e.split(","),e)e[t]=e[t].trim();return e}grid.prototype.submit=function(){var e=this;e.concepts()&&fs.post("adminSubmitGridConcepts",{category:this.category(),concepts:split(this.concepts())},function(){e.concepts("")})},a.exports=grid}),define("page.groupinvite",function(e,t,a){function groupinvite(e){var t=fs.transpose(examData,o);this.isSchoolSpecific=ko.observable(0<t.length),this.afterPopup=ko.observable(),this.groupName=ko.observable(groupName),e(this),fs.mix(this,"ui/ExamSchedule",{exams:t})}var s=t("shared/topics"),o=t("models/Exam");groupinvite.prototype.joinGroup=function(){fs.post("joinGroup",{id:window.groupID,k:window.groupHash},function(e){e.redirect?window.location=e.redirect:e.url&&window.location.replace("/groupnav".concat(e.url))}),window.userID&&window.IntercomEvent("trackEvent","joined_group",{group_name:this.groupName(),group_url:"https://www.osmosis.org/".concat(groupUrl),group_id:groupID})},groupinvite.prototype.cancel=function(){location.replace("/")},a.exports=groupinvite}),define("page.groupnav",function(e,t,a){a.exports=function groupnav(){window.location.replace("/"+groupURL)}}),define("page.highlightingBeta",function(e,t,a){a.exports=function highlightingBeta(){}}),define("page.import",function(e,t,a){var s=t("app/module"),o=t("core/doc"),d=t("tabs/ViewQues");a.exports=function(){for(var e in s.init(),s.quesIndex){var t=s.quesIndex[e];-1!=imported.indexOf(t.nodeID)&&(t.alreadyImported=!0)}if(0<missingTags.length){var a=$("<div class=\"alert alert-block\"> <b>WARNING:</b> The following tags are present in this module but not the target module. Any questions you import right now will <b>not</b> keep their tags in the new module. Click the tags you want to transfer into the new module: </div>").appendTo(o.content);for(var e in missingTags)$("<a href=\"\" class=\"mlm\" value=\""+missingTags[e]+"\">").appendTo(a).append(s.tagIndex[missingTags[e]].tag).click(function(t){var e=$(this);t.preventDefault(),$.post("/importTag",{m:intoMID,id:e.attr("value")},parseResult(function(){e.addClass("hidden")}))})}d.importInto=intoMID,d.dom=o.content,d.init(),$("#divNewQuestionTools").addClass("hidden")}}),define("page.index",function(e,t,a){function buildWikiIndex(e){for(var t in e)for(var a in p[t.toLowerCase()]=t,e[t])1<e[t][a].length&&(p[e[t][a]]=t)}function index(e){this;if(userID){if(0==MID?0!=groupID&&(d.init(),0==window.group.active,window.checkForUnsavedWork.push({check:function check(){return 1==v.uploaders.length?"1 document upload is still pending. If you leave this page it will be lost!":v.uploaders.length?v.uploaders.length+" uploads are still pending. If you leave this page they will be lost!":void 0},clear:function clear(){}})):"/qbanks"==urlPrefix?n.init():o.init(),navData.group){var t="/"+navData.group.url+"/group/dashboard";$("#howToUseOsmosis a").attr("href",t),0==MID&&0!=groupID&&$("#howToUseOsmosis a").click(function(a){t==window.location.pathname?$("#quick-tour-button").trigger("click"):tabToURL(t),a.preventDefault()})}else $("#howToUseOsmosis").remove();m.init(),navData.moduleData&&fs.load("module",navData.moduleData),navData&&(groupID&&($(".group a").attr("href","/"+navData.group.url),$(".group .the-group").html("<strong>Group:</strong> "+navData.group.name)),MID&&($(".module").removeClass("hidden"),$(".module a").attr("href","/"+navData.group.url+"/"+navData.module.url),$(".module .the-module").html("<strong>Module:</strong> "+navData.module.name),FEATURES.docs&&$(".module-search-section").removeClass("hidden"))),fs.startSync(window.__sync),window.wikiData&&buildWikiIndex(window.wikiData),e(this)}else $("#LogInWithFacebook").click(function(){c.withFacebook()}),$("#LogInWithGoogle").click(function(){c.withGoogle()});window.nav=new s(tabRoutes),nav.go(location.pathname),b.update(),window.learnConcept&&h.show(window.learnConcept,{ref:"learn-url"}),this.initTours(),window.isSinglePageApp=!0}var s=t("app/TabNav"),o=t("app/module"),d=t("app/group"),n=t("app/qbanks"),l=t("ui/Landing"),c=t("app/login"),p=t("app/wikiIndex"),u=t("app/dbResponses"),m=t("app/wikify"),v=t("app/uploaders"),b=t("app/who"),h=t("ui/concept"),g=t("shared/topics"),f=t("app/tour");index.prototype.initTours=function(){this;f.tourLauncher=fs.mixAppend($("body"),"ui/TourLauncher")},index.prototype.initOffClickListener=function(t,a){$(document).on("click",function(s){0==$(s.target).closest(t).length&&a.addClass("hidden")})},index.prototype.purchaseModal=function(){console.log("hello")},a.exports=index}),define("page.institutions",function(e,t,a){a.exports=function institutions(e){e(this)}}),define("page.interview",function(e,t,a){a.exports=function interview(){this;this.isAdmin=256==window.userID}}),define("page.learnLanding",function(e,t,a){function learnLanding(e){var t=this;this.hasWatchedVideo=!1,this.concept=window.concept,e(this),this.parentDom=$(".models-learn-LearnCard"),$(window).resize(function(){t.resetSidebar()}),$(window).scroll(function(){t.positionSidebar(),t.updateActiveSidebar()}),this.initClickHandlers(),this.checkForAnatomy(),this.initShareLink(),this.trackConceptData(),this.initVideoEvents(),this.hideFcAndQues(),urlQuery.t||urlQuery.time||$(".trial-banner").removeClass("hidden"),this.concept.learnNode&&this.concept.learnNode.nodeID&&setTimeout(function(){fs.post("updateLearnViews",{learnNodeID:t.concept.learnNode.nodeID})},1e4),this.initSearchBox(),this.videoSignupDialogActive=!1,fs.mixAppend($(".memory-anchor-section"),"models/learn/LearnCardSection",{id:"memory",name:"Memory Anchors",vm:"MemoryAnchorSection",theme:"teal",icon:"fas fa-anchor",active:ko.observable(),visible:ko.observable(),data:this.concept.sections.memory,loggedOut:!0,card:this.concept}),fs.mixAppend($(".doc-search-section"),"models/learn/LearnCardSection",{id:"docs",name:"Document search",vm:"DocSearchSection",icon:"fi fi-doc-search",theme:"olive",active:ko.observable(),visible:ko.observable(),data:this.concept,loggedOut:!0,card:this.concept}),fs.mixAppend($(".resources-section"),"models/learn/LearnCardSection",{id:"resources",name:"Other resources",vm:"ResourcesSection",icon:"fas fa-globe-americas",theme:"purple",active:ko.observable(),visible:ko.observable(),data:this.concept.sections.resources,loggedOut:!0,card:this.concept}),fs.mixAppend($(".related-section"),"models/learn/LearnCardSection",{id:"related",name:"Related Concepts",vm:"RelatedSection",icon:"fas fa-link",theme:"teal",active:ko.observable(),visible:ko.observable(),data:this.concept.sections.related,card:this.concept,loggedOut:!0})}function parseTime(e){var t=e.match(/[a-zA-Z]+|[0-9]+/g);if(4==t.length)return 60*t[0]+t[2];return 2==t.length&&"m"==t[1]?60*+t[0]:2==t.length&&"s"==t[1]?+t[0]:1==t.length?+t[0]:0}var s=t("ui/interactiveObj"),o=t("app/test");learnLanding.prototype.trackConceptData=function(){function getStepTotal(e,t){var a=0;for(var s in e.sections.questions)a+=e.sections.questions[s].data["step"+t].list.length;return a}function getMemoryTotal(e,t){var a=0;for(var s in e.sections.memory)for(var o in e.sections.memory[s].data)e.sections.memory[s].data[o].name==t&&(a+=e.sections.memory[s].data[o].links.length);return a}var e=this,t={concept:this.concept.name.toLowerCase(),organ_system:this.concept.breadcrumb?this.concept.breadcrumb[0]?this.concept.breadcrumb[0].toLowerCase():0:0,flashcards:this.concept.fcCount,questions:this.concept.quesCount,questions_step1:getStepTotal(this.concept,1),questions_step2:getStepTotal(this.concept,2),has_up_next:!!(this.concept.upNext&&this.concept.upNext.title),picmonic:getMemoryTotal(this.concept,"Picmonic"),sketchy:getMemoryTotal(this.concept,"Sketchy Medical"),references:function getReferencesTotal(e){var t=0;for(var a in e.sections.references)e.sections.references[a].data&&(t+=e.sections.references[a].data.length);return t}(this.concept),related_concepts:function getRelatedTotal(e){return e.sections.related?e.sections.related.length:0}(this.concept),is_prime:!!this.concept.isPrimeOnly,learnNodeID:this.concept.feature?this.concept.feature.learnNodeID:this.concept.learnNode?this.concept.learnNode.nodeID:0};keen.track("open_concept_card",t),t.logged_in=!1,analytics.track("Open Concept Card",t),this.trackSharedLink()},learnLanding.prototype.initShareLink=function(){var e=window.location.href;$(".social .share .copy input").attr("value",e)},learnLanding.prototype.updateActiveSidebar=function(){var e=$("html, body"),t=$(".contents-section"),a=[];for(var s in $.each($(".index-list .index-item"),function(e,t){a.push(t)}),a)$(".wrapper",a[s]).removeClass("active");if(t.position().top<=$(document).scrollTop())for(var s in a)if(a[s]){var o=$(a[s]).attr("data-id"),d=$(".models-learn-LearnCardSection."+o);if(d.offset()){var n=d.offset().top-85-$(document).scrollTop();if(15>=n)if(0<=n){for(var l in a)$(".wrapper",a[l]).removeClass("active");$(".wrapper",a[s]).addClass("active")}else{var c=d.outerHeight()+85;if(15<c+n){for(var l in a)$(".wrapper",a[l]).removeClass("active");$(".wrapper",a[s]).addClass("active")}}}}},learnLanding.prototype.checkForAnatomy=function(){if($("body").hasClass("anatomy-concept")){var e=window.anatomyData;e&&e.data&&this.renderAnatomyViewer(e)}},learnLanding.prototype.renderAnatomyViewer=function(e){s.embed({data:ko.observable(e)},$(".anatomy-viewer"))},learnLanding.prototype.positionSidebar=function(){if(991<$(window).width()){var e=0,t=$(".contents-section").position().top;t<$(window).scrollTop()?(e+=$(".notifications").outerHeight()+$("#landing-nav").outerHeight()+10,$(".index-column").css("top",e).css("position","fixed").css("left","auto")):(this.resetSidebar(e),$(".index-column").css("top",e).css("position","").css("left",""))}},learnLanding.prototype.resetSidebar=function(e){e=e||15,$(".index-column").css("top",e).css("position","").css("left","")},learnLanding.prototype.scrollToEl=function(e){if(e){var t=$("body, html"),a=$("#landing-nav").outerHeight()+10,s=$(e).offset().top;t.animate({scrollTop:s-a},500)}},learnLanding.prototype.scrollToMenu=function(){this.scrollToEl($(".index-column"))},learnLanding.prototype.initClickHandlers=function(){var t=this;$(".index-column .index-item").on("click",function(){var e=$(this).attr("data-id");t.scrollToEl(".models-learn-LearnCardSection."+e)}),$(".scroll-to-menu").on("click",function(){t.scrollToMenu()}),$("[data-type=\"cta-trigger\"]").addClass("cta-trigger"),$("[data-type=\"cta-trigger\"]").on("click",function(a){a.preventDefault(),a.stopPropagation(),dialog("ui/dialogs/SignupDialog",{redirect:"/learn/".concat(window.concept.name.replace(/ /g,"_")),source:"library-resource-lockout"});var e=$(this).attr("data-keen");e&&(keenData=JSON.parse(e),t.trackInteraction(keenData))}),$("[data-type=\"direct-cta\"]").on("click",function(a){a.preventDefault(),a.stopPropagation();var e=$(this).attr("data-keen");e&&t.trackInteraction(JSON.parse(e)),dialog("ui/dialogs/SignupDialog",{redirect:"/learn/".concat(window.concept.name.replace(/ /g,"_")),source:"library-video-lockout"})}),$(".social .share .copy").on("click",function(){t.shareLinkClick()}),$(".social .share .share-fb").on("click",function(){t.shareToFB()}),$(".custom-quiz-actions .current-quiz .quiz-type").on("click",function(){var e=$(this).html();$(".custom-quiz-actions .current-quiz .the-label").html(e)})},learnLanding.prototype.shareToFB=function(){var e=$(".social .share .copy input").val();FB.ui({method:"share",href:e+"?utm_medium=osmosis-app&utm_source=learn-page-share-fb"},function(){}),this.trackVideoInteraction("share-fb")},learnLanding.prototype.shareLinkClick=function(){var e=$(".social .share .copy input");e.select();var t=e.val()+"?utm_medium=osmosis-app&utm_source=learn-page-share";document.queryCommandSupported("copy")&&null===window.mobile.mobile()?(document.execCommand("copy"),$.jGrowl("Link copied to clipboard!",{life:2e3,position:"center",theme:"blue"})):fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\""+t+"\" /><script type=\"text/javascript\">function inputSelect(){$(\"#share-link-popup-input\").select();} setTimeout(function(){inputSelect()},500);</script>","Share Video","info"),this.trackVideoInteraction("share")},learnLanding.prototype.trackInteraction=function(e){var t=this,a={"quiz:update":function quizUpdate(){var a=[],s=$(".custom-quiz-actions .current-quiz .the-label").html();if(t.concept.breadcrumb&&0<=t.concept.breadcrumb.indexOf(s)){for(var o in t.concept.breadcrumb){var d=t.concept.breadcrumb[o];if(a.push(d),d==s)break}e.topic=0<a.length?a.join("|").toLowerCase():0}else e.topic=s.toLowerCase()},"video:next":function videoNext(){e.is_prime=!!this.concept.isPrimeOnly}};a[e.feature+":"+e.interaction]&&a[e.feature+":"+e.interaction](),e.concept=this.concept.name.toLowerCase(),e.organ_system=this.concept.breadcrumb?this.concept.breadcrumb[0]?this.concept.breadcrumb[0].toLowerCase():0:0,keen.track("concept_card_interaction",e)},learnLanding.prototype.trackVideoInteraction=function(e){var t={feature:"video",is_prime:!!this.concept.isPrimeOnly,interaction:e,mediaID:this.concept.feature&&this.concept.feature.mediaID};this.trackInteraction(t)};var d=[{point:.1,event:"10_percent",fired:ko.observable()},{point:.25,event:"25_percent",fired:ko.observable()},{point:.5,event:"50_percent",fired:ko.observable()},{point:.75,event:"75_percent",fired:ko.observable()},{point:.9,event:"complete",fired:ko.observable()}];learnLanding.prototype.trackVideoView=function(){var e={is_prime:!!this.concept.isPrimeOnly,concept:this.concept.name.toLowerCase(),organ_system:this.concept.breadcrumb?this.concept.breadcrumb[0]?this.concept.breadcrumb[0].toLowerCase():0:0,addr:this.concept.breadcrumb};keen.track("video_view",e)},learnLanding.prototype.initVideoEvents=function(){var e=this;this.rateChanges=0;var t=window.learnVideoPlayer;if(t){var l=function videoSeek(e,t){e&&(e.paused()?e.currentTime(e.currentTime()+t):(e.pause(),e.currentTime(e.currentTime()+t),e.play()))};t.on("play",function(){e.trackVideoInteraction("start"),e.trackVideoView()}),t.on("pause",function(){e.trackVideoInteraction("pause")}),t.on("ratechange",function(){if(2<=e.rateChanges){var a=t.playbackRate();e.trackVideoInteraction(a+"x")}else e.rateChanges++}),t.on("timeupdate",function(){var a=this,s=0<t.duration()&&0<t.currentTime()?t.currentTime()/t.duration():0;for(var o in 30<t.currentTime()&&setTimeout(function(){document.fullscreenElement?document.exitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),a.videoSignupDialogActive||(dialog("ui/dialogs/SignupDialog",{lockout:!0,primaryMessage:"Create your <b>free Osmosis account</b> to continue watching this video and access tons of other high-yield content and features.",characterMessage:"We're glad you're enjoying Osmosis videos!",redirect:"/learn/".concat(window.concept.name.replace(/ /g,"_")),source:"timed-video-lockout"}),a.videoSignupDialogActive=!0);var e={name:window.concept.name,time:t.currentTime()};localStorage.setItem("signupTimestamp",JSON.stringify(e)),t.pause()},1e3),d){var n=d[o];s>=n.point&&!n.fired()&&(e.trackVideoInteraction(n.event),n.fired(!0))}});var a={},s=function onVideoKeyDown(e){if(48<=e.which&&57>=e.which){var s=t.paused();return t.pause(),t.currentTime(t.duration()*(e.which-48)/10),void(s||t.play())}switch(e.which){case 32:t.paused()?t.play():t.pause(),e.preventDefault();break;case 37:l(t,a[37]?-10:-5);break;case 39:l(t,a[39]?10:5);break;case 74:l(t,-10);break;case 76:l(t,10);break;default:}a[e.which]=!0},o=function onVideoKeyUp(e){delete a[e.which]};if($(".vjs-control-bar",t.contentEl()).css({outline:"none"}).attr({tabindex:"2"}),$(".vjs-control-bar",t.contentEl()).keydown(s),$(".vjs-control-bar",t.contentEl()).keyup(o),t.on("fullscreenchange",function(){$(t.controlBar.fullscreenToggle.el_).blur(),$(".vjs-control-bar",t.contentEl()).focus()}),urlQuery.t||urlQuery.time){var n=parseTime(urlQuery.t||urlQuery.time);t.currentTime(n),t.on("ready",function(){n>t.duration()&&(t.currentTime(0),t.play())})}else t.on("ready",function(){e.autoplayVideo()})}},learnLanding.prototype.autoplayVideo=function(){var e=localStorage.getItem("visitorType"),t=JSON.parse(localStorage.getItem("Test: Prompt visitor type"));if((e||!t||"a"!=t.version)&&-1===window.location.href.indexOf("localhost")){var a=o.select({name:"Autoplay logged out video",a:!0,b:!1,labels:{a:"Autoplays the video.",b:"Does not autoplay the video."},descr:"Test whether autoplay affects conversion (removing autoplay positively affects site speed score)."});a&&setTimeout(function(){console.log(window.learnVideoPlayer),window.learnVideoPlayer.play()},2e3)}},learnLanding.prototype.hideFcAndQues=function(){var e=this.concept&&(0<this.concept.fcCount||0<this.concept.quesCount);e||$("#Content .learn-card").addClass("no-ques-or-fc")},learnLanding.prototype.initSearchBox=function(){this.searchBar=fs.mixAppend($(".js-search"),"ui/SearchBar",{placeholder:"Search"})},learnLanding.prototype.trackSharedLink=function(){var e=new URL(window.location.href),t=e.searchParams.get("u");t&&keen.track("referral",{referrerCode:t,campaign:"share-video-prompt"})},a.exports=learnLanding}),define("page.learningScienceBook",function(e,t,a){t("core/tracking");var s={med:"https://d16qt3wv6xm098.cloudfront.net/dHDkvXd4R2GSjwbaTHxzRzAcQAqNTu3I/_.jpg",dental:"https://d16qt3wv6xm098.cloudfront.net/-MB1anJuTqCoTy_j6U5pWDb-TAma7jgN/_.jpg",nursing:"https://d16qt3wv6xm098.cloudfront.net/kRmMLwsSS8Kfhu8-jV1rMCnIQoCbPS2u/_.jpg",pharm:"https://d16qt3wv6xm098.cloudfront.net/-JJ2_c_RSXOCeyEHDv5IW4qfT9SY4J1N/_.jpg",pa:"https://d16qt3wv6xm098.cloudfront.net/_PqUq-8QRbWzUYKTJ-BrhTqeRPGJ2L1m/_.jpg",pt:"https://d16qt3wv6xm098.cloudfront.net/3QU-Z-saR9eFQtCaYhCvu7X8Qsu-vTbo/_.jpg",vet:"https://d16qt3wv6xm098.cloudfront.net/sHKHHSf9QuWtb-ADEDoaHcy1TzKiGNka/_.jpg",podiatry:"https://d16qt3wv6xm098.cloudfront.net/qBGvx9SLQq6fZoueMYSbVHYTTLOSHci4/_.jpg"};a.exports=function learningScienceBook(e){var t=this;this.hasPrime=ko.observable(!!window.learningScienceBookDownloadLink),this.downloadLink=window.learningScienceBookDownloadLink||null,this.redirectLink=window.userID?"/plans":"/plans",this.locked=ko.observable(!1),this.title=window.pageTitle,this.bookCoverImg=s[window.bookType],e(this),this.hasPrime()||(this.locked(!0),this.primeLockout=fs.mix(this,"ui/PrimeLockOverlay",{parent:t,source:"offers",resource:"learningScience-book",fullScreen:!0,content:"offer",hasLoginStep:!0}))}}),define("page.library",function(e,t,a){function library(e){this;this.currentTopic=ko.observable("sdfsdfsd"),e(this);var t=getURLTopic();t&&this.scrollTo(t),this.initHistoryHandler(),this.initClickHandlers(),this.initScrollHandlers(),this.initSearchBox()}function getURLTopic(){var e=window.location.pathname.split("/")[2];if(e){var t=e.split("?")[0].replace(/-/g,"/");return t}}library.prototype.scrollTo=function(e){var t=$(".main-content#"+e).first(),a=$(t).scrollParent().first();a.stop(!0,!1).animate({scrollTop:t.offset().top-a.offset().top+a.scrollTop()-65}),document.title=e[0].toUpperCase()+e.replace(/_/g," ").substr(1)+" Library - Osmosis",$(".sidebar-item").removeClass("current"),$(".sidebar-item[data-link=\"".concat(e,"\"]")).addClass("current")},library.prototype.initHistoryHandler=function(){var e=this;window.addEventListener("popstate",function(){e.scrollTo(window.location.pathname.split("/")[2])})},library.prototype.initClickHandlers=function(){this;$(".sidebar-item").on("click",function(t){t.preventDefault();var e=$(this).data("topic").replace(/\s/g,"_").replace(/\'/g,"").toLowerCase(),a=$(".main-content#"+e).first(),s=$(this).scrollParent().first().scrollParent().first();s.stop(!0,!1).animate({scrollTop:a.offset().top-s.offset().top+s.scrollTop()-65}),history.pushState({topic:e},e,"/library/"+e.toLowerCase()),document.title=e[0].toUpperCase()+e.replace(/_/g," ").substr(1)+" - Osmosis Library",$(".sidebar-item").removeClass("current"),$(".sidebar-item[data-link=\"".concat(e,"\"]")).addClass("current")}),$(".subject-nav-item.button").click(function(){var e=$(this).data("search-term"),t=$(this).parents(".main-content").attr("id"),a=$("#"+t+" .category."+e).first(),s=$(this).scrollParent().first();s.stop(!0,!1).animate({scrollTop:a.offset().top-s.offset().top+s.scrollTop()-65})}),$(".sidebar-items-wrapper").click(function(){$(this).toggleClass("dropdown-open")})},library.prototype.initScrollHandlers=function(){var e=this;$("#fullpage-wrapper").scroll(function(){var t=$(".main-content").toArray().reduce(function(e,t){return 100>$(t).offset().top?t:e}),a=t.getAttribute("id");e.currentTopic(a)}),this.currentTopic.subscribe(function(e){$topicElement=$(".sidebar-item[data-link='".concat(e,"']"));$topicElement.length&&($topicElement.addClass("sidebar-item--highlight").siblings().removeClass("sidebar-item--highlight"),$topicElement[0].scrollIntoViewIfNeeded())})},library.prototype.initSearchBox=function(){this.searchBar=fs.mixAppend($(".js-search"),"ui/SearchBar",{placeholder:"Search"})},a.exports=library}),define("page.libraryLanding",function(e,t,a){a.exports=function libraryLanding(){this}}),define("page.libraryLandingPage",function(e,t,a){function libraryLandingPage(e){var t=this;this.learnSteps=[{sectionSelector:".watch",imageSelector:".video-image",active:t.watchAnimationIsActive},{sectionSelector:".flashcards",imageSelector:".flashcards-image",active:t.flashcardsAnimationIsActive},{sectionSelector:".questions",imageSelector:".questions-image",active:t.questionsAnimationIsActive}],this.watchAnimationIsActive=!1,this.flashcardsAnimationIsActive=!1,this.questionsAnimationIsActive=!1,this.pageId="#library-landing",this.scrollHeightTrigger=200,e(this),this.initializeVideoPlayers(),this.attachScrollEvent(),this.startHandsAnimation(),this.hideLearnStepImages()}var s=t("ui/videoPlayer");libraryLandingPage.prototype.hideLearnStepImages=function(){var e=this;this.learnSteps.forEach(function(t){$(e.pageId+" "+t.imageSelector).hide()})},libraryLandingPage.prototype.initializeVideoPlayers=function(){this.playerObj=s.embed("HB2sF2QySG8",$("#iframe-wrapper-high-yield")),$("#iframe-wrapper-high-yield").append(this.playerObj.el),this.flashcardsPlayerObj=s.embed("thpXyPwPr08",$("#iframe-wrapper-flashcards")),$("#iframe-wrapper-flashcards").append(this.flashcardsPlayerObj.el)},libraryLandingPage.prototype.attachScrollEvent=function(){var e=this;$(window).scroll(function(){var t=this;e.learnSteps.forEach(function(a){if(!a.active&&e.getSectionIsInView(a.sectionSelector,t)){a.active=!0;var s=$(e.pageId+" "+a.imageSelector);s.show().addClass("animated").addClass("fadeInDownLibrary")}})})},libraryLandingPage.prototype.getSectionIsInView=function(e){var t=this;element=$(this.pageId+" "+e);var a=element.offset().top,s=element.outerHeight(),o=$(window).height(),d=$(window).scrollTop(),n=d>a+(s-t.scrollHeightTrigger)-o;return n},libraryLandingPage.prototype.startHandsAnimation=function(){var e=this,t=[{$hand:$(".hand-top"),class:"wiggleTop"},{$hand:$(".hand-right"),class:"wiggleRight"},{$hand:$(".hand-bottom"),class:"wiggleBottom"}];t.forEach(function(e){e.$hand.addClass(e.class)}),this.handInterval=setInterval(function runHandAnimation(){t.forEach(function(e){e.$hand.removeClass(e.class)}),setTimeout(function(){t.forEach(function(e){e.$hand.addClass(e.class)})},500)},8e3)},a.exports=libraryLandingPage}),define("page.lists",function(e,t,a){var s=function lists(){var e=this;this.progressReportList=ko.observable(!0),this.updatesList=ko.observable(!0);var t=fs.transpose(listPrefs);for(var a in console.log(t),t)2==t[a].msgLevel?this.progressReportList(1==t[a].status):3==t[a].msgLevel&&this.updatesList(1==t[a].status);this.subscriptionModified=ko.observable(!1),this.progressReportList.subscribe(function(){e.onChangeProgressReport()}),this.updatesList.subscribe(function(){e.onChangeUpdates()}),this.savePending=ko.observable()};s.prototype.onChangeProgressReport=function(){this.subscriptionModified(!0),this.progressReportList()&&$.post("/modifyListSubscription",{lists:[{level:2,status:1}]})},s.prototype.onChangeUpdates=function(){var e=this;e.updatesList()?(e.subscriptionModified(!0),$.post("/modifyListSubscription",{lists:[{level:3,status:1}]})):bootbox.dialog({message:"We strongly recommend staying subscribed to this list if you plan on using Osmosis. This list <b>rarely</b> sends emails but makes sure you know about the latest updates and offers.",title:"Unsubscribe from Updates? Realy?!",buttons:{unsubscribe:{label:"Unsubscribe",className:"btn-default",callback:function callback(){e.updatesList(!1),e.subscriptionModified(!0)}},subscribe:{label:"Subscribe to Updates",className:"btn-primary",callback:function callback(){e.updatesList(!0),$.post("/modifyListSubscription",{lists:[{level:3,status:1}]})}}}})},s.prototype.submit=function(){var e=this;e.savePending(!0),$.post("/modifyListSubscription",{lists:[{level:2,status:this.progressReportList()?1:0},{level:3,status:this.updatesList()?1:0}]},parseResult(function(){e.savePending(!1),e.subscriptionModified(!1),fs.alert("Changes saved.",function(){location.replace("/")})}))},a.exports=s}),define("page.loggedOutDecks",function(e,t,a){function loggedOutDecks(e){this.total=218,this.name="Deck name goes here",this.hasAvatar=!0,this.avatars=[],this.deckDescr="A description of the current shared deck will go here if one exists. If not no big deal.",this.linkCount=197,this.deckTheme=s(this.name),this.ques=ko.observableArray(o),this.currentQues=ko.observable(0),e(this),this.avatars.push(fs.mixAppend($(".quiz-object .avatars",this.dom),"ui/Avatar",{userID:ko.observable(13380),userName:ko.observable("Sam Miller"),customSize:30})),$("header").addClass("scrolling"),$("body").addClass("logged-out-gray"),$("#footer").remove()}var s=t("app/themeHash"),o=[{stem:"This would be the first flashcard shown"},{stem:"And flashcard number 2"},{stem:"Here we would put flashcard 3"},{stem:"Finally we would put flashcard numero quattro here"}];loggedOutDecks.prototype.prev=function(){this.currentQues(this.currentQues()-1)},loggedOutDecks.prototype.next=function(){this.currentQues(this.currentQues()+1)},loggedOutDecks.prototype.navToQues=function(e){var t=this;return function(){t.currentQues(e)}},loggedOutDecks.prototype.login=function(e){this;return function(){window.location.href="/login?src="+e}},a.exports=loggedOutDecks}),define("page.matchOMMQues",function(e,t,a){function matchOMMQues(e){var t=this;this.loading=ko.observable(),this.currentNodeID=0,this.matchTerm=ko.observable(),this.termURL=ko.computed(function(){return"/editconcept?term="+(t.matchTerm()||"").replace(/\s/g,"_")});var a=fs.transpose(window.quesData.nodeData,s);for(var o in a)nodeIndex[a[o].nodeID]=a[o];var d=fs.transpose(window.quesData.mediaData,s);for(var o in d)nodeIndex[d[o].nodeID]=d[o];var n=[];for(var o in nodeIndex)5==nodeIndex[o].type()&&n.push(nodeIndex[o]);this.list=n,this.count=ko.observable(this.list.length),this.idx=0,this.ommTerms=ko.observableArray(),this.buildOmmList(),e(this),this.render(),$(document).create(".ac_results",function(e){$(e.target).addClass("pull-to-top")})}var s=t("models/Node"),o=t("app/wikify");window.nodeIndex={},window.packIndex={},matchOMMQues.prototype.buildOmmList=function(){var e=this;fs.post("getOmmConcepts",{},function(t){for(var a in t.terms){var s=t.terms[a];e.ommTerms.push({name:s.concept,title:s.concept.replace("Osteopathic medicine: ","")}),console.log(e.ommTerms())}})},matchOMMQues.prototype.handleTermClick=function(e){var t=this;return function(){t.loading()?fs.alert("Still running previous request."):(t.loading(!0),t.matchTerm(e.name),t.categorize("COMLEX"))}},matchOMMQues.prototype.next=function(){this.idx++,this.count(this.count()-1),this.render()},matchOMMQues.prototype.render=function(){this;fs.empty($(".ques",this.dom)),fs.mixAppend($(".ques",this.dom),"models/ques/QuesPreview",{parent:this,node:this.list[this.idx],mode:"view"})},matchOMMQues.prototype.ignoreQues=function(){var e=this;fs.post("editorMatchQues",{nodeID:this.list[this.idx].nodeID,term:"ignore",tab:"ignore"},function(){e.next()})},matchOMMQues.prototype.removeQues=function(){var e=this;fs.post("editorMatchQues",{nodeID:this.list[this.idx].nodeID,term:"remove",tab:"remove"},function(){e.next()})},matchOMMQues.prototype.categorize=function(e){var t=this;fs.post("editorMatchQues",{nodeID:this.list[this.idx].nodeID,term:this.matchTerm(),tab:e},function(e){console.log(e),t.next(),t.loading(!1)},function(e){fs.alert(e.error.msg),t.loading(!1)})},matchOMMQues.prototype.addWikiTerm=function(){var e=this;window.addWikiTerms(function(t){t&&e.showMatchTab(t,10,20)})},a.exports=matchOMMQues}),define("page.matchQues",function(e,t,a){function matchQues(e){var t=this;this.currentNodeID=0,this.matchTerm=ko.observable(),this.termURL=ko.computed(function(){return"/editconcept?term="+(t.matchTerm()||"").replace(/\s/g,"_")}),this.matchTabVisible=ko.observable(!1);var a=fs.transpose(window.quesData.nodeData,s);for(var d in a)nodeIndex[a[d].nodeID]=a[d];var n=fs.transpose(window.quesData.mediaData,s);for(var d in n)nodeIndex[n[d].nodeID]=n[d];var l=[];for(var d in nodeIndex)5==nodeIndex[d].type()&&l.push(nodeIndex[d]);this.list=l,this.count=ko.observable(this.list.length),this.idx=0,e(this),o.init(function(){t.render()}),$(document).create(".ac_results",function(e){$(e.target).addClass("pull-to-top")})}var s=t("models/Node"),o=t("app/wikify");window.nodeIndex={},window.packIndex={},matchQues.prototype.next=function(){this.idx++,this.count(this.count()-1),this.matchTabVisible(!1),this.render()},matchQues.prototype.render=function(){var t=this;fs.empty($(".ques",this.dom)),fs.mixAppend($(".ques",this.dom),"models/ques/QuesPreview",{parent:this,node:this.list[this.idx],mode:"view"});var a=$(".ques",this.dom);o.wikifyElements(a,{},function(e,t){return"<a href=\""+t+"\" class=\"ques-term\">"+e+"</a>"}),$(".ques-term",a).click(function(a){a.preventDefault(),t.showMatchTab($(this).attr("href"),a.pageX-$(".row",t.dom).offset().left+10,a.pageY-$(".row",t.dom).offset().top+10)})},matchQues.prototype.showMatchTab=function(e,t,a){var s=this;s.matchTerm(e),s.matchTabVisible(!0),$(".match-tab",s.dom).css("left",t).css("top",a)},matchQues.prototype.ignoreQues=function(){var e=this;fs.post("editorMatchQues",{nodeID:this.list[this.idx].nodeID,term:"ignore",tab:"ignore"},function(){e.next()})},matchQues.prototype.removeQues=function(){var e=this;fs.post("editorMatchQues",{nodeID:this.list[this.idx].nodeID,term:"remove",tab:"remove"},function(){e.next()})},matchQues.prototype.categorize=function(e){var t=this;return function(a){fs.post("editorMatchQues",{nodeID:t.list[t.idx].nodeID,term:t.matchTerm(),tab:e},function(){a(),t.next()})}},matchQues.prototype.addWikiTerm=function(){var e=this;window.addWikiTerms(function(t){t&&e.showMatchTab(t,10,20)})},a.exports=matchQues}),define("page.medscape",function(e,t,a){function medscape(e){var t=this;this.daysLeft=ko.computed(function(){var e=new Date,t=new Date("10/31/2016"),a=Math.floor((t.getTime()-e.getTime())/1e3/60/60/24);return 1==a?a+" day":a+" days"}),e(this),this.resizeVideo(),setTimeout(function(){t.resizeVideo()},2e3),$(window).resize(function(){t.resizeVideo()}),this.checkReferralLink()}medscape.prototype.resizeVideo=function(){var e=500,t=282;e>=$(window).width()&&(e=.9*$(window).width(),t=t*e/500),$(".video-section iframe").width(e).height(t)},medscape.prototype.checkReferralLink=function(){window.referralLink&&($("li.ref-link").html("Copy your unique referral link - <a target=\"_blank\" href=\"https://www.osmosis.org/invite/"+window.referralLink+"\">https://www.osmosis.org/invite/"+window.referralLink+"</a>"),$(".main-cta").html("<div class=\"referral-added\">Referral Link - <span class=\"the-link\">https://www.osmosis.org/invite/"+window.referralLink+"</span></div>"))},a.exports=medscape}),define("page.medscape_register",function(e,t,a){a.exports=function medscapeRegister(){}}),define("page.member",function(e,t,a){a.exports=function Member(e,t){e(this),fs.mix(this,"tabs/account/analytics",t)}}),define("page.mobileBeta",function(e,t,a){a.exports=function mobileBeta(){}}),define("page.newaccount",function(e,t,a){function newaccount(e){e(this),fs.mix(this,"page/register",{isTraditional:"traditional"in urlQuery})}a.exports=newaccount}),define("page.pdf",function(e,t,a){function buildWikiIndex(e){for(var t in e)for(var a in d[t.toLowerCase()]=t,e[t])1<e[t][a].length&&(d[e[t][a]]=t)}var s=t("ui/PDFDoc"),o=t("app/module"),d=t("app/wikiIndex"),n=t("app/wikify"),l=t("app/who"),c=t("ui/pdf/annotationStore"),p=t("ui/pdf/animationBuffer");window.isMobileApp=!1,window.isMobile=!1,window.clearShortcuts=function(){},window.unregisterHotkeys=function(){},window.restoreShortcuts=function(){},a.exports=function pdf(e){this;o.init(),n.init(),navData.moduleData&&fs.load("module",navData.moduleData),fs.startSync(window.__sync),window.wikiData&&buildWikiIndex(window.wikiData),e(this),l.update(),PDFJS.osmosis=new s;var t=/firefox/i.test(navigator.userAgent);t&&(PDFJS.disableWorker=!0),PDFJS.webViewerLoad(),c.init(),c.sync(function(e){window.highlightData.nodeID.push(e.nodeID),window.highlightData.content.push(e.annotation)}),$(document).keydown(function(t){switch(t.keyCode){case 13:if((t.ctrlKey||t.metaKey)&&!window.runUnsavedWorkChecks()){t.preventDefault(),t.stopPropagation();var e=PDFJS.osmosis.pages[PDFViewerApplication.pdfViewer.currentPageNumber];e.rightTray.createFlashcard()}}}),p.play()}}),define("page.picmonic",function(e,t,a){function picmonic(){this.logInVisible=ko.observable(window.logInVisible)}var s=t("app/login");picmonic.prototype.withFacebook=function(){s.withFacebook()},picmonic.prototype.withGoogle=function(){s.withGoogle()},a.exports=picmonic}),define("page.plans",function(e,t,a){var s=t("shared/books"),o=t("app/sale");a.exports=function plans(e){var t=this;if(this.bookDealActive=ko.observable(!1),this.books=ko.observableArray([]),this.bookImages=ko.observableArray([]),this.shippingBlurb=ko.observable(""),this.currentDeal=ko.observable(o.current()?o.current().url:null),window.deal){if(this.state=ko.observable(window.dealExpired?"expired":"live"),this.caption=ko.observable(window.deal.caption||"Osmosis Flash Deal!"),this.subcaption=ko.observable(window.deal.subcaption||"Get 50% off your Osmosis Prime subscription."),this.hasCountdown=ko.observable(window.deal.hasCountdown||!1),this.initialCount=ko.observable(window.deal.initialCount),this.countdownCaption=ko.observable(window.deal.countdownCaption||"deals left!"),this.bookDealActive(!!window.deal.bookIncluded),this.bookDealActive()&&window.deal.data){if(window.deal.data.books)for(var a in window.deal.data.books)this.books.push(s.name2id[window.deal.data.books[a]]);else this.books([0,1,2]);this.bookImages(s.getImages(this.books())),window.deal.data.shippingBlurb?this.shippingBlurb(window.deal.data.shippingBlurb):this.shippingBlurb("Thanks for providing your shipping address. You should receive an email confirmation within 5 working days that your book has shipped.")}window.localStorage&&window.localStorage.setItem("activeDeal",JSON.stringify(window.deal))}else this.state=ko.observable("plans"),this.caption=ko.observable(""),this.subcaption=ko.observable(""),this.hasCountdown=ko.observable(!1),this.initialCount=ko.observable(0);$("#Content").css("min-height","auto"),e(this),this.currentDeal()||"expired"!==this.state()||fs.get("getSchoolDealUrl",{},function(e){"/plans"!==e.url&&t.currentDeal(e.url)});var d={checkout:"/buy",discount:window.deal?window.deal.discount:null,state:this.state,disclaimer:window.deal&&window.deal.disclaimer?window.deal.disclaimer:null,bookDealActive:this.bookDealActive(),shippingBlurb:this.shippingBlurb(),bookImages:this.bookImages(),books:this.books(),caption:this.caption,subcaption:this.subcaption,hasCountdown:this.hasCountdown,initialCount:this.initialCount,countdownCaption:this.countdownCaption};fs.mix(this,"ui/Plans",d),fs.mix(this,"ui/PlansInfo"),"expired"==this.state()&&analytics.track("Expired Deal",{})}}),define("page.playlist",function(e,t,a){var s=["clinicalreasoning","pharmacology"];a.exports=function playlist(e){this;e(this),fs.mix(this,"ui/VideoPlaylist",{title:window.playlist.title,url:window.playlist.url,descr:window.playlist.descr,list:window.playlist.list,img:window.playlist.image,checkboxes:~s.indexOf(window.playlist.url)}),analytics.track("Visited Playlist",{url:playlistURL,title:playlistTitle,school:playlistSchool,schoolID:playlistSchoolID,cohort:playlistCohort})}}),define("page.prime",function(e,t,a){a.exports=function prime(){this}}),define("page.primeCardioBook",function(e,t,a){t("core/tracking"),a.exports=function primeCardioBook(e){var t=this;this.hasPrime=ko.observable(!!window.cardioBookDownloadLink),this.downloadLink=window.cardioBookDownloadLink||null,this.redirectLink=window.userID?"/plans":"/plans",this.locked=ko.observable(!1),e(this),this.hasPrime()||(this.locked(!0),this.primeLockout=fs.mix(this,"ui/PrimeLockOverlay",{parent:t,source:"offers",resource:"cardio-book",fullScreen:!0,content:"offer",hasLoginStep:!0})),$(".footer-info").remove(),$(".footer-close").remove()}}),define("page.primeECGSeries",function(e,t,a){t("core/tracking"),a.exports=function primeECGSeries(e){this;this.loginLink="/login?create=true",e(this),$("section#footer.main-footer").remove(),$(".footer-close").remove()}}),define("page.primeRenalPreview",function(e,t,a){t("core/tracking"),a.exports=function primeRenalPreview(e){var t=this;this.hasPrime=ko.observable(!!window.renalBookDownloadLink),this.downloadLink=window.renalBookDownloadLink||null,this.redirectLink=window.userID?"/plans":"/plans",this.locked=ko.observable(!1),e(this),this.hasPrime()||(this.locked(!0),this.primeLockout=fs.mix(this,"ui/PrimeLockOverlay",{parent:t,source:"offers",resource:"renal-preview",fullScreen:!0,content:"offer",hasLoginStep:!0})),$(".footer-info").remove(),$(".footer-close").remove()}}),define("page.primetrial",function(e,t,a){function primetrial(e){this.salutation=ko.computed(function(){var e=window.user&&window.user.first?window.user.first+", ":"";return e}),e(this),this.positionContent()}primetrial.prototype.activatePrime=function(){fs.post("primeStartFreeTrial",{},function(e){e.expired?fs.alert("Your free trial has expired, you can purchase Prime to continue your subscription.",function(){window.location.href="/plans"}):(slack.activity("Joined Prime"),window.location.reload())})},primetrial.prototype.positionContent=function(){$("body").addClass("splash"),splashContent=$("#splash-content");var e=$(window).height()>$(splashContent).outerHeight()?($(window).height()-$(splashContent).outerHeight())/2:0;$(splashContent).css({top:e+"px"})},a.exports=primetrial}),define("page.privacy",function(e,t,a){a.exports=function privacy(){}}),define("page.progress",function(e,t,a){a.exports=function progress(e){this;e(this),this.dashboard=fs.mix(this,"ui/stats/AnalyticsDashboard",{userID:window.userID})}}),define("page.redeem",function(e,t,a){a.exports=function redeem(e){"use strict";_classCallCheck(this,redeem),this.giftCard=giftCard||null,e(this),this.giftCard&&(this.giftCard.redeemed?fs.mix(this,"ui/RedeemMessage",{theme:"success",messageIcon:"fal fa-check-circle",messageHeader:"Success",messageBody:"Congratulations, ".concat(this.giftCard.time," months of Osmosis Prime have just been added to your account."),messageFooter:"Your Osmosis Prime now expires on ".concat(window.newPrimeExpiration)}):"already-redeemed"===this.giftCard.reason?fs.mix(this,"ui/RedeemMessage",{theme:"error already-redeemed",messageIcon:"fal fa-exclamation-circle",messageHeader:"Uh oh",messageBody:"It looks like this eGift card has already been redeemed.",messageFooter:"If you think this is an error, feel free to email us at support@osmosis.org, or click the chat icon in the lower right."}):"not-found"===this.giftCard.reason?fs.mix(this,"ui/RedeemMessage",{theme:"error not-found",messageIcon:"fal fa-exclamation-circle",messageHeader:"Uh oh",messageBody:"It doesn't look like this is a valid eGift card. Make sure to double-check the link.",messageFooter:"If you think this is an error, feel free to email us at support@osmosis.org, or click the chat icon in the lower right."}):"not-logged-in"===this.giftCard.reason?fs.mix(this,"ui/RedeemMessage",{theme:"error not-logged-in",messageIcon:"",messageHeader:"Log in to redeem",messageBody:"You must have an account and be logged in to redeem your gift card."}):fs.mix(this,"ui/RedeemMessage",{messageHeader:"Redeem an eGift card",messageBody:"Enter your eGift card code below:"}))}}),define("page.reeldxedu",function(e,t,a){a.exports=function reeldxedu(){}}),define("page.register",function(e,t,a){a.exports=function(e,t){this.isTraditional=!("undefined"!=typeof t.isTraditional)||t.isTraditional,e(this),fs.mixAppend($(".register-content-container:first-of-type",this.dom),"ui/CreateAccount",{isTraditional:this.isTraditional,showTitle:!0}),fs.mixAppend($(".register-content-container:last-of-type",this.dom),"ui/CreateAccountInfoPanel",{creatingAccount:!0})}}),define("page.scheduleLanding",function(e,t,a){function scheduleLanding(e){this;this.photos=$(".carousel-activator"),this.carouselTimeout,e(this),this.playerObj=s.embed("0kJ2uhPEbG0",$("#iframe-wrapper-testimony")),$("#iframe-wrapper-testimony").append(this.playerObj.el),this.playerObj=s.embed("BtH5Klv9J6k",$("#iframe-wrapper-how-to")),$("#iframe-wrapper-how-to").append(this.playerObj.el),this.usmleFiveStepsPlayer=s.embed("eWAeUR2kfFk",$("#iframe-wrapper-usmle-five-steps")),$("#iframe-wrapper-usmle-five-steps").append(this.usmleFiveStepsPlayer.el),this.initializeCarousel(),this.initializeVideoIndicators(),this.testimonialVideoClick()}var s=t("ui/videoPlayer");scheduleLanding.prototype.testimonialVideoClick=function(){var e=this;$("#testimony-row .center").click(function(){var t=$(this);$("#testimony-row .center").css("opacity",.5),t.css("opacity",1),s.pauseAll();var a=$("#iframe-wrapper-testimony").children();$(a[0]).remove();var o=t.hasClass("jessica");o?(e.playerObj=s.embed("LIy0vbJfOTA",$("#iframe-wrapper-testimony")),$("#iframe-wrapper-testimony").append(e.playerObj.el)):(e.playerObj=s.embed("0kJ2uhPEbG0",$("#iframe-wrapper-testimony")),$("#iframe-wrapper-testimony").append(e.playerObj.el))})},$(".testimony-carousel .center").css("background-position","top"),scheduleLanding.prototype.playCarousel=function(e,t){var a=this,s=0;t&&(s=t),this.carouselTimeout=setTimeout(function(){var t=$(e[s]).next(),o=s==e.length-1?0:s+1,d=$(e[o]).next(),n=$(e[o]);clearTimeout(a.carouselTimeout),t.fadeOut("slow",function(){n.prop("checked",!0),$(e).each(function(e,t){$(t).next().hide()}),d.fadeIn("slow",function(){return s==e.length-1?a.playCarousel(e):a.playCarousel(e,s+1)})})},1e4)},scheduleLanding.prototype.initializeCarousel=function(){var e=this;$(".carousel-indicator").click(function(){var t=this.getAttribute("for")-1,a=$(".carousel-slide");a.finish().hide(),a.each(function(e){$(e).finish().hide()}),clearTimeout(e.carouselTimeout),$(a[t]).css("display","flex").hide().fadeIn("slow",function(){e.playCarousel(e.photos,t)})});var t=$(".carousel-slide"),a=$(this.photos[0]),s=$(t[0]);t.finish().hide(),a.prop("checked",!0),s.hide(),s.css("display","flex").hide().fadeIn("slow",function(){e.playCarousel(e.photos,0)})},scheduleLanding.prototype.initializeVideoIndicators=function(){$("#study-schedule-masthead .angela").css("opacity",1)},a.exports=scheduleLanding}),define("page.school_love",function(e,t,a){function school_love(e){var t=this,a=this;this.showing=ko.observable(0),this.page=1,this.noStudents=ko.observable(!1),this.school=ko.observable(),this.schoolID=ko.observable(0),this.splashTitle=ko.computed(function(){return a.school()?"Students Love Osmosis<br>at "+a.school():"Students Love Osmosis"}),this.inputFocused=ko.observable(!1),this.hideX=ko.computed(function(){return!t.schoolID()||t.inputFocused()}),this.inputVal=ko.observable(),this.noMoreTestimonials=ko.observable(!1),this.hasFeaturedQuote=ko.observable(!1),this.featuredTestimonial=ko.observable(),this.featuredName=ko.observable(),this.featuredHeadshot=ko.observable(),this.featuredSchool=ko.observable(),this.featuredStats=ko.observable(),e(this),this.initAutocomplete(),this.getStats(function(e){fs.mix(t,"ui/dashboard/Stats",{manualData:!0,data:t.featuredStats}),t.getTestimonials({school:urlQuery.school,data:e})})}function groupTestimonials(e){var t=_.groupBy(e,function(e){return e.image?"hasImage":"noImage"});return t.hasImage=t.hasImage||[],t.noImage=t.noImage||[],t}school_love.prototype.emptySchool=function(){var e=this;this.inputVal(""),this.schoolID(0),this.school(null),this.getStats(function(t){e.emptyTestimonials(),e.getTestimonials({school:"",data:t})})},school_love.prototype.getStats=function(e){var t=this;fs.post("adminLovePageData",{schoolID:this.schoolID()},function(a){t.featuredStats(_objectSpread({},a.stats,{schoolName:t.school()})),0===a.stats.userCount&&a.stats.schoolID&&t.noStudents(!0),e&&e(a)})},school_love.prototype.initAutocomplete=function(){var e=this;$("#schoolInput").autocomplete("/v0/school/autocomplete",{method:"get",delay:10,minChars:3,maxItemsToShow:10,matchSubset:1,autoFill:!1,rawData:!0,formatItem:function formatItem(e){return e[0].name},onItemSelect:function onItemSelect(t,a){e.inputVal(t.textContent),e.schoolID(a.id),e.school(t.textContent),e.getStats(function(a){e.emptyTestimonials(),e.getTestimonials({school:t.textContent,data:a})})}})},school_love.prototype.emptyTestimonials=function(){this.featuredTestimonial(null),$(".testimonial-list",this.dom).empty()},school_love.prototype.getTestimonials=function(e){var t=this,a=e.data;a.name&&t.school(a.name);var s=groupTestimonials(_.filter(a.testimonials,function(e){return e}));if(!t.featuredTestimonial()){var o=s.hasImage.length?s.hasImage.shift():s.noImage.shift();t.hasFeaturedQuote(!1),o&&(t.hasFeaturedQuote(!0),t.featuredTestimonial(o.quote),t.featuredName(o.name),t.featuredHeadshot(o.image),t.featuredSchool(o.school))}t.noMoreTestimonials(!1),s.hasImage.length||s.noImage.length?t.buildTestimonials(s):t.noMoreTestimonials(!0),a.defaultTestimonials&&(t.hasFeaturedQuote()&&$(".testimonial-list",this.dom).append("<div class=\"default-message\"><div class=\"wrapper\">Osmosis is used by thousands of students worldwide. <span class=\"scroll-msg\">Scroll down to see why!</span></div></div>"),t.buildTestimonials(groupTestimonials(a.defaultTestimonials)))},school_love.prototype.buildTestimonials=function(e){for(;2<e.hasImage&&e.noImage.length/4<e.hasImage.length/3;){var t=e.hasImage.splice(0,e.hasImage.length/2);for(var a in t)e.noImage.push(t[a])}for(var s=[],o=e.noImage.length,a=0;a<o/4;a++)s.push(e.noImage.splice(0,4));for(var d=[],o=e.hasImage.length,a=0;a<o/3;a++)d.push(e.hasImage.splice(0,3));if(d.length&&3>d[d.length-1].length&&s.unshift(d.pop()),1<s.length&&1==s[s.length-1].length){var n=s.pop();s[s.length-1].push(n[0])}for(var l=1,c=0,p=0,u;c<s.length;){for(var a in u=s[c],u)u[a].theme=0==(+a+1)%2?"right":"left",u[a].showSchool=!urlQuery.school,fs.mixAppend($(".testimonial-list",this.dom),"ui/Testimonial",u[a]),l++;p<d.length&&(fs.mixAppend($(".testimonial-list",this.dom),"ui/TestimonialBand",{testimonials:d[p],showCta:!0,showSchool:!urlQuery.school}),l+=3,p++),c++}this.showing(this.showing()+l)},school_love.prototype.moreTestimonials=function(){this.getTestimonials({page:this.page}),this.page++},a.exports=school_love}),define("page.schooldeal",function(e,t,a){a.exports=function schoolDeal(e){var t=this;this.state=ko.observable(window.dealPaused?"expired":"live"),this.expires=ko.computed(function(){return moment().endOf("month").format("MMMM Do, YYYY")}),this.caption=ko.computed(function(){if(window.schoolData&&window.schoolData.nickname)return"Exclusive deal for "+window.schoolData.nickname+" students"}),this.subcaption=ko.computed(function(){if(window.schoolData)return"Get 2 years for $199 ($200 savings). Don't miss out on this limited time offer! This offer ends "+t.expires()+"."}),window.dealPaused||(this.disclaimer="Offer ends "+this.expires()+" and is applicable to students at "+window.schoolData.name+" only. Offer cannot be combined with any other promotion or discount."),e(this);var a={checkout:"/buy",state:this.state,schoolDealActive:!0,caption:this.caption,subcaption:this.subcaption,disclaimer:this.disclaimer};fs.mix(this,"ui/Plans",a),fs.mix(this,"ui/PlansInfo",{schoolDealActive:!0})}}),define("page.spreadJoy",function(e,t,a){var s=t("shared/urlRegex"),o=function(){"use strict";function spreadJoy(e){var t=this;_classCallCheck(this,spreadJoy);var a=this;this.defaultMessage="Hi there! Just sending some love from Osmosis!",this.messageInput=ko.observable(""),this.displayMessage=ko.computed(function(){return""===t.messageInput()?t.defaultMessage:t.messageInput().replace(s,"[link removed]")}),this.cardSendSuccessMessage=ko.observable("Huzzah! Your eCard's been sent."),this.recipientEmail=ko.observable(),this.deliveryDate=ko.observable(""),this.attemptedPurchase=ko.observable(!1);var o=/\S+@\S+\.\S+/;this.validInputs={recipientEmail:ko.computed(function(){return o.test(a.recipientEmail())}),deliveryDate:ko.computed(function(){return 0<=moment(t.deliveryDate()).diff(new Date,"days")||!t.deliveryDate()})},this.allInputsValid=ko.computed(function(){for(var e=0,t;e<Object.keys(a.validInputs).length;e+=1)if(t=Object.keys(a.validInputs)[e],!a.validInputs[t]())return!1;return!0}),this.inputsUsed={recipientEmail:ko.observable(!1)},this.recipientEmail.subscribe(function(){t.inputsUsed.recipientEmail(!0)}),this.emailSent=ko.observable(!1),this.selectedCard=ko.observable({}),e(this),window.user||dialog("ui/dialogs/SignupDialog",{redirect:"/spreadjoy",characterMessage:"You need an account to send greeting cards!",primaryMessage:"To send a greeting card, either <b>create a free account</b> or sign in to an existing account.",lockout:!0,source:"spread-joy"}),fs.mix(this,"ui/SaleBanner"),this.cardPicker=fs.mix(this,"ui/CardPicker",{selectedCard:this.selectedCard})}return _createClass(spreadJoy,[{key:"sendCardClick",value:function sendCardClick(e){var t=this;if(window.user){var a=""===this.deliveryDate()?moment().format("YYYY-MM-DD"):this.deliveryDate();a!==moment().format("YYYY-MM-DD")&&this.cardSendSuccessMessage("Huzzah! Your eCard will be delivered on ".concat(moment(this.deliveryDate()).format("dddd, MMMM DD, YYYY"),"."));var s={message:""===this.messageInput()?this.defaultMessage:this.messageInput(),image:this.selectedCard().id,recipientEmail:this.recipientEmail(),deliveryDate:a,firstName:window.user.first,lastName:window.user.last};eventTracker.track("Feature Engagement",{feature:"greeting-card",action:"Send card",imageId:this.selectedCard().id},["mixpanel","keen"]),fs.post("sendGreetingCardEmail",{emailInformation:s},function(){t.showEmailSentMessage(),e()})}}},{key:"sendAnotherClick",value:function sendAnotherClick(){eventTracker.track("Feature Engagement",{feature:"greeting-card",action:"Send another card"},["mixpanel","keen"]),window.location.href="/spreadjoy"}},{key:"showEmailSentMessage",value:function showEmailSentMessage(){this.emailSent(!0),goToByScroll("body")}}]),spreadJoy}();a.exports=o}),define("page.srqueue",function(e,t,a){function srqueue(e){this;this.modules=ko.observableArray(),this.headings=[{heading:"NAME",tooltip:""},{heading:"TOTAL",tooltip:"The number of flashcards in a deck."},{heading:"SCHEDULED",tooltip:"Scheduled to repeat in your Daily Spaced Repetition Queue on a future date."},{heading:"EXCLUDED",tooltip:"Marked \u201CDo not repeat.\u201D"},{heading:"SCHEDULED THIS WEEK",tooltip:"Scheduled to repeat in your Daily Spaced Repetition Queue this week."},{heading:"OVERDUE",tooltip:"Left unanswered on the date it was scheduled. These are recalculated into your Daily Spaced Repetition."}],e(this),fs.ajaxLoad(this,"getSpacedRepInfo",{})}srqueue.prototype.load=function(e){this.modules(fs.transpose(e.moduleData))},a.exports=srqueue}),define("page.start",function(e,t,a){var s=t("app/gaTracking");a.exports=function onboard(e){e(this),s.tagEvent("freetrial"),this.onboarding=fs.mix(this,"ui/onboarding/Start")}}),define("page.styleGuide",function(e,t,a){var s=t("ui/MediaQueryList"),o=function(){"use strict";function styleGuide(e){_classCallCheck(this,styleGuide);for(var t=this,a=[],o=$(".section"),d=0,n;d<o.length;d+=1){n={},n.element=o[d],n.name=o[d].getElementsByClassName("header")[0].innerHTML;for(var l=o[d].getElementsByClassName("sub-section"),c=[],p=0;p<l.length;p+=1)c.push({element:l[p],name:l[p].getElementsByClassName("header").length?l[p].getElementsByClassName("header")[0].innerHTML:"NO HEADER!"});n.subSections=c,a.push(n)}this.sections=ko.observableArray(a),this.toggle=ko.observable(!1),this.scaleBoxVisible=ko.observable(!1),this.slideBoxVisible=ko.observable(!1),this.fadeBoxVisible=ko.observable(!1),this.fadeUpBoxVisible=ko.observable(!1),this.scaleBoxVisible=ko.observable(!1),this.slideBoxVisible=ko.observable(!1),this.fadeBoxVisible=ko.observable(!1),this.fadeUpBoxVisible=ko.observable(!1),this.modalVisible=ko.observable(!1),this.dialogClass=ko.observable(""),this.rangeValue=ko.observable(0),this.spinnerVisible=ko.observable(!1),this.totalMobileQueries=ko.observable(0),this.mobileQuery=s.ObservableMobile,this.dropdownOptions=ko.observableArray([{value:"wolverine",display:"Wolverine"},{value:"spiderman",display:"Spider-Man"},{value:"cyclops",display:"Cyclops"},{value:"thor",display:"Thor"}]),this.rangeValue=ko.observable(50),$(".custom-tooltip").tooltip({placement:"right"}),this.selectedDate=ko.observable("Select date"),e(this),fs.mixAppend($(".my-component",this.dom),"ui/styleguide/MyComponent",{}),fs.mixAppend($(".dropdown-container",this.dom),"ui/Dropdown",{options:this.dropdownOptions,optionsText:"display",optionsValue:"value",placeholder:"Select character"}),s.ListenMobile(function(e){e&&t.totalMobileQueries(t.totalMobileQueries()+1)})}return _createClass(styleGuide,[{key:"toggleScale",value:function toggleScale(){this.scaleBoxVisible(!this.scaleBoxVisible())}},{key:"toggleSlide",value:function toggleSlide(){this.slideBoxVisible(!this.slideBoxVisible())}},{key:"toggleFade",value:function toggleFade(){this.fadeBoxVisible(!this.fadeBoxVisible())}},{key:"toggleFadeUp",value:function toggleFadeUp(){this.fadeUpBoxVisible(!this.fadeUpBoxVisible())}},{key:"openPopupMenu",value:function openPopupMenu(){fs.mixAppend($(".settings-popup",this.dom),"ui/PopupMenu",{header:"Settings",items:[{text:"Toggle item",type:"toggle",action:function action(e){console.log(e)}},{text:"Action item",type:"action",action:function action(){console.log("Action")}},{text:"Header item",type:"header"},{text:"Link item",type:"link",href:"#"},{text:"Action item with icon",type:"action",icon:"fas fa-times",action:function action(){console.log("Action")}}]})}},{key:"createOverlay",value:function createOverlay(){window.createCustomOverlay({dom:this.dom,onClick:function onClick(){$(".custom-classes").fadeOut(function(){this.remove()})},classes:"custom-classes",zIndex:999999})}},{key:"openDialog",value:function openDialog(){dialog("ui/dialogs/MoveDocument",function(){},{doc:this.node})}},{key:"showModal",value:function showModal(){fs.mixAppend(this.dom,"ui/styleguide/MyModal",{title:"Great Modal",subtitle:"Not at all a bad modal"})}},{key:"openDialog",value:function openDialog(e){return function(){return dialog("ui/dialogs/ExampleDialog",{dialogStyle:e})}}},{key:"loading",value:function loading(e){setTimeout(function(){e()},2e3)}},{key:"loadingOptions",value:function loadingOptions(e){setTimeout(function(){e({message:"Success",disabled:!0,classes:"disabled"})},2e3)}},{key:"smoothScroll",value:function smoothScroll(e){$("#right .bottom").scrollTop(e.element.offsetTop-50),console.log($(e.element))}},{key:"showVideoDialog",value:function showVideoDialog(){dialog("ui/dialogs/video/VideoDialog",{videoSrc:"dQw4w9WgXcQ",videoTitle:"Respiratory anatomy",theme:"teal"})}}]),styleGuide}();a.exports=o}),define("page.submitAReview",function(e,t,a){var s=t("ui/videoPlayer"),o=function(){"use strict";function submitAReview(e){_classCallCheck(this,submitAReview),e(this),fs.mix(this,"ui/SubmitReviewForm"),this.renderVideo()}return _createClass(submitAReview,[{key:"renderVideo",value:function renderVideo(){var e=$(".example-review-video",this.dom);this.videoObj=s.embed({yt:"OwRLr1LRpco",hideControls:!0},e,{noEncryption:!0}),e.append(this.videoObj.el)}}]),submitAReview}();a.exports=o}),define("page.surveyadmin",function(e,t,a){a.exports=function surveyadmin(e){fs.load("surveygroup",surveyGroupData),e(this),this.groups=fs.mixList(this,".surveyGroups").source("surveygroup","models/SurveyGroupView"),this.groups.sort(function(e,t){var a=new Date(e.group.begin()),s=new Date(t.group.begin());return a-s})}}),define("page.terms",function(e,t,a){a.exports=function terms(){}}),define("page.testData",function(e,t,a){function TestData(e){this.listGroups=ko.observable("loading..."),this.groupData=ko.observable("loading..."),this.fcSummary=ko.observable("loading..."),this.mcqSummary=ko.observable("loading..."),this.videoSummary=ko.observable("loading..."),this.videosByTopic=ko.observable("loading..."),this.fcByMonth=ko.observable("loading..."),this.fcCreatedByMonth=ko.observable("loading..."),this.schStartDateDist=ko.observable("loading..."),this.memberData=ko.observable("loading..."),this.schItemsCompleted=ko.observable("loading..."),this.snapshot=ko.observable("loading.."),e(this),this.getFCSummary(),this.getMCQSummary()}TestData.prototype.getListGroups=function(){var e=this;fs.get("data/getUserGroups",{},function(t){console.log(t),e.listGroups(JSON.stringify(t))})},TestData.prototype.getMemberData=function(){var e=this;fs.get("data/getMembers",{groupID:3660},function(t){console.log(t),e.memberData(JSON.stringify(t))})},TestData.prototype.getGroupData=function(){var e=this;fs.get("data/getGroupData",{schoolID:63},function(t){console.log(t),e.groupData(JSON.stringify(t))})},TestData.prototype.getFCSummary=function(){var e=this;fs.get("data/getSummaryData",{schoolID:1,itemType:"fc",from:"2018-07-01",to:"2018-08-01"},function(t){console.log(t),e.fcSummary(JSON.stringify(t))})},TestData.prototype.getMCQSummary=function(){var e=this;fs.get("data/getSummaryData",{groupID:3660,itemType:"mcq"},function(t){console.log(t),e.mcqSummary(JSON.stringify(t))})},TestData.prototype.getVideoSummary=function(){var e=this;fs.get("data/getSummaryData",{schoolID:1,itemType:"video",from:"2018-06-12"},function(t){console.log(t),e.videoSummary(JSON.stringify(t))})},TestData.prototype.getVideosByTopic=function(){var e=this;fs.get("data/getVideosWatchedByTopic",{groupID:3660},function(t){e.videosByTopic(JSON.stringify(t))})},TestData.prototype.getFCByMonth=function(){var e=this;fs.get("data/getItemsAnswered",{schoolID:1,groupBy:"date",itemType:"fc",from:"2018-08-01",to:"2018-08-22"},function(t){e.fcByMonth(JSON.stringify(t))})},TestData.prototype.getFCCreated=function(){var e=this;fs.get("data/getTotalItemsCreated",{schoolID:1,itemType:"mcq"},function(t){e.fcCreatedByMonth(JSON.stringify(t))})},TestData.prototype.getSchStartDateDist=function(){var e=this;fs.get("data/getTotalSchedulesCreated",{schoolID:1,groupBy:"date",from:"2018-05-01",to:"2018-07-12"},function(t){e.schStartDateDist(JSON.stringify(t))})},TestData.prototype.getSchItemsCompleted=function(){var e=this;fs.get("data/getScheduleItemsCompleted",{groupID:3660,groupBy:"date",from:"2018-05-01",to:"2018-07-12"},function(t){e.schStartDateDist(JSON.stringify(t))})},TestData.prototype.getSnapShot=function(){var e=this;fs.get("data/getUserAnalytics",{userID:39619,groupID:3660},function(t){e.snapshot(JSON.stringify(t))})},a.exports=TestData}),define("page.testimonials",function(e,t,a){function testimonials(e){var t=this;this.showing=ko.observable(0),this.page=1,this.school=ko.observable(),this.splashTitle=ko.computed(function(){return t.school()?"Students Love Osmosis<br>at "+t.school():"Students Love Osmosis"}),this.featuredTestimonial=ko.observable(),this.featuredName=ko.observable(),this.featuredHeadshot=ko.observable(),this.featuredSchool=ko.observable(),e(this),this.getTestimonials({school:urlQuery.school})}function groupTestimonials(e){var t=_.groupBy(e,function(e){return e.image?"hasImage":"noImage"});return t.hasImage=t.hasImage||[],t.noImage=t.noImage||[],t}testimonials.prototype.getTestimonials=function(e){var t=this;fs.post("getQuotes",e,function(e){e.name&&t.school(e.name);var a=groupTestimonials(_.filter(e.testimonials,function(e){return e}));if(!t.featuredTestimonial()){var s=a.hasImage.length?a.hasImage.shift():a.noImage.shift();s&&(t.featuredTestimonial(s.quote),t.featuredName(s.name),t.featuredHeadshot(s.image),t.featuredSchool(s.school))}t.buildTestimonials(a),e.defaultTestimonials&&($(".testimonial-list",this.dom).append("<div class=\"default-message\"><div class=\"wrapper\">Osmosis is used by thousands of students worldwide. <span class=\"scroll-msg\">Scroll down to see why!</span></div></div>"),t.buildTestimonials(groupTestimonials(e.defaultTestimonials)))})},testimonials.prototype.buildTestimonials=function(e){for(;2<e.hasImage&&e.noImage.length/4<e.hasImage.length/3;){var t=e.hasImage.splice(0,e.hasImage.length/2);for(var a in t)e.noImage.push(t[a])}for(var s=[],o=e.noImage.length,a=0;a<o/4;a++)s.push(e.noImage.splice(0,4));for(var d=[],o=e.hasImage.length,a=0;a<o/3;a++)d.push(e.hasImage.splice(0,3));if(d.length&&3>d[d.length-1].length&&s.unshift(d.pop()),1<s.length&&1==s[s.length-1].length){var n=s.pop();s[s.length-1].push(n[0])}for(var l=1,c=0,p=0,u;c<s.length;){for(var a in u=s[c],u)u[a].theme=0==(+a+1)%2?"right":"left",u[a].showSchool=!urlQuery.school,fs.mixAppend($(".testimonial-list",this.dom),"ui/Testimonial",u[a]),l++;p<d.length&&(fs.mixAppend($(".testimonial-list",this.dom),"ui/TestimonialBand",{testimonials:d[p],showCta:!0,showSchool:!urlQuery.school}),l+=3,p++),c++}this.showing(this.showing()+l)},testimonials.prototype.moreTestimonials=function(){this.getTestimonials({page:this.page}),this.page++},a.exports=testimonials}),define("page.userdeal",function(e,t,a){a.exports=function userDeal(e){this;this.state=ko.observable(window.dealPaused?"expired":"live"),this.caption=ko.computed(function(){if(window.friendName)return"Exclusive deal from "+window.friendName}),this.subcaption=ko.computed(function(){return window.dealData&&window.dealData.msg?window.dealData.msg:"Don't miss out on this limited time offer!"}),window.dealPaused||(this.disclaimer="Offer cannot be combined with any other promotion or discount."),e(this);var t={checkout:"/buy",state:this.state,userDealActive:!0,caption:this.caption,subcaption:this.subcaption,disclaimer:this.disclaimer};fs.mix(this,"ui/Plans",t),fs.mix(this,"ui/PlansInfo",{schoolDealActive:!1}),window.localStorage&&window.referrerCode&&window.localStorage.setItem("referrerCode",window.referrerCode)}}),define("page.video",function(e,t,a){function video(e){this;e(this)}video.prototype.track=function(){},a.exports=video}),define("page.viewconcept",function(e,t,a){function editconcept(e){var t=this;this.term=ko.observable(),e(this),o.init(function(){o.showResources(window.termName.replace(/\_/g," ")),t.term(window.termName.replace(/\_/g," "))})}var s=t("models/Node"),o=t("app/wikify");window.nodeIndex=fs.getIndex("node"),window.packIndex={},editconcept.prototype.showCard=function(){o.showResources(window.termName.replace(/\_/g," "))},a.exports=editconcept}),define("page.viewcontent",function(e,t,a){var s=t("models/Node"),o=t("app/module"),d=t("app/loader");window.useStrictEdits=!1,a.exports=function viewcontent(e){this;window.groupID=0,this.mode=ko.observable("view"),fs.load("node",window.nodeData),window.nodeIndex=fs.getIndex("node"),o.loadTags(),d.links(window.linkData),e(this),this.list=fs.mixList(this,".quesList"),this.current=this.list.push("models/ques/ViewContainer",{model:nodeIndex[urlQuery.n],tools:{types:"none",tags:!0,actions:!1,contentTeamTags:!0}})}}),define("page.welcome",function(e,t,a){t("app/login");a.exports=function welcome(){this}}),define("tabs.account.analytics",function(e,t,a){function Analytics(e){var t=this;this.data=ko.observable(null),this.locked=ko.observable(!1);var a=new URL(window.location.href);this.urlUserID=a.searchParams.get("userID"),this.urlGroupID=a.searchParams.get("groupID"),this.userID=this.urlUserID||window.userID,this.groupID=this.urlGroupID||window.groupID;var s="YYYY-MM-DD";this.inputStartDate=ko.observable(moment().subtract(30,"days").format("D MMM YYYY")),this.inputEndDate=ko.observable(moment().format("D MMM YYYY")),this.handleDateInputs(),this.startDate=ko.computed(function(){return moment(t.inputStartDate(),"D MMM YYYY").format(s)}),this.endDate=ko.computed(function(){return moment(t.inputEndDate(),"D MMM YYYY").format(s)}),this.groupBy=ko.observable("date"),this.groupByOptions=[{label:"day",key:"date"},{label:"week",key:"week"},{label:"month",key:"month"},{label:"quarter",key:"quarter"}],e(this),this.dom.find(".js-datepicker").datepicker({dateFormat:"d M yy"}),window.user&&1>window.user.prime.status?(this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:self,source:"analyticsDashboard",content:"default"})):(this.onLoadUserAnalytics(),this.getFlashcardsAnswered(),this.setupFlashcardsTopicSelector(),this.getVideosWatchedByTopic(),this.setupVideoTopicSelector(),this.getQuestionsAnswered(),this.setupQuestionTopicSelector(),this.trackDashboardView(),this.groupBy.subscribe(function(){return t.updateCards()}),this.startDate.subscribe(function(){return t.updateCards()}),this.endDate.subscribe(function(){return t.updateCards()}))}function _tooltipRender(e,t){var a=e[0];return a?"\n    ".concat(moment(a.xLabel).format("D MMM YYYY")," <br/>\n    ").concat(a.yLabel," ").concat(t," <br/>\n  "):void 0}var s=t("ui/b2b/DashboardUtils");Analytics.prototype.trackDashboardView=function(){eventTracker.track("Viewed Member Dashboard",{},["intercom"])},Analytics.prototype.getQuestionsAnswered=function(){var e=this;return this.dom.find(".js-questions-answered").html("<div class=\"loading-spinner large\"></div>"),fs.get("data/user/getItemsAnswered",{userID:this.userID,groupBy:this.groupBy,itemType:"mcq",from:this.startDate,to:this.endDate}).then(function(t){return e.dom.find(".js-questions-answered").html(""),t.data.length?void(e.dom.find(".js-questions-answered").html(""),fs.mixAppend(e.dom.find(".js-questions-answered"),"ui/b2b/DashboardLineChart",{chart:{options:{tooltipRender:function tooltipRender(e){return _tooltipRender(e,"questions")},maintainAspectRatio:!1,legend:{display:!1},scales:e.getChartScales()},data:{labels:s.getDateLabels(t.data.map(function(t){return t[e.groupBy()]}),{groupBy:e.groupBy,from:e.startDate,to:e.endDate}),datasets:[{type:"line",label:"Multiple Choice Answers",backgroundColor:"#DAE8FB",borderColor:"#2F80ED",data:t.data.map(function(e){return e.answered})}]}}})):fs.mixAppend(e.dom.find(".js-questions-answered"),"ui/b2b/DashboardEmptyCard",{card:{image:"https://d3cdo0emj8d2qc.cloudfront.net/assets/w3aqMu-sSeCoBBU5mxz-UCe5S-qxHehg.png",heading:"Take a quiz!",subheading:"This is where you will be able to see your question progress.",link:"/qbank"}})})},Analytics.prototype.setupQuestionTopicSelector=function(){fs.mixAppend(this.dom.find(".js-question-topics"),"ui/b2b/DashboardTopicSelector",{selectedTopics:ko.observableArray(),itemType:"step1",userID:this.userID,startDate:this.startDate,endDate:this.endDate,buttonText:"View your question stats"})},Analytics.prototype.getVideosWatchedByTopic=function(){var e=this;return this.dom.find(".js-videos-watched").html("<div class=\"loading-spinner large\"></div>"),fs.get("data/user/getVideosWatchedByTopic",{userID:this.userID,from:this.startDate,to:this.endDate}).then(function(t){return t.data.length?void(e.dom.find(".js-videos-watched").html(""),fs.mixAppend(e.dom.find(".js-videos-watched"),"ui/b2b/DashboardTableCard",{table:{headers:["Subject","Videos viewed"],rows:t.data.map(function(e){var t=e.topic,a=e.watched;return[t?t.charAt(0).toUpperCase()+t.slice(1):"",a]}),options:{order:[[1,"desc"]]}}})):(e.dom.find(".js-videos-watched").html(""),fs.mixAppend(e.dom.find(".js-videos-watched"),"ui/b2b/DashboardEmptyCard",{card:{image:"https://d3cdo0emj8d2qc.cloudfront.net/assets/o3XdnDzXQm_TqVO9tAa3FUt3SOGSS_5D.png",heading:"Watch a video!",subheading:"This is where you will be able to see your video progress.",link:"/home/videos"}}))})},Analytics.prototype.setupVideoTopicSelector=function(){fs.mixAppend(this.dom.find(".js-video-topics"),"ui/b2b/DashboardTopicSelector",{selectedTopics:ko.observableArray(),itemType:"video",userID:this.userID,startDate:this.startDate,endDate:this.endDate,buttonText:"View your video stats"})},Analytics.prototype.showVideoMemberDialog=function(e){dialog("ui/b2b/DashboardTableModal",{dialogClass:"wide",table:{options:{autoWidth:!1,columnDefs:[{width:"40%",targets:0}],pageLength:50},headers:["<b>Name</b>","<b>Videos Watched</b><br>Students that have watched 50% of a video","<b>Total videos available in library topic selected"],rows:e.map(function(e){var t=e.name,a=e.watched,s=e.total;return[t,a,s]})}})},Analytics.prototype.getFlashcardsAnswered=function(){var e=this;return this.dom.find(".js-flashcards-answered").html("<div class=\"loading-spinner large\"></div>"),fs.get("data/user/getItemsAnswered",{groupBy:this.groupBy,itemType:"fc",userID:this.userID,from:this.startDate,to:this.endDate}).then(function(t){e.dom.find(".js-flashcards-answered").html("");var a=t.data;if(!a.length)return fs.mixAppend(e.dom.find(".js-flashcards-answered"),"ui/b2b/DashboardEmptyCard",{card:{image:"https://d3cdo0emj8d2qc.cloudfront.net/assets/LBh_LhePTze_R3OW2dEDrtZbR_Wzigud.png",heading:"Answer a flashcard!",subheading:"This is where you will be able to see your flashcard progress.",link:"/flashcards"}});var o=a.map(function(e){return e.answered}),d=s.getDateLabels(a.map(function(t){return t[e.groupBy()]}),{groupBy:e.groupBy,from:e.startDate,to:e.endDate});fs.mixAppend(e.dom.find(".js-flashcards-answered"),"ui/b2b/DashboardLineChart",{chart:{options:{tooltipRender:function tooltipRender(e){return _tooltipRender(e,"flashcards")},maintainAspectRatio:!1,legend:{display:!1},scales:e.getChartScales()},data:{labels:d,datasets:[{label:"Flashcards Answers",backgroundColor:"#DAE8FB",borderColor:"#2F80ED",data:o}]}}})})},Analytics.prototype.setupFlashcardsTopicSelector=function(){fs.mixAppend(this.dom.find(".js-flashcards-topics"),"ui/b2b/DashboardTopicSelector",{selectedTopics:ko.observableArray(),itemType:"allFC",userID:this.userID,startDate:this.startDate,endDate:this.endDate,buttonText:"View your flashcard stats"})},Analytics.prototype.onLoadUserAnalytics=function(){var e=this,t=fs.get("data/user/getTotalItemsCreated",{groupBy:this.groupBy,itemType:"fc",userID:this.userID,from:this.startDate,to:this.endDate}),a=fs.get("/data/user/getUserAnalytics",{userID:this.userID,groupID:this.groupID});a.then(function(a){e.data(a),fs.mix(e,"ui/b2b/MemberProfileAnalytics",{userID:e.userID,data:e.data}),t.then(function(t){e.data(_objectSpread({},e.data(),{totalFlashcardsCreated:t.created})),fs.mix(e,"ui/b2b/MemberFlashcardAnalytics",{data:e.data})}),fs.mix(e,"ui/b2b/MemberVideoAnalytics",{data:e.data}),fs.mix(e,"ui/b2b/MemberQuestionAnalytics",{data:e.data}),fs.mix(e,"ui/b2b/MemberActivity",{data:e.data})})},Analytics.prototype.updateCards=function(){this.getFlashcardsAnswered(),this.getVideosWatchedByTopic(),this.getQuestionsAnswered()},Analytics.prototype.handleDateInputs=function(){var e=this.inputStartDate,t=this.inputEndDate;e.subscribe(function(a){return moment(a).isValid()?void(moment(a).isBefore(t())||(e(t()),t(a))):e(moment().subtract(30,"days").format("D MMM YYYY"))}),t.subscribe(function(a){return moment(a).isValid()?void(moment(a).isAfter(e())||(t(e()),e(a))):t(moment().format("D MMM YYYY"))})},Analytics.prototype.getCurrentDate=function(){return moment(this.startDate()).format("MMM D")+" - "+moment(this.endDate()).format("MMM D")},Analytics.prototype.getDateLabels=function(e,t){var a=e.map(function(e){var a=moment(t.from()).format("YYYY"),s={date:moment(e),week:moment(a).week(e),month:moment(a).month(e),quarter:moment(a).quarter(e)}[t.groupBy()];return s.toDate()});return a},Analytics.prototype.getChartScales=function(){var e={fontFamily:"\"Nunito\", \"Open Sans\", sans-serif",fontStyle:"bold"};return{xAxes:[{type:"time",distribution:"series",time:{isoWeekday:!0,unit:"date"===this.groupBy()?"day":this.groupBy()},ticks:_objectSpread({},e)}],yAxes:[{ticks:_objectSpread({},e,{suggestedMin:0,beginAtZero:!0,precision:0,userCallback:function userCallback(e){return Math.floor(e)===e?e:void 0}})}]}},a.exports=Analytics}),define("tabs.account.index",function(e,t,a){function AccountIndex(e){e(this),fs.mix(this,"ui/account/Page")}AccountIndex.prototype.defaultTab="profile",a.exports=AccountIndex}),define("tabs.account.profile",function(e,t,a){var s=Math.cos,o=Math.sin,d=Math.floor;function Profile(e){var a=this,s=this;this.receivedPrime=-1!==window.user.primeExtra.reason.findIndex(function(e){return 13===e}),this.initialAvatar=n.avatar(ko.observable(window.userID)),this.avatarPreview=ko.observable(this.initialAvatar()),this.savedAvatar=ko.observable();this.initialAvatar.subscribe(function(e){s.savedAvatar(e),s.avatarPreview(e)});if(this.avatarText=ko.computed(function(){return s.savedAvatar()?"Change Picture":"Add Picture"}),this.uploadingAvatar=ko.observable(!1),this.uploadStatus=ko.observable(),this.hasNewAvatar=ko.observable(),this.locationUSA=ko.observable(!0),this.primeDaysLeft=ko.observable("0000-00-00"==window.user.prime.expires?0:moment(window.user.prime.expires).diff(moment(),"days")),this.primeAddedMessage=ko.observable(""),this.currentlyUpdating=ko.observable(),this.onTrial=ko.observable(2===window.user.prime.status),this.onPrime=ko.observable(1===window.user.prime.status),30<this.primeDaysLeft()&&(this.onTrial(!1),this.onPrime(!0)),this.expiredPrime=ko.observable(-1===window.user.prime.status),this.freeUser=ko.observable(0===window.user.prime.status),this.infoObs=ko.observableArray([]),this.infoListObs=ko.observableArray([]),this.progress=ko.observable(.05),this.progressCompleted=ko.observable(!1),this.startCelebrating=ko.observable(!1),this.shouldCelebrate=ko.observable(!1),this.computedProgress=ko.computed(function(){if(s.infoObs().length){var e=s.infoListObs().filter(function(e){return!e.skippable()}),t=e.reduce(function(e,t){return t.complete()?e+1:e},0),o=t/e.length;return!a.shouldCelebrate()&&.99<o&&a.progressCompleted(!0),o}}),this.convertOldProfessionData(),this.currentProgressCss=ko.computed(function(){var e=a.currentlyUpdating();return e?"updating-"+e.id:""}),e(this),fs.get("userGeoLocation",{},function(e){e&&e.userLocation&&e.userLocation.location&&a.locationUSA("United States"===e.userLocation.location.country_name)}),this.initUploader(),this.infoList=fs.mixList(this,".info"),this.Timezone=t("ui/account/input/Timezone"),!window.timezone){var p=t("app/timezone");p.startup(),window.timezone=p.timezone()}var o=c.professions.find(function(e){return"Medicine"===window.user.profile.career.degree||e.name===window.user.profile.career.degree});this.currentField=ko.observable(o?o:window.user.profile.career.degree),this.secondaryField=ko.observable("secondaryProfession"===window.user.profile.career.type?{name:window.user.profile.career.degree,market:"Secondary"}:null),this.currentType=ko.observable(window.user.profile.career.type);var d=[{id:"name",name:"Name",current:window.account.preferredName+" "+window.account.lastName,first:window.account.preferredName,last:window.account.lastName,complete:window.account.success&&window.account.preferredName,loading:ko.observable(!1),input:"ui/account/input/Name"},{id:"email",name:"Emails",current:window.user.email,emails:window.account.emails,loading:ko.observable(!1),complete:!0,input:"ui/account/input/Email"},{id:"shipping-address",name:"Shipping address",current:window.user.address.shippingAddress,currentState:window.user.address.state,currentCity:window.user.address.city,currentZip:window.user.address.zipCode,emails:window.account.emails,loading:ko.observable(!1),complete:!!window.user.address.shippingAddress,skippable:!0,skipped:ko.observable(!1),shouldHide:function shouldHide(){return!a.locationUSA()},input:"ui/dialogs/mailingAddress"},{id:"password",name:"Password",current:"Change Password",complete:!0,input:"ui/account/ChangePassword",shouldHide:function shouldHide(){return!window.account.hasPassword}},{id:"birthday",name:"Birthday",current:window.user.profile.dob?moment(window.user.profile.dob+"/1990").format("MMMM D"):null,complete:!!window.user.profile.dob,loading:ko.observable(!1),input:"ui/account/input/Birthday"},{id:"school",name:"School",current:window.user.profile.school,complete:!!window.user.profile.school,loading:ko.observable(!1),input:"ui/account/input/School"},{id:"field-year",name:"Field & Year",current:function(){var e=window.user.profile.career.degree,t=window.user.profile.career.status;return t&&(e=e+", "+window.user.profile.career.status),e}(),complete:window.user.profile.career.degree,loading:ko.observable(!1),currentType:s.currentType,currentField:s.currentField,currentSecondary:s.secondaryField,currentStatus:ko.observable(window.user.profile.career.status),currentYear:ko.observable({name:window.user.profile.career.status}),input:"ui/account/input/FieldYear"},{id:"specialty",name:"Specialty\n(Actual or intended)",current:ko.observable(function(){var e=window.user.profile.career.specialty;return window.user.profile.career.subSpecialty&&(e=e+", "+window.user.profile.career.subSpecialty),e}()),complete:function complete(e,t,a){return e[t-1].complete&&(window.user.profile.career.specialty||"Other"===s.currentType()||a.shouldHide&&a.shouldHide())},loading:ko.observable(!1),currentField:s.currentField,currentSpecialty:ko.observable(function(){var e=s.currentField()&&s.currentField().specialties;return!e||1>e.length?null:e.find(function(e){return e.name===window.user.profile.career.specialty})}()),currentSubSpecialty:ko.observable(window.user.profile.career.subSpecialty),input:"ui/account/input/Specialty",shouldHide:function shouldHide(e,t){return"Other"===e[t-1].currentType()||!e[t].currentField()||!e[t].currentField().specialties||!e[t].currentField().specialties.length}},{id:"timezone",name:"Timezone",current:window.timezone,complete:!0,loading:ko.observable(!1),input:"ui/account/input/Timezone"}];s.infoObs(d),window.infoObs=s.infoObs,window.infoList=s.infoListObs;for(var l=0;l<d.length;l++)this.infoList.push("ui/account/DataInput",{dataObs:s.infoObs,dataIdx:l,clickAction:function clickAction(e){var t=s.infoObs()[e];u.open({showHeader:!0,header:t.name,component:t.input,args:{data:function data(){return t},dataObs:s.infoObs,asDialog:!1},footerButtons:[{text:"Save Changes",closeOnAction:!1,action:function action(e,a){var o=s.calcProgress(t);o()&&a.close()},classes:"olive"}]})}});s.infoListObs(s.infoList.items),"passwd"===urlQuery.item&&s.infoListObs().find(function(t){return"Password"==t.name()}).clickAction(),this.calcProgress()(),this.updateCompleteSection(),this.computedProgress.subscribe(function(){.99<a.computedProgress()?a.shouldCelebrate()?setTimeout(function(){a.startCelebrating(!0),!s.receivedPrime,setTimeout(function(){a.popConfetti(),setTimeout(function(){$(".complete-account").addClass("fade-out-animation"),setTimeout(function(){a.progressCompleted(!0),a.shouldCelebrate(!1),a.removeConfetti()},500)},6750)},250)},850):a.progressCompleted(!0):.1<a.computedProgress()&&a.shouldCelebrate(!0)})}var n=t("app/who"),l="https://osmose-it.s3.amazonaws.com/",c=t("ui/account/ProfessionData"),p=t("app/purchaseModal"),u=t("ui/Modal");Profile.prototype.firstIncompleteInput=function(){var e=this,t=e.infoList.items.findIndex(function(e){return!e.complete()&&!e.shouldHide()&&!e.skipped()});return e.infoObs(e.infoObs()),e.infoObs()[t]},Profile.prototype.updateCompleteSection=function(){var e=this.firstIncompleteInput();e&&(this.currentlyUpdating(e),$(".current-step-input").empty(),fs.mixAppend($(".current-step-input",this.dom),e.input,{data:this.currentlyUpdating,hideLabel:!0,asDialog:!1}))},Profile.prototype.normalize=function(e,t,a){return(e-a)/(t-a)},Profile.prototype.skip=function(){this.currentlyUpdating().skipped(!0),this.updateCompleteSection()},Profile.prototype.calcProgress=function(e){var t=this;return function(){var a=!1,s=e||t.currentlyUpdating();if(s)if(s.updateData())t.infoObs(t.infoObs()),t.updateCompleteSection(),a=!0;else return!1;var o=t.infoObs().filter(function(e){return!e.skippable}),d=o.reduce(function(e,t){return t.complete?e+1:e},0),n=d/o.length;return t.progress(n),a}},Profile.prototype.openAvatarInput=function(){this.avatarUploader.triggerCompUpload()},Profile.prototype.cancelAvatar=function(){this.avatarPreview(this.savedAvatar()),this.hasNewAvatar(!1)},Profile.prototype.getAvatarHash=function(e){return e.replace(l,"")},Profile.prototype.saveAvatar=function(){var e=this;fs.post("saveNewAvatar",{hash:this.getAvatarHash(this.avatarPreview())},function(){e.savedAvatar(e.avatarPreview()),e.hasNewAvatar(!1),n.updateUser(window.userID)})},Profile.prototype.initUploader=function(){var e=this;this.avatarUploader=fs.mixAppend($(".upload-avatar",this.dom),"ui/Uploader",{hideDropbox:!0,s3BucketName:"osmosis-temp",uploaderConfig:{chunk_size:"30mb",max_file_size:"30mb",filters:[{title:"Image",extensions:"jpeg,jpg,png"}]},onBeforeUpload:function onBeforeUpload(){e.uploadStatus("<div class=\"spinner-container\"><div class=\"loading-spinner\"></div></div>")},uploadCompletion:function uploadCompletion(t){console.log(t),fs.post("resizeImage",{key:t.uploadData.$},function(){e.avatarPreview(!1),e.avatarPreview(l+t.uploadData.$),e.hasNewAvatar(!0),e.uploadStatus("")})}})},Profile.prototype.popConfetti=function(){function randomFromTo(e,t){return d(Math.random()*(t-e+1)+e)}function confettiParticle(){this.x=Math.random()*t,this.y=Math.random()*a-a,this.r=randomFromTo(11,33),this.d=Math.random()*150+11,this.color=p[d(Math.random()*p.length)],this.tilt=d(33*Math.random())-11,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return l.beginPath(),l.lineWidth=this.r/2,l.strokeStyle=this.color,l.moveTo(this.x+this.tilt+this.r/3,this.y),l.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/5),l.stroke()}}function Draw(){var e=[];requestAnimationFrame(Draw),l.clearRect(0,0,t,window.innerHeight);for(var d=0;d<150;d++)e.push(c[d].draw());for(var n={},p=0,d=0;d<150;d++)n=c[d],n.tiltAngle+=n.tiltAngleIncremental,n.y+=(s(n.d)+3+n.r/2)/2,n.tilt=15*o(n.tiltAngle-d/3),n.y<=a&&p++;return e}var e=this,t=window.innerWidth,a=window.innerHeight,n=document.getElementById("confetti");if(n){var l=n.getContext("2d"),c=[],p=["#afcced","#399d79","#90597a","#2079df"];window.addEventListener("resize",function(){t=window.innerWidth,a=window.innerHeight,n.width=window.innerWidth,n.height=window.innerHeight},!1);for(var u=0;u<150;u++)c.push(new confettiParticle);n.width=t,n.height=a,Draw()}},Profile.prototype.removeConfetti=function(){$("#confetti").remove()},Profile.prototype.convertOldProfessionData=function(){if(!window.user.profile.career){var e=window.user.profile.career=this.career={};e.degree=function(){return"Other"===window.user.profile.degree?window.user.profile.secondary:"Student"===window.user.profile.type?window.user.profile.degree:window.user.profile.degree||window.user.profile.otherField}();var t=_.findWhere(c.professions,{name:e.degree});e.status=function(){return"Student"===window.user.profile.type?window.user.profile.classYear:"Professional"===window.user.profile.type?window.user.profile.status:void 0}(),e.type=function(){return"Other"===window.user.profile.degree?"secondaryProfession":window.user.profile.type}();var a=_.findWhere(t&&t.specialties,{name:window.user.profile.specialty});a&&(e.specialty=window.user.profile.specialty);var s=_.map(a&&a.subSpecialties,function(e){return c.subSpecialties[e]}),o=s.indexOf(window.user.profile.subSpecialty);-1<o&&(e.subSpecialty=window.user.profile.subSpecialty)}},Profile.prototype.purchase=function(){p.showModal()},Profile.prototype.startFreeTrial=function(){fs.post("primeStartFreeTrial",{},function(){}),this.freeUser(!1),this.onTrial(!0),this.primeDaysLeft(13)},Profile.prototype.addFreePrime=function(){},a.exports=Profile}),define("tabs.account.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.account.referral",function(e,t,a){a.exports=function Referall(e){e(this),fs.mix(this,"ui/account/Referral",{})}}),define("tabs.account.settings",function(e,t,a){a.exports=function Settings(e){var a=this,s=t("ui/Modal");a.settingsObs=ko.observableArray([{name:"Manage Workspaces",current:"Archive or leave groups",component:"ui/account/input/Workspace"},{name:"Manage Daily Spaced Repetition",current:"Catch up, Remove flashcards, or Clear history",component:"ui/account/input/ManageRepetition"}]),e(this),a.settingsList=fs.mixList(this,".info");for(var o=0;o<a.settingsObs().length;o++)a.settingsObs()[o].hideCompleteness=!0,a.settingsList.push("ui/account/DataInput",{dataObs:a.settingsObs,dataIdx:o,clickAction:function clickAction(e){var t=a.settingsObs()[e];s.open({component:t.component,showHeader:!0,header:t.name})}})}}),define("tabs.activate.clinical",function(e,t,a){function clinical(e){this.checked=ko.observable(),e(this)}clinical.prototype.activate=function(){this.checked()?fs.post("activateSchedule",{type:3},function(){location.replace("/clinical/schedule")}):fs.alert("Are you done with classes and starting clinical rotations? Check off that box first to transition Osmosis into Clinical Rotations mode.")},a.exports=clinical}),define("tabs.activate.step2",function(e,t,a){a.exports=function step2(e){e(this)}}),define("tabs.analytics.documents",function(e,t,a){function DasboardDocuments(e,t){this.group=t.currentGroup,this.startDate=t.startDate,this.endDate=t.endDate,this.groupByOptions=t.groupByOptions,this.groupByTitleMap=t.groupByTitleMap,this.groupBy=t.groupBy,this.groupByTitle=t.groupByTitle,e(this);this.group&&this.group()&&(this.addFilterHandlers(),this.totalCaseQuestionsCreatedPromise=fs.get("data/group/getTotalItemsCreated",this.getRequestData({groupBy:this.groupBy(),itemType:"mcq"})),this.totalFlashcardsCreatedPromise=fs.get("data/group/getTotalItemsCreated",this.getRequestData({groupBy:this.groupBy(),itemType:"fc"})),this.totalSchedulesCreatedPromise=fs.get("data/group/getTotalSchedulesCreated",this.getRequestData({groupBy:this.groupBy()})),this.activeUsersPromise=Promise.resolve({data:Array(30).fill().map(function(e,t){return{date:"2018-02-".concat(t+1),users:~~(1e3*Math.random())}})}),this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy}))}DasboardDocuments.prototype.setupCards=function(e){this.setupDocumentsCards(e)},DasboardDocuments.prototype.addFilterHandlers=function(){var e=this;this.groupBy.subscribe(function(t){e.groupBy(t),e.setupCards({from:e.startDate,to:e.endDate,groupBy:e.groupBy})}),this.startDate.subscribe(function(t){e.clearCards(),moment(t).isBefore(e.endDate())?e.startDate(t):(e.startDate(e.endDate()),e.endDate(t)),e.updateCards()}),this.endDate.subscribe(function(t){e.clearCards(),moment(t).isAfter(e.startDate())?e.endDate(t):(e.endDate(e.startDate()),e.startDate(t)),e.updateCards()})},DasboardDocuments.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy})},DasboardDocuments.prototype.setupDocumentsCards=function(e){var t=this;this.$flashcardsMedian=this.$flashcardsMedian||this.dom.find(".js-flashcards-median"),this.$flashcardsMedian.html("<div class=\"loading-spinner large\"></div>");var a="#9C52C8",s=fs.get("data/group/getItemsAnswered",this.getRequestData(_objectSpread({itemType:"fc"},e)));this.$flashcardsAnswered=this.$flashcardsAnswered||this.dom.find(".js-flashcards-answered"),this.$flashcardsAnswered.html("<div class=\"loading-spinner large\"></div>"),Promise.all([s,this.activeUsersPromise]).then(function(s){var o=_slicedToArray(s,2),d=o[0],n=o[1],l=d.data.map(function(e){return e.answered}),c=n.data.map(function(e){return e.users}),p=t.getDateLabels(d.data.map(function(t){return t[e.groupBy()]}),e);t.$flashcardsMedian.empty(),fs.mixAppend(t.$flashcardsMedian,"ui/b2b/DashboardMedianCard",{title:"Documents",icon:"fas fa-bolt",color:a,subtitle:"Documents opened by the group",data:l,filters:e,onViewMore:function onViewMore(){alert("view more")}});var u="".concat(t.groupByTitle()," Documents opened by number of users");t.$flashcardsAnswered.empty(),fs.mixAppend(t.$flashcardsAnswered,"ui/b2b/DashboardUserChart",{title:u,axisLabel:"Number of Flashcards answered",primaryColor:"#9C52C8",secondaryColor:"#D0A9DA",buttonColor:a,primaryData:l,userData:c,dateLabels:p,filters:e,onChartClick:function onChartClick(){fs.mixAppend(t.dom.find(".js-dialog").empty(),"ui/b2b/DashboardMembersDialog")},tooltipRender:function tooltipRender(e){var t=e[0];return t?"\n          ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n          ").concat(l[t.index]," Flashcards <br/>\n          ").concat(c[t.index]," users <br/>\n        "):void 0},onViewMore:function onViewMore(){return alert("View More ".concat(u))},onDownloadCSV:function onDownloadCSV(){var e="Date;Flashcards Answered;Users\n";return e+=l.map(function(e,t){return[e.date,e.answered,c[t].users].join(",")}).join("\n"),e}})})},DasboardDocuments.prototype.getDateLabels=function(e,t){return e.map(function(e){var a=moment(t.from()).format("YYYY"),s={date:moment(e),week:moment(a).week(e),month:moment(a).month(e),quarter:moment(a).quarter(e)}[t.groupBy()];return s.toDate()})},DasboardDocuments.prototype.getRequestData=function(e){var t=this.group().groupID?{groupID:this.group().groupID}:{schoolID:this.group().schoolID};return _.chain({}).extend(t,e).omit(_.isUndefined).omit(_.isNull).extend({groupBy:this.groupBy(),from:this.startDate(),to:this.endDate()}).value()},a.exports=DasboardDocuments}),define("tabs.analytics.flashcards",function(e,t,a){function DasboardFlashcards(e,t){var a=this;this.group=t.currentGroup,this.startDate=t.startDate,this.endDate=t.endDate,this.groupByOptions=t.groupByOptions,this.groupByTitleMap=t.groupByTitleMap,this.groupBy=t.groupBy,this.groupByTitle=t.groupByTitle,this.selectedTopics=ko.observableArray(),e(this);this.group&&this.group()&&(this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy}),this.groupBy.subscribe(function(){return a.updateCards()}),this.startDate.subscribe(function(){return a.updateCards()}),this.endDate.subscribe(function(){return a.updateCards()}))}var s=t("app/group"),o=t("ui/b2b/DashboardUtils");DasboardFlashcards.prototype.setupCards=function(e){this.setupConfidenceCards(e),this.setupFlashcardsCards(e),this.setupTopicSelector(e),this.setupAccuracyCard(e)},DasboardFlashcards.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy})},DasboardFlashcards.prototype.setupTopicSelector=function(e){var t=this,a=fs.mixAppend(this.dom.find(".js-flashcards-topics").empty(),"ui/b2b/DashboardTopicSelector",{selectedTopics:this.selectedTopics,itemType:"allFC",groupID:this.group().groupID,startDate:e.from,endDate:e.to,subheading:"Click on a topic then select \u201CView member names\u201D to see member activity",onViewMore:function onViewMore(e){return fs.get("/data/group/getItemResponseStatsForAddrs",t.getRequestData({itemType:"fc",addrs:e})).then(function(e){dialog("ui/b2b/DashboardUserConfidenceModal",{data:e.data,itemType:"fc",title:"User confidence"})})}})},DasboardFlashcards.prototype.setupConfidenceCards=function(){this.$userConfidenceTable=this.$userConfidenceTable||this.dom.find(".js-user-confidence-table"),fs.mixAppend(this.$userConfidenceTable.empty(),"ui/b2b/DashboardUserConfidenceTable",{groupID:this.group().groupID,$el:this.$userConfidenceTable,itemType:"fc",title:"Flashcards answered, written by members"})},DasboardFlashcards.prototype.setupAccuracyCard=function(e){var t=this;this.$flashcardsAccuracy=this.$flashcardsAccuracy||this.dom.find(".js-flashcards-accuracy"),this.$flashcardsAccuracy.html("<div class=\"loading-spinner large\"></div>"),fs.get("/data/group/getItemResponseAvgStats",this.getRequestData(_objectSpread({itemType:"fc"},e))).then(function(e){t.$flashcardsAccuracy.empty(),fs.mixAppend(t.$flashcardsAccuracy,"ui/b2b/DashboardAccuracyCard",{data:e})})},DasboardFlashcards.prototype.setupFlashcardsCards=function(e){var t=this;this.$flashcardsMedian=this.$flashcardsMedian||this.dom.find(".js-flashcards-median"),this.$flashcardsMedian.html("<div class=\"loading-spinner large\"></div>");var a="#0E536B",s="#0F4B5F",d="#2E95B6",n=fs.get("data/group/getItemsAnswered",this.getRequestData(_objectSpread({itemType:"fc",splitBySource:!0},e)));this.$flashcardsAnswered=this.$flashcardsAnswered||this.dom.find(".js-flashcards-answered"),this.$flashcardsAnswered.html("<div class=\"loading-spinner large\"></div>"),n.then(function(n){var l=n.data,c=l.map(function(e){return e.answered||e.totalAnswered}),p=l.map(function(e){return e.userCount}),u=l.map(function(e){return e.officialOsmosis}),m=l.map(function(e){return e.userCreated}),v=o.getDateLabels(l.map(function(t){return t[e.groupBy()]}),e);t.$flashcardsMedian.empty(),fs.mixAppend(t.$flashcardsMedian,"ui/b2b/DashboardMedianCard",{title:"Flashcards",icon:"fas fa-bolt",color:a,subtitle:"Flashcards answered by the group",data:c,filters:e,onViewMore:function onViewMore(){t.showMemberDialog({itemType:"fc",actionType:"answered"})}});var b="".concat(t.groupByTitle()," flashcards answered by number of users"),h=o.generateUserGraphConfig({title:b,axisLabel:"Number of flashcards answered",primaryColor:"#4AA7C4",secondaryColor:"#B3DDDF",buttonColor:a,primaryData:c,userData:p,dateLabels:v,filters:e,tooltipRender:function tooltipRender(e){if(e[0]){var t=e[0],a=u[t.index].toLocaleString(),o=m[t.index].toLocaleString(),n=c[t.index].toLocaleString(),l=p[t.index],v=moment(t.xLabel).format("D MMM YYYY");return"\n        <div class='flashcard-popup'>\n          <div>".concat(v,"</div>\n          <div style='color: ").concat("#4AA7C4","'>").concat(n," Flashcards answered total</div>\n          <hr>\n          <div style='color: ").concat(s,"'>").concat(a," Osmosis created</div>\n          <div style='color: ").concat(d,"'>").concat(o," School created</div>\n          <hr>\n          <div>").concat(l," users</div>\n        </div>\n        ")}},onChartClick:function onChartClick(e){t.showMemberDialog({date:e,itemType:"fc",actionType:"answered"})},onViewMore:function onViewMore(){t.showMemberDialog({itemType:"fc",actionType:"answered"})},onDownloadCSV:function onDownloadCSV(){var e="Date;Flashcards Answered;Users\n";return e+=c.map(function(e,t){return[v[t],e,p[t]].join(";")}).join("\n"),e}});h.chart.data.datasets.unshift({type:"line",label:"Number of Osmosis created flashcards answered",backgroundColor:"transparent",borderColor:s,data:u,pointRadius:0}),h.chart.data.datasets.unshift({type:"line",label:"Number of school created flashcards answered",backgroundColor:"transparent",borderColor:d,data:m,pointRadius:0}),fs.mixAppend(t.$flashcardsAnswered.empty(),"ui/b2b/DashboardLineChart",h)})},DasboardFlashcards.prototype.showConfidenceDialog=function(){},DasboardFlashcards.prototype.showMemberDialog=function(e){o.showMemberDialog(_objectSpread({},e,{scope:this}))},DasboardFlashcards.prototype.getRequestData=function(e){return o.getRequestData(this,e)},a.exports=DasboardFlashcards}),define("tabs.analytics.index",function(e,t,a){function DashboardIndex(e){e(this),fs.mix(this,"ui/b2b/Dashboard")}DashboardIndex.prototype.defaultTab="summary",a.exports=DashboardIndex}),define("tabs.analytics.members",function(e,t,a){function DasboardMembers(e,t){this.group=t.currentGroup,this.cards=ko.observableArray([]),e(this);this.group&&this.group()&&this.setupCards()}DasboardMembers.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate})},DasboardMembers.prototype.clearCards=function(){$(".js-dashboard-grid",this.dom).empty()},DasboardMembers.prototype.addCard=function(e){fs.mixAppend($(".js-dashboard-grid",this.dom),"ui/b2b/DashboardCard",e)},DasboardMembers.prototype.setupCards=function(){var e=this;this.addCard({component:"ui/b2b/DashboardTableCard",columnSpan:4,data:{title:this.group().groupID?"Group Members":"School Members"},getAsyncData:function getAsyncData(){var t=e.group().groupID?{groupID:e.group().groupID}:{schoolID:e.group().schoolID};return fs.get("data/group/getAllMembers",t).then(function(t){return e.getTableOptions(t)})}})},DasboardMembers.prototype.getTableOptions=function(e){var t=this,a=e.data.map(function(e){return[""===e.preferredName&&""===e.lastName?"Unknown: Pending profile completion":"<a href=\"/member?userID=".concat(e.userID,"&groupID=").concat(t.group().groupID,"\">").concat(e.preferredName," ").concat(e.lastName,"</a>"),e.email,e.maxStreak,e.currentStreak]});return{table:{options:{pageLength:50,columnDefs:[{targets:[2,3],className:"dashboard-table__cell--right"},{targets:[0],render:function render(e,t,a){return"sort"===t&&"Unknown: Pending profile completion"===e?a[1]:e}}]},headers:["Name","Email","Longest login streak","Current login streak"],rows:a}}},a.exports=DasboardMembers}),define("tabs.analytics.questions",function(e,t,a){function DasboardFlashcards(e,t){var a=this;this.group=t.currentGroup,this.startDate=t.startDate,this.endDate=t.endDate,this.groupByOptions=t.groupByOptions,this.groupByTitleMap=t.groupByTitleMap,this.groupBy=t.groupBy,this.groupByTitle=t.groupByTitle,this.selectedTopics=ko.observableArray(),e(this);this.group&&this.group()&&(this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy}),this.groupBy.subscribe(function(){return a.updateCards()}),this.startDate.subscribe(function(){return a.updateCards()}),this.endDate.subscribe(function(){return a.updateCards()}))}var s=t("app/group"),o=t("ui/b2b/DashboardUtils");DasboardFlashcards.prototype.setupCards=function(e){this.setupConfidenceCards(e),this.setupQuestionsCards(e),this.setupTopicSelector(e),this.setupAccuracyCard(e)},DasboardFlashcards.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy})},DasboardFlashcards.prototype.setupTopicSelector=function(e){var t=this,a=fs.mixAppend(this.dom.find(".js-flashcards-topics").empty(),"ui/b2b/DashboardTopicSelector",{selectedTopics:this.selectedTopics,itemType:"step1",groupID:this.group().groupID,startDate:e.from,endDate:e.to,subheading:"Click on a topic then select \u201CView member names\u201D to see member activity",onViewMore:function onViewMore(e){return fs.get("/data/group/getItemResponseStatsForAddrs",t.getRequestData({itemType:"mcq",addrs:e})).then(function(e){dialog("ui/b2b/DashboardUserConfidenceModal",{data:e.data,itemType:"mcq",title:"User confidence"})})}})},DasboardFlashcards.prototype.setupConfidenceCards=function(){this.$userConfidenceTable=this.$userConfidenceTable||this.dom.find(".js-user-confidence-table"),fs.mixAppend(this.$userConfidenceTable.empty(),"ui/b2b/DashboardUserConfidenceTable",{groupID:this.group().groupID,$el:this.$userConfidenceTable,itemType:"mcq",title:"Questions answered, written by members"})},DasboardFlashcards.prototype.setupAccuracyCard=function(e){var t=this;this.$flashcardsAccuracy=this.$flashcardsAccuracy||this.dom.find(".js-questions-accuracy"),this.$flashcardsAccuracy.html("<div class=\"loading-spinner large\"></div>"),fs.get("/data/group/getItemResponseAvgStats",this.getRequestData(_objectSpread({itemType:"mcq"},e))).then(function(e){t.$flashcardsAccuracy.empty(),fs.mixAppend(t.$flashcardsAccuracy,"ui/b2b/DashboardAccuracyCard",{data:e})})},DasboardFlashcards.prototype.setupQuestionsCards=function(e){var t=this,a="#DD6C2D",s=fs.get("data/group/getItemsAnswered",this.getRequestData(_objectSpread({itemType:"mcq"},e)));this.$questionsMedian=this.$questionsMedian||this.dom.find(".js-questions-median"),this.$questionsMedian.html("<div class=\"loading-spinner large\"></div>"),this.$questionsAnswered=this.$questionsAnswered||this.dom.find(".js-questions-answered"),this.$questionsAnswered.html("<div class=\"loading-spinner large\"></div>"),s.then(function(s){var d=s.data.map(function(e){return e.answered||e.totalAnswered}),n=s.data.map(function(e){return e.userCount}),l=o.getDateLabels(s.data.map(function(t){return t[e.groupBy()]}),e);t.$questionsMedian.empty(),fs.mixAppend(t.$questionsMedian,"ui/b2b/DashboardMedianCard",{title:"Questions",icon:"fas fa-stethoscope",color:a,subtitle:"Questions answered by the group",data:d,filters:e,onViewMore:function onViewMore(){t.showMemberDialog({itemType:"mcq",actionType:"answered"})}});var c="".concat(t.groupByTitle()," Questions answered by number of users");t.$questionsAnswered.empty(),fs.mixAppend(t.$questionsAnswered,"ui/b2b/DashboardUserChart",{title:c,axisLabel:"Number of questions answered",primaryColor:"#dd6c2d",secondaryColor:"#EFBCA1",buttonColor:a,primaryData:d,userData:n,dateLabels:l,filters:e,tooltipRender:function tooltipRender(e){var t=e[0];return t?"\n          ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n          ").concat(d[t.index].toLocaleString()," Questions <br/>\n          ").concat(n[t.index].toLocaleString()," users <br/>\n        "):void 0},onChartClick:function onChartClick(e){t.showMemberDialog({date:e,itemType:"mcq",actionType:"answered"})},onViewMore:function onViewMore(){t.showMemberDialog({itemType:"mcq",actionType:"answered"})},onDownloadCSV:function onDownloadCSV(){var e="Date;Questions Answered;Users\n";return e+=d.map(function(e,t){return[moment(l[t]).format("D MMM YYYY"),e,n[t]].join(";")}).join("\n"),e}})})},DasboardFlashcards.prototype.showConfidenceDialog=function(){},DasboardFlashcards.prototype.showMemberDialog=function(e){o.showMemberDialog(_objectSpread({},e,{scope:this}))},DasboardFlashcards.prototype.getRequestData=function(e){return o.getRequestData(this,e)},a.exports=DasboardFlashcards}),define("tabs.analytics.summary",function(e,t,a){function DasboardSummary(e,t){var a=this;this.group=t.currentGroup,this.startDate=t.startDate,this.endDate=t.endDate,this.groupByOptions=t.groupByOptions,this.groupByTitleMap=t.groupByTitleMap,this.groupBy=t.groupBy,this.groupByTitle=t.groupByTitle,e(this);this.group&&this.group()&&(this.totalCaseQuestionsCreatedPromise=fs.get("data/group/getTotalItemsCreated",this.getRequestData({itemType:"mcq"})),this.totalFlashcardsCreatedPromise=fs.get("data/group/getTotalItemsCreated",this.getRequestData({itemType:"fc"})),this.totalSchedulesCreatedPromise=fs.get("data/group/getTotalSchedulesCreated",this.getRequestData({})),this.activeUsersPromise=fs.get("data/group/getItemsAnswered",this.getRequestData({itemType:"fc"})),this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy}),this.groupBy.subscribe(function(){return a.updateCards()}),this.startDate.subscribe(function(){return a.updateCards()}),this.endDate.subscribe(function(){return a.updateCards()}))}var s=t("ui/b2b/DashboardUtils");DasboardSummary.prototype.setupCards=function(e){this.setupMembersCards(e),this.setupFlashcardsCards(e),this.setupQuestionsCards(e),this.setupVideosCards(e)},DasboardSummary.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy})},DasboardSummary.prototype.addFilterHandlers=function(){var e=this;this.groupBy.subscribe(function(t){e.groupBy(t),e.setupCards({from:e.startDate,to:e.endDate,groupBy:e.groupBy})}),this.startDate.subscribe(function(t){e.clearCards(),moment(t).isBefore(e.endDate())?e.startDate(t):(e.startDate(e.endDate()),e.endDate(t)),e.updateCards()}),this.endDate.subscribe(function(t){e.clearCards(),moment(t).isAfter(e.startDate())?e.endDate(t):(e.endDate(e.startDate()),e.startDate(t)),e.updateCards()})},DasboardSummary.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy})},DasboardSummary.prototype.clearCards=function(){$(".js-dashboard-grid",this.dom).empty()},DasboardSummary.prototype.addCard=function(e){fs.mixAppend($(".js-dashboard-grid",this.dom),"ui/b2b/DashboardCard",e)},DasboardSummary.prototype.setupMembersCards=function(e){var t=this;this.$membersMedian=this.$membersMedian||this.dom.find(".js-members-median"),this.$membersMedian.html("<div class=\"loading-spinner large\"></div>"),this.$activeUsers=this.$activeUsers||this.dom.find(".js-active-users"),this.$activeUsers.html("<div class=\"loading-spinner large\"></div>");var a={date:"dau",week:"wau",month:"mau",quarter:"qau"};fs.get("data/group/getActiveUsers",this.getRequestData(_objectSpread({},e))).then(function(o){var d=o.data.map(function(e){return e[a[t.groupBy()]]}),n=s.getDateLabels(o.data.map(function(t){return t[e.groupBy()]}),e);t.$membersMedian.empty(),fs.mixAppend(t.$membersMedian,"ui/b2b/DashboardMedianCard",{title:"Members",icon:"fas fa-users",color:"#2079DF",subtitle:"Web Sessions by the group",filters:e,data:d,onViewMore:function onViewMore(){t.showMemberDialog()}}),t.$activeUsers.empty(),fs.mixAppend(t.$activeUsers,"ui/b2b/DashboardLineChart",{title:"".concat(t.groupByTitle()," active users"),chart:{options:{onClick:function onClick(e){t.showMemberDialog({date:e})},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{maxBarThickness:20,type:"time",distribution:"series",time:{unit:"date"===e.groupBy()?"day":e.groupBy()}}],yAxes:[{ticks:{suggestedMin:0,suggestedMax:10}}]},tooltipRender:function tooltipRender(e){var t=e[0];return t?"\n              ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n              ").concat(t.yLabel," users <br/>\n            "):void 0}},data:{labels:n,datasets:[{type:"bar",backgroundColor:"#BDD7F4",hoverBackgroundColor:"#2079DF",data:d}]}},onViewMore:function onViewMore(e){t.showMemberDialog({date:e})},onDownloadCSV:function onDownloadCSV(){var e="Date;Users\n";return e+=o.data.map(function(e){return"".concat(moment(e.date).format("D MMM YYYY"),";").concat(e[a[t.groupBy()]])}).join("\n"),e}})})},DasboardSummary.prototype.setupFlashcardsCards=function(e){var t=this;this.$flashcardsMedian=this.$flashcardsMedian||this.dom.find(".js-flashcards-median"),this.$flashcardsMedian.html("<div class=\"loading-spinner large\"></div>");var a="#2695B8",o=fs.get("data/group/getItemsAnswered",this.getRequestData(_objectSpread({itemType:"fc"},e)));this.$flashcardsAnswered=this.$flashcardsAnswered||this.dom.find(".js-flashcards-answered"),this.$flashcardsAnswered.html("<div class=\"loading-spinner large\"></div>"),o.then(function(o){var d=o.data.map(function(e){return e.answered||e.totalAnswered}),n=o.data.map(function(e){return e.userCount}),l=s.getDateLabels(o.data.map(function(t){return t[e.groupBy()]}),e);t.$flashcardsMedian.empty(),fs.mixAppend(t.$flashcardsMedian,"ui/b2b/DashboardMedianCard",{title:"Flashcards",icon:"fas fa-bolt",color:a,subtitle:"Flashcards answered by the group",data:d,filters:e,onViewMore:function onViewMore(){t.showMemberDialog({itemType:"fc",actionType:"answered"})}});var c="".concat(t.groupByTitle()," flashcards answered by number of users");t.$flashcardsAnswered.empty(),fs.mixAppend(t.$flashcardsAnswered,"ui/b2b/DashboardUserChart",{title:c,axisLabel:"Number of flashcards answered",primaryColor:"#2695B8",secondaryColor:"#B3DDDF",buttonColor:a,primaryData:d,userData:n,dateLabels:l,filters:e,tooltipRender:function tooltipRender(e){if(e[0]){var t=e[0];return"\n          ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n          ").concat(d[t.index].toLocaleString()," Flashcards <br/>\n          ").concat(n[t.index].toLocaleString()," users <br/>\n        ")}},onChartClick:function onChartClick(e){t.showMemberDialog({date:e,itemType:"fc",actionType:"answered"})},onViewMore:function onViewMore(){t.showMemberDialog({itemType:"fc",actionType:"answered"})},onDownloadCSV:function onDownloadCSV(){var e="Date;Flashcards Answered;Users\n";return e+=d.map(function(e,t){return[l[t],e,n[t]].join(";")}).join("\n"),e}})})},DasboardSummary.prototype.setupQuestionsCards=function(e){var t=this,a="#DD6C2D",o=fs.get("data/group/getItemsAnswered",this.getRequestData(_objectSpread({itemType:"mcq"},e)));this.$questionsMedian=this.$questionsMedian||this.dom.find(".js-questions-median"),this.$questionsMedian.html("<div class=\"loading-spinner large\"></div>"),this.$questionsAnswered=this.$questionsAnswered||this.dom.find(".js-questions-answered"),this.$questionsAnswered.html("<div class=\"loading-spinner large\"></div>"),o.then(function(o){var d=o.data.map(function(e){return e.answered||e.totalAnswered}),n=o.data.map(function(e){return e.userCount}),l=s.getDateLabels(o.data.map(function(t){return t[e.groupBy()]}),e);t.$questionsMedian.empty(),fs.mixAppend(t.$questionsMedian,"ui/b2b/DashboardMedianCard",{title:"Questions",icon:"fas fa-stethoscope",color:a,subtitle:"Questions answered by the group",data:d,filters:e,onViewMore:function onViewMore(){t.showMemberDialog({itemType:"mcq",actionType:"answered"})}});var c="".concat(t.groupByTitle()," Questions answered by number of users");t.$questionsAnswered.empty(),fs.mixAppend(t.$questionsAnswered,"ui/b2b/DashboardUserChart",{title:c,axisLabel:"Number of questions answered",primaryColor:"#dd6c2d",secondaryColor:"#EFBCA1",buttonColor:a,primaryData:d,userData:n,dateLabels:l,filters:e,tooltipRender:function tooltipRender(e){var t=e[0];return t?"\n          ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n          ").concat(d[t.index].toLocaleString()," Flashcards <br/>\n          ").concat(n[t.index].toLocaleString()," users <br/>\n        "):void 0},onChartClick:function onChartClick(e){t.showMemberDialog({date:e,itemType:"mcq",actionType:"answered"})},onViewMore:function onViewMore(){t.showMemberDialog({itemType:"mcq",actionType:"answered"})},onDownloadCSV:function onDownloadCSV(){var e="Date;Questions Answered;Users\n";return e+=d.map(function(e,t){return[moment(l[t]).format("D MMM YYYY"),e,n[t]].join(";")}).join("\n"),e}})})},DasboardSummary.prototype.setupVideosCards=function(e){var t=this,a="#D13463",o=a,d=fs.get("data/group/getVideosWatched",this.getRequestData(_objectSpread({},e)));this.$videosMedian=this.$videosMedian||this.dom.find(".js-videos-median"),this.$videosMedian.html("<div class=\"loading-spinner large\"></div>"),this.$videosWatched=this.$videosWatched||this.dom.find(".js-videos-watched"),this.$videosWatched.html("<div class=\"loading-spinner large\"></div>"),d.then(function(d){var n=d.data.map(function(e){return e.watched}),l=d.data.map(function(e){return e.userCount}),c=s.getDateLabels(d.data.map(function(t){return t[e.groupBy()]}),e);t.$videosMedian.empty(),fs.mixAppend(t.$videosMedian,"ui/b2b/DashboardMedianCard",{title:"Videos",icon:"fab fa-youtube",color:o,subtitle:"Videos opened by the group",data:n,filters:e,onViewMore:function onViewMore(){t.showMemberDialog({itemType:"video"})}});var p="".concat(t.groupByTitle()," videos opened by number of users");t.$videosWatched.empty(),fs.mixAppend(t.$videosWatched,"ui/b2b/DashboardUserChart",{title:p,axisLabel:"Number of videos opened",primaryColor:a,secondaryColor:"#E0C4D6",buttonColor:o,primaryData:n,userData:l,dateLabels:c,filters:e,onChartClick:function onChartClick(e){t.showMemberDialog({date:e,itemType:"video"})},tooltipRender:function tooltipRender(e){if(e[0]){var t=e[0];return"\n          ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n          ").concat(n[t.index].toLocaleString()," Videos <br/>\n          ").concat(l[t.index].toLocaleString()," users <br/>\n        ")}},onViewMore:function onViewMore(){t.showMemberDialog({itemType:"video"})},onDownloadCSV:function onDownloadCSV(){var e="Date;Videos Watched;Users\n";return e+=n.map(function(e,t){return[moment(c[t]).format("D MMM YYYY"),e,l[t]].join(";")}).join("\n"),e}})})},DasboardSummary.prototype.showMemberDialog=function(e){s.showMemberDialog(_objectSpread({},e,{scope:this}))},DasboardSummary.prototype.getRequestData=function(e){return s.getRequestData(this,e)},a.exports=DasboardSummary}),define("tabs.analytics.videos",function(e,t,a){function DashboardVideos(e,t){var a=this;this.group=t.currentGroup,this.startDate=t.startDate,this.endDate=t.endDate,this.groupByOptions=t.groupByOptions,this.groupByTitleMap=t.groupByTitleMap,this.groupBy=t.groupBy,this.groupByTitle=t.groupByTitle,e(this);this.group&&this.group()&&(this.addFilterHandlers(),this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy}),this.groupBy.subscribe(function(){return a.updateCards()}),this.startDate.subscribe(function(){return a.updateCards()}),this.endDate.subscribe(function(){return a.updateCards()}))}var s=t("ui/b2b/DashboardUtils");DashboardVideos.prototype.setupCards=function(e){this.setupVideosCards(e),this.setupTopicSelector(e)},DashboardVideos.prototype.updateCards=function(){this.setupCards({from:this.startDate,to:this.endDate,groupBy:this.groupBy})},DashboardVideos.prototype.addFilterHandlers=function(){var e=this;this.groupBy.subscribe(function(t){e.groupBy(t),e.setupCards({from:e.startDate,to:e.endDate,groupBy:e.groupBy})}),this.startDate.subscribe(function(t){e.clearCards(),moment(t).isBefore(e.endDate())?e.startDate(t):(e.startDate(e.endDate()),e.endDate(t)),e.updateCards()}),this.endDate.subscribe(function(t){e.clearCards(),moment(t).isAfter(e.startDate())?e.endDate(t):(e.endDate(e.startDate()),e.startDate(t)),e.updateCards()})},DashboardVideos.prototype.clearCards=function(){$(".js-dashboard-grid",this.dom).empty()},DashboardVideos.prototype.addCard=function(e){fs.mixAppend($(".js-dashboard-grid",this.dom),"ui/b2b/DashboardCard",e)},DashboardVideos.prototype.setupTopicSelector=function(e){var t=this;this.selectedTopics=ko.observableArray();fs.mixAppend(this.dom.find(".js-topic-selector").empty(),"ui/b2b/DashboardTopicSelector",{selectedTopics:this.selectedTopics,itemType:"video",groupID:this.group().groupID,startDate:e.from,endDate:e.to,subheading:"Click on a topic then select \u201CView member names\u201D to see member activity",onViewMore:function onViewMore(e){return fs.get("/data/group/getVideosWatchedStatsForAddrs",t.getRequestData({itemType:"video",addrs:e})).then(function(e){t.showVideoMemberDialog(e.data)})}})},DashboardVideos.prototype.showVideoMemberDialog=function(e){dialog("ui/b2b/DashboardTableModal",{dialogClass:"wide",table:{options:{autoWidth:!1,columnDefs:[{width:"40%",targets:0}],pageLength:50},headers:["<b>Name</b>","<b>Videos Watched</b><br>Students that have watched 50% of a video","<b>Total videos available in library topic selected"],rows:e.map(function(e){var t=e.name,a=e.watched,s=e.total;return[t,a,s]})}})},DashboardVideos.prototype.setupVideosCards=function(e){var t=this,a="#D13463",o=a,d=fs.get("data/group/getVideosWatched",this.getRequestData(_objectSpread({},e)));this.$videosMedian=this.$videosMedian||this.dom.find(".js-videos-median"),this.$videosMedian.html("<div class=\"loading-spinner large\"></div>"),this.$videosWatched=this.$videosWatched||this.dom.find(".js-videos-watched"),this.$videosWatched.html("<div class=\"loading-spinner large\"></div>"),d.then(function(d){var n=d.data.map(function(e){return e.watched}),l=d.data.map(function(e){return e.userCount}),c=s.getDateLabels(d.data.map(function(t){return t[e.groupBy()]}),e);t.$videosMedian.empty(),fs.mixAppend(t.$videosMedian,"ui/b2b/DashboardMedianCard",{title:"Videos",icon:"fab fa-youtube",color:o,subtitle:"Videos opened by the group",data:n,filters:e,onViewMore:function onViewMore(){t.showMemberDialog({itemType:"video"})}});var p="".concat(t.groupByTitle()," videos opened by number of users");t.$videosWatched.empty(),fs.mixAppend(t.$videosWatched,"ui/b2b/DashboardUserChart",{title:p,axisLabel:"Number of videos opened",primaryColor:a,secondaryColor:"#E0C4D6",buttonColor:o,primaryData:n,userData:l,dateLabels:c,filters:e,onChartClick:function onChartClick(e){t.showMemberDialog({date:e,itemType:"video"})},tooltipRender:function tooltipRender(e){if(e[0]){var t=e[0];return"\n          ".concat(moment(t.xLabel).format("D MMM YYYY")," <br/>\n          ").concat(n[t.index].toLocaleString()," Videos <br/>\n          ").concat(l[t.index].toLocaleString()," users <br/>\n        ")}},onViewMore:function onViewMore(){t.showMemberDialog({itemType:"video"})},onDownloadCSV:function onDownloadCSV(){var e="Date;Videos Watched;Users\n";return e+=n.map(function(e,t){return[moment(c[t]).format("D MMM YYYY"),e,l[t]].join(";")}).join("\n"),e}})})},DashboardVideos.prototype.showMemberDialog=function(e){s.showMemberDialog(_objectSpread({},e,{scope:this}))},DashboardVideos.prototype.getRequestData=function(e){return s.getRequestData(this,e)},a.exports=DashboardVideos}),define("tabs.clinical.index",function(e,t,a){function clinical(e){this;e(this)}clinical.prototype.defaultTab="schedule",a.exports=clinical}),define("tabs.clinical.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.clinical.schedule",function(e,t,a){function schedule(e){this.onboardMode=ko.observable("full"),this.locked=ko.observable(!1),e(this),this.tabOnboarding=fs.mix(this,"ui/TabOnboarding",{icon:"fa-calendar",image:"/assets/images/image-assets/clinical.png",tagline:"Add your rotation dates. Osmosis will send your relevant quizzes.",shortTagline:"Clinical Rotation Setup",startCta:"Try It Out",tutorialCta:"Watch How to Use the Scheduling Tool",watchLink:"alhUgtptNzo",trackingName:"Clinical Schedule",source:"rotation"}),this.studyPlan=fs.mix(this,"ui/clinical/MedSchoolClinical",{}),this.studyPrefs=fs.mix(this,"ui/StudyPreferencesSidetab"),window.user&&1>window.user.prime.status&&(this.locked(!0),this.stopVideo=!0,this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:self,source:"clinical",resource:"clinical",fullTab:!0,content:"clinical"}))}schedule.prototype.show=function(){window.IntercomEvent("trackEvent","accessed_schedule",{schedule_page:"Clinical"})},a.exports=schedule}),define("tabs.create.group",function(e,t,a){function group(e){window.location.replace("/create/workspace"),this.name=ko.observable("Private Coursework"),this.mode=ko.observable(),this.needsConfirm=ko.observable(!0),this.editingName=ko.observable(),e(this),fs.mix(this,"ui/GroupOnboardingForm"),fs.mix(this,"ui/NewGroupForm")}group.prototype.show=function(){this.mode(urlQuery.mode)},group.prototype.createNewWorkspace=function(){var e=this.name()||"Private Coursework";fs.post("createPrivateGroup",{name:e},function(e){location.href="/"+e.url+"/coursework"})},group.prototype.createPrivate=function(){window.location.href="/create/workspace"},a.exports=group}),define("tabs.create.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.create.workspace",function(e,t,a){function workspace(e){this.name=ko.observable(),this.needsConfirm=ko.observable(!0),this.editingName=ko.observable(),e(this)}workspace.prototype.createNewWorkspace=function(){var e=this.name()||"My Coursework";fs.post("createPrivateGroup",{name:e},function(e){location.href="/"+e.url+"/coursework"})},workspace.prototype.createGroup=function(){window.location.href="/create/group"},a.exports=workspace}),define("tabs.decks.index",function(e,t,a){function decks(e){this;e(this)}decks.prototype.defaultTab="list",a.exports=decks}),define("tabs.decks.list",function(e,t,a){a.exports=function list(e){e(this),this.deckQuizSelector=fs.mix(this,"ui/QuizBlockByDeck")}}),define("tabs.decks.module",function(e,t,a){function mod(e,t){s.call(this,e,t)}var s=t("tabs/prototype/module");fs.extend(mod,s),mod.prototype.template="/prototype/module",a.exports=mod}),define("tabs.decks.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.default.dashboard",function(){window.location.href="/home"}),define("tabs.default.docanalysis",function(e,t,a){function docanalysis(e){var t=this;this.selectedID=ko.observable(),this.locked=ko.observable(!1),e(this),window.user&&1>window.user.prime.status&&(this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:t,source:"library",resource:"library",fullTab:!0,content:"library"})),this.uploader=fs.mix(this,"ui/LibraryUploader"),urlQuery.tour&&setTimeout(function(){},2e3)}var s=t("shared/topics"),o=t("app/tour");docanalysis.prototype.show=function(){},a.exports=docanalysis}),define("tabs.default.groups",function(e,t,a){function groups(e){var t=this,a=_.filter(fs.transpose(window.groupSnapshotData,s),function(e){return 3==e.visibility});a.sort(function(e,t){return e.name()>t.name()?-1:e.name()<t.name()?1:0}),this.primaryGroup=ko.observable(1==window.userScheduleActive?window.userScheduleGroup:null),e(this),this.groups=fs.mixList(this,".groups"),this.groups.viewModel="models/GroupSnapshotView",this.addSnapshots(a)}var s=t("models/GroupSnapshot");groups.prototype.addSnapshots=function(e){var t=this;if(this.primaryGroup()){var a=_.filter(e,function(e){return e.groupID==t.primaryGroup()});a.length&&this.groups.push("models/GroupSnapshotView",{group:a[0]})}for(var s in e)e[s].groupID!=this.primaryGroup()&&this.groups.push("models/GroupSnapshotView",{group:e[s]})},a.exports=groups}),define("tabs.default.landing",function(e,t,a){function landing(e){function resize(){1200<=$(document).width()?$(".setWidthByWindowSize").width("600px").addClass("pull-right").width("600px"):900<=$(document).width()?$(".setWidthByWindowSize").addClass("pull-right").width("70%"):$(".setWidthByWindowSize").removeClass("pull-right").width("100%")}var t=this;this.canLogIn=ko.observable(!0),e(this),$(".jumpToLogin",this.dom).click(function(){t.learnMore()});var a=550<$(window).height()?$(window).height()-39:550;$(".landingHeader",this.dom).height(a),$("#sliderId").unoSlider(),$("a.gallery").colorbox({rel:"gallery",scrolling:"true",width:"70%",height:"80%",closeButton:!1}),$("a.gallery2").colorbox({rel:"gallery2",width:"30%",height:"80%"}),$("a.gallery3").colorbox({rel:"gallery3",scrolling:"true",width:"70%",height:"80%",closeButton:!1}),$("a.gallery4").colorbox({rel:"gallery4",width:"30%",height:"80%"}),fs.mixReplace($(".realtimeAnalytics",this.dom),"ui/analytics/RealtimeAnalytics",{}),resize(),$(window).resize(function(){resize()})}var s=t("app/login");landing.prototype.withFacebook=function(){s.withFacebook()},landing.prototype.withGoogle=function(){s.withGoogle()},landing.prototype.learnMore=function(){goToByScroll($("#divLearnMore"))},landing.prototype.tryIt=function(){goToByScroll($(".tryOsmosis",this.dom))},a.exports=landing}),define("tabs.default.login",function(e,t,a){function login(){}login.prototype.show=function(){location.replace("/login?r="+document.URL.slice(serverURL.length))},a.exports=login}),define("tabs.default.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.default.referral",function(e,t,a){a.exports=function referral(e){e(this),fs.mix(this,"ui/account/Referral",{})}}),define("tabs.default.responseMap",function(e,t,a){a.exports=function responseMap(){fs.mixReplace($(".realtimeAnalytics",this.dom),"ui/stats/RealtimeAnalytics",{})}}),define("tabs.default.unarchive",function(e,t,a){a.exports=function unarchive(e){this;e(this)}}),define("tabs.default.workspaces",function(e,t,a){function workspaces(e){this;this.teamWorkspaceCount=ko.observable(),this.privateWorkspaceCount=ko.observable();var t=fs.transpose(window.groupSnapshotData,s);this.canCreateWorkspaces=!0,window.user&&window.user.profile&&"Rush University"==window.user.profile.school&&(this.canCreateWorkspaces=!1),e(this);var a=_.filter(t,function(e){return 1<e.memberCount()});this.addSnapshots(".team",a),this.teamWorkspaceCount(a.length);var o=_.filter(t,function(e){return 1==e.memberCount()});this.addSnapshots(".private",o),this.privateWorkspaceCount(o.length)}var s=t("models/GroupSnapshot");workspaces.prototype.addSnapshots=function(e,t){var a=fs.mixList(this,e);for(var s in a.viewModel="models/GroupSnapshotView",t.sort(function(e,t){return e.name()>t.name()?-1:e.name()<t.name()?1:0}),t)a.push("models/GroupSnapshotView",{group:t[s]})},a.exports=workspaces}),define("tabs.editors.edits",function(e,t,a){function edit(e){this.ques=ko.observableArray(),e(this),fs.ajaxLoad(this,"editorGetEdits")}edit.prototype.load=function(e){var t=fs.transpose(e.feedbackData);for(var a in t.sort(function(e,t){return new Date(t.timestamp)-new Date(e.timestamp)}),t)fs.mixAppend($(".edits",this.dom),"ui/QuesEdit",{view:"editor",edit:t[a]})},a.exports=edit}),define("tabs.editors.grid",function(e,t,a){function grid(){this.rowCount=ko.observable(),fs.ajaxLoad(this,"editorGetConceptProgress")}grid.prototype.load=function(e){fs.empty($(".conceptTable",this.dom));var t=fs.transpose(e.conceptData);for(var a in this.rowCount(t.length),t){var s=t[a];s.visible=ko.observable(!0),s.url="/editconcept?term="+t[a].concept.replace(/\s/g,"_"),s.patient=+s.patient,s.educational=+s.educational,s.ques=+s.ques,s.totalques=+s.totalques}fs.mixAppend($(".conceptTable",this.dom),"ui/ConceptsTable",{rows:t})},grid.prototype.refresh=function(e){var t=this;fs.post("editorGetConceptProgress",{refresh:!0},function(a){t.load(a),e()})},a.exports=grid}),define("tabs.editors.review",function(e,t,a){function review(e){this.ques=ko.observableArray(),e(this),fs.ajaxLoad(this,"editorGetReadyForReview")}t("ui/QuesEdit");review.prototype.load=function(e){var t=fs.transpose(e.reviewData);for(var a in t.sort(function(e,t){return new Date(t.timestamp)-new Date(e.timestamp)}),t)fs.mixAppend($(".edits",this.dom),"ui/QuesEdit",{view:"admin",edit:t[a]})},a.exports=review}),define("tabs.flashcards.index",function(e,t,a){function flashcards(e){this;e(this)}flashcards.prototype.defaultTab="step1",a.exports=flashcards}),define("tabs.flashcards.nursing",function(e,t,a){a.exports=function nursing(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Flashcard Quiz Builder",iconAlt:"fas fa-bolt",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Flashcards"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"multiTopic",itemType:"allFC",topics:["Anatomy","Biochemistry","Metabolism","Genetics","Immunology","Microbiology","Dermatology","Hematology and Oncology","Neurology","Psychiatry","Respiratory","Renal","Cardiovascular","Gastrointestinal","Endocrine","Reproductive","Musculoskeletal","Cell Physiology","Biostatistics and Epidemiology","Embryology"],hasSubtopics:!0})}}),define("tabs.flashcards.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.flashcards.step1",function(e,t,a){a.exports=function step1(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Flashcard Quiz Builder",iconAlt:"fas fa-bolt",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Flashcards"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"multiTopic",itemType:"allFC",topics:["Anatomy","Biochemistry","Metabolism","Genetics","Immunology","Microbiology","Dermatology","Hematology and Oncology","Neurology","Psychiatry","Respiratory","Renal","Cardiovascular","Gastrointestinal","Endocrine","Reproductive","Musculoskeletal","Cell Physiology","Biostatistics and Epidemiology","Embryology"],hasSubtopics:!0})}}),define("tabs.flashcards.topics",function(e,t,a){a.exports=function topics(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Flashcard Quiz Builder",iconAlt:"fas fa-bolt",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Flashcards"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"multiTopic",itemType:"allFC",topics:["Anatomy","Biochemistry","Metabolism","Genetics","Immunology","Microbiology","Dermatology","Hematology and Oncology","Neurology","Psychiatry","Respiratory","Renal","Cardiovascular","Gastrointestinal","Endocrine","Reproductive","Musculoskeletal","Cell Physiology","Biostatistics and Epidemiology","Embryology"],hasSubtopics:!0})}}),define("tabs.group.analysis",function(e,t,a){var s=t("shared/topics"),o=t("ui/docUploaderPopup");a.exports=function analysis(e){var t=this;this.selectedID=ko.observable(),this.locked=ko.observable(!1),e(this),window.user&&1>window.user.prime.status&&(this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:t,source:"library",resource:"library",fullTab:!0,content:"library"})),this.analysis=fs.mix(this,"ui/LibraryAnalysis"),$(document).bind("group/coursework:library",function(a,e){t.analysis.timeSelectorVisible(!0),t.analysis.time.targetDocument(e.docNode,e.event)})}}),define("tabs.group.analytics",function(e,t,a){function analytics(e){this.sidebarNav=ko.observable("cumulative"),this.messages=s.messageCount,e(this),fs.mix(this,"ui/analytics/CumulativeAnalytics",{}),fs.mix(this,"ui/analytics/Segmentation",{})}var s=t("app/group");analytics.prototype.switchView=function(e){var t=this;return function(){t.sidebarNav(e)}},a.exports=analytics}),define("tabs.group.coursework",function(e,t,a){function coursework(e){var t=this;this.loading=ko.observable(!0),this.groupName=ko.observable(groupName),this.sidebarNav=ko.observable(window.location.hash?window.location.hash.slice(1):"docs"),this.messages=n.messageCount,this.select=ko.observable(),this.learnAboutCourseDocs=ko.observable(),this.todo=s,this.onboardMode=ko.observable("banner"),e(this),this.tabOnboarding=fs.mix(this,"ui/TabOnboarding",{icon:"fa-users",image:"/assets/images/image-assets/clinical.png",tagline:"Calendar organization, document Analysis, flashcard creation, slide annotation, and more!",shortTagline:"Workspace Setup",startCta:"Try It Out",tutorialCta:"Watch How to Use Workspaces",watchLink:"TCHHzgmnOBU",trackingName:"Workspaces",source:"workspace"}),t.moduleList=fs.mix(t,"ui/ModuleList"),t.groupDocList=fs.mix(t,"ui/GroupDocList",{afterLoaded:function afterLoaded(){t.loading(!1),urlQuery.tutorial}}),t.calendar=fs.mix(t,"ui/CalendarSidetab",{groupDocList:t.groupDocList}),fs.mix(t,"ui/WorkspaceQuizBuilder"),$(document).bind("group/coursework:nav",function(a,e){t.sidebarNav(e)}),window.IntercomEvent("trackEvent","visited_workspaces")}var s=t("app/todo"),o=t("app/backgroundEvents"),d=t("app/timezone"),n=t("app/group");coursework.prototype.doSidebarNav=function(e){var t=this;return function(){t.sidebarNav(e)}},coursework.prototype.load=function(){},coursework.prototype.show=function(){},coursework.prototype.createNewModule=function(){this.moduleList.createNewModule()},coursework.prototype.prevDay=function(){this.groupDocList.goToPrevDay()},coursework.prototype.nextDay=function(){this.groupDocList.goToNextDay()},coursework.prototype.viewDemo=function(){},coursework.prototype.editCalendar=function(){this.groupDocList.uploadCalendar()},a.exports=coursework}),define("tabs.group.index",function(e,t,a){function index(e){this;this.messages=s.messageCount,e(this)}var s=t("app/group");index.prototype.defaultTab="coursework",index.prototype.goToMessages=function(){tabToURL(window.urlPrefix+"/messages")},a.exports=index}),define("tabs.group.members",function(e,t,a){var s=t("app/group");a.exports=function members(e){this.messages=s.messageCount,e(this),fs.mix(this,"ui/GroupMembers"),fs.mix(this,"ui/GroupInviteLink")}}),define("tabs.group.messages",function(e,t,a){function messages(e){var t=this;this.messages=s.messageCount,e(this),this.newsfeed=fs.mix(this,"ui/DashboardNewsfeed"),scrolledToBottom(this.dom,function(){t.newsfeed.next()})}var s=t("app/group");messages.prototype.load=function(){},messages.prototype.show=function(){s.messageCount(0),fs.post("updateMessageRead",{g:window.groupID}),window.IntercomEvent("trackEvent","accessed_messages")},a.exports=messages}),define("tabs.group.module",function(e,t,a){function mod(e,t){s.call(this,e,t)}var s=t("tabs/prototype/module");fs.extend(mod,s),mod.prototype.template="/prototype/module",a.exports=mod}),define("tabs.group.newquiz",function(e,t,a){function newquiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/newquiz");fs.extend(newquiz,s),a.exports=newquiz}),define("tabs.group.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.group.schedule",function(e,t,a){var s=t("app/group");a.exports=function schedule(e){this.messages=s.messageCount,e(this),this.studyPrefs=fs.mix(this,"ui/StudyPreferencesSidetab")}}),define("tabs.group.search",function(e,t,a){function search(e,t){s.call(this,e,t)}var s=t("tabs/prototype/search");fs.extend(search,s),a.exports=search}),define("tabs.home.clinicalreasoning",function(e,t,a){a.exports=function clinicalreasoning(){window.location.replace("/playlist/clinicalreasoning")}}),define("tabs.home.dashboard",function(e,t,a){function dashboard(e){var t=this,a=this;this.expandedTopics=[],this.newVideos=ko.observable(),this.isPrime=1===window.user.prime.status,this.streak=ko.observable(),this.isMaxStreak=ko.observable(),this.hasSeenMessage=!1,this.messageComponent=null,this.dashboardMessages=[{name:"valentines-day-message",active:!1,component:"ui/dashboard/messages/ValentinesDay",args:null},{name:"mailing-address-message",active:!1,component:"ui/dashboard/messages/MailingAddress",args:null},{name:"gift-card-message",active:!1,component:"ui/dashboard/messages/GiftCardMessage",args:null},{name:"match-day-message",active:!1,component:"ui/dashboard/messages/MatchDay",args:null},{name:"birthday-message",active:!1,component:"ui/dashboard/DashboardBirthdayMessage",args:null},{name:"streak-message",active:!1,component:"ui/dashboard/StreakMessage",args:null},{name:"referral-message",active:!0,component:"ui/dashboard/DashboardReferralMessage",args:null,repeat:14},{name:"complete-profile-message",active:!1,component:"ui/dashboard/messages/CompleteProfile",args:null,repeat:1},{name:"thanksgiving-message",active:!1,component:"ui/dashboard/messages/Thanksgiving",args:null}],this.hideMessage=window.localStorage&&window.localStorage.getItem("hideMessage")?JSON.parse(window.localStorage.getItem("hideMessage")):{},e(this),this.determineActiveMessages().then(function(){t.getDashboardMessage()}),fs.mix(this,"ui/SubjectsNav"),hasActiveTools()?this.loadTools():n(function(){a.loadTools()}),fs.mixAppend($(".stats-section",this.dom),"ui/dashboard/Stats",{}),this.getDashboardVideos(),$(".ui-DashboardTutorialPopup",this.dom).insertBefore("#page-footer")}function hasActiveTools(){for(var e in s)if(s[e].active())return!0;return!1}var s=t("app/tools"),o=t("shared/streaks"),d=t("shared/topics"),n=t("ui/survey/welcomeSurvey");dashboard.prototype.loadTools=function(){var e=fs.mixAppend($(".tools-section",this.dom),"ui/ToolsMenu",{title:"What are you looking to do today?",filter:1}),t=fs.mixAppend($(".tools-section",this.dom),"ui/ToolsMenu",{title:"Tools you might like",filter:2}),a=fs.mixAppend($(".tools-section",this.dom),"ui/ToolsMenu",{title:ko.computed(function(){return e.visible()||t.visible()?"Other available tools":"Select Study Tools"}),collapsed:!0,filter:0})},dashboard.prototype.showPrimeDeal=function(){window.Storage&&window.localStorage.bookdealNextShow&&0<=moment(window.localStorage.bookdealNextShow).diff(moment())||(!$("body.page-backend .notifications").length&&$("body.page-backend").prepend("<div class=\"notifications\"></div>"),this.banner=fs.mixAppend($("body.page-backend .notifications"),"ui/NotificationBanner",{theme:"light-blue",type:"prime-countdown",icon:"fa-book",message:"Get a free textbook of your choice when you buy 1 year or more of Osmosis Prime.",cta:"Check it out.",ctaLink:"/deal/freetextbook?utm_source=banner&utm_medium=osmosis&utm_campaign=april-free-textbook",expireLength:1,align:"left",storage:"bookdealNextShow",storageTime:{unit:"day",amount:"1"}}))},dashboard.prototype.getDashboardVideos=function(){var e=this;fs.post("/getDashboardVideos",{},function(t){if(e.newVideos(0<t.new.length),e.newVideos()&&(e.newVideosSlider=fs.mixAppend($(".video-sliders-section",e.dom),"ui/dashboard/VideoSlider",{videos:t.new,title:"new videos"})),t.series){var a=["endo","heme","renalPhys","respPhys","cardioPhys","repro","ecg","derm"];if(window.user.profile&&1==window.user.profile.year)t.series.learning&&(e.reproSeries=fs.mixAppend($(".featured-series-section",e.dom),"ui/dashboard/CustomFeaturedSeries",{series:t.series.learning,url:"/home/scienceoflearning",cta:"Get Started"}));else{var s=0;for(var o in a)if(t.series[a[o]]&&2>s){var d={series:t.series[a[o]]};0<o&&(d.hideMainTitle=!0),fs.mixAppend($(".featured-series-section",e.dom),"ui/dashboard/FeaturedVideoSeries",d),s++}}}e.buildExpandedTopicsList(t.topicVideos)})},dashboard.prototype.buildExpandedTopicsList=function(e){var t=[],a=[];for(var s in d.subjectIndex)-1<a.indexOf(+s)||t.push({name:d.topicID2subject[s],id:s});for(var o in t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),t)e[t[o].id]&&0<e[t[o].id].length&&(this.expandedTopics[t[o].id]=fs.mixAppend($(".expanded-topics-section",this.dom),"ui/dashboard/VideoTopicExpanded",{topicID:t[o].id,videos:e[t[o].id]}))},dashboard.prototype.getDashboardMessage=function(){var e=this,t=this,a=moment(new Date);if(user.joined!==a.format("YYYY-MM-DD")){for(var s=Object.keys(t.hideMessage),o=function _loop13(e){var o=s[e],d=t.dashboardMessages.find(function(e){return e.name===o});if(d&&(d.active=!1,d.repeat)){var n=a.diff(moment(t.hideMessage[o]))/1e3/60/60/24;n>d.repeat&&(delete t.hideMessage[o],d.active=!0)}},d=0;d<s.length;d+=1)o(d);this.hasSeenMessage||this.dashboardMessages.some(function(a){return!!a.active&&(console.log(a),e.messageComponent=fs.mixAppend($(".message-section",e.dom),a.component,_objectSpread({name:a.name},a.args)),t.hasSeenMessage=!0,!0)})}},dashboard.prototype.determineActiveMessages=function(){var e=this,t=[];user.profile&&user.profile.dob&&moment(new Date(user.profile.dob)).format("MM/DD")===moment(new Date).format("MM/DD")&&(this.dashboardMessages.find(function(e){return"birthday-message"===e.name}).active=!0),user.profile&&0<!user.profile.schoolID&&(this.dashboardMessages.find(function(e){return"complete-profile-message"===e.name}).active=!0),t.push(new Promise(function(t){fs.post("getLoginStreak",{}).then(function(a){e.streak(a.current),e.isMaxStreak(a.isMax);var s=o.goals.find(function(t){return t.count==e.streak()});if(!(e.isMaxStreak()&&s&&window.localStorage))t(!1);else if(e.streak()>window.localStorage.getItem("streak")){window.localStorage.setItem("streak",e.streak());var d=e.dashboardMessages.find(function(e){return"streak-message"===e.name});d.active=!0,d.args={streak:e.streak},t(!0)}else t(!1)})}));var a=moment("".concat(moment().format("YYYY"),"-11-22T05:01:01.000Z")),s=moment("".concat(moment().format("YYYY"),"-11-25T04:59:59.000Z"));t.push(new Promise(function(t){moment().isAfter(a)&&moment().isBefore(s)?fs.get("userGeoLocation",{},function(a){"United States"===a.userLocation.location.country_name?(fs.mixAppend(e.dom,"ui/animations/Turkey"),fs.mixAppend(e.dom,"ui/animations/Leaves"),e.dashboardMessages.find(function(e){return"thanksgiving-message"===e.name}).active=!0,t(!0)):t(!1)}):t(!1)}));var d=moment("".concat(moment().format("YYYY"),"-12-19T05:01:01.000Z")),n=moment("".concat(moment().format("YYYY"),"-12-31T05:01:01.000Z"));moment().isAfter(d)&&moment().isBefore(n)&&(this.dashboardMessages.find(function(e){return"gift-card-message"===e.name}).active=!0);var l=moment("".concat(moment().format("YYYY"),"-03-11T05:01:01.000Z")),c=moment("".concat(moment().format("YYYY"),"-03-25T04:59:59.000Z"));moment().isAfter(l)&&moment().isBefore(c)&&(this.dashboardMessages.find(function(e){return"match-day-message"===e.name}).active=!0);var p=moment("".concat(moment().format("YYYY"),"-02-13T05:01:01.000Z")),u=moment("".concat(moment().format("YYYY"),"-02-16T04:59:59.000Z"));return moment().isAfter(p)&&moment().isBefore(u)&&(this.dashboardMessages.find(function(e){return"valentines-day-message"===e.name}).active=!0),t.push(new Promise(function(t){window.user.address.shippingAddress?t(!1):fs.get("userGeoLocation",{},function(a){a&&a.userLocation&&a.userLocation.location&&"United States"===a.userLocation.location.country_name?fs.get("typesOfSchedule",{},function(a){return a.includes("usmle-step1")?(e.dashboardMessages.find(function(e){return"mailing-address-message"===e.name}).active=!0,void t(!0)):void t(!1)}):t(!1)})})),Promise.all(t)},a.exports=dashboard}),define("tabs.home.index",function(e,t,a){function home(e){this;e(this)}home.prototype.defaultTab="dashboard",a.exports=home}),define("tabs.home.newquiz",function(e,t,a){function newquiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/newquiz");fs.extend(newquiz,s),newquiz.prototype.template="/prototype/newquiz",a.exports=newquiz}),define("tabs.home.pharmacology",function(e,t,a){a.exports=function pharmacology(){window.location.replace("/playlist/pharmacology")}}),define("tabs.home.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.home.quizzes",function(e,t,a){a.exports=function quizzes(){window.location.href="fc"==urlQuery.type?"/flashcards/step1?topic="+urlQuery.topic:"step1"==urlQuery.type?"/qbank/step1?topic="+urlQuery.topic:"step1"==urlQuery.type?"/qbank/step2?topic="+urlQuery.topic:"/"}}),define("tabs.home.scienceoflearning",function(e,t,a){a.exports=function scienceoflearning(){window.location.replace("/playlist/scienceoflearning")}}),define("tabs.home.search",function(e,t,a){function search(e,t){urlQuery.show?s.call(this,e,t):(t.dom.empty(),this.redirect=!0,location.replace("/home/dashboard"))}var s=t("tabs/prototype/search");fs.extend(search,s),search.prototype.template="/prototype/search",a.exports=search}),define("tabs.home.timeline",function(e,t,a){function timeline(e){this;this.term=ko.observable(),this.originalConcept=ko.observable(),this.originalConceptUrl=ko.observable(),this.groupID=ko.observable(window.userScheduleGroup),this.groups=fs.transpose(groupSnapshotData),e(this),this.groups.length&&(this.timelineSearch=fs.mix(this,"ui/TimelineSearch"))}timeline.prototype.show=function(){var e=urlQuery.query?urlQuery.query.split("|"):[""];this.term(e[0].replace(/\_/g," ")),this.originalConcept(this.term()),this.originalConceptUrl("/learn/"+e[0]);this.groupID()&&this.term()&&(this.timelineSearch.groupID=this.groupID(),!this.timelineSearch.width&&(this.timelineSearch.width=this.dom.width(),this.timelineSearch.height=$(window).height()-200,this.runSearch()))},timeline.prototype.runSearch=function(){this.timelineSearch&&this.timelineSearch.search(this.term().toLowerCase(),this.groupID())},timeline.prototype.openDocAnalysis=function(){analytics.track("Timeline Onboarding CTA",{action:"Upload Document"}),window.location.href="/docanalysis"},timeline.prototype.openCreateWorkspace=function(){analytics.track("Timeline Onboarding CTA",{action:"Join Workspace"}),window.location.href="/create/group"},a.exports=timeline}),define("tabs.home.videos",function(e,t,a){function videos(e){this;this.expandedTopics=[],this.hasPrime=1===window.user.prime.status,e(this),fs.mix(this,"ui/SubjectsNav"),this.topicsDropdown=fs.mix(this,"ui/TopicsDropdown",{standalone:!0}),fs.mix(this,"ui/SelectorHeader",{title:"Video Library",icon:"https://d3cdo0emj8d2qc.cloudfront.net/assets/KWCPZF_8QU2kaS2HQKtbpPNsRZ_euptZ.png",breadcrumb:ko.computed(function(){return[{name:"Dashboard",link:"/home/dashboard"},{name:"Video Library"}]})}),this.getDashboardVideos()}var s=t("shared/topics"),o=t("ui/MediaQueryList");videos.prototype.getDashboardVideos=function(){var e=this;fs.post("/getDashboardVideos",{},function(t){e.buildExpandedTopicsList(t.topicVideos)})},videos.prototype.buildExpandedTopicsList=function(e){var t=[],a=[];for(var o in s.subjectIndex)-1<a.indexOf(+o)||t.push({name:s.topicID2subject[o],id:o});for(var d in t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),t)e[t[d].id]&&0<e[t[d].id].length&&(this.expandedTopics[t[d].id]=fs.mixAppend($(".expanded-topics-section",this.dom),"ui/dashboard/VideoTopicExpanded",{topicID:t[d].id,videos:e[t[d].id]}))},a.exports=videos}),define("tabs.intro.decks",function(e,t,a){a.exports=function decks(){this}}),define("tabs.intro.index",function(e,t,a){function index(){this}index.prototype.defaultTab="decks",a.exports=index}),define("tabs.learn.index",function(e,t,a){function learn(e){this;e(this)}learn.prototype.defaultTab="page",a.exports=learn}),define("tabs.learn.page",function(e,t,a){function learn(e){this;this.locked=ko.observable(!1),this.searchQuery=ko.observable(location.pathname.slice(7)),this.notFound=ko.observable(window.notFound||!this.searchQuery()),window.nightModeAvailable(!0),e(this),-1!=serverURL.indexOf("localhost")}learn.prototype.show=function(){this.learnCard=null,fs.empty($(".learn-card"),this.dom),this.notFound()||(this.learnCard=fs.mixAppend($(".learn-card",this.dom),"models/learn/LearnCard",{id:location.pathname.slice(7),parent:this,index:urlQuery.index,stopVideo:this.stopVideo}))},a.exports=learn}),define("tabs.learn.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.legacy.playlist",function(e,t,a){function playlist(e){e(this),this.playlist=fs.mix(this,"ui/Playlist")}playlist.prototype.show=function(){this.playlist.show()},a.exports=playlist}),define("tabs.module.analytics",function(e,t,a){function analytics(e){this.isLoading=ko.observable(!0),this.MID=ko.observable(MID),e(this),o=this.dom}var s=t("app/who"),o=null;analytics.prototype.nav={title:"Group",index:0},analytics.prototype.renderContribHistory=function(e){var t=fs.mixReplace($(".contributorTable",this.dom),"ui/analytics/ContributorStats"),a={quesContrib:0,MCQ:0,TF:0,LM:0,multiMediaContrib:0,image:0,video:0,documents:0},o=e.contribHistory;for(var d in o){for(var n in o[d].rank=+d+1,+o[d].userID==userID&&t.thisUserContributed(!0),a)a[n]+=o[d][n];t.add(o[d])}for(var d in a.rank="Totals",a.userID=0,t.add(a),e.contribs)s.data(ko.observable(e.contribs[d]));s.update(function(){var a=[];for(var o in e.contribs){var d=s.data(ko.observable(e.contribs[o]));a.push(d())}for(var o in a.sort(function(e,t){return e.last<t.last?-1:e.last>t.last?1:0}),a)t.contribNames.push(a[o])})},analytics.prototype.show=function(){var e=this;e.isLoading(!0),$.post("/analytics",{m:MID},parseResult(function(t){e.isLoading(!1),MID?(e.renderContribHistory(t),fs.mixReplace($(".moduleAnalytics",this.dom),"ui/analytics/BasicAnalytics",{hist:t.responseHistory,title:"(Current Module)"})):fs.mixReplace($(".overallAnalytics",this.dom),"ui/analytics/OverallAnalytics",{analytics:t})}))},a.exports=analytics}),define("tabs.module.notes",function(e,t,a){function notes(e){var t=this;this.isAutoBlanked=ko.observable(),this.slideImgURL=ko.observable(),this.slideImgURL.subscribe(function(e){$("object.media-image.docShadow",t.dom).remove();var a=$("<object class=\"media-image docShadow\" type=\"image/svg+xml\"></object>");a.attr({data:e,style:"background-color: white; width:100%;"+(e?"":"display: none")}),a.prependTo($(".col-md-8.scrollable.ptl",t.dom))}),this.canChangeSlide=!0,e(this),"print"in urlQuery?($("body").empty(),fs.mixAppend($("body"),"ui/PrintNotesView",{slides:"slides"==urlQuery.print,printable:!0})):this.renderNotes(),registerHotkey("page","left",function(a){a.preventDefault(),t.prevNote()}),registerHotkey("page","right",function(a){a.preventDefault(),t.nextNote()}),$(document).mousemove(function(){t.canChangeSlide=!0})}function indexOf(e,t){for(var a in e)if(e[a]==t[0])return+a+1;return null}var s=t("core/util"),o=t("app/module");notes.prototype.nav={title:"My Notes",short:"Notes",index:2,visible:FEATURES.docs},notes.prototype.renderNotes=function(){fs.empty($(".notes",this.dom)),fs.mixAppend($(".notes",this.dom),"ui/NotesView",{parent:this,slides:!0,wantsAutoBlanks:this.isAutoBlanked()}),this.noteViews=$(".models-NodeNoteView"),this.jumpIdx=0},notes.prototype.show=function(){this},notes.prototype.showAllBlanks=function(){$(".wikiTerm",this.dom).removeClass("hidden"),$(".notesCloze",this.dom).remove()},notes.prototype.autoBlank=function(){this.isAutoBlanked(!0),this.renderNotes()},notes.prototype.showSlide=function(e,t){this.currentURL!=e&&(this.canChangeSlide||t)&&(this.slideImgURL(e),this.currentURL=e)},notes.prototype.prevNote=function(){var e=this,t=getScrolledToElem($(".col-md-4",this.dom),".models-NodeNoteView");this.jumpIdx=indexOf(this.noteViews,t)||this.jumpIdx,0<this.jumpIdx&&this.jumpIdx--;var a=$(this.noteViews[this.jumpIdx]);this.canChangeSlide=!1,goToByScroll(a),this.showSlide(a.attr("slide-url"),!0)},notes.prototype.nextNote=function(){var e=this,t=getScrolledToElem($(".col-md-4",this.dom),".models-NodeNoteView");this.jumpIdx=indexOf(this.noteViews,t)||this.jumpIdx,this.jumpIdx<this.noteViews.length&&this.jumpIdx++;var a=$(this.noteViews[this.jumpIdx]);this.canChangeSlide=!1,goToByScroll(a),this.showSlide(a.attr("slide-url"),!0)},a.exports=notes}),define("tabs.module.settings",function(e,t,a){function settings(e){this.module=new s(MID),this.module.name(navData.module.name).startsOn(navData.module.startsOn).examDate(navData.module.examDate).descr(navData.module.descr),e(this)}var s=t("models/Module"),o=t("app/canonical");settings.prototype.nav={title:"Overview",index:0},settings.prototype.deleteModule=function(){fs.confirm("Are you sure you want to delete this module?",function(e){fs.destroy(new s(MID),function(){location.replace("/"+navData.group.url)},function(t){fs.alert(t.error.msg,null,null,e)})})},settings.prototype.cancel=function(){location.reload()},a.exports=settings}),define("tabs.module.signups",function(e,t,a){function signups(){for(var e in eventIndex){var t=moment(eventIndex[e].begin()).format("YYYY-MM-DD");t in s?s[t].push(eventIndex[e]):s[t]=[eventIndex[e]]}for(var e in this.days=ko.observableArray(),s){var a={day:e,events:ko.observableArray()};for(var o in s[e]){var d=s[e][o];a.events.push({backgroundStatus:ko.computed(function(){var e=d.getLinkedQues().length,t=d.signUps().length;return 0==t?"noSignup":0==e?"noQues":"hasSignup"}),event:d})}a.events.sort(function(e,t){return e.event.begin()-t.event.begin()}),this.days.push(a)}this.days.sort(function(e,t){return new Date(t.day)-new Date(e.day)})}var s={};signups.prototype.signup=function(e){return function(){e.signup()}},a.exports=signups}),define("tabs.prototype.module",function(e,t,a){var s=Math.ceil;function mod(e){var t=this;this.startRow=ko.observable(),this.stopRow=ko.observable(),this.total=ko.observable(),this.type=ko.observable(urlQuery.type),this.filtersVisible=ko.observable(),this.searchText=ko.observable(),this.deleting=ko.observable(),this.pages=ko.observableArray([1]),this.currentPage=ko.observable(1),this.pageSize=ko.observable(30),this.lastPage=ko.computed(function(){var e=t.pages();return e[e.length-1]}),this.batchAction=ko.observable(),this.quizBuilder=new d,this.MID=urlQuery.id,this.name=ko.observable(),this.correct=ko.observable(0),this.incorrect=ko.observable(0),this.completed=ko.computed(function(){return t.total()-1}),e(this),this.items=fs.mixList(this,".item-bank"),this.items.viewModel="ui/QuesItemRow",this.currentPage.subscribe(function(){t.filter()}),this.batchAction.subscribe(function(){t.takeBatchAction(t.batchAction())}),$("input.search-module",this.dom).keypress(function(a){13==a.keyCode&&(a.preventDefault(),a.stopPropagation(),t.filter())})}var o=t("app/recManager"),d=t("ui/QuizBuilder"),n=t("app/addToQueue");mod.prototype.show=function(){var e=this,t=urlQuery.id;this.filters&&fs.unmix(this.filters),this.filters=fs.mixAppend($(".filters",this.dom),"ui/QBankFilters",{MID:t,onApply:function onApply(){e.currentPage(1),e.pageSize(30),e.filter()}}),this.filter()},mod.prototype.filter=function(){var e=this,t=urlQuery.id,a=this.filters.getFilter();this.searchText()&&a.unshift({type:"text",data:{unary:"is",value:e.searchText()}}),"flashcard"==urlQuery.type?a.unshift({type:"type",data:{unary:"is",value:[5]}}):"question"==urlQuery.type&&a.unshift({type:"type",data:{unary:"is",value:[1,2,3,4,6,7,8]}}),fs.post("filterModuleItems",{g:window.groupID,m:t,startRow:((this.currentPage()||1)-1)*this.pageSize()+1,rowCount:this.pageSize(),filter:a},function(a){for(var d in e.name(a.name),o.loadNodes(a.rows),a.statusData.nodeID)nodeIndex[a.statusData.nodeID[d]].status(a.statusData.status[d]);e.startRow(a.startRow),e.stopRow(a.stopRow<a.total?a.stopRow:a.total),e.total(a.total);for(var n=[],d=1;d<=s(a.total/e.pageSize());d++)n.push(+d);for(var d in e.pages(n),e.items.removeAll(),e.ids=a.rows.nodeData.nodeID,e.ids){var l=nodeIndex[e.ids[d]];l.MID=t,e.items.push("ui/QuesItemRow",{node:l})}})},mod.prototype.first=function(){},mod.prototype.next=function(){this.currentPage()<this.lastPage()&&(this.currentPage(this.currentPage()+1),this.filter())},mod.prototype.prev=function(){1<this.currentPage()&&(this.currentPage(this.currentPage()-1),this.filter())},mod.prototype.last=function(){this.currentPage(this.lastPage()),this.filter()},mod.prototype.showAll=function(){this.currentPage(1),this.pageSize(this.total()),this.filter()},mod.prototype.changePageSize=function(){this.filter()},mod.prototype.takeBatchAction=function(e){var t=this,a=urlQuery.id;fs.confirm("Are you sure you want to <b>"+e+"</b> "+this.ids.length+" items?",function(s){fs.post("batchItemAction",{g:window.groupID,m:a,action:e,ids:t.ids},function(){s(),fs.confirm("Batch job completed. Press OK to refresh the page.",function(){location.reload()})})})},mod.prototype.startQuiz=function(e){var t=this;t.quizBuilder.quiz={ids:t.ids,type:"Flashcards"},this.quizBuilder.hideBrowse=!0,t.quizBuilder.displayScoreboard(),e()},mod.prototype.saveToQueue=function(){var e=this;$(".deck-action.save",e.dom).addClass("ajax-loading"),setTimeout(function(){$(".deck-action.save",e.dom).removeClass("ajax-loading")},3e3),n.flashcards(e.ids,$(".deck-action.save",e.dom),!0)},mod.prototype.editTags=function(){dialog("ui/dialogs/EditTags",function(){},{MID:urlQuery.id})},mod.prototype.addCard=function(){var e=this;dialog("ui/dialogs/AddItem",function(){$.jGrowl("Saved changes.",{life:1e3,position:"bottom-left"})},{MID:urlQuery.id,onSaveItem:function onSaveItem(t){e.total(e.total()+1),e.items.push("ui/QuesItemRow",{node:t})}})},a.exports=mod}),define("tabs.prototype.quiz",function(e,t,a){function quiz(e,t){var a=this;this.isQbank=ko.observable(!1),this.showQuizControls=ko.observable(!0),e(this),this.labValues=fs.mix(this,"ui/LabValuesSidebar"),this.statusBar=fs.mix(this,"ui/QuizStatusBar",{parent:this}),this.controls=fs.mix(this,"ui/QuizControls"),this.reviewApp=fs.mix(this,"ui/ReviewApp",{type:t.type,statusBar:this.statusBar,showQuizControls:this.showQuizControls}),t.shortcuts={Spacebar:this.advance},$(document).bind("review.startQuiz",function(t,e,s){e.length?a.reviewApp.type(5==nodeIndex[e[0]].subtype()?"flashcards":"questions"):fs.alert("This is an empty quiz. Please try selecting more items.",function(){tabToURL(window.prefixTabURL(""))}),a.reviewApp.displayAgeMsg(!!(s&&s.age)),a.reviewApp.setQuiz(e),a.reset(),a.reviewApp.buildQuiz(),window.quizExitLocation=window.location.pathname,tabToURL(window.prefixTabURL("/quiz")),a.setQuizHeight()}),this.setQuizHeight(),$(window).resize(function(){a.setQuizHeight()}),$(window).on("popstate",function(){var e=window.location.pathname.split("/"),t=e[e.length-1];"quiz"!=t&&window.closeQuizFrame()})}quiz.prototype.setQuizHeight=function(){if(768>$(window).width()){var e=$(window).height();$(".review-section").addClass("locked-height").css("height",e)}else $(".review-section").removeClass("locked-height").css("height","")},quiz.prototype.startNew=function(){},quiz.prototype.exit=function(){if(window.closeQuizFrame(),window.quizExitLocation){var e=window.quizExitLocation;window.quizExitLocation=null,tabToURL(e)}else tabToURL(window.prefixTabURL("/newquiz"))},quiz.prototype.reset=function(){this.statusBar.reset()},quiz.prototype.show=function(){this.controls.render(),window.openQuizFrame()},quiz.prototype.advance=function(){},quiz.prototype.toggleQuizControls=function(){this.showQuizControls(!this.showQuizControls())},quiz.prototype.toggleLabValues=function(){this.labValues.toggle()},a.exports=quiz}),define("tabs.prototype.search",function(e,t,a){function search(e){var a=this,s=this;this.query=ko.observable(),this.bannerVisible=ko.observable(!1),this.subjectActive=ko.observable(),this.subjectID=ko.observable();var o=ko.observableArray([]);this.breadcrumb=ko.computed({read:function read(){return o()},write:function write(e){return o([{name:"Dashboard",link:"/home/dashboard"},{name:"Video Library",link:"/home/videos"}]),e&&o.push({name:e.replace(/_|(%20)/g," ")}),o()},owner:this}),d.ListenTablet(function(t){a.breadcrumb(urlQuery.topic,t.matches)}),e(this),this.searchDashboard=fs.mix(this,"ui/SearchDashboard",{breadcrumb:s.breadcrumb,search:s}),urlQuery.tutorials&&760<$(document).width()&&"true"!=localStorage.getItem("viewedTutorial")&&setTimeout(function(){var e=t("ui/onboardingTour");e.start(),localStorage.setItem("viewedTutorial","true")},2e3),this.checkBannerHide()}var s=t("app/tour"),o=t("shared/topics"),d=t("ui/MediaQueryList");window.osmosisIcon=ko.observable(),window.sketchyIcon=ko.observable(),window.picmonicIcon=ko.observable(),$.get("/assets/images/icons/osmosis-icon.svg",function(e){window.osmosisIcon(e.activeElement)}),$.get("/assets/images/icons/sketchy-icon.svg",function(e){window.sketchyIcon(e.activeElement)}),$.get("/assets/images/icons/picmonic-icon.svg",function(e){window.picmonicIcon(e.activeElement)}),search.prototype.initTour=function(){this;s.start("newUI")},search.prototype.checkBannerHide=function(){window.Storage&&window.localStorage.videosBannerHide&&0<=moment(window.localStorage.videosBannerNextShow).diff(moment())&&this.bannerVisible(!1)},search.prototype.closeBanner=function(){this.bannerVisible(!1),window.Storage},search.prototype.focusQueryTopic=function(){return(window.search=this,this.subjectActive(!0),this.subjectID(o.subject2topicID[urlQuery.topic.replace(/_|(%20)/g," ")]),urlQuery.topic!=this.currentTopic||urlQuery.show!=this.currentView)&&(this.currentTopic=urlQuery.topic,this.currentView=urlQuery.show,fs.empty($(".dashboard-clusters",this.dom)),!0)},search.prototype.startTutorial=function(){},search.prototype.showDefault=function(){this.redirect||(fs.empty($(".resource-clusters",this.dom)),fs.post("populateResourceClusters",{},function(e){urlQuery.tour&&setTimeout(function(){self.initTour()},500),e.primeOnly.length=3*Math.floor(e.primeOnly.length/3),fs.mixAppend($(".resource-clusters",self.dom),"ui/ResourceClusterRow",{title:"Prime-only Embryology Series",caption:"Osmosis Prime members access to our Embryology series and many more prime-exclusives",clusters:e.embryo,primeOnly:!0,enhanced:!0,carousel:!0}),fs.mixAppend($(".resource-clusters",self.dom),"ui/ResourceClusterRow",{title:"Prime-only 8-part ECG Series",caption:"Osmosis Prime members access to our 8-part ECG series and many more prime-exclusives",clusters:e.ecg,primeOnly:!0,enhanced:!0,carousel:!0}),fs.mixAppend($(".resource-clusters",self.dom),"ui/ResourceClusterRow",{title:"Exclusive and Early Access to Osmosis Videos",caption:"Osmosis Prime members get early access to videos in addition to relevant questions, flashcards, notes, memory anchors, and much more!",clusters:e.primeOnly,primeOnly:!0,enhanced:!0,carousel:!0}),fs.mixAppend($(".resource-clusters",self.dom),"ui/ResourceClusterRow",{title:"Science of Learning",caption:"Osmosis helps you become a <b>more efficient</b> learner. Here's how:",clusters:e.learning})}))},search.prototype.show=function(){var e=this;if(urlQuery.topic){if(!e.focusQueryTopic())return;e.breadcrumb(urlQuery.topic,d.Tablet.matches),e.searchDashboard.init(this.subjectID())}else e.showDefault()},a.exports=search}),define("tabs.qbank.aanp-ancc",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank",link:"/qbank/np"},{name:"AANP and ANCC Exams"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"flatQBank",itemType:"step2",topics:["Neurology","Obstetrics/gynecology","Anesthesiology","Psychiatry","Surgery","Emergency medicine","Radiology","Pediatrics","Dermatology","Internal medicine","Otolaryngology","Pathology","Cardiology","Nephrology","Infectious disease","Endocrinology","Ophthalmology","Pulmonology","Family medicine"],hasSubtopics:!1})}}),define("tabs.qbank.comlex",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank",link:"/qbank"},{name:"COMLEX"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"multiTopic",itemType:"comlex",topics:["Osteopathic Principles|Foundations|Foundations|General principles","Osteopathic Principles|Body regions|Body regions","Osteopathic Principles|Foundations|Foundations|Treatment modality"],hasSubtopics:!0})}}),define("tabs.qbank.index",function(e,t,a){function qbank(e){this;e(this)}qbank.prototype.defaultTab="med",a.exports=qbank}),define("tabs.qbank.med",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank"}])});var t=[{title:"Step 1 and Classes",descr:"Challenge yourself with board-style questions early",url:"/qbank/step1",theme:"purple"},{title:"Step 2 and Wards",descr:"Prep for shelf exams and Step 2",url:"/qbank/step2",theme:"blue"}];"DO"==window.course.name&&t.push({title:"COMLEX",descr:"Prep for the COMLEX",url:"/qbank/comlex",theme:"teal"}),fs.mix(this,"ui/OptionsMenu",{title:"What are you studying for?",options:t})}}),define("tabs.qbank.nclex",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Nursing",link:"/qbank/nursing"},{name:"QBank"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"flatQBank",itemType:"nclex",topics:["Assessment","Pediatrics","Medical/surgical","Mental Health","Pharmacology","Anatomy","Pathophysiology","Obstetrics","Microbiology","Human Development","Ethics","NCLEX Competency: Management of Care","NCLEX Competency: Safety and Infection Control","NCLEX Competency: Health Promotion and Maintenance","NCLEX Competency: Psychosocial Integrity","NCLEX Competency: Basic Care and Comfort","NCLEX Competency: Pharmacological and Parenteral Therapies","NCLEX Competency: Reduction of Risk Potential","NCLEX Competency: Physiological Adaptation"],hasSubtopics:!1})}}),define("tabs.qbank.np",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank"}])});fs.mix(this,"ui/OptionsMenu",{title:"What are you studying?",options:[{title:"Foundational concepts",descr:"Study key foundational concepts to prepare for NCLEX-NP&reg;",url:"/qbank/np-foundational",theme:"olive",icon:"fas fa-stethoscope"},{title:"Clinical knowledge",descr:"Challenge yourself with real world clinial knowledge for NCLEX-NP&reg;",url:"/qbank/np-clinical",theme:"orange",icon:"fas fa-stethoscope"}]})}}),define("tabs.qbank.nursing",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank"}])});fs.mix(this,"ui/OptionsMenu",{title:"What are you studying for?",options:[{title:"NCLEX",descr:"Prep for the NCLEX",url:"/qbank/nclex",theme:"purple"}]})}}),define("tabs.qbank.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.qbank.step1",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank",link:"/qbank"},{name:"Step 1"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"multiTopic",itemType:"step1",topics:["Anatomy","Biochemistry","Metabolism","Genetics","Immunology","Microbiology","Dermatology","Hematology and Oncology","Neurology","Psychiatry","Respiratory","Renal","Cardiovascular","Gastrointestinal","Endocrine","Reproductive","Musculoskeletal","Cell Physiology","Biostatistics and Epidemiology","Embryology"],hasSubtopics:!0})}}),define("tabs.qbank.step2",function(e,t,a){a.exports=function qbank(e){e(this),fs.mix(this,"ui/SelectorHeader",{title:"Question Quiz Builder",iconAlt:"fas fa-stethoscope",breadcrumb:ko.observableArray([{name:"Home",link:"/home"},{name:"Qbank",link:"/qbank"},{name:"Step 2"}])}),this.topicQuizSelector=fs.mix(this,"ui/QuizTopicSelector",{protocol:"flatQBank",itemType:"step2",topics:["Neurology","Obstetrics/gynecology","Anesthesiology","Psychiatry","Surgery","Emergency medicine","Radiology","Pediatrics","Dermatology","Internal medicine","Otolaryngology","Pathology","Cardiology","Nephrology","Infectious disease","Endocrinology","Ophthalmology","Pulmonology","Family medicine","Gastroenterology"],hasSubtopics:!1})}}),define("tabs.quiz.builder",function(e,t,a){function builder(e,t){this;this.statusBar=t.statusBar,this.isLoading=ko.observable(),e(this),this.quizSel=fs.mix(this,"ui/QuizSelOverlay");var a=window.nav.getTab(window.prefixTabURL("/quiz"));this.reviewApp=a.vm.reviewApp}builder.prototype.show=function(){},a.exports=builder}),define("tabs.quiz.index",function(e,t,a){function quiz(e){this;e(this)}quiz.prototype.defaultTab="builder",a.exports=quiz}),define("tabs.quiz.module",function(e,t,a){function mod(e,t){s.call(this,e,t)}var s=t("tabs/prototype/module");fs.extend(mod,s),mod.prototype.template="/prototype/module",a.exports=mod}),define("tabs.quiz.queues",function(e,t,a){function builder(e,t){this;this.statusBar=t.statusBar,this.isLoading=ko.observable(),e(this),this.quizSel=fs.mix(this,"ui/QuizQueueBrowser");var a=window.nav.getTab(window.prefixTabURL("/quiz"));this.reviewApp=a.vm.reviewApp}builder.prototype.show=function(){},a.exports=builder}),define("tabs.quiz.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.step1.index",function(e,t,a){function step1(e){this;e(this)}step1.prototype.defaultTab="schedule",a.exports=step1}),define("tabs.step1.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.step1.schedule",function(e,t,a){function schedule(e){var t=this,a=window.userSchedule.step1v2;a&&(n.scheduleID=a.scheduleID),this.schedule=a,this.hasSchedule=ko.observable(!!a),this.loading=ko.observable(!0),this.mode=ko.observable("view"),this.subjects=ko.observableArray(),this.show=ko.observable("everything"),this.plan=ko.observable(0),this.instructions=ko.observable(),this.showFilters=ko.observable(!1),this.faVersion=ko.observable(),this.practiceExam=ko.observable(),this.practiceExamScore=ko.observable(),this.studyStart=ko.observable(),this.dedicated=ko.observable(),this.examDate=ko.observable(),this.filters={uworld:ko.observable(),fa19:ko.observable(),fa18:ko.observable(),fa17:ko.observable(),fa16:ko.observable(),fa15:ko.observable(),pathoma:ko.observable(),osmosis:ko.observable(),questions:ko.observable(),flashcards:ko.observable(),picmonic:ko.observable(),sketchy:ko.observable()},this.locked=ko.observable(!1),e(this),window.userSchedule.step1v2&&fs.post("getStep1ClassicSchedule",{scheduleID:n.scheduleID},function(e){if(e.noSchedule)return t.hasSchedule(!1),t.createStudyPlan();console.log(e),n.pref=e.preferences,n.timeline=e.timeline,n.meta=e.meta,t.studyStart(moment(n.pref.startDate).format("MMM D, YYYY")),t.dedicated(moment(n.pref.dDate).format("MMM D, YYYY")),t.examDate(moment(n.pref.examDate).format("MMM D, YYYY")),t.faVersion(n.pref.faVersion);var a=n.pref.uses;for(var s in a)t.filters[a[s]]&&t.filters[a[s]](!0);for(var s in t.filters)t.filters[s].subscribe(function(){t.saveResourceFilters()});t.render(fs.transpose(e.blockData),fs.transpose(e.repeatData))}),window.user&&1>window.user.prime.status&&(this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:t,source:"schedule",resource:"schedule",fullTab:!0,content:"step1"})),a||this.createStudyPlan()}function computedDate(e,t){return ko.computed(function(){return e().format(t)})}var s=t("shared/topics"),o=t("app/step1classic/scheduleProgress"),d=t("shared/step1classic/toDoToday"),n=t("app/step1classic/step1");schedule.prototype.modifySchedule=function(){dialog("ui/dialogs/Step1TimelineEditor",function(e,t,a,s){if(t){if(0>e.dedicatedFreeDays()||0>e.classFreeDays())return fs.alert("No can do. You don't have any days to spare. Adjust your schedule so you have more available days (can't be negative).",function(){s()});if(e.hasZeroStartDay())return fs.alert("Oops! The first subject in the list cannot have 0 days.",function(){s()});if(e.hasExamDayConflicts())return fs.alert("Oops! One or more exam days falls on a day off. Please modify either your exam dates or your days off.",function(){s()});var o={scheduleID:n.scheduleID,timeline:e.getTimeline()};n.vacationsModified&&(o.vacations=n.getVacations(),o.updateVacations=!0),fs.post("refactorStep1ClassicTimeline",o,function(){location.reload()})}})},schedule.prototype.render=function(e,t){this;fs.mix(this,"ui/StudyTimeline",{blocks:e}),this.dailyGoals=fs.mix(this,"ui/ScheduleDailyGoals",{goals:t})},schedule.prototype.loadBlock=function(e,t,a,s){var o=this;this.loading(!0),fs.post("getStep1ClassicScheduleBlock",{scheduleID:n.scheduleID,start:t,stop:a},function(t){fs.empty($(".daily-todos",o.dom));var a=_.groupBy(t.sections,function(e){return e.date}),d=_.groupBy(fs.transpose(t.customData),function(e){return"exam"==e.todo.type?"exams":"tasks"}),n=_.groupBy(d.tasks,function(e){return e.scheduledFor}),l=_.indexBy(d.exams,function(e){return e.scheduledFor});if("Crunch Time"!=e)for(var c in a)fs.mixAppend($(".daily-todos",o.dom),"models/scheduleClassic/ScheduleDay",{date:c,sections:a[c],completedTodo:t.completed,completedNodes:t.completedNodes,custom:n[c],exam:l[c],filters:o.filters,show:o.show});else fs.mixAppend($(".daily-todos",o.dom),"models/scheduleClassic/CrunchTime");o.loading(!1),o.showFilters(!0),s&&s()})},schedule.prototype.saveResourceFilters=function(){var e=this,t=[];for(var a in this.filters)this.filters[a]()&&t.push(a);fs.post("updateStep1ClassicSchedule",{scheduleID:n.scheduleID,field:"preferences",data:{uses:t}},function(){})},schedule.prototype.changePlan=function(){var e=this;e.render()},schedule.prototype.createStudyPlan=function(e){var t=this;fs.empty($(".build-schedule",this.dom));var a=fs.mixAppend($(".build-schedule",this.dom),"ui/CreateStep1ClassicStudyPlan",{onCreate:function onCreate(){return a.exam()&&"Invalid date"!=moment(a.exam()).format()&&"Invalid date"!=moment(a.begin()).format()?void(t.hasSchedule()?fs.confirm("Are you sure you want to discard your existing plan and create a new one? (Completed todos will be saved but subject ordering and practice exam dates will be reset)","Confirm Replace","warning",function(){e&&e(),t.createPlan(a.begin(),a.length(),a.exam())}):(e&&e(),t.createPlan(a.begin(),a.length(),a.exam()))):(fs.alert("Please enter a Step 1 date."),abort())},onCancel:function onCancel(){t.mode("view")},isDemo:!this.hasSchedule()});this.mode("build")},schedule.prototype.createStudyPlanClick=function(){this.createStudyPlan()},schedule.prototype.mobileSync=function(){fs.post("activateSchedule",{type:8},function(){location.reload()})},schedule.prototype.submitPracticeExamScore=function(){if(!this.practiceExamScore())return fs.alert("Please enter a score for this practice exam.");var e=this.getExamForm();e.score(this.practiceExamScore()),this.save(),this.practiceExam(null)},schedule.prototype.addDayOff=function(){var e=this;fs.alert("Drag and drop the \"Free Time!\" block to anywhere in your schedule.","Day Off","info",function(){var t=ko.observable(moment());e.subjects.push({topic:"Free Time!",moment:t,day:computedDate(t,"ddd"),date:computedDate(t,"MMM D"),units:[],length:ko.observable(1),exams:[],icon:""}),$(".subjects",e.dom).sortable()})},schedule.prototype.showSubject=function(e){var t=this;e=e||this.currentSubject,this.currentSubject=e;var a=d.get(window.userID,_.groupBy(t.scheduleBlocks,function(e){return e.topic}),t.schedule,t.scheduleProgress);a&&"todo"==a.type&&(o.today=_.indexBy(a.todos.today,_.identity));var s=moment().format("MMM D"),n=e.moment().format("MMM D"),l=+e.length()+e.exams.length-1,c=moment(e.moment()).add(l,"days").format("MMM D");if(n==c){if(n==s)var p="Complete these To Do items today";else var p="Complete these To Do items on "+n;}else if(0>l)var p="Complete these To Do items on "+n+" and then continue to the next subject during the same day.";else var p="Complete these To Do items between "+n+" and "+c;for(var u in t.instructions(p),fs.empty($(".subject-todos",t.dom)),e.units)fs.mixAppend($(".subject-todos",t.dom),"models/scheduleClassic/ScheduleUnit",{unit:e.units[u],filters:t.filters,show:t.show});t.showFilters(!0)},schedule.prototype.addCustomResource=function(){var e=this;dialog("ui/dialogs/AddCustomResource",function(t,a,s){a&&(t.data.stopDate=t.finishBy(),fs.post("addCustomResource",{scheduleID:n.scheduleID,data:t.data},function(t){e.dailyGoals.add(t.taskID,t.data),location.reload()}),s())},{date:this.date})},schedule.prototype.changeDedicatedDate=function(){var e=this;fs.prompt("You can change your schedule dates, but you will have to manually edit your Study Timeline after doing this. If you have any questions, please chat with us first. Type \"yes\" if you have read this message:",function(t,a){a(),"yes"==t&&dialog("ui/dialogs/Step1DatePrompt",function(t,a,s){a&&fs.post("changeScheduleDate",{scheduleID:n.scheduleID,type:"dedicated",date:t.value()},function(){n.pref.dDate=t.value(),e.dedicated(moment(n.pref.dDate).format("MMM D, YYYY")),s()})},{title:"Change dedicated start date",type:"type-info",value:moment(n.pref.dDate).format("YYYY-MM-DD"),message:"Enter a new dedicated studying start date below:"})})},schedule.prototype.changeExamDate=function(){var e=this;fs.prompt("You can change your schedule dates, but you will have to manually edit your Study Timeline after doing this. If you have any questions, please chat with us first. Type \"yes\" if you have read this message:",function(t,a){a(),"yes"==t&&dialog("ui/dialogs/Step1DatePrompt",function(t,a,s){a&&fs.post("changeScheduleDate",{scheduleID:n.scheduleID,type:"exam",date:t.value()},function(){n.pref.examDate=t.value(),e.examDate(moment(n.pref.examDate).format("MMM D, YYYY")),fs.alert("Your schedule date has been updated. Now go to <b>Study Timeline</b> and select \"edit\" and check your pre-dedicated (if applicable) and dedicated timelines. You might need to add or remove days from subjects depending on how many unscheduled days are now in your schedule.","Date Updated","info"),s()})},{title:"Change exam date",type:"type-info",value:moment(n.pref.examDate).format("YYYY-MM-DD"),message:"Enter a new exam date below:"})})},a.exports=schedule}),define("tabs.study.calendar",function(e,t,a){var s=Math.ceil,o=Math.floor;function Calendar(e,t){var a=this;this.schedules=n,this.filterSortTodos=l,this.locked=ko.observable(!1),this.pageIsReady=ko.observable(!1),this.loading=ko.observable(!1),this.isPending=ko.observable(!1),this.popupOpen=ko.observable(!1),!window.userSchedule.step1v2||null!==window.localStorage.getItem("showOldStudyBanner")||window.localStorage.setItem("showOldStudyBanner",!0),this.showOldStudyBanner=ko.observable("true"===window.localStorage.getItem("showOldStudyBanner")),this.helperBannerVisible=ko.observable(!0),this.views={day:null,week:null,month:null},this.view=ko.observable(t.view||this.getParamView()||"day"),this.view.subscribe(function(e){a.renderView(e,!0),a.setParamView(e),a.setActiveView(e),a.setKeybindings(e),a.trackViewChange(e)}),this.setParamView(),addEventListener("popstate",function(){var e=a.getParamView();e&&a.view(e)}),this.mode=ko.observable("view"),this.date=ko.observable(void 0),this.date.subscribe(function(e){a.updateViewDates(e)}),this.schedulesStart=ko.observable(null),this.schedulesEnd=ko.observable(null),this.scheduleDates=ko.observableArray([]),this.progressDates=ko.observableArray([]),this.progressDatesCurrent=ko.observable("100%"),this.progressDatesEnd=ko.observableArray([]),this.currentScheduleProgress=ko.observable(0),this.totalScheduleProgress=ko.observable(0),this.overdueItems=ko.observable(0),this.totalOverdue=ko.observable(0),this.daysBehind=ko.computed(function(){return s(a.overdueItems()/20)}),this.needsRebalance=ko.computed(function(){return 2<a.daysBehind()}),this.examDates=ko.observableArray([]),this.availableSchedules=ko.observableArray(),n.currentScheduleID(-1),n.currentScheduleID.subscribe(function(e){if(a.schedulesStart(""),a.schedulesEnd(""),-1===e){var t=!0,s=!1,o=void 0;try{for(var d=a.availableSchedules()[Symbol.iterator](),n,l;!(t=(n=d.next()).done);t=!0)l=n.value,a.checkAndSetDates(l)}catch(e){s=!0,o=e}finally{try{t||null==d.return||d.return()}finally{if(s)throw o}}}else{var c=a.availableSchedules().find(function(t){return t.scheduleID===e});a.checkAndSetDates(c)}a.createProgressBar()}),e(this),this.schedules.currentScheduleID.subscribe(function(){a.openFilterMenu()}),!window.user||window.user&&1>window.user.prime.status?this.enableLockout():this.loadSchedules()}var d=t("app/schedules"),n=d.schedules,l=d.filterSortTodos;Calendar.prototype.trackViewChange=function(e){keen.track("schedule_engagement",{schedule_id:n.currentScheduleID()||-1,type:"filter",action:"".concat(e,"_view")})},Calendar.prototype.openFilterMenu=function(){var e=l.openFilterMenu($(".calendar-control.schedule-control",this.dom),!1,this.popupOpen());this.popupOpen(e)},Calendar.prototype.viewClicked=function(e){var t=this;return function(){t.setView(e)}},Calendar.prototype.setView=function(e){this.view(e)},Calendar.prototype.setActiveView=function(e){for(var t in this.views)if(this.views[t]){var a=e===t;this.views[t][a?"activate":"deactivate"](),a||fs.empty($(".".concat(t,"-view-entry"),this.dom))}},Calendar.prototype.updateViewDates=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.date();for(var t in this.views)this.view()!==t&&this.views[t]&&this.views[t].goToDate(e)},Calendar.prototype.goToToday=function(){this.views[this.view()].goToDate(moment())},Calendar.prototype.getParamView=function(){var e=window.urlQuery.view;return e?(e=e.toLowerCase(),~["day","week","month"].indexOf(e)?e:void 0):void 0},Calendar.prototype.setParamView=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.view(),t=this.getParamView();t?t!==e&&window.history.pushState({},"","".concat(window.location.href.split(/[?#]/)[0],"?view=").concat(e)):window.history.replaceState({},"","".concat(window.location.href.split(/[?#]/)[0],"?view=").concat(e))},Calendar.prototype.getFullParmLink=function(){var e=this.getParamView(),t=window.location.href.split(/[?#]/)[0];return e?"".concat(t,"?view=").concat(e):t},Calendar.prototype.enableLockout=function(){this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:this,source:"schedule",resource:"schedule",fullTab:!0,content:"step1"})},Calendar.prototype.loadSchedules=function(){var e=this;fs.post("getStudySchedule",{},function(t){if(t.noSchedule)return void e.createSchedule();e.pageIsReady(!0),e.loading(!0),e.schedulesStart(null),e.schedulesEnd(null),e.examDates([]),e.availableSchedules(t.schedules);var a=!0,s=!1,o=void 0;try{for(var d=t.schedules[Symbol.iterator](),n,l;!(a=(n=d.next()).done);a=!0)l=n.value,e.parseScheduleData(l)}catch(e){s=!0,o=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw o}}var c=window.localStorage&&window.localStorage.lastRebalanceCheck?window.localStorage.lastRebalanceCheck:null,p=!c||59<moment().diff(c,"minutes");p&&e.getScheduleProgress(),e.render(),e.setKeybindings(e.view()),urlQuery.settings&&e.openScheduleSettings()()})},Calendar.prototype.checkAndSetDates=function(e){(!this.schedulesStart()||moment(this.schedulesStart()).isAfter(moment(e.startDate)))&&this.schedulesStart(e.startDate),(!this.schedulesEnd()||moment(this.schedulesEnd()).isBefore(moment(e.endDate)))&&this.schedulesEnd(e.endDate)},Calendar.prototype.parseScheduleData=function(e){this.checkAndSetDates(e),e.timeline&&e.timeline.exams&&e.timeline.exams.length&&(e.timeline.exams=e.timeline.exams.map(function(t){return _objectSpread({},t,{progress:ko.observable("0%")})})),this.scheduleDates.push({id:e.scheduleID,name:e.preferences.name,end:e.endDate,start:e.startDate,exams:e.timeline&&e.timeline.exams}),n.addSchedule(e)},Calendar.prototype.createProgressBar=function(){this.progressDates([]),this.progressDatesCurrent(null),this.progressDatesEnd([]),this.examDates([]);var e=moment(),t=s(moment(this.schedulesEnd()).diff(e,"months",!0))+1;6<t&&(t=6),2>t&&(t=2);var a=100/t,o=null;e.isBefore(moment(this.schedulesStart()))?(this.progressDatesCurrent("100%"),o=this.schedulesStart()):e.isAfter(moment(this.schedulesEnd()))?o=moment(this.schedulesEnd()).subtract(t,"months"):o=e.format("YYYY-MM-DD");for(var d=this.scheduleDates().filter(function(e){var t=n.currentScheduleID();return!(-1!==t)||t===e.id}),l=0;l<t;l++){var c=moment(o).add(l,"months"),p=5+a*l;if(c.isSame(e,"month")){var I=e.date()/e.daysInMonth();this.progressDatesCurrent("".concat(100-(p+a*I),"%"))}var u=!0,m=!1,v=void 0;try{for(var b=d[Symbol.iterator](),h,g;!(u=(h=b.next()).done);u=!0){if(g=h.value,c.isSame(moment(g.end),"month")){var M=moment(g.end);if(M.isSame(c,"month")){var A=M.date()/M.daysInMonth();this.progressDatesEnd.push({progress:100-(p+a*A),name:g.name})}}g.exams||(g.exams=[]);var f=!0,w=!1,S=void 0;try{for(var q=g.exams[Symbol.iterator](),C,D;!(f=(C=q.next()).done);f=!0)if(D=C.value,!(D.score||"undefined"==typeof D.date)){var T=moment(D.date);if(T.isSame(c,"month")){var P=T.date()/T.daysInMonth();D.progress(100-(p+a*P)),this.examDates.push(D)}}}catch(e){w=!0,S=e}finally{try{f||null==q.return||q.return()}finally{if(w)throw S}}}}catch(e){m=!0,v=e}finally{try{u||null==b.return||b.return()}finally{if(m)throw v}}this.progressDates.push({text:"".concat(c.format("MMM"),"."),left:"".concat(p,"%")})}this.progressDatesCurrent()||this.progressDatesCurrent("0%"),this.getScheduleProgress()},Calendar.prototype.getScheduleProgress=function(){this;console.log("getting schedule progress..."),fs.post("testRoute",{},function(e){return console.table(e)})},Calendar.prototype.getScheduleProgress=function(e){var t=e||this,a=0,d=0,l=0;fs.post("getStudyScheduleProgress",{today:moment().format("YYYY-MM-DD"),scheduleIDs:t.schedules.scheduleIDs},function(e){for(var c in e.schedules){var p=e.schedules[c],u=p.currentTotal-p.currentCompleted;if(u){var v=s(u/20);analytics.track("Schedule Overdue",{overdueCount:u,daysBehind:v})}for(var m in t.availableSchedules())t.availableSchedules()[m].scheduleID==c&&(t.availableSchedules()[m].overdueItems=u,t.availableSchedules()[m].progress=o(100*(p.currentCompleted/p.totalItems)));n.schedules[c].overdueItems=u,a+=u,l+=p.currentCompleted,d+=p.totalItems}t.currentScheduleProgress(o(100*(l/d))),t.totalScheduleProgress(o(100*(l/d))),t.overdueItems(a),t.totalOverdue(a),window.localStorage&&window.localStorage.setItem("lastRebalanceCheck",moment())})},Calendar.prototype.createSchedule=function(){fs.empty($(".build-schedule",this.dom)),this.showOldStudyBanner(!1),this.helperBannerVisible(!1),this.schedules.scheduleIDs.length?dialog("ui/CreateStudyPlanDialog",{reloadLocation:this.getFullParmLink()}):(fs.mixAppend($(".build-schedule",this.dom),"ui/CreateStudyPlan",{}),this.mode("build"))},Calendar.prototype.renderView=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"day",a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(t=t.toLowerCase(),this.views[t])if(a)fs.empty(this.views[t].dom);else return;var s=function viewName(e){return e.charAt(0).toUpperCase()+t.slice(1)};this.views[t]=fs.mixAppend($(".".concat(t,"-view-entry"),this.dom),"models/study_calendar/views/".concat(s(t),"View"),{calendar:this,onDateChangeCB:function onDateChangeCB(t){return e.date(t)},date:this.date()})},Calendar.prototype.setKeybindings=function(t){var a=this;window.onkeydown=function(s){var e=s.keyCode?s.keyCode:s.which,o=a.views[t],d="month"===t?o.goToNextMonth:"week"===t?o.goToNextWeek:o.goToNextDay,n="month"===t?o.goToPrevMonth:"week"===t?o.goToPrevWeek:o.goToPrevDay;e===37?n.call(a.views[t]):e===39&&d.call(a.views[t])}},Calendar.prototype.render=function(){this.createProgressBar(),this.renderView(this.view()),this.isPending(!1);var e=!1;if(window.localStorage&&window.localStorage.scheduleOverModalLastSeen&&(e=moment().isBefore(moment(window.localStorage.scheduleOverModalLastSeen).add(7,"days"),"days")),!this.scheduleModal&&!e){var t=!0;for(var a in n.schedules)if(moment().isBefore(moment(n.schedules[a].endDate),"day")){t=!1;break}t&&(this.scheduleModal=fs.mixAppend($("body"),"models/step1_calendar/modal/ScheduleModal",{screen:"Over"}))}this.loading(!1)},Calendar.prototype.dismissOldScheduleBanner=function(){window.localStorage.setItem("showOldStudyBanner",!1),this.showOldStudyBanner(!1)},Calendar.prototype.checkTutorialsStatus=function(){window.onboardingData&&("Schedule: Tour Bubbles"in window.onboardingData.tours&&this.tourBubblesVisible(!1),"Schedule: How To video banner"in window.onboardingData.tours&&this.helperBannerVisible(!1))},Calendar.prototype.openHelperVideo=function(){player.showVideo("BtH5Klv9J6k")},Calendar.prototype.closeHelperBanner=function(){this.helperBannerVisible(!1),fs.post("trackUser",{action:"Completed Tour: Schedule: How To video banner"})},Calendar.prototype.openScheduleSettings=function(e){return function(){var t=-1==n.currentScheduleID()?null:n.currentScheduleID();e&&(urlQuery.settings=e,urlQuery.id=t),this.settingsPanel=fs.mixAppend($("body"),"ui/dialogs/schedule/ScheduleSettings",{calendar:this,activeScheduleID:t})}},Calendar.prototype.goToDate=function(e){var t=this;return function(){t.views[t.view()].goToDate(e)}},Calendar.prototype.fadeOnClick=function(t){$(document).click(function(a){t.is(a.target)||0!==t.has(a.target).length||t.fadeOut()})},a.exports=Calendar}),define("tabs.study.index",function(e,t,a){function study(){}study.prototype.defaultTab="calendar",a.exports=study}),define("tabs.study.quiz",function(e,t,a){var s=t("tabs/prototype/quiz"),o=function(e){"use strict";function quiz(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,quiz),_possibleConstructorReturn(this,_getPrototypeOf(quiz).call(this,e,t))}return _inherits(quiz,e),_createClass(quiz,[{key:"template",get:function get(){return"/prototype/quiz"}}]),quiz}(s);a.exports=o}),define("tabs.study.startover",function(e,t,a){var s=function(){"use strict";function startover(){_classCallCheck(this,startover)}return _createClass(startover,[{key:"startOver",value:function startOver(){fs.post("archiveAllSchedules",{},function(){location.replace("/study")})}}]),startover}();a.exports=s}),define("tabs.study-old.calendar",function(e,t,a){function calendar(e,t){var a=this;!window.userSchedule.step1v2||null!==window.localStorage.getItem("showOldStudyBanner")||window.localStorage.setItem("showOldStudyBanner",!0),this.settingsPanelVisible=ko.observable(),this.pageIsReady=ko.observable(),this.showOldStudyBanner=ko.observable("true"===window.localStorage.getItem("showOldStudyBanner")),this.isPending=ko.observable();var s=window.urlQuery.view;s&&(s=s.toLowerCase(),s=s.charAt(0).toUpperCase()+s.slice(1)),this.view=s&&("Topic"===s||"Week"===s||"Month"===s||"Mobile"===s)?ko.observable(s):700<$(window).width()?ko.observable(t.view||"Topic"):ko.observable("Mobile"),window.history.replaceState({},"",window.location.href.split(/[?#]/)[0]+"?view="+this.view()),this.topicView,this.topicDays=[],this.startDate,this.endDate,this.topicBlocks=[],this.months=[],this.days=[],this.startMonth,this.endMonth,this.totalMonths;this.selectedDate=ko.observable(moment()),this.selectedDateString=ko.computed(function(){return moment(a.selectedDate()).format("dddd, MMMM Do")}),this.nextDate=ko.computed(function(){switch(a.view()){case"Mobile":case"Topic":return moment(a.selectedDate()).add(1,"days").format("dddd, MMMM Do");break;case"Week":return moment(a.selectedDate()).add(1,"weeks").format("dddd, MMMM Do");break;case"Month":return moment(a.selectedDate()).add(1,"months").format("dddd, MMMM Do");break;default:}}),this.prevDate=ko.computed(function(){switch(a.view()){case"Mobile":case"Topic":return moment(a.selectedDate()).subtract(1,"days").format("dddd, MMMM Do");break;case"Week":return moment(a.selectedDate()).subtract(1,"weeks").format("dddd, MMMM Do");break;case"Month":return moment(a.selectedDate()).subtract(1,"months").format("dddd, MMMM Do");break;default:}return""}),this.dateSelectedCallbackFunctions={Topic:[],Week:[],Month:[]},this.deferredCallbacks={Topic:[],Week:[],Month:[]},this.hasSchedule=ko.observable(),this.sidebarSchedules=ko.observableArray(),this.activeScheduleID=l.currentScheduleID,this.loading=ko.observable(!1),this.mode=ko.observable("view"),this.subjects=ko.observableArray(),this.show=ko.observable("everything"),this.plan=ko.observable(0),this.instructions=ko.observable(),this.showFilters=ko.observable(!1),this.faVersion=ko.observable("2018"),this.practiceExam=ko.observable(),this.practiceExamScore=ko.observable(),this.studyStart=ko.observable(),this.dedicated=ko.observable(),this.examDate=ko.observable(),this.sidebarStudyStart=ko.observable(),this.sidebarDedicated=ko.observable(),this.sidebarExamDate=ko.observable(),this.filters={uworld:ko.observable(),fa18:ko.observable(!0),fa17:ko.observable(!0),fa16:ko.observable(!0),fa15:ko.observable(!0),pathoma:ko.observable(),osmosisVideos:ko.observable(),osmosisQuestions:ko.observable(),osmosisFlashcards:ko.observable(),picmonic:ko.observable(),sketchyMicro:ko.observable(),sketchyPharm:ko.observable(),sketchyPath:ko.observable(),pages:ko.observable(),book:ko.observable(),exam:ko.observable()},this.sidebarOpen=ko.observable(!0),this.locked=ko.observable(!1),this.todoDayStatus=ko.observableArray([]),this.helperBannerVisible=ko.observable(!0),this.tourBubblesVisible=ko.observable(!0),this.tourActive=ko.observable(),this.checkTutorialsStatus(),e(this),window.user&&1>window.user.prime.status?(this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:a,source:"schedule",resource:"schedule",fullTab:!0,content:"step1"})):(fs.post("getStudySchedule",{},function(e){if(e.noSchedule)return a.hasSchedule(!1),a.createStudyPlan();for(var t in console.log(e),a.pageIsReady(!0),a.loading(!0),e.schedules)l.addSchedule(e.schedules[t]),a.sidebarSchedules.push({name:e.schedules[t].preferences.name||"Schedule Block",dateRange:moment(e.schedules[t].startDate).format("MMM D")+" - "+moment(e.schedules[t].endDate).format("MMM D"),current:e.schedules[t].current.join(" | "),scheduleID:e.schedules[t].scheduleID}),0==t&&(l.currentScheduleID(e.schedules[t].scheduleID),e.schedules[t].timeline.pending&&a.setPendingView());a.render()}),$(".view-container.week",this.dom).scroll(this.onScrollStickyTitle("week")).scroll(this.onScrollMonthLoading("week")),$(".view-container.month",this.dom).scroll(this.onScrollStickyTitle("month")).scroll(this.onScrollMonthLoading("month")),700>=$(window).width()&&this.onMobileSizedDevice()(),$(window).resize(this.onMobileSizedDevice().bind(this)))}function computedDate(e,t){return ko.computed(function(){return e().format(t)})}var s=t("shared/topics"),o=t("app/scheduleProgress"),d=t("app/tour"),n=t("app/schedules"),l=n.schedules,c=t("ui/mediaViewer");calendar.prototype.checkTutorialsStatus=function(){window.onboardingData&&("Schedule: Tour Bubbles"in window.onboardingData.tours&&this.tourBubblesVisible(!1),"Schedule: How To video banner"in window.onboardingData.tours&&this.helperBannerVisible(!1))},calendar.prototype.loadTour=function(){var e=this;setTimeout(function(){function hidePopup(){fs.post("trackUser",{action:"Completed Tour: Schedule: Tour Bubbles"})}function canShowPopup(){return!(701>$(window).width())&&(!!e.tourBubblesVisible()||void 0)}if(!e.tourActive()){var t=".models-step1_calendar-TopicDay[data-date=\""+e.topicView.firstDay()+"\"]";if(canShowPopup("Settings"))fs.mixAppend($("body"),"ui/Popup",{title:"Customize your schedule",text:"",element:".calendar-sidebar .sidebar-schedule-edit",position:"right",canExitDirectly:!0,customCss:"new-schedule",visibleConditions:ko.computed(function(){if("Topic"===e.view()&&!e.isPending()&&!e.settingsPanelVisible())return!0}),onBeforeClose:function onBeforeClose(){hidePopup("Settings")}});if(0<$(t+" .todo-checkbox:visible:first").length&&canShowPopup("Checkbox"))fs.mixAppend($("body"),"ui/Popup",{title:"Track your progress",text:"",element:t+" .todo-checkbox:visible:first",position:"top",canExitDirectly:!0,customCss:"new-schedule",visibleConditions:ko.computed(function(){if("Topic"===e.view()&&!e.isPending()&&!e.settingsPanelVisible())return!0}),onBeforeClose:function onBeforeClose(){hidePopup("Checkbox")}});if(0<$(t+" .todo-action-button:visible:first").length&&canShowPopup("TodoAction"))fs.mixAppend($("body"),"ui/Popup",{title:"Start studying",text:"",element:t+" .todo-action-button:visible:first",position:"top",canExitDirectly:!0,customCss:"new-schedule",visibleConditions:ko.computed(function(){if("Topic"===e.view()&&!e.isPending()&&!e.settingsPanelVisible())return!0}),onBeforeClose:function onBeforeClose(){hidePopup("TodoAction")}});e.tourActive(!0)}},2e3)},calendar.prototype.addTodoDayStatus=function(e,t,a){ko.utils.arrayFirst(this.todoDayStatus(),function(a){return a.date===e&&a.type===t})||this.todoDayStatus.push({date:e,type:t,status:a})},calendar.prototype.updateTodoDayStatus=function(e,t,a){("fa19"===t||"fa18"===t||"fa17"===t||"fa16"===t)&&(t="fa");var s=ko.utils.arrayFirst(this.todoDayStatus(),function(a){return a.type===t&&a.date===e});s&&s.status(a)},calendar.prototype.goToAddTools=function(){$("#main-control-bar .more-dropdown").removeClass("hidden"),$(".tools-sidebar-icon").click()},calendar.prototype.dismissOldScheduleBanner=function(){window.localStorage.setItem("showOldStudyBanner",!1),this.showOldStudyBanner(!1)},calendar.prototype.setDates=function(){this.months=[],this.days=[],this.startMonth=this.endDate.getMonth()+12*this.endDate.getFullYear(),this.endMonth=this.startDate.getMonth()+12*this.startDate.getFullYear(),this.totalMonths=1+this.startMonth-this.endMonth},calendar.prototype.handleSidebarScheduleClick=function(e){var t=this;return function(){t.changeSchedule(e.scheduleID)}},calendar.prototype.changeSchedule=function(e){this.loading(!0),l.currentScheduleID(e);var t=l.getCurrentSchedule();this.todoDayStatus([]),this.repeats=fs.transpose(t.repeatData),this.render()},calendar.prototype.sidebarPullTabClicked=function(){$(".calendar-sidebar",this.dom).toggleClass("open")},calendar.prototype.onMobileSizedDevice=function(){var e=$(window).width();return function(){var t=$(window).width();700<e&&700>=t?(this.changeView("Mobile"),this.sidebarOpen(!1)):700>=e&&700<t&&(this.changeView("Topic"),this.sidebarOpen(!0)),e=t}},calendar.prototype.addTodo=function(e,t,a){console.log(arguments),a=moment(a);l.getCurrentSchedule()},calendar.prototype.displayTopicDayPopup=function(e){this.topicPopup=fs.mixAppend($("body"),"models/step1_calendar/TopicPopup",{day:e,calendar:this})},calendar.prototype.filterClickedHandler=function(e){var t=this;return function filterClicked(){"fa"===e&&(e="fa"+t.faVersion().substring(2)),t.filters[e](!t.filters[e]())}},calendar.prototype.getCallback=function(e,t){var a=this;return function(){for(var s in a.dateSelectedCallbackFunctions[t])a.dateSelectedCallbackFunctions[t][s](e)}},calendar.prototype.dateSelectedCallback=function(e){var t=this;for(var a in this.dateSelectedCallbackFunctions){var s=_.once(t.getCallback(e,a));a==this.view()?s():(setTimeout(s,2e3),this.deferredCallbacks[a].push(s))}},calendar.prototype.renderSidebarSection=function(e,t,a){a=a||{},a.calendar=this,fs.empty($(".sidebar-"+e+"-container",this.dom)),fs.mixAppend($(".sidebar-"+e+"-container",this.dom),t,a)},calendar.prototype.onScrollMonthLoading=function(t){var a=this;switch(t){case"month":case"week":$(".view-container."+t,this.dom);break;default:return function(){};}return function(s){var e=$(s.currentTarget);e[0].scrollHeight-e.scrollTop()-e.outerHeight()===0&&("month"===t?a.monthView.loadNextMonth():"week"==t&&a.weekView.loadNextMonth())}},calendar.prototype.onScrollStickyTitle=function(e){var t=this,a;switch(e){case"month":case"week":a=$(".view-container."+e,this.dom);break;default:return function(){};}var s=null;return function(){if("Week"===t.view()&&!t.weekView.isAnimating||"Month"===t.view()&&!t.monthView.isAnimating)for(var e=$(".week",a),o=0,d;o<e.length;o++)if(d=e[o],150>=$(d).offset().top&&150<$(d).height()+$(d).offset().top){s!==d.dataset.date&&(s=d.dataset.date,t.sidebarCalendar.updateSelectedDate(moment(d.dataset.date),!1));break}var n=$(".month-title-wrapper",a);n.each(function(e,t){jEle=$(t);var s=jEle.position().top+a.position().top;if(10>=s?$(".month-title",jEle).addClass("sticky"):$(".month-title",jEle).removeClass("sticky"),150>=s)for(var o=e-1;0<=o;o--)$(".month-title",n.eq(o)).removeClass("sticky")})}},calendar.prototype.goToToday=function(){"Mobile"===this.view()?this.mobileView.updateSelectedDate(moment()):this.sidebarCalendar.updateSelectedDate(moment())},calendar.prototype.goToPrevDate=function(){this.sidebarCalendar.moveSeletedDate(-1,"Topic"===this.view()?"days":"Week"===this.view()?"weeks":"months")},calendar.prototype.goToNextDate=function(){this.sidebarCalendar.moveSeletedDate(1,"Topic"===this.view()?"days":"Week"===this.view()?"weeks":"months")},calendar.prototype.changeView=function(e){for(var t in this.view(e),this.deferredCallbacks[e])this.deferredCallbacks[e][t]();this.deferredCallbacks[e]=[],window.history.replaceState({},"",window.location.href.split(/[?#]/)[0]+"?view="+this.view())},calendar.prototype.changeViewClick=function(e){var t=this;return function(){t.changeView(e)}},calendar.prototype.modifySchedule=function(){l.getCurrentSchedule();this.settingsPanelVisible(!0),this.settingsPanel=fs.mixAppend($("body"),"ui/dialogs/schedule-old/ScheduleSettings",{calendar:this,activeScheduleID:l.currentScheduleID(),newScheduleCallback:this.newScheduleCallback.bind(this)})},calendar.prototype.newScheduleCallback=function(e,t,a){this.sidebarSchedules.push({name:e||"Schedule Block",dateRange:t||"? - ?",current:"",scheduleID:a}),this.changeSchedule(a)},calendar.prototype.render=function(){var e=this;this.sidebarCalendar&&fs.empty(this.sidebarCalendar.dom),this.topicView&&fs.empty(this.topicView.dom),this.weekView&&fs.empty(this.weekView.dom),this.monthView&&fs.empty(this.monthView.dom),this.mobileView&&fs.empty(this.mobileView.dom),this.emptySchedule&&fs.empty(this.emptySchedule.dom);var t=l.getCurrentSchedule();t.timeline.pending?this.setPendingView():(this.sidebarCalendar=fs.mix(this,"models/step1_calendar/SidebarCalendar",{dateSelectedCallback:this.dateSelectedCallback.bind(this)}),this.topicView=fs.mix(this,"models/step1_calendar/TopicView",{calendar:this}),this.weekView=fs.mix(this,"models/step1_calendar/WeekView",{calendar:this}),this.monthView=fs.mix(this,"models/step1_calendar/MonthView",{calendar:this}),this.mobileView=fs.mix(this,"models/step1_calendar/MobileView",{calendar:this}),this.pullDateSelectedCallbacks(),this.isPending(!1),this.loadTour()),this.viewSubscription&&this.viewSubscription.dispose(),this.viewSubscription=this.view.subscribe(function(){var t=[e.view()];return function(a){~t.indexOf(a)||(t.push(a),e.getCallback(e.sidebarCalendar.selectedDate(),a)())}}()),this.selectedDateSubscription&&this.selectedDateSubscription.dispose(),this.sidebarCalendar&&(this.selectedDateSubscription=this.sidebarCalendar.selectedDate.subscribe(function(t){e.selectedDate(t)}));var a=!1;if(window.localStorage&&window.localStorage.scheduleOverModalLastSeen&&(a=moment().isBefore(moment(window.localStorage.scheduleOverModalLastSeen).add(7,"days"),"days")),!this.scheduleModal&&!a){var s=!0;for(var o in l.schedules)if(moment().isBefore(moment(l.schedules[o].endDate),"day")){s=!1;break}s&&(this.scheduleModal=fs.mixAppend($("body"),"models/step1_calendar/modal/ScheduleModal",{screen:"Over"}))}this.loading(!1)},calendar.prototype.setPendingView=function(){this.isPending(!0),this.emptySchedule=fs.mix(this,"ui/scheduleSettings/EmptySchedule")},calendar.prototype.pullDateSelectedCallbacks=function(){var e=this;e.dateSelectedCallbackFunctions={Topic:[],Week:[],Month:[]},e.deferredCallbacks={Topic:[],Week:[],Month:[]},e.topicView.dateSelectedCallback&&e.dateSelectedCallbackFunctions.Topic.push(e.topicView.dateSelectedCallback),e.topicView.dateSelectedCallbackHandler&&e.dateSelectedCallbackFunctions.Topic.push(e.topicView.dateSelectedCallbackHandler()),e.weekView.dateSelectedCallback&&e.dateSelectedCallbackFunctions.Week.push(e.weekView.dateSelectedCallback),e.weekView.dateSelectedCallbackHandler&&e.dateSelectedCallbackFunctions.Week.push(e.weekView.dateSelectedCallbackHandler()),e.monthView.dateSelectedCallback&&e.dateSelectedCallbackFunctions.Month.push(e.monthView.dateSelectedCallback),e.monthView.dateSelectedCallbackHandler&&e.dateSelectedCallbackFunctions.Month.push(e.monthView.dateSelectedCallbackHandler())},calendar.prototype.goToPrevTopic=function(){this.topicView.goToPrevBlock()},calendar.prototype.goToNextTopic=function(){this.topicView.goToNextBlock()},calendar.prototype.saveResourceFilters=function(){},calendar.prototype.changePlan=function(){var e=this;e.render()},calendar.prototype.createStudyPlan=function(){var e=this;fs.empty($(".build-schedule",this.dom)),e.showOldStudyBanner(!1),e.helperBannerVisible(!1);fs.mixAppend($(".build-schedule",this.dom),"ui/CreateStudyPlan",{});this.mode("build")},calendar.prototype.createStudyPlanClick=function(){this.createStudyPlan()},calendar.prototype.submitPracticeExamScore=function(){if(!this.practiceExamScore())return fs.alert("Please enter a score for this practice exam.");var e=this.getExamForm();e.score(this.practiceExamScore()),this.save(),this.practiceExam(null)},calendar.prototype.addDayOff=function(){var e=this;fs.alert("Drag and drop the \"Free Time!\" block to anywhere in your schedule.","Day Off","info",function(){var t=ko.observable(moment());e.subjects.push({topic:"Free Time!",moment:t,day:computedDate(t,"ddd"),date:computedDate(t,"MMM D"),units:[],length:ko.observable(1),exams:[],icon:""}),$(".subjects",e.dom).sortable()})},calendar.prototype.changeDedicatedDate=function(){var e=this,t=l.getCurrentSchedule();fs.prompt("You can change your schedule dates, but you will have to manually edit your Study Timeline after doing this. If you have any questions, please chat with us first. Type \"yes\" if you have read this message:",function(a,s){s(),"yes"==a&&dialog("ui/dialogs/Step1DatePrompt",function(a,s,o){s&&fs.post("changeScheduleDate",{scheduleID:l.currentScheduleID(),type:"dedicated",date:a.value()},function(){t.pref.dDate=a.value(),e.dedicated(moment(t.pref.dDate).format("MMM D, YYYY")),e.sidebarDedicated(moment(t.pref.dDate).format("MMM D")),o()})},{title:"Change dedicated start date",type:"type-info",value:moment(t.pref.dDate).format("YYYY-MM-DD"),message:"Enter a new dedicated studying start date below:"})})},calendar.prototype.openHelperVideo=function(){c.showVideo("BtH5Klv9J6k")},calendar.prototype.closeHelperBanner=function(){this.helperBannerVisible(!1),fs.post("trackUser",{action:"Completed Tour: Schedule: How To video banner"})},calendar.prototype.changeExamDate=function(){var e=this,t=l.getCurrentSchedule();fs.prompt("You can change your schedule dates, but you will have to manually edit your Study Timeline after doing this. If you have any questions, please chat with us first. Type \"yes\" if you have read this message:",function(a,s){s(),"yes"==a&&dialog("ui/dialogs/Step1DatePrompt",function(a,s,o){s&&fs.post("changeScheduleDate",{scheduleID:l.currentScheduleID(),type:"exam",date:a.value()},function(){t.pref.examDate=a.value(),e.examDate(moment(t.pref.examDate).format("MMM D, YYYY")),e.sidebarExamDate(moment(t.pref.examDate).format("MMM D")),fs.alert("Your schedule date has been updated. Now go to <b>Study Timeline</b> and select \"edit\" and check your pre-dedicated (if applicable) and dedicated timelines. You might need to add or remove days from subjects depending on how many unscheduled days are now in your schedule.","Date Updated","info"),o()})},{title:"Change exam date",type:"type-info",value:moment(t.pref.examDate).format("YYYY-MM-DD"),message:"Enter a new exam date below:"})})},a.exports=calendar}),define("tabs.study-old.index",function(e,t,a){function study(e){this;e(this)}study.prototype.defaultTab="calendar",a.exports=study}),define("tabs.study-old.quiz",function(e,t,a){function quiz(e,t){s.call(this,e,t)}var s=t("tabs/prototype/quiz");fs.extend(quiz,s),quiz.prototype.template="/prototype/quiz",a.exports=quiz}),define("tabs.study-old.startover",function(e,t,a){function startover(){}startover.prototype.startOver=function(){fs.post("archiveAllSchedules",{},function(){location.replace("/study")})},a.exports=startover}),define("templates.dashboardMessage.dashboardMessage",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function COMPONENT_NAME(e,t){var a;_classCallCheck(this,COMPONENT_NAME),a=_possibleConstructorReturn(this,_getPrototypeOf(COMPONENT_NAME).call(this,null,t));_assertThisInitialized(a);return e(_assertThisInitialized(a)),a}return _inherits(COMPONENT_NAME,e),COMPONENT_NAME}(s);a.exports=o}),define("templates.dialog.dialog",function(e,t,a){var s=function(){"use strict";function COMPONENT_NAME(e,t){_classCallCheck(this,COMPONENT_NAME),this.dialogStyle=t.dialogStyle||""}return _createClass(COMPONENT_NAME,[{key:"action",value:function action(e,t){setTimeout(function(){var a=prompt("Enter done or abort:");"done"==a?e():"abort"==a&&t()},1e3)}},{key:"cancel",value:function cancel(e){var t=confirm("Exit without saving changes?");return t&&e(),!1}}]),COMPONENT_NAME}();a.exports=s}),define("templates.generateFrontEnd",function(e,t){function main(){start()}function newBinaryQuestion(e,t,s,o,d,n,l){return a.prompt({name:e,type:"list",message:t,choices:[s,o]}).then(function(t){l[e]=t[e],t[e]===s?d(l):n(l)})}function start(){a.prompt({name:"start",type:"list",message:"What do you want to generate?",choices:[{name:"New component",value:0},{name:"Extend component",value:1}]}).then(function(e){switch(e.start){case 0:l.type="new",componentName(l);break;case 1:extendComponent(l);break;default:componentName(l);}})}function componentName(e){a.prompt({name:"componentName",type:"input",message:"Name for component: "}).then(function(t){e.name=t.componentName,componentDirectory(e)})}function componentDirectory(e){a.prompt({name:"componentDirectory",type:"list",message:"Directory for component: ",choices:["ui","page","tabs","other"]}).then(function(t){"other"===t.componentDirectory?customDirectory(e):d.existsSync("".concat(n,"/client/www/").concat(t.componentDirectory))?(e.directory=t.componentDirectory,createNewComponent(e)):(console.log(s("Sorry, could't find that directory")),newBinaryQuestion("choose-directory-error","Do you want to create a new directory?","Yes","No, try a different directory",createDirectory,componentDirectory,e))})}function customDirectory(e){a.prompt({name:"customDirectory",type:"input",message:"Other directory name: "}).then(function(t){e.directory=t.customDirectory,d.existsSync("".concat(n,"/client/www/").concat(t.customDirectory))?createNewComponent(e):(console.log(s.yellow("Sorry, couldn't find that directory.")),newBinaryQuestion("createDirectoryConfirm","Do you want to create a new directory?","Yes","No, try a different directory",createDirectory,componentDirectory,e))})}function createDirectory(e){d.mkdirSync("".concat(n,"/client/www/").concat(e.directory)),createNewComponent(e)}function createNewComponent(e){var t=e.name,a=e.directory,l="".concat(__dirname,"/").concat(e.type),c=d.readdirSync(l).filter(function(e){return!/(^|\/)\.[^\/\.]/g.test(e)});c.forEach(function(e){var s="".concat(l,"/").concat(e),c=d.statSync(s);if(c.isFile()){var p=d.readFileSync(s,"utf8"),u=o.extname(e),m;if(".jade"==u){var v=a.replace(/\//g,"-");m=p.replace(/COMPONENT_NAME/g,"".concat(v,"-").concat(t))}else m=p.replace(/COMPONENT_NAME/g,t);var b="".concat(n,"/client/www/").concat(a,"/").concat(t+u);d.writeFileSync(b,m,"utf8")}}),console.log(s.green("New UI component created."))}function extendComponent(e){var t=d.readdirSync("".concat(__dirname)).filter(function(e){return!/\./g.test(e)}).filter(function(e){return"new"!==e});a.prompt({name:"extendComponent",type:"list",message:"Which component do you want to extend?",choices:t}).then(function(t){e.type=t.extendComponent;var a=t.extendComponent,s="".concat(__dirname,"/").concat(a),o=d.readdirSync(s).filter(function(e){return!/(^|\/)\.[^\/\.]/g.test(e)});e.projectFilesToCreate=o;for(var n=0;n<o.length;n+=1)o[n]={value:o[n],checked:!0};1<o.length?chooseExtendFiles(e):componentName(e)})}function chooseExtendFiles(e){a.prompt({name:"chosenExtendFiles",type:"checkbox",message:"Which files do you want to create?",choices:e.projectFilesToCreate}).then(function(t){e.chosenExtendFiles=t.chosenExtendFiles,componentName(e)})}var a=t("inquirer"),s=t("chalk"),o=t("path"),d=t("fs"),n=process.cwd(),l={};e.run=function(){main()}}),define("templates.new.MyComponent",function(e,t,a){a.exports=function COMPONENT_NAME(){"use strict";_classCallCheck(this,COMPONENT_NAME)}}),define("templates.videoPrompt.videoPrompt",function(e,t,a){var s=t("ui/video/Prompt"),o=function(e){"use strict";function COMPONENT_NAME(e,t){var a;_classCallCheck(this,COMPONENT_NAME),a=_possibleConstructorReturn(this,_getPrototypeOf(COMPONENT_NAME).call(this,null,t));var s=_assertThisInitialized(a);return a.parent=t.parent,e(_assertThisInitialized(a)),a.dom.click(function(e){0===$(e.target).closest(".prompt-buttons").length&&s.togglePrompt()}),a}return _inherits(COMPONENT_NAME,e),COMPONENT_NAME}(s);a.exports=o}),define("ui.AddTools",function(e,t,a){function AddTools(){}var s=t("app/queues");AddTools.prototype.positionMenu=function(){var e=$(window).height(),t=$(".tools-menu",this.dom).outerHeight(),a=e-($(".tools-menu",this.dom).offset().top+t);(0>a||t+a>e)&&this.lockedHeight(!0)},AddTools.prototype.doToggle=function(e){var t=this;e.active(!e.active()),setTimeout(function(){t.hideToolsMenu(),setTimeout(function(){t.updateTools(e)},300)},100)},AddTools.prototype.toggleTool=function(e){var t=this;return function(){e.active()?fs.confirm("Are you sure you want to disable this tool? You can always re-enable it but while it's disabled you won't see a shortcut to it in the nav bar.","Confirm Remove","danger",function(a){t.doToggle(e),a()}):t.doToggle(e)}},AddTools.prototype.updateTools=function(e){this;if(e.active()){if(3==e.id)$(".repetition-queue").css("display","inline-block").animateCss("bounceIn",function(){if(0==s.count.rep())var e="Click here to answer items each day depending on your past performance and accuracy.";else var e="Once you answer questions on Osmosis, this queue will be populated each day depending on your past performance and accuracy.";popup($(".ui-QueueControlBar .fi-rep-clock"),{text:e,title:"Daily repetition",ctaText:"OK, got it!"})});else{var t=$(".secondary-list ul"),a=$("<li toolid=\""+e.id+"\"><a class=\"new-highlight\" href=\""+e.url+"\"><i class=\""+e.icon+"\"></i><div class=\"custom-tooltip\"><div class=\"title\">"+e.title+"<span class=\"primary-marker\">Primary</span></div><div class=\"subtitle\"></div></div></a></li>").prependTo(t);$("a",a).animateCss("bounceIn")}}else if(3==e.id)$(".repetition-queue").animateCss("zoomOut",function(){$(".repetition-queue").css("display","none")});else{var o=$(".secondary-list li[toolid=\""+e.id+"\"]");o.animateCss("zoomOut",function(){o.remove()})}fs.post("toggleAppTool",{id:e.id,enabled:!!e.active()},function(){})},AddTools.prototype.toggleToolsMenu=function(){this.toolsMenuVisible(!this.toolsMenuVisible()),this.toolsMenuVisible()?this.positionMenu():this.lockedHeight(!1)},AddTools.prototype.showToolsMenu=function(){this.toolsMenuVisible(!0),this.positionMenu()},AddTools.prototype.hideToolsMenu=function(){this.toolsMenuVisible(!1),this.lockedHeight(!1)},a.exports=AddTools}),define("ui.AdminEditNode",function(e,t,a){function extractText(e){return e?"string"==typeof e?e:e.s:""}a.exports=function AdminEditNode(e,t){this.color=ko.observable(t.color),this.node=t.node,this.ques=ko.observable(extractText(t.node.data().q))}}),define("ui.AdminSidebar",function(e,t,a){function adminSidebar(e,t){this.sidebarBtns=[],this.sidebarListDom=$(".menu-items",t.dom),e(this),fs.mix(this,"ui/ProfileBadge")}adminSidebar.prototype.goHome=function(){},a.exports=adminSidebar}),define("ui.AppSelectorModal",function(e,t,a){function AppSelectorModal(e,t){this.visible=ko.observable(t.visible),this.currentApp=ko.observable("docsearch"),e(this)}AppSelectorModal.prototype.showApp=function(e){var t=this;return function(){t.currentApp(e)}},AppSelectorModal.prototype.open=function(){this.visible(!0)},AppSelectorModal.prototype.close=function(){this.visible(!1)},AppSelectorModal.prototype.mainClickHandler=function(e,t){0==$(t.target).closest(".the-modal").length&&this.close()},a.exports=AppSelectorModal}),define("ui.AutoSuggestMod",function(){var e=Math.floor;(function(t){t.fn.autoSuggest=function(a,s){var o=t.extend({asHtmlID:!1,startText:"Enter Name Here",emptyText:"No Results Found",preFill:{},limitText:"No More Selections Are Allowed",selectedItemProp:"value",selectedValuesProp:"value",searchObjProps:"value",queryParam:"q",retrieveLimit:!1,extraParams:"",matchCase:!1,minChars:1,keyDelay:400,resultsHighlight:!0,neverSubmit:!1,selectionLimit:!1,showResultList:!0,start:function start(){},selectionClick:function selectionClick(){},selectionAdded:function selectionAdded(){},selectionRemoved:function selectionRemoved(e){e.remove()},formatList:!1,beforeRetrieve:function beforeRetrieve(e){return e},retrieveComplete:function retrieveComplete(e){return e},resultClick:function resultClick(){},resultsComplete:function resultsComplete(){}},s),d="object",n=0;if("string"==typeof a){d="string";var l=a}else{var c=a;for(k in a)a.hasOwnProperty(k)&&n++}return"object"==d&&0<n||"string"==d?this.each(function(a){function keyChange(){if(46==lastKeyPressCode||8<lastKeyPressCode&&32>lastKeyPressCode)return b.hide();var e=p.val().replace(/[\\]+|[\/]+/g,"");if(e!=M)if(M=e,!(e.length>=o.minChars))m.removeClass("loading"),b.hide();else if(m.addClass("loading"),"string"==d){var a="";o.retrieveLimit&&(a="&limit="+encodeURIComponent(o.retrieveLimit)),o.beforeRetrieve&&(e=o.beforeRetrieve.call(this,e)),t.getJSON(l+"?"+o.queryParam+"="+encodeURIComponent(e)+a+o.extraParams,function(t){n=0;var a=o.retrieveComplete.call(this,t);for(k in a)a.hasOwnProperty(k)&&n++;processData(a,e)})}else o.beforeRetrieve&&(e=o.beforeRetrieve.call(this,e)),processData(c,e)}function processData(e,a){o.matchCase||(a=a.toLowerCase());var s=0;b.html(h.html("")).hide();for(var d=0,l;d<n;d++){l=d,P++;var c=!1;if("value"==o.searchObjProps)var v=e[l].value;else for(var v="",f=o.searchObjProps.split(","),w=0,S;w<f.length;w++)S=t.trim(f[w]),v=v+e[l][S]+" ";if(v&&(!o.matchCase&&(v=v.toLowerCase()),-1!=v.search(a)&&-1==g.val().search(","+e[l][o.selectedValuesProp]+",")&&(c=!0)),c){var q=t("<li class=\"as-result-item\" id=\"as-result-item-"+l+"\"></li>").click(function(){var e=t(this).data("data"),a=e.num;if(0>=t("#as-selection-"+a,m).length&&!A){var s=e.attributes;p.val("").focus(),M="",add_selected_item(s,a),o.resultClick.call(this,e),b.hide()}A=!1}).mousedown(function(){u=!1}).mouseover(function(){t("li",h).removeClass("active"),t(this).addClass("active")}).data("data",{attributes:e[l],num:P}),C=t.extend({},e[l]);if(!o.matchCase)var D=new regExp("(?![^&;]+;)(?!<[^<>]*)("+a+")(?![^<>]*>)(?![^&;]+;)","gi");else var D=new regExp("(?![^&;]+;)(?!<[^<>]*)("+a+")(?![^<>]*>)(?![^&;]+;)","g");if(o.resultsHighlight&&(C[o.selectedItemProp]=C[o.selectedItemProp].replace(D,"<em>$1</em>")),q=o.formatList?o.formatList.call(this,C,q):q.html(C[o.selectedItemProp]),h.append(q),delete C,s++,o.retrieveLimit&&o.retrieveLimit==s)break}}m.removeClass("loading"),0>=s&&h.html("<li class=\"as-message\">"+o.emptyText+"</li>"),h.css("width",m.outerWidth()),b.show(),o.resultsComplete.call(this)}function add_selected_item(e,a){g.val(g.val()+e[o.selectedValuesProp]+",");var s=t("<li class=\"as-selection-item\" id=\"as-selection-"+a+"\"></li>").click(function(){o.selectionClick.call(this,t(this)),m.children().removeClass("selected"),t(this).addClass("selected")}).mousedown(function(){u=!1}),d=t("<a class=\"as-close\">&times;</a>").click(function(){return g.val(g.val().replace(","+e[o.selectedValuesProp]+",",",")),o.selectionRemoved.call(this,s),u=!0,p.focus(),!1});v.before(s.html(e[o.selectedItemProp]).prepend(d)),o.selectionAdded.call(this,v.prev())}function moveSelection(e){if(0<t(":visible",b).length){var a=t("li",b);if("down"==e)var s=a.eq(0);else var s=a.filter(":last");var o=t("li.active:first",b);0<o.length&&("down"==e?s=o.next():s=o.prev()),a.removeClass("active"),s.addClass("active")}}if(!o.asHtmlID){a=a+""+e(100*Math.random());var s="as-input-"+a}else{a=o.asHtmlID;var s=a}o.start.call(this);var p=t(this);p.attr("autocomplete","off").addClass("as-input").attr("id",s).val(o.startText);var u=!1;p.wrap("<ul class=\"as-selections\" id=\"as-selections-"+a+"\"></ul>").wrap("<li class=\"as-original\" id=\"as-original-"+a+"\"></li>");var m=t("#as-selections-"+a),v=t("#as-original-"+a),b=t("<div class=\"as-results\" id=\"as-results-"+a+"\"></div>").hide(),h=t("<ul class=\"as-list\"></ul>"),g=t("<input type=\"hidden\" class=\"as-values\" name=\"as_values_"+a+"\" id=\"as-values-"+a+"\" />"),f="";if("string"==typeof o.preFill){for(var w=o.preFill.split(","),S=0,q;S<w.length;S++)q={},q[o.selectedValuesProp]=w[S],""!=w[S]&&add_selected_item(q,"000"+S);f=o.preFill}else{f="";var C=0;for(k in o.preFill)o.preFill.hasOwnProperty(k)&&C++;if(0<C)for(var S=0,D;S<C;S++)D=o.preFill[S][o.selectedValuesProp],null==D&&(D=""),f=f+D+",",""!=D&&add_selected_item(o.preFill[S],"000"+S)}if(""!=f){p.val("");var T=f.substring(f.length-1);","!=T&&(f+=","),g.val(","+f),t("li.as-selection-item",m).addClass("blur").removeClass("selected")}p.after(g),m.click(function(){u=!0,p.focus()}).mousedown(function(){u=!1}).after(b);var I=null,M="",A=!1;p.focus(function(){return t(this).val()==o.startText&&""==g.val()?t(this).val(""):u&&(t("li.as-selection-item",m).removeClass("blur"),""!=t(this).val()&&(h.css("width",m.outerWidth()),b.show())),u=!0,!0}).blur(function(){""==t(this).val()&&""==g.val()&&""==f?t(this).val(o.startText):u&&(t("li.as-selection-item",m).addClass("blur").removeClass("selected"),b.hide())}).keydown(function(a){switch(lastKeyPressCode=a.keyCode,first_focus=!1,a.keyCode){case 38:a.preventDefault(),moveSelection("up");break;case 40:a.preventDefault(),moveSelection("down");break;case 8:if(""==p.val()){var e=g.val().split(",");e=e[e.length-2],m.children().not(v.prev()).removeClass("selected"),v.prev().hasClass("selected")?(g.val(g.val().replace(","+e+",",",")),o.selectionRemoved.call(this,v.prev())):(o.selectionClick.call(this,v.prev()),v.prev().addClass("selected"))}1==p.val().length&&(b.hide(),M=""),0<t(":visible",b).length&&(I&&clearTimeout(I),I=setTimeout(function(){keyChange()},o.keyDelay));break;case 9:case 188:A=!0;var s=p.val().replace(/(,)/g,"");if(""!=s&&0>g.val().search(","+s+",")&&s.length>=o.minChars){a.preventDefault();var d={};d[o.selectedItemProp]=s,d[o.selectedValuesProp]=s;var n=t("li",m).length;add_selected_item(d,"00"+(n+1)),p.val("")}case 13:A=!1;var l=t("li.active:first",b);0<l.length&&(l.click(),b.hide()),(o.neverSubmit||0<l.length)&&a.preventDefault();break;default:o.showResultList&&(o.selectionLimit&&t("li.as-selection-item",m).length>=o.selectionLimit?(h.html("<li class=\"as-message\">"+o.limitText+"</li>"),b.show()):(I&&clearTimeout(I),I=setTimeout(function(){keyChange()},o.keyDelay)));}});var P=0}):void 0}})(jQuery)}),define("ui.Avatar",function(e,t,a){var s=t("app/who");a.exports=function Avatar(e,t){var a=this,o;s.update(),o=o?o:t.user,this.userID=t.userID||ko.observable(userID),this.userName=t.userName||ko.observable(o.first+" "+o.last),this.emptyInitials=ko.observable(),this.avatar=this.userID?s.avatar(this.userID):ko.observable(),this.hasAvatar=ko.computed(function(){return""!=a.avatar()}),this.avatarDisplayName=ko.observable(),this.avatarDisplay=ko.computed(function(){var e=""==a.userName()?"Anonymous":a.userName();-1!=e.indexOf("@");t.hideTooltip||(a.avatarDisplayName(e),$(a.dom).tooltip&&$(a.dom).tooltip({placement:"top",container:"body",html:!0}))}),this.avatarBg=ko.computed(function(){var e=["blue","purple","olive","green","orange","red","teal","pink"],t=a.userID()%e.length;return e[t]}),this.userInitials=ko.computed(function(){var e=a.userName();if(""!=e&&"Anonymous"!=e){var t=e.split(" ").slice(0,1).toString().slice(0,1).toString().toUpperCase(),s=e.split(" ").slice(-1).toString().slice(0,1).toString().toUpperCase();return t+s}return a.emptyInitials(!0),"A"}),e(this),t.customSize&&this.dom.addClass("avatar-"+t.customSize),t.showTooltip&&this.userName.subscribe(function(){$("img",a.dom).attr("title",a.userName()),$("img",a.dom).tooltip()})}}),define("ui.AvatarList",function(e,t,a){function AvatarList(e,t){for(var a in e(this),t.users)this.addUser(t.users[a],t.size||50);s.update()}var s=t("app/who");AvatarList.prototype.addUser=function(e,t){var e=ko.observable(e),a=$("<div class=\"lfloat mrs mvs\" style=\"width:30px\">").appendTo($(".users",this.dom));fs.mixAppend(a,"ui/Avatar",{userID:e,userName:s.is(e),customSize:t,hideTooltip:!0})},a.exports=AvatarList}),define("ui.BookDealProgress",function(e,t,a){a.exports=function BookDealProgress(e,t){var a=this;this.selectedIndex=t.selectedIndex||0,e(this),$(".multisteps li",this.dom).css({left:a.selectedIndex?"unset":"5px",right:a.selectedIndex?"5px":"unset"}),a.selectedIndex&&$(".progress-circle, .progress-line",this.dom).css({background:"#2776D3"})}}),define("ui.BrowserWarning",function(e,t,a){function browserWarning(e,t){this.isDocViewer=ko.observable(t.docViewer),e(this),!this.isDocViewer&&(window.dismissBrowserWarning||"undefined"!=typeof window.localStorage&&window.localStorage.dismissBrowserWarning)&&this.dismiss()}browserWarning.prototype.dismiss=function(){$(this.dom).hide(),this.isDocViewer&&$(".ui-overlay").remove(),window.dismissBrowserWarning=!0,"undefined"!=typeof window.localStorage&&(window.localStorage.dismissBrowserWarning=!0)},a.exports=browserWarning}),define("ui.Buy",function(e,t,a){function Buy(e,t){var a=this,l=this;this.theme=t.theme||"",this.changePlanCB=t.changePlanCB,this.buySummary=ko.observable(),this.cartIsNotEmpty=ko.observable(!1),this.discountThreshold=ko.observable(t.discountThreshold),this.referrerCode="",this.locked=ko.observable(!1),this.loggedIn=ko.observable(null),"undefined"==typeof user?this.loggedIn(!1):this.loggedIn(!0),n.load(),this.currency=n.currency,n.isEmpty()?location.replace(t.emptyRedirect):this.cartIsNotEmpty(!0);var p=0;this.items=ko.observableArray();var u=n.items();for(var m in this.itemIDs=[],u)this.discountCode=u[m].group,this.items.push(u[m]),this.itemIDs.push(u[m].key),p+=u[m].price;if(window.localStorage&&(window.localStorage.activeDeal&&(window.deal=JSON.parse(window.localStorage.getItem("activeDeal"))),l.referrerCode=window.localStorage.getItem("referrerCode"),l.referrerCode===user.code&&(dialog("ui/dialogs/LockoutDialog",{message:"Sorry, you can't claim your own referral deal. \uD83D\uDE0F",header:"Uh oh...",secondaryButton:"My dashboard",primaryButton:"Plans page",theme:"negative"}),window.localStorage.removeItem("referrerCode"),this.locked(!0))),this.dealName=localStorage.getItem("dealName")?localStorage.getItem("dealName"):null,this.bookDealShown=ko.observable(!1),this.books=ko.observableArray([]),this.bookImages=ko.observableArray([]),this.shippingBlurb=ko.observable(""),!(window.deal&&window.deal.bookIncluded))this.bookDealActive=ko.observable(!1);else if(this.bookDealActive=ko.computed(function(){var e=0;for(var t in this.items())e+="year"==this.items()[t].unit?12*this.items()[t].amount:this.items()[t].amount;return 12<=e},this),this.bookDealActive()){if(window.deal.data.books)for(var v in window.deal.data.books)this.books.push(c.name2id[window.deal.data.books[v]]);else this.books([0,1,2]);this.bookImages(c.getImages(this.books())),window.deal.data.shippingBlurb?this.shippingBlurb(window.deal.data.shippingBlurb):this.shippingBlurb("Thanks for providing your shipping address. You should receive an email confirmation within 5 working days that your book has shipped.")}this.totalCharge=ko.observable(p),this.buyText=ko.computed(function(){var e=a.totalCharge();return a.buySummary()?"Pay ".concat(n.currencyMark()).concat(formatWithCommas(a.buySummary().displayPrice({price:e}))):"Finalize purchase"}),$(".navBarItem").addClass("hidden"),this.authStepStatus=ko.observable(l.loggedIn()?"hidden":"enabled"),this.buyStepStatus=ko.observable(l.loggedIn()?"enabled":"disabled"),this.confirmationStepStatus=ko.observable("hidden"),this.showCompleteMessage=ko.observable(!1),this.acceptedTerms=ko.observable(!1),this.acceptedTerms.subscribe(function(){l.acceptedTerms()&&(l.purchaseError(""),$.post("/agreeToTerms"))}),this.purchasePending=ko.observable(!1),this.purchaseError=ko.observable(""),this.ccInitialized=ko.observable(!1),this.allInputsValid=ko.computed(function(){return!!(a.ccInitialized()&&a.cc.allInputsValid()&&a.acceptedTerms())}),this.cardType=ko.observable(),e(this),this.cc=fs.mix(this,"ui/Creditcard",{paymentURI:"receivePayment",purchaseError:this.purchaseError,cardType:this.cardType}),this.cc.status("disabled"),this.ccInitialized(!0),l.cc.status(l.buyStepStatus()),this.buyStepStatus.subscribe(function(){l.cc.status(l.buyStepStatus())}),s.track("AddToCart",{value:(l.totalCharge()/100).toFixed(2),currency:this.currency(),content_name:function getName(e){return 0<e.length&&e[0].title?e[0].title:"n/a"}(l.items()),content_category:"item"}),o.track("cart",(l.totalCharge()/100).toFixed(2));var b=[];for(var h in this.items())b.push({id:this.items()[h].inventoryID,name:this.items()[0].title.replace("Osmosis Prime","").replace(" for ","").replace(" until you take","Until"),quantity:1,amount:this.getAmountUSD()});d.track("checkout_progress",{items:b,coupon:this.discountCode}),this.dealName&&"undefined"!=this.dealName&&d.track("select_content",{promotions:[{id:this.dealName,name:this.dealName}]}),analytics.track("Added to Cart",{amount:l.totalCharge()/100}),setTimeout(function(){slack.channel("activity-cart","Added to cart: "+l.currency()+" "+l.totalCharge()/100)},1e3),this.buySummary(fs.mixAppend($(".order-summary",this.dom),"ui/BuySummary",{items:this.items,bookDealActive:this.bookDealActive,totalCharge:this.totalCharge,buyStepStatus:this.buyStepStatus,changePlanCB:this.changePlan.bind(this)})),fs.mix(this,"ui/SimpleLoginBox",{isBuying:!0,redirect:"buy"}),this.bookDealActive()&&(fs.mix(this,"ui/FreeBookForm",{inventoryID:this.itemIDs[0],onExitCallback:function onExitCallback(){fs.empty($(".free-book-form-wrapper",l.dom))},books:this.books(),bookImages:this.bookImages(),shippingBlurb:this.shippingBlurb()}),fs.mix(this,"ui/BookDealProgress",{})),fs.mix(this,"ui/UserTestimonial",{avatar:"https://d16qt3wv6xm098.cloudfront.net/jDRbUr4XRmWN7jwAua9xObknTZeBdmD5/_.jpg",name:"Kit Galliosborn",school:"George Washington University",quote:"The simple and focused videos in Osmosis are easy to understand. I also like the way topics are organized, allowing me to know what topics to focus on to improve specific subject areas."})}var s=t("app/fbTrackingPixel"),o=t("app/fbTrackingPixelOld"),d=t("app/gaTracking"),n=t("app/storeCart"),l=t("app/login"),c=t("shared/books"),p=t("ui/survey/purchaseSurvey");Buy.prototype.changePlan=function(){this.changePlanCB?this.changePlanCB():document.location="/plans"},Buy.prototype.checkoutNow=function(){},Buy.prototype.withFacebook=function(){l.withFacebook()},Buy.prototype.withGoogle=function(){l.withGoogle()},Buy.prototype.testPurchase=function(e){var t=this;t.acceptedTerms()?(t.purchaseError(""),t.purchasePending(!0),n.clear(),t.buyStepStatus("success"),t.confirmationStepStatus("enabled"),t.purchasePending(!1),t.bookDealActive()?(t.bookDealShown(!0),goToByScroll("body"),setTimeout(function(){t.buyStepStatus("hidden"),t.confirmationStepStatus("hidden")},600)):setTimeout(function(){},1e3)):(t.purchaseError("Please accept the Osmosis Terms & Conditions and Privacy Policy."),e())},Buy.prototype.purchaseQuestions=function(e){var t=this,a=this;return this.locked()?(dialog("ui/dialogs/LockoutDialog",{message:"Whoa, hacker alert. Seriously, though, you can't use your own referral deal.",header:"All right, that's enough",secondaryButton:"My dashboard",primaryButton:"Plans page",theme:"negative"}),e()):this.purchasePending()?e():window.testingPurchase&&-1<window.location.origin.indexOf("localhost")?(this.testPurchase(e),e()):void(a.acceptedTerms()?(a.purchasePending(!0),a.cc.submit({totalCharge:this.totalCharge(),currency:n.currency,items:this.itemIDs},function(){n.clear(),a.buyStepStatus("success"),a.confirmationStepStatus("enabled"),a.purchasePending(!1);var e=(a.totalCharge()/100).toFixed(2);0<window.conversionRateINR&&"inr"===a.currency().toLowerCase()&&(e=(a.totalCharge()/100/window.conversionRateINR).toFixed(2));var l=!0;for(var c in a.items())if(8<=a.items()[c].inventoryID){l=!1;var p=a.items()[c].title.replace("Osmosis Prime","").replace(" for ","").replace(" until you take","Until");s.track("Purchase",{value:e,currency:a.currency(),content_name:p,content_category:"prime_plan"}),o.track("purchase",e),a.trackGA("purchase",a.items()[c].inventoryID,p),fs.post("delayReferralPrimeEmail",{userID:userID}),a.referrerCode&&(window.localStorage.removeItem("referrerCode"),t.dealName="referral-purchase"),a.trackPurchase(a.items()[c],1)}l&&(s.track("Purchase",{value:e,currency:"USD",content_category:"non_prime_item",content_name:a.items()[0].title}),o.track("purchase",e),d.ecommerce({value:e,items:[{id:a.items()[c].inventoryID,name:"Non-prime purchase",quantity:1,price:e}]})),window.localStorage&&window.localStorage.activeDeal&&window.localStorage.removeItem("activeDeal"),a.bookDealActive()&&a.bookDealShown(!0),setTimeout(function(){~window.location.pathname.indexOf("/start")?window.location.replace("/"):fs.get("userGeoLocation",{},function(e){"United States"===e.userLocation.location.country_name&&dialog("ui/dialogs/mailingAddress")})},1e3),slack.channel("activity-buy","Purchased Prime "+a.currency()+" "+(a.totalCharge()/100).toFixed(2))},function(t){for(var s in a.purchaseError(t.message),a.purchasePending(!1),a.items())8<=a.items()[s].inventoryID&&"/authorize"!=window.location.pathname&&a.trackPurchase(a.items()[s],0,t.message);e()})):(a.purchaseError("Please accept the Osmosis Terms & Conditions and Privacy Policy."),e()))},Buy.prototype.trackPurchase=function(e,t,a){var s="year"==e.unit?12*e.amount:e.amount,o=e.strikePrice?e.strikePrice:e.price,d={paid_amount:(this.totalCharge()/100).toFixed(2),paid_currency:this.currency(),months:s,price:o,discount_code:this.discountCode,deal:this.dealName,success:t,error_message:a||0};keen.track("prime_purchase",d),1==t&&(analytics.track("Purchase",{amount:this.getAmountUSD(),inventory_group:this.discountCode,months:s,deal:this.dealName?this.dealName:"None"}),intercomData.update("user",{prime_purchase_event:!0,current_plan:s,last_spend_amount:this.getAmountUSD(),last_deal_used:this.dealName?this.dealName:null}),window.IntercomEvent("trackEvent","prime_purchased",{prime_package:s+" Months"}))},Buy.prototype.getAmountUSD=function(){var e=this.currency().toLowerCase(),t=(this.totalCharge()/100).toFixed(2);return"inr"===e?(t/window.conversionRateINR).toFixed(2):t},Buy.prototype.trackGA=function(e,t,a){d.ecommerce({value:this.getAmountUSD(),coupon:this.discountCode,items:[{id:t,name:a,quantity:1,price:this.getAmountUSD()}]})},Buy.prototype.showCompleteMessage=function(){this.completeMessageVisible(!0)},a.exports=Buy}),define("ui.BuySummary",function(e,t,a){function BuySummary(e,t){this.items=t.items||[],this.bookDealActive=t.bookDealActive||function(){},this.totalCharge=t.totalCharge||ko.observable(0),this.buyStepStatus=t.buyStepStatus||function(){},this.changePlanCB=t.changePlanCB||function(){},this.allowChangePlan="undefined"==typeof t.allowChangePlan?!!t.changePlanCB:t.allowChangePlan,s.load(),this.currencyMark=s.currencyMark,this.displayTotalCharge=ko.computed(function(){return this.currencyMark()+formatWithCommas(this.totalCharge()/100)},this),e(this)}var s=t("app/storeCart");BuySummary.prototype.changePlan=function(){this.changePlanCB()},BuySummary.prototype.formatPrice=function(e){var t=(e/100).toFixed(2),a=t.split(".");return 0==+a[1]?a[0]:t},BuySummary.prototype.displayPrice=function(e){return this.formatPrice(e.price)},a.exports=BuySummary}),define("ui.Calendar",function(e,t,a){var s=t("models/Event"),o=t("app/timezone"),d=t("app/backgroundEvents"),n=t("app/group"),l=function CalSelector(){this;this.selected=null};l.prototype.select=function(e){this.clear(),this.selected=e,this.selected.addClass("selected")},l.prototype.clear=function(){this.selected&&this.selected.removeClass("selected")};var c=function Calendar(e,t){var a=this;this.cal=t.model,this.selector=new l,this.eventNav=t.eventNav,$(document).bind("ui-Calendar.selectEvent",function(t,e){a.selector.select($(".calendarEvent"+e.eventID,a.dom));var s=a.dom.fullCalendar("getView"),o=moment(e.begin());(o.isBefore(s.begin)||o.isAfter(s.end))&&a.dom.fullCalendar("gotoDate",o)});var s=0;for(var o in eventIndex){var d=+eventIndex[o].begin();d>s&&(s=d)}+new Date>d&&(this.cal.currentDate=moment(d)),this.currentDate=t.currentDate,this.onModifiedEvent=t.onModifiedEvent,e(this),fs.listen("fs.create:event",this.dom,function(e,t){var s=a.addEvent(a.formatCalendarEvent(t),!0);a.cal.focusedEvent(s)}),this.render(t.editable,t.height)};c.prototype.render=function(e,t){function eventUpdateCallback(e,t,a){var s=e.osmosisEvent;return eventIndex[s.eventID]?void(s.begin(new Date(moment.tz(e.start.format(),o.timezone()).format())),s.length((new Date(moment.tz(e.end.format(),o.timezone()).format())-s.begin())/6e4),fs.update(s,function(){},function(){a()})):a()}this.dom.hasClass("fc")&&(this.cal.currentDate=this.dom.fullCalendar("getDate")),console.log("height is "+t);var a=this;this.cal.isEditable(e),this.cal.isEditing(!1),this.dom.fullCalendar("destroy"),this.stagedEvents=[],e?this.dom.addClass("editable"):this.dom.removeClass("editable");var n=480>$(window).width()?"agendaDay":"agendaWeek",l={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},defaultDate:this.currentDate,timezone:o.timezone(),height:t,allDaySlot:!1,defaultView:n,editable:e,selectable:e,eventStartEditable:e,eventDurationEditable:e,selectHelper:!0,eventAfterAllRender:function eventAfterAllRender(){a.seekEarliest()},eventClick:function eventClick(e){a.cal.isEditable()&&eventIndex[e.osmosisEvent.eventID]?a.onEditEvent&&(a.cal.focusedEvent(e),a.onEditEvent(e.osmosisEvent,e)):e.osmosisEvent?window.navToCalendarEvent=e.osmosisEvent.eventID:fs.alert("This event hasn't been imported yet, you can import it by clicking the \"Import All\" button."),a.selector.select(a.getEventDOM(e))},select:function select(e,t){if(!a.cal.creatingNewEvent()){var d=new s;d.begin(new Date(moment.tz(e.format(),o.timezone()).format())),d.length((new Date(moment.tz(t.format(),o.timezone()).format())-d.begin())/6e4),d.MID(MID),a.calendar.fullCalendar("renderEvent",{title:"",start:e,end:t,className:"calendarNewEvent",osmosisEvent:d},!0);var n=a.dom.fullCalendar("clientEvents"),l=n[n.length-1];a.cal.focusedEvent(l),a.onEditEvent(d,l)}else alert("Save or cancel your current edits first!");a.calendar.fullCalendar("unselect")},eventDrop:eventUpdateCallback,eventResize:eventUpdateCallback,events:function events(e,t,s,o){console.log(e),console.log(t);var n=[],l=moment.tz(e.format("YYYY-MM-DD HH:mm:ss"),s),c=moment.tz(t.format("YYYY-MM-DD HH:mm:ss"),s);for(var p in eventIndex){var u=eventIndex[p].begin().getTime()/1e3;u>l.unix()&&u<c.unix()&&n.push(a.formatCalendarEvent(eventIndex[p]))}for(var p in a.stagedEvents){var m=a.stagedEvents[p].eventObj;m.start.isAfter(e)&&m.end.isBefore(t)&&n.push(m)}d.load(n,l,c,function(){o(n)})},eventRender:function eventRender(e){e.importableEvent&&(e.importableEvent.calEvent=e)},weekMode:"variable"};a.calendar=this.dom.fullCalendar(l),setTimeout(function(){a.load()},0)},c.prototype.formatCalendarEvent=function(e){var t=e.title()||"",a=e.instructor();return{title:t+(a?" - "+a:""),start:moment(e.begin()).tz(o.timezone()),end:moment(e.end()).tz(o.timezone()),className:"calendarEvent"+e.eventID+(e.MID()?"":" noModule")+(e.completed()?" completed":"")+(e.hasAttachments()?" hasDocs":""),osmosisEvent:e}},c.prototype.formatGoogleEvent=function(e){return{title:e.title,start:moment(e.begin).tz(o.timezone()),end:moment(e.end).tz(o.timezone()),className:"importableEvent",googleEvent:e,color:"#AD3A96"}},c.prototype.load=function(){this;this.dom.fullCalendar("render"),this.seekEarliest()},c.prototype.prev=function(){this.dom.fullCalendar("prev"),this.cal.currentDate=this.dom.fullCalendar("getDate"),this.seekEarliest()},c.prototype.next=function(){this.dom.fullCalendar("next"),this.cal.currentDate=this.dom.fullCalendar("getDate"),this.seekEarliest()},c.prototype.seekEarliest=function(){var e=this,t=1e8;$(".fc-event",e.dom).each(function(){var e=$(this).position().top;e<t&&(t=e)}),setTimeout(function(){1e8>t&&$(".fc-event-container",e.dom).parents(".fc-scroller").scrollTop(t-10)},1)},c.prototype.addEvent=function(e,t){this.dom.fullCalendar("renderEvent",e,!t);var a=this.dom.fullCalendar("clientEvents");return a[a.length-1]},c.prototype.scrollSelect=function(){},c.prototype.saveEdit=function(e,t){if(this.onModifiedEvent(e),t)this.dom.fullCalendar("removeEvents",t._id);else{var a=this.cal.focusedEvent();a.title=e.title()+" - "+e.instructor(),this.dom.fullCalendar("updateEvent",a)}},c.prototype.cancelEdit=function(){this.cal.isEditing(!1),this.cal.creatingNewEvent()&&this.dom.fullCalendar("removeEvents",this.cal.focusedEvent()._id),this.cal.focusedEvent(null)},c.prototype.gotoDate=function(e){this.dom.fullCalendar("gotoDate",e)},c.prototype.getEventDOM=function(e){var t=e.className;for(var a in t)if(0==t[a].search("calendarEvent"))return $("."+t[a],this.dom)},c.prototype.onEditEvent=function(e){dialog("ui/dialogs/EditEvent",function(){},{event:e,calendar:this})},c.prototype.show=function(){},a.exports=c}),define("ui.CalendarDateSelector",function(e,t,a){function CalendarDateSelector(e,t){this.dateSelectedCallback=t.dateSelectedCallback,this.mobileView=t.mobileView||!1,this.month=ko.observableArray([]),this.monthName=ko.observable(""),this.monthYear=ko.observable(""),this.currentDate=moment();var a=moment();this.selectedDate=ko.observable(a),this.months=ko.observableArray(t.months||[]),this.buildMonth(this.selectedDate()),this.updateSelectedDate=this.updateSelectedDate.bind(this),this.addMonthsData=this.addMonthsData.bind(this),this.moveSeletedDate=this.moveSeletedDate.bind(this),e(this)}CalendarDateSelector.prototype.addMonthsData=function(e){this.months(e),this.buildMonth(this.currentDate)},CalendarDateSelector.prototype.updateSelectedDate=function(e,t){t=!("undefined"!=typeof t)||t,(this.currentDate.month()!==e.month()||this.currentDate.year()!==e.year())&&(this.currentDate=e,this.buildMonth(this.currentDate)),this.selectedDate(e),t&&this.dateSelectedCallback(this.selectedDate())},CalendarDateSelector.prototype.moveSeletedDate=function(e,t){var a=moment(this.selectedDate());"weeks"===t?a.startOf("week"):"months"==t&&a.startOf("month"),this.updateSelectedDate(a.add(e,t))},CalendarDateSelector.prototype.dateClicked=function(){var e=this;return function(t){t.otherMonth||(e.selectedDate(moment(e.currentDate).date(t.date)),e.dateSelectedCallback(e.selectedDate()))}},CalendarDateSelector.prototype.nextMonth=function(){this.currentDate.date(this.currentDate.daysInMonth()+1),this.buildMonth(this.currentDate)},CalendarDateSelector.prototype.prevMonth=function(){this.currentDate.date(0),this.buildMonth(this.currentDate)},CalendarDateSelector.prototype.buildMonth=function(e){this.monthName(e.format("MMMM")),this.monthYear(e.format("YYYY"));for(var t=[],a=(moment(e).date(1).weekday()+(6-moment(e).date(e.daysInMonth()).weekday())+e.daysInMonth())/7,s=0;s<a;s++)t.push(Array(7));for(var o=moment(e).date(0),s=o.weekday();0<=s;s--)t[0][o.weekday()-s]={date:o.daysInMonth()-s,otherMonth:!0,currentDate:!1};var d=!1,n=null;if(0<this.months().length)for(var l in this.months())if(this.months()[l].name===this.monthName()&&e.year()===this.months()[l].year){n=l,d=!0;break}for(var c=moment(e).date(1).weekday(),s=0;s<e.daysInMonth();s++){var p=Math.floor((s+c)/7),u=(s+c)%7;t[p][u]={date:s+1,otherMonth:!1,empty:!0,currentDate:s+1===moment().date()&&e.month()===moment().month()&&e.year()===moment().year()},d&&!this.months()[n].weeks[p].days[u].empty&&(t[p][u].color=this.months()[n].weeks[p].days[u].color,t[p][u].borderWidth=this.months()[n].weeks[p].days[u].borderWidth,t[p][u].empty=!1)}for(var m=6-moment(e).date(e.daysInMonth()).weekday(),s=0;s<m;s++)t[t.length-1][6-s]={date:m-s,otherMonth:!0,currentDate:!1};this.month.removeAll();for(var s=0;s<t.length;s++)this.month.push(t[s])},a.exports=CalendarDateSelector}),define("ui.CalendarEvent",function(e,t,a){var s=t("app/timezone");a.exports=function CalendarEvent(e,t,a,o){if(this.isCourseEvent=ko.observable(!!e),this.title=ko.observable(),this.hint=ko.observable(),e){e.instructor();this.event=e,this.start=moment(e.begin()).tz(s.timezone()),this.end=moment(e.end()).tz(s.timezone());var d=this.start.format("ha");this.title(d.slice(0,d.length-1)),this.completed=e.completed,this.hasAttachments=e.hasAttachments,this.eventID=e.eventID,this.ts=+this.start,this.hint(this.event.title())}else this.title(ellipsize(a,10)+" "+o),this.hint(a+" "+o),this.start=moment(t+" 12:00:00"),this.end=moment(t+" 12:00:00"),this.completed=ko.observable(!1),this.hasAttachments=ko.observable(!1),this.ts="begins"==o?0:2e12,this.eventID=0}}),define("ui.CalendarModel",function(e,t,a){a.exports=function CalendarModel(){var e=this;this.currentDate=null,this.isEditing=ko.observable(),this.isEditable=ko.observable(),this.focusedEvent=ko.observable(),this.creatingNewEvent=ko.computed(function(){var t=e.focusedEvent();return!!t&&!t.osmosisEvent._eventID()})}}),define("ui.CalendarSelector",function(e,t,a){function CalendarSelector(e){var t=this;this.firstLoad=ko.observable(!0),this.dateStr=ko.observable(),this.has={fc:{osmosis:ko.observable(),local:ko.observable()},ques:{osmosis:ko.observable(),local:ko.observable()}},e(this),this.calendar=fs.mix(this,"ui/SelectableCalendar",{onClickEvent:function onClickEvent(e){t.selectEvent(e)},onSelect:function onSelect(e,a){t.selectEventRange(e,a,!0)},customEvents:function customEvents(){},largeTimes:!0})}var s=t("app/timezone"),o=t("ui/miniQuizSet");CalendarSelector.prototype.selectEventRange=function(e,t){var a=this;e==t?this.dateStr(moment(e).format("MMM D")):this.dateStr(moment(e).format("MMM D")+" to "+moment(t).format("MMM D"));fs.post("selectQuesFromCalendar",{g:window.groupID,start:+moment.tz(e+" 00:00:00",s.timezone())/1e3,stop:+moment.tz(t+" 23:59:59",s.timezone())/1e3,MIDs:[]},function(e){a.createQuizzes(e)}),($("body").hasClass("phone")||$("body").hasClass("phone-lg"))&&(this.firstLoad()?setTimeout(function(){a.scrollToQuizzes()},1e3):this.scrollToQuizzes()),this.firstLoad(!1),window.IntercomEvent("trackEvent","selected_quiz_calendar_date")},CalendarSelector.prototype.selectEvent=function(e){var t=this;this.dateStr(moment(eventIndex[e].begin()).format("MMM D @ Ha")+" - "+eventIndex[e].title()),fs.post("selectQuesFromCalendar",{g:window.groupID,eventID:e,timezone:s.timezone()},function(e){t.createQuizzes(e)}),($("body").hasClass("phone")||$("body").hasClass("phone-lg"))&&(this.firstLoad()?setTimeout(function(){t.scrollToQuizzes()},1e3):this.scrollToQuizzes()),this.firstLoad(!1),window.IntercomEvent("trackEvent","selected_quiz_calendar_event")},CalendarSelector.prototype.selectDocument=function(e,t){var a=this;this.dateStr("Document - "+e.data().s),fs.post("selectQuesFromCalendar",{g:window.groupID,docNodeID:e.nodeID,eventID:t.eventID,timezone:s.timezone()},function(e){a.createQuizzes(e),a.calendar.goToDate(moment(t.begin())),setTimeout(function(){$(".dayBG-"+moment(t.begin()).format("YYYY-MM-DD")).addClass("fc-highlight")},200)})},CalendarSelector.prototype.resetCounts=function(){this.has.fc.osmosis(0),this.has.fc.local(0),this.has.ques.osmosis(0),this.has.ques.local(0),fs.empty($(".fc-quizzes",this.dom)),fs.empty($(".ques-quizzes",this.dom))},CalendarSelector.prototype.createQuizzes=function(e){this.resetCounts(),o.createQuizzes(this.dom,"ui/mobile/SelectorCalendarQuiz",e,this.has)},CalendarSelector.prototype.scrollToQuizzes=function(){var e=$(this.dom).closest(".scrollable"),t=$(".quizzes-col",e);if(t.length){var a=t.offset().top-e.offset().top+e.scrollTop();e.animate({scrollTop:a},1e3)}},a.exports=CalendarSelector}),define("ui.CalendarSidetab",function(e,t,a){function CalendarSidetab(e,t){var a=this;this.groupDocList=t.groupDocList,this.select=ko.observable(),this.learnAboutCourseDocs=ko.observable(),this.todo=s,e(this),this.calendar=fs.mix(this,"ui/SelectableCalendar",{onClickEvent:function onClickEvent(e){var t=moment(eventIndex[e].begin()).format("YYYY-MM-DD");a.groupDocList.selectDateRange(t,t,!0,function(){}),window.IntercomEvent("trackEvent","selected_calendar_event")},onSelect:function onSelect(e,t){a.groupDocList.selectDateRange(e,t,moment(e).format("YYYY-MM-DD")==moment(t).format("YYYY-MM-DD"),function(){}),window.IntercomEvent("trackEvent","selected_calendar_date")},customEvents:function customEvents(e,t,s){for(var o in moduleIndex)a.checkModuleBounds(e,t,s,moduleIndex[o])}})}var s=t("app/todo"),o=t("app/backgroundEvents"),d=t("app/timezone"),n=t("ui/CalendarEvent");CalendarSidetab.prototype.checkModuleBounds=function(e,t,a,s){+new Date(s.startsOn)>+e&&+new Date(s.startsOn)<+t&&a.push(new n(null,s.startsOn,s.name,"begins")),+new Date(s.examDate)>+e&&+new Date(s.examDate)<+t&&a.push(new n(null,s.examDate,s.name,"ends"))},CalendarSidetab.prototype.quizWithFlashcards=function(){0==s.flashcards.repetition().length+s.flashcards.docs().length+s.flashcards.school().length?tabToURL(urlPrefix+"/flashcards/select"):this.select("flashcards")},CalendarSidetab.prototype.quizWithQuestions=function(){0==s.questions.repetition().length+s.questions.school().length?tabToURL(urlPrefix+"/questions/select"):this.select("questions")},a.exports=CalendarSidetab}),define("ui.CardPicker",function(e,t,a){var s=t("shared/cards"),o=s.cards,d=function(){"use strict";function CardPicker(e,t){_classCallCheck(this,CardPicker),this.selectedCard=t.selectedCard||ko.observable(),this.maxToDisplay=7,this.cards=ko.observableArray([]);var a=o.slice(0),s=new URL(window.location.href),d=s.searchParams.get("id");d&&(this.cards.push(a.splice(a.findIndex(function(e){return e.id===d}),1)[0]),this.maxToDisplay-=1);var n=s.searchParams.get("category");if(o.find(function(e){return e.category===n}))this.cards(o.filter(function(e){return e.category===n}));else for(var l=0;l<this.maxToDisplay;l+=1)this.cards.push(a.splice(_.random(a.length-1),1)[0]);this.selectedCard(this.cards()[0]),e(this)}return _createClass(CardPicker,[{key:"selectImage",value:function selectImage(e,t){t.selectedCard(e)}},{key:"showCardPickerDialog",value:function showCardPickerDialog(){dialog("ui/CardPickerDialog",{parent:this})}}]),CardPicker}();a.exports=d}),define("ui.CardPickerDialog",function(e,t,a){var s=t("shared/cards"),o=s.cards,d=function(){"use strict";function CardPickerDialog(e,t){var a=this;_classCallCheck(this,CardPickerDialog),this.parent=t.parent,this.cards=o;for(var l=0;l<this.cards.length;l+=1)this.cards[l].selected=ko.observable(!1);this.categories=ko.observableArray([]);for(var s=function _loop14(e){var t=a.categories().findIndex(function(t){return t.categoryName===a.cards[e].categoryName});-1===t?a.categories.push({cards:[a.cards[e]],selected:ko.observable(!1),categoryName:a.cards[e].categoryName}):a.categories()[t].cards.push(o[e])},d=0;d<this.cards.length;d+=1)s(d);this.categories(_.sortBy(this.categories(),"categoryName")),this.categories.unshift({cards:this.cards.filter(function(e){return e.tags.find(function(e){return"general"===e})}),selected:ko.observable(!1),categoryName:"General"}),this.categories.unshift({cards:this.cards,selected:ko.observable(!1),categoryName:"All"});var n=this.categories().find(function(e){return"All"===e.categoryName});this.selectedCategory=ko.observable(n),n.selected(!0),this.categoryCards=ko.computed(function(){return a.categories().find(function(e){return e.categoryName===a.selectedCategory().categoryName})}),this.selectedCard=ko.observable(),e(this)}return _createClass(CardPickerDialog,[{key:"selectCategory",value:function selectCategory(e){var t=this;return function(){t.categories().find(function(e){return e===t.selectedCategory()}).selected(!1),e.selected(!0),t.selectedCategory(e)}}},{key:"selectCard",value:function selectCard(e){var t=this;return function(){if(t.selectedCard())for(var a=0,s;a<t.categories().length;a+=1){s=t.categories()[a];for(var o=0;o<s.cards.length;o+=1)s.cards[o].selected(!1)}e.selected(!0),t.selectedCard(e)}}},{key:"useDesignClick",value:function useDesignClick(){var e=this;if(this.selectedCard())if(this.parent.selectedCard(this.selectedCard()),"All"===this.selectedCategory().categoryName)this.parent.cards().find(function(t){return t.id===e.selectedCard().id})||(this.parent.cards.unshift(this.selectedCard()),this.parent.cards().length>this.parent.maxToDisplay&&this.parent.cards.pop());else{var d=o.filter(function(t){return t.categoryName===e.selectedCategory().categoryName});if(d.length<this.parent.maxToDisplay)for(var t=o.filter(function(e){return e.tags.find(function(e){return"general"===e})}),a=this.parent.maxToDisplay-d.length,s=0;s<a;s+=1)d.push(t[s]);d.find(function(t){return t.id===e.selectedCard().id})||(d.unshift(this.selectedCard()),d.pop()),this.parent.cards(d)}this.__dialog.close()}}]),CardPickerDialog}();a.exports=d}),define("ui.CategoryTiles",function(e,t,a){var s=Math.floor;function CategoryTiles(e,t){this.subject=t.subject,this.title=ko.observable(t.categoryName),this.view=ko.observable("expanded"),this.subs=[],this.hasSubcategories=ko.observable(!1),this.allTiles=[],this.grids=[]}CategoryTiles.prototype.flip=function(){for(var e in this.grids)this.grids[e].flip()},CategoryTiles.prototype.addSubcategory=function(e,t){for(var a in this.subs.push({name:e,tiles:t}),t)e&&(t[a].category=e),this.allTiles.push(t[a])},CategoryTiles.prototype.renderExpanded=function(){for(var e in fs.empty($(".subcategories",this.dom)),this.subs){var t=this.subs[e].tiles,a=this.subs[e].name,o=this.title();if(0==a.indexOf(o+": "))var d=a.slice(o.length+2);else if(0==a.indexOf(o))var d=a.slice(o.length);else var d=a;var n=fs.mixAppend($(".subcategories",this.dom),"ui/TileGrid",{parent:this.parent,title:d,tiles:t,colCount:s(this.dom.width()/32)});this.grids.push(n)}},CategoryTiles.prototype.renderCollapsed=function(){fs.empty($(".subcategories",this.dom));var e=fs.mixAppend($(".subcategories",this.dom),"ui/TileGrid",{parent:this.parent,title:"",tiles:this.allTiles,colCount:s(this.dom.width()/32)});this.grids.push(e)},CategoryTiles.prototype.changeView=function(e){var t=this,a=$("td.sel .tile",this.dom).attr("tileid");t.view(e),"expanded"==e?t.renderExpanded():t.renderCollapsed(),a&&$("[tileid=\""+a+"\"]").trigger("click"),t.flip()},CategoryTiles.prototype.toggleView=function(e){var t=this;return function(){t.changeView(e)}},CategoryTiles.prototype.closeCategory=function(){this.renderExpanded(),this.hasSubcategories(1<this.subs.length)},a.exports=CategoryTiles}),define("ui.CharacterQuote",function(e,t,a){a.exports=function CharacterQuote(e,t){"use strict";_classCallCheck(this,CharacterQuote),this.quoteHeader=t.quoteHeader,this.quoteBody=t.quoteBody,this.theme=t.theme||"blue",this.character=t.character||"https://d16qt3wv6xm098.cloudfront.net/ruVCQDfTSzukkaEbP7D5c-FWT7CIeJLn/_.png",this.position=t.position||"left"}}),define("ui.ClusterConceptCard",function(e,t,a){function ClusterConceptCard(e,t){this.pages=t.pageIndex,this.title=t.name,this.name=t.name.replace(/\s/g,"_"),this.summary=this.pages.Summary[0].data().c,this.isLast=t.isLast,e(this),this.summary&&this.parent.learnBlocksVisible&&this.parent.learnBlocksVisible(!0),this.pages.Table&&this.addTable(),this.addBlock("RefSection","First Aid"),console.log(t)}ClusterConceptCard.prototype.addBlock=function(e,t){var a=this.pages[t];if(console.log(t),!!a){var s=$(".blocks",this.dom);for(var o in a){var d=fs.mixAppend(s,"models/concept/learn/"+e,{parent:this,label:0==o?t:"",block:a[o]});d.dom.addClass("learn-section"),this.parent.learnBlocksVisible&&this.parent.learnBlocksVisible(!0),"First Aid"==t&&(d.dom.attr("id","fa-anchor-point"),this.parent&&this.parent.hasFirstAid&&this.parent.hasFirstAid(!0))}s.append("<div class=\"major-divider\">")}},ClusterConceptCard.prototype.addTable=function(){var e=this.pages.Table;if(e)for(var t in e)fs.mixAppend($(".blocks",this.dom),"ui/ContentTable",{model:nodeIndex[e[t].data().n]})},a.exports=ClusterConceptCard}),define("ui.ClusterMemoryAnchor",function(e,t,a){function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function ClusterMemoryAnchor(e,t){var a=nodeIndex[t.node.data().n].data();this.title=ko.observable("video"==t.type?(t.conceptName?toTitleCase(t.conceptName)+" ":"")+t.label:a.t),"link"==t.type?($(".resource-item",t.dom).attr("data-bind","attr: {href: url}"),$(".resource-item",t.dom).attr("target","_blank")):$(".resource-item",t.dom).attr("data-bind","click: openVideo"),this.thumbnail=ko.observable("https://osmose-it.s3.amazonaws.com/"+a.$),this.name=ko.observable("video"==t.type?"Youtube":d[t.label]||t.label),this.icon=ko.observable("https://osmose-it.s3.amazonaws.com/"+o[t.label]),this.url=ko.observable("link"==t.type?a.u:a.v)}var s=t("ui/mediaViewer"),o={Picmonic:"zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png","Sketchy Medical":"VU-xguGLT6SJHKGxkWyl_QqVTWSY-rgr/_.jpg","Celeb Dx":"uItg_sGtRYi5ouWRrB9n26KXTkWE6xrN/_.png","Patient Experience":"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png","Khan Academy":"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png",Armando:"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png","Patient Story":"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png",Intervention:"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png",Interventions:"I75kWSZdSIaYf_Md6T_JRbCqSCuxbvzK/_.png"},d={"Celeb Dx":"Celebrity Diagnosis"};ClusterMemoryAnchor.prototype.openVideo=function(){s.showVideo(this.url())},a.exports=ClusterMemoryAnchor}),define("ui.CompleteCoverage",function(e,t,a){a.exports=function CompleteCoverage(){this.hasPrime=1===window.user.prime.status}}),define("ui.ConceptBrowser",function(e,t,a){function ConceptBrowser(e,t){this;this.loading=ko.observable(!0),this.canReverse=ko.observable(),this.canAdvance=ko.observable(),this.closeOverlay=t.close,this.history=[],this.historyIdx=-1,this.currentURL=ko.observable(null),this.onPageChange=t.onPageChange,this.isSeries=ko.observable(t.isSeries),this.seriesData=t.seriesData,this.startVideo=t.startVideo,this.stopVideo=t.stopVideo,this.pauseVideo=t.pauseVideo,e(this),window.nightModeAvailable(!0),this.getConcept(t.topic,function(){}),this.tab=t.tab,this.trackData={name:t.topic,ref:t.ref||"none",tab:t.tab||"default",next:t.next||0,originID:t.originID||0};var a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;a&&this.dom.addClass("ios")}t("app/conceptCardLoader");ConceptBrowser.prototype.track=function(){this.trackData&&(this.trackData.next?this.trackData.next=!0:delete this.trackData.next,analytics.track("Open Concept Card",this.trackData),this.trackData=null)},ConceptBrowser.prototype.getConcept=function(e,t){var a=this;fs.post("getConcept",{term:e},function(e){e.tab=a.tab,a.loadConcept(e),t&&t(e)})},ConceptBrowser.prototype.loadConcept=function(e){var t=this;if(t.currentCard&&(t.currentCard.dom.addClass("init").find(".concept-content").addClass("init"),0<=t.historyIdx))for(var a in t.canReverse(!0),t.history)t.history[a].doPauseVideo();t.currentCard=fs.mixAppend(t.dom,"models/learn/LearnCard",{id:e.name,parent:t,stopVideo:t.stopVideo,seriesData:t.seriesData,isSeries:t.isSeries(),focusTab:e.tab,browseMode:!0,pauseVideo:t.pauseVideo}),t.history.push(t.currentCard),t.historyIdx++,t.loading(!1)},ConceptBrowser.prototype.back=function(){var e=this;e.historyIdx--,0==e.historyIdx&&e.canReverse(!1),e.canAdvance(!0),this.switchCard()},ConceptBrowser.prototype.forward=function(){var e=this;e.historyIdx++,e.historyIdx==e.history.length-1&&e.canAdvance(!1),e.canReverse(!0),this.switchCard()},ConceptBrowser.prototype.switchCard=function(){this.currentCard.dom.addClass("init").find(".concept-content").addClass("init"),this.currentCard=this.history[this.historyIdx],this.currentCard.dom.removeClass("init").find(".concept-content").removeClass("init")},ConceptBrowser.prototype.navigate=function(e){this;this.loading(!0),this.history.length=this.historyIdx+1,this.currentURL(e),this.getConcept(e)},ConceptBrowser.prototype.go=function(e){var t=this;t.onPageChange&&t.onPageChange(e),t.nextScrollPos=0,t.navigate(e),t.canReverse(!0),t.history.splice(t.historyIdx+1),t.canAdvance(!1)},ConceptBrowser.prototype.close=function(){window.nightModeAvailable(!1),this.closeOverlay()},ConceptBrowser.prototype.nextSection=function(){this.currentCard.nextSection()},ConceptBrowser.prototype.prevSection=function(){this.currentCard.prevSection()},ConceptBrowser.prototype.nextConcept=function(){},ConceptBrowser.prototype.prevConcept=function(){},a.exports=ConceptBrowser}),define("ui.ConceptCardNav",function(e,t,a){function ConceptCardNav(e,t){this.browser=t.browser}ConceptCardNav.prototype.back=function(){this.browser.canReverse()&&this.browser.back()},ConceptCardNav.prototype.forward=function(){this.browser.canAdvance()&&this.browser.forward()},ConceptCardNav.prototype.close=function(){this.browser.close()},ConceptCardNav.prototype.submitFeedback=function(){dialog("ui/dialogs/FeedbackForm",function(){},{term:this.parent.term})},a.exports=ConceptCardNav}),define("ui.ConceptCardNotes",function(e,t,a){function ConceptCardNotes(e,t){this.title=ko.observable(t.title),this.sections=ko.observableArray(s),e(this)}var s=[{heading:"What are aneurysms?",body:"Abnormal dilations in blood vessel; 1.5x larger than normal vessel diameter (> 3.0 cm in aortic & thoracic).<br /></br />Frequently occur in areas of high blood pressure: aorta, femoral, iliac, popliteal, and cerebral arteries; can occur in veins but uncommon.<br /></br />\u2022 60% of true aortic aneurysms occur in abdominal aorta, 40% in thoracic aorta; most between renal artery branch and aortic bifurcation; due to less collagen in this area of aorta. Two major categories:<br /></br />TRUE ANEURYSMS: all layers of blood vessel wall dilate.<br /></br />FUSIFORM ANEURYSMS: blood vessel walls symmetrically dilate. SACCULAR (BERRY) ANEURYSMS: asymmetrical ballooning of blood vessel walls due to increased blood pressure on one side of...",theme:"red",imageSrc:"https://d16qt3wv6xm098.cloudfront.net/V3f8SaM6TDSamVzOTR-93x3tSCm1N0he/_.png"},{heading:"Pathology and causes",body:"Any disease or injury causing weakness in blood vessel wall; weaker walls unable to contain blood pressure; leads to dilation.<br /></br />ISCHEMIA<br />\u2022 Ischemia of arteries with vasa vasorum: hyaline arteriolosclerosis in vasa vasorum decreases blood to large artery walls; decreases smooth muscle in arterial tunica media.<br /></br />\u2022 Ischemia of arteries without vasa vasorum: plaque from atherosclerosis blocks blood vessel walls from receiving oxygen.<br /></br />INFECTION<br />\u2022 Tertiary syphilis: causes inflammation of tunica intima of vasa vasorum, decreasing blood to arterial wall in thoracic artery (endarteritis obliterans).<br />\u2022 Mycotic aneurysms: secondary infection in intracranial arteries, visceral arteries, or arteries of extremities. Bacteria enters vessel wall and weakens it. Pathogens include: Bacteroides fragilis, Pseudomonas aeruginosa, Salmonella species, Aspergillus, Candida, Mucor. ",theme:"blue"},{heading:"Complications",body:"RUPTURE internal exsanguination; increased intracranial pressure (if in brain). Compression to surrounding structures:<br /></br />\u2022 Superior and inferior vena cava decreases venous return; esophagus increases aspiration risk; bronchi breathing dif culties.<br /></br />\u2022 Aortic insuf ciency: High-pitched brassy like cough from stretched laryngeal nerve.<br />THROMBOSIS / EMBOLI stagnant blood in extra lumen space.",theme:"orange"}];ConceptCardNotes.prototype.checkImage=function(e){return!!e.imageSrc},ConceptCardNotes.prototype.getImageSrc=function(e){return e.imageSrc?e.imageSrc:""},a.exports=ConceptCardNotes}),define("ui.ConceptGrid",function(e,t,a){var s=Math.ceil;function ConceptGrid(e,t){var a=this;e(this),a.render(t.progress)}function getColor(e){return e.attempted==e.available?"#3f007d":0==e.attempted?"#eee":d[s(e.attempted/e.available/.25)]}var o={0:"Obstructive Lung Disease",1:"Restrictive Lung Disease"};ConceptGrid.prototype.render=function(e){var t={top:0,right:0,bottom:0,left:0},a=20,s=20,d=a*15,n=a*s;$(".chart",this.dom).css("width",d+"px").css("height",n+"px");var l=d3.tsv.parse(e,function(e,t){return{attempted:+e.attempted,correct:+e.correct,available:+e.available,row:t%s,col:Math.floor(t/s)}}),c=d3.select($(".chart",this.dom)[0]).append("svg").attr("width",d+t.left+t.right).attr("height",n+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")"),p=c.append("g").attr("class","g3").selectAll(".cellg").data(l,function(e,t){return t}).enter().append("rect").attr("x",function(e){return e.col*a}).attr("y",function(e){return e.row*a}).attr("class",function(e){return"cell cell-border cr"+(e.row-1)+" cc"+(e.col-1)}).attr("width",a).attr("height",a).style("fill",function(e){return getColor(e)}).on("mouseover",function(e,t){d3.select(this).classed("cell-hover",!0),d3.select("#topic-tooltip").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-10+"px").select("#value").html((o[t]||"")+"<br>"+e.available+" facts available<br>"+e.attempted+" facts attempted<br>"+e.correct+" correctly answered<br><b>Click to View</b>"),d3.select("#topic-tooltip").classed("hidden",!1)}).on("mouseout",function(){d3.select(this).classed("cell-hover",!1),d3.select("#topic-tooltip").classed("hidden",!0)}),u=d3.select(".g3").on("mousedown",function(){d3.event.altKey||d3.selectAll(".cell-selected").classed("cell-selected",!1);var e=d3.mouse(this);u.append("rect").attr({rx:0,ry:0,class:"selection",x:e[0],y:e[1],width:1,height:1})}).on("mousemove",function(){var e=u.select("rect.selection");if(!e.empty()){var t=d3.mouse(this),s={x:parseInt(e.attr("x"),10),y:parseInt(e.attr("y"),10),width:parseInt(e.attr("width"),10),height:parseInt(e.attr("height"),10)},o={x:t[0]-s.x,y:t[1]-s.y};1>o.x||2*o.x<s.width?(s.x=t[0],s.width-=o.x):s.width=o.x,1>o.y||2*o.y<s.height?(s.y=t[1],s.height-=o.y):s.height=o.y,e.attr(s),d3.selectAll(".cell-selection.cell-selected").classed("cell-selected",!1),d3.selectAll(".text-selection.text-selected").classed("text-selected",!1),d3.selectAll(".cell").filter(function(e){!d3.select(this).classed("cell-selected")&&this.x.baseVal.value+a>=s.x&&this.x.baseVal.value<=s.x+s.width&&this.y.baseVal.value+a>=s.y&&this.y.baseVal.value<=s.y+s.height&&(d3.select(this).classed("cell-selection",!0).classed("cell-selected",!0),d3.select(".r"+(e.row-1)).classed("text-selection",!0).classed("text-selected",!0),d3.select(".c"+(e.col-1)).classed("text-selection",!0).classed("text-selected",!0))})}}).on("mouseup",function(){u.selectAll("rect.selection").remove(),d3.selectAll(".cell-selection").classed("cell-selection",!1),d3.selectAll(".text-selection").classed("text-selection",!1)}).on("mouseout",function(){d3.event.relatedTarget&&"html"==d3.event.relatedTarget.tagName&&(u.selectAll("rect.selection").remove(),d3.selectAll(".cell-selection").classed("cell-selection",!1))})};var d=["#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"];a.exports=ConceptGrid}),define("ui.ConceptMap",function(e,t,a){var s=Math.floor,o=Math.round;function getColor(e,t){if(!t)return{light:"rgba(0,0,0,0.1)",dark:"rgba(0,0,0,0.1)"};if(.9<e/t)var a=0;else if(.8<e/t)var a=1;else if(.7<e/t)var a=2;else if(.5<e/t)var a=3;else if(.4<e/t)var a=4;else var a=5;return{light:l[a],dark:c[a]}}function getFocus(e,t,a,s){var o=[100,300,500,700][s],d=.7<e?100:300;if(0==t)var d=200;return{x:o,y:d,dx:0,dy:0}}var d=t("ui/scoreboardLegend"),n=d.times,l=["hsl(94, 28%, 50%)","hsl(94, 28%, 30%)","hsl(94, 28%, 40%)","hsl(11, 69%, 40%)","hsl(11, 69%, 30%)","hsl(11, 69%, 50%)"],c=["hsl(94, 28%, 50%)","hsl(94, 28%, 30%)","hsl(94, 28%, 40%)","hsl(11, 69%, 40%)","hsl(11, 69%, 30%)","hsl(11, 69%, 50%)"];a.exports=function ConceptMap(){d3.csv("/fuel.csv",function(e){var t=o(100*Math.random()),a=o(Math.random()*t);return .3>Math.random()&&(a=0),e.attempted=+a,e.correct=o(.5*a+.5*Math.random()*a),e.available=t,e.category=s(4*Math.random()),e},function(e,t){function draw(e){var t=c(e,[800,800]);b.on("tick",tick(t,e)),labels(t),b.start()}function tick(e){for(var a={},s=0;s<e.length;s++)a[e[s].name]=e[s];return function(a){for(var e=0;e<t.length;e++){var s=t[e],o=getFocus(s.correct/s.attempted,s.attempted/s.available,s.available,s.category);s.y+=(o.y+o.dy/2-s.y)*a.alpha,s.x+=(o.x+o.dx/2-s.x)*a.alpha}p.each(collide(.11)).attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}}function labels(e){var e=[{x:100,name:"Anatomy"},{x:300,name:"Physiology"},{x:500,name:"Pathology"},{x:700,name:"Pharm"}];d.selectAll(".label").remove(),d.selectAll(".label").data(e).enter().append("text").attr("class","label").text(function(e){return e.name}).attr("transform",function(e){return"translate("+e.x+", "+20+")"})}function removePopovers(){$(".popover").each(function(){$(this).remove()})}function showPopover(e){$(this).popover({placement:"auto top",container:"body",trigger:"manual",html:!0,content:function content(){return"Make: "+e.make+"<br/>Model: "+e.model+"<br/>Trans: "+e.trans+"<br/>MPG: "+e.comb}}),$(this).popover("show")}function collide(e){var a=d3.geom.quadtree(t);return function(t){var s=t.radius+l+2,o=t.x-s,d=t.x+s,n=t.y-s,c=t.y+s;a.visit(function(a,s,p,u,m){if(a.point&&a.point!==t){var v=t.x-a.point.x,b=t.y-a.point.y,h=Math.sqrt(v*v+b*b),g=t.radius+a.point.radius+2;h<g&&(h=(h-g)/h*e,t.x-=v*=h,t.y-=b*=h,a.point.x+=v,a.point.y+=b)}return s>d||u<o||p>c||m<n})}}for(var a=800,s=800,o=d3.scale.ordinal().range(["#827d92","#827354","#523536","#72856a","#2a3285","#383435"]),d=d3.select("#chart").append("svg").attr("width",a).attr("height",s),n=0;n<t.length;n++)t[n].radius=+t[n].available/4,t[n].x=Math.random()*a,t[n].y=Math.random()*s;var l=d3.max(_.pluck(t,"radius")),c=function getCenters(e,a){var s,o;return s=_.uniq(_.pluck(t,e)).map(function(e){return{name:e,value:1}}),o=d3.layout.treemap().size(a).ratio(1),o.nodes({children:s}),console.log(s),s},p=d.selectAll("g.node").data(t),u=p.enter().append("svg:g").attr("class","node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),m=d3.layout.pie().value(function(e){return e.value}),v=u.selectAll("g.slice").data(function(){return m([{value:100},{value:0}])}).enter().append("svg:g").attr("class","slice");v.append("svg:path").attr("fill",function(e,t,a){var s=v[a].parentNode.__data__,o=[getColor(s.correct,s.attempted).dark,"rgba(0,0,0,0.1)"];return o[t]}).attr("d",function(e,t,a){var s=d3.svg.arc().innerRadius(.9*v[a].parentNode.__data__.radius).outerRadius(v[a].parentNode.__data__.radius);return s(e)}),u.append("circle").attr("class","node").attr("r",function(e){return .9*e.radius*e.attempted/e.available}).style("fill",function(e){return getColor(e.correct,e.attempted).light}).style("stroke",function(e){return getColor(e.correct,e.attempted).light}).on("mouseover",function(e){showPopover.call(this,e)}).on("mouseout",function(){removePopovers()});var b=d3.layout.force();draw("make"),$(".btn").click(function(){draw(this.id)})})}}),define("ui.ConceptMapRow",function(e,t,a){function ConceptMapRow(e,t){var a=this;this.title=t.title,this.isFirst=t.isFirst,this.section=t.section,this.collapseEvent=t.collapseEvent,this.sectionFiltersActive=t.sectionFiltersActive,this.resourceFiltersActive=t.resourceFiltersActive,this.isVisible=ko.computed(function(){return a.section.filterOn()||!a.sectionFiltersActive()}),this.filters=t.filters||{osmosis:ko.observable(!1),sketchy:ko.observable(!1),picmonic:ko.observable(!1)},this.onFilterChangeCB=t.onFilterChangeCB||function(){},this.visibleLinks=ko.observable(0),this.visibleLinks.subscribe(this.onFilterChangeCB),this.visible=ko.observable(!1),setTimeout(function(){a.init()},100),setTimeout(function(){a.visible(!0)},200),this.contains=t.group.contains,this.conceptCount=o.collapse(t.group.contains).length,this.iconIndex=t.iconIndex,this.globalCategory=s.currentCategory,this.globalSubcategory=s.currentSubcategory,this.mergedCatTitle=ko.computed(function(){return a.globalSubcategory()?a.globalCategory()+": "+a.globalSubcategory():a.globalCategory()}),this.theme=-1<this.title.indexOf("Pathology")?"path":-1<this.title.indexOf("Pharmacology")?"pharm":-1<this.title.indexOf("Physiology")?"phys":"phys";var d=this.title.toLowerCase().split(":",1)[0].split(" ").join("-");d&&(this.theme+=" "+d),e(this),t.title==this.mergedCatTitle()&&this.init()}var s=t("app/conceptNavGlobals"),o=t("shared/navTreeOp");ConceptMapRow.prototype.init=function(){if(!this.initialized){var e=this.title.split(": ");this.isFirst&&fs.mixAppend($(".subject-progress",this.dom),"ui/resourceMap/ProgressBar",{section:this.section,collapseEvent:this.collapseEvent}),fs.mixAppend($(".nav-map",this.dom),"ui/resourceMap/ResourceTopic",{theme:this.theme,topics:this.contains,isFirst:this.isFirst,section:this.section,filters:this.filters,collapseEvent:this.collapseEvent,title:e[1]?e[1]:e[0],resourceFiltersActive:this.resourceFiltersActive}),this.initialized=!0}},ConceptMapRow.prototype.getOnFilterChangeCB=function(){var e=this;return function(t){e.visibleLinks(t)}},ConceptMapRow.prototype.hover=function(){this.init()},ConceptMapRow.prototype.toggle=function(){var e=this;this.init(),e.visible(!e.visible())},a.exports=ConceptMapRow}),define("ui.ConceptSearch",function(e,t,a){function ConceptSearch(e){e(this),o($(".concept-search input",this.dom),"/topicSearch",function(e){showTerm(e)})}function showTerm(e){return e?void s.show(e,{ref:"search-bar"}):$(".concept-search input",this.dom).focus()}var s=t("ui/concept"),o=t("ui/conceptSearchBox");ConceptSearch.prototype.search=function(){var e=this;$("body").hasClass("phone")||$("body").hasClass("phone-lg")?0<$("input",this.dom).val().length?(showTerm($(".concept-search input",this.dom).val()),$("input",this.dom).val("").blur()):($(this.dom).addClass("expanded"),$(".placeholder",this.dom).show(),this.inputFocus(),$("input",this.dom).on("focusout",function(){$(e.dom).removeClass("expanded"),$("input",e.dom).val(""),$(".placeholder",e.dom).hide()})):(showTerm($(".concept-search input",this.dom).val()),$("input",this.dom).blur())},ConceptSearch.prototype.setPlaceholder=function(t,a){return 0<$(a.currentTarget).val().length?$(".placeholder",t.dom).hide():$(".placeholder",t.dom).show(),!0},ConceptSearch.prototype.inputFocus=function(){$(".concept-search input").focus()},ConceptSearch.prototype.highlight=function(){0<$(".concept-search input").val().length&&$(".concept-search input").select()},ConceptSearch.prototype.setInputWidth=function(t,a){return 13==a.charCode&&t.search(),!0},a.exports=ConceptSearch}),define("ui.ConceptSeriesBrowser",function(e,t,a){function ConceptSeriesBrowser(e,t){var a=this,s=this;this.args=t,this.ref=t.ref,this.isFirst=!0,this.terms=t.terms,this.concepts=ko.observableArray(),this.currentConcept=ko.observable(t.currentConcept),this.conceptCount=ko.observable(),this.seriesTitle=t.title,this.seriesTitleAbbr=this.seriesTitle&&40<this.seriesTitle.length?this.seriesTitle.slice(0,37)+"...":this.seriesTitle,this.conceptIdx=ko.observable(t.conceptIdx||0),this.tab=t.tab,this.currentConceptCount=ko.computed(function(){return+s.conceptIdx()+1}),this.prevConceptName=ko.computed(function(){var e=s.getPrevConcept();return e?e.name:null}),this.nextConceptName=ko.computed(function(){var e=s.getNextConcept();return e?e.name:null}),e(this);var o=[];if(t.concepts){for(var d in t.concepts){var n=t.concepts[d];o.push({name:n.name.replace(/\s/g,"&nbsp;"),concept:n.name,card:!1,hits:n.hits,id:d,progress:n.progress})}this.concepts(o),this.conceptCount(this.concepts().length),this.navToConcept(this.concepts()[this.conceptIdx()],1)}else{var l=this.terms.find(function(e){return e.text===a.currentConcept()}),c;l?(l=l.term,c=this.terms.map(function(e){return e.term})):(l=this.terms[0].name,c=this.terms.map(function(e){return e.name})),fs.post("getConceptsForTerms",{terms:c},function(e){var t=_.uniq(e.concepts),s=[];t.forEach(function(e,t){return s.push({concept:e,id:t})}),a.concepts(s);var o=a.concepts().map(function(e){return e.concept}).indexOf(l);-1===o&&(o=a.conceptIdx()),a.conceptIdx(o),a.conceptCount(a.concepts().length),a.navToConcept(a.concepts()[a.conceptIdx()],1)})}}ConceptSeriesBrowser.prototype.initGetConcept=function(e){var t=fs.mixAppend($(".concept-cards",this.dom),"ui/ConceptBrowser",{topic:e.concept,seriesData:null==e.hits?null:e,close:this.args.close,ref:this.ref+"-series",tab:this.tab,next:this.isFirst?0:1,isSeries:!0,pauseVideo:!0});return this.isFirst=!1,t.dom.addClass("init-card"),t},ConceptSeriesBrowser.prototype.navToConcept=function(e,t){this;for(var a in $(".concept-cards > div",this.dom).addClass("init-card"),this.concepts())this.concepts()[a]&&this.concepts()[a].card&&this.concepts()[a].card.currentCard&&this.concepts()[a].card.currentCard.doPauseVideo();if(e.card?(this.currentCard=this.concepts()[this.conceptIdx()].card,this.currentCard.dom.removeClass("init-card")):(this.currentCard=this.initGetConcept(e),this.currentCard.dom.removeClass("init-card"),this.concepts()[this.conceptIdx()].card=this.currentCard),this.currentConcept(e),0<t){var s=this.getNextConcept();if(!s.card){var o=this.initGetConcept(s);this.concepts()[s.id].card=o}1<this.conceptIdx()&&this.concepts()[this.conceptIdx()-2].card&&(fs.unmix(this.concepts()[this.conceptIdx()-2].card),this.concepts()[this.conceptIdx()-2].card=null)}else{var d=this.getPrevConcept();if(!d.card){var n=this.initGetConcept(d);this.concepts()[d.id].card=n}this.conceptIdx()<this.concepts().length-2&&this.concepts()[this.conceptIdx()+2].card&&(fs.unmix(this.concepts()[this.conceptIdx()+2].card),this.concepts()[this.conceptIdx()+2].card=null)}},ConceptSeriesBrowser.prototype.skipToConcept=function(e){var t=this;return function(){t.conceptIdx(e.id),t.navToConcept(e,1),eventTracker.track("quiz_concept_select",{},["intercom"],21600)}},ConceptSeriesBrowser.prototype.showNextConcept=function(){+this.conceptIdx()+1==this.concepts().length?(this.conceptIdx(0),this.navToConcept(this.concepts()[this.conceptIdx()],1),$.jGrowl("You've completed reviewing the quiz terms.",{life:7500,position:"bottom-left"})):(this.conceptIdx(+this.conceptIdx()+1),this.navToConcept(this.concepts()[this.conceptIdx()],1))},ConceptSeriesBrowser.prototype.showPrevConcept=function(){0==this.conceptIdx()?(this.conceptIdx(this.concepts().length-1),this.navToConcept(this.concepts()[this.conceptIdx()],-1)):(this.conceptIdx(+this.conceptIdx()-1),this.navToConcept(this.concepts()[this.conceptIdx()],-1))},ConceptSeriesBrowser.prototype.getNextConcept=function(){return+this.conceptIdx()+1==this.concepts().length?this.concepts()[0]:this.concepts()[+this.conceptIdx()+1]},ConceptSeriesBrowser.prototype.getPrevConcept=function(){return 0==+this.conceptIdx()?this.concepts()[this.concepts().length-1]:this.concepts()[+this.conceptIdx()-1]},ConceptSeriesBrowser.prototype.getPrevConcept=function(){return 0==this.conceptIdx()?this.concepts()[this.concepts().length-1]:this.concepts()[+this.conceptIdx()-1]},ConceptSeriesBrowser.prototype.nextSection=function(){this.currentCard.nextSection()},ConceptSeriesBrowser.prototype.prevSection=function(){this.currentCard.prevSection()},ConceptSeriesBrowser.prototype.nextConcept=function(){this.showNextConcept()},ConceptSeriesBrowser.prototype.prevConcept=function(){this.showPrevConcept()},a.exports=ConceptSeriesBrowser}),define("ui.ConceptSummaryPlaceholder",function(e,t,a){a.exports=function ConceptSummaryPlaceholder(e,t){this.title=t.title,this.summary=t.summary,this.redirect=t.redirect,e(this),t.redirect&&$(".redirect li",this.dom).each(function(e,t){var a=$(t).text().replace(/\s/g,"_");$(t).html("<a href=\"/home/learn?id="+a+"\">"+$(t).text()+"</a>")})}}),define("ui.ConceptsTable",function(e,t,a){function ConceptsTable(e,t){s.call(this,e,t)}var s=t("ui/DataTable");fs.extend(ConceptsTable,s),ConceptsTable.prototype.removeConcept=function(e){this;return function(){fs.confirm("Are you sure you want to remove this topic from the concept grid?",function(t){fs.post("editorRemoveConcept",{term:e.concept},function(){e.visible(!1),t()})})}},a.exports=ConceptsTable}),define("ui.ContentTable",function(e,t,a){function ContentTable(e,t){this.table=t.table||t.model.data(),e(this),this.render()}var s=t("models/content");ContentTable.prototype.render=function(){this.dom.empty(),this.renderTable([this.table.heading],{cellElement:"th"});var e=this.table.tables;for(var t in e)e[t].title&&this.dom.append("<div class=\"section-title\">"+e[t].title+"</div>"),this.renderTable(e[t].table);this.table.notes&&this.dom.append("<div class=\"footnotes\">"+this.table.notes+"</div>")},ContentTable.prototype.renderTable=function(e,t){this;t=t||{},t.cellElement=t.cellElement||"td";var a=$("<table>").appendTo(this.dom);for(var o in e){var d=e[o],n=$("<tr>").appendTo(a);for(var l in d){var c=d[l],p=0==l?"first-cell":"body-cell",u=$("<"+t.cellElement+" class=\""+p+"\" rc=\""+(o+"."+l)+"\" style=\"width: "+Math.round(100*(1/d.length))+"%\">").appendTo(n);s(u,c)}}},a.exports=ContentTable}),define("ui.ControlBarSpacedRep",function(e,t,a){function ControlBarSpacedRep(e){function update(){t.update()}var t=this;this.repMode=ko.observable("unlimited"),this.source={osmosis:ko.observable(!0),school:ko.observable(!0)},this.coverage=ko.observable(),this.repSliderValue=ko.observable([1,3]);var a=["1d","1w","2w","1m","2m","> 2m"],s=[];for(var o in a)s.push({displayTime:o<a.length-1?a[o]+" ago":a[o],count:ko.observable(0),active:ko.observable(!1)});this.repTimeGroups=ko.observableArray(s),this.repMaxCount=ko.observable(0),e(this);var d=[];for(var o in this.repTimeGroups())d.push[o];this.spacedRepSlider=$("input.slider",this.dom).bootstrapSlider({min:1,max:this.repTimeGroups().length,step:1,value:this.repSliderValue(),tooltip:"hide",orientation:"vertical"}),this.updateRepGraph(this.repSliderValue()),this.spacedRepSlider.on("slide",function(e){console.log(e.value),t.repSliderValue()!=e.value&&(t.repSliderValue(e.value),t.updateRepGraph(e.value)),t.track()}),this.coverage.subscribe(update),this.source.school.subscribe(update),this.source.osmosis.subscribe(update),this.repSliderValue.subscribe(function updateUI(){t.updateUI()});var n=!1;this.track=function(){n||(analytics.track("Queue Interaction",{feature:"rep-quiz-time-filter"}),n=!0)}}var s=t("app/dbProgress"),o=t("app/queues"),d=t("app/recManager");ControlBarSpacedRep.prototype.update=function(){var e=this;fs.post("spacedRepetition",{repMode:e.repMode(),sourceOsmosis:e.source.osmosis(),sourceSchool:e.source.school(),coverage:e.coverage()},function(t){for(var a in e.setSliderHeight(),e.quiz=t.quiz,t.completedToday)s.todayIndex[t.completedToday[a]]=!0;var d={};for(var a in e.quiz.ids)s.todayIndex[e.quiz.ids[a]]||(d[e.quiz.ids[a]]=!0);for(var a in o.index.rep=d,e.timeBins=[0,0,0,0,0,0],e.quiz.ids)s.todayIndex[e.quiz.ids[a]]||e.timeBins[e.quiz.age[a]-1]++;e.noUIUpdate=!0;var n=1;for(var a in e.timeBins)e.timeBins[a]&&(n=+a+1);$("input.slider",e.dom).bootstrapSlider("setValue",[1,n]),e.repSliderValue([1,n]),e.updateRepGraph([1,n]),e.noUIUpdate=!1,e.updateUI()})},ControlBarSpacedRep.prototype.updateUI=function(){if(!self.noUIUpdate){var e=this.timeBins,t=0,a=this.repTimeGroups();for(var s in e)a[s].count(e[s]),a[s].active()&&(t+=e[s]);this.repMaxCount(_.max(e)),this.parent.repTotal(t)}},ControlBarSpacedRep.prototype.updateRepGraph=function(e){var t=this,a=e[0]-1,s=e[1];for(var o in this.repTimeGroups())this.repTimeGroups()[o].active(o>=a&&o<s)},ControlBarSpacedRep.prototype.setSliderHeight=function(){var e=$(".time-graph",this.dom).height();$(".time-slider",this.dom).height(e-20)},ControlBarSpacedRep.prototype.toggleSourceActive=function(e){var t=this;return function(){var a=t.source[e];a(!a())}},ControlBarSpacedRep.prototype.getItems=function(){var e=[],t={},a=this.repTimeGroups();for(var o in a)a[o].active()&&(t[+o+1]=!0);for(var o in this.quiz.age)t[this.quiz.age[o]]&&!s.todayIndex[this.quiz.ids[o]]&&e.push({id:this.quiz.ids[o],age:this.quiz.age[o]});return e},ControlBarSpacedRep.prototype.loadQuiz=function(e){var t=this.getItems(),a=_.map(t,function(e){return e.id});fs.post("mobileGetQuesNodes",{ids:a},function(s){for(var o in d.loadNodes(s),t){var n=nodeIndex[t[o].id];n&&(n.age=t[o].age?t[o].age:0,n.quizOrder=1e6*n.age+1e3*Math.random())}a=_.filter(a,function(e){return nodeIndex[e]}),a.sort(function(e,t){return nodeIndex[e].quizOrder-nodeIndex[t].quizOrder}),e(a)})},a.exports=ControlBarSpacedRep}),define("ui.CookieNotice",function(e,t,a){function CookieNotice(e,t){var a=this;this.sidebarExists=t.sidebarExists||0<$("#main-control-bar").length,this.noticeShouldBeShown=t.showNotice||window.localStorage&&"true"!==window.localStorage.acceptedCookieNotice,this.showNotice=ko.observable(this.noticeShouldBeShown&&t.showImmediately||!1),e(this),!t.showImmediately&&this.noticeShouldBeShown&&setTimeout(function(){a.showNotice(!0)},1e4)}CookieNotice.prototype.closeNotice=function(){this.showNotice(!1),window.localStorage&&window.localStorage.setItem("acceptedCookieNotice",!0)},a.exports=CookieNotice}),define("ui.CourseDocThumbnail",function(e,t,a){function CourseDocThumbnail(e,t){this.event=t.parent.parent.event,this.has={fc:ko.observable(),ques:ko.observable()},this.hasConcepts=t.hasConcepts,this.isFirst=t.isFirst,this.isLast=t.isLast,this.categories=t.categories,this.categoryTotals=t.categoryTotals,o.call(this,e,t)}var s=t("core/util"),o=t("models/CourseDocView"),d=t("app/timezone"),n=t("ui/miniQuizSet"),l=t("ui/wikiViewerSeries");fs.extend(CourseDocThumbnail,o),CourseDocThumbnail.prototype.goToURL=function(){window.location=this.focusURL(),console.log("thumbnail")},CourseDocThumbnail.prototype.resetCounts=function(){this.has.fc(0),this.has.ques(0),fs.empty($(".fc-quizzes",this.dom)),fs.empty($(".ques-quizzes",this.dom))},CourseDocThumbnail.prototype.createQuizzes=function(e){this.resetCounts(),n.createQuizzes(this.dom,"ui/mobile/SelectorDocQuiz",e,this.has)},CourseDocThumbnail.prototype.showQuizzes=function(){var e=this,t=this.parent.parent.event;dialog("ui/dialogs/QuizByCalendar",function(){},{docNodeID:this.node.nodeID,eventID:t.eventID,thumb:this.node.data().$,beginTS:+t.begin()/1e3})},CourseDocThumbnail.prototype.checkStatus=function(){location.replace(window.urlPrefix+"/coursework")},CourseDocThumbnail.prototype.markEvent=function(){this.parent.parent.parent.parent.markEvent()},CourseDocThumbnail.prototype.osmoseThis=function(){tabToURL(window.rewriteTabURL("*/analysis")),$(document).trigger("group/coursework:library",[{docNode:this.node,event:this.parent.parent.event}])},a.exports=CourseDocThumbnail}),define("ui.CreateAccount",function(e,t,a){function CreateAccount(e,t){var a=this,s=this;this.mode=ko.observable("profile");var o=window.auth&&window.auth.credentials?window.auth.credentials:{},d=o.name?o.name:{};this.givenName=ko.observable(d.givenName||""),this.familyName=ko.observable(d.familyName||""),this.gender=ko.observable(o.gender||0),this.mobileStatus=ko.observable(""),this.needsEmail=ko.observable((t.isTraditional||"fb"==o.type)&&!(window.auth&&window.auth.verifiedEmail)),this.isTraditional=ko.observable(t.isTraditional),this.password=ko.observable(""),this.passwordStrength=ko.computed(this.checkPasswordStrength,this),this.email=ko.observable(""),this.code=ko.observable(""),this.mobileEmailHints=ko.observable(),this.verificationCodeHints=ko.observable(),this.showTitle=t.showTitle||!1,this.agreePrivAndTC=ko.observable(!1),this.showInvalidHints=ko.observable(!1),this.submitLoading=ko.observable(!1),this.errorMessage=ko.observable("Oops! Please fill out the required fields."),this.signupEnabled=ko.observable(!0),this.verifyEnabled=ko.observable(!0),this.verifyValid=ko.observable(!0),this.verifyClear=ko.computed(function(){0===a.code().length&&a.verifyValid(!0)}),this.validInputs={givenName:ko.computed(function(){return 0<s.givenName().length}),familyName:ko.computed(function(){return 0<s.familyName().length}),mobileStatus:ko.computed(function(){return"yes"===s.mobileStatus().toLowerCase()||"no"===s.mobileStatus().toLowerCase()}),password:ko.computed(function(){return!s.isTraditional()||0<s.password().replace(/\s/g,"").length}),email:ko.computed(function(){return window.auth&&window.auth.credentials&&"google"==window.auth.credentials.type||/\S+@\S+\.\S+/.test(s.email())}),code:ko.computed(function(){return s.verifyValid()}),agreePrivAndTC:ko.computed(function(){return s.agreePrivAndTC()})},this.invalidStrength=ko.computed(function(){return!a.validStrength(a.password())}),this.passwordError=ko.observable(!1),this.allInputsValid=ko.computed(function(){for(var e in s.validInputs)if(!s.validInputs[e]())return!1;return!0}),this.redirect=t.redirect?t.redirect:null,e(this)}var s=t("app/checkVerification"),o=t("app/fbTrackingPixel");CreateAccount.prototype.checkPasswordStrength=function(){var e=0;return(this.password().match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(e+=1),this.password().match(/([a-zA-Z])/)&&this.password().match(/([0-9])/)&&(e+=1),this.password().match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(e+=1),7<this.password().length&&(e+=1),2>e)?"very-weak":2==e?"weak":3==e?"okay":4<=e?"strong":void 0},CreateAccount.prototype.validStrength=function(e){var t=this.checkPasswordStrength(e);return"okay"===t||"strong"===t},CreateAccount.prototype.formatRedirect=function(e){return"/buy"===e?e:this.redirect?(window.localStorage.removeItem("videosWatched"),this.redirect):e&&"/start"!=e?"/start?r="+encodeURIComponent(e.slice(1)):"/start"},CreateAccount.prototype.submitRegistration=function(e){function done(){t.submitLoading(!1),t.signupEnabled(!0),e()}var t=this;if(analytics.track("Sign up",{action:"click"}),this.mobileEmailHints(!1),this.submitLoading(!0),this.signupEnabled(!1),"function"!=typeof e&&(e=function doneCallback(){}),t.invalidStrength())return this.passwordError(!0),this.errorMessage("Your password must be at least of \"okay\" strength."),this.showInvalidHints(!0),void done();if(this.passwordError(!1),this.showInvalidHints(!1),!this.allInputsValid())return t.showInvalidHints(!0),void(this.validInputs.givenName()?this.validInputs.familyName()?this.validInputs.password()?this.validInputs.mobileStatus()?this.email()&&this.validInputs.email()?!this.validInputs.agreePrivAndTC()&&done():done():done():done():done():done());if(window.Storage&&window.localStorage.setItem("mixpanel:newAccountHit",!0),"yes"==this.mobileStatus()||this.needsEmail()&&"Choose one"!=this.mobileStatus()){var a=this.serialize();if(!a)return done();a.action="yes"==this.mobileStatus()?"send-verification-mobile":"send-verification-web",a.uuid=window.localStorage.getItem("keen:trackingID"),a.has_mobile_acc="yes"==this.mobileStatus(),fs.post("registerNewUser",a,function(e){e.registered?window.location.replace(t.formatRedirect(e.redirect)):e.noMobile?t.mobileEmailHints(!0):t.mode("verify"),done()},function(e){fs.alert(e.error.msg),(e.error.msg="Your password must be at least of \"okay\" strength")&&t.passwordError(!0),done()})}else{var a=this.serialize();if(!a)return done();a.action="register",a.uuid=window.localStorage.getItem("keen:trackingID"),a.has_mobile_acc="yes"==this.mobileStatus(),fs.post("registerNewUser",a,function(e){window.location.replace(t.formatRedirect(e.redirect))},function(e){fs.alert(e.error.msg),done()})}},CreateAccount.prototype.verifyEmail=function(e){function done(){t.submitLoading(!1),t.verifyEnabled(!0),e()}var t=this;if(analytics.track("Verify email",{action:"click",source:"enter code"}),"function"!=typeof e&&(e=function doneCallback(){}),this.submitLoading(!0),this.verifyEnabled(!1),this.hasVerified)return void window.location.replace("/");var a=this.serialize();if(!a)return done();var s=/^\d+$/;return this.code()?s.test(this.code())?void(a.code=this.code().trim(),a.action="yes"===this.mobileStatus()?"verify-mobile":"verify-web",a.uuid=window.localStorage.getItem("keen:trackingID"),a.has_mobile_acc="yes"==this.mobileStatus(),fs.post("registerNewUser",a,function(e){window.location.replace(t.formatRedirect(e.redirect))},function(e){t.errorMessage(e.error.msg),t.showInvalidHints(!0),t.verifyValid(!1),analytics.track("Incorrect verification code (back end)",{action:"click"}),done()})):(this.errorMessage("Invalid verification code. If you think your code is correct, please contact support@osmosis.org."),this.showInvalidHints(!0),this.verifyValid(!1),analytics.track("Incorrect verification code (front end)",{action:"click"}),done()):(this.errorMessage("Please check your email and enter the verification code below. If you haven't received this code, email support@osmosis.org."),done())},CreateAccount.prototype.changeEmail=function(){this.mode("profile"),this.code("")},CreateAccount.prototype.serialize=function(){if(!this.validInputs.givenName()||!this.validInputs.familyName())return fs.alert("All fields are required"),null;var e={givenName:this.givenName(),familyName:this.familyName(),gender:this.gender(),email:this.email(),tz:-4*new Date().getTimezoneOffset()/60,agreePrivAndTC:this.agreePrivAndTC()};return this.password()&&this.validInputs.password()&&(e.password=md5(trim(this.password()))),e},CreateAccount.prototype.chatClicked=function(){window.Intercom&&window.Intercom("showNewMessage")},CreateAccount.prototype.noVerificationCodeClicked=function(){analytics.track("Resend Code",{action:"click"})},a.exports=CreateAccount}),define("ui.CreateAccountInfoPanel",function(e,t,a){a.exports=function CreateAccountInfoPanel(e,t){this.creatingAccount=!("undefined"!=typeof t.creatingAccount)||t.creatingAccount}}),define("ui.CreateDedicatedStudyPlan",function(e,t,a){function CreateDedicatedStudyPlan(e,t){var a=this;this.showIntro=ko.observable(!0),this.currentSchedule=t.schedule||d.getCurrentSchedule(),e(this),this.builder=fs.mix(this,"ui/scheduleWizard/StudyPlanBuilder",{params:{basics:{isDedicated:!0,startDate:this.currentSchedule.startDate,examDate:this.currentSchedule.endDate}},startAt:{basics:"step1Date"},onCreate:function onCreate(e){var t=e.schedules[0];t.resources=e.resources,fs.post("createDedicatedStudySchedule",{scheduleID:a.currentSchedule.scheduleID,plan:t},function(){location.reload()})}})}var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.schedules;CreateDedicatedStudyPlan.prototype.startBuild=function(){this.showIntro(!1),this.builder.next()},a.exports=CreateDedicatedStudyPlan}),define("ui.CreateModuleDialog",function(e,t,a){a.exports=function CreateModuleDialog(){this.name=ko.observable(),this.begin=ko.observable(),this.majorTopic=ko.observable(),this.topics=ko.observable(),this.descr=ko.observable()}}),define("ui.CreateStep1ClassicStudyPlan",function(e,t,a){function giveScheduleFeedback(e,t,a){var s=moment(a.examDate).diff(a.startDate,"days");t("totalLen",s),60<=s?e("longSchedule",s):e("shortSchedule",s)}function CreateStep1StudyPlan(e){var t=this;this.mode=ko.observable("legacy"),this.allowGenerate=ko.observable(!0),e(this),this.summary=fs.mix(this,"ui/StudyScheduleClassicSummary"),o($(".decision-tree",this.dom),n,{onUpdate:function onUpdate(e){t.summary.load(e)},done:function done(e){t.schedule=e,t.confirm()}}),$(document).bind("step1-build",function(){t.mode("configure")})}var s=t("app/tour"),o=t("ui/decisionTree"),d=t("shared/step1"),n={start:{title:"Create your schedule for Step 1",alert:"Osmosis can help you create a day-by-day Step 1 study schedule that includes:<ul><li>The most commonly used resources (UWorld, First Aid, and Pathoma)</li><li>Any extra resources you want to add</li><li>Quick links to Osmosis videos, Picmonic, and Sketchy Medical</li></ul>",next:"step1Date",nextCaption:"Let's get started <i class=\"fa fa-angle-right\"></i>"},step1Date:{prompt:"When do you take Step 1?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("examDate",e),a("eExcluded",0),a("dExcluded",0),t("startToday"),$(document).trigger("step1-build")}),validate:function validate(e){return+moment(e)<+moment()?"Your step 1 date can't be in the past!":+moment(e)<+moment().add(13,"days")?"Your step 1 date needs to be at least 2 weeks from now!":void 0}},startToday:{prompt:"Do you want to start reviewing <b>today</b> or start <b>later</b>?",options:["Start my schedule <b>today</b>","Start tomorrow or at a <b>later date</b>"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){1==e?(a("startDate",moment().format("YYYY-MM-DD")),giveScheduleFeedback(t,a,s)):t("startDate")})},startDate:{prompt:"When do you want to start studying?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("startDate",e),giveScheduleFeedback(t,a,s)}),validate:function validate(e,t){return 0>+moment(t.examDate).diff(e,"days")?"Your start date can't be after your step 1 date!":14>+moment(t.examDate).diff(e,"days")?"Your step 1 date needs to be at least 2 weeks from your start date!":void 0}},longSchedule:{display:function display(e,t){e.alert=e.alert(t)},alert:function alert(e){return"Great, you have <b>"+e+"</b> days between your start date and your exam date! That's plenty of time!"},next:"faVersion"},shortSchedule:{display:function display(e,t){e.alert=e.alert(t)},alert:function alert(e){return"You have <b>"+e+"</b> days between your start date and your exam date. We'll help you set up a full-time prep schedule so you can make the most of your time."},next:"faVersion"},faVersion:{prompt:"What version of First Aid do you plan on using?",options:["2018","2017","2016"],returnType:"value",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("faVersion",e),t("classStatus")})},classStatus:{display:function display(e,t,a){60>=a.totalLen&&(e.options=e.options.slice(0,2))},prompt:"Are you still in classes?",options:["Yes, I still have class exams to study for","No, I'm studying for Step 1 <b>full-time</b>","No, I'm not in class but I'm studying <b>part-time</b>"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){1==e?t("classesEnd"):3==e?t("dedicatedDate"):(a("dDate",s.startDate),a("eTotalLen",0),a("dTotalLen",moment(s.examDate).diff(s.startDate,"days")),t("take-day"))})},classesEnd:{prompt:"When do <b>classes end</b> (i.e., when will you enter your dedicated Step 1 period)?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("dDate",e),a("dTotalLen",moment(s.examDate).diff(e,"days")),a("eTotalLen",s.totalLen-s.dTotalLen),t("take-day")}),validate:function validate(e,t){return 0>+moment(e).diff(t.startDate,"days")?"Your dedicated start date can't be before your schedule start date.":0>+moment(t.examDate).diff(e,"days")?"Your dedicated start date can't be after your step 1 date.":14>+moment(t.examDate).diff(e,"days")?"Your step 1 date needs to be at least 2 weeks from your dedicated start date!":void 0}},dedicatedDate:{prompt:"When will you start studying for Step 1 full-time (we recommend at least 6 weeks of full-time prep)?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("dDate",e),a("dTotalLen",moment(s.examDate).diff(e,"days")),a("eTotalLen",s.totalLen-s.dTotalLen),t("take-day")}),validate:function validate(e,t){return 0>+moment(e).diff(t.startDate,"days")?"Your dedicated start date can't be before your schedule start date.":0>+moment(t.examDate).diff(e,"days")?"Your dedicated start date can't be after your step 1 date.":14>+moment(t.examDate).diff(e,"days")?"Your step 1 date needs to be at least 2 weeks from your dedicated start date!":void 0}},"take-day":{prompt:"Are there any specific days of the week that you'd like to leave unscheduled (e.g.,&nbsp;for religious purposes)?",value:2,options:["Yes","No (default)"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){1==e?t("take-day-single"):t("take-weekends")})},"take-day-single":{prompt:"Which day or days of the week do you want to leave unscheduled?",options:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],type:"checkbox",returnType:"value",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("excludeDays",{e:e,d:e});var o=[];for(var d in e)o.push(e[d]+"s");s.excludeDayStr=seriesStr(o),s.dDate==s.startDate?t("take-weekends"):t("take-day-when")})},"take-day-when":{display:function display(e,t,a){for(var s in e.prompt=e.prompt(a),e.options)e.options[s]=e.options[s].replace(/\%\%/g,a.excludeDayStr)},prompt:function prompt(e){return"Do you want to take "+e.excludeDayStr+" off during BOTH your "+(e.totalLen-e.dTotalLen)+"-day <b>pre-dedicated</b> and "+e.dTotalLen+"-day <b>dedicated</b> study period?"},options:["Take %% off during BOTH my pre-dedicated and dedicated study periods","Take %% off ONLY during pre-dedicated study period","Take %% off ONLY during dedicated study period"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){2==e?a("excludeDays",{e:s.excludeDays.e,d:[]}):3==e&&a("excludeDays",{e:[],d:s.excludeDays.d}),t("take-weekends")})},"take-weekends":{display:function display(){},prompt:"Do you want to study on weekends as well as weekdays?",options:["Yes, I plan to study on BOTH weekends and weekdays","No, leave weekends unscheduled"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){2==e?(a("weekends",{e:"off",d:"off"}),s.dDate==s.startDate?t("take-vacation"):t("take-weekends-when")):t("take-vacation")})},"take-weekends-when":{display:function display(){},prompt:"Do you want to take weekends off during your <b>pre-dedicated</b> and <b>dedicated</b> study period?",options:["Take weekends off during BOTH my pre-dedicated and dedicated study periods","Take weekends off ONLY during pre-dedicated study period","Take weekends off ONLY during dedicated study period"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){2==e?a("weekends",{e:"off",d:"on"}):3==e&&a("weekends",{e:"on",d:"off"}),t("take-vacation")})},"take-vacation":{prompt:"Are there any specific weeks you'd like to leave unscheduled (e.g., for spring break or vacation)?",options:["Yes","No (default)"],value:2,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){1==e?t("take-vacation-when"):t("uworld-start")})},"take-vacation-when":{custom:"ui/StudyPlanVacations",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("vacations",e),t("uworld-start")})},"uworld-start":{prompt:"Have you started a UWorld subscription?",options:["Yes","No"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){1==e?(t("uworld-how"),a("uwStartDate",moment().format("YYYY-MM-DD"))):t("uworld-when")})},"uworld-when":{prompt:"When do you plan on starting your UWorld subscription?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("uwStartDate",e),t("uworld-how")})},"uworld-how":{prompt:"How many UWorld questions do you have left to complete? <br>(it's OK if you haven't started)",value:"2400",type:"text",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){var o=e;a("uwRemaining",o);var n=d.getExcludeIndex(s),l=d.getAvailableDays(moment(s.uwStartDate),s.examDate,1e6,n).length-4-1;if(500>o)var c=15<l?2:1;else if(1e3>o)var c=25<l?2:1;else var c=40<l?2:1;1==c?(a("uwPassCount",1),t("practice-exams")):t("uworld-passes")})},"uworld-passes":{prompt:"We generally recommend doing UWorld twice b/c your second pass helps solidify concepts. Which would you like to do?",value:1,options:["Do UWorld questions <b>twice</b> (recommended)","Do UWorld questions <b>twice</b>, but only repeat incorrect items","Do UWorld questions <b>once</b>"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){3==e?a("uwPassCount",1):a("uwPassCount",2),2==e&&a("uwPref","inc"),t("practice-exams")})},"practice-exams":{prompt:"Do you have a preference for what days of the week to reserve for full-length practice exams? <br><span class=\"subtext\">We won't schedule things on dates you've already excluded and you can always edit exam dates manually.</span>",options:["I don't have a preference (default)","I'd prefer to take practice exams on weekends","I'd prefer to take practice exams during the week"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("practicePref",{1:"none",2:"weekend",3:"week"}[e]),t()})}};CreateStep1StudyPlan.prototype.confirm=function(){var e=this,t=this.schedule.dTotalLen-this.schedule.dExcluded;return 13>t?fs.alert("You need at least 2 weeks available for a step 1 schedule to be generated. Based on your current selections you have less than 2 weeks. Please try generating a new schedule."):void fs.post("getPossibleStep1ClassicSchedules",{earlyLen:this.schedule.eTotalLen-this.schedule.eExcluded,dedicatedLen:t},function(t){fs.mix(e,"ui/Step1PlanPassOptions",{descr:t.descr}),e.mode("build")})},CreateStep1StudyPlan.prototype.useLegacySchedule=function(){this.mode("start")},CreateStep1StudyPlan.prototype.create=function(){var e=this;this.allowGenerate(!1),fs.post("createStep1ClassicSchedule",{pref:e.schedule},function(){location.reload()})},CreateStep1StudyPlan.prototype.goToNewSchedule=function(){fs.post("setToolState",{id:8,state:1},function(){window.location.replace("/study")})},a.exports=CreateStep1StudyPlan}),define("ui.CreateStudyPlan",function(e,t,a){function CreateStudyPlan(e,t){var a=this;this.mode=ko.observable(),this.reloadLocation=t.reloadLocation,e(this),this.builder=fs.mix(this,"ui/scheduleWizard/StudyPlanBuilder",{onCreate:function onCreate(e){keen.track("create_schedule",{status:1}),o.trackStep(),window.IntercomEvent("trackEvent","create_schedule",{status:"completed"}),analytics.track("Study Schedule",{action:"generate",schedule:"usmle-step1"}),window.studyPlanStartDate&&(e.schedule.startDate=window.studyPlanStartDate),fs.post("createStudySchedule",{plan:e},function(){a.reloadLocation&&location.replace(a.reloadLocation),location.reload()})}}),this.mode(this.builder.mode()),this.builder.mode.subscribe(function(e){a.mode(e)}),this.onIntroPageFinish(),$(this.dom).click(function(t){$(t.target).hasClass("datepicker")||$(".datepicker").datepicker("hide")})}var s=t("app/schedules"),o=s.wizardTracking;CreateStudyPlan.prototype.onIntroPageFinish=function(e){"transfer"!=e&&(slack.channel("activity-studysch","Started study schedule wizard"),keen.track("create_schedule",{status:0}),o.reset(),o.trackStep(),analytics.track("Study Schedule",{action:"wizard-start"}),window.IntercomEvent("trackEvent","create_schedule",{status:"started"}),this.builder.next())},a.exports=CreateStudyPlan}),define("ui.CreateStudyPlanDialog",function(e,t,a){var s=function(){"use strict";function CreateStudyPlanDialog(e,t){_classCallCheck(this,CreateStudyPlanDialog),this.dialogStyle=t.dialogStyle||"",this.reloadLocation=t.reloadLocation,e(this),fs.mixAppend($(".dialog-content",this.dom),"ui/CreateStudyPlan",{inDialog:!0,reloadLocation:this.reloadLocation})}return _createClass(CreateStudyPlanDialog,[{key:"action",value:function action(){}},{key:"cancel",value:function cancel(e){return e(),!1}}]),CreateStudyPlanDialog}();a.exports=s}),define("ui.Creditcard",function(e,t,a){function Creditcard(e,t){var a=this,d=this;this.status=ko.observable("enabled"),this.purchaseError=t.purchaseError,this.name="",this.saveCardInfo=ko.observable(!0),this.cardType=t.cardType,this.referrerCode=window.localStorage?window.localStorage.getItem("referrerCode"):"",this.userCreditCardsAvailable={},this.stripePublishableKey={},"undefined"==typeof userCreditCardsAvailable||"undefined"==typeof stripePublishableKey?fs.get("userCreditCardsAvailable",{},function(e){d.userCreditCardsAvailable=e.userCreditCardsAvailable,d.stripePublishableKey=e.stripePublishableKey}):(d.userCreditCardsAvailable=userCreditCardsAvailable,d.stripePublishableKey=stripePublishableKey),this.stripe=s(d.stripePublishableKey),this.elements=this.stripe.elements();var n={base:{iconColor:"#2079DF",color:"#969696",fontWeight:400,fontFamily:"Nunito, sans-serif",fontSize:"16px","::placeholder":{color:"#dcdcdc"}},invalid:{color:"#D53939"}};this.inputs=[],this.cardNumber=this.elements.create("cardNumber",{style:n}),this.cardCvc=this.elements.create("cardCvc",{style:n}),this.cardExpiry=this.elements.create("cardExpiry",{style:n}),this.inputs.push(this.cardExpiry),this.inputs.push(this.cardCvc),this.inputs.push(this.cardNumber);for(var c=0,p;c<this.inputs.length;c+=1)p=this.inputs[c],p.addEventListener("change",function(e){"cardNumber"===e.elementType&&e.brand&&a.cardType(e.brand),e.complete&&a.validInputs[e.elementType](!0),e.error?a.purchaseError(e.error.message):a.purchaseError("")});this.cardNumber.mount("#card-number"),this.cardExpiry.mount("#card-expire"),this.cardCvc.mount("#card-cvc"),this.status.subscribe(function(e){for(var t=0,s;t<a.inputs.length;t+=1)s=a.inputs[t],s.update({disabled:"enabled"!==e})});var l=fs.transpose(d.userCreditCardsAvailable,o);this.storedCards=ko.observableArray(l),this.saveCardClass="minimal",this.saveCardText="extra"===this.saveCardClass?"If you choose to store your credit card, we don't keep any of the info. Everything is stored by a trusted third-party service called <a href=\"https://www.stripe.com\" target=\"_blank\">Stripe</a>.":"Save card info",this.addingNewCard=ko.observable(!1),this.existingCard=ko.observable(),this.paymentURI=t.paymentURI||"receivePayment",this.hasStoredCards=ko.computed(function(){return 0===a.storedCards().length&&a.addingNewCard(!0),a.storedCards().length}),this.validInputs={cardNumber:ko.observable(!1),cardCvc:ko.observable(!1),cardExpiry:ko.observable(!1)},this.allInputsValid=ko.computed(function(){if(!!a.addingNewCard()){for(var e=Object.keys(a.validInputs),t=0;t<e.length;t+=1)if(!a.validInputs[e[t]]()||""===a.validInputs[e[t]])return!1;}else if(a.hasStoredCards()&&!a.existingCard())return!1;return!0})}var s=t("app/Stripe"),o=t("ui/StoredCard"),d=t("app/test");Creditcard.prototype.submit=function(e,t,a){var s=this;0<e.totalCharge?this.existingCard()?fs.post(this.paymentURI,{name:s.name,purchaseData:e,existingCardData:this.existingCard(),referrerCode:s.referrerCode},function(a){s.status("success"),t&&t(a),mixpanel.people.track_charge(e.totalCharge/100)},function(e){a&&a({message:e.error.msg})}):this.stripe.createToken(this.cardNumber).then(function(o){o.error?a&&a(o.error):fs.post(s.paymentURI,{ccToken:o.token.id,saveInfo:s.saveCardInfo()?1:0,name:s.name,purchaseData:e},function(a){s.status("success"),t&&t(a),mixpanel.people.track_charge(e.totalCharge/100)},function(e){a&&a({message:e.error.msg})})}):fs.post("receivePayment",{ccToken:"activate",saveInfo:0,name:"",purchaseData:e},function(e){s.status("success"),t&&t(e)},function(e){a&&a({message:e.error.msg})})},Creditcard.prototype.addCard=function(){this.existingCard(void 0),this.addingNewCard(!0)},Creditcard.prototype.removeCard=function(e,t){e.removeCard(),t.storedCards.remove(e)},a.exports=Creditcard}),define("ui.CtrlList",function(){}),define("ui.DashboardFAQ",function(e,t,a){a.exports=function DashboardFAQ(){this.selected=ko.observable()}}),define("ui.DashboardNewsfeed",function(e,t,a){function DashboardNewsfeed(e,t){this.showScrollTop=ko.observable(!1),this.studyScheduleType=t.studyScheduleType,e(this),this.load()}function maxTime(e){return 2==e.type()&&12==e.subtype()?+e.created():e.maxCommentTime()}var s=t("app/who"),o=t("app/wikify"),d=t("models/Event");DashboardNewsfeed.prototype.load=function(){window.role=0,this.nodes=window.dashboardNewsfeedNodes,this.nodes.sort(function(e,t){return maxTime(t)-maxTime(e)}),s.update(),this.firstLoad=!0,this.next()},DashboardNewsfeed.prototype.next=function(){for(var e=this,t=0;2>t;t++)this.addBlock();$(".ajax-div",this.dom).remove()},DashboardNewsfeed.prototype.addBlock=function(){var e=this;if(this.nodes.length){var t=this.nodes.splice(0,1)[0];this.container=fs.mixAppend($(".posts",this.dom),"models/feed/PostBlock",{viewModel:"models/feed/QuickViewQuestions",model:t,style:"feature"}),e.firstLoad=!1}},DashboardNewsfeed.prototype.addNotification=function(e){(e.showLikeUs||"fb"==window.urlQuery.show)&&fs.mixAppend($(".posts",this.dom),"models/feed/PostBlock",{viewModel:"ui/FacebookLike"})},DashboardNewsfeed.prototype.scrollFeedTop=function(){$(".page-tab.scrollable").animate({scrollTop:0},750)},a.exports=DashboardNewsfeed}),define("ui.DashboardScheduleCalendar",function(e,t,a){function DashboardScheduleCalendar(e,t){this.years=[],this.currentStart=null,this.currentStop=null,e(this),this.refresh(t.schedule,t.colors,!0)}var s={preclinical:"rgb(100,100,100)",step1:"crimson",step2:"brown",med:"green",surgery:"darkgoldenrod",peds:"darkorange",psych:"darksalmon",obgyn:"darkturquoise",fam:"deepskyblue",rad:"gold",neuro:"indigo",emed:"mediumspringgreen",cardio:"navy",id:"olivedrab",endo:"palevioletred",gi:"purple",renal:"sandybrown",onc:"slateblue"},o={preclinical:"Preclinical Coursework",step1:"Step 1 Studying",step2:"Step 2 Studying",med:"Medicine",surgery:"Surgery",peds:"Pediatrics",psych:"Psychiatry",obgyn:"Ob/Gyn",fam:"Family",rad:"Radiology",neuro:"Neurology",emed:"Emergency Medicine",cardio:"Cardiology",id:"Infectious Disease",endo:"Endocrinology",gi:"GI",renal:"Renal",onc:"Oncology"};DashboardScheduleCalendar.prototype.empty=function(){for(var e in this.years)fs.empty(this.years[e].dom);this.years.length=0,fs.empty($(".colA",this.dom)),fs.empty($(".colB",this.dom))},DashboardScheduleCalendar.prototype.render=function(e){this.empty();for(var t=+e.medSchool.start||2014,a=+e.medSchool.stop||t+4,s=t;s<a;s++)this.addYear(t+"-06-01",s-t+1)},DashboardScheduleCalendar.prototype.refresh=function(e,t,a){function paint(){for(var t in $(".day",s.dom).attr("fill","rgb(238,238,238)"),s.fill(e,"preclinical"),s.fill(e,"step1"),s.fill(e,"step2"),e.rotations)s.fill(e.rotations,t);for(var t in e.electives)s.fill(e.electives,t);for(var t in e.subinternships)s.fill(e.subinternships,t)}var s=this;e.medSchool=e.medSchool||{},e.medSchool.start!=this.currentStart||e.medSchool.stop!=this.currentStop||a?(this.currentStart=e.medSchool.start,this.currentStop=e.medSchool.stop,setTimeout(function(){s.render(e),paint()},500)):paint()},DashboardScheduleCalendar.prototype.fill=function(e,t){if(e&&e[t])for(var a=moment(e[t].start),d=moment(e[t].stop),n=moment(a);0>=(void 0).diff(d);(void 0).add("days",1))$(".block_"+(void 0).format("YYYY_MM_DD"),this.dom).attr("fill",s[t]).attr("data-original-title",o[t]+" - "+(void 0).format("MMM Do"))},DashboardScheduleCalendar.prototype.addYear=function(e,t){var a=moment(e).add(t-1,"year"),s=$(0==this.years.length%2?".colA":".colB",this.dom);s.append("<h3>Year "+t+": "+a.format("YYYY")+"-"+moment(a).add(1,"year").format("YYYY")+"</h3>"),this.years.push(fs.mixAppend(s,"ui/stats/ActivityCalendar",{current:moment(a).add(1,"year").format("YYYY-MM-DD"),data:function data(){return 0}}))},a.exports=DashboardScheduleCalendar}),define("ui.DashboardStatusBar",function(e,t,a){function DashboardStatusBar(e){this;e(this)}var s=t("ui/mediaViewer");DashboardStatusBar.prototype.takeTour=function(){var e=this;s.showVideo("mnGDtPfSx4I",function(){e.startTour()})},a.exports=DashboardStatusBar}),define("ui.DashboardStudyPreferences",function(e,t,a){function DashboardStudyPreferences(e){var t=this;this.editing=ko.observable(),this.preferences=window.userSchedule.pref,this.fcRate=ko.observable(this.preferences.fcRate||25),this.quesRate=ko.observable(this.preferences.quesRate||10),this.typeOrder=ko.observable(this.preferences.typeOrder),this.sourceOrder=ko.observable(this.preferences.sourceOrder),this.longTermTopics=ko.observableArray(),this.typeOrderFormatted=ko.computed(function(){return"before"==t.typeOrder()?"flashcards first":"questions first"}),this.push=new s(this.preferences),e(this),this.typeOrder.subscribe(function(){t.update()}),this.sourceOrder.subscribe(function(){t.update()}),this.fcRate.subscribe(function(){t.update()}),this.quesRate.subscribe(function(){t.update()}),this.push.pushMode.subscribe(function(){t.update()}),this.push.pushOrder.subscribe(function(){t.update()}),this.push.finalEmail.subscribe(function(){t.update()}),this.push.pushEnabled.subscribe(function(){t.push.updatePush()})}var s=t("ui/clinical/Push");DashboardStudyPreferences.prototype.save=function(){return this.preferences={},this.preferences.typeOrder=this.typeOrder(),this.preferences.sourceOrder=this.sourceOrder(),this.preferences.pushMode=this.push.pushMode(),this.preferences.pushOrder=this.push.pushOrder(),this.preferences.email=this.push.finalEmail(),this.preferences.fcRate=this.fcRate(),this.preferences.quesRate=this.quesRate(),this.preferences},DashboardStudyPreferences.prototype.update=function(){var e=this;e.updateCB&&e.updateCB()},DashboardStudyPreferences.prototype.done=function(){this.update(),this.editing(!1)},a.exports=DashboardStudyPreferences}),define("ui.DataTable",function(e,t,a){function DataTable(e,t){var a=t.dom;this.sort=ko.observable(),this.sortBy=ko.observable(),this.rows=ko.observableArray(t.rows).extend({paging:100}),$("thead th",a).each(function(e,t){var a=$(t).text().trim().toLowerCase();$(t).attr("data-bind","click: triggerSort(\""+a+"\")"),$(t).append("<span class=\"fa\" data-bind='visible: sortBy()==\""+a+"\", css: sort()==\"desc\" ? \"fa fa-caret-down\": \"fa fa-caret-up\"'></span>")})}function cmp(e,t,a){return e>t?a:t>e?-a:0}DataTable.prototype.triggerSort=function(e){var t=this;return console.log("test"),function(){t.sortBy(e),"desc"==t.sort()?t.sort("asc"):"asc"==t.sort()?t.sort("desc"):t.sort("asc"),t.rows.sort(function(s,a){return cmp(s[e],a[e],"desc"==t.sort()?-1:1)})}},a.exports=DataTable}),define("ui.DeckRow",function(e,t,a){var s=Math.floor,o=Math.round;function DeckRow(e,t){var a=this;if(this.name=ko.observable(t.name),this.dueCards=ko.observable(t.dueCards),this.newCards=ko.observable(t.newCards),this.totalCards=ko.observable(t.totalCards),this.totalCardsLarge=ko.computed(function(){var e=a.totalCards();return 1e4<=e?s(e/1e3)+"k":e}),this.completed=ko.computed(function(){return a.totalCards()-a.newCards()}),this.correct=ko.observable(t.correctCards),this.incorrect=ko.observable(t.totalCards-t.correctCards-t.newCards),this.percentCorrect=ko.computed(function(){return o(100*(a.correct()/a.totalCards()))}),this.percentIncorrect=ko.computed(function(){return o(100*(a.incorrect()/a.totalCards()))}),this.deckTheme=ko.observable(),this.author=t.author||ko.observable(),this.hasAvatar=ko.observable(!0),this.authors=ko.observableArray(),this.authorAvatars=ko.observableArray(),this.hasSubdecks=ko.observable(t.hasSubdecks),this.subdecksVisible=ko.observable(!1),this.MID=t.MID,this.moduleBegin=t.moduleBegin,this.moduleEnd=t.moduleEnd,this.isDocDeck=t.isDocDeck,this.deckErrors=ko.computed(function(){var e=t.data;return e?void 0===e.cardErrors?e.errors instanceof Array?e.cardsInDeck-e.cardsImported:e.errors:e.cardErrors:0}),this.quizBuilder=new d,this.state=ko.observable(t.state),this.parent=t.parent,this.actionsVisible=ko.computed(function(){if(4!=a.state()&&3!=a.state()&&0!=a.state())return!0}),e(this),(window.mobile.mobile()||window.mobile.tablet()||window.mobile.phone())&&this.dom.addClass("isMobile"),$(".quiz-object .avatars",this.dom).length)for(var n in shuffle(t.authors),t.authors)this.addAuthor(t.authors[n],t.authors.length);$(".due-tooltip",this.dom).tooltip()}var d=t("ui/QuizBuilder"),n=t("app/addToQueue"),l=t("app/who"),c=t("app/themeHash");DeckRow.prototype.addAuthor=function(e,t){var a=ko.observable(e),s=l.is(a);if(this.authors.push(s),!(4<t))fs.mixAppend($(".quiz-object .avatars",this.dom),"ui/Avatar",{userID:a,userName:s,customSize:30});else if(3>=this.authors().length)fs.mixAppend($(".quiz-object .avatars",this.dom),"ui/Avatar",{userID:a,userName:s,customSize:30});else if(4==this.authors().length){$(".quiz-object .avatars",this.dom).append("<div class=\"more-avatar\"><span class=\"extra-count\">+"+(t-3)+"</span></div>")}},DeckRow.prototype.getDecks=function(){this.parent.parent.getDecks()},DeckRow.prototype.removeDeck=function(){var e=this;this.dom.remove(),fs.post("deleteDeck",{g:window.groupID,MID:this.MID},function(){e.getDecks()})},DeckRow.prototype.safeRemoveDeck=function(){var e=this;fs.prompt("Deleting the deck \""+this.name()+"\" cannot be undone. Type \"<b>delete</b>\" to confirm.","Delete Deck","danger",function(t,a){"delete"==t?(e.removeDeck(),a()):a()})},DeckRow.prototype.acceptImportErrors=function(){var e=this;fs.post("updateDeckState",{g:window.groupID,state:1,MID:this.MID},function(){e.getDecks()})},DeckRow.prototype.addCard=function(){var e=this;dialog("ui/dialogs/AddItem",function(){$.jGrowl("Saved changes.",{life:1e3,position:"bottom-left"})},{MID:this.MID,onSaveItem:function onSaveItem(){e.totalCards(e.totalCards()+1),e.newCards(e.newCards()+1)}})},DeckRow.prototype.startQuiz=function(e){var t=this;return function(a){fs.post("getDeckItems",{g:window.groupID,MID:t.MID,type:e,tagID:t.tagID},function(s){t.quizBuilder.quiz={ids:s.ids,type:"Flashcards"},"total"==e?t.quizBuilder.displayScoreboard():t.quizBuilder.startQuiz(),"function"==typeof a&&a()})}},DeckRow.prototype.rename=function(){var e=this;fs.prompt("Enter a new name for this deck:",function(t,a){fs.post("modifyDeck",{name:t,action:"updateName",MID:e.MID,g:window.groupID},function(){a(),e.name(t)})})},DeckRow.prototype.archive=function(){var e=this;fs.confirm("Are you sure you want to archive \""+this.name()+"\"?",function(t){fs.post("modifyDeck",{action:"archive",MID:e.MID},function(){t(),e.moveItem(e.parent,e.parent.parent.archivedDecks)})})},DeckRow.prototype.unarchive=function(){var e=this;fs.confirm("Are you sure you want to unarchive \""+this.name()+"\"?",function(t){fs.post("modifyDeck",{action:"unarchive",MID:e.MID},function(){t(),e.moveItem(e.parent,e.parent.parent.activeDecks)})})},DeckRow.prototype.moveItem=function(e,t){var a=this;e.remove(a),t.push("ui/DeckRow",{name:this.name(),dueCards:this.dueCards(),newCards:this.newCards(),hasSubdecks:this.hasSubdecks(),totalCards:this.totalCards(),MID:this.MID,state:1==this.state()?2:1}),this.parent.parent.checkDecks()},DeckRow.prototype.browse=function(){window.groupID?tabToURL(window.urlPrefix+"/module?id="+this.MID+"&type=flashcard"):tabToURL("/decks/module?id="+this.MID+"&type=flashcard")},DeckRow.prototype.saveToQueue=function(){var e=this;fs.post("getDeckItems",{g:window.groupID,MID:this.MID,type:"total",tagID:this.tagID},function(t){$(".deck-section",e.dom).addClass("ajax-loading"),setTimeout(function(){$(".deck-section",e.dom).removeClass("ajax-loading")},3e3),n.flashcards(t.ids,$(".deck-section",e.dom),!0)})},DeckRow.prototype.removeFromQueue=function(){var e=this;fs.confirm("Are you sure you want to remove all items in this deck from your queue?","Confirm Remove","danger",function(t){fs.post("getDeckItems",{g:window.groupID,MID:e.MID,type:"total",tagID:e.tagID},function(a){$(".deck-section",e.dom).addClass("ajax-loading"),setTimeout(function(){$(".deck-section",e.dom).removeClass("ajax-loading")},3e3),n.removeFlashcards(a.ids,!0),t()})})},DeckRow.prototype.moveDeck=function(){var e=this;dialog("ui/dialogs/MoveDeck",function(t,a,s,o){if(a){if(0==t.groupID())return fs.alert("Please select a workspace!"),o();var d=t.moduleID();1==d&&(d=0),fs.post("moveDeck",{g:window.groupID,MID:e.MID,toGroupID:t.groupID(),toModuleID:d},function(){s(),e.dom.remove(),window.groupID==t.groupID()&&window.location.reload()})}},{MID:this.MID})},DeckRow.prototype.toggleSubdecks=function(e){this.subdecksVisible()?this.collapseSubdecks(e):this.expandSubdecks(e)},DeckRow.prototype.expandSubdecks=function(e){var t=this;fs.post("getSubdecks",{g:window.groupID,m:this.MID,MID:this.MID},function(a){t.subdecksVisible(!0);var s=fs.transpose(a.deckData);s.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0});var o=_.groupBy(s,function(e){var t=e.name.split("::");return t[0]}),d=!1;for(var n in o)1<o[n].length&&(d=!0);for(var n in o){var s=o[n];for(var l in d&&$(".subdecks",t.dom).append("<div class=\"fwb mtm\" style=\"margin-left:10px\">"+n+"</div>"),s)s[l].MID=t.MID,s[l].state=t.state(),s[l].indent=d?80:60,s[l].deckTheme=t.deckTheme(),fs.mixAppend($(".subdecks",t.dom),"ui/SubdeckRow",s[l])}"function"==typeof e&&e()})},DeckRow.prototype.collapseSubdecks=function(e){fs.empty($(".subdecks",this.dom)),this.subdecksVisible(!1),e()},DeckRow.prototype.share=function(){fs.mixAppend($("body"),"ui/dialogs/ShareDialog",{shareURL:"https://osmose.ly/DummyURL",MID:this.MID})},DeckRow.prototype.customize=function(){dialog("ui/dialogs/QuizByCalendar",function(){},{initialMID:this.MID,beginRange:this.moduleBegin,endRange:this.moduleEnd})},a.exports=DeckRow}),define("ui.Decks",function(e,t,a){function Decks(e,t){this.subdeck=t.subdeck,this.title=ko.observable(t.title),this.hasActiveDecks=ko.observable(!1),this.hasArchivedDecks=ko.observable(!1),this.archivedDate=t.archivedDate,this.loading=ko.observable(!0),this.isUploading=ko.observable(),this.isAnkiBeta=window.ankiBeta,this.deckAdded=ko.observable(!1),this.moduleBegin=t.moduleBegin,this.moduleEnd=t.moduleEnd,this.author=t.author||ko.observable(),this.folderIsActive=ko.observable(!0),!1===t.folderIsActive&&this.folderIsActive(!1),this.moduleID=t.moduleID,e(this),this.activeDecks=fs.mixList(this,".active-decks .deck-list"),this.activeDecks.viewModel="ui/DeckRow",this.archivedDecks=fs.mixList(this,".archived-decks .deck-list"),this.archivedDecks.viewModel="ui/DeckRow",this.getDecks()}window.recentlyCreatedDecks={},Decks.prototype.closeDeckUpload=function(){this.isUploading(!1),fs.empty($(".upload-deck-dropzone"))},Decks.prototype.uploadDeck=function(){function reportSuccessfulUpload(t,a){console.log("report",t,a),fs.post("ankiUploadProcess",{g:window.groupID,m:e.moduleID,origFilename:t,s3Filename:a})}var e=this;this.isUploading(!0),fs.empty($(".upload-deck-dropzone")),fs.mixAppend($(".upload-deck-dropzone",this.dom),"ui/Uploader",{uploaderConfig:{chunk_size:"350mb",max_file_size:"350mb",filters:[{title:"Anki Packages",extensions:"apkg,zip"}]},uploadCompletion:function uploadCompletion(t,a,s){var o=s.status;204==o?(reportSuccessfulUpload(a.name,t.settings.multipart_params.Filename),fs.alert("Osmosis is processing this deck for import. <b>Note:</b> Any cards imported from this deck <strong>will not</strong> be automatically saved to your queue. Once the upload and processing is complete, click <b>\"Save Deck to Queue\"</b> if you want them added to spaced repetition.","Save to Queue","primary",function(){var t=[];e.deckAdded(!1);for(var a=0,s;5>=a;a++)s=0==a?500:5e3*a,t.push(setTimeout(function(){if(console.log("polling decks..."),e.getDecks(),e.deckAdded()){for(var a in t)window.clearTimeout(t[a]);e.deckAdded(!1)}},s))})):fs.alert("Hmm, something went wrong. You can try again or reach out to us by clicking the blue chat icon (bottom right)."),e.closeDeckUpload()}})},Decks.prototype.getDecks=function(e,t){var a=this;if(e=e||{},this.folderIsActive()||e.activate){var s=this.activeDecks.items.length+this.archivedDecks.items.length;this.activeDecks.removeAll(),this.archivedDecks.removeAll(),fs.post("getDecks",{g:window.groupID,m:this.moduleID,author:a.author()},function(o){var d=fs.transpose(o.deckData);for(var n in d){var l=2==d[n].state?a.archivedDecks:a.activeDecks;2==d[n].state&&a.hasArchivedDecks(!0),2!=d[n].state&&a.hasActiveDecks(!0),d[n].isDocDeck=a.moduleID==d[n].MID,d[n].moduleBegin=a.moduleBegin,d[n].moduleEnd=a.moduleEnd,d[n].author=a.author,l.push("ui/DeckRow",d[n])}a.loading(!1),s!=d.length&&a.deckAdded(!0),e.activate&&a.folderIsActive(!0),t&&t()})}},Decks.prototype.createDeck=function(){var e=this;fs.prompt("Enter a name for this deck:",function(t,a,s){fs.post("createDeck",{name:t,g:window.groupID,m:e.moduleID},function(t){a(),e.getDecks(),window.recentlyCreatedDecks[t.MID]=!0},fs.error(s))})},Decks.prototype.checkDecks=function(){0<this.activeDecks.items.length?this.hasActiveDecks(!0):this.hasActiveDecks(!1),0<this.archivedDecks.items.length?this.hasArchivedDecks(!0):this.hasArchivedDecks(!1)},Decks.prototype.activateFolder=function(e){this;this.getDecks({activate:!0},function(){e()})},a.exports=Decks}),define("ui.DemoTodoLecture",function(e,t,a){function DemoTodoLecture(e,t){this;this.hidden=ko.observable(t.hidden),this.checked=ko.observable(!1),this.time=ko.observable("10am"),this.title=ko.observable("Congenital Heart Defects"),this.subtitle=ko.observable("Osmosis Demo"),this.currentTab=ko.observable("Pathology"),this.pathTopics=ko.observableArray([{name:"Acyanotic heart disease",concepts:ko.observableArray([{name:"Patent ductus arteriosus",hits:16,progress:20,fontSize:"16px",action:"watch"}])}]),this.pharmTopics=ko.observableArray([{name:"NSAIDs",concepts:ko.observableArray([{name:"Indomethacin",hits:14,progress:5,fontSize:"16px",action:"read"}])}]),this.thumbnails=ko.observableArray([{title:"",src:"https://d16qt3wv6xm098.cloudfront.net/3bWg-ur2S9WRDAl3drTTxSpVTdisjw0D/thumb.png"}]),e(this);var a=20*(window.devicePixelRatio||1),s=20*(window.devicePixelRatio||1);$(".radial-progress",this.dom).knob({bgColor:"#eeeeee",fgColor:"#8E6D96",thickness:.25,width:s,height:a,readOnly:!0,displayInput:!1}),$(".knobContainer canvas",this.dom).width(20).height(20),this.hidden()?$(this.dom).hide():this.initIntroJs()}DemoTodoLecture.prototype.initIntroJs=function(){var e=this;setTimeout(function(){e.intro=introJs(),e.intro.setOptions({steps:[{element:".ui-DemoTodoLecture .demo-todo",intro:"<strong style=\"font-size:20px;\">How Osmosis Works:</strong><br /><em style=\"font-size:16px;\">Stay Organized</em><br /><br />Osmosis helps you stay organized by grouping your lectures into daily to-do's.",position:"right"},{element:".ui-DemoTodoLecture .doc-concept-outline",intro:"<strong style=\"font-size:20px;\">Before Class:</strong><br /><em style=\"font-size:16px;\">Review Document Outline</em><br /><br />Osmosis automatically recommends concepts to familiarize yourself with before lecture.",position:"right"},{element:".ui-DemoTodoLecture .thumbnails .doc",intro:"<strong style=\"font-size:20px;\">During Class:</strong><br /><em style=\"font-size:16px;\">Review & Flag</em><br /><br />Open your documents to review during lecture, take notes, and <strong>most importantly</strong> flag flashcards (flagging adds to your daily spaced repetition quiz which greatly helps in retaining information)",position:"left"},{element:".ui-DemoTodoLecture .checkbox-status",intro:"<strong style=\"font-size:20px;\">After Class:</strong><br /><em style=\"font-size:16px;\">Check It Off!</em><br /><br />After you've reviewed and flagged the relevant content from class, mark the lecture as studied. Osmosis will make sure you retain the information via your daily quiz.",position:""},{intro:"<div class=\"center final-step\" style=\"width:275px;\"><strong style=\"font-size:20px;\">Ready to Get Started?</strong><br /><em style=\"font-size:16px;\">Of course you are!</em><br /><br />Click Done, select a time below, and upload your first course document.</div>"}],hints:[{element:".ui-DemoTodoLecture .action-item.attach",hint:"Attach a document (or multiple documents) to any lecture",position:""},{element:".ui-DemoTodoLecture .category-tab.pharm",hint:"Concepts are automatically separated into Path and Pharm categories",position:""},{element:".ui-DemoTodoLecture .path-group .topic-group:first-child .concept-wrapper:first-child .concept-action",hint:"Watch a quick video to learn or refresh a concept",position:""},{element:".ui-DemoTodoLecture .path-group .topic-group:first-child .concept-wrapper:nth-of-type(2) .hit-count span",hint:"Number of times the concept showed up in the document",position:"bottom-middle"},{element:".ui-DemoTodoLecture .path-group .topic-group:first-child .concept-wrapper:last-child .status",hint:"Your current progress on this concept",position:"top-left"}]}),e.intro.oncomplete(function(){e.checked(!1),e.closeDemo()}),e.intro.exit(function(){e.checked(!1)}),e.intro.onchange(function(){3==this._currentStep&&setTimeout(function(){e.checked(!0)},500),0<this._currentStep&&analytics.track("Lecture Tutorial",{step:this._currentStep})}),e.intro.start()},500),$(".action-item.attach",this.dom).popover({content:"This is a demo, but normally this button would allow you to attach more documents to this event.",title:"Attach documents",placement:"left",container:".ui-DemoTodoLecture",trigger:"hover"}),$(".action-item.edit",this.dom).popover({content:"This is a demo, but normally this button would allow you to edit the documents on this event or the event title.",title:"Edit Event",placement:"left",container:".ui-DemoTodoLecture",trigger:"hover"}),$(".checkbox-status",this.dom).popover({content:"This is a demo, but normally you'd click this button to mark this lecture as studied.",title:"Mark as Complete",placement:"right",container:".ui-DemoTodoLecture",trigger:"hover"}),$(".study-doc-button",this.dom).popover({content:"This is a demo, but normally this button would open your document so you can take notes, create flashcards, and view suggested resources.",title:"Study Document",placement:"left",container:".ui-DemoTodoLecture",trigger:"hover"}),$(".select-quiz-button",this.dom).popover({content:"This is a demo, but normally this button would list any flashcards you and anyone in your group have created.",title:"View Quizzes",placement:"left",container:".ui-DemoTodoLecture",trigger:"hover"}),$(".watch-link",this.dom).popover({content:"This is a demo, but normally this button would let you watch a video or read more on this topic.",title:"Learn About...",placement:"right",container:".ui-DemoTodoLecture",trigger:"hover"})},DemoTodoLecture.prototype.closeDemo=function(){this;this.intro.exit(),$(".introjs-hints").remove(),$(this.dom).slideUp()},DemoTodoLecture.prototype.restart=function(){var e=this;this.hidden(!1),this.intro?$(this.dom).slideDown(function(){e.intro.refresh(),e.intro.start()}):$(this.dom).slideDown(function(){e.initIntroJs()})},DemoTodoLecture.prototype.markEvent=function(){this.checked(!this.checked())},DemoTodoLecture.prototype.displayStupidMessage=function(){$.jGrowl("This is just a demo so clicking doesn't do much, but you can scroll down and click the times (8am, 9am, 10am, etc) below this block to start uploading your own documents.",{life:3e3,position:"bottom-left"})},DemoTodoLecture.prototype.edit=function(){this.displayStupidMessage()},DemoTodoLecture.prototype.attach=function(){this.displayStupidMessage()},DemoTodoLecture.prototype.openConceptCard=function(){this.displayStupidMessage()},DemoTodoLecture.prototype.clickDoc=function(){this.displayStupidMessage()},DemoTodoLecture.prototype.studyDoc=function(){var e=this;return function(){e.displayStupidMessage()}},DemoTodoLecture.prototype.selectQuiz=function(){var e=this;return function(){e.displayStupidMessage()}},DemoTodoLecture.prototype.actionClick=function(){var e=this;return function(){e.displayStupidMessage()}},DemoTodoLecture.prototype.switchTab=function(e){var t=this;return function(){t.currentTab(e)}},DemoTodoLecture.prototype.getStarted=function(){this.closeDemo()},a.exports=DemoTodoLecture}),define("ui.DocControls",function(e,t,a){function DocControls(e,t){var a=this;this.groupDashboardLink=ko.observable(window.navData.group?"/"+navData.group.url+"/group/dashboard":""),this.viewerFullscreenActive=ko.observable(),this.browserFullscreenActive=ko.observable(),this.docFullWidthActive=ko.observable(!1),this.viewerFullscreenLabel=ko.computed(function(){return a.viewerFullscreenActive()?"Exit Study Mode":"Study Mode"}),this.browserFullscreenLabel=ko.computed(function(){return a.browserFullscreenActive()?"Exit Fullscreen":"Fullscreen"}),this.docWidthLabel=ko.computed(function(){return a.docFullWidthActive()?"Expand Document":"Expand Document"}),this.showModuleBtn=ko.computed(function(){return!!("group"==urlQuery.o&&(a.viewerFullscreenActive()||a.browserFullscreenActive()))}),this.showGroupBtn=ko.computed(function(){return!!(a.viewerFullscreenActive()||a.browserFullscreenActive())}),e(this),$(this.dom).addClass(t.color),console.log("timing"),$(document).on("currentdoc.show",function(){("group"==urlQuery.o||!0)&&(window.IntercomEvent("trackEvent","clicked_document"),a.toggleBrowserFullscreen())})}function launchIntoFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var s=t("core/ui"),o=[];DocControls.prototype.toggleViewerFullscreen=function(){var e=this,t="fullscreenchange";if(document.documentElement.mozRequestFullScreen?t="mozfullscreenchange":document.documentElement.webkitRequestFullscreen&&(t="webkitfullscreenchange"),e.viewerFullscreenActive()){for(var a in $("body").removeClass("docViewerFullscreen"),$(".docColumn div[mixed=\"mixed\"]").removeClass("docViewerFullscreen"),exitFullscreen(),e.viewerFullscreenActive(!1),$(document).trigger("ui-DocControls.exitViewerFullscreen"),o)document.removeEventListener(t,o);o=[]}else{$("body").addClass("docViewerFullscreen"),$(".docColumn div[mixed=\"mixed\"]").addClass("docViewerFullscreen"),launchIntoFullscreen(document.documentElement),e.viewerFullscreenActive(!0),$(document).trigger("ui-DocControls.enterViewerFullscreen");var d=function fullscreenChangeEventListener(){var t=document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;!t&&e.viewerFullscreenActive()&&e.toggleViewerFullscreen()};o.push(d),document.addEventListener(t,d,!1)}$(".page-tab").each(function(){s.resizeTab($(this))})},DocControls.prototype.escViewerFullscreen=function(e){var t=this;27==e&&t.viewerFullscreenActive()&&(t.toggleViewerFullscreen(),$(document).trigger("ui-DocControls.exitViewerFullscreen"))},DocControls.prototype.toggleBrowserFullscreen=function(){var e=this;e.browserFullscreenActive()?($("body").removeClass("docBrowserFullscreen"),$(".docColumn div[mixed=\"mixed\"]").removeClass("docBrowserFullscreen"),e.browserFullscreenActive(!1),$(document).trigger("ui-DocControls.exitBrowserFullscreen")):($("body").addClass("docBrowserFullscreen"),$(".docColumn div[mixed=\"mixed\"]").addClass("docBrowserFullscreen"),e.browserFullscreenActive(!0),$(document).trigger("ui-DocControls.enterBrowserFullscreen")),$(".page-tab").each(function(){s.resizeTab($(this))})},DocControls.prototype.showShortcuts=function(){dialog("ui/dialogs/KeyboardShortcuts")},DocControls.prototype.toggleDocWidth=function(){var e=this;e.docFullWidthActive()?($(".docColumn div[mixed]").removeClass("doc-expanded"),$(".docColumn .doc-page-wrapper").removeClass("col-expand"),$(".docColumn .doc-tools-wrapper").removeClass("col-collapsed"),e.docFullWidthActive(!1)):($(".docColumn div[mixed]").addClass("doc-expanded"),$(".docColumn .doc-page-wrapper").addClass("col-expand"),$(".docColumn .doc-tools-wrapper").addClass("col-collapsed"),e.docFullWidthActive(!0));var t=$(".page-tab:not(.init) .docPages").attr("current-page");setTimeout(function(){var e=$(".docColumn");e.scrollTop($(".ui-DocViewerPage[page-num=\""+t+"\"]").offset().top-e.offset().top+e.scrollTop())},100)},DocControls.prototype.exitDocFullscreen=function(){$("body").removeClass("docBrowserFullscreen docViewerFullscreen"),$(".docColumn div[mixed=\"mixed\"]").removeClass("docBrowserFullscreen docViewerFullscreen"),this.browserFullscreenActive(!1),this.viewerFullscreenActive(!1),exitFullscreen(),$(document).trigger("ui-DocControls.exitBrowserFullscreen"),$(document).trigger("ui-DocControls.exitViewerFullscreen")},DocControls.prototype.showNotes=function(){window.location.href=window.urlPrefix+"/notes"},DocControls.prototype.closeTab=function(){window.close()},DocControls.prototype.reviewFlashcards=function(){jumpTo($(".resource-divider"))},a.exports=DocControls}),define("ui.DocHighlightControls",function(e,t,a){function DocHighlightControls(e){var t=this;this.visible=ko.observable(null==navigator.userAgent.match(/iPad/i)),this.locked=ko.observable(!1),this.highlighterDropdownVisible=ko.observable(!1),this.penDropdownVisible=ko.observable(!1),this.brushEnabled=ko.observable(!1),this.editActive=ko.observable(!1),this.highlighterColorArray=ko.observableArray([{name:"highlight-aqua",hex:"48f9f1"},{name:"highlight-green",hex:"8aef78"},{name:"highlight-pink",hex:"ea62fb"},{name:"highlight-yellow",hex:"f7f37a"},{name:"highlight-orange",hex:"eaad79"}]),this.penColorArray=ko.observableArray([{name:"black",hex:"000000"},{name:"blue",hex:"060cce"},{name:"red",hex:"ff152a"},{name:"green",hex:"0a6311"},{name:"gray",hex:"999999"},{name:"aqua",hex:"51ecde"},{name:"hotgreen",hex:"79e825"},{name:"pink",hex:"d325e8"},{name:"yellow",hex:"ffff00"},{name:"white",hex:"ffffff"}]),this.currentType=ko.observable("pen"),this.currentSize=ko.observable("fine"),this.currentColor=ko.observable(this.getColor("red","pen")),this.currentPenColor=ko.observable(this.currentColor()),this.currentPenSize=ko.observable(this.currentSize()),this.penVelocity=ko.observable(!0),this.currentHighlighterColor=ko.observable(this.getColor("highlight-yellow","highlight")),this.currentHighlighterSize=ko.observable("fine"),this.lineHighlighter=ko.observable(!0),e(this),this.updateBrush(),$(document).on("click",function(a){1>$(a.target).closest(".ui-DocHighlightControls").length&&(t.highlighterDropdownVisible(!1),t.penDropdownVisible(!1))}),window.user&&window.user.prime&&0>=window.user.prime.status&&this.locked(!0)}var s=t("ui/pdf/pen"),o=t("ui/pdf/pencil"),d=t("ui/pdf/highlighter"),n=t("ui/pdf/edit"),l=t("ui/pdf/lineHighlighter");DocHighlightControls.prototype.togglePenVelocity=function(){this.penVelocity(!this.penVelocity()),this.updateBrush()},DocHighlightControls.prototype.toggleLineHighlighter=function(){this.lineHighlighter(!this.lineHighlighter()),this.updateBrush(),this.lineHighlighter()||l.disableHighlighter()},DocHighlightControls.prototype.showHighlighterDropdown=function(){this.highlighterDropdownVisible(!0),this.penDropdownVisible(!1)},DocHighlightControls.prototype.showPenDropdown=function(){this.penDropdownVisible(!0),this.highlighterDropdownVisible(!1)},DocHighlightControls.prototype.hideHighlighterDropdown=function(){this.highlighterDropdownVisible(!1)},DocHighlightControls.prototype.hidePenDropdown=function(){this.penDropdownVisible(!1)},DocHighlightControls.prototype.getColor=function(e,t){if("pen"==t){for(var a in this.penColorArray())if(this.penColorArray()[a].name==e)return this.penColorArray()[a];}else for(var a in this.highlighterColorArray())if(this.highlighterColorArray()[a].name==e)return this.highlighterColorArray()[a]},DocHighlightControls.prototype.toggleDropdown=function(){this.showDropdown(!this.showDropdown())},DocHighlightControls.prototype.setColor=function(e,t){this.currentColor(this.getColor(e,t)),"pen"==t?this.currentPenColor(this.getColor(e,t)):this.currentHighlighterColor(this.getColor(e,t)),this.disableEdit(),this.updateBrush()},DocHighlightControls.prototype.handleSetColor=function(e,t){var a=this;return function(){a.setColor(e,t),a.hideHighlighterDropdown(),a.hidePenDropdown()}},DocHighlightControls.prototype.setBrush=function(e,t){this.currentType(t),this.currentSize(e),"pen"==t?this.currentPenSize(e):this.currentHighlighterSize(e),this.disableEdit(),this.updateBrush()},DocHighlightControls.prototype.handleSetBrush=function(e,t){var a=this;return function(){a.setBrush(e,t),a.hideHighlighterDropdown(),a.hidePenDropdown()}},DocHighlightControls.prototype.updateBrush=function(){if(n.disableEdit(),s.disable(),o.disable(),d.disableHighlighter(),l.disableHighlighter(),"pen"==this.currentType()){var e=this.penVelocity()?s:o;e.setPath("fine"==this.currentSize()?2:"medium"==this.currentSize()?5:8,this.currentColor().hex)}else{var e=this.lineHighlighter()?l:d;e.setHighlight("fine"==this.currentSize()?15:"medium"==this.currentSize()?25:35,this.currentColor().hex)}if(this.brushEnabled())if("pen"==this.currentType()){var e=this.penVelocity()?s:o;e.enable()}else this.lineHighlighter()?l.enableHighlighter():d.enableHighlighter()},DocHighlightControls.prototype.highlighterOn=function(){this.brushEnabled(!0),this.setColor(this.currentHighlighterColor().name,"highlight"),this.setBrush(this.currentHighlighterSize(),"highlight"),this.updateBrush()},DocHighlightControls.prototype.highlighterOff=function(){d.disableHighlighter(),l.disableHighlighter(),this.hideHighlighterDropdown()},DocHighlightControls.prototype.toggleHighlighter=function(){this.locked()||this.highlighterOn(),this.highlighterDropdownVisible()?this.hideHighlighterDropdown():this.showHighlighterDropdown()},DocHighlightControls.prototype.penOn=function(){this.brushEnabled(!0),this.setColor(this.currentPenColor().name,"pen"),this.setBrush(this.currentPenSize(),"pen"),this.updateBrush()},DocHighlightControls.prototype.penOff=function(){s.disable(),o.disable(),this.hidePenDropdown()},DocHighlightControls.prototype.togglePen=function(){this.locked()||this.penOn(),this.penDropdownVisible()?this.hidePenDropdown():this.showPenDropdown()},DocHighlightControls.prototype.disableEdit=function(){this.editActive(!1),n.disableEdit()},DocHighlightControls.prototype.enableEdit=function(){this.editActive(!0),this.brushEnabled(!1),s.disable(),o.disable(),d.disableHighlighter(),l.disableHighlighter(),n.enableEdit()},DocHighlightControls.prototype.toggleEdit=function(){this.hideHighlighterDropdown(),this.hidePenDropdown(),this.editActive()?this.disableEdit():this.enableEdit()},DocHighlightControls.prototype.enableCursor=function(){this.disableEdit(),this.highlighterOff(),this.penOff(),this.brushEnabled(!1)},DocHighlightControls.prototype.purchasePrime=function(){analytics.track("Lockout Purchase Click",{source:"document",resource:"highlighting"}),window.location.href="/plans"},a.exports=DocHighlightControls}),define("ui.DocPlaylist",function(e,t,a){var s=Math.round;function DocPlaylist(e,t){var a=this;this.name=ko.observable("High-yield "+t.title),this.concepts=ko.observableArray(),this.btnTheme=ko.computed(function(){return"pharmacology"==t.subcatName?"rounded-btn-warning":"rounded-btn-teal"});var d=t.overall.available?s(100*(t.overall.attempted/t.overall.available)):null,n=t.overall.attempted?s(100*(t.overall.correct/t.overall.attempted)):0;this.topicChecked=ko.observable(),this.topicProgress=ko.observable(d),this.topicProgressColor=getColor(n),this.topicProgressHint=getHint(n,d),this.checkedConcepts=ko.observableArray(),e(this);var c=[],p=[];for(var u in t.concepts.sort(function(e,t){return t.hits-e.hits}),t.concepts){var m=t.concepts[u];p.push(m.name);var v=l.getConcept(m.name),b=v.available?s(100*(v.attempted/v.available)):null,h=v.attempted?s(100*(v.correct/v.attempted)):0,g={name:m.name.replace(/\s/g,"&nbsp;"),concept:m.name,thumb:m.thumb?"https://d16qt3wv6xm098.cloudfront.net/"+m.thumb:"",hitCount:m.hits,hits:m.hits+" time"+(1==m.hits?"":"s"),docs:m.docs?m.docs+" document"+(1==m.docs?"":"s"):"",accuracy:h,progress:b,available:v.available,title:getHint(h,b),color:getColor(h),checked:v.checked};v.checked()?this.checkedConcepts.push(g):c.push(g)}this.concepts(c),this.quiz=o.create(p.join(";")),this.updateRadialMeters(),this.concepts.subscribe(function(){a.updateRadialMeters()})}function getColor(e){return 90<e?"#5cb85c":70<e?"#f8d347":"#ff6c60"}function getHint(e,t){return"Accuracy: "+e+"% Progress: "+t+"%"}var o=t("ui/playlistQuiz"),d=t("ui/concept"),n=t("ui/wikiViewerSeries"),l=t("app/conceptIndex"),c=t("app/tileIndex");DocPlaylist.prototype.updateRadialMeters=function(){$(".progress-radial.topic-progress",this.dom).knob({readOnly:!0,thickness:.2,bgColor:"rgba(150,150,150,.2)",fgColor:this.topicProgressColor,width:60,height:60,displayInput:!1,rotation:"clockwise"}),$(".progress-radial.topic-progress").tooltip({container:"body",placement:"left"}),$(".progress-radial.concept-progress",this.dom).each(function(e,t){$(t).knob({readOnly:!0,thickness:.2,bgColor:"rgba(150,150,150,.2)",fgColor:$(t).attr("color"),width:40,height:40,displayInput:!1,rotation:"clockwise"})}),$(".progress-digital.concept-progress-label").tooltip({container:"body",placement:"left"})},DocPlaylist.prototype.toggleConceptCheckbox=function(t){var a=this;return function(s,o){if(t.checked())t.checked(!1),a.topicChecked(!1),fs.post("updateUserConcept",{terms:[t.concept],state:0}),a.checkedConcepts.remove(t),a.concepts.push(t);else{for(var e in a.topicChecked(!0),t.checked(!0),fs.post("updateUserConcept",{terms:[t.concept],state:1}),a.concepts())a.concepts()[e].checked()||a.topicChecked(!1);a.runRippleAnimation($(o.currentTarget),function(){a.runHideConceptAnimation($(o.currentTarget).closest(".concept"),function(){a.checkedConcepts.push(t),a.concepts.remove(t)})})}}},DocPlaylist.prototype.runHideConceptAnimation=function(e,t){$(e).slideUp(function(){t&&t()})},DocPlaylist.prototype.runRippleAnimation=function(e,t){this;e=e?e:$(".primary-section .checkbox-section"),$("i.square",e).addClass("ripple-running"),setTimeout(function(){$("i.square",e).removeClass("ripple-running"),t&&t()},500)},DocPlaylist.prototype.selectQuiz=function(e){var t=this;return function(a){var s=t.quiz[e];window.nav.getTab(window.prefixTabURL("/quiz")),s.customizeQuiz(),analytics.track("Start Library Quiz",{type:"fc"==e?"flashcard":"question",level:"tile"}),a()}},DocPlaylist.prototype.openConcept=function(e){this;return function(){d.show(e.concept,{ref:"analysis"})}},DocPlaylist.prototype.studyTile=function(){var e=[],t=this.concepts();for(var a in t)e.push({name:t[a].concept,hits:t[a].hitCount,progress:t[a].progress});var t=this.checkedConcepts();for(var a in t)e.push({name:t[a].concept,hits:t[a].hitCount,progress:t[a].progress});this.series=n.showWiki(e,{title:this.name(),ref:"analysis"})},DocPlaylist.prototype.takeConceptQuiz=function(e){return function(){if(0<e.available){var t=o.create(e.concept);window.nav.getTab(window.prefixTabURL("/quiz")),t.fc.customizeQuiz(),analytics.track("Start Library Quiz",{type:"flashcard",level:"concept"})}else fs.alert("There aren't any flashcards availabe yet for this concept. Try another concept or click the circular Quiz button at the top of this section.")}},DocPlaylist.prototype.openVideo=function(e){this;return function(){d.show(e.concept,{ref:"analysis",startVideo:!0})}},DocPlaylist.prototype.studyCheckedConcepts=function(){var e=this.checkedConcepts(),t=[];for(var a in e)t.push({name:e[a].name,hits:e[a].hitCount,progress:e[a].progress});this.checkedSeries=n.showWiki(t,{title:this.name(),ref:"analysis"})},DocPlaylist.prototype.quizCheckedConcepts=function(){var e=[];for(var t in this.checkedConcepts())e.push(this.checkedConcepts()[t].concept);var a=o.create(e.join(";")).fc;window.nav.getTab(window.prefixTabURL("/quiz")),a.customizeQuiz()},a.exports=DocPlaylist}),define("ui.DocSearchResults",function(e,t,a){var s=t("core/util");a.exports=function DocSearchResults(e,t){var a=t.node,o=t.result;this.thumbnailURL=ko.observable(s.nodePath(a)+"thumb.png");var d=a.getEvent();this.title=ko.observable(d.title()+" - "+d.instructor()+" "+d.begin().toString("ddd, MMM d, yyyy")),this.pages=ko.observableArray();var n=[],l=[];for(var c in o.ids)-1==l.indexOf(+o.ids[c])&&l.push(+o.ids[c]),n.push({i:o.ids[c],t:o.txt[c]});for(var c in this.occurrences=ko.observable(o.ids.length+" occurrence(s) on "+l.length+" page(s)"),n.sort(function(e,t){return+e.i>+t.i?1:+e.i==+t.i?0:-1}),n)this.pages.push({url:s.nodePath(a)+"assets/page-"+n[c].i+".svg",docURL:"/open/"+a.nodeID+"?p="+n[c].i})}}),define("ui.DocUploader",function(e,t,a){function DocUploader(e){var t=this;this.currentEvent=e.currentEvent,this.currentUploadView=e.currentUploadView,this.currentEventView=e.currentEventView,this.progressMeter=new ProgressMeter,this.onStartUpload=e.onStartUpload,this.dom=e.dom;var a="_"+ +new Date;$(".ui-DocUploader",this.dom).attr("id","DocUploader"+a),$(".DocDragDropTarget",this.dom).attr("id","DocDragDropTarget"+a),$(".DocFromFileTrigger",this.dom).attr("id","DocFromFileTrigger"+a);var n=new plupload.Uploader({runtimes:"html5",browse_button:"DocFromFileTrigger"+a,drop_element:"DocDragDropTarget"+a,chunk_size:"130mb",max_file_size:"130mb",url:mediaServerS3,filters:[{title:"doc files",extensions:"pdf,doc,docx,ppt,pptx"}],multipart_params:{acl:"public-read","Content-Type":"",AWSAccessKeyId:awsAccessKeyId}});this.uploader=n,n.bind("Init",function(){}),n.bind("FilesAdded",function(e,a){if(console.log("files added"),0==a.length)fs.alert("No valid files have been selected!");else if(1==a.length){if(8<=t.currentEvent.docLinks().length)return fs.alert("A max of 8 documents can be uploaded per event. Please create a new event.");t.isActive=!0,d.add(t),t.progressMeter.filename(a[0].name),t.currentEventView.startedUpload(t,a[0]);var s=a[0].name.split(".").pop().toLowerCase();"pdf"==s||"ppt"==s||"pptx"==s||"doc"==s||"docx"==s?fs.post("generatePolicy",{g:window.groupID,m:MID||t.currentEvent.MID(),type:2,name:a[0].name,eventID:t.currentEvent.eventID},function(a){a.error?fs.alert(a.error):(console.log("res: ",a),e.settings.multipart_params.policy=a.policy,e.settings.multipart_params.signature=a.signature,e.settings.multipart_params.key=a.filename,e.settings.multipart_params.Filename=a.filename,e.docData=a.data,setTimeout(function(){t.onStartUpload(t,function(){t.progressMeter.progress(0),n.start(),$.jGrowl("Sending the doc to Osmosis now...",{life:1e3,position:"bottom-left"})})},100))}):fs.alert("Invalid file extension!")}else fs.alert("Only 1 file can be uploaded at a time!"),a.length=0}),n.bind("UploadProgress",function(e,a){100!=a.percent&&t.progressMeter.progress(a.percent)}),n.bind("BeforeUpload",function(){}),n.bind("Error",function(e,t){t&&fs.alert(t.message),console.log("error: ",t),console.log("up: ",e)}),n.bind("FileUploaded",function(e,a,n){t.isActive=!1;var l=t.currentEventView.doneUploading(t,a,e);if(d.remove(t),"skip-doc-processing"!=l){var c=n.status;204==c?(urlQuery.tutorial&&!window.hasShownDocUploadPopup&&(fs.alert("Great! Osmosis is <b>analyzing this document to give you a study plan</b>. <br><br>Here are a few things to expect (n.b., <b>READ THIS to know what Osmosis is doing</b>):<ul><li>Osmosis will try to find the most relevant topics in this doc. Our current focus is pathophysiology and pharmacology. <i>If you're doc is normal physiology, the recommendations may be sparse.</i></li><li>Once processing is complete, you can create your own flashcards directly on slides and these are cross referenced when you take a quiz.</li><li>Osmosis will also try to match its own flashcards to slides and you can flag the relevant matches for review.</li></ul><br><br><b class=\"center\"><span style=\"font-size: 110%\">What to do next:</span> <br>Go ahead and upload more documents to this event <br>or select a different time to upload to.</b>","Success!","info"),window.hasShownDocUploadPopup=!0),fs.create("node",{m:MID||t.currentEvent.MID(),type:0,subtype:5,data:e.docData},function(e){e.MID=MID||t.currentEvent.MID(),fs.post("addDocProcessingJob",{m:MID||t.currentEvent.MID(),eventID:t.currentEvent.eventID,nodeID:e.nodeID,neededBy:t.currentEvent.begin().getTime()},function(a){var d=new s(a.linkID);d.type(4).status(1).nodeID(e.nodeID).targetID(t.currentEvent.eventID);var n=fs.getIndex("link");n[d]=d,e.docstep=new o(e.nodeID),e.docstep.status("pending"),$(document).trigger("fs.create:link",[d])})})):(console.log("Upload failure"),console.log(n))}}),$("uploadfiles").onclick=function(){return!1},$("#DocDragDropTarget"+a).on("dragover drop",function(a){t.currentUploadView.dropMsg("Drop Now!"),a.preventDefault()}).on("ondragleave",function(a){t.currentUploadView.dropMsg("Drag/Drop PDFs, PPTs, or DOCs"),a.preventDefault()}),n.init()}function ProgressMeter(){var e=this;this.progress=ko.observable(0),this.filename=ko.observable(),this.percent=ko.computed(function(){return e.progress()+"%"})}var s=t("models/Link"),o=t("models/DocStep"),d=t("app/uploaders");DocUploader.prototype.hide=function(){this.isActive?this.dom.appendTo("#InitDiv"):(this.uploader.destroy(),this.dom.remove())},DocUploader.prototype.appendTo=function(e){this.parentDOM=e,this.dom.appendTo(e)},a.exports=DocUploader}),define("ui.DocUserAvatar",function(e,t,a){function DocUserAvatar(e,t){var a=this;this.userID=ko.observable(t.userID),this.user=this.userID()?s.is(this.userID):"Osmosis",this.type=t.type,this.contentCard=t.contentCard,this.osmCardDom=t.osmosisCardDom,this.count=ko.observable(t.count||0),this.visible=ko.observable(t.visible||!1),this.active=ko.observable(!1),this.hovering=ko.observable(!1),this.showBadge=ko.observable(!1),this.notFollowing=ko.computed(function(){return!(!a.contentCard||a.osmCardDom||"classmate"!=a.type)&&!a.contentCard.isFollowing()}),e(this),"osmosis"!=this.type&&(this.avatar=fs.mixAppend($(".avatar",this.dom),"ui/Avatar",{customSize:50,userID:this.userID,userName:this.user}))}var s=t("app/who"),o;DocUserAvatar.prototype.click=function(){if(this.active(!this.active()),this.active()){for(var e in this.parent.avatarControllers.items)this.parent.avatarControllers.items[e].active(!1),this.parent.avatarControllers.items[e].hideCard();this.parent.osmosisAvatarController.active(!1),this.parent.osmosisAvatarController.hideCard(),this.parent.userAvatarController.active(!1),this.parent.userAvatarController.hideCard(),this.active(!0),this.showCard(),this.parent.cardActive(!0)}else this.hideCard(),this.active(!1),this.parent.cardActive(!1)},DocUserAvatar.prototype.showCard=function(){clearTimeout(o),"osmosis"==this.type?($(this.osmCardDom).off("mouseenter"),$(this.osmCardDom).off("mouseleave"),this.osmCardDom.show()):($(this.contentCard.dom).off("mouseenter"),$(this.contentCard.dom).off("mouseleave"),this.contentCard.visible(!0))},DocUserAvatar.prototype.hideCard=function(){"osmosis"==this.type?this.osmCardDom.hide():this.contentCard.visible(!1)},a.exports=DocUserAvatar}),define("ui.DocUserContentCard",function(e,t,a){function DocUserContentCard(e,t){var a=this;for(var n in this.content=[],this.page=t.page,this.visible=ko.observable(!1),this.collapsed=ko.observable(!0),this.isFollowing=d.getFollow(t.userID),this.theme=ko.observable(t.theme),this.userID=ko.observable(t.userID),this.user=s.is(this.userID),this.firstName=ko.computed(function(){var e=a.user();return e?e.split(" ")[0]:""}),this.page=t.page,this.slideNodeID=t.slideNodeID,this.flashcardBadge=ko.observable(0),this.questionBadge=ko.observable(0),this.heading=ko.computed(function(){return"user"==t.type?"Your Content":a.user()}),this.subHeading=ko.computed(function(){return"user"==t.type?"Questions and flashcards created by you":"Questions and flashcards created by "+a.user()}),this.isClassmate=ko.observable("classmate"==t.type),this.showingStatus=ko.observable("flashcards"),e(this),this.fcBrowser=fs.mix(this,"ui/QuickFlashcardBrowser",{isLocal:1}),this.commentEdit=fs.mixList(this,".comment-edit"),this.commentEdit.viewModel="models/ques/EditContainer",this.commentEdit.route="node",o.addUnsavedWorkCheck(this.commentEdit),t.content)5==t.content[n].subtype()?this.addCard(t.content[n]):this.addQuestion(t.content[n])}var s=t("app/who"),o=t("app/quesEdit"),d=t("app/followIndex");DocUserContentCard.prototype.addCard=function(e){2<e.status()||(this.fcBrowser.add({flashcard:{nodeID:e.nodeID,data:e.data(),schedule:e.schedule},page:this.page}),this.content.push(e),this.flashcardBadge(this.flashcardBadge()+1))},DocUserContentCard.prototype.addQuestion=function(e){if(!(2<e.status())){var t=fs.mixAppend($(".slide-user-ques",this.dom),"ui/QuickSlideQuestion",{ques:e});t.local=1,this.content.push(e),this.questionBadge(this.questionBadge()+1)}},DocUserContentCard.prototype.hideClassmate=function(){var e=this;fs.confirm("All content from <b>"+this.user()+"</b> will be hidden by default on docs.",function(t){fs.post("toggleFollowUser",{g:window.groupID,follow:e.userID(),state:0},function(){e.collapsed(!0),e.isFollowing(!1),setTimeout(function(){e.jumpToCard()},0),t()})})},DocUserContentCard.prototype.followClassmate=function(){var e=this;fs.post("toggleFollowUser",{g:window.groupID,follow:e.userID(),state:1},function(){e.collapsed(!1),e.isFollowing(!0),setTimeout(function(){e.jumpToCard()},0)})},DocUserContentCard.prototype.expandClassmate=function(){this.collapsed(!1)},DocUserContentCard.prototype.addEditableContainers=function(){for(var e in this.commentEdit.removeAll(),this.content)this.commentEdit.push("models/ques/ViewContainer",{boxed:!0,model:this.content[e],hasLocalAccess:!0,slideNodeID:this.slideNodeID})},DocUserContentCard.prototype.onSaveQues=function(e,t){var a=t.indexOf(e);t.remove(e),t.insert(a,"models/ques/ViewContainer",{boxed:!0,model:e.ques,hasLocalAccess:!0,slideNodeID:this.slideNodeID})},DocUserContentCard.prototype.onRemoveQues=function(e){var t=this.content.indexOf(e.ques);0<=t&&this.content.splice(t,1),this.fcBrowser.remove(e.ques.nodeID)},DocUserContentCard.prototype.showTab=function(e){var t=this;return function(){t.fcBrowser.toggleSpacebarHint("flashcards"==e),t.showingStatus(e),"comment-edit"==e&&t.addEditableContainers()}},DocUserContentCard.prototype.jumpToCard=function(){jumpTo(this.dom)},DocUserContentCard.prototype.toggleSpacebarHint=function(e){var t=this;return function(){"flashcards"==t.showingStatus()&&t.fcBrowser.toggleSpacebarHint(e)}},DocUserContentCard.prototype.addedToSlide=function(e){5==e.subtype()?this.addCard(e):this.addQuestion(e)},a.exports=DocUserContentCard}),define("ui.Dropdown",function(e,t,a){var s=function(){"use strict";function Dropdown(e,t){var a=this;_classCallCheck(this,Dropdown),this.dropdownOpen=ko.observable(!1),this.options="function"==typeof t.options?t.options:ko.observableArray(t.options),this.optionsText=null==t.optionsText?null:"function"==typeof t.optionsText?t.optionsText:function(e){return e[t.optionsText]},this.optionsValue=t.optionsValue||null,this.value=t.value||ko.observable(),this.placeholder=t.placeholder||null,this.zIndex=t.zIndex||"12",this.selectedDisplay=ko.computed(function(){if(a.value()){if(a.optionsText){var e;return e=a.optionsValue?_.find(a.options(),function(e){return e[a.optionsValue]===a.value()}):a.value(),e?a.optionsText(e):(a.value(null),a.placeholder)}return a.value()}return a.placeholder});var s=this;e(this),$("body").on("click",function(){s.dropdownOpen(!1)}),s.setSizing(),s.setDropdownSize(),$("body").on("scroll",function(){s.setDropdownSize()})}return _createClass(Dropdown,[{key:"setSizing",value:function setSizing(){var e=this;setTimeout(function(){var t=e.dom.offsetParent(),a=e.dom.scrollParent(),s=$("select",e.dom).outerWidth()+10,o=$("select option",e.dom).outerWidth()+30,d=$(".select-box",e.dom),n=$(".select-box .selected-text",e.dom),l=$(".select-dropdown",e.dom);l.css("min-width",d.outerWidth()+"px"),n.css("max-width",s+50+"px")},1);var t=$(this.dom).offsetParent();t.length&&!t.is("html")&&"fixed"!==t.css("position")&&($(this.dom).css("position","relative"),$(this.dom).css("transform","translate(0px)"))}},{key:"setDropdownSize",value:function setDropdownSize(){var e=0<$(".select-box",this.dom).offset().top?window.innerHeight-$(".select-box",this.dom).offsetTop:150;$(".select-dropdown",this.dom).css("max-height",e+"px")}},{key:"setPosition",value:function setPosition(){var e=$(".select-box",this.dom),t=$(".select-dropdown",this.dom),a=$("select",this.dom).outerWidth()+10;t.detach().appendTo("body"),t.css("position","absolute");var s=e.offset().top+e.outerHeight();t.css("top",s+"px"),t.css("left",e.offset().left),t.css("width",a+"px");var o=window.innerHeight-s-21;t.css("maxHeight",o+"px"),t.addClass("ui-Dropdown")}},{key:"toggleDropdown",value:function toggleDropdown(){var e=this;$(".ui-Dropdown").each(function(t,a){var s=ko.dataFor(a);s!==e&&s&&s.dropdownOpen(!1)}),this.setPosition(),this.dropdownOpen(!this.dropdownOpen())}},{key:"optionDisplay",value:function optionDisplay(e){return this.optionsText?this.optionsText(e):e}},{key:"selectOption",value:function selectOption(e){var t=this;return function(){var a=t.options()[e()];t.optionsValue?t.value(a[t.optionsValue]):t.value(a),setTimeout(function(){t.dropdownOpen(!1)},1)}}}]),Dropdown}();a.exports=s}),define("ui.EditEventDialog",function(e,t,a){a.exports=function EditEventDialog(e,t){this.parent=t,console.log("creating dialog"),console.log(this.parent.event)}}),define("ui.EditableContentTable",function(e,t,a){function EditableContentTable(e,t){if(this.model=t.model,!this.model){this.colCount=t.colCount||3,this.model={title:"Untitled",table:[]};for(var a=[],s=0;s<this.colCount;s++)a.push("");for(var s=0;3>s;s++)this.model.table.push(a.slice())}else this.colCount=this.model.table.length?this.model.table[0].length:3;for(var s in this.editing=ko.observable(t.editing),this.title=ko.observable(this.model.title),this.onEdit=t.onEdit,this.isHeading=t.isHeading,e(this),this.content={},this.table=this.model.table,this.table)for(var o in this.table[s])this.table[s][o]={content:this.table[s][o]};this.tableDOM=$("table",this.dom),this.render()}var s=t("models/content");EditableContentTable.prototype.render=function(){var e=this,t=this.table;for(var a in t){var o=t[a];for(var d in o){var n=o[d];n.editor&&(n.content=n.editor.content())}}for(var a in fs.empty(this.tableDOM),t){var o=t[a],l=$("<tr>").appendTo(this.tableDOM);for(var d in o){var n=o[d],c=a+"."+d,p=this.isHeading?"":"multiline",u=$(this.editing()?"<td rc=\""+c+"\" class=\""+p+"\">":"<td rc=\""+c+"\" class=\"clickable\">").appendTo(l);this.editing()||u.click(function(){e.edit()}),n.editor=s(u,n.content,this.editing())}}},EditableContentTable.prototype.edit=function(){this.editing(!0),this.render(),this.onEdit&&this.onEdit(this)},EditableContentTable.prototype.getActiveIndex=function(){var e=$(".OsmosisBlockText.active");if(e.length){var t=e.parent().attr("rc"),a=t.split(".");return{row:+a[0],col:+a[1]}}return null},EditableContentTable.prototype.getActiveColumn=function(e){if(e){var t=this.getActiveIndex();return t?1==e?t.col+1:t.col:1==e?this.colCount:0}return this.colCount},EditableContentTable.prototype.addColumn=function(e){for(var t in this.table){var a=this.table[t];a.splice(e,0,{content:""})}this.colCount++,this.render()},EditableContentTable.prototype.removeColumn=function(e){for(var t in this.table)this.table[t].splice(e,1);this.render()},EditableContentTable.prototype.addRow=function(e){if(e){var t=this.getActiveIndex();if(t)var a=1==e?t.row+1:t.row;else var a=1==e?this.table.length:0}else var a=this.table.length;for(var s=[],o=0;o<this.colCount;o++)s.push({content:""});this.table.splice(a,0,s),this.render()},EditableContentTable.prototype.removeRow=function(){var e=this.getActiveIndex();e?(this.table.splice(e.row,1),this.render()):fs.alert("Select a row to delete.")},EditableContentTable.prototype.save=function(){this.editing(!1),this.render();var e=[];for(var t in this.table)e.push(_.map(this.table[t],function(e){return e.content}));return{title:this.title(),table:e}},a.exports=EditableContentTable}),define("ui.EditableFlashcardList",function(e,t,a){function EditableFlashcardList(e,t){this.cards=[],this.createBlock=ko.observable(),this.selectable=ko.observable(t.selectable),e(this),this.set(t.fc)}EditableFlashcardList.prototype.set=function(e){for(var t in fs.empty($(".flashcards",this.dom)),this.cards.length=0,e)this.displayCard(nodeIndex[e[t]])},EditableFlashcardList.prototype.displayCard=function(e){this.cards.push(fs.mixAppend($(".flashcards",this.dom),"ui/EditableFlashcardRow",{parent:this,flashcard:e}))},EditableFlashcardList.prototype.addCard=function(e){this.displayCard(nodeIndex[e])},EditableFlashcardList.prototype.add=function(){var e=this;this.createBlock(fs.mixAppend($(".new-flashcard",this.dom),"ui/EditableFlashcardRow",{parent:this,done:function done(t){e.oldBlock?(e.oldBlock.dom.remove(),e.oldBlock=null):(e.createBlock().dom.remove(),e.createBlock(null)),t&&e.parent.addCard(t)}}))},EditableFlashcardList.prototype.indexOf=function(e){for(var t in this.cards)if(e==this.cards[t].node.nodeID)return t;return-1},EditableFlashcardList.prototype.saveAll=function(e){var t=0;for(var a in this.cards)this.cards[a].editing()&&(t++,this.cards[a].save(function(){t--,0==t&&e()}))},EditableFlashcardList.prototype.tab=function(){this.createBlock()?(this.oldBlock=this.createBlock(),this.createBlock().save(),this.createBlock(null),this.add()):this.add(),$(".new-flashcard .front .OsmosisBlockText",this.dom).focus(),jumpTo($(".new-flashcard",this.dom),null,".models-concept-Container")},a.exports=EditableFlashcardList}),define("ui.EditableFlashcardRow",function(e,t,a){function EditableFlashcardRow(e,t){if(this.editing=ko.observable(!t.flashcard),this.done=t.done,this.selectable=t.parent&&t.parent.selectable?t.parent.selectable:ko.observable(),this.selected=ko.observable(),this.selectMultipleConcepts=ko.observable(),this.altConcepts=ko.observableArray(),this.tags=ko.observableArray(),!t.flashcard)this.node=new o,this.node.type(5).subtype(5).data({q:"",e:""}),this.node.MID=2857,this.saveBtnCaption=ko.observable("Create");else{this.node=t.flashcard,this.saveBtnCaption=ko.observable("Save");var a=window.fcAssocIndex[this.node.nodeID];for(var s in a)this.altConcepts.push(a[s].name)}e(this),this.render();$("<div class=\"editable-flashcard row\"><div class=\"front col-md-offset-1 col-md-4\"></div><div class=\"back col-md-offset-1 col-md-4\"></div></div>").appendTo(this.dom)}function extractText(e){return e?"string"==typeof e?e:e.s:""}function getCloze(e){var t=e.match(/\{\{([\w\W]+?)\}\}/g);for(var a in t)if(2==t[a].split("::").length)return"a";return"u"}function checkBlanks(e){return"u"==e.z&&1<(extractText(e.q).match(/\<u\>/g)||[]).length?{error:"Multiple underline blanks not allowed."}:{}}var s=t("models/content"),o=t("models/Node"),d=t("models/ques/flashcardTools"),n=t("app/contentTags");EditableFlashcardRow.prototype.bindShortcuts=function(e){var t=this;$(e).keydown(function(a){9==a.which?(a.preventDefault(),a.stopPropagation(),t.parent.tab()):(a.ctrlKey||a.metaKey)&&83==a.which?(a.preventDefault(),a.stopPropagation(),t.save()):(a.ctrlKey||a.metaKey)&&a.shiftKey&&83==a.which&&(a.preventDefault(),a.stopPropagation(),t.parent.saveAll())})},EditableFlashcardRow.prototype.render=function(){var t=this,a=this.node.data();if(this.editing()){this.front=s($(".edit .front",this.dom),a.q,!0),this.back=s($(".edit .back",this.dom),a.e,!0),this.bindShortcuts($(".edit .front .OsmosisBlockText",this.dom)),this.bindShortcuts($(".edit .back .OsmosisBlockText",this.dom));var o;$(this.front.divContent).keydown(function(a){switch(a.keyCode){case 219:if(219==o){a.preventDefault(),a.stopPropagation();var e=$(t.front.divContent).froalaEditor("html.get"),s=e.match(/{{c\d*::/g),d=0;d=s?s.length+1:1,$(t.front.divContent).froalaEditor("html.insert","{c"+d+"::")}}o=a.keyCode})}else s($(".view .front",this.dom),a.q),s($(".view .back",this.dom),a.e);this.tags(n.deserialize(a.t))},EditableFlashcardRow.prototype.edit=function(){this.editing(!0),this.render()},EditableFlashcardRow.prototype.save=function(e){var t=this,a=this.node.data();a.q=this.front.content(),a.e=this.back.content(),a.z="r"==a.z?"r":getCloze(extractText(a.q));var s=n.serialize(this.tags());s.length&&(a.t=s);var o=d.processCloze(a);if(o.error)return fs.alert(o.error);var o=checkBlanks(a);return o.error?fs.alert(o.error):void(this.node.nodeID?fs.update(this.node,function(){e(),t.editing(!1),t.render()}):fs.create(this.node,function(){t.done&&t.done(t.node.nodeID),e(),t.editing(!1),t.render()}))},EditableFlashcardRow.prototype.cancel=function(){this.editing(!1),this.render(),this.done&&this.done()},EditableFlashcardRow.prototype.doMove=function(e){var t=this;t.parent.parent.parent.parent.moveFlashcard(t.node.nodeID,e),$(".tooltip").remove()},EditableFlashcardRow.prototype.move=function(e){var t=this;return function(){t.doMove(e)}},EditableFlashcardRow.prototype.setFlashcardPrimary=function(e,t,a){var s=this;fs.post("setFlashcardPrimary",{concept:e,nodeID:s.node.nodeID,add:a,addOnly:s.selectMultipleConcepts()},function(a){a.error?fs.alert(a.error):s.selectMultipleConcepts()?s.altConcepts.push(a.addName):(window.termName!=e&&s.parent.parent.removeCard(s.node.nodeID,!0),s.altConcepts.removeAll()),t()})},EditableFlashcardRow.prototype.setPrimary=function(e){var t=this;return function(a){t.setFlashcardPrimary(e,a)}},EditableFlashcardRow.prototype.removeConcept=function(e){var t=this;return function(a){fs.post("removeFlashcardConcept",{concept:e,nodeID:t.node.nodeID},function(){t.altConcepts.remove(e),a()})}},EditableFlashcardRow.prototype.searchForConcept=function(){var e=this,e=this;fs.prompt("Enter the term to move this flashcard to:",function(t,a){fs.post("validateTerm",{term:t},function(s){s.valid?e.setFlashcardPrimary("none",a,t):(fs.alert(t+" is not a valid term name"),a())})})},EditableFlashcardRow.prototype.finalizeMatches=function(){var e=this;fs.post("finalizeFlashcardMatches",{nodeID:e.node.nodeID},function(){var t=!1,a=e.altConcepts();for(var s in a)window.termName==a[s]&&(t=!0);e.altConcepts.removeAll(),t||e.parent.parent.removeCard(e.node.nodeID,!0),e.selectMultipleConcepts(!1),done()})},EditableFlashcardRow.prototype.addTag=function(){var e=this;this.editing()||this.edit(),dialog("ui/dialogs/ContentTags",function(t,a){a&&e.tags(n.deserialize(t.getTags()))},{tags:e.tags()})},a.exports=EditableFlashcardRow}),define("ui.EditableModule",function(e,t,a){function EditableModule(e,t){this;this.module=t.module||new s,this.docCount=ko.observable(),this.isNew=ko.observable(!this.module.moduleID),this.examDayIndex={},this.exams=ko.observableArray(),this.selectedExam=ko.observable(),this.modules=ko.observable(),this.topics=ko.observableArray(),this.wantsDescr=ko.observable(!!this.module.descr()),this.isNew()||(t.docCount&&"function"==typeof t.docCount?this.docCount(t.docCount()):this.docCount(0),this.origModuleName=this.module.name(),this.origModuleStart=this.module.startsOn(),this.origModuleExam=this.module.examDate()),e(this);var a=[];for(var o in d.fullName)a.push({value:o,label:d.fullName[o]});a.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}),a.push({value:1e6,label:"Other"}),this.topics=n(this,"topicSelect",{options:a,caption:" ",width:"100%",value:this.module.topics()})}var s=t("models/Module"),o=t("app/canonical"),d=t("shared/topics"),n=t("ui/select");EditableModule.prototype.action=function(e,t){var a=this,s=this.module.name();if(!o.url(s))return fs.alert(s+" is not a valid module name.",null,null,function(){t()});if(!(this.module.name()&&this.module.startsOn()&&this.module.examDate()))return fs.alert("Fill in required fields.",null,null,function(){t()});var d=this.topics.value();if(!d||!d.length)return fs.alert("Please select at least one topic. This helps Osmosis make correct question and flashcard reccomendations. If no topic matches, use \"Other\".",null,null,function(){t()});if(!this.isNew()&&0<this.docCount()){if(this.origModuleName!=s&&!window.isSuperUser&&window.classmateCount)return fs.prompt("Updating the folder name will affect <span class=\"fcr\">"+window.classmateCount+" other people</span>. If you're sure you want to make this update, type \"yes\" below.","Confirm Changes","warning",function(s,o,d){"yes"==s?(a.updateFolder(e,t),o()):(a.module.name(a.origModuleName),fs.alert("Did you read the message?"),d(),t())});if((0>moment(""+this.origModuleStart).diff(""+this.module.startsOn(),"days")||0<moment(""+this.origModuleExam).diff(""+this.module.examDate(),"days"))&&!window.isSuperUser)return fs.alert("Moving the start date forward or moving the exam date backward could hide documents in this folder. Use the blue chat icon to talk to us about helping you.","Documents are attached!","warning",function(){a.module.startsOn(a.origModuleStart),a.module.examDate(a.origModuleExam),t()})}a.updateFolder(e,t)},EditableModule.prototype.updateFolder=function(e,t){var a=this.topics.value(),s=[];for(var o in a)1e6>a[o]&&s.push(a[o]);this.module.topics(s),this.module.moduleID?fs.update(this.module,function(){e()},function(e){fs.alert(e.error.msg,null,null,function(){t()})}):fs.create(this.module,function(){e()},function(e){fs.alert(e.error.msg,null,null,function(){t()})})},EditableModule.prototype.removeFolder=function(e,t){var a=this;fs.post("removeFolder",{g:window.groupID,m:a.module.moduleID,force:e.force},function(){location.reload()},t)},EditableModule.prototype.remove=function(e){var t=this;fs.confirm("Are you sure you want to permanently remove this folder?","Remove Folder","danger",function(a){t.removeFolder({force:!1},function(s){e(),a(),window.classmateCount?fs.alert("This folder is not empty and cannot be deleted."):fs.prompt(s.error.msg+" To force delete this folder, <b>enter its name below</b>:","Confirm Delete","warning",function(e,a){e.toLowerCase()==t.module.name().toLowerCase()?t.removeFolder({force:!0}):(a(),fs.alert("The name entered did not match the name of the folder."))})})})},EditableModule.prototype.superRemove=function(){var e=this;fs.confirm("WARNING: Use this with care! All documents should be either deleted or moved out of this folder first.","Remove Folder","danger",function(){fs.post("superRemoveFolder",{g:window.groupID,m:e.module.moduleID},function(){location.reload()})})},a.exports=EditableModule}),define("ui.EditableTopicTag",function(e,t,a){function EditableTopicTag(e,t){this.rootName=ko.observable(t.tree.tag),this.tree=t.tree,this.group=ko.observableArray();var a=t.tree.group;for(var s in a){var o={tag:a[s].tag,orig:a[s].orig,join:a[s].join,parts:ko.observableArray(getParts(t.tree.tag,a[s].orig)),edited:ko.observable()};this.group.push(o)}}function trim(e){return e.replace(/\s+/g," ").trim()}function getParts(e,t){var a=[trim(e)];for(var s in t=t.split(","),t)a.push(trim(t[s]));return a.push("of"),a.push("in"),a.push("for"),a}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function uncapitalize(e){return 1==e.length||/[a-z]+/.test(e.charAt(1))?e.charAt(0).toLowerCase()+e.slice(1):e}EditableTopicTag.prototype.saveTree=function(){var e=this.group();for(var t in e)e[t].edited()&&(this.tree.group[t].tag=e[t].edited(),this.tree.group[t].join="manual");fs.post("saveTopicTag",{tree:this.tree},function(){$.jGrowl("Saved",{life:1e3,position:"bottom-left"})})},EditableTopicTag.prototype.save=function(e){return function(){e.saveTree()}},EditableTopicTag.prototype.addToEdited=function(e,t){return function(){e.edited()?e.edited(e.edited()+" "+uncapitalize(t)):e.edited(capitalize(t))}},a.exports=EditableTopicTag}),define("ui.EmptyStatusBar",function(e,t,a){a.exports=function EmptyStatusBar(){}}),define("ui.EventImportFilter",function(e,t,a){a.exports=function EventImportFilter(){}}),define("ui.EventNotes",function(e,t,a){a.exports=function EventNotes(e,t){this.event=t.event,this.hasNotes=ko.observable(!1),this.noteViews=[],e(this);var a=$(".notesList",this.dom),s=t.event.docLinks();for(var o in s){var d=s[o].node,n=d.children,l=[];for(var c in n)if(n[c].note){var p=n[c].note.content();p.n&&("string"!=typeof p.n||$("<div>"+p.n+"</div>").text())&&l.push(n[c])}var a=$(".notesList",this.dom);if(this.list=fs.mixList(this,".notesList"),this.list.viewModel="models/NodeNoteView",l.length){for(var c in l)fs.mixAppend(a,"models/NodeNoteView",{parent:this,placement:"right",node:l[c],wantsAutoBlanks:t.wantsAutoBlanks});this.hasNotes(!0)}}}}),define("ui.EventScroller",function(e,t,a){a.exports=function EventScroller(e){e(this),this.list=fs.mixList(this,".eventList").source("event","models/CourseEventView",function(){return!0}),this.list.sort(function(e,t){var s=e.event.begin(),a=t.event.begin();return s>a?-1:s<a?1:0})}}),define("ui.ExamSchedule",function(e,t,a){a.exports=function ExamSchedule(e,t){var a=t.exams;this.editable=ko.observable(t.editable),this.oldExams=ko.observableArray(),this.exams=ko.observableArray();var s=new Date;for(var o in a)a[o].examDate()&&(a[o].getTime()<s?this.oldExams.push(a[o]):this.exams.push(a[o]));this.oldExams.sort(function(e,t){var a=e.getTime(),s=t.getTime();return a>s?-1:a<s?1:0}),this.exams.sort(function(e,t){var a=e.getTime(),s=t.getTime();return a>s?1:a<s?-1:0})}}),define("ui.ExamScheduleSmall",function(e,t,a){function ExamScheduleSmall(e,t){s.call(this,e,t)}var s=t("ui/ExamSchedule");fs.extend(ExamScheduleSmall,s),a.exports=ExamScheduleSmall}),define("ui.FacebookLike",function(e,t,a){function FacebookLike(e){var t=this;this.referralLink=ko.computed(function(){return"https://www.osmosis.org/invite/"+window.user.code}),this.liked=ko.observable(),e(this),$(".fb-like",this.dom).attr("data-width",this.dom.width()),window.fbAsyncInit=function(){FB.init({appId:"456882817676569",xfbml:!0,version:"v2.1"});FB.Event.subscribe("edge.create",function page_like(){t.updateLike("like"),t.liked(!0)}),FB.Event.subscribe("edge.remove",function page_unlike(){t.updateLike("unlike")})},function(e,t,a){var s=e.getElementsByTagName(t)[0],o;e.getElementById(a)||(o=e.createElement(t),o.id=a,o.src="//connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(o,s))}(document,"script","facebook-jssdk")}FacebookLike.prototype.updateLike=function(e){fs.post("updateFacebookLike",{status:e},function(){})},FacebookLike.prototype.reload=function(){window.location.reload()},a.exports=FacebookLike}),define("ui.FillProfileReminder",function(e,t,a){a.exports=function FillProfileReminder(e,t){var a=this;this.submitted=ko.observable(!1),this.dontAsk=ko.observable(),this.dontAsk.subscribe(function(e){localStorage.setItem("dontAskToCompleteProfile",e)}),this.closeModal=function(){t.modalInstance.close()},e(this),fs.mix(this,"ui/account/input/School",{modalInstance:t.modalInstance,data:ko.observable({showSaveBtn:!0,current:null,complete:!1,loading:ko.observable(!1),stayOpenOnSave:!0,submitted:a.submitted})})}}),define("ui.FlashcardTables",function(e,t,a){var s=Math.round;function FlashcardSet(e,t,a){this.parent=e,this.tag=t,this.name=t.tag,this.rows=a}function getFlashcardSets(){var e=[];for(var t in tagIndex){var a={tag:tagIndex[t],rows:[]},s=tagIndex[t].nodes();for(var o in s)5==s[o].type()&&6==s[o].subtype()&&a.rows.push(s[o]);a.rows.length&&e.push(a)}return e}function extractFieldHeadings(e){var t=[];for(var a in e.a)t.push(e.a[a].v);return t}function createFlashcardTable(e,t){var a=t,s=extractFieldHeadings(a[0].data()),o=$("<div style=\"padding:10px\">");o.append("<div><h2>"+e+"</h2></div>"),o.append("<div class=\"mtm mbm\" style=\"font-size:110%\"><a class=\"fwb quizTableLink\" href=\"\">Quiz Table</a> | <a class=\"sortableTableLink\" href=\"\">Searchable/Filterable Table</a></div>"),$(".sortableTableLink",o).click(function(t){t.preventDefault(),$(".sortableTable").removeClass("hidden"),$(".quizTable").addClass("hidden"),$(this).addClass("fwb"),$(".quizTableLink").removeClass("fwb")}),$(".quizTableLink",o).click(function(t){t.preventDefault(),$(".sortableTable").addClass("hidden"),$(".quizTable").removeClass("hidden"),$(this).addClass("fwb"),$(".sortableTableLink").removeClass("fwb"),$(".quizDataCol",o).each(function(e,t){$(".quizDataDiv",t).addClass("hand-cursor"),$(".quizDataAns",t).addClass("hidden"),$(".quizDataBlank",t).removeClass("hidden")})});var d=$("<div class=\"sortableTable hidden\">").appendTo(o),n=$("<table>").appendTo(d);n.append("<thead>").append("<tbody>");var l=$("<tr>").appendTo($("thead",n));for(var c in $("<th>").appendTo(l),s)$("<th>").appendTo(l).append(s[c]);for(var c in a)if(!(0==a[c].status()||2<a[c].status())){var p=a[c].data(),u=p.c?p.c:"fff",m=readableFG(u),l=$("<tr style=\"color:"+m+"; background-color:#"+u+"\">").appendTo($("tbody",n));for(var v in $("<td>").appendTo(l).append(p.q),p.a)$("<td>").appendTo(l).append(p.a[v].e)}var b=$("<div class=\"quizTable\">").appendTo(o),n=$("<table style=\"width:100%\">").appendTo(b);n.append("<thead>").append("<tbody>");var l=$("<tr>").appendTo($("thead",n));for(var c in $("<th>").appendTo(l),s)$("<th>").appendTo(l).append(s[c]);for(var c in a)if(!(0==a[c].status()||2<a[c].status())){var l=$("<tr>").appendTo($("tbody",n)),p=a[c].data(),h=$("<td>").appendTo(l),u=p.c?p.c:"fff",m=readableFG(u);for(var v in $("<div class=\"quizDataDiv\" style=\"color:"+m+"; background-color:#"+u+"; margin: 2px; padding:10px; border: solid 1px gray; text-align:center\">").appendTo(h).append(p.q),p.a){var h=$("<td class=\"quizDataCol\">").appendTo(l);$("<div class=\"quizDataDiv hand-cursor\" style=\"color:"+m+"; background-color:#"+u+"; margin: 2px; padding:10px; border: solid 1px gray; text-align:center\">").appendTo(h).append($("<div class=\"quizDataAns hidden\">").append(p.a[v].e)).append($("<div class=\"quizDataBlank\">").append($("<h2>?</h2>"))).click(function(t){t.preventDefault(),$(this).removeClass("hand-cursor"),$(".quizDataAns",this).removeClass("hidden"),$(".quizDataBlank",this).addClass("hidden")})}}return o}t("app/module");FlashcardSet.prototype.createTable=function(){var e=createFlashcardTable(this.name(),this.rows);$.colorbox({inline:!0,href:e,opacity:.5,rel:"table1",width:s(.8*$(window).width())+"px",height:s(.8*$(window).height())+"px"}),$("table",".sortableTable").dataTable()},e.showFlashcards=function(){},a.exports=function FlashcardTables(){this.sets=ko.observableArray(),this.mode=null;var e=getFlashcardSets();for(var t in e)this.sets.push(new FlashcardSet(this,e[t].tag,e[t].rows))}}),define("ui.FlotPieChartMod",function(){var e=Math.sqrt,t=Math.PI,a=Math.abs,o=Math.cos,d=Math.sin,n=Math.round;(function(s){var l={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function formatter(e,t){return"<div style=\"font-size:x-small;text-align:center;padding:2px;color:"+t.color+";\">"+e+"<br/>"+n(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};s.plot.plugins.push({init:function init(c){function checkPieEnabled(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.legend.show?t.series.pie.label.show=!1:t.series.pie.label.show=!0),"auto"==t.series.pie.radius&&(t.series.pie.label.show?t.series.pie.radius=3/4:t.series.pie.radius=1),1<t.series.pie.tilt&&(t.series.pie.tilt=1),0>t.series.pie.tilt&&(t.series.pie.tilt=0),e.hooks.processDatapoints.push(processDatapoints),e.hooks.drawOverlay.push(drawOverlay),e.hooks.draw.push(draw))}function bindEvents(e,t){var a=e.getOptions();a.series.pie.show&&a.grid.hoverable&&t.unbind("mousemove").mousemove(onMouseMove),a.series.pie.show&&a.grid.clickable&&t.unbind("click").click(onClick)}function calcTotal(e){for(var t=0,a;t<e.length;++t)a=parseFloat(e[t].data[0][1]),a&&(h+=a)}function processDatapoints(e){S||(S=!0,p=e.getCanvas(),u=s(p).parent(),l=e.getOptions(),e.setData(combine(e.getData())))}function setupPie(){w=u.children().filter(".legend").children().width(),m=Math.min(p.width,p.height/l.series.pie.tilt)/2,b=p.height/2+l.series.pie.offset.top,v=p.width/2,"auto"==l.series.pie.offset.left?l.legend.position.match("w")?v+=w/2:v-=w/2:v+=l.series.pie.offset.left,v<m?v=m:v>p.width-m&&(v=p.width-m)}function fixData(e){for(var t=0;t<e.length;++t)"number"==typeof e[t].data?e[t].data=[[1,e[t].data]]:("undefined"==typeof e[t].data||"undefined"==typeof e[t].data[0])&&("undefined"!=typeof e[t].data&&"undefined"!=typeof e[t].data.label&&(e[t].label=e[t].data.label),e[t].data=[[1,0]]);return e}function combine(e){e=fixData(e),calcTotal(e);for(var a=0,s=0,o=l.series.pie.combine.color,d=[],n=0;n<e.length;++n)e[n].data[0][1]=parseFloat(e[n].data[0][1]),e[n].data[0][1]||(e[n].data[0][1]=0),e[n].data[0][1]/h<=l.series.pie.combine.threshold?(a+=e[n].data[0][1],s++,!o&&(o=e[n].color)):d.push({data:[[1,e[n].data[0][1]]],color:e[n].color,label:e[n].label,angle:e[n].data[0][1]*(2*t)/h,percent:100*(e[n].data[0][1]/h)});return 0<s&&d.push({data:[[1,a]],color:o,label:l.series.pie.combine.label,angle:a*(2*t)/h,percent:100*(a/h)}),d}function draw(e,c){function clear(){ctx.clearRect(0,0,p.width,p.height),u.children().filter(".pieLabel, .pieLabelBackground").remove(),h=0,S=!1}function drawShadow(){var e=15,a=10;if(1<l.series.pie.radius)var s=l.series.pie.radius;else var s=m*l.series.pie.radius;if(!(s>=p.width/2-5||s*l.series.pie.tilt>=p.height/2-e||s<=a)){ctx.save(),ctx.translate(5,e),ctx.globalAlpha=.02,ctx.fillStyle="#000",ctx.translate(v,b),ctx.scale(1,l.series.pie.tilt);for(var o=1;o<=a;o++)ctx.beginPath(),ctx.arc(0,0,s,0,2*t,!1),ctx.fill(),s-=o;ctx.restore()}}function drawPie(e){function drawSlice(e,o,d){0>=e||(d?ctx.fillStyle=o:(ctx.strokeStyle=o,ctx.lineJoin="round"),ctx.beginPath(),1e-9<a(e-2*t)?ctx.moveTo(0,0):s.browser.msie&&(e-=1e-4),ctx.arc(0,0,c,h,h+e,!1),ctx.closePath(),h+=e,d?ctx.fill():ctx.stroke())}function drawLabels(){function drawLabel(e,a,m){if(0!=e.data[0][1]){var h=l.legend.labelFormatter,f=l.series.pie.label.formatter,w;w=h?h(e.label,e):e.label,f&&(w=f(w,e));var S=(a+e.angle+a)/2,q=v+n(o(S)*t),C=b+n(d(S)*t)*l.series.pie.tilt,D="<span class=\"pieLabel\" id=\"pieLabel"+m+"\" style=\"position:absolute;top:"+C+"px;left:"+q+"px;\">"+w+"</span>";u.append(D);var T=u.children("#pieLabel"+m),I=C-T.height()/2,M=q-T.width()/2;if(T.css("top",I),T.css("left",M),(0<0-I||0<0-M||0>p.height-(I+T.height())||0>p.width-(M+T.width()))&&(g=!0),0!=l.series.pie.label.background.opacity){var A=l.series.pie.label.background.color;null==A&&(A=e.color);s("<div class=\"pieLabelBackground\" style=\"position:absolute;width:"+T.width()+"px;height:"+T.height()+"px;"+("top:"+I+"px;left:"+M+"px;")+"background-color:"+A+";\"> </div>").insertBefore(T).css("opacity",l.series.pie.label.background.opacity)}}}var e=startAngle;if(1<l.series.pie.label.radius)var t=l.series.pie.label.radius;else var t=m*l.series.pie.label.radius;for(var a=0;a<w.length;++a)w[a].percent>=100*l.series.pie.label.threshold&&drawLabel(w[a],e,a),e+=w[a].angle}if(startAngle=t*l.series.pie.startAngle,1<l.series.pie.radius)var c=l.series.pie.radius;else var c=m*l.series.pie.radius;ctx.save(),ctx.translate(v,b),ctx.scale(1,l.series.pie.tilt),ctx.save();for(var h=startAngle,f=0;f<w.length;++f)w[f].startAngle=h,drawSlice(w[f].angle,w[f].color,!0);ctx.restore(),ctx.save(),ctx.lineWidth=l.series.pie.stroke.width,h=startAngle;for(var f=0;f<w.length;++f)drawSlice(w[f].angle,l.series.pie.stroke.color,!1);ctx.restore(),drawDonutHole(e,ctx),l.series.pie.label.show&&drawLabels(),ctx.restore()}if(u){ctx=c,setupPie();var w=e.getData();g=!0;for(var q=0;g&&10>q;)g=!1,0<q&&(m*=f),q+=1,clear(),.8>=l.series.pie.tilt&&drawShadow(),drawPie(e),e.triggerRedrawOverlay();10<=q&&(clear(),u.prepend("<div class=\"error\">Could not draw pie with labels contained inside canvas</div>")),e.setSeries&&e.insertLegend&&(e.setSeries(w),e.insertLegend())}}function drawDonutHole(e,a){var s=e.getOptions();0<s.series.pie.innerRadius&&(a.save(),innerRadius=1<s.series.pie.innerRadius?s.series.pie.innerRadius:m*s.series.pie.innerRadius,a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=s.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*t,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),a.strokeStyle=s.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*t,!1),a.stroke(),a.closePath(),a.restore())}function isPointInPoly(e,t){for(var a=!1,s=-1,o=e.length,d=o-1;++s<o;d=s)(e[s][1]<=t[1]&&t[1]<e[d][1]||e[d][1]<=t[1]&&t[1]<e[s][1])&&t[0]<(e[d][0]-e[s][0])*(t[1]-e[s][1])/(e[d][1]-e[s][1])+e[s][0]&&(a=!a);return a}function findNearbySlice(t,a){var n=c.getData(),l=c.getOptions(),p=1<l.series.pie.radius?l.series.pie.radius:m*l.series.pie.radius;if(x=t-v,y=a-b,e(x*x+y*y)<p*l.series.pie.innerRadius)return null;for(var u=0,h;u<n.length;++u)if(h=n[u],h.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,p,h.startAngle,h.startAngle+h.angle,!1),ctx.closePath(),ctx.isPointInPath){if(ctx.isPointInPath(t-v,a-b))return ctx.restore(),{datapoint:[h.percent,h.data],dataIndex:0,series:h,seriesIndex:u};}else if(p1X=p*o(h.startAngle),p1Y=p*d(h.startAngle),p2X=p*o(h.startAngle+h.angle/4),p2Y=p*d(h.startAngle+h.angle/4),p3X=p*o(h.startAngle+h.angle/2),p3Y=p*d(h.startAngle+h.angle/2),p4X=p*o(h.startAngle+h.angle/1.5),p4Y=p*d(h.startAngle+h.angle/1.5),p5X=p*o(h.startAngle+h.angle),p5Y=p*d(h.startAngle+h.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y],isPointInPoly(arrPoly,arrPoint))return ctx.restore(),{datapoint:[h.percent,h.data],dataIndex:0,series:h,seriesIndex:u};ctx.restore()}return null}function onMouseMove(t){triggerClickHoverEvent("plothover",t)}function onClick(t){triggerClickHoverEvent("plotclick",t)}function triggerClickHoverEvent(t,a){var e=c.offset(),s=parseInt(a.pageX-e.left),o=parseInt(a.pageY-e.top),d=findNearbySlice(s,o);if(l.grid.autoHighlight)for(var n=0,p;n<q.length;++n)p=q[n],p.auto!=t||d&&p.series==d.series||unhighlight(p.series);d&&highlight(d.series,t);var m={pageX:a.pageX,pageY:a.pageY};u.trigger(t,[m,d])}function highlight(e,t){"number"==typeof e&&(e=series[e]);var a=indexOfHighlight(e);-1==a?(q.push({series:e,auto:t}),c.triggerRedrawOverlay()):!t&&(q[a].auto=!1)}function unhighlight(e){null==e&&(q=[],c.triggerRedrawOverlay()),"number"==typeof e&&(e=series[e]);var t=indexOfHighlight(e);-1!=t&&(q.splice(t,1),c.triggerRedrawOverlay())}function indexOfHighlight(e){for(var t=0,a;t<q.length;++t)if(a=q[t],a.series==e)return t;return-1}function drawOverlay(e,s){function drawHighlight(e){0>e.angle||(s.fillStyle="rgba(255, 255, 255, "+o.series.pie.highlight.opacity+")",s.beginPath(),1e-9<a(e.angle-2*t)&&s.moveTo(0,0),s.arc(0,0,d,e.startAngle,e.startAngle+e.angle,!1),s.closePath(),s.fill())}var o=e.getOptions(),d=1<o.series.pie.radius?o.series.pie.radius:m*o.series.pie.radius;for(s.save(),s.translate(v,b),s.scale(1,o.series.pie.tilt),i=0;i<q.length;++i)drawHighlight(q[i].series);s.restore()}var p=null,u=null,m=null,v=null,b=null,h=0,g=!0,f=.95,w=0,S=!1,q=[];c.hooks.processOptions.push(checkPieEnabled),c.hooks.bindEvents.push(bindEvents),c.triggerHover=triggerClickHoverEvent},options:l,name:"pie",version:"1.0"})})(jQuery)}),define("ui.FreeBookForm",function(e,t,a){function FreeBookForm(e,t){for(var a in this.onExitCallback=t.onExitCallback||function(){},this.modalVisible=ko.observable(!1),this.modalMode=ko.observable(""),this.inventoryID=t.inventoryID,this.books=t.books,this.bookImages=t.bookImages,this.shippingBlurb=t.shippingBlurb,this.bookItems=[],this.books)this.bookItems.push({title:s.fullName[this.books[a]],price:s.price[this.books[a]]});_.each(this.bookItems,function(e,t){this.bookItems[t].optionsString=this.bookItems[t].title+" - $"+this.bookItems[t].price+" value (included)"},this),console.log(this.bookItems),this.countries=o,this.restrictedCountryCodes=["AF","BR","CD","CG","CI","ER","GW","HT","IR","IQ","LR","LY","MM","KP","RU","SO","SD","SY","UA"],this.restrictedCountryFreePrimeOptions=[{title:"Yes! I\u2019d like an extra month of Prime - $39 value",freePrime:!0},{title:"No thanks, I'd be interested in another option (we'll be in contact with you)",freePrime:!1}],this.restrictedCountryFreePrime=ko.observable(null),this.bookSelection=ko.observable(""),this.shipping={name:ko.observable(""),email:ko.observable(""),phoneNumber:ko.observable(""),address:ko.observable(""),addressLineTwo:ko.observable(""),city:ko.observable(""),state:ko.observable(""),zip:ko.observable(""),country:ko.observable("")},this.validForm=ko.computed(function(){for(var e in this.shipping)if("addressLineTwo"!=e&&"country"!=e&&0>=this.shipping[e]().length)return!1;return!0},this),e(this)}var s=t("shared/books"),o=[{name:"United States",code:"US"},{name:"Canada",code:"CA"},{name:"United Kingdom",code:"GB"},{name:"Afghanistan",code:"AF"},{name:"land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];FreeBookForm.prototype.noBookClicked=function(){this.modalVisible(!0),this.modalMode("Exit")},FreeBookForm.prototype.submitClicked=function(){var e=this;this.validForm()&&(_.contains(this.restrictedCountryCodes,this.shipping.country().code)?(this.modalVisible(!0),this.modalMode("Restricted")):fs.post("addUserShippingInfo",{email:this.shipping.email,inventoryID:this.inventoryID,book:this.bookSelection().title,data:this.shipping},function(){window.IntercomEvent("trackEvent","completed_free_textbook_form"),e.formSubmitted()}))},FreeBookForm.prototype.formSubmitted=function(){this.modalVisible(!0),this.modalMode("Success")},FreeBookForm.prototype.backToShippingClicked=function(){this.modalVisible(!1)},FreeBookForm.prototype.exitPageClicked=function(){this.exitPage()},FreeBookForm.prototype.exitPageSuccessClicked=function(){this.exitPage()},FreeBookForm.prototype.exitPage=function(){window.location="/home"},FreeBookForm.prototype.restrictedCountryFreePrimeClicked=function(){this.restrictedCountryFreePrime().freePrime,this.exitPage()},a.exports=FreeBookForm}),define("ui.GetStarted",function(e,t,a){function GetStarted(e){this.showingFAQs=ko.observable(),e(this),fs.mix(this,"ui/RecommendationsDemo"),fs.mix(this,"ui/GetStartedFAQ",{primeActive:this.primeActive})}GetStarted.prototype.navToSchedule=function(){window.location.href="/qbanks/questions/schedule"},GetStarted.prototype.navToProgress=function(){window.location.href="/qbanks/questions/progress"},a.exports=GetStarted}),define("ui.GetStartedFAQ",function(e,t,a){function GetStartedFAQ(e){this.exitedVideo=ko.observable(),this.primeActive=ko.observable(0<window.user.prime.status),e(this),$(".single-faq",this.dom).on("click",function(){var e=$(".single-faq-text",this),t=$(this).find("i");"none"==e.css("display")?(e.slideDown(400),t.removeClass("fa-plus").addClass("fa-minus")):(e.slideUp(400),t.removeClass("fa-minus").addClass("fa-plus"))})}var s=t("ui/mediaViewer");GetStartedFAQ.prototype.getStartedVideo=function(){var e=this,t=new Date;s.showVideo("TPsv_BDOWGU",function(){var a=new Date-t;e.exitedVideo(1e3>a?"early":"late")})},a.exports=GetStartedFAQ}),define("ui.GettingStartedSeries",function(e,t,a){function GettingStartedSeries(e,t){var a=this;e(this);var d=t.videos||[1,2,3,4];for(var n in d)s.listVideo($(".video-series",this.dom),o[d[n]-1],function(){a.track("Part "+d[n])}),d[n]!=d[d.length-1]&&$(".video-series",this.dom).append("<hr>")}var s=t("models/media"),o=[{v:"qr2jfdkCfSA",t:"Part 1: Stretch your Brain",by:"Osmosis",ds:"",dr:"284",$:"OMWzqOxuRheMrvFKZeQ-o-IUS5GYuI3Z/_.jpg"},{v:"hMKf-VCZb0o",t:"Part 2: Help! Step 1 is weeks away!",by:"Osmosis",ds:"",dr:"147",$:"fi_XHB2LQay_ZUMAeB6GoQSRQ7_IlM0M/_.jpg"},{v:"P6EET9nX5NY",t:"Part 3: Spaced Repetition",by:"Osmosis",ds:"",dr:"225",$:"U_WkECvESAexurRlrNRG937zSwqXyoVj/_.jpg"},{v:"Sv9Xwx3VksA",t:"Part 4: Sync your Curriculum",by:"Osmosis",ds:"",dr:"179",$:"TC8-oMsIRsSm7qETdPVqnCSbSU2fiOy1/_.jpg"},{v:"qr2jfdkCfSA",t:"Part 5: Divide and Conquer",by:"Osmosis",ds:"",dr:"284",$:"gwCJ85QXS-uQfwD8j3tA8USFS06hgwqz/_.jpg"},{v:"qr2jfdkCfSA",t:"Part 6: Night Before the Exam",by:"Osmosis",ds:"",dr:"284",$:"gwCJ85QXS-uQfwD8j3tA8USFS06hgwqz/_.jpg"},{v:"qr2jfdkCfSA",t:"Part 7: Wards",by:"Osmosis",ds:"",dr:"284",$:"gwCJ85QXS-uQfwD8j3tA8USFS06hgwqz/_.jpg"}];GettingStartedSeries.prototype.track=function(e){$.post("/trackUser",{action:"Watched Getting Started "+e})},a.exports=GettingStartedSeries}),define("ui.GroupCalendar",function(e,t,a){function GroupCalendar(e,t){var a=this;this.tz=s,this.cal=new o,this.showCalendar=ko.observable(0<groupData.eventData.eventID.length||"gcauth"in urlQuery),this.mode=ko.observable(window.calendars?"import":"view"),this.loading=ko.observable(!1);var d=0;for(var n in eventIndex)d++;this.showModuleOptions=ko.observable(!d&&0<MID),this.importableEvents=ko.observableArray(),this.remainingImportCount=ko.computed(function(){var e=a.importableEvents(),t=0;for(var s in e)e[s].imported()||t++;return t}),this.editing=ko.observable(),e(this),this.height=$(window).height()-200,this.calendar=fs.mix(this,"ui/Calendar",{model:this.cal,height:500,currentDate:t.currentDate,onModifiedEvent:t.onModifiedEvent}),window.calendars&&(this.showCalendar(!0),this.calendar.render(!0,this.height-80),dialog("ui/dialogs/EventImport",function(){},{parent:this,calendar:this.calendar,from:"google"})),this.editEvents()}var s=t("app/timezone"),o=t("ui/CalendarModel");GroupCalendar.prototype.importEventsFromICalFile=function(){this.showCalendar(!0),this.calendar.render(!0,self.parent.height-80),dialog("ui/dialogs/EventImport",function(){},{parent:this,calendar:this.calendar,from:"file",title:"Import from iCal File",buttonLabels:["Cancel","Preview Events"]})},GroupCalendar.prototype.importEventsFromICalUrl=function(){this.showCalendar(!0),this.calendar.render(!0,self.parent.height-80),dialog("ui/dialogs/EventImport",function(){},{parent:this,calendar:this.calendar,from:"url",title:"Import from iCal URL",buttonLabels:["Cancel","Preview Events"]})},GroupCalendar.prototype.importEventsFromGoogle=function(){dialog("ui/dialogs/EventImport",function(){},{parent:this,calendar:this.calendar,from:"google"})},GroupCalendar.prototype.doImport=function(){var e=this.importableEvents();fs.confirm("Osmosis will create "+e.length+" new events for this group.",function(){var t=[];for(var a in e){var s=e[a].googleEvent.begin,o=e[a].googleEvent.end;t.push({title:e[a].title(),instr:e[a].instructor(),meta:e[a].meta(),begin:+s,length:Math.round((o-s)/60000)})}fs.post("importEvents",{g:groupID,events:t},function(){window.location.href=window.location.pathname})})},GroupCalendar.prototype.manuallyAdd=function(){this.showCalendar(!0),this.calendar.render(!0,self.parent.height-80)},GroupCalendar.prototype.manuallyAddMessage=function(){fs.alert("Just click and drag anywhere on the calendar!","Manually Edit","info")},GroupCalendar.prototype.switchTimezone=function(){fs.post("updateTimezone",{timezone:s.clientTimezone()},function(){location.reload()})},GroupCalendar.prototype.editEvents=function(){this.calendar.render(!0,this.height-80)},GroupCalendar.prototype.doneEditing=function(){this.calendar.render(!1,this.height-80);var e=0;for(var t in eventIndex)e++;1==e&&($("div.jGrowl").jGrowl("close"),setTimeout(function(){$.jGrowl("Now click on the event you just created.",{life:5e3,position:"bottom-left"})},500))},GroupCalendar.prototype.cancelImport=function(){var e=this.remainingImportCount();0<e?fs.confirm("You have "+e+" unimported events. Are you sure you want to discard them?","Discard Events","danger",function(){location.reload()}):this.mode("view")},GroupCalendar.prototype.removeFutureEvents=function(){fs.post("adminRemoveFutureEvents",{groupID:window.groupID},function(){location.reload("")})},a.exports=GroupCalendar}),define("ui.GroupClassExams",function(e,t,a){function GroupClassExams(e,t){if(this.groupName=ko.observable(t.groupName),this.exams=ko.observableArray(),e(this),window.userScheduleData){var a=fs.transpose(window.userScheduleData.examData,s);a.sort(function(e,t){return new Date(""+e.examDate())-new Date(""+t.examDate())}),this.exams(a)}this.schedule=fs.mix(this,"ui/ExamScheduleSmall",{exams:this.exams(),editable:!0})}var s=t("models/Exam");GroupClassExams.prototype.addEntry=function(e){this;return e},a.exports=GroupClassExams}),define("ui.GroupDocList",function(e,t,a){function GroupDocList(e,t){var a=this;this.scheduleType=ko.observable(),this.bounds={begin:ko.observable(moment(window.groupData.bounds.startsOn)),end:ko.observable(moment(window.groupData.bounds.examDate)),single:ko.observable()},this.studyRange=ko.computed(function(){return a.bounds.begin().format("YYYY-MM-DD")==a.bounds.end().format("YYYY-MM-DD")?a.bounds.begin().format("dddd, MMM Do"):a.bounds.begin().format("ddd, MMM Do")+" - "+a.bounds.end().format("ddd, MMM Do")}),this.studyModule=ko.observable("Add Module Filter"),this.availableMIDs=window.groupData.bounds.MIDs,this.selectedMIDs=this.availableMIDs,this.dom=t.dom,this.days=fs.mixList(this,$(".days",t.dom)),this.days.viewModel="ui/GroupDocListDay",this.showMoreVisible=ko.observable(),e(this);var s=moment().format("YYYY-MM-DD");a.selectDateRange(s,s,!0,function(){t.afterLoaded()})}function testSingle(e,t){var a=moment.tz(e.begin(),n.timezone()).format("YYYY-MM-DD");return a==t.format("YYYY-MM-DD")}function testRange(e,t,a){var s=+e.begin(),o=+moment.tz(t.format("YYYY-MM-DD")+" 00:00:00",n.timezone()),d=+moment.tz(a.format("YYYY-MM-DD")+" 23:00:00",n.timezone());return s>o&&s<d}var s=t("core/util"),o=t("app/group"),d=t("ui/ModuleNavObj"),n=t("app/timezone");GroupDocList.prototype.scrollTo=function(e,t){var a=this;t=t||20;var s=$(a.dom).closest(".page-tab"),o=$(e,s);if(o.length){var d=o.offset().top-s.offset().top+s.scrollTop()-t;s.scrollTop(d)}},GroupDocList.prototype.scrollToDate=function(e){e&&this.scrollTo(".date"+moment(e).format("YYYY-MM-DD"))},GroupDocList.prototype.scrollToEvent=function(e){this.scrollTo("[eventid=\""+e+"\"]",30)},GroupDocList.prototype.selectDateRange=function(e,t,a,s){var d=this;if(e){d.bounds.begin(moment.tz(e+" 00:00:00",n.timezone())),d.bounds.end(moment.tz(t+" 23:59:59",n.timezone())),d.bounds.single(a);var l=+d.bounds.begin(),c=+d.bounds.end();this.showMoreVisible(!0),d.currentDate=e}else{d.bounds.begin(moment.tz(window.groupData.bounds.startsOn+" 00:00:00",n.timezone())),d.bounds.end(moment.tz(window.groupData.bounds.examDate+" 23:59:59",n.timezone())),d.bounds.single(!1),d.currentDate="";var l=null,c=null}o.loadToDo(l,c,null,function(e){d.availableMIDs=e.groupData.bounds.MIDs,d.selectedMIDs=d.availableMIDs,d.refreshDocs(e.groupData.bounds.MIDs,d.bounds.begin().format("YYYY-MM-DD")||window.groupData.bounds.startsOn),s&&s()})},GroupDocList.prototype.selectEvent=function(e,t){var a=this;e&&o.loadToDoForEvent(e,function(s){a.availableMIDs=s.groupData.bounds.MIDs,a.selectedMIDs=a.availableMIDs,console.log(s.groupData),a.bounds.begin(moment.tz(s.groupData.bounds.startsOn+" 00:00:00",n.timezone())),a.bounds.end(moment.tz(s.groupData.bounds.examDate+" 23:59:59",n.timezone())),a.refreshDocs(s.groupData.bounds.MIDs,a.bounds.begin().format("YYYY-MM-DD")||window.groupData.bounds.startsOn,e),t&&t()})},GroupDocList.prototype.refreshDocs=function(e,t,a){var s=this,o={0:!0};for(var d in e)o[e[d]]=!0;var l=[],c=this.bounds.begin(),p=this.bounds.end(),u=this.bounds.single()?testSingle:testRange;for(var d in eventIndex)u(eventIndex[d],c,p)&&o[eventIndex[d].MID()]&&l.push(eventIndex[d]);l.sort(function(e,t){var s=+e.begin(),a=+t.begin();return s<a?-1:s>a?1:0}),this.days.removeAll();var m="",v=null,b=null;for(var d in l){var h=moment.tz(l[d].begin(),n.timezone()).format("YYYY-MM-DD");h!=m&&(m=h,v=this.days.push("ui/GroupDocListDay",{eventDate:h}),moment.tz(new Date,n.timezone()).format("YYYY-MM-DD")==m?b=m:moment.tz(new Date,n.timezone()).format("YYYY-MM-DD")<m&&null==b&&(b=m)),v.addEvent(l[d])}this.days.items.length||this.days.push("ui/GroupDocListDay",{eventDate:c.format("YYYY-MM-DD"),isPlaceholder:!0}),this.currentEventID=a},GroupDocList.prototype.createNewModule=function(){dialog("ui/dialogs/CreateModule",function(){location.reload()})},GroupDocList.prototype.getThumbnailDocs=function(){var e=[],t=+this.bounds.begin(),a=+this.bounds.end();for(var o in window.eventIndex){var d=window.eventIndex[o];if(+d.begin()>t&&+d.begin()<a){var n=d.docs();for(var l in n)e.push(s.nodePath(n[l])+"thumb.png")}}shuffle(e);var c=e.slice(0,5);return{list:c,count:e.length-c.length}},GroupDocList.prototype.uploadCalendar=function(){var e=this;dialog("ui/dialogs/CalendarDialog",function(){},{currentDate:this.currentDate,onModifiedEvent:function onModifiedEvent(t){e.selectDateRange(moment(t.begin()).subtract(1,"day").format("YYYY-MM-DD"),moment(t.begin()).add(1,"day").format("YYYY-MM-DD"),!1,function(){e.scrollToEvent(t.eventID),$(document).trigger("refreshCalendar")})}})},GroupDocList.prototype.selectStudyModules=function(){var e=this;dialog("ui/dialogs/StudyModuleSelect",function(t,a,s){a&&(e.selectedMIDs=t.moduleSelect.value(),o.loadToDo(+e.bounds.begin(),+e.bounds.end(),e.selectedMIDs,function(t){s(),e.refreshDocs(t.groupData.bounds.MIDs,e.bounds.begin().format("YYYY-MM-DD")||window.groupData.bounds.startsOn)}))},{availableMIDs:this.availableMIDs,selectedMIDs:this.selectedMIDs})},GroupDocList.prototype.showMore=function(){this.selectDateRange(),this.showMoreVisible(!1),$(document).trigger("clearCalendarSelection")},GroupDocList.prototype.goToPrevDay=function(){var e=this.bounds.begin().add(-1,"days").format("YYYY-MM-DD");this.selectDateRange(e,e,!0,function(){})},GroupDocList.prototype.goToNextDay=function(){var e=this.bounds.begin().add(1,"days").format("YYYY-MM-DD");this.selectDateRange(e,e,!0,function(){})},GroupDocList.prototype.addModules=function(){this.addingModules(!0)},GroupDocList.prototype.viewDemo=function(){analytics.track("Lecture Tutorial",{step:"Init",source:"empty day"}),this.parent.viewDemo()},a.exports=GroupDocList}),define("ui.GroupDocListDay",function(e,t,a){function GroupDocListDay(e,t){var a=this,o=moment.tz(t.eventDate,s.timezone());this.date=ko.observable(o.format("dddd, MMM Do")),this.isToday=ko.observable(moment().format("YYYY-MM-DD")==t.eventDate),this.currentDateClass=ko.observable("date"+o.format("YYYY-MM-DD")),this.editLinkVisible=ko.observable(),this.emptyEvents=ko.observableArray(),this.placeholderEvents=ko.observableArray();var n=[];for(var l in d)n.push({time:d[l],ts:o.format("YYYY-MM-DD")+" "+pad(+l+8,2)+":00:00"});this.placeholderEvents(n),e(this),this.events=fs.mixList(this,".day-events"),this.events.viewModel="ui/GroupDocListEvent"}var s=t("app/timezone"),o=t("models/Event"),d=["8am","9am","10am","11am","12pm","1pm","2pm","3pm","4pm","5pm","6pm"];GroupDocListDay.prototype.pushEvent=function(e){return this.events.push("ui/GroupDocListEvent",{event:e})},GroupDocListDay.prototype.enableEvent=function(e){var t=this;return function(){if(!e.event){var a=new o;a.begin(moment(e.ts).toDate()),t.placeholderEvents.remove(e)}else var a=e.event;var s=t.pushEvent(a);s.uploader.attachVisible(!0),t.emptyEvents.remove(e)}},GroupDocListDay.prototype.addEvent=function(e){e.hasAttachments()?this.pushEvent(e):this.emptyEvents.push({event:e,time:ko.computed(function(){return moment.tz(e.begin(),s.timezone()).format("ha")})})},GroupDocListDay.prototype.toggleEditLink=function(e){var t=this;return function(){t.editLinkVisible(e)}},GroupDocListDay.prototype.sendCalendar=function(){$(".intercom-launcher-button").popover({content:"Open a chat with us by clicking here and you'll be able to attach your schools .ics calendar. Not sure what that is? Send us a message and we'll help you out.",title:"Send Us Your Course Calendar",placement:"left",container:"body"}).popover("show")},GroupDocListDay.prototype.editDay=function(){this.parent.parent.uploadCalendar(),console.log(this.parent),console.log(this.parent.parent)},a.exports=GroupDocListDay}),define("ui.GroupDocListEvent",function(e,t,a){function GroupDocListEvent(e,t){this.event=t.event,this.progressList=ko.observableArray(),e(this);var a=s.get(this.event.eventID);for(var o in a)this.progressList.push(a[o].progressMeter),a[o].currentEventView=this;this.regenerate()}var s=t("app/uploaders");GroupDocListEvent.prototype.regenerate=function(){var e=this;this.uploader&&fs.empty(this.uploader.dom),this.uploader=fs.mix(this,"ui/GroupDocListEventUploader",{event:this.event,progressList:this.progressList,eventView:this,onStartUpload:function onStartUpload(t,a){e.onStartUpload(t,a)}})},GroupDocListEvent.prototype.onStartUpload=function(e,t){var a=this;this.event.requireModuleThen(t,function cancelUpload(){a.progressList.remove(e.progressMeter),a.regenerate()})},GroupDocListEvent.prototype.startedUpload=function(e){this.progressList.push(e.progressMeter),this.regenerate()},GroupDocListEvent.prototype.doneUploading=function(e){return this.progressList.remove(e.progressMeter),"send-to-doc-processing"},GroupDocListEvent.prototype.calculateWidth=function(){var e=this.parent.parent.dom.width(),t=this.event.docs().length,a=550<e?3:2;0<t&&2>=t?this.dom.css("width",Math.floor(e/a)-1):this.dom.css("width",e-1)},a.exports=GroupDocListEvent}),define("ui.GroupDocListEventUploader",function(e,t,a){function GroupDocListEventUploader(e,t){var a=this;this.mode=ko.observable("view"),this.event=t.event,this.docIndex={},this.recsAvailable=ko.observable(0),this.attachVisible=ko.observable(),this.switchMID=ko.observable(),this.showMoveEvent=ko.observable(!1),this.switchingModule=ko.observable(!1),this.deletedDocs=ko.observableArray();var d=[];for(var n in moduleIndex)this.event.MID()!=n&&d.push({MID:n,name:moduleIndex[n].name});this.modules=ko.observable(d),this.totalDocs=ko.computed(function(){return a.event.docLinks().length}),this.time=ko.computed(function(){return moment.tz(a.event.begin(),o.timezone()).format("ha")}),this.dropMsg=ko.observable(),this.progressList=t.progressList,this.mouseIsOver=ko.observable(),this.showingModuleChoices=ko.computed(function(){return a.mouseIsOver()&&!a.event.MID()&&!a.dropMsg()}),this.hasConcepts=ko.observable(),this.overviewVisible=ko.observable(),e(this),this.docGroups=fs.mixList(this,".doc-list"),this.docGroups.viewModel="ui/GroupDocListGroup",this.fillDocs(),this.event.docs.subscribe(function(){a.fillDocs()}),this.event.completed()&&$(".event-attachments",a.dom).hide(),this.uploader=new s({dom:this.dom,currentEvent:this.event,currentUploadView:this,currentEventView:t.eventView,onStartUpload:t.onStartUpload}),$(".viewed-status",this.dom).tooltip({container:"body"})}function organizeDocGroups(e){for(var t=[],t=[],a=0;a<e.length;a++)t.push({docs:[e[a]]});return t}var s=t("ui/DocUploader"),o=t("app/timezone"),d=t("app/group");GroupDocListEventUploader.prototype.fillDocs=function(){var e=organizeDocGroups(this.event.docs());for(var t in this.docGroups.removeAll(),e)this.docGroups.push("ui/GroupDocListGroup",{group:e[t],hasConcepts:this.hasConcepts,overviewVisible:this.overviewVisible})},GroupDocListEventUploader.prototype.showQuickReview=function(){for(var e in this.docGroups)this.docGroups.loadQuickReview();this.overviewVisible(this.overviewVisible())},GroupDocListEventUploader.prototype.onDocProcessed=function(){var e=this;e.fillDocs()},GroupDocListEventUploader.prototype.browse=function(){},GroupDocListEventUploader.prototype.editEvent=function(){"view"==this.mode()?this.mode("edit"):this.mode("view")},GroupDocListEventUploader.prototype.mouseover=function(){this.mouseIsOver(!0)},GroupDocListEventUploader.prototype.mouseout=function(){this.mouseIsOver(!1)},GroupDocListEventUploader.prototype.loadModuleChoices=function(){},GroupDocListEventUploader.prototype.importEventIntoModule=function(e){var t=this;return function(){t.event.setModule(e,function(){$.jGrowl("Event is now in "+moduleIndex[t.event.MID()].name,{life:1e3,position:"bottom-left"})})}},GroupDocListEventUploader.prototype.markEvent=function(){var e=this;this.event.requireModuleThen(function(){e.event.completed(!e.event.completed()),fs.post("markEvent",{g:groupID,m:e.event.MID(),e:e.event.eventID,comp:e.event.completed()?1:0},function(){}),e.event.completed()?$(".event-attachments",e.dom).slideUp():$(".event-attachments",e.dom).slideDown()})},GroupDocListEventUploader.prototype.toggleAttachmentTray=function(){$(".event-attachments",this.dom).is(":visible")?$(".event-attachments",this.dom).slideUp():this.showAttachmentTray()},GroupDocListEventUploader.prototype.showAttachmentTray=function(){$(".event-attachments",this.dom).slideDown()},GroupDocListEventUploader.prototype.switchModule=function(){this.switchingModule(!0),fs.post("adminSwitchEventModule",{groupID:window.groupID,fromEventID:this.event.eventID,toMID:this.switchMID()},function(){location.reload()})},GroupDocListEventUploader.prototype.newModule=function(){$(".tabs-group-coursework .sidebar-menu .modules").trigger("click")},GroupDocListEventUploader.prototype.searchDeletedDocs=function(e){var t=this;fs.post("searchDeletedDocs",{g:window.groupID,eventID:this.event.eventID},function(a){t.deletedDocs(fs.transpose(a.deletedData)),e()})},GroupDocListEventUploader.prototype.restoreDeletedDocs=function(e){this;return function(){fs.post("restoreDeletedDoc",{g:window.groupID,linkID:e.linkID},function(){window.location.reload()})}},GroupDocListEventUploader.prototype.unlinkModule=function(t,a){var e=this;a.stopPropagation(),fs.post("unlinkEventFromModule",{g:window.groupID,eventID:this.event.eventID},function(){e.event.MID(0)})},a.exports=GroupDocListEventUploader}),define("ui.GroupDocListGroup",function(e,t,a){function GroupDocListGroup(e,t){this;this.categoryTabs=ko.observable(),this.currentTab=ko.observable(),this.group=t.group,this.event=t.parent.parent.event,this.hasVideo=ko.observable(!1),this.hasConcepts=t.hasConcepts,this.overviewVisible=t.overviewVisible,e(this);var a=this.group.terms;this.topics=fs.mixList(this,".topics"),this.topics.viewModel="ui/GroupDocListTodoCategory";var s={},o=this.group.docs;for(var d in this.thumbs=fs.mixList(this,".thumbs-list"),this.thumbs.viewModel="ui/CourseDocThumbnail",o)this.thumbs.push("ui/CourseDocThumbnail",{model:o[d],hasConcepts:!1,isFirst:0==d,isLast:+d==o.length-1,categories:a,categoryTotals:s})}GroupDocListGroup.prototype.loadQuickReview=function(){fs.post("loadQuickReview",{g:window.groupID,eventID:this.event.eventID,docs:this.group.docs},function(){})},a.exports=GroupDocListGroup}),define("ui.GroupDocListTodo",function(e,t,a){function GroupDocListTodo(e,t){for(var a in this.tile=ko.observable(t.tile),e(this),this.concepts=fs.mixList(this,".concepts"),this.concepts.viewModel="ui/GroupDocListTodoItem",t.concepts){var s=t.concepts[a];this.concepts.push("ui/GroupDocListTodoItem",{item:{name:s.name,hits:s.hits,tab:o[s.primary],progress:s.progress},isLast:+a==t.concepts.length-1})}}var s=t("ui/tileColors"),o={null:"",1:"Physiology",2:"Pathophysiology",3:"Pharmacology"};GroupDocListTodo.prototype.removeItem=function(e){this.concepts.remove(e),this.concepts.items.length||this.parent.remove(this)},a.exports=GroupDocListTodo}),define("ui.GroupDocListTodoCategory",function(e,t,a){a.exports=function GroupDocListTodoCategory(e,t){this.visible=ko.observable(!0),this.tab=t.tab,e(this),this.topics=fs.mixList(this,".tiles"),this.topics.viewModel="ui/GroupDocListTodo";var a=t.category;for(var s in a)this.topics.push("ui/GroupDocListTodo",{tile:a[s].name,concepts:a[s].concepts})}}),define("ui.GroupDocListTodoItem",function(e,t,a){function GroupDocListTodoItem(e,t){this.item=t.item,this.isLast=t.isLast,this.uploader=t.parent.parent.parent.parent.parent.parent.parent.parent,this.mode=this.uploader.mode,this.flashcardProgress=ko.observable(t.item.progress),this.fontSize=ko.computed(function(){return 1>=t.item.hits?"10px":5>=t.item.hits?"12px":"14px"}),e(this);var a=20*(window.devicePixelRatio||1),s=20*(window.devicePixelRatio||1);$(".radial-progress",this.dom).knob({bgColor:"#eeeeee",fgColor:"#8E6D96",thickness:.25,width:s,height:a,readOnly:!0,displayInput:!1}),$(".knobContainer canvas",this.dom).width(20).height(20)}var s=t("ui/concept");GroupDocListTodoItem.prototype.openConceptCard=function(){s.show(this.item.name,{ref:"doc-plan"})},GroupDocListTodoItem.prototype.openConceptCardTab=function(){s.show(this.item.name,{tab:this.item.tab,ref:"doc-plan"})},GroupDocListTodoItem.prototype.removeTerm=function(){var e=this;fs.confirm("Are you sure you want to remove this concept from the outline?",function(t){fs.post("removeTermRec",{g:window.groupID,eventID:e.uploader.event.eventID,term:e.item.name},function(){e.parent.parent.removeItem(e),t()})})},a.exports=GroupDocListTodoItem}),define("ui.GroupInviteLink",function(e,t,a){function GroupInviteLink(){this.inviteURLs=ko.observableArray(),this.processInviteLinks(window.groupUrlData),this.currentRole=ko.observable(),this.newRole=ko.observable()}GroupInviteLink.prototype.processInviteLinks=function(e){if(this.inviteURLs.removeAll(),e){var t=fs.transpose(e);for(var a in t)t[a].URL=="groupinvite?id="+groupID&&this.inviteURLs.push(t[a])}},GroupInviteLink.prototype.inviteLink=function(e){var t=this;return function(a){function doAction(){fs.post("inviteLink",{g:groupID,action:e,links:t.getLinkList()},function(e){t.processInviteLinks(e.urlData),a()})}"remove"==e||"regenerate"==e?fs.confirm("Are you sure you want to "+e+" this link? The old link will no longer work.",function(e){doAction(),e()}):doAction()}},GroupInviteLink.prototype.getLinkList=function(){var e=[],t=this.inviteURLs();for(var a in t)e.push({id:t[a].keyID,key:t[a].key});return e},GroupInviteLink.prototype.switchMemberRoles=function(){var e=this;fs.post("adminSwitchGroupRoles",{groupID:window.groupID,currentRole:"_"+e.currentRole(),newRole:"_"+e.newRole(),selectOnly:!0},function(t){fs.confirm("Confirm changing roles for "+t.count+" group members?",function(){fs.post("adminSwitchGroupRoles",{groupID:window.groupID,currentRole:"_"+e.currentRole(),newRole:"_"+e.newRole()},function(){location.reload()})})})},a.exports=GroupInviteLink}),define("ui.GroupMembers",function(e,t,a){function GroupMembers(e,t){var a=this;this.showingDetails=ko.observable(!1),this.defaultRole=ko.observable(((240&group.defaultRole)>>4)+"."+(15&group.defaultRole)),this.dom=t.dom,this.members=fs.mixList(this,".members"),e(this),fs.load("groupmember",window.groupMemberData),s.autoUpdate=!1,this.members.source("groupmember","models/GroupMemberView"),this.members.sort(function(e,t){return e.role()>t.role()?1:e.role()<t.role()?-1:0}),s.update(),s.autoUpdate=!0,fs.post("getFollowing",{g:window.groupID},function(e){var t=_.indexBy(e.ids,_.identity);for(var s in a.members.items){var o=a.members.items[s];o.following(t[o.user.userID])}})}var s=t("app/who");GroupMembers.prototype.addMember=function(){dialog("ui/dialogs/GroupAddMemberDialog",function(){},{groupID:groupID,group:this})},GroupMembers.prototype.setDefaultRole=function(){dialog("ui/dialogs/GroupDefaultRoleDialog",function(){},{groupID:groupID,group:this})},GroupMembers.prototype.cancelChanges=function(){location.refresh()},GroupMembers.prototype.showDetails=function(){this.showingDetails(!0)},a.exports=GroupMembers}),define("ui.GroupModule",function(e,t,a){function GroupModule(e,t){var a=this;this.module=t.module,this.notesCount=ko.observable(),this.docCount=ko.observable(),this.quesCount=ko.observable(),this.fcCount=ko.observable(),this.folderOpen=ko.observable(),this.startDate=ko.computed(function(){return moment(a.module.startsOn()+" 12:00:00").format("MMM D")}),this.startYear=ko.computed(function(){return moment(a.module.startsOn()+" 12:00:00").format("YYYY")}),this.endDate=ko.computed(function(){return moment(a.module.examDate()+" 12:00:00").format("MMM D")}),this.endYear=ko.computed(function(){return moment(a.module.examDate()+" 12:00:00").format("YYYY")}),this.endDateStr=ko.computed(function(){return a.module.isLongTerm()?"Long-term":a.endDate()+", "+a.endYear()});var o=(a.module.topics()||[]).slice();for(var d in o)o[d]={src:s.getIcon(o[d],100),name:s.fullName[o[d]]};this.icons=ko.observableArray(o),e(this)}var s=t("shared/topics");e.getIcon=function(){},GroupModule.prototype.editModule=function(){dialog("ui/dialogs/CreateModule",function(e,t){t&&location.reload()},{module:this.module,docCount:this.docCount,buttonLabels:["Cancel","Update Folder"]})},GroupModule.prototype.goToCoursework=function(){$(document).trigger("group/coursework:nav",["docs"])},GroupModule.prototype.goTo=function(e){return function(){window.location.href=e}},GroupModule.prototype.toggleLongTerm=function(e){var t=this;return function(){fs.post("toggleLongTermModule",{m:t.module.moduleID,enabled:e},function(){t.module.isLongTerm(e)})}},GroupModule.prototype.addCard=function(){var e=this;dialog("ui/dialogs/AddItem",function(){$.jGrowl("Saved changes.",{life:1e3,position:"bottom-left"})},{MID:this.module.moduleID,onSaveItem:function onSaveItem(){e.fcCount(e.fcCount()+1)}})},GroupModule.prototype.openFolderView=function(){this.folderView?(this.folderView.visible(!this.folderView.visible()),this.folderView.visible()?this.folderOpen(!0):this.folderOpen(!1)):(this.folderView=fs.mixAppend($(".folder-container",this.dom),"ui/GroupModuleFolderView",{parent:this,MID:this.module.moduleID,visible:!0}),this.folderOpen(!0))},a.exports=GroupModule}),define("ui.GroupModuleFolderView",function(e,t,a){function GroupModuleFolderView(e,t){this;this.documents=ko.observableArray(),this.MID=t.MID,this.visible=ko.observable(t.visible),this.masterCheck=ko.observable(),e(this),this.getDocs()}var s=t("core/util"),o=t("models/Node");GroupModuleFolderView.prototype.toggleCheckboxes=function(){var e=this.getCheckedDocs();if(!(e.length==this.documents().length)){for(var t in this.documents())this.documents()[t].checked(!0);this.masterCheck(!0)}else if(this.masterCheck()){for(var t in this.documents())this.documents()[t].checked(!1);this.masterCheck(!1)}else this.masterCheck(!0);return!0},GroupModuleFolderView.prototype.docLoaded=function(e){for(var t in this.documents())if(this.documents()[t].nodeID==e)return!0},GroupModuleFolderView.prototype.getDocs=function(){var e=this;fs.post("getAllModuleDocs",{g:window.groupID,m:this.MID},function(t){var a=fs.transpose(t.docs);for(var d in a){var n=a[d].nodeID;if(n){var l=new o(n);if(l.data(a[d].data),l&&!e.docLoaded(n)){var c=a[d].begin?moment(a[d].begin).format("ddd MMM Do h:mm a"):"N/A";e.documents.push({thumb:s.nodePath(l)+"thumb.png",name:l.data().s,link:"/open/"+n,nodeID:n,eventDate:c,docNode:l,event:{eventID:a[d].eventID,begin:ko.observable(a[d].begin)},checked:ko.observable()})}}}})},GroupModuleFolderView.prototype.analyzeDoc=function(e){this;return function(){fs.post("getTermRecs",{nodeID:e.nodeID},function(t){console.log(t.termData),0<t.termData.name.length?(tabToURL(window.rewriteTabURL("*/analysis")),$(document).trigger("group/coursework:library",[{docNode:e.docNode,event:e.event}])):fs.alert("Normally \"Analyze Text\" contains a slideshow of concepts related to the document. It looks like we couldn't find any good matches for this particular document.")})}},GroupModuleFolderView.prototype.startQuiz=function(e){this;return function(){dialog("ui/dialogs/QuizByDocuments",function(){},{docs:[e]})}},GroupModuleFolderView.prototype.openDoc=function(e){this;return function(){window.open("/open/"+e.nodeID,"_blank")}},GroupModuleFolderView.prototype.getCheckedDocs=function(){var e=[];for(var t in this.documents()){var a=this.documents()[t];a.checked()&&e.push(a)}return e},GroupModuleFolderView.prototype.buildQuiz=function(){var e=this,t=this.getCheckedDocs();return 1>t.length?void fs.alert("No documents selected",function(){}):void dialog("ui/dialogs/QuizByDocuments",function(){},{docs:t})},GroupModuleFolderView.prototype.deleteDocs=function(){function deleteDocs(a){var s=[];for(var o in t)s.push(t[o].nodeID);fs.post("removeDocuments",{g:groupID,m:e.MID,nodeIDs:s},function(){location.reload()},function(e){fs.alert(e.error.msg,function(){a()})})}var e=this,t=this.getCheckedDocs();if(1>t.length)return void fs.alert("No documents selected",function(){});var a=1<t.length?"Are you sure you want to delete these "+t.length+" documents?":"Are you sure you want to delete this document?";fs.confirm(a,"Delete Documents","danger",function(e){deleteDocs(e)})},GroupModuleFolderView.prototype.moveDocs=function(){var e=this,t=this.getCheckedDocs();dialog("ui/dialogs/MoveDocuments",function(){},{docs:t})},GroupModuleFolderView.prototype.goToCoursework=function(){$(document).trigger("group/coursework:nav",["docs"])},a.exports=GroupModuleFolderView}),define("ui.GroupModules",function(e,t,a){function GroupModules(e){var t=this,a=fs.transpose(navData.moduleData,d);this.modules=ko.observableArray(a),this.sort(),this.allModulesVisible=ko.observable(!1),FEATURES.docs||this.showAll(),this.toggleAllModulesIcon=ko.computed(function(){return t.allModulesVisible()?"-":"+"}),e(this),$(".moduleLink",this.dom).tooltip({container:"body"}),this.getStatsForActiveModules()}var s=t("app/canonical"),o=t("app/group"),d=t("ui/ModuleNavObj");GroupModules.prototype.getStatsForActiveModules=function(){var e=this.modules(),t=[],a={};for(var s in e)e[s].active()&&(a[e[s].moduleID()]=e[s],t.push(e[s].moduleID()));fs.post("getModuleStats",{MIDs:t},function(e){for(var t in e.data){var s=a[t];s.notesCount(e.data[t].notes),s.docCount(e.data[t].docs),s.quesCount(e.data[t].ques),s.fcCount(e.data[t].fc)}})},GroupModules.prototype.sort=function(){this.modules.sort(function(e,t){return new Date(t.startsOn())-new Date(e.startsOn())})},GroupModules.prototype.createModule=function(){var e=this;dialog("ui/dialogs/CreateModule",function(t,a){if(a){var o=t.form.module.name(),n=new d;n.visible(!0),n.name=o,n.url=s.url(o),n.descr=t.form.module.descr(),n.startsOn(t.form.module.startsOn()),n.examDate(t.form.module.examDate()),e.modules.unshift(n)}})},GroupModules.prototype.showAll=function(){this.allModulesVisible(!0);var e=this.modules();for(var t in e)e[t].visible(!0);this.getStatsForActiveModules()},a.exports=GroupModules}),define("ui.GroupModulesStatusBar",function(e,t,a){function GroupModulesStatusBar(e){this;e(this)}t("ui/mediaViewer");GroupModulesStatusBar.prototype.createNewModule=function(){this.modulesPage.createNewModule()},a.exports=GroupModulesStatusBar}),define("ui.GroupOnboardingForm",function(e,t,a){function GroupOnboardingForm(){if(this.state=ko.observable("search"),this.schoolEmail=ko.observable(),this.selectedGroup=ko.observable(),this.selectedGroupID=ko.observable(),this.verificationCode=ko.observable(),this.verificationCodeHints=ko.observable(),this.authKey=null,this.groups=ko.observableArray(),window.schoolGroups&&window.schoolGroups.groups){var e=window.schoolGroups.groups.slice();for(var t in e)e[t].verified=!0;e.sort(function(e,t){return e.name>t.name?-1:e.name<t.name?1:0}),this.groups(e),this.state("groups")}}var s=t("models/GroupSnapshot"),o=["gmail","yahoo","hotmail"];GroupOnboardingForm.prototype.doSearchForSchoolGroups=function(e){var t=this,a=this.schoolEmail();if(!a||!validateEmail(a))return this.state("invalid-email"),e();for(var s in o)if(-1!=a.indexOf("@"+o[s]))return this.state("invalid-school-email"),e();fs.post("lookupSchoolGroups",{email:this.schoolEmail()},function(a){if(!!a.accountConflict)t.state("account-conflict");else if(a.groups.length){for(var s in t.state("groups"),a.groups)a.groups[s].verified=!1;t.groups(a.groups)}else t.state("no-groups");e()})},GroupOnboardingForm.prototype.createPrivateGroup=function(){this.state("no-groups")},GroupOnboardingForm.prototype.selectGroup=function(e,t,a){var s=this;return function(){a?fs.post("joinGroup",{id:e},function(e){fs.post("completeOnboarding",{tab:"Coursework",level:"Unlock Onboarding"}),location.href=window.serverURL+e.url.slice(1)+"/coursework"}):(s.selectedGroupID(e),s.selectedGroup(t),fs.post("verifySchoolEmail",{groupID:e,email:s.schoolEmail()},function(e){s.authKey=e.key,s.state("unlock-group")}))}},GroupOnboardingForm.prototype.joinGroup=function(e){var t=this;t.verificationCode()?fs.post("verifySchoolEmail",{groupID:t.selectedGroupID(),email:t.schoolEmail(),key:t.authKey,code:t.verificationCode()},function(e){location.href="/"+e.url+"/coursework"}):(fs.alert("Please enter a verification code."),e())},GroupOnboardingForm.prototype.createNewGroup=function(){var e=this.schoolName()||"",t=this.gradYear()||"";fs.post("createPrivateGroup",{name:e+" "+t},function(e){location.href="/"+e.url+"/coursework"})},GroupOnboardingForm.prototype.fixEmail=function(){this.state("search"),this.selectedGroup(null),this.selectedGroupID(null)},GroupOnboardingForm.prototype.noGroupListed=function(){this.state("not-listed")},GroupOnboardingForm.prototype.changeState=function(e){var t=this;return function(){t.state(e)}},a.exports=GroupOnboardingForm}),define("ui.GroupPopover",function(e,t,a){function GroupPopover(e){this.showingVideo=ko.observable(),this.showingRequestBox=ko.observable(!0),this.message=ko.observable("Hi, I'd like to get "+navData.group.name+" set up with an Osmosis class group."),e(this),$("#fullpage-wrapper").addClass("blur1px")}GroupPopover.prototype.expandVideo=function(){this.showingVideo(!0)},GroupPopover.prototype.submit=function(){window.notifyOsmosis("Group Activation Request: "+navData.group.name,this.message()),this.showingRequestBox(!1),this.showingVideo(!0),window.IntercomEvent("trackEvent","requested_group_access")},GroupPopover.prototype.close=function(){$(".group-popover").remove(),$("#fullpage-wrapper").removeClass("blur1px")},a.exports=GroupPopover}),define("ui.ICalUploader",function(e,t,a){function ICalUploader(e,t){var a=this;this.editableEvents=ko.observableArray(),this.addFileInput(),setTimeout(function(){$(".iCalFile",a.dom).on("change",function(e){var s=e.target.files[0],o=new FileReader;o.readAsText(s),o.onload=function(e){var s=e.target.result;a.addFileInput(),fs.post("importICal",{g:groupID,calendar:s,from:a.parent.beginDate(),to:a.parent.endDate()},function(e){t.onUploaded(e)})}})},1e3)}var s=t("ui/dialogs"),o=t("models/Event"),d=t("ui/CalendarModel"),n=t("app/timezone");ICalUploader.prototype.importEvent=function(e){var t=new o;t.title(e.title),t.begin(new Date(moment.tz(e.begin,n.timezone()).format()));var a=new Date(moment.tz(e.begin,n.timezone()).format()),s=new Date(moment.tz(e.end,n.timezone()).format()),d=s.getTime()-a.getTime();d/=6e4,t.length(d);fs.create(t)},ICalUploader.prototype.removeEvent=function(e){var t=this;return function(){t.editableEvents.remove(e)}},ICalUploader.prototype.action=function(e){for(var t in this.editableEvents())this.importEvent(this.editableEvents()[t]);e()},ICalUploader.prototype.addFileInput=function(){$(".iCalFile",this.dom).empty().append("<input type=\"file\" name=\"Calendar Upload\" accept=\".ics\">")},a.exports=ICalUploader}),define("ui.InfoCard",function(e,t,a){a.exports=function InfoCard(){}}),define("ui.IntroStudyModules",function(e,t,a){a.exports=function IntroStudyModules(e){this.status=ko.observable(schoolGroups.status),e(this),fs.mix(this,"ui/dialogs/ClassGroupNav"),fs.mix(this,"ui/SelectGroup",{studyModules:!0})}}),define("ui.Invoice",function(e,t,a){a.exports=function Invoice(){var e=this;this.productPrice=ko.observable(0),this.displayPrice=ko.computed(function(){return"$"+e.productPrice()})}}),define("ui.JoySnackbar",function(e,t,a){var s=Math.floor;function getRandomInt(e){return s(Math.random()*s(e))}var o=t("app/schedules/completedDayInfo").completedMessages,d=t("shared/character").themes,n=t("shared/quotes"),l=n.quotes,c=function(){"use strict";function JoySnackbar(e,t){var a=this;if(_classCallCheck(this,JoySnackbar),this.snackbarVisible=ko.observable(!1),this.headerText=t.headerText||o[getRandomInt(o.length)],this.messageText=t.messageText||"",this.delay=t.delay||0,this.type=t.type||"",this.quote=t.quote||"",this.quoteAuthor=t.quoteAuthor||"",this.tracking=t.tracking,"quote"===this.type){var s=l[getRandomInt(l.length)];this.quote=s.quote,this.quoteAuthor=s.author}if(t.theme&&t.image)this.theme=t.theme,this.image=t.image;else{var n=d[getRandomInt(d.length)];this.theme=n.theme,this.image=n.src,n.message&&(this.headerText=n.message)}e(this),setTimeout(function(){a.snackbarVisible(!0)},this.delay)}return _createClass(JoySnackbar,[{key:"show",value:function show(){this.snackbarVisible(!0)}},{key:"closeClick",value:function closeClick(){eventTracker.track("Feature Engagement",_objectSpread({action:"close",feature:"joy-snackbar"},this.tracking),["mixpanel"]),this.hide()}},{key:"hide",value:function hide(){this.snackbarVisible(!1)}},{key:"remove",value:function remove(){fs.unmix(this)}},{key:"share",value:function share(){this.snackbarVisible(!1),dialog("ui/JoySnackbarShareDialog",{quote:this.quote,quoteAuthor:this.quoteAuthor,theme:this.theme,image:this.image})}}]),JoySnackbar}();a.exports=c}),define("ui.JoySnackbarShareDialog",function(e,t,a){a.exports=function JoySnackbarShareDialog(e,t){"use strict";_classCallCheck(this,JoySnackbarShareDialog),this.dialogStyle=t.dialogStyle||"",this.quote=t.quote,this.quoteAuthor=t.quoteAuthor,this.image=t.image,this.theme=t.theme,e(this)}}),define("ui.LabValuesSidebar",function(e,t,a){function LabValuesSideabr(e){this.showLabValues=ko.observable(!1),this.currentTab=ko.observable("blood"),e(this)}LabValuesSideabr.prototype.switchTab=function(e){var t=this;return function(){t.currentTab(e)}},LabValuesSideabr.prototype.toggle=function(){this.showLabValues(!this.showLabValues())},a.exports=LabValuesSideabr}),define("ui.Landing",function(e,t,a){var s=t("app/login"),o=function Landing(e){function resize(){1200<=$(document).width()?$(".setWidthByWindowSize").width("600px").addClass("pull-right").width("600px"):900<=$(document).width()?$(".setWidthByWindowSize").addClass("pull-right").width("70%"):$(".setWidthByWindowSize").removeClass("pull-right").width("100%")}var t=this;this.canLogIn=ko.observable(!0),e(this),$(".jumpToLogin",this.dom).click(function(){t.learnMore()});var a=550<$(window).height()?$(window).height()-39:550;$(".landingHeader",this.dom).height(a),$("#sliderId").unoSlider(),$("a.gallery").colorbox({rel:"gallery",scrolling:"true",width:"70%",height:"80%",closeButton:!1}),$("a.gallery2").colorbox({rel:"gallery2",width:"30%",height:"80%"}),$("a.gallery3").colorbox({rel:"gallery3",scrolling:"true",width:"70%",height:"80%",closeButton:!1}),$("a.gallery4").colorbox({rel:"gallery4",width:"30%",height:"80%"}),resize(),$(window).resize(function(){resize()})};o.prototype.show=function(){},o.prototype.withFacebook=function(){s.withFacebook()},o.prototype.withGoogle=function(){s.withGoogle()},o.prototype.learnMore=function(){goToByScroll($("#divLearnMore"))},o.prototype.tryIt=function(){goToByScroll($(".tryOsmosis",this.dom))},a.exports=o}),define("ui.LibraryAnalysis",function(e,t,a){function LibraryAnalysis(e,t){var a=this,s=this;this.parent=t.parent,this.uploadMode=ko.observable("visible"),this.time=new o(this,this.update,"days"),this.timeSelectorVisible=ko.observable(!0),this.isProcessing=ko.observable(!0),this.tryMessageVisible=ko.observable(!1),this.docSearchVisible=ko.observable(!0),this.docSummaryVisible=ko.observable(!1),this.uploaderVisible=ko.observable(!0),this.isEmpty=ko.observable(),this.docTitle=ko.observable(),this.flashCount=ko.observable(),this.quesCount=ko.observable(),this.conceptCount=ko.observable(),this.progressList=ko.observableArray(),this.defaultRangeStr=ko.observable(" - "+this.time.current()),this.foldersVisible=ko.computed(function(){if("doc"!=a.time.mode()&&"event"!=a.time.mode()){if(a.time.modules())for(var e in a.time.modules()){var t=a.time.modules()[e];if(t.visible())return!0}}}),e(this),this.time.subscribe(),this.update()}function appendTopics(e,t,a){var o=fs.transpose(t.conceptData);if(o.length){for(var d in o)s.add(o[d]);var n=$("<div class=\""+a.toLowerCase()+"\">").appendTo(e);fs.mixAppend(n,"ui/DocPlaylist",{title:a,concepts:o,overall:t.all})}return o.length}var s=t("app/conceptIndex"),o=t("ui/TimeSelector"),d=t("app/timezone");LibraryAnalysis.prototype.showSubjectList=function(){this.parent.view("all")},LibraryAnalysis.prototype.showDocSearch=function(){this.docSearchVisible(!0),this.tryMessageVisible(!1)},LibraryAnalysis.prototype.update=function(){var e=this;fs.post("getConceptsInRange",{g:window.groupID,mode:this.time.mode(),value:this.time.value(),units:this.time.units(),start:+moment.tz(e.time.startDate()+" 00:00:00",d.timezone())/1e3,stop:+moment.tz(e.time.endDate()+" 23:59:59",d.timezone())/1e3,eventID:this.time.eventID,docNodeID:this.time.docNodeID},function(t){if(t.mode!=e.time.mode())return e.isProcessing(!1);e.time.updateModules(t.MIDs),$(".topics",e.dom).empty();var a=0;a+=appendTopics($(".topics",e.dom),t.pathology,"Pathology"),a+=appendTopics($(".topics",e.dom),t.physiology,"Physiology"),a+=appendTopics($(".topics",e.dom),t.anatomy,"Anatomy"),a+=appendTopics($(".topics",e.dom),t.pharmacology,"Pharmacology"),e.isEmpty(0==a),e.isProcessing(!1)})},a.exports=LibraryAnalysis}),define("ui.LibraryEditorControlView",function(e,t,a){var s=t("ui/libraryEditorControls");a.exports=function LibraryEditorControlView(e){for(var t in this.controls=s.controls,e(this),this.controls)this.controls[t].subscribe(function(){s.save()})}}),define("ui.LibraryHeaderDropdown",function(e,t,a){function LibraryHeaderDropdown(e,t){this;for(var a in this.parentDOM=t.parentDOM,this.visible=ko.observable(),this.organSystems=ko.observableArray(),s.subjectIndex){var o=s.fullName[a],d=o.toLowerCase().replace(/\s/g,"_").replace("/","-");this.organSystems.push({id:a,name:o,link:d})}this.initListener()}var s=t("shared/topics");LibraryHeaderDropdown.prototype.initListener=function(){var e=this;this.parentDOM.on("mouseenter",function(){e.visible(!0),e.parentDOM.addClass("active")}),this.parentDOM.on("mouseleave",function(){e.visible(!1),e.parentDOM.removeClass("active")})},LibraryHeaderDropdown.prototype.handleListItemClick=function(e){this;return function(){window.location.href="/library/"+e.link}},a.exports=LibraryHeaderDropdown}),define("ui.LibraryUploadBox",function(e,t,a){function LibraryUploadBox(e,t){var a=this;this.dropMsg=ko.observable(),this.progressList=t.parent.progressList,this.showDropMsg=ko.computed(function(){return a.dropMsg()}),e(this),this.uploader=new s({dom:this.dom,currentEvent:{docLinks:ko.observableArray(),MID:ko.observable(0)},currentUploadView:this,currentEventView:this.parent,onStartUpload:t.onStartUpload}),setTimeout(function(){a.sizeDropTarget()},10),$(window).resize(function(){a.sizeDropTarget()})}var s=t("ui/DocUploader");LibraryUploadBox.prototype.browse=function(){},LibraryUploadBox.prototype.sizeDropTarget=function(){var e=$(".doc-search-uploader .heading-section").outerHeight(),t=+$(this.dom).closest(".scrollable").height();$(".upload-box",this.dom).css({height:t-e-50+"px"})},a.exports=LibraryUploadBox}),define("ui.LibraryUploader",function(e,t,a){function LibraryUploader(e,t){this;this.parent=t.parent,this.uploadMode=ko.observable("visible"),this.isProcessing=ko.observable(),this.tryMessageVisible=ko.observable(!1),this.docSearchVisible=ko.observable(!0),this.docSummaryVisible=ko.observable(!1),this.uploaderVisible=ko.observable(!0),this.isEmpty=ko.observable(),this.workspaceTipVisible=ko.observable(!1),this.docTitle=ko.observable(),this.flashCount=ko.observable(),this.quesCount=ko.observable(),this.conceptCount=ko.observable(),this.progressList=ko.observableArray(),e(this),this.regenerate(),!1}function appendTopics(e,t,a){var o=fs.transpose(t.conceptData);if(o.length){for(var d in o)s.add(o[d]);var n=$("<div class=\""+a.toLowerCase()+"\">").appendTo(e);fs.mixAppend(n,"ui/DocPlaylist",{title:a,concepts:o,overall:t.all})}return o.length}var s=t("app/conceptIndex"),o=t("ui/docUploaderPopup"),d=["Scanning for high-yield concepts...","Linking relevant videos and media...","Compiling flashcards...","Compiling questions...","Building spaced-repetition quizzes..."];LibraryUploader.prototype.finishedProcessing=function(){var e=this;e.isProcessing(!1),e.uploaderVisible(!1);var t={phys:{conceptData:{name:[],thumb:[],available:[],attempted:[],correct:[],tileID:[],hits:[],checked:[]},all:{available:0,attempted:0,correct:0}},path:{conceptData:{name:["Krabbe disease","Tay-Sachs disease","Glycogen storage disease type II","Metachromatic leukodystrophy"],thumb:["KHBMZlrSSwCISofHAKwpwyiKSICJL-yg/_.jpg","OIvAHireSWGCTd6AsJ6wTFt7SMKxBZH6/_.jpg","ZeHnb1D4Q6Kma17TViA0y0m2RNSJytaI/_.jpg","ekswDqbVTsaPxwxKi5U3MC3fQeurEdse/_.jpg"],available:[7,7,7,5],attempted:[6,6,6,5],correct:[5,5,5,3],tileID:[null,null,null,null],hits:[6,5,2,1],checked:[0,0,0,0]},all:{available:26,attempted:23,correct:18}},pharm:{conceptData:{name:[],thumb:[],available:[],attempted:[],correct:[],tileID:[],hits:[],checked:[]},all:{available:0,attempted:0,correct:0}},success:1};appendTopics($(".topics",e.dom),t.phys,"Physiology"),appendTopics($(".topics",e.dom),t.path,"Pathology"),appendTopics($(".topics",e.dom),t.pharm,"Pharmacology");var a=t.phys?+t.phys.all.available:0,s=t.path?+t.path.all.available:0,o=t.pharm?+t.pharm.all.available:0;e.docTitle("Intro to Neural Pathology.pdf"),e.flashCount(a+s+o),e.quesCount(a+s+o-11),e.conceptCount(4),e.docSummaryVisible(!0),$(".loading .status-message",e.dom).html("Reading your document...")},LibraryUploader.prototype.startStatusMessages=function(){var e=this,t=0,a=setInterval(function(){$(".loading .status-message",e.dom).html(d[t]),t++,t==d.length&&(clearInterval(a),setTimeout(function(){e.finishedProcessing()},2e3))},2e3)},LibraryUploader.prototype.regenerate=function(){this;this.uploader&&fs.empty(this.uploader.dom),this.uploader=fs.mix(this,"ui/LibraryUploadBox",{onStartUpload:function onStartUpload(e,t){t()}})},LibraryUploader.prototype.startedUpload=function(e){this.progressList.push(e.progressMeter),this.tryMessageVisible(!1),this.regenerate(),this.isEmpty(!1)},LibraryUploader.prototype.doneUploading=function(e,t,a){var s=this;return this.progressList.remove(e.progressMeter),this.isProcessing(!0),this.uploadMode("next"),fs.post("getDocumentConcepts",a.docData,function(e){s.isProcessing(!1),s.uploaderVisible(!1),console.log(JSON.stringify(e));var t=0;if(t+=appendTopics($(".topics",s.dom),e.phys,"Physiology"),t+=appendTopics($(".topics",s.dom),e.path,"Pathology"),t+=appendTopics($(".topics",s.dom),e.pharm,"Pharmacology"),s.isEmpty(0==t),s.isEmpty()||(s.workspaceTipVisible(!0),s.slideUpBanner=fs.mixAppend(s.dom,"ui/SlideUpBanner",{title:"Create a workspace",content:"With a workspace you can upload documents right to your calendar, review <span data-gift=\"for Kyle\">high-yield</span> concepts, take quizzes, and even highlight!",secondaryContent:"You can also join a group workspace to collaborate with classmates",delay:5e3,ctaText:"Create Workspace",ctaAction:function ctaAction(){s.navToWorkspace("slideUpBanner")}})),!s.isEmpty()&&!1){var a=e.phys?+e.phys.all.available:0,o=e.path?+e.path.all.available:0,d=e.pharm?+e.pharm.all.available:0;s.docTitle("Unknown Title"),s.flashCount(a+o+d),s.quesCount(a+o+d),s.conceptCount(t),s.docSummaryVisible(!0)}}),"skip-doc-processing"},LibraryUploader.prototype.newDoc=function(){var e=this;this.isEmpty()?(this.uploadMode("visible"),this.isEmpty(!1),this.uploaderVisible(!0),this.docSummaryVisible(!1),this.workspaceTipVisible(!1),fs.empty($(".topics",this.dom))):o.showPopup(function(){e.navToWorkspace("popup")},function(){e.uploadMode("visible"),e.isEmpty(!1),e.uploaderVisible(!0),e.docSummaryVisible(!1),e.workspaceTipVisible(!1),fs.empty($(".topics",e.dom))})},LibraryUploader.prototype.showSubjectList=function(){this.parent.view("all")},LibraryUploader.prototype.showDocSearch=function(){this.docSearchVisible(!0),this.tryMessageVisible(!1)},LibraryUploader.prototype.navToWorkspace=function(e){analytics.track("Click Tracking",{type:"Nav to workspace",location:"docanalysis",src:e}),window.location.href="/create/workspace"},LibraryUploader.prototype.navToWorkspaceClick=function(e){var t=this;return function(){t.navToWorkspace(e)}},a.exports=LibraryUploader}),define("ui.MainHeader",function(e,t,a){function MainHeader(e){var t=this;this.visible=ko.observable(!0),this.sidebarIconVisible=ko.observable(!0),this.searchVisible=ko.observable(!0),this.mobileSearchVisible=ko.observable(!1),this.mobileItemsVisible=ko.observable(!0),this.topicsActive=ko.observable(),e(this),this.visible.subscribe(function(e){e?$("#masthead .main-header").removeClass("hidden"):$("#masthead .main-header").addClass("hidden")}),this.topicsDropdown=fs.mixAppend($(".topics-dropdown"),"ui/TopicsDropdown",{}),this.searchBar=fs.mixAppend($("#masthead .search"),"ui/SearchBar",{placeholder:"Search",hideIcon:!0}),this.mobileSearchBar=fs.mixAppend($("#masthead .mobile-search"),"ui/SearchBar",{placeholder:"Search",hideIcon:!1}),this.queueControls=fs.mixAppend($("#masthead .queue-section"),"ui/QueueControlBar"),this.avatar=fs.mixAppend($("#masthead .account-info .avatar"),"ui/Avatar",{userID:ko.observable(userID),userName:ko.observable(user.first+" "+user.last),customSize:40}),fs.mixAppend($("#masthead .upgrade-prime-button"),"ui/UpgradePrimeButton",{}),this.topicsActive.subscribe(function(e){t.topicsDropdown.visible(e),t.topicsDropdown.visible()?window.createCustomOverlay({dom:t.dom,onClick:function onClick(){t.topicsActive(!1)}}):window.removeCustomOverlay()})}MainHeader.prototype.openSidebar=function(){window.slideoutSidebar&&window.slideoutSidebar.open()},MainHeader.prototype.navToLink=function(e){return function(){window.location.href=e}},MainHeader.prototype.toggleMobileSearch=function(e){e.mobileSearchVisible(!e.mobileSearchVisible())},MainHeader.prototype.toggleMobileItems=function(e){e.mobileItemsVisible(!e.mobileItemsVisible())},a.exports=MainHeader}),define("ui.MediaQueryList",function(e,t,a){function MediaQuery(){}MediaQuery.Mobile=window.matchMedia("(max-width: 480px)"),MediaQuery.Tablet=window.matchMedia("(max-width: 768px)"),MediaQuery.Desktop=window.matchMedia("(max-width: 980px)"),MediaQuery.LargeDesktop=window.matchMedia("(max-width: 1280px)"),MediaQuery._listen=function(e,t){var a=MediaQuery[e];t(a),a.addListener(function(a){return t(a)})},MediaQuery._observe=function(e){var t="_".concat(e.toLowerCase(),"Observable");return MediaQuery[t]?MediaQuery[t]():(MediaQuery[t]=ko.observable(MediaQuery[e].matches),MediaQuery._listen(e,function(e){return MediaQuery[t](e.matches)}),MediaQuery[t]())},MediaQuery.ListenMobile=function(e){MediaQuery._listen("Mobile",e)},MediaQuery.IsMobile=function(){return MediaQuery._observe("Mobile")},MediaQuery.ObservableMobile=ko.computed(function(){return MediaQuery.IsMobile()}),MediaQuery.ListenTablet=function(e){MediaQuery._listen("Tablet",e)},MediaQuery.IsTablet=function(){return MediaQuery._observe("Tablet")},MediaQuery.ObservableTablet=ko.computed(function(){return MediaQuery.IsTablet()}),MediaQuery.ListenDesktop=function(e){MediaQuery._listen("Desktop",e)},MediaQuery.IsDesktop=function(){return MediaQuery._observe("Desktop")},MediaQuery.ObservableDesktop=ko.computed(function(){return MediaQuery.IsDesktop()}),MediaQuery.ListenLargeDesktop=function(e){MediaQuery._listen("LargeDesktop",e)},MediaQuery.IsLargeDesktop=function(){return MediaQuery._observe("LargeDesktop")},MediaQuery.ObservableLargeDesktop=ko.computed(function(){return MediaQuery.IsLargeDesktop()}),a.exports=MediaQuery}),define("ui.MegagridMove",function(e,t,a){function MegagridMove(){var t=this;this.target=ko.observable(),this.moveTo=ko.observable(),$(".concept-link").click(function(a){a.preventDefault(),t.target()?t.moveTo($(a.target).text()):t.target($(a.target).text())})}MegagridMove.prototype.move=function(){var e=this;fs.post("megagridMove",{target:this.target(),moveTo:this.moveTo()},function(){e.target(""),e.moveTo("")})},a.exports=MegagridMove}),define("ui.MiniConceptCard",function(e,t,a){function MiniConceptCard(e,t){var a=this;this.name=ko.observable(t.name),this.isOverview=ko.observable(t.isOverview),this.available=ko.observable(t.available),this.attempted=ko.observable(t.attempted),this.correct=ko.observable(t.correct),this.theme=ko.observable("purple"),this.tab=o[t.primary],this.flashcardProgress=ko.computed(function(){return 100*(a.attempted()/a.available())}),this.cardThumb=ko.observable(t.thumb?"https://d16qt3wv6xm098.cloudfront.net/"+t.thumb:""),e(this);var s=20*(window.devicePixelRatio||1),d=20*(window.devicePixelRatio||1);$(".radial-progress",this.dom).knob({bgColor:"#eeeeee",fgColor:"#8E6D96",thickness:.25,width:d,height:s,readOnly:!0,displayInput:!1}),$(".knobContainer canvas",this.dom).width(20).height(20)}var s=t("ui/concept"),o={null:"",1:"Physiology",2:"Pathophysiology",3:"Pharmacology"};MiniConceptCard.prototype.openConceptCard=function(){s.show(this.name,{ref:"megagrid"})},MiniConceptCard.prototype.openConceptCardTab=function(){s.show(this.name,{tab:this.tab,ref:"megagrid"})},MiniConceptCard.prototype.flagCards=function(){s.show(this.name,{tab:"Cards",ref:"megagrid"})},a.exports=MiniConceptCard}),define("ui.MiniSelectableCalendar",function(e,t,a){function MiniSelectableCalendar(e,t){function select(t){a.selectStop=getDate($(t.target));a.selectStop&&a.selectRange(a.selectStart,a.selectStop,!0)}var a=this;this.largeTimes=t.largeTimes,this.groupID=t.groupID||window.groupID,this.title=ko.observable(),this.visibleDate={},e(this),this.onSelect=t.onSelect,this.current=moment(t.currentDate),this.refresh(),this.selectStart="",this.selectStop="",$(".fc-view-container",this.dom).bind("mousedown",function(t){a.selectStart=getDate($(t.target)),select(t)}),$(".fc-view-container",this.dom).bind("mouseup",function(t){a.selectStart&&(select(t),+new Date(a.selectStart)<+new Date(a.selectStop)?a.onSelect(a.selectStart,a.selectStop):a.onSelect(a.selectStop,a.selectStart),a.selectStart="")}),$(".fc-view-container",this.dom).bind("mousemove",function(t){a.selectStart&&select(t)})}function getDate(e){for(var t=null;!t&&e.length;)t=e.attr("data-date"),e=e.parent();return t}var s=t("app/timezone"),o=template("ui/MiniSelectableCalendarWeek"),d=t("ui/CalendarEvent"),n=t("app/group"),l=t("models/Event"),c=["mon","tue","wed","thu","fri","sat","sun"];MiniSelectableCalendar.prototype.refresh=function(){var e=this;$(".fc-day-grid",this.dom).empty(),this.title(this.current.format("MMMM YYYY")),this.currentMonth=moment(this.current).format("M");var t=moment(this.current).startOf("month"),a=moment(t).startOf("isoWeek").subtract(1,"day"),s=moment(this.current).startOf("month");this.visibleDate={};for(var o=0;5>=o;o++)this.addWeek(moment(t).day(7*o).add(1,"day"));e.currentSelStart&&e.currentSelStop&&this.selectRange(e.currentSelStart,e.currentSelStop,!0)},MiniSelectableCalendar.prototype.addWeek=function(e){for(var t=$(o).appendTo($(".fc-day-grid",this.dom)),a=$(".fc-bg",t),s=$(".week-days",t),d=$(".week-events",t),n=0,l;7>n;n++)l=moment(e).add(n,"day"),this.visibleDate[l.format("YYYY-MM-DD")]=!0,$(".fc-"+c[n],a).addClass("dayBG-"+l.format("YYYY-MM-DD")).attr("data-date",l.format("YYYY-MM-DD")).html("<span class=\"day-num\">"+l.format("D")+"</span>"),$(".fc-"+c[n],s).text(l.format("D")).attr("data-date",l.format("YYYY-MM-DD")),l.format("M")!=this.currentMonth&&($(".fc-"+c[n],s).addClass("fc-other-month"),$(".fc-"+c[n],a).addClass("fc-other-month")),$(".fc-"+c[n],d).attr("data-date",l.format("YYYY-MM-DD"));$(".dayBG-"+moment().format("YYYY-MM-DD"),this.dom).addClass("fc-today")},MiniSelectableCalendar.prototype.prevMonth=function(){this.current=moment(this.current).subtract(1,"month"),this.refresh()},MiniSelectableCalendar.prototype.nextMonth=function(){this.current=moment(this.current).add(1,"month"),this.refresh()},MiniSelectableCalendar.prototype.goToToday=function(){},MiniSelectableCalendar.prototype.goToDate=function(e){this.current=moment(e),this.refresh()},MiniSelectableCalendar.prototype.selectAllClick=function(){this.clearSelection(),this.onSelect()},MiniSelectableCalendar.prototype.selectRange=function(e,t,a){if(this.currentSelStart=e,this.currentSelStop=t,!a&&(!this.visibleDate[moment(e).format("YYYY-MM-DD")]||this.currentMonth!=moment(e).format("M")))return this.goToDate(e);var s=moment(t).diff(e,"day");this.clearSelection();var o=0<s?1:-1;s*=o;for(var d=0,n;d<=s;d++)n=moment(e).add(d*o,"days").format("YYYY-MM-DD"),$(".dayBG-"+n,this.dom).addClass("fc-highlight")},MiniSelectableCalendar.prototype.clearSelection=function(){$(".fc-bg .fc-day",this.dom).removeClass("fc-highlight")},a.exports=MiniSelectableCalendar}),define("ui.MiniSidebarNav",function(e,t,a){a.exports=function miniSidebarNav(e,t){this.isDash=ko.observable(t.isDash),console.log(this.isDash()),e(this)}}),define("ui.MiniSlideViewer",function(e,t,a){function MiniSlideViewer(e,t){this.slideVisible=ko.observable(!1),t.src?(this.hasSlide=ko.observable(!0),this.lectureSlideSrc=ko.observable(t.src),this.lectureSlideURL=ko.observable(t.url)):(this.lectureSlideSrc=ko.observable(),this.lectureSlideURL=ko.observable(),this.slide=this.ques.getSlide(),this.slide&&this.slide.index?(this.hasSlide=ko.observable(!0),this.lectureSlideSrc(util.nodePath(this.slide.parent)+"assets/page-"+(this.slide.index+1)+".svg"),this.lectureSlideURL("/doc/"+this.slide.parent.nodeID+"?p="+(this.slide.index+1))):this.hasSlide=ko.observable(!1))}MiniSlideViewer.prototype.showSlide=function(){this.slideVisible(!0)},a.exports=MiniSlideViewer}),define("ui.Modal",function(e,t,a){function Modal(e,t){var a=this;this.loading=ko.observable(!1),this.opts=t,this.closeListener=t.closeListener,this.opts.args||(this.opts.args={}),this.opts.args.modalInstance=this,e(this),a.component=fs.mixAppend($(".body",a.dom),a.opts.component,a.opts.args),$(".ui-Modal").addClass("modal-"+a.opts.component.replace(/\//g,"-")),t.onLoad&&t.onLoad(a.component,a)}Modal.prototype.close=function(){this.closeListener(!0)},Modal.prototype.clearModal=function(){$(".modal-entry").empty()},Modal.prototype.btnClick=function(e){var t=this,a=t;return function(){e.bindToComponent&&(a=t.component),e.action&&e.action(a,t),(e.closeOnAction||"undefined"==typeof e.closeOnAction)&&t.close()}},Modal.open=function(e){$(".modal-entry").empty(),e.footerButtons&&(e.footerButtons=ko.observableArray(e.footerButtons.map(function(e){return e.disabledWhileLoading||(e.disabledWhileLoading=!1),e.classes||(e.classes=""),e}))),e.closeListener=ko.observable(!1),fs.mixAppend($(".modal-entry",this.dom),"ui/Modal",e)},a.exports=Modal}),define("ui.ModuleList",function(e,t,a){function ModuleList(e){var t=fs.transpose(navData.moduleData,s);for(var a in t)t[a].setLongTerm();t.sort(function(e,t){return new Date(t.examDate())-new Date(e.examDate())}),this.hasModules=ko.observable(!!t.length),e(this);var o={};for(var a in this.modules=fs.mixList(this,".modules"),this.modules.viewModel="ui/GroupModule",this.inactiveModules=fs.mixList(this,".inactive-modules"),this.inactiveModules.viewModel="ui/GroupModule",t)o[t[a].moduleID]=t[a].isActive()?this.modules.push("ui/GroupModule",{module:t[a]}):this.inactiveModules.push("ui/GroupModule",{module:t[a]});this.getStatsForModules(o)}var s=t("models/Module"),o=t("app/canonical");ModuleList.prototype.getStatsForModules=function(e){fs.post("getModuleStats",{g:window.groupID},function(t){for(var a in t.data){var s=e[a];s&&(s.notesCount(t.data[a].notes),s.docCount(t.data[a].docs),s.quesCount(t.data[a].ques),s.fcCount(t.data[a].fc))}})},ModuleList.prototype.createNewModule=function(){var e=this;dialog("ui/dialogs/CreateModule",function(t,a){if(a){e.hasModules(!0);var d=t.form.module.name(),n=new s;n.name(d),n.url=o.url(d),n.descr(t.form.module.descr()),n.startsOn(t.form.module.startsOn()),n.examDate(t.form.module.examDate()),e.modules.unshift("ui/GroupModule",{module:n}),window.location.reload()}})},a.exports=ModuleList}),define("ui.ModuleNavObj",function(e,t,a){a.exports=function ModuleNavObj(){var e=this;this.visible=ko.observable(),this.moduleID=ko.observable(),this.examDate=ko.observable(),this.startsOn=ko.observable(),this.notesCount=ko.observable(),this.docCount=ko.observable(),this.quesCount=ko.observable(),this.fcCount=ko.observable(),this.active=ko.computed(function(){if(e.visible())return!0;var t=e.examDate(),a=e.startsOn();if("0000-00-00"!=t&&"0000-00-00"!=a){var s=new Date;return s>new Date(a)&&s<new Date(t)}return!1})}}),define("ui.ModuleSidebar",function(e,t,a){function moduleSidebar(e,t){this.sidebarBtns=[],this.sidebarListDom=$(".menu-items",t.dom),this.moduleName=ko.computed(function(){if(navData.module)return 25>=navData.module.name.length?navData.module.name:navData.module.name.slice(0,22).toString()+"..."}),e(this),fs.mix(this,"ui/ProfileBadge")}moduleSidebar.prototype.goHome=function(){},a.exports=moduleSidebar}),define("ui.NavDrawerSubjectApp",function(e,t,a){function NavDrawerSubjectApp(e,t){var a=this;this.parent=t.parent,this.subjectID=t.id,this.subjectName=t.name,this.subject=t.subject,this.appsExpanded=ko.observable(),this.isDefaultSubject=ko.computed(function(){}),this.breakoutAvailable=ko.computed(function(){return!1});var s=t.name.replace(/\s/g,"_");this.appItems=[{id:"concepts",type:"Resource Map",icon:"fi-play-expanded-o purple",href:"/home/search?topic="+s+"&show=concepts",total:null,active:ko.observable(),menuUI:"ui/SearchDashboard",expandedMenu:!0,onClick:"checkTabNav"},{id:"videos",type:"Videos",icon:"fi-play-o dark-blue",href:"/home/search?topic="+s+"&show=videos",total:t.counts[0],active:ko.observable(),menuUI:"ui/SearchDashboard",onClick:"checkTabNav"},{id:"fc",type:"Flashcards",icon:"fi-flashcard-bolt",href:"/home/quizzes?topic="+s+"&type=fc",total:t.counts[1],active:ko.observable(),menuUI:"ui/QuizDashboard",expandedMenu:!0,onClick:"checkTabNav"},{id:"step1",type:"Step 1 Questions",icon:"fi-step1-qbank-o orange",href:"/home/quizzes?topic="+s+"&type=step1",total:t.counts[2],active:ko.observable(),menuUI:"ui/QuizDashboard",expandedMenu:!0,onClick:"checkTabNav"},{id:"step2",type:"Step 2 Questions",icon:"fi-step2-qbank-o red",href:"/home/quizzes?topic="+s+"&type=step2",total:t.counts[3],active:ko.observable(),menuUI:"ui/QuizDashboard",expandedMenu:!0,onClick:"checkTabNav"}],e(this),this.updateActiveApp(),$(document).on("TabNav.OnEndNavigate",function(){a.updateActiveApp()})}t("core/ui");NavDrawerSubjectApp.prototype.hideNavDrawer=function(){$("body").hasClass("drawer-locked")||$(".ui-NavDrawer").hasClass("map-nav")||setTimeout(function(){$(".secondary-nav-drawer").hide(),$("body").removeClass("drawer-open")},50)},NavDrawerSubjectApp.prototype.init=function(){this.buildBreakoutUI(),this.appsExpanded(!0),this.breakoutAvailable()&&this.setActiveApp()},NavDrawerSubjectApp.prototype.updateActiveApp=function(){this.defaultBreakoutApp=this.appItems[0],this.setActiveApp()},NavDrawerSubjectApp.prototype.handleAppItemClick=function(e){function checkTabNav(t){var a=window.location.pathname;if(768>$(window).width()){if(0<=a.indexOf("home/"))return tabToURL(window.rewriteTabURL(t)),!0;window.location.href=e.href}else if(0<=a.indexOf("home/"))return tabToURL(window.rewriteTabURL(t)),!0;return!1}function alwaysTabNav(){var t=window.location.pathname;return 0<=t.indexOf("home/")?(tabToURL(window.rewriteTabURL(e.href)),!0):void(window.location.href=e.href)}var t=this;return function(){t.parent.currentSubject(t.subjectID);var a;"function"==typeof e.onClick?a=e.onClick(e):"checkTabNav"==e.onClick?a=!checkTabNav(e.href):"alwaysTabNav"==e.onClick&&(a=alwaysTabNav()),a&&e.menuUI&&t.buildBreakoutUI(e),768>$(window).width()&&t.hideNavDrawer(),t.setActiveApp(e)}},NavDrawerSubjectApp.prototype.getAppItem=function(e){for(var t in this.appItems)if(this.appItems[t].id==e)return this.appItems[t]},NavDrawerSubjectApp.prototype.getActiveApp=function(e){return urlQuery.show?"videos"==urlQuery.show?e=this.getAppItem("videos"):"concepts"==urlQuery.show&&(e=this.getAppItem("concepts")):urlQuery.type&&("fc"==urlQuery.type?e=this.getAppItem("fc"):"step1"==urlQuery.type?e=this.getAppItem("step1"):"step2"==urlQuery.type&&(e=this.getAppItem("step2"))),e=e||this.defaultBreakoutApp,e},NavDrawerSubjectApp.prototype.setActiveApp=function(e){e=this.getActiveApp(e),this.parent.deactivateAppItems(),e.active(!0)},NavDrawerSubjectApp.prototype.buildBreakoutUI=function(e){e=e||this.defaultBreakoutApp,this.currentBreakoutAppType!=e.type&&(fs.empty($(".app-breakout",this.dom)),this.currentBreakoutAppType=e.type,this.currentBreakoutApp=fs.mixAppend($(".app-breakout",this.dom),e.menuUI),this.currentBreakoutApp.init(this.subjectID,e.type),this.currentBreakoutApp.locked&&this.currentBreakoutApp.locked()?$(".app-breakout",this.dom).addClass("locked"):$(".app-breakout",this.dom).removeClass("locked"))},NavDrawerSubjectApp.prototype.toggleApps=function(){this.appsExpanded(!this.appsExpanded()),this.appsExpanded()&&(this.parent.currentSubject(this.subjectID),this.breakoutAvailable()&&(this.buildBreakoutUI(),this.setActiveApp()))},NavDrawerSubjectApp.prototype.storeCurrentSubject=function(){window.Storage&&(this.appsExpanded()?window.localStorage.navDrawerSubject=JSON.stringify({id:this.subjectID,name:this.subjectName}):window.localStorage.removeItem("navDrawerSubject"))},a.exports=NavDrawerSubjectApp}),define("ui.NewGroupForm",function(e,t,a){function NewGroupForm(){this.editingName=ko.observable(),this.name=ko.observable(),this.state=ko.observable("needs-school-info"),this.schoolName=ko.observable(),this.gradYear=ko.observable(null),this.programType=ko.observable(),this.invites=ko.observableArray([{email:ko.observable()},{email:ko.observable()},{email:ko.observable()}])}NewGroupForm.prototype.getName=function(){return this.schoolName()+" "+this.programType()+this.gradYear().slice(2,4)},NewGroupForm.prototype.extractInvites=function(){var e=[],t=this.invites();for(var a in t){var s=t[a].email();s&&e.push(s)}return e},NewGroupForm.prototype.jumpTo=function(e){var t=this;return function(){return"confirm-name"==e&&t.name(t.getName()),"confirm-create"==e&&0==_.compact(t.extractInvites()).length?fs.confirm("Are you sure you don't want to invite anyone to this group?",function(a){t.state(e),a()}):void t.state(e)}},NewGroupForm.prototype.addInvite=function(){this.invites.push({email:ko.observable()})},NewGroupForm.prototype.createNewGroup=function(){fs.post("createGroup",{name:this.name(),invites:this.extractInvites()},function(e){location.href="/"+e.url+"/coursework"})},a.exports=NewGroupForm}),define("ui.NewUINotice",function(e,t,a){function NewUINotice(){}var s=t("core/ui");NewUINotice.prototype.openCanary=function(){analytics.track("Click Tracking",{type:"New UI Notice Jan2017"}),window.open("https://canary.osmosis.org","_blank")},NewUINotice.prototype.hideNotice=function(){this;this.dom.slideUp(function(){s.setScrollableHeights(),s.setMobileOnlyScrollableHeights(),s.setResponsiveClass(),s.setColumnResponsiveClass()});window.Storage&&(window.localStorage.uiNoticeNextShow=moment().add("days",1).format("YYYY-MM-DD HH:mm:ss"))},a.exports=NewUINotice}),define("ui.NewUser",function(e,t,a){var s=new function(){var e=this;e.quesList=null,e.quesSets=ko.observableArray(),e.setIndex=ko.observable(0),e.quesFilter=null,e.addNewUser=ko.observable(!1),e.createNew=function(){e.addNewUser(!0)},e.linkAcnts=function(){alert("This hasn't been implemented yet. Please email ryan.haynes at gmail for this to happen.")},e.tradAcnt=function(){alert("Good idea, but this hasn't been implemented yet. Please email ryan.haynes at gmail for this to happen.")},e.firstName=ko.observable(""),e.lastName=ko.observable(""),e.emails=ko.observableArray(),e.primary=ko.observable(0),e.gender=ko.observable(0),e.addEmail=function(){e.emails.push({e:""})},e.createAccount=function(){var t=ko.mapping.toJS(e.emails()),a=[];if(""==e.firstName())return void alert("Please provide your first name.");if(""==e.lastName())return void alert("Please provide your last name.");if(0==e.gender())return void alert("Please provide your gender.");var s=!1;for(var o in t)o==e.primary()&&(s=""!=t[o].e),a.push(t[o].e);return s?void $.post("/newuser",{first:e.firstName(),last:e.lastName(),emails:JSON.stringify(a),primary:e.primary(),gender:e.gender()},parseResult(function(){location.replace("/auth.php?action=redirect")})):void alert("A primary email must be specified.")},e.template=function(t,a,s,o){var d=$("<div class=\"mtm\"></div>"),n=$("<div class=\"fsxxxl center\" data-bind=\"visible:!AddNewUser()\"></div>").appendTo(d);n.append("<div>Hi, "+a+" welcome to Osmosis. To complete your login, please select one of the following:</div>");var l=$("<div class=\"mtl fsxxxl\"></div>").appendTo(n);if(l.append("<div class=\"mbl\"><a href=\"\" data-bind=\"click:CreateNew\">I am a new Osmosis user. I would like to create a new account.</a></div>"),"fb"==t)var c=$("<div><a href=\"\" data-bind=\"click:LinkAcnts\">I already have an account which I would like to link to my Facebook account.</a></div>");else if("google"==t)var c=$("<div><a href=\"\" data-bind=\"click:LinkAcnts\">I already have an account which I would like to link to my Google account.</a></div>");else if("new"==t)var c=$("<a href=\"\" data-bind=\"click:TradAcnt\">I already have an account but I want to create a traditional username/password because I block facebook during exam times.</a>");l.append(c);var p=$("<div class=\"mtm mbs\" data-bind=\"foreach: {data:Emails}\"></div>");p.append($("<div></div>").append("<input type=\"radio\" name=\"PrimEmail\" class=\"mus\" data-bind=\"attr:{value:$index},checked:$root.Primary\"/> ").append(ui.input("",o,"Email")._("value:$data.e")));$("<div data-bind=\"visible:AddNewUser()\"></div>").appendTo(d).append(ui.h(3,"Confirm/add details:")).append(d.vSpace("mbs")).append(ui.input("","","First Name")._("value:FirstName")).append(d.hSpace("mls")).append(ui.input("","","Last Name")._("value:LastName")).append(d.vSpace("mbs")).append("Gender: <label class=\"inline\" for=\"Male\"><input id=\"Male\" type=\"radio\" value=\"1\" data-bind=\"checked:Gender\"/> Male</label>",d.hSpace("mlm"),"<label class=\"inline\" for=\"Female\"><input id=\"Female\" type=\"radio\" value=\"2\" data-bind=\"checked:Gender\"/> Female</label>").append(d.vSpace("mbs")).append("One of the following emails should be your <b>university email</b>. You can associate multiple emails with your account. Please select the one that you would prefer to use as your primary email.").append(p).append("<a href=\"\" class=\"fsm\" data-bind=\"click:AddEmail\">Add Email</a>").append(d.vSpace("mbm")).append(d.button("","Create Account","btn-primary")._("click:CreateAccount"));return e.firstName(a),e.lastName(s),e.emails.push({e:o}),d}};a.exports=s}),define("ui.Newsfeed",function(e,t,a){function Newsfeed(e){var t=this;this.blocks=[],this.features=[],e(this),this.buffer(),$(document).on("fs.destroy:node",function(a,e){2==e.type()&&12==e.subtype()&&(t.buffer(),t.build())})}function maxTime(e){return 2==e.type()&&12==e.subtype()?e.comments().length?e.maxCommentTime():+e.created():e.maxCommentTime()}Newsfeed.prototype.addRow=function(){var e=$("<div class=\"row\">").appendTo(this.dom),t=$("<div class=\"feed-col1 col-lg-6 mainPageColumn\">").appendTo(e),a=$("<div class=\"feed-col2 col-lg-6 mainPageColumn\">").appendTo(e);return{row:e,left:t,right:a}},Newsfeed.prototype.build=function(e){fs.empty(this.dom),this.idx=0,this.count=e||5,this.row=this.addRow(),this.next()},Newsfeed.prototype.next=function(){function moveOn(){o--,0>=o&&e.next()}var e=this;if(!(this.idx>this.blocks.length-1||0==this.count)){var t=this.row,a=t.left.height()<=t.right.height()?t.left:t.right;this.container=fs.mixAppend(a,this.getViewModel(this.blocks[this.idx]),{model:this.blocks[this.idx],style:"feature"});var s=$("img",this.container.dom),o=0;s.length&&s.each(function(){$(this).hasClass("avatarImg")||(o++,$(this).load(moveOn).error(moveOn))}),0==o&&setTimeout(moveOn,10),e.idx++,e.count--}},Newsfeed.prototype.getViewModel=function(e){if(5==e.type())return"models/ques/ViewContainer";return 2==e.type()&&12==e.subtype()?"models/feed/PostView":void 0},Newsfeed.prototype.add=function(e){this.blocks.unshift(e),this.build()},Newsfeed.prototype.buffer=function(){for(var e in this.blocks.length=0,nodeIndex){var t=nodeIndex[e];(1==t.status()||2==t.status())&&(5==t.type()&&0<t.comments().length||2==t.type()&&12==t.subtype())&&this.blocks.push(t)}this.blocks.sort(function(e,t){return maxTime(t)-maxTime(e)})},a.exports=Newsfeed}),define("ui.NewsfeedStatusBar",function(e,t,a){a.exports=function DashboardStatusBar(e){this;e(this)}}),define("ui.NotesList",function(e,t,a){var s=function NotesList(){this;this.currentNode=ko.observable(0),this.autosaveError=ko.observable(""),this.notes=[]};s.prototype.add=function(e){var t=fs.mixAppend($(".notes",this.dom),"models/NodeNoteEditView",{parent:this,note:e});this.notes.push(t)},s.prototype.removeAll=function(){fs.empty($(".notes",this.dom)),this.notes.length=0},s.prototype.autosave=function(){var e=this.notes;for(var t in e)e[t].isModified&&e[t].save()},a.exports=s}),define("ui.NotesView",function(e,t,a){function hasDocs(e){var t=!1,a=e.docLinks();for(var s in a)t=t||0<a[s].node.children.length;return t}a.exports=function NotesView(e,t){this.hasNotes=ko.observable(!1),this.slidesVisible=ko.observable(t.slides),this.printView=ko.observable(t.printable),e(this);var a=$(".eventList",this.dom);for(var s in eventIndex)if(hasDocs(eventIndex[s])){var o=fs.mixAppend(a,"ui/EventNotes",{parent:this,event:eventIndex[s],wantsAutoBlanks:t.wantsAutoBlanks});o.hasNotes()&&this.hasNotes(!0)}}}),define("ui.NotificationBanner",function(e,t,a){function NotificationBanner(e,t){this;this.type=ko.observable(t.type),this.icon=ko.observable(t.icon),this.message=ko.observable(t.message),this.cta=ko.observable(t.cta),this.ctaLink=ko.observable(t.ctaLink),this.expireLength=ko.observable(t.expireLength),this.align=t.align||"center",this.storage=t.storage||"primeBannerNextShow",this.storageTime=t.storageTime||{unit:"days",amount:1},this.theme=ko.observable(t.theme+" "+this.align),e(this),setTimeout(function(){},500),$(window).resize(function(){}),$("body").addClass("top-banner-active")}var s=t("core/ui");NotificationBanner.prototype.positionRightSidebar=function(){var e=$(window).height()-s.getHeight();$(".main-right-sidebar").css("top",e)},NotificationBanner.prototype.hideBanner=function(){var e=this;this.dom.slideUp(function(){s.setScrollableHeights(),s.setMobileOnlyScrollableHeights(),s.setResponsiveClass(),s.setColumnResponsiveClass()}),window.Storage&&(window.localStorage[e.storage]=moment().add(e.storageTime.unit,e.storageTime.amount).format("YYYY-MM-DD HH:mm:ss")),1>=!$("body.page-backend .notifications").length&&$("body").removeClass("top-banner-active")},a.exports=NotificationBanner}),define("ui.OptionsMenu",function(e,t,a){function OptionsMenu(e,t){this;this.title=t.title,this.options=ko.observableArray(t.options),this.filter=t.filter}t("app/tools");OptionsMenu.prototype.goToURL=function(e){return function(){window.location.href=e.url}},a.exports=OptionsMenu}),define("ui.PDFDoc",function(e,t,a){function PDFDoc(){var t=this;if(this.currentNode=nodeIndex[window.docNodeID],this.pages={},this.maxPage=0,window.highlightingBeta&&(window.MID||35459358>window.docNodeID)&&(this.highlightControl=fs.mixAppend($(".toolbar .highlight-control"),"ui/DocHighlightControls",{})),window.MID){this.signUps=fs.mixAppend($("#viewerContainer .lecture-signups"),"ui/SignUps",{event:this.currentNode.getEvent()});var a=this.currentNode.getEvent().eventID;fs.post("/loadQuickFlashcards",{m:MID,nodeID:this.currentNode.nodeID},function(e){o.loadNodes(e.quesData);var s=o.createQuickFlashcards(e);for(var d in s)s[d].eventID=a;t.loadWikiTerms(s,e.matchData)}),$("#reviewNotes").removeClass("hidden")}else t.loadWikiTerms();t.defer(function(){try{var e=t.currentNode.data().s.split(".").pop();("ppt"==e||"pptx"==e)&&$.get(d.nodePathS3(t.currentNode)+"notes.json?ts="+ +new Date,function(e){for(var a in t.pages)e[+a]&&t.pages[a].addNotes(e[+a].trim())})}catch(t){}}),$(window).resize(function(){t.rescale()});$(window).mousemove(function(){for(var e in t.pages)t.pages[e].autosave()}),window.addEventListener("beforeunload",function(){for(var e in t.pages)t.pages[e].autosave()}),$(document).on("mousedown touchstart",function(a){!t.highlightControl||1<=$(a.target).closest(".page").length&&(t.highlightControl.brushEnabled()||t.highlightControl.editActive())&&u.disableScroll()}),$(document).on("mouseup touchend",function(){u.enableScroll()}),$(document).on("click",".keyboardShortcuts",function(){t.showShortcuts()}),$(document).on("click","#viewAs",function(){$(".viewAsDropdown").hasClass("hidden")?$(".viewAsDropdown").removeClass("hidden"):$(".viewAsDropdown").addClass("hidden")}),$(document).on("click",".viewAsDropdown #setDefault",function(){m("pdf")}),$(document).on("click","#viewAsSlide",function(){window.location.href=window.location.href.replace("/pdf/","/doc/")})}var s=t("ui/PDFPageContainer"),o=t("app/recManager"),d=t("core/util"),n=t("app/wikify"),l=t("app/wikiResourceManager"),c=t("app/wikiTermResources"),p=t("ui/pdf/coreutils"),u=t("app/scrollOverride"),m=t("ui/setDefaultViewer"),v=[];PDFDoc.prototype.loadWikiTerms=function(e,t){var a=this;$.get(d.nodePath(a.currentNode)+"text.json?ts="+ +new Date,function(s){n.defer(function(){a.defer(function(){a.parseText(s,e,t)})})})},PDFDoc.prototype.showShortcuts=function(){dialog("ui/dialogs/KeyboardShortcuts")},PDFDoc.prototype.defer=function(e){this.rendered?e():v.push(e)},PDFDoc.prototype.parseText=function(e,t,a){var s=this,o=l.wikifyDocument(e);s.defer(function(){t&&s.recommendFlashcards(t,a),s.recommendTerms(o),s.refreshText()})},PDFDoc.prototype.createPage=function(e,t){var a=e.id;a>this.maxPage&&(this.maxPage=a),this.pages[a]=new s({parent:this,id:a,viewport:e.viewport,dom:$(t),node:this.currentNode.children[+a-1]})},PDFDoc.prototype.render=function(){if(!this.rendered){for(var e in this.rendered=!0,this.pages)this.pages[e].render();if(v.length)for(var e in v)v[e]();urlQuery.p&&(PDFViewerApplication.pdfViewer.currentPageNumber=urlQuery.p)}},PDFDoc.prototype.refreshText=function(){var e=this;this.defer(function(){for(var t in e.pages)e.pages[t].renderText()})},PDFDoc.prototype.rescale=function(){var e=this;this.defer(function(){for(var t in e.pages)e.pages[t].rescale()})},PDFDoc.prototype.recommendFlashcards=function(e,t){var a=t.strong,s=t.weak;for(var o in e){var d=e[o],n=a[d.nodeID];if(n){var l=this.pages[n];(!d.schedule||-7>d.schedule)&&(l.rightTray.addQuickFlashcardToSide(d),l.rightTray.osmosisAvatarController.visible(!0),l.rightTray.osmosisAvatarController.showBadge(!0),l.rightTray.osmosisAvatarController.count(+l.rightTray.osmosisAvatarController.count()+1),l.rightTray.hasQuestions(!0))}else if(s[d.nodeID]){var l=this.pages[this.maxPage];l.pageCardPriority("last"),(!d.schedule||-7>d.schedule)&&l.rightTray.addQuickFlashcardToBottom(d)}}},PDFDoc.prototype.recommendTerms=function(e){for(var t in this.pages){var a=e.slide2terms[t];e.slide2terms[t]&&(this.pages[t].slideTerms=a),c.addFutureTerms(_.map(a,function(e){return e.term}))}},PDFDoc.prototype.addAnnotationLayer=function(e){var t=this.pages[e];t&&(t.renderText(),t.addAnnotationLayer())},PDFDoc.prototype.expandContentCards=function(e){for(var t in this.pages)this.pages[t].expandContentCards(e)},PDFDoc.prototype.collapseContentCards=function(e){for(var t in this.pages)this.pages[t].collapseContentCards(e)},a.exports=PDFDoc}),define("ui.PDFLeftTray",function(e,t,a){function PDFLeftTray(e,t){this.type=t.type,e(this)}t("app/wikiTermResources");PDFLeftTray.prototype.addMarginTerms=function(){var e=this;this.termTags={};var t=this.thumbnailIndex,a=this.fullTerms;if(t&&a){fs.empty($(".doc-page-margin",this.dom));var s="pdf"==this.type?$(".textLayer div",this.parent.dom):$(".doc-page-svg text tspan",this.parent.dom);s.each(function(s,o){var d=$(o).text();for(var n in a)if(-1!=d.search(a[n].text)){var l=a[n].term;if(!(l in e.termTags)){var c=t[l];if(c)if("pdf"==e.type)e.attachTerm(l,c,a[n].text,$(o).position().top+$(o).height()/2);else{var p=$(".doc-page-svg",e.parent.dom).height()/$(".doc-page-svg",e.parent.dom).attr("height").split("pt")[0];e.attachTerm(l,c,a[n].text,+$(o).attr("y")*p-$(o).height())}}}});var o=[];for(var d in e.termTags)o.push(e.termTags[d]);o.sort(function(e,t){return e.y-t.y});for(var d=0,n;d<o.length-1;d++)n=o[d].y+o[d].dom.height()-o[d+1].y+3,0<n&&o[d+1].setY(o[d+1].y+n)}},PDFLeftTray.prototype.attachTerm=function(e,t,a,s){var o=fs.mixAppend($(".doc-page-margin",this.dom),"ui/WikiTermContainer",{pageNodeID:this.parent.node.nodeID,term:e,thumbnails:t,text:a,x:0,y:s,width:this.dom.width()-5});this.termTags[e]=o},a.exports=PDFLeftTray}),define("ui.PDFPageContainer",function(e,t,a){function PDFPageContainer(e){var t=this;this.parent=e.parent,this.id=e.id,this.dom=e.dom,this.node=e.node,this.viewport=e.viewport,$.get(PDF_INFO_URL,function(e){t.info=e}),n.clearCache();var a=fs.transpose(window.highlightData);for(var s in a){var o=a[s].content.split("|");for(var d in o)n.cacheAnnotation(a[s].nodeID,o[d])}}function wikiLink(e,t){return"<span class=\"slide-wiki-term\" term=\""+t+"\">"+e+"</span>"}var s=t("app/wikiTermResources"),o=t("app/wikify"),d=t("ui/pdf/renderIndex"),n=t("ui/pdf/annotationStore");PDFPageContainer.prototype.render=function(){this;this.leftTrayContainer=$("<div class=\"page-tray page-left-tray\">").prependTo(this.dom);var e=window.MID?"":"style=\"display:none\"";this.rightTrayContainer=$("<div class=\"page-tray page-right-tray\" "+e+">").appendTo(this.dom);var t=$("<div style=\"position:relative\">").prependTo(this.dom);this.footerContainer=$("<div class=\"doc-page-footer wikify\"><div class=\"wikiTerms content-text\"></div><div class=\"slide-notes content-text\"></div></div>").appendTo(t),this.leftTray=fs.mixAppend(this.leftTrayContainer,"ui/PDFLeftTray",{parent:this,node:this.node,type:"pdf"}),this.rightTray=fs.mixAppend(this.rightTrayContainer,"ui/PDFRightTray",{parent:this,node:this.node}),this.rescale()},PDFPageContainer.prototype.addNotes=function(e){var t=this;o.defer(function(){$(".slide-notes",t.dom).append(e),o.wikifyElements($(".slide-notes",t.dom),{ref:"doc-slide",originID:t.node.nodeID}),t.rescale()})},PDFPageContainer.prototype.rescale=function(){var e=120;this.leftTrayContainer.width(e);var t=$(".page",this.dom).outerWidth(),a=550<this.dom.width()-(t+e)?550:this.dom.width()-(t+e);300>a?(a=this.dom.width()-t,e=0,this.leftTrayContainer.addClass("hidden"),200>a?this.rightTrayContainer.addClass("hidden"):this.rightTrayContainer.removeClass("hidden")):(this.leftTrayContainer.removeClass("hidden"),this.rightTrayContainer.removeClass("hidden")),this.footerContainer.width($(".page",this.dom).width()-32).css({"margin-left":e+9+"px",top:$(".page",this.dom).height()+13+"px"}),$(".page",this.dom).css({"margin-bottom":this.footerContainer.outerHeight()+20+"px"}),this.rightTrayContainer.width(a-12),this.reloadAnnotationLayer(),this.leftTray&&this.leftTray.addMarginTerms()},PDFPageContainer.prototype.addAnnotationLayer=function(){this.removeAnnotationLayer();var e=$(".page",this.dom),t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("class","annotation-layer"),$(".page",this.dom).append(t),$(".annotation-layer",this.dom).css("width",e.width()).css("height",e.height()).attr("slidenodeid",this.node.nodeID),this.info)var a=e.width()/this.info.dimensions.width,s={viewBox:[0,0,this.info.dimensions.width,this.info.dimensions.height],scale:a,rotation:0,offsetX:0,offsetY:0,transform:[a,0,0,-1*a,0,e.height()],width:e.width(),height:e.height(),fontScale:a};else var s=this.viewport;d.render(t,s,n.getAnnotations(this.node.nodeID))},PDFPageContainer.prototype.removeAnnotationLayer=function(){$(".annotation-layer",this.dom).remove()},PDFPageContainer.prototype.reloadAnnotationLayer=function(){this.removeAnnotationLayer(),this.addAnnotationLayer($(".page .doc-page-svg",this.dom))},PDFPageContainer.prototype.addSeeAlso=function(){var e=this,t=this.slideTerms;if(t){var a=[];s.getTermIcons(_.map(t,function(e){return e.term}),function(s){for(var d in t){var n=s[t[d].term];n&&a.push(t[d].term+" "+n)}for(var d in a.sort(),e.leftTray.fullTerms=t.slice(),e.leftTray.thumbnailIndex=s,e.leftTray.terms=[],t)e.leftTray.terms.push(t[d].term);o.wikifyElements($(".wikify",e.dom),{ref:"doc-slide",originID:e.node.nodeID}),$(".wikiTerm",e.dom).each(function(e,t){$(t).html($(t).html().replace(/\s/g,"&nbsp;"))}),e.leftTray.addMarginTerms()})}},PDFPageContainer.prototype.autosave=function(){this.rightTray&&this.rightTray.noteView&&this.rightTray.noteView.isModified&&this.rightTray.noteView.save()},PDFPageContainer.prototype.expandContentCards=function(e){for(var t in $(".osmosis-controller, .user-controller, .classmate-controllers").hide(),this.rightTray.userAvatarController.visible()&&this.rightTray.userContentCard.visible(!0),this.rightTray.osmosisAvatarController.visible()&&$(".right-tray-assets .osmosis-assets",this.dom).show(),this.rightTray.classmates.items)this.rightTray.classmates.items[t].visible(!0);this.rightTray.contentCardsExpanded(!0),this.rightTray.scrollTo(e)},PDFPageContainer.prototype.collapseContentCards=function(e){for(var t in $(".osmosis-controller, .user-controller, .classmate-controllers").show(),this.rightTray.userContentCard.visible(!1),$(".right-tray-assets .osmosis-assets",this.dom).hide(),this.rightTray.classmates.items)this.rightTray.classmates.items[t].visible(!1);this.rightTray.contentCardsExpanded(!1),this.rightTray.scrollTo(e)},PDFPageContainer.prototype.linkTermText=function(e){var t=this;e.mouseenter(function(t){window.getSelection().toString()||$("body").append("<div class=\"mouseover-term\">click: "+$(t.target).attr("term")+"</div>")}).mouseout(function(){$(".mouseover-term").remove()}).bind("click",function(a){window.getSelection().toString()||o.showResources($(a.target).attr("term"),$(a.target).text(),{ref:"doc-slide",originID:t.node.nodeID})})},PDFPageContainer.prototype.renderText=function(){var e=this;$(".textLayer",this.dom).length&&(this.addSeeAlso(),$(".textLayer div",this.dom).addClass("content-text"),o.wikifyElements($(".textLayer",this.dom),null,wikiLink),$(".slide-wiki-term",this.dom).each(function(t,a){e.linkTermText($(a))}))},a.exports=PDFPageContainer}),define("ui.PDFRightTray",function(e,t,a){function PDFRightTray(e,t){var a=this;this.node=t.node,this.autosaveError=ko.observable(),this.hasPrivateNotes=ko.observable(!1),this.creatingFlashcard=ko.observable(!1),this.creatingQuestion=ko.observable(!1),this.quickSideFlashcards=ko.observableArray(),this.quickSideFlashcard=ko.observable(!0),this.cardActive=ko.observable(!1),this.hasResources=ko.observable(!1),this.hasQuestions=ko.observable(!1),this.contentCardsExpanded=ko.observable(t.parent.expandCards&&t.parent.expandCards()||!1),e(this),this.quesList=fs.mixList(this,$(".quesList",this.dom)),this.quesList.route="node",this.quesList.viewModel="models/ques/EditContainer",this.userContentCard=fs.mixAppend($(".personal-assets",this.dom),"ui/DocUserContentCard",{theme:"purple",type:"user",slideNodeID:this.node.nodeID,page:this}),this.osmosisFCBrowser=fs.mix(this,"ui/QuickFlashcardBrowser"),this.osmosisAvatarController=fs.mixAppend($(".osmosis-controller",this.dom),"ui/DocUserAvatar",{parent:this,type:"osmosis",osmosisCardDom:$(".osmosis-assets.right-of-slide",this.dom)}),this.userAvatarController=fs.mixAppend($(".user-controller",this.dom),"ui/DocUserAvatar",{parent:this,userID:window.userID,type:"user",contentCard:this.userContentCard}),this.classmates=fs.mixList(this,$(".classmates",this.dom)),this.classmates.viewModel="ui/DocUserContentCard",this.avatarControllers=fs.mixList(this,$(".classmate-controllers",this.dom)),this.avatarControllers.viewModel="ui/DocUserAvatar",this.loadAttachments(),this.disableAnnotations=function(){},o.addUnsavedWorkCheck(this.quesList),this.contentCardsExpanded()&&setTimeout(function(){a.expandContentCards()},10)}var s=t("models/Note"),o=t("app/quesEdit"),d=t("models/media");PDFRightTray.prototype.loadAttachments=function(){if(null==this.node.note){var e=new s;e.nodeID=this.node.nodeID,e.content({n:"<ul><li></li></ul>"}),e.isEmpty=!0,this.node.note=e,this.addPrivateNote(e)}else this.addPrivateNote(this.node.note),this.hasPrivateNotes(!0);this.fillResources(),this.fillQues()},PDFRightTray.prototype.createPrivateNote=function(){this.hasPrivateNotes(!0),this.quickSideFlashcard(!1),$(".models-NodeNoteEditView .fr-element",this.dom).focus().click()},PDFRightTray.prototype.addPrivateNote=function(e){this.noteView=fs.mixAppend($(".private-notes",this.dom),"models/NodeNoteEditView",{parent:this,note:e}),$(".OsmosisBlockText",this.noteView.dom).focus().click()},PDFRightTray.prototype.scrollTo=function(e,t){var a=this,s=s||0,o=$("#viewerContainer"),d=$(e,o);if(d.length){var n=d.offset().top-o.offset().top+o.scrollTop()-s;t?o.animate({scrollTop:n},500):o.scrollTop(n)}},PDFRightTray.prototype.createFlashcard=function(){var e=this.quesList.add(0,{newQuesType:5,boxed:!0,tools:{types:"none",tags:!0,saveBtns:!0,contentTeamTags:!1}});e&&(e.slideNodeID=this.node.nodeID,this.creatingFlashcard(!0),this.creatingQuestion(!1)),this.scrollTo($(".quesList",this.dom),!0),setTimeout(function(){$(".card-front .fr-element").focus()},100)},PDFRightTray.prototype.createQuestion=function(){var e=this.quesList.add(0,{newQuesType:1,boxed:!0,tools:{types:"ques",tags:!0,saveBtns:!0,contentTeamTags:!1}});e&&(e.slideNodeID=this.node.nodeID,this.creatingQuestion(!0),this.creatingFlashcard(!1)),this.scrollTo($(".quesList",this.dom),!0)},PDFRightTray.prototype.fillResources=function(){var e=$(".slide-resources .resources",this.dom),t=this.node.linksTo();if(e.is(":empty"))for(var a in t)if(4==t[a].target().type()&&5==t[a].target().subtype()){var s=$("<div class=\"resource-container\"></div>").appendTo(e);4==t[a].target().subtype()&&s.css("width","100px").css("height","100px"),d.displayResource(s,t[a].target()),this.hasResources(!0)}},PDFRightTray.prototype.fillQues=function(){var e=this,t={},a=this.node.linksFrom();for(var s in a){var o=a[s].node,d=o.userID();d in t?t[d].push(o):t[d]=[o]}for(var d in t)if(window.userID==d){var n=t[d];for(var l in n)5==n[l].subtype()?this.userContentCard.addCard(n[l]):this.userContentCard.addQuestion(n[l]);this.userContentCard.visible(!0),this.userContentCard.collapsed(!1),this.userAvatarController.visible(!0),this.hasQuestions(!0)}else{var c=this.classmates.push("ui/DocUserContentCard",{userID:d,content:t[d],theme:"gray",type:"classmate",slideNodeID:this.node.nodeID,page:this});c.isFollowing.subscribe(function(){e.sortNotFollowed()}),this.avatarControllers.push("ui/DocUserAvatar",{parent:this,userID:d,type:"classmate",contentCard:c,visible:!0}),c.visible(!1),this.hasQuestions(!0)}this.parent.expandCards&&this.parent.expandCards()&&this.expandContentCards(),this.sortNotFollowed()},PDFRightTray.prototype.addQuickFlashcardToSide=function(e){this.osmosisFCBrowser.add({flashcard:e,page:this,docNodeID:this.parent.parent.currentNode.nodeID,adminCanRemove:!0}),this.quickSideFlashcards.push(e)},PDFRightTray.prototype.addQuickFlashcardToBottom=function(e){this.bottomCardCount(this.bottomCardCount()+1);fs.mixAppend($(".bottom-of-slide .quick-flashcards",this.dom),"ui/QuickSlideFlashcard",{flashcard:e,docNodeID:this.parent.parent.currentNode.nodeID,adminCanRemove:!0})},PDFRightTray.prototype.onSaveQues=function(e){this.quesList.remove(e),5==e.ques.subtype()?(e.ques.schedule=1,this.userContentCard.addCard(e.ques)):this.userContentCard.addQuestion(e.ques),this.userContentCard.visible(!0),this.userContentCard.collapsed(!1),this.userAvatarController.visible(!0),this.hasQuestions(!0),this.contentCardsExpanded()&&this.expandContentCards()},PDFRightTray.prototype.sortNotFollowed=function(){this.avatarControllers.sort(function(e,t){return t.contentCard.isFollowing()-e.contentCard.isFollowing()});var e=this.avatarControllers.items.length;$(".classmate-controllers .ui-DocUserAvatar",this.dom).css("z-index",function(t){return e-t})},PDFRightTray.prototype.toggleSpacebarHint=function(e){var t=this;return function(){t.osmosisFCBrowser.toggleSpacebarHint(e)}},PDFRightTray.prototype.expandContentCards=function(){this.parent.parent.expandContentCards(this.dom)},PDFRightTray.prototype.collapseContentCards=function(){this.parent.parent.collapseContentCards(this.dom)},a.exports=PDFRightTray}),define("ui.PDFViewerPanel",function(e,t,a){var s=function PDFViewerPanel(){this.PDF=null,this.IFrame=null,this.onPageChange=null,this.nodeID=0};s.prototype.createIFrame=function(e,t){var a=this;return a.IFrame=$("<iframe id=\"pdf-frame\" src=\"/3rd/pdfjs/viewer.html\" frameborder=\"0\" style=\"width:100%; height:100%\"></iframe>").appendTo(ui.Fullscreen),$("#pdf-frame").load(function(){a.PDF=$("#pdf-frame").get(0).contentWindow.PDFView,a.openDoc(e,t),a.IFrame.contents().find("body").mousemove(detectMouseMovement),$("#pdf-frame").get(0).contentWindow.addEventListener("pagechange",function pagechange(){currentPage!=a.PDF.page&&(currentPage=a.PDF.page,a.onPageChange(currentPage))})}),a.IFrame},s.prototype.nextPage=function(){this.PDF.page++},s.prototype.prevPage=function(){this.PDF.page--},s.prototype.openDoc=function(e){this.nodeID=nodeID;var t=$("#pdf-frame").contents(),s=$(".page",t);for(var o in s.each(function(e,t){$(t).remove()}),null!=docPageNode&&(this.PDF.initialBookmark="page="+(docPageNode.index+1),docPageNode=null),currentDoc=a.nodeIndex[e],currentPageNode=currentDoc.children[this.PDF.page-1],uiDocTabNotesList.containers.removeAll(),currentDoc.children){var d=currentDoc.children[o];if(null==d.note){var n=new data.Note;n.init(),d.note=n,n.nodeID=currentDoc.children[o].nodeID,uiDocTabNotesList.containers.push(uiDocTabNotesList.createNotesContainer(n))}else uiDocTabNotesList.containers.push(uiDocTabNotesList.createNotesContainer(d.note))}var d=a.nodeIndex[e];this.PDF.open(nodePath(d)+PDFPath(d)),currentDocID=e,uiDocTabNotesList.currentNode(currentPageNode.nodeID)},s.prototype.goToPage=function(e){this.PDF.page=e};var o=new s;a.exports=o}),define("ui.PageManager",function(e,t){var a=t("ui/page"),s=t("core/doc");e.init=function(){a.ViewGroups=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewGroups.loaded=!1,a.Review=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.Review.loaded=!1,a.ViewQues=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewQues.loaded=!1,a.ViewQuesFor=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewQuesFor.loaded=!1,a.ViewRes=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewRes.loaded=!1,a.ViewDocs=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewDocs.loaded=!1,a.ViewDoc=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewDoc.loaded=!1,a.ViewNotes=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.ViewNotes.loaded=!1,a.PrintNotes=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.PrintNotes.loaded=!1,a.SearchResults=$("<div class=\"uiPage hidden\"></div>").appendTo(s.content),a.SearchResults.loaded=!1,a.hideAll=function(){a.ViewGroups.addClass("hidden"),a.ViewGroups.active=!1,a.Review.addClass("hidden"),a.Review.active=!1,a.ViewQues.addClass("hidden"),a.ViewQues.active=!1,a.ViewQuesFor.addClass("hidden"),a.ViewQuesFor.active=!1,a.ViewRes.addClass("hidden"),a.ViewRes.active=!1,a.ViewDocs.addClass("hidden"),a.ViewDocs.active=!1,a.ViewDoc.addClass("hidden"),a.ViewDoc.active=!1,a.ViewNotes.addClass("hidden"),a.ViewNotes.active=!1,a.PrintNotes.addClass("hidden"),a.PrintNotes.active=!1,a.SearchResults.addClass("hidden"),a.SearchResults.active=!1},a.reset=function(e){a.hideAll(),$("body").removeClass("NoScroll"),window.scrollTo(0,0),s.sidebarVisible=!0,s.outerContainer.removeClass("hidden"),s.fullscreen.addClass("hidden"),s.fsSidebar.addClass("hidden"),$(".YoutubeVideo").tubeplayer("pause"),0!=$("#VideoContainer").length&&videojs("VideoContainer").pause(),a.hideSidebar(),a.current=a[e],a[e].removeClass("hidden"),a[e].active=!0},a.hideSidebar=function(){s.sidebarVisible=!1},a.goFullscreen=function(){a.hideAll(),a.hideSidebar(),s.outerContainer.addClass("hidden"),s.fullscreen.removeClass("hidden"),s.fsSidebar.removeClass("hidden")}}}),define("ui.Plans",function(e,t,a){function Plans(e,t){var a=this,v=this;if(this.caption=t.caption,this.subcaption=t.subcaption,this.extraClasses=ko.observable(),this.halloween=ko.observable(!1),this.thanksgiving=ko.observable(!1),this.holidaysDeal=ko.observable(!1),this.schoolDealActive=t.schoolDealActive,this.userDealActive=t.userDealActive,this.bookDealActive=t.bookDealActive,this.bookDealCaption=this.bookDealActive?window.deal.caption:"",this.bookDealSubcaption=this.bookDealActive?window.deal.subcaption:"",this.books=t.books||[],this.bookImages=t.bookImages||[],this.shippingBlurb=t.shippingBlurb||"Thanks for providing your shipping address. You should receive an email confirmation within 5 working days that your book has shipped.",this.discount=t.discount,this.discountCodeStatus=ko.observable(),this.mode=ko.observable(t.discount||window.userDiscount||"credit100"),this.disclaimer=t.disclaimer,this.hasSubBanner=!1,this.subBannerText="",this.hasCountdown=t.hasCountdown||ko.observable(),this.countdownCaption=t.countdownCaption||"deals left!",this.remainingCount=t.initialCount||ko.observable(0),p.setupTimer(),window.deal)switch(window.deal.url){case"backtoschool18":this.hasSubBanner=!0,this.subBannerText="Want even bigger savings? We offer additional discounts to groups.";break;case"750k":this.hasCountdown(!0),this.remainingCount(750);break;case"halloween":this.halloween(!0),this.extraClasses("halloween");break;case"thanksgivingsale":this.thanksgiving(!0),this.extraClasses("thanksgiving");break;case"happyholidays2018":this.extraClasses("holidays"),this.holidaysDeal(!0);break;case"vday2019":this.hasCountdown(!0);break;default:}if(this.hasCountdown())setInterval(function(){v.updateCounter()},12e4);this.showQuotes=!1,this.primeExpiresIn=-moment().diff(window.user.prime.expires,"day"),this.hasPrime=ko.observable(1<=window.user.prime.status),this.hasPreviouslyPurchasedPrime=ko.observable(1==window.user.prime.status),this.primePlanBannerText=30>this.primeExpiresIn?"Your current membership expires in "+this.primeExpiresIn.toString()+" day":"",1<this.primeExpiresIn&&this.primePlanBannerText&&(this.primePlanBannerText+="s"),this.labelCurrentPlan=ko.observable(),!this.hasPrime()&&window.userID&&this.labelCurrentPlan("show"==l.select({name:"red-current-plan-label",a:"show",b:"hide"})),this.ctaMessage="Become a member",this.selectedPlan=ko.observable(),this.monthlyPricingVisible=!0;var h=[48,24,12];if(-1<inventoryData.group[0].indexOf("_hi6mo")&&l.select({name:"include-six-month-plan",a:!0,b:!1,probabilityOfB:.5,labels:{a:"Include 6 month plan",b:"Do not include 6 month plan"}})&&h.push(6),b[urlQuery.custom]?h.push(b[urlQuery.custom]):"3month"==urlQuery.custom&&(h=[48,24,12,3]),h.sort(function(e,t){return t-e}),u=d.parseInventoryData(inventoryData),this.plans=ko.observableArray(),!d.noInventory)for(var g in h)this.plans.push(formatPlan(h[g]));for(var g in this.state=t.state,n.checkForCode(function(e,t){v.discountCodeStatus(e),t&&v.mode(t)}),this.currency=d.currency,this.currencyMark=d.currencyMark,u)m[getMonths(u[g].amount,u[g].unit)]=u[g];this.checkout=t.checkout,this.iOSError=ko.observable();try{d.clear(),d.load()}catch(t){this.iOSError(!0)}if(s.track("ViewContent",{content_name:"Plans",content_category:"plans"}),o.track("plans","0.00"),window.deal&&window.dealName&&v.disclaimer){var f=v.schoolDealActive||v.userDealActive?v.disclaimer:v.disclaimer+" Offer expires "+window.deal.expires+".";$(".disclaimer-tooltip").tooltip({trigger:"click",placement:"bottom",title:"<div class=\"disclaimer-header\">Disclaimer</div><div class=\"disclaimer-content\">".concat(f,"</div>"),html:!0})}$(".pricing-tooltip").tooltip({trigger:"click",placement:"left"}),this.updateCounter(),$(".odometer").html(1),setTimeout(function(){$(".odometer").html(998)},100),setTimeout(function(){$(".odometer").html(a.remainingCount()||750)},500),localStorage.setItem("dealName",window.dealName),window.dealName&&c.track("view_promotion",{promotions:[{id:window.dealName,name:window.dealName}]}),c.track("begin_checkout",{}),e(this),window.deal&&fs.mixAppend($(".share-popup",this.dom),"ui/SharePopup",{trackingCode:"utm_medium=osmosis-app&utm_source="+window.deal.url+"-deal-share"}),fs.mix(this,"ui/PlansSelection",{plans:this.plans,primeSelectedCB:this.primeSelected.bind(this),inventoryIndex:u,inventoryIndexByMonth:m,selectedPlan:this.selectedPlan}),fs.mix(this,"ui/PrimeFeatures"),this.halloween()&&this.animateBats(),this.thanksgiving()&&($(".ui-PlansSelection .column.middle").on("click",function(){fs.mixAppend($("#Content"),"ui/animations/Turkey",{})}),fs.mixAppend($("#Content"),"ui/animations/Leaves",{}))}function formatPlan(e){var t={time:e,tag:""};return t.title=12==e?"1 year":0==e%12?e/12+" years":1==e?"1 month":e+" months",g[e]&&(t.tag=g[e]),t}function getMonths(e,t){if("month"==t)return e;return"year"==t?12*e:void 0}var s=t("app/fbTrackingPixel"),o=t("app/fbTrackingPixelOld"),d=t("app/storeCart"),n=t("app/discountCode"),l=t("app/test"),c=t("app/gaTracking"),p=t("app/sale"),u={},m={},v=[1,2,4,5,6,7,8,9,10,11,13,14,15,18,36],b={};for(var h in v)b[v[h]+"month"]=v[h];var g={48:"<div class=\"label best-value\"><div class=\"text\">Best value</div></div>",24:"<div class=\"label most-popular\"><div class=\"text\">Most popular</div></div>"};Plans.prototype.updateCounter=function(){var e=this;fs.post("checkYTDealCounter",{},function(t){t.remaining&&e.remainingCount(t.remaining),$(".odometer").html(e.remainingCount())})},Plans.prototype.primeSelected=function(e){this.iOSError()?alert("To select this plan, please view this page in a different browser or upgrade your OS."):(this.selectedPlan(e),d.clear(),d.add(this.getPrimeInventory(e).inventoryID))},Plans.prototype.buyClicked=function(){this.selectedPlan()?window.location.href=this.checkout:fs.alert("Please select a plan from the list above.","Select Plan","success")},Plans.prototype.getPrimeInventory=function(e){return m[e]},Plans.prototype.animateBats=function(){var e=$(".halloween .bats");e=$(".upward-bats");for(var t=0;74>t;t++)setTimeout(function(){$("<img class=\"bbat\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/67A_MMLqT3_oJCvIxvbuSmFWQHyGJyU2.gif\">").appendTo(e).css("max-height",_.random(20,72)+"px").css("top","".concat(_.random(25,470),"px")).css("left","".concat(_.random(-25,105),"%"))},300)},Plans.prototype.sharePopup=function(){fs.mixAppend($(".share-button",this.dom),"ui/PopupMenu",{header:"Share...",items:[{text:"Link",type:"action",icon:"fas fa-link",action:function action(){console.log("Link")}},{text:"Twitter",type:"action",icon:"fab fa-twitter",action:function action(){console.log("Twitter")}}]})},Plans.prototype.openIntercom=function(){Intercom("show")},Plans.prototype.createAccountClick=function(){window.localStorage&&window.localStorage.setItem("source","plans-page-sign-up-button"),window.location.href="/login?type=create"},a.exports=Plans}),define("ui.PlansInfo",function(e,t,a){function PlansInfo(e,t){this.schoolDealActive=t.schoolDealActive,e(this)}PlansInfo.prototype.becomeMemberClick=function(){goToByScroll("#prime-plan")},a.exports=PlansInfo}),define("ui.PlansSelection",function(e,t,a){var s=Math.ceil;function PlansSelection(e,t){this.theme=t.theme||"",this.plans=t.plans||[],this.primeSelectedCB=t.primeSelectedCB||function(){},this.inventoryIndex=t.inventoryIndex||{},this.inventoryIndexByMonth=t.inventoryIndexByMonth||{},this.showStrikePrice=!("undefined"!=typeof t.showStrikePrice)||t.showStrikePrice,this.currency=o.currency,this.currencyMark=o.currencyMark,this.selectedPlan=t.selectedPlan||ko.observable(),this.monthlyPricingVisible=!0,t.selectPlanAction&&(this.selectPlanAction=t.selectPlanAction)}function toCurrency(e){return s(e)}var o=t("app/storeCart"),d=t("app/test");PlansSelection.prototype.setPrime=function(e){this.selectPrime(e)()},PlansSelection.prototype.getPrimeInventory=function(e){return this.inventoryIndexByMonth[e]},PlansSelection.prototype.strikePrice=function(e){var t=this.getPrimeInventory(e);return t.strikePrice?t.strikePrice/100:0},PlansSelection.prototype.totalPrice=function(e){var t=this.getPrimeInventory(e);return t.price/100},PlansSelection.prototype.savings=function(e){var t=this.getPrimeInventory(e),a=this.strikePrice();return a?a-t.price/100:0},PlansSelection.prototype.monthlyPrice=function(e){var t=this.getPrimeInventory(e);return s(toCurrency(t.price/t.amount/100))},PlansSelection.prototype.selectPrime=function(e){var t=this;return function(){t.selectedPlan(e),t.primeSelectedCB(e)}},a.exports=PlansSelection}),define("ui.Playlist",function(e,t,a){function Playlist(e){var t=this;for(var a in this.loading=ko.observable(!0),this.hasFlashcards=ko.observable("none"),this.hasRemaining=ko.observable(!0),this.filters={correct:ko.observable(!1),incorrect:ko.observable(!0),correctButGuessed:ko.observable(!1),withoutResources:ko.observable(!0)},this.includeYesterday=ko.observable(!1),e(this),this.filters)this.filters[a].subscribe(function(){setTimeout(function(){t.render()},100)});this.includeYesterday.subscribe(function(){t.refresh()}),this.lastScroll=0,this.dom.parent().scroll(function(){t.lastScroll=+new Date})}function getResources(e){var t=[],a=e?e.terms:[],s=o.resourceIndex,d=o.termIndex;for(var n in a){var l=d[a[n]];if(l)for(var c in l.resources)t.push(l.resources[c])}return t}var s=t("app/recManager"),o=t("app/wikiResourceManager");Playlist.prototype.load=function(e){var t=this;this.loading(!1),s.loadNodes(e.quesData),this.quesMatchIndex=_.indexBy(fs.transpose(e.quesMatches),function(e){return e.nodeID}),this.history=fs.transpose(e.history),this.history.sort(function(e,t){return e.ts-t.ts});var a=0;$(document).mousemove(function(){a=0}),setInterval(function(){a+=10,t.idx<t.history.length&&500<a&&(a=0,window.requestAnimationFrame(function(){console.log("called next automatically"),console.log(t.idx+" "+t.history.length),t.next()})),t.hasRemaining(t.idx<t.history.length)},10),this.render()};var d={3:!0,4:!0,5:!0},n={0:!0,1:!0,2:!0};Playlist.prototype.render=function(){fs.empty($(".playlist",this.dom)),this.shownResourceIndex={},this.idx=0;var e=this.next();this.hasFlashcards(e.hasFlashcards),e.firstContainer&&e.firstContainer.showPopover()},Playlist.prototype.next=function(){for(var e=$(".playlist",this.dom),t=this.history,a=0,s=0,o=this.idx,l=o;l<t.length;l++){this.idx++;var c=nodeIndex[t[l].nodeID],p=getResources(this.quesMatchIndex[c.nodeID]);if(5==c.subtype()){var u=!1;if(this.filters.correct()&&n[t[l].accConf]&&(u=!0),this.filters.incorrect()&&d[t[l].accConf]&&(u=!0),this.filters.correctButGuessed()&&2==t[l].accConf&&(u=!0),u&&(p.length||this.filters.withoutResources())){var m=fs.mixAppend(e,"models/ques/PlaylistContainer",{ques:c,accConf:t[l].accConf,ts:t[l].ts,resources:p,shownResourceIndex:this.shownResourceIndex});if(0==s)var v=m;if(s++,1<s)return{hasFlashcards:0<s?"hasPassedFC":0<a?"hasFC":"none",firsContainer:v}}a++}}return{hasFlashcards:0<s?"hasPassedFC":0<a?"hasFC":"none",firsContainer:v}},Playlist.prototype.refresh=function(){this;this.loading(!0)},Playlist.prototype.show=function(){this.refresh()},a.exports=Playlist}),define("ui.PlaylistDivider",function(e,t,a){a.exports=function PlaylistDivider(e,t){this.title=t.title}}),define("ui.PlaylistRow",function(e,t,a){var s=t("app/conceptNavGlobals");a.exports=function PlaylistRow(e,t){var a=this;this.parent=t.parent,this.clusters=t.clusters,this.rowVisible=ko.observable(!0),this.title=t.title,this.videoCount=ko.computed(function(){if(a.parent.osmosisOnly()){var e=0;for(var t in a.clusters)a.clusters[t]&&"Osmosis"==a.clusters[t].data.by&&e++;return 0==e&&a.rowVisible(!1),e}return 0<a.clusters.length&&a.rowVisible(!0),a.clusters.length}),this.globalCategory=s.currentCategory,this.globalSubcategory=s.currentSubcategory,this.mergedCatTitle=ko.computed(function(){return a.globalSubcategory()?a.globalCategory()+": "+a.globalSubcategory():a.globalCategory()}),this.visible=ko.observable(!0),this.theme=-1<this.title.indexOf("Pathology")?"path":-1<this.title.indexOf("Pharmacology")?"pharm":-1<this.title.indexOf("Physiology")?"phys":"phys";var o=this.title.toLowerCase().split(":",1)[0].split(" ").join("-");for(var d in o&&(this.theme+=" "+o),e(this),t.clusters)fs.mixAppend($(".clusters",this.dom),"ui/ResourceRow",{index:+d+1,cluster:t.clusters[d],osmosisOnly:this.parent.osmosisOnly})}}),define("ui.Popup",function(e,t,a){function Popup(e,t){var a=this;this.title=t.title,this.text=t.text,this.element=t.element,this.shortScreenEl=t.shortScreenEl,this.position=t.position||"bottom",this.theme=t.theme||"blue",this.onBeforeLoad=t.onBeforeLoad,this.onBeforeClose=t.onBeforeClose,this.cta=t.cta,this.ctaText=t.ctaText,this.ctaSubtext=t.ctaSubtext,this.ctaAction=t.ctaAction||"close",this.onCtaClick=t.onCtaClick,this.canExitDirectly=t.canExitDirectly,this.focus=t.focus,this.customCss=t.customCss,this.visibleConditions=t.visibleConditions||function(){return!0},this.step=t.step||null,this.steps=t.steps||null,e(this),this.onBeforeLoad&&this.onBeforeLoad(),this.reposition(),this.animate(),$(window).resize(function(){a.reposition()}),document.addEventListener("scroll",function(){a.reposition()},!0)}Popup.prototype.ctaClick=function(){var e=!0;"close"==this.ctaAction&&(this.close(),e=!1),this.onCtaClick&&"function"==typeof this.onCtaClick&&(this.onCtaClick(),e=!1),e&&this.animate()},Popup.prototype.removePopup=function(){this.dom.remove()},Popup.prototype.close=function(){"function"==typeof this.onBeforeClose&&this.onBeforeClose(),this.removePopup()},Popup.prototype.animate=function(){var e=this;"top"==this.position&&this.dom.addClass("bouncing-down"),"bottom"==this.position&&this.dom.addClass("bouncing-up"),"right"==this.position&&this.dom.addClass("bouncing-left"),"left"==this.position&&this.dom.addClass("bouncing-right"),"top-left"==this.position&&this.dom.addClass("bouncing-down-right"),setTimeout(function(){e.dom.removeClass("bouncing-down bouncing-up bouncing-left bouncing-right bouncing-down-right")},750)},Popup.prototype.reposition=function(){if(this.shortScreenEl&&640>$(window).height())var e=$(this.shortScreenEl);else var e=$(this.element);var t=e.offset();if(t){var a=0<e.closest("scrollable").length;if("top"==this.position||"bottom"==this.position){if("top"==this.position)var s=t.top-this.dom.outerHeight()-10;else var s=t.top+e.outerHeight()+10;var o=t.left+e.outerWidth()/2-this.dom.outerWidth()/2}else{if("left"==this.position)var o=t.left-this.dom.outerWidth()-10;else var o=t.left+e.outerWidth()+10;var s=t.top}if(!a&&s+this.dom.outerHeight()>$(window).height()){var d=s;if(s=$(window).height()-(this.dom.outerHeight()+10),"left"==this.position||"right"==this.position){var n=d-s;$(".marker",this.dom).css("top",n)}}this.dom.css("top",s).css("left",o)}},a.exports=Popup}),define("ui.PopupMenu",function(e,t,a){function PopupMenu(e,t){var a=this;this.title=t.header,this.items=t.items,this.parent=t.parent,this.header=t.header||"",this.onClose=t.onClose||function(){},this.toggleIcon=t.toggleIcon,this.hasList=!1,_.each(this.items,function(e){e.icon=e.icon||"",e.color=e.color||"inherit",e.link=e.link||"#",e.action=e.action||function(){},e.list=e.list||[],a.hasList||(a.hasList=!!e.list.length),e.onListUpdate=e.onListUpdate||function(){},e.color=e.color||"",e.currentState=e.currentState||ko.observable(!1),e.highlighted=e.highlighted||ko.observable(!1),e.currentState.subscribe(function(t){e.action(t)})}),this.popupVisible=ko.observable(!0),this.onClose=t.onClose||function(){},e(this),this.hasList&&(this.sortables=[],this.setupDraggables()),this.setPosition();var s=_.debounce(function(){return a.setPosition()},150);$(window).resize(s),t.stayOpen||this.initClickToClose()}PopupMenu.prototype.setupDraggables=function(){var e=this,t=$(".popup-list",this.dom);t.each(function(t,a){var s=new Draggable.Sortable(a,{draggable:".popup-list-item-wrapper",delay:150,mirror:{constrainDimensions:!0}});s.on("sortable:stop",function(e){var t=ko.contextFor(e.newContainer),a=ko.dataFor(e.dragEvent.originalSource),s=_toConsumableArray2(t.$data.list);s.splice(e.oldIndex,1),s.splice(e.newIndex,0,a),t.$data.list=s,t.$data.onListUpdate(t.$data.list)}),e.sortables.push(s)})},PopupMenu.prototype.toggleCheck=function(e){e.currentState(!e.currentState())},PopupMenu.prototype.initClickToClose=function(t){var a=this;t||(t="document"),$(document).one("click",function(s){0==$(s.target).closest(t).length&&a.close()})},PopupMenu.prototype.handleClick=function(t,e){switch(t.stopPropagation(),e.type){case"toggle":this.toggleCheck(e);break;case"action":e.action(e),this.close();break;case"link":window.location.href=e.link;break;default:}},PopupMenu.prototype.close=function(e,t){var a=this;t&&t.stopPropagation(),this.popupVisible(!1),this.onClose(),setTimeout(function(){a.dom.remove()},1e3)},PopupMenu.prototype.setPosition=function(){var e=this.parent.dom,t=$(this.dom);t.appendTo("body"),t.css("position","absolute");var a=e.offset().top+e.outerHeight(),s=e.offset().left-t.width()/2;s=0>s?0:s,t.css("top",a+"px"),t.css("left",s+"px");var o=window.innerHeight-a-121;70<o&&t.children(".popup-items").css("max-height",o+"px"),setTimeout(function(){var e=s+t.outerWidth(),o=a+t.height();e>document.body.scrollWidth&&t.offset({left:document.body.scrollWidth-t.width()-50}),o>document.body.scrollHeight&&t.offset({top:document.body.scrollHeight-t.height()-50})},10),this.clean()},PopupMenu.prototype.clean=function(){for(var t=this,a=$(".ui-PopupMenu");1<a.length;){a=$(".ui-PopupMenu");var s=_.find(a,function(a){return a!=t.dom[0]});s&&s.remove()}},a.exports=PopupMenu}),define("ui.PrevNext",function(){}),define("ui.PrimeCtaOverlay",function(e,t,a){function PrimeCtaOverlay(e,t){var a=this;this.ref=t.ref,this.src=t.src,this.type=t.type,this.primeStatus=ko.computed(function(){return window.user&&window.user.prime?window.user.prime.status:"no-prime"}),this.ctaText=-1==this.primeStatus()?"Purchase Prime":"Start Free Trial",e(this),this.positionOverlay(),$(window).resize(function(){a.positionOverlay()})}PrimeCtaOverlay.prototype.positionOverlay=function(){$("body").addClass("modal-open");var e=$(".content",this.dom),t=$(window).outerHeight()-e.outerHeight();console.log(t),0<t?e.css("margin-top",t/2):e.css("margin-top",0).addClass("overscroll")},PrimeCtaOverlay.prototype.start=function(){"no-prime"==this.primeStatus()?window.location.href="/login?create=true&src="+this.src+"&ref="+this.ref:-1==this.primeStatus()?window.location.href="/plans?src="+this.src+"&ref="+this.ref:0==this.primeStatus()&&fs.post("primeStartFreeTrial",{},function(){window.location.reload()})},PrimeCtaOverlay.prototype.close=function(){$("body").removeClass("modal-open"),this.dom.remove()},a.exports=PrimeCtaOverlay}),define("ui.PrimeFeatures",function(e,t,a){a.exports=function PrimeFeatures(e,t){this.showTitle=!("undefined"!=typeof t.showTitle)||t.showTitle,e(this)}}),define("ui.PrimeLockOverlay",function(e,t,a){function PrimeLockOverlay(e,t){var a=this;switch(this.hasCancel=ko.observable(t.hasCancel),this.fullScreen=ko.observable(t.fullScreen),this.fullTab=ko.observable(t.fullTab),this.onboardMode=t.parent&&"function"==typeof t.parent.onboardMode?t.parent.onboardMode:ko.observable(!1),this.content=ko.observable(t.content||"coursework"),this.hasLoginStep=ko.observable(t.hasLoginStep),this.loginBtnsVisible=ko.observable(!1),console.log(this.content()),this.freeTrialActive=ko.observable(window.userID&&2===window.user.prime.status),this.freeTrialExpired=ko.observable(window.userID&&-1===window.user.prime.status),this.primeOnly=!1,this.lockoutStyle=ko.observable(null),this.videoActive=ko.observable(!1),this.lockIcon=ko.observable("fa-lock"),this.lockoutHeader="Upgrade to Osmosis Prime",this.lockoutMessage="",this.content()){case"step1":a.lockoutHeader="Study schedules are an Osmosis Prime feature",a.lockoutMessage="Stay focused with a customized daily study schedule. You'll get access to our library of videos, flashcards, and questions that're conveniently matched to your daily studies.";break;case"offer":a.primeOnly=!0,a.lockoutMessage="This ebook is exclusive to Osmosis Prime members, upgrade your account to get your copy. You\u2019ll also get access to over 20,000 practice questions &amp; flashcards that sync up with your daily studying.";break;default:a.lockoutHeader="Upgrade to Osmosis Prime",a.lockoutMessage="Access over 20,000 professionally written practice questions and flashcards, hundreds of exclusive videos, and specialized tools to help you stay organized and learn more efficiently.";}this.activatedTrialHeader="You've activated your free trial.",this.activatedTrialMessage=ko.observable("You now have full access to Osmosis Prime for 2 weeks."),this.activatedButtonText=ko.observable("Start Osmosing"),this.freeTrialExpiredText="Your free trial has expired.",this.source=ko.observable(t.source),this.resource=ko.observable(t.resource),e(this),analytics.track("Shown Prime Lockout",{source:this.source(),resource:this.resource()}),this.initializeVideo()}var s=t("app/login"),o=t("ui/videoPlayer"),d=t("app/purchaseModal");PrimeLockOverlay.prototype.purchase=function(){this;analytics.track("Lockout Purchase Click",{source:this.source(),resource:this.resource()}),d.showModal()},PrimeLockOverlay.prototype.cancel=function(){analytics.track("Lockout Cancel Click",{source:this.source(),resource:this.resource()}),this.dom.remove()},PrimeLockOverlay.prototype.withFacebook=function(){s.withFacebook()},PrimeLockOverlay.prototype.withGoogle=function(){s.withGoogle()},PrimeLockOverlay.prototype.showLoginBtns=function(){this.loginBtnsVisible(!0)},PrimeLockOverlay.prototype.initializeVideo=function(){var t=this;this.playerObj=o.embed("BtH5Klv9J6k",$("#schedule-video-wrapper")),this.video=$("#schedule-video-wrapper").hide(),this.video.append(this.playerObj.el),this.animOut=anime({targets:"#schedule-video-wrapper",translateY:[0,"+=50"],opacity:[1,0],scale:[1,.8],duration:500,autoplay:!1,easing:"easeInOutCubic",complete:function complete(e){$(e.animatables[0].target).hide()}}),this.animIn=anime({targets:"#schedule-video-wrapper",opacity:[0,1],translateY:["+=50",0],scale:[.8,1],duration:500,autoplay:!1,easing:"easeInOutCubic",begin:function begin(e){$(e.animatables[0].target).show()}}),$(document).mouseup(function(a){!t.videoActive()||$(".video-cta").is(a.target)||0!==$(".video-cta").has(a.target).length||t.video.is(a.target)||0!==t.video.has(a.target).length||(t.animOut.restart(),t.videoActive(!1),o.pauseAll())})},PrimeLockOverlay.prototype.showScheduleVideo=function(){this.videoActive()||(this.animIn.restart(),this.videoActive(!0))},PrimeLockOverlay.prototype.reload=function(){window.location.reload()},PrimeLockOverlay.prototype.activateFreeTrial=function(){var e=this;analytics.track("Lockout Free Trial Click",{source:this.source(),resource:this.resource()}),fs.post("primeStartFreeTrial",{},function(){}),e.lockIcon("fa-unlock"),e.freeTrialActive(!0)},a.exports=PrimeLockOverlay}),define("ui.PrintEventNotes",function(e,t,a){a.exports=function EventNotes(e,t){this.event=t.event,this.hasNotes=ko.observable(!1),this.noteViews=[],e(this);var a=$(".notesList",this.dom),s=t.event.docLinks();for(var o in s){var d=s[o].node,n=d.children,l=[];for(var c in n)if(n[c].note){var p=n[c].note.content();p.n&&("string"!=typeof p.n||$("<div>"+p.n+"</div>").text())&&l.push(n[c])}if(this.list=fs.mixList(this,".notesList"),this.list.viewModel="models/PrintNodeNoteView",l.length){for(var c in l)this.list.push("models/PrintNodeNoteView",{parent:this,node:l[c]});this.hasNotes(!0)}}}}),define("ui.PrintNotesView",function(e,t,a){function hasDocs(e){var t=!1,a=e.docLinks();for(var s in a)t=t||0<a[s].node.children.length;return t}a.exports=function NotesView(e,t){this.hasNotes=ko.observable(!1),this.slidesVisible=ko.observable(t.slides),this.printView=ko.observable(t.printable),e(this);var a=$(".eventList",this.dom);for(var s in eventIndex)if(hasDocs(eventIndex[s])){var o=fs.mixAppend(a,"ui/PrintEventNotes",{parent:this,event:eventIndex[s]});o.hasNotes()&&this.hasNotes(!0)}}}),define("ui.PrivTermNotice",function(e,t,a){function PrivTermNotice(e){this.showNotice=ko.observable(!0),e(this),fs.mixAppend($(".priv-term-content-container",this.dom),"page/terms"),fs.mixAppend($(".priv-term-content-container",this.dom),"page/privacy")}PrivTermNotice.prototype.dontAgreeClicked=function(){fs.alert("In order to continue using Osmosis, you'll need to agree to our updated terms and conditions.")},PrivTermNotice.prototype.agreeClicked=function(){fs.post("agreeToTerms",{userID:window.userID}),window.localStorage&&window.localStorage.setItem("agreedToPrivTerm",!0),this.showNotice(!1)},a.exports=PrivTermNotice}),define("ui.ProductDisplay",function(e,t,a){var s=t("app/storeCart"),o=template("ui/packdescrContainer");ProductDisplay=function ProductDisplay(e){this.item=e;var t=jade.compile(this.item.descr());this.description=ko.observable(t()),this.exampleQues=ko.observable(),this.exampleQuesVisible=ko.observable()},ProductDisplay.prototype.addItem=function(){$.jGrowl("Added to cart!",{life:1e3,position:"bottom-left"}),s.add(this.item.inventoryID)},ProductDisplay.prototype.removeItem=function(){s.remove(this.item.inventoryID)},ProductDisplay.prototype.checkout=function(){s.add(this.item.inventoryID),document.location="/buy"},ProductDisplay.prototype.samples=function(){this.exampleQuesVisible(!0)},a.exports=ProductDisplay}),define("ui.ProfileBadge",function(e,t,a){function profileBadge(e){var t=this;this.userName=ko.computed(function(){var e=user.first+" "+user.last;return 30>=e.length?e:e.slice(0,27).toString()+"..."}),this.userExtraInfo=ko.computed(function(){if(navData.group&&navData.group.name)return 19>=navData.group.name.length?navData.group.name:navData.group.name.slice(0,16).toString()+"...";var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(0<user.prime.status){var t=new Date(user.prime.startedOn);return"Prime user since "+e[t.getMonth()]+" "+t.getFullYear()}var t=new Date(user.joined);return"Osmosis user since "+e[t.getMonth()]+" "+t.getFullYear()}),this.userID=ko.observable(userID),this.profileBg=ko.observable("blue"),e(this),this.avatar=fs.mixAppend($(".avatar",this.dom),"ui/Avatar",{userID:t.userID,userName:t.userName,customSize:40}),this.avatar.hasAvatar()||this.profileBg(this.avatar.avatarBg()),this.responsiveProfile()}profileBadge.prototype.responsiveProfile=function(){var e=function setStyle(){var e=$(".profile-badge .panel-heading").width(),t=$(".profile-badge .info").outerWidth(),a=$(".profile-badge .avatar").outerWidth()+5;e<=t+a?$(".profile-badge").addClass("xs"):$(".profile-badge").removeClass("xs")};e(),$(window).resize(function(){e()})},a.exports=profileBadge}),define("ui.ProfileSidebar",function(e,t,a){a.exports=function ProfileSidebar(e){this.primeExpiresSoon=ko.computed(function(){if(window.user&&window.user.prime){var e=window.user.prime.expires,t=moment(e).diff(moment(),"days");return console.log(t),!(31<t)}return!0}),e(this),fs.mix(this,"ui/Avatar",{customSize:100})}}),define("ui.ProgressBars",function(e,t,a){function ProgressBars(e,t){var a=this;if(this.steps=t.steps||[],"number"==typeof this.steps){this.steps=[];for(var s=0;s<t.steps;s++)this.steps.push({text:""})}switch(this.selectedIndex=t.selectedIndex||0,this.theme=t.theme||"bubbles",this.color=t.color||"blue",this.size=t.size||"normal",this.hideTrailingSeperators=!!t.hideTrailingSeperators,this.theme){case"pill":this.themeAllowsText=!1,this.progressBarsBackground={style:{left:"0",right:"0"}};break;default:this.themeAllowsText=!0,this.progressBarsBackground={style:{left:50/this.steps.length+"%",right:50/this.steps.length+"%"}};}for(var o in this.progressBarsLine={style:{left:50/this.steps.length+"%",right:100-(50/this.steps.length+100*(this.selectedIndex/this.steps.length))+"%"}},this.steps)"object"===_typeof(this.steps[o])?"undefined"!=typeof this.steps[o].text&&"function"!=typeof this.steps[o].text?this.steps[o].text=ko.observable(this.steps[o].text):"undefined"==typeof this.steps[o].text&&(this.steps[o].text=ko.observable("")):this.steps[o]={text:ko.observable(this.steps[o])},this.steps[o].css=ko.computed(function(){var e=o<a.selectedIndex?"completed":(0|o)===a.selectedIndex?"current":"future";return a.hideTrailingSeperators&&o>a.selectedIndex+1&&(e+=" hide-trailing-seperators"),e}),this.steps[o].style={left:ko.observable(100-100*((this.steps.length-(0|o))/this.steps.length)+"%"),right:ko.observable(100-100*(((0|o)+1)/this.steps.length)+"%")};e(this)}a.exports=ProgressBars}),define("ui.ProgressCircle",function(e,t,a){function ProgressCircle(e,t){var a=this;a.progress=t.progress,a.size=t.size+"px",a.halfSize=parseInt(t.size/2)+"px",a.rectSizing="rect(0px,".concat(a.halfSize,",").concat(a.size,",0px)"),a.wrapperRectSizing="rect(0px,".concat(a.size,",").concat(a.size,",").concat(a.halfSize,")"),a.hideText=t.hideText,a.hideBackground=t.hideBackground,a.borderSize=t.borderSize+"px",a.checkOnComplete=t.checkOnComplete,a.checked=t.checked,a.centerIcon=ko.computed(function(){var e="function"==typeof t.centerIcon?t.centerIcon():t.centerIcon;return a.checkOnComplete&&(1==a.progress()||a.checked())?"fas fa-check":e}),this.circleLeftSideStyle=ko.computed(function(){var e=180*this.normalize(this.progress(),.5,0);return 180>e&&(e=180),{transform:"rotate("+e+"deg)",visibility:.5<=this.progress()?"visible":"hidden",width:a.size,height:a.size,borderWidth:a.borderSize,clip:a.rectSizing}},this),this.circleRightSideStyle=ko.computed(function(){var e=.5<=this.progress()?180:180*this.normalize(this.progress(),.5,0);return{transform:"rotate("+e+"deg)",width:a.size,height:a.size,borderWidth:a.borderSize,clip:a.rectSizing,transition:.5<=this.progress()?"none":""}},this),this.progressText=ko.computed(function(){return Math.ceil(100*this.progress())+"% Complete"},this)}ProgressCircle.prototype.normalize=function(e,t,a){return(e-a)/(t-a)},a.exports=ProgressCircle}),define("ui.PurchaseModal",function(e,t,a){function PurchaseModal(e,t){var a=this;this.modalVisible=ko.observable(!1),this.purchaseComplete=!1,this.selectedPlan=ko.observable("undefined"==typeof t.selectedPlan?48:t.selectedPlan),this.showStrikePrice=!1,this.inventoryIndex={},this.inventoryIndexByMonth={},this.inventoryData={},this.currentSale=s.getCurrentSale(),this.userCreditCardsAvailable={},this.forms={},this.currentFormName="",this.previousFormName="";var d=[48,24,12,6];if(d.sort(function(e,t){return t-e}),this.plans=ko.observableArray(),!o.noInventory)for(var n in d)this.plans.push(this.formatPlan(d[n]));e(this),fs.get("inventoryData",{dealUrl:a.currentSale.url},function(e){if(1==e.success){for(var t in a.inventoryData=e.inventoryData,a.inventoryIndex=o.parseInventoryData(e.inventoryData),a.inventoryIndex)a.inventoryIndexByMonth[a.getMonths(a.inventoryIndex[t].amount,a.inventoryIndex[t].unit)]=a.inventoryIndex[t];a.showStrikePrice=e.showStrikePrice,fs.mix(a,"ui/onboarding/PrimeSelection",{inventoryData:a.inventoryData,showStrikePrice:a.showStrikePrice,showBasicPlan:!1,showProgressBars:!1,currentSale:a.currentSale}),a.currentFormName="PrimeSelection"}}),this.animOut=anime({targets:".purchase-modal",translateY:[0,"+=50"],opacity:[1,0],duration:400,autoplay:!1,easing:"easeOutCubic"}),this.fadeOut=anime({targets:".purchase-modal-container",opacity:[1,0],duration:400,autoplay:!1,easing:"easeOutCubic",complete:function complete(){a.modalVisible(!1)}}),this.animIn=anime({targets:".purchase-modal",translateY:["+=50",0],opacity:[0,1],duration:400,autoplay:!1,easing:"easeOutCubic"}),this.fadeIn=anime({targets:".purchase-modal-container",opacity:[0,1],duration:400,autoplay:!1,easing:"easeOutCubic",begin:function begin(){a.modalVisible(!0)}})}var s=t("app/purchaseModal"),o=t("app/storeCart");PurchaseModal.prototype.getMonths=function(e,t){if("month"==t)return e;return"year"==t?12*e:void 0},PurchaseModal.prototype.formatPlan=function(e){var t={time:e,tag:""};return t.title=12==e?"1 year":0==e%12?e/12+" years":1==e?"1 month":e+" months",t},PurchaseModal.prototype.onPrimeSelection=function(){this.displayForm("PurchasePage")},PurchaseModal.prototype.displayForm=function(e){var t=this;this.previousFormName=this.currentFormName,this.currentFormName=e;var a=$(".form-space",this.dom);fs.empty(a),this.currentForm=fs.mixAppend(a,"ui/onboarding/"+e,{parent:this,showFullFlow:this.showFullFlow,inventoryData:this.inventoryData,showBasicPlan:!1,showStrikePrice:this.showStrikePrice||!1,currentSale:t.currentSale,showProgressBars:!1}),this.forms[e]=this.currentForm},PurchaseModal.prototype.changePlan=function(){this.displayForm("PrimeSelection")},PurchaseModal.prototype.closeModal=function(){this.purchaseComplete?window.location.href="/":this.animateOut()},PurchaseModal.prototype.showModal=function(){this.animateIn()},PurchaseModal.prototype.animateOut=function(){this.animOut.restart(),this.fadeOut.restart()},PurchaseModal.prototype.animateIn=function(){this.animIn.restart(),this.fadeIn.restart()},a.exports=PurchaseModal}),define("ui.QBankFilter",function(e,t,a){function QBankFilter(e,t){var a=this;this.filterType=ko.observable(null),this.unary=ko.observable(),this.hasFilter=t.parent.parent.hasFilter,this.unaryOptions=ko.observableArray(),this.filter={nodeID:ko.observable(),text:ko.observable(),groupRating:ko.observable()},e(this),this.filterType.subscribe(function(){a.updateFilter()}),this.filter.tag=o(this,"tagSelect",{optionsArray:t.availableTags,caption:"Tags",width:"100%"}),this.filter.author=o(this,"authorSelect",{optionsArray:t.availableAuthors,caption:"Authors",width:"100%"});var d=ko.observableArray(),p=s.eventQuizzes();for(var u in p)if(0!=p[u].value){var m=eventIndex[p[u].value],v=m.quesCount();0<v&&d.push({value:p[u].value,label:p[u].label+" ("+v+")"})}else d.push(p[u]);this.filter.event=o(this,"filterByEvents",{optionsArray:d,value:null,settings:{allow_single_deselect:!0},caption:"Select event...",width:"100%"});var b=ko.observableArray();for(var u in n)b.push({value:+u+1,label:n[u]});this.filter.type=o(this,"quesTypeSelect",{optionsArray:b,value:null,settings:{allow_single_deselect:!0},caption:"Select types...",width:"100%"});var h=ko.observableArray();for(var u in l)h.push({value:+u,label:l[u]});this.filter.myRating=o(this,"myRatingSelect",{optionsArray:h,value:null,settings:{allow_single_deselect:!0},caption:"Select ratings...",width:"100%"});var g=ko.observableArray();for(var u in c)g.push({value:+u,label:c[u]});this.filter.myGroupRating=o(this,"myGroupRatingSelect",{optionsArray:g,value:null,settings:{allow_single_deselect:!0},caption:"Select ratings...",width:"100%"})}var s=t("app/module"),o=t("ui/select"),d=t("app/ratingFilters"),n=["Multiple Choice","True/False","Multiple Checkbox","Label Matching","Flashcard","Table Flashcard","Fill-in Factoid"],l=["Unrated","Not Helpful","Meh","Good","Awesome"],c=["Good to awesome","Only Awesome"];QBankFilter.prototype.remove=function(){this.parent.parent.filters.remove(this)},QBankFilter.prototype.updateFilter=function(){this.unaryOptions.removeAll(),"text"==this.filterType()?this.unaryOptions([{name:"contains",op:"is"},{name:"does not contain",op:"not"}]):"nodeID"==this.filterType()||"groupRating"==this.filterType()?this.unaryOptions([{name:"is",op:"is"}]):this.unaryOptions([{name:"is",op:"is"},{name:"is not",op:"not"}])},QBankFilter.prototype.addMe=function(){var e=this,t=e.value.author.value()||[],a={authorName:"Me",ID:userID,type:"author"};0>t.indexOf(a.ID)&&(t.push(a.ID),e.value.author.value(t),null==e.value.author.value()&&fs.alert("Hmm, looks like you haven't authored any questions. Click in the box to filter by other authors. Or, start writing some awesome questions!"))},QBankFilter.prototype.serialize=function(){if("tag"==this.filterType())return{value:this.filter.tag.value(),unary:this.unary()};return"nodeID"==this.filterType()?{value:this.filter.nodeID()}:"author"==this.filterType()?{value:this.filter.author.value(),unary:this.unary()}:"text"==this.filterType()?{value:this.filter.text(),unary:this.unary()}:"event"==this.filterType()?{value:this.filter.event.value(),unary:this.unary()}:"type"==this.filterType()?{value:this.filter.type.value(),unary:this.unary()}:"myRating"==this.filterType()?{value:this.filter.myRating.value(),unary:this.unary()}:"groupRating"==this.filterType()?{value:this.filter.myGroupRating.value(),unary:this.unary()}:void 0},QBankFilter.prototype.apply=function(){this.parent.parent.applyFilters()},a.exports=QBankFilter}),define("ui.QBankFilters",function(e,t,a){function QBankFilters(e,t){this.onApply=t.onApply,this.hasFilter=t.hasFilter||{tags:!0,id:!0,author:!0,text:!0,event:!0,type:!0},this.availableTags=ko.observableArray(),this.availableAuthors=ko.observableArray(),t.MID&&s.load(t.MID,this.availableTags,this.availableAuthors),e(this),this.filters=fs.mixList(this,".filters"),this.filters.viewModel="ui/QBankFilter",this.filter=function(){return!0},this.addFilter()}var s=t("app/moduleFilters");QBankFilters.prototype.addFilter=function(){this.filters.push("ui/QBankFilter",{availableTags:this.availableTags,availableAuthors:this.availableAuthors})},QBankFilters.prototype.getFilter=function(){var e=[];for(var t in this.filters.items){var a=this.filters.items[t],s=a.filterType();s&&e.push({type:s,data:a.serialize()})}return e},QBankFilters.prototype.applyFilters=function(){this.onApply()},a.exports=QBankFilters}),define("ui.QBankPack",function(e,t,a){function QBankPack(){this.name=ko.observable(),this.count=ko.observable(),this.showStats=ko.observable(!1),this.included=ko.observable(!0),this.packs=[]}QBankPack.prototype.mapPacks=function(e){for(var t in e)this.bundleID==e[t]&&this.packs.push(t)},QBankPack.prototype.appendPacks=function(e){if(this.included())for(var t in this.packs)e.push(this.packs[t])},a.exports=QBankPack}),define("ui.QBankSidebar",function(e,t,a){function QBankSidebar(e){this.canSelectByPack=ko.observable("pack"in window.urlQuery),e(this),fs.mix(this,"ui/ProfileBadge")}QBankSidebar.prototype.goHome=function(){},QBankSidebar.prototype.launchReview=function(t,a){var e=this,s=$(a.target).attr("href");s==window.location.pathname?fs.confirm("Restart the current quiz?",function(e){currentTab.show(),e()}):tabToURL(s)},a.exports=QBankSidebar}),define("ui.QBankTopic",function(e,t,a){function QBankTopic(e){var t=this;this.topicID=ko.observable(e),this.count=ko.observable(),this.topicName=ko.computed(function(){return s.name[t.topicID()]}),this.topicIcon=ko.computed(function(){return"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/"+s.icon[t.topicID()]+"100.png"}),this.enabled=ko.observable(),this.packIndex={}}var s=t("shared/topics");QBankTopic.prototype.mapPacks=function(e){var t=this.topicID();for(var a in e.packID)t==e.tagID[a]&&(this.packIndex[e.packID[a]]=!0)},QBankTopic.prototype.mapCounts=function(e){for(var t in e.packID)this.packIndex[e.packID[t]]&&(this.packIndex[e.packID[t]]=e.counts[t])},QBankTopic.prototype.refreshPacks=function(e,t){var a=0;for(var s in e){var o=this.packIndex[e[s]];o&&(this.enabled()&&t.push(e[s]),a+=o)}return this.count(a),a},a.exports=QBankTopic}),define("ui.QuesEdit",function(e,t,a){function QuesEdit(e,t){var a=this;for(var s in this.edit=t.edit,this.view=ko.observable(t.view),this.ques=ellipsize(extractText(t.edit.data.q),300),this.mode=ko.observable("review"),this.itemURL=ko.observable("/editcontent?n="+t.edit.nodeID),this.status=ko.observable(t.edit.status),this.statusClass=ko.computed(function(){return 0==a.status()?"#d9edf7":1==a.status()?"#fcf8e3":2==a.status()?"#dff0d8":void 0}),t.edit.msg)t.edit.msg[s].count=t.edit.msg[s].count||0;this.returnMsg=ko.observable()}function extractText(e){return e?"string"==typeof e?e:e.s:""}QuesEdit.prototype.writeMsg=function(){this.mode("return")},QuesEdit.prototype.approve=function(){var e=this;fs.post("editorUpdateStatus",{nodeID:this.edit.nodeID,status:2},function(){e.mode("approved"),e.status(2)})},QuesEdit.prototype.returnToEditor=function(){var e=this;fs.post("editorUpdateStatus",{nodeID:this.edit.nodeID,msg:this.returnMsg(),status:1},function(){e.mode("review"),e.status(1)})},QuesEdit.prototype.when=function(e){return $("<span>"+e+"</span>").cuteTime().html()},QuesEdit.prototype.askForFeedback=function(e){this;fs.post("editorUpdateStatus",{nodeID:this.edit.nodeID,msg:this.returnMsg()},function(){$.jGrowl("Request submitted",{life:1e3,position:"bottom-left"}),e()})},a.exports=QuesEdit}),define("ui.QuesEditPanel",function(e,t,a){function QuesEditPanel(e,t){var a=this;for(var s in this.edit=t.edit,this.view=ko.observable(t.view),this.mode=ko.observable("review"),this.itemURL=ko.observable("/editcontent?n="+t.edit.nodeID),this.status=ko.observable(t.edit.status),this.statusClass=ko.computed(function(){return 0==a.status()?"#d9edf7":1==a.status()?"#fcf8e3":2==a.status()?"#dff0d8":void 0}),t.edit.msg)t.edit.msg[s].count=t.edit.msg[s].count||0;this.returnMsg=ko.observable()}QuesEditPanel.prototype.writeMsg=function(){this.mode("return")},QuesEditPanel.prototype.approve=function(){var e=this;fs.post("editorUpdateStatus",{nodeID:this.edit.nodeID,status:2},function(){e.mode("approved"),e.status(2)})},QuesEditPanel.prototype.returnToEditor=function(){var e=this;fs.post("editorUpdateStatus",{nodeID:this.edit.nodeID,msg:this.returnMsg(),status:1},function(){e.mode("review"),e.status(1)})},QuesEditPanel.prototype.when=function(e){return $("<span>"+e+"</span>").cuteTime().html()},QuesEditPanel.prototype.askForFeedback=function(e){this;fs.post("editorUpdateStatus",{nodeID:this.edit.nodeID,msg:this.returnMsg()},function(){$.jGrowl("Request submitted",{life:1e3,position:"bottom-left"}),e()})},a.exports=QuesEditPanel}),define("ui.QuesFilters",function(e,t,a){function QuesFilters(e,t){var a=this;this.parent=t.parent,this.canFilter=!0,this.filterActive={tags:ko.observable(),author:ko.observable(),lecture:ko.observable(),assessment:ko.observable(),type:ko.observable(),rating:ko.observable()},this.popularTags=ko.observableArray(),this.popularAuthors=ko.observableArray(),this.quesTypeFilters={};for(var d=1;7>=d;d++)this.quesTypeFilters[d]=ko.observable(!1),this.quesTypeFilters[d].subscribe(function(){a.onChange()});for(var d in this.selectAllQuesTypes=ko.observable(),this.selectAllQuesTypes(!0),this.selectAllQuesTypes.subscribe(function(){a.canFilter=!1;var e=a.selectAllQuesTypes();for(var t in a.quesTypeFilters)a.quesTypeFilters[t](a.filterHiddenTypes(t,e));a.canFilter=!0,a.onChange()}),a.canFilter=!1,a.quesTypeFilters)a.quesTypeFilters[d](a.filterHiddenTypes(d,!0));a.canFilter=!0,this.groupRatingFilter=ko.observable(1),this.groupRatingFilter.subscribe(function(){a.onChange()}),this.myRatingFilter=ko.observable(1),this.myRatingFilter.subscribe(function(){a.onChange()}),this.officialQuizzes=ko.observableArray(),e(this),this.filterSelect=o(this,"filterSelect",{optionsArray:s.tags,caption:"Tags",onChange:"onChange",width:"100%"}),this.excludeTagSelect=o(this,"excludeTagSelect",{optionsArray:s.tags,caption:"Exclude Tags",onChange:"onChange",width:"100%"}),this.userSelect=o(this,"userSelect",{optionsArray:s.authors,caption:"Authors",onChange:"onChange",width:"100%"}),this.getPopularTags(),this.getPopularAuthors();var n=ko.observableArray(),l=this.officialQuizzes,c=s.eventQuizzes();for(var d in c)if(0!=c[d].value){var p=eventIndex[c[d].value],u=p.quesCount();if(0<u&&n.push({value:c[d].value,label:c[d].label+" ("+u+")"}),p.quesLinks().length){p.quesLinks();l.push({value:c[d].value,label:c[d].label})}}else n.push(c[d]),l.push(c[d]),l.push({value:-1,label:"All Official Quizzes"});this.filterByEvents=o(this,"filterByEvents",{optionsArray:n,value:null,settings:{allow_single_deselect:!0},caption:"Select event...",onChange:"onChange",width:"100%"}),this.filterByOfficialQuiz=o(this,"filterByOfficialQuiz",{optionsArray:l,value:null,settings:{allow_single_deselect:!0},caption:"Select event...",onChange:"onChange",width:"100%"}),this.createSieve()}var s=t("app/module"),o=t("ui/select"),d=t("app/ratingFilters"),n={questions:{1:!0,2:!0,4:!0},flashcards:{5:!0,7:!0}};QuesFilters.prototype.filterHiddenTypes=function(e,t){return n[this.parent.type()][e]&&t},QuesFilters.prototype.getFilters=function(){var e=this.filterSelect.value();for(var t in e)e[t]=+e[t];var a=this.excludeTagSelect.value();for(var t in a)a[t]=+a[t];var s=this.userSelect.value();for(var t in s)s[t]=+s[t];return{tags:e,excludeTags:a,users:s}},QuesFilters.prototype.onChange=function(){this.canFilter&&(this.createSieve(),this.parent.filter())},QuesFilters.prototype.getPopularTags=function(){var e=fs.getIndex("tag"),t=[],a=1;for(var s in e){var o=e[s],d=o.nodes().length;t.push({tag:o,numNodes:d})}t.sort(function(e,t){return t.numNodes-e.numNodes});var n=t.slice(0,2);for(var a in n){var l={tagName:n[a].tag.tag(),ID:n[a].tag.tagID,type:"tag"};this.popularTags.push(l)}},QuesFilters.prototype.getPopularAuthors=function(){this.popularAuthors.push({authorName:"Me",ID:userID,type:"author"})},QuesFilters.prototype.selectTag=function(e){var t=this;return function(){if("tag"==e.type)var a=t.filterSelect.value()||[];else if("author"==e.type)var a=t.userSelect.value()||[];0>a.indexOf(e.ID)&&(a.push(e.ID),"tag"==e.type?t.filterSelect.value(a):"author"==e.type&&(t.userSelect.value(a),null==t.userSelect.value()&&fs.alert("Hmm, looks like you haven't authored any questions. Click in the box to filter by other authors. Or, start writing some awesome questions!")))}},QuesFilters.prototype.getQuesTypeFilters=function(){var e=[];for(var t in this.quesTypeFilters)this.quesTypeFilters[t]()&&e.push(t);return e},QuesFilters.prototype.setQuesTypeFilters=function(e){for(var t in this.quesTypeFilters)this.quesTypeFilters[t](-1!=e.indexOf(t))},QuesFilters.prototype.createSieve=function(){var e=null,t=+this.filterByEvents.value();if(t){e={};var a=eventIndex[t].getLinkedQues();for(var s in a)e[a[s]]=!0}var t=+this.filterByOfficialQuiz.value();if(t){if(-1==t){var a=[];for(var s in nodeIndex){var o=nodeIndex[s];5==o.type()&&o.isOfficial()&&a.push(o.nodeID)}}else var a=eventIndex[t].getLinkedQuiz();if(e)for(var s in e)e[s]=-1!=a.indexOf(s);else for(var s in e={},a)e[a[s]]=!0}this.sieve={myRating:d.myRatingFilter[this.myRatingFilter()],groupRating:d.groupRatingFilter[this.groupRatingFilter()],eventFilter:e}},QuesFilters.prototype.filter=function(e){return 5==e.type()&&(0<e.status()||e.userID()==userID||GROUP.owner)&&e.filterByUsers(this.userSelect.value())&&e.filterByTags(this.filterSelect.value())&&!e.filterByTags(this.excludeTagSelect.value(),!1)&&this.quesTypeFilters[e.subtype()]()&&(this.sieve.myRating(e)&&this.sieve.groupRating(e)||e.isOfficial())&&(!this.sieve.eventFilter||this.sieve.eventFilter[e.nodeID])},QuesFilters.prototype.setFilterState=function(e){this.canFilter=!1,this.filterSelect.value(e.tags),this.userSelect.value(e.authors),this.filterByEvents.value(e.event),this.filterByOfficialQuiz.value(e.official),this.setQuesTypeFilters(e.quesTypes),this.groupRatingFilter(e.groupRating),this.myRatingFilter(e.myRating),this.canFilter=!0},QuesFilters.prototype.getFilteredNodeIDs=function(){var e=this.tagSelect.value(),t={};for(var a in e)t[+e[a]]=!0;var s=0;for(var a in this.parent.quesList)s++;console.log(s+" total questions");var o=[],d=this.parent.quesList;for(var a in d)if(typeFilters[d[a]]&&(!this.wantsRecs()||1)){var n=nodeIndex[a];if(n||!eventFilter){if(n){if(!groupRating(n))continue;if(eventFilter&&!eventFilter[n.nodeID])continue}o.push(a)}}return console.log("done filtering "+o.length),o},QuesFilters.prototype.toggleFilter=function(e){var t=this;return function(){t.filterActive[e](!t.filterActive[e]())}},a.exports=QuesFilters}),define("ui.QuesItemAnalytics",function(e,t,a){a.exports=function QuesItemAnalytics(e,t){e(this),t.analytics.first.ansCount=t.ansCount,t.analytics.all.ansCount=t.ansCount,fs.mixAppend($(".firstBlock",this.dom),"ui/QuesItemAnalyticsBlock",t.analytics.first),fs.mixAppend($(".allBlock",this.dom),"ui/QuesItemAnalyticsBlock",t.analytics.all)}}),define("ui.QuesItemAnalyticsBlock",function(e,t,a){var s=String.fromCharCode,o=Math.round;function QuesItemAnalyticsBlock(e,t){console.log(t),this.totalN=ko.observable(t.totalN),this.totalCorrect=ko.observable(t.totalCorrect),this.choiceBreakdown=ko.observable(""),e(this),"selected"in t&&this.choiceBreakdown(this.printChoiceBreakdown(t.selected,t.ansCount));var a=[];for(var s in t.confidence)a.push({index:s,value:t.confidence[s]});new n({data:a,container:$(".confidenceGraph",this.dom),graph_height:200,axis_pos_y:"",axis_ticks_y:20,barHeight:d.valueAccessor,barColor:function barColor(e){return l[e.index]},barText:d.valueAccessor})}var d=t("ui/graphs/Graph"),n=t("ui/graphs/BarGraphVertical"),l=["#00FF00","#00AA00","#005500","#FF0000","#AA0000","#550000"];QuesItemAnalyticsBlock.prototype.printChoiceBreakdown=function(e,t){var a=[],d=0;for(var n in e){var l=0;for(var c in e[n])l+=e[n][c];a.push(l),d+=l}if(a.length<t)for(;a.length<t;)a.push(0);if(0<d){var p="";for(var n in a)p+=s(+n+65)+" "+o(100*(a[n]/d))+"% ";return p}return""},a.exports=QuesItemAnalyticsBlock}),define("ui.QuesItemRow",function(e,t,a){function QuesItemRow(e,t){var a=this;this.node=t.node,this.statusStr=ko.computed(function(){return n[a.node.status()]}),this.statusIcon=ko.computed(function(){return"fa-"+d[a.node.status()]}),this.statusColor=ko.computed(function(){return l[a.node.status()]}),this.deleting=t.parent.parent.deleting,e(this),s($(".content",this.dom),this.node.data().q,!1)}var s=t("models/content"),o=t("ajax/NodeOps"),d=["lock","eye","group","trash","refresh"],n=["Private","New","Published","Retired","Replaced"],l=["#FF6C60","#999999","#A9D96C","#1D6ECC","#FF6C60"];QuesItemRow.prototype.edit=function(){var e=this;dialog("ui/dialogs/EditItem",function(){s($(".content",e.dom),e.node.data().q,!1),$.jGrowl("Saved changes.",{life:1e3,position:"bottom-left"})},{model:this.node,tools:{types:"none",tags:!0}})},QuesItemRow.prototype.remove=function(){var e=this;if(0==e.node.status()||!window.classmateCount||window.userID==e.node.userID())var t="Are you sure you want to delete this item?",a="warning";else var t="Are you sure you want to delete this item from the queue of all <b class=\"fcr\">"+window.classmateCount+" classmates</b> in this workspace?",a="danger";fs.confirm(t,"Confirm Remove",a,function(t){o.changeNodeStatus(e.node,3),fs.post("removeFromSpacedRep",{g:window.groupID,m:e.node.MID,n:e.node.nodeID}),e.parent.remove(e),t()})},QuesItemRow.prototype.togglePublish=function(){2==this.node.status()?o.changeNodeStatus(this.node,0):0==this.node.status()&&o.changeNodeStatus(this.node,2)},a.exports=QuesItemRow}),define("ui.QueueControlBar",function(e,t,a){function QueueControlBar(e){var t=this;this.loading=ko.observable(!1),this.fcCount=s.count.fc,this.quesCount=s.count.ques,this.isTutorials=ko.observable(urlQuery.tutorials),this.repCount=s.count.rep,this.dropdownState=ko.observable(),this.fcDropdownList=ko.observableArray(),this.quesDropdownList=ko.observableArray(),this.fcTotal=ko.computed(function(){var e=0,a=t.fcDropdownList();for(var s in a)a[s].off()||(e+=a[s].count);return e}),this.hasFlashcards=ko.observable(!0),this.quesTotal=ko.computed(function(){var e=0,a=t.quesDropdownList();for(var s in a)a[s].off()||(e+=a[s].count);return e}),this.hasQuestions=ko.observable(!0),this.repTotal=ko.observable(),this.quizBuilder=new o,e(this),s.update(),this.spacedRep=fs.mix(this,"ui/ControlBarSpacedRep"),$(".queue-tip").tooltip({placement:"bottom",trigger:"manual"}).on("mouseenter",function(){$(this).tooltip("show")}).on("mouseleave",function(){$(this).tooltip("hide")}).on("click",function(){$(this).tooltip("hide")})}function getTime(e){if(~e.indexOf("day")||~e.indexOf("week")||~e.indexOf("month")){var t=e.split(" ");return 2<=t.length&&!isNaN(t[0])&&l[t[1]]?+moment().subtract(t[0],t[1]):"this week"==e?+moment().subtract(2,"days"):+moment()}return"today"==e?+moment():+moment()}var s=t("app/queues"),o=t("ui/QuizBuilder"),d=t("app/dbProgress"),n=t("app/tour"),l=_.indexBy(["day","days","week","weeks","month","months"],_.identity);QueueControlBar.prototype.generateQueueDropdownList=function(e){var t={};for(var a in e){var s=a;s in t?(t[s].todo.push(e[a].todo),t[s].done.push(e[a].done)):t[s]={todo:[e[a].todo],done:[e[a].done]}}return _.map(t,function(e,t){return e.todo=_.flatten(e.todo),e.done=_.flatten(e.done),{todo:e.todo,done:e.done,count:e.todo.length,total:e.done.length+e.todo.length,time:getTime(t),when:"Added "+t,off:ko.observable()}})},QueueControlBar.prototype.toggleDropdown=function(e){var t=this;return function(){t.loading(!1),e==t.dropdownState()?t.dropdownState(null):(t.initHandleOffClick(e),t.dropdownState(e),"fc"==e?$(".flashcard-queue .added-message",t.dom).addClass("hidden"):"ques"==e&&$(".question-queue .added-message",t.dom).addClass("hidden"),"rep"==e?t.spacedRep.update():fs.post("getQueueDetails",{type:e},function(a){var o=_.indexBy(_.flatten(_.map(a.index,function(e){return e.todo})),_.identity);s.index[e]=o;var d=t.generateQueueDropdownList(a.index);d.sort(function(e,t){return t.time-e.time}),"fc"==e?(t.fcDropdownList(d),t.hasFlashcards(!!d.length)):(t.quesDropdownList(d),t.hasQuestions(!!d.length))}),analytics.track("Queue Interaction",{feature:e+"-dropdown"})),n.next("newUI:4"),n.validate("newUI:8")&&n.next("newUI:8",{onNext:function onNext(){setTimeout(function(){},1e3)}})}},QueueControlBar.prototype.initHandleOffClick=function(t){var a=this,s={fc:$(".flashcard-queue",this.dom),ques:$(".question-queue",this.dom),rep:$(".repetition-queue",this.dom)};$(document).on("click",function(o){0===$(o.target).closest(s[t]).length&&a.dropdownState()===t&&a.dropdownState(null)})},QueueControlBar.prototype.toggleItem=function(e){this;return function(){e.off(!e.off())}},QueueControlBar.prototype.prepareQuiz=function(e,t){t=t||{};var a=[],s=e();for(var o in s)s[o].off()||(a.push(s[o].todo),t.includeAll&&a.push(s[o].done));a=_.flatten(a),shuffle(a),this.quizBuilder.quiz={ids:a,type:t.type}},QueueControlBar.prototype.startFlaggedQuiz=function(e,t){var a=this;return t="fc"===t?"flashcards":"questions",function(){a.prepareQuiz(e,{type:t}),a.loading(!0),a.quizBuilder.startQuizAjax(function(){a.loading(!1),a.dropdownState(null)}),a.clearMessages(),analytics.track("Queue Interaction",{feature:t+"-quiz-start"})}},QueueControlBar.prototype.customizeFlaggedQuiz=function(e,t){var a=this;return t="fc"===t?"flashcards":"questions",function(){a.prepareQuiz(e,{includeAll:!0,type:t}),a.loading(!0),a.quizBuilder.displayScoreboard(function(){a.loading(!1),a.dropdownState(null)}),analytics.track("Queue Interaction",{feature:t+"-quiz-customize"})}},QueueControlBar.prototype.startSpacedRepQuiz=function(){var e=this;this.spacedRep.loadQuiz(function(t){window.nav.getTab(window.prefixTabURL("/quiz")),e.quizBuilder.quiz={ids:t},e.quizBuilder.render(t),e.dropdownState(null),e.clearMessages(),analytics.track("Queue Interaction",{feature:"rep-quiz-start"})})},QueueControlBar.prototype.customizeQuizItem=function(e){var t=this;return function(){t.quizBuilder.quiz={ids:e.todo},t.dropdownState(null),t.quizBuilder.startQuiz()}},QueueControlBar.prototype.clearMessages=function(){$(".added-message",this.dom).addClass("hidden").html("")},QueueControlBar.prototype.openNavDrawer=function(){this.dropdownState(null)},QueueControlBar.prototype.navToLink=function(e){return function(){window.location.href=e}},QueueControlBar.prototype.seeAllFlashcardsClick=function(){window.location.href="/quiz/queues?mode=flashcards"},QueueControlBar.prototype.seeAllQuestionsClick=function(){window.location.href="/quiz/queues?mode=questions"},a.exports=QueueControlBar}),define("ui.QueueItemRow",function(e,t,a){function QueueItemRow(e,t){this;this.node=t.node;var a=moment(t.node.flaggedOn);if(this.flaggedOn=a.format("YYYY")==moment().format("YYYY")?a.format("MMM D"):a.format("YYYY MMM D"),t.node.repeatOn){var o=moment(t.node.repeatOn);this.repeatOn=o.format("YYYY")==moment().format("YYYY")?o.format("MMM D"):o.format("YYYY MMM D")}else this.repeatOn="";e(this);var d=this.replaceCurliesWithUnderline();s($(".content",this.dom),d,!1)}var s=t("models/content");QueueItemRow.prototype.removeFromQueue=function(){var e=this;fs.post("removeFromQueue",{type:this.parent.parent.type(),nodeID:this.node.nodeID,days:0},function(){e.parent.parent.filter(),$(".tooltip").remove()})},QueueItemRow.prototype.replaceCurliesWithUnderline=function(){var e=this.node.data().q,t="string"==typeof e?e:e.s;return 5==this.node.subtype()&&(t=t.replace(/\{\{c[0-9]+::/g,"<u>").replace(/\}\}/g,"</u>")),t},a.exports=QueueItemRow}),define("ui.QueueRow",function(e,t,a){var s=Math.floor,o=Math.round;function QueueRow(e,t){var a=this;computeGroupTotals(t),this.name=ko.observable(t.name),this.type=t.type,this.from=t.from,this.begin=t.begin,this.end=t.end,this.newCards=ko.observable(t.newCards),this.totalCards=ko.observable(t.totalCards),this.totalCardsLarge=ko.computed(function(){var e=a.totalCards();return 1e4<=e?s(e/1e3)+"k":e}),this.completed=ko.computed(function(){return a.totalCards()-a.newCards()}),this.correct=ko.observable(t.correctCards),this.incorrect=ko.observable(t.totalCards-t.correctCards-t.newCards),this.percentCorrect=ko.computed(function(){return o(100*(a.correct()/a.totalCards()))}),this.percentIncorrect=ko.computed(function(){return o(100*(a.incorrect()/a.totalCards()))}),this.flagged=ko.observable(t.flagged),this.groups=t.groups,this.hasSubdecks=ko.observable(!!t.groups),this.subdecksVisible=ko.observable(!1),this.MID=t.MID,this.isDocDeck=t.isDocDeck,this.data=ko.observable(t.data),this.quizBuilder=new d,this.quizBuilder=new d,this.state=ko.observable(t.state),this.parent=t.parent,e(this),(window.mobile.mobile()||window.mobile.tablet()||window.mobile.phone())&&this.dom.addClass("isMobile"),$(".due-tooltip",this.dom).tooltip()}function computeGroupTotals(e){if(e.groups)for(var t in e.totalCards=0,e.correctCards=0,e.newCards=0,e.groups){var a=e.groups[t];e.totalCards+=a.totalCards,e.correctCards+=a.correctCards,e.newCards+=a.newCards}}var d=t("ui/QuizBuilder"),n=t("app/addToQueue"),l=t("app/who"),c=t("app/themeHash"),d=t("ui/QuizBuilder");QueueRow.prototype.getDecks=function(){this.parent.parent.getDecks()},QueueRow.prototype.getQuizFromGroups=function(){var e=[],t=this.groups;for(var a in t){var s=t[a];e.push("type="+this.type+",from="+s.from+",begin="+s.begin+",end="+s.end)}return e.join("|")},QueueRow.prototype.getSetAddr=function(){return this.groups?this.getQuizFromGroups():"type="+this.type+",from="+this.from+",begin="+this.begin+",end="+this.end},QueueRow.prototype.startQuiz=function(){var e=this;e.quizBuilder.quiz={set:"queueRange:"+this.getSetAddr()},console.log(e.quizBuilder.quiz),e.quizBuilder.displayScoreboard()},QueueRow.prototype.saveToQueue=function(){var e=this;fs.post("getDeckItems",{g:window.groupID,MID:this.MID,type:"total",tagID:this.tagID},function(t){$(".deck-name",e.dom).addClass("ajax-loading"),setTimeout(function(){$(".deck-name",e.dom).removeClass("ajax-loading")},3e3),n.flashcards(t.ids,$(".deck-name",e.dom),!0)})},QueueRow.prototype.toggleSubdecks=function(e){this.subdecksVisible()?this.collapseSubdecks(e):this.expandSubdecks(e)};var p={osmosisFlagged:"From Osmosis - flagged",osmosisActive:"From Osmosis - active",localFlagged:"Created at your school - flagged",localActive:"Created at your school - active"},u={osmosisFlagged:!0,localFlagged:!0};QueueRow.prototype.formatAsRow=function(e){return e.parent=this,e.type=this.type,e.name=p[e.from],e.flagged=!!u[e.from],e},QueueRow.prototype.expandSubdecks=function(e){var t=this,a=$(".subdecks",t.dom);for(var s in this.groups){var o=fs.mixAppend(a,"ui/QueueRow",this.formatAsRow(this.groups[s]));o.dom.css("margin-left","0px")}this.subdecksVisible(!0),e()},QueueRow.prototype.collapseSubdecks=function(e){fs.empty($(".subdecks",this.dom)),this.subdecksVisible(!1),e()},QueueRow.prototype.refresh=function(){this.parent.refresh?this.parent.refresh():this.parent.parent.load()},QueueRow.prototype.action=function(e){var t=this;return function(){t.bulkAction(e,function(){t.refresh()})}},QueueRow.prototype.remove=function(){var e=this;fs.confirm("Are you sure you want to remove this from your queue (this can't be undone)?","Confirm Remove","danger",function(t){e.bulkAction("remove",function(){e.refresh(),t()})})},QueueRow.prototype.bulkAction=function(e,t){fs.post("bulkQueueAction",{type:this.type,set:this.getSetAddr(),action:e},function(e){t&&t(e)})},a.exports=QueueRow}),define("ui.QuickFlashcardBrowser",function(e,t,a){function QuickFlashcardBrowser(e,t){this.cards=[],this.prevEnabled=ko.observable(),this.nextEnabled=ko.observable(),this.spacebarHint=ko.observable(),this.idx=ko.observable(-1),this.count=ko.observable(0),this.isLocal=t.isLocal}QuickFlashcardBrowser.prototype.add=function(e){this.cards.push(e),this.count(this.count()+1),1==this.cards.length&&this.next(),this.nextEnabled(this.idx()<this.cards.length-1)},QuickFlashcardBrowser.prototype.remove=function(e){for(var t in this.cards)if(this.cards[t].flashcard.nodeID==e){this.cards.splice(t,1),this.count(this.count()-1);break}this.idx(this.count()?0:-1),this.displayCard()},QuickFlashcardBrowser.prototype.displayCard=function(){fs.empty($(".flashcard",this.dom));var e=this.idx();if(-1!=e){var t=this.cards[e],a=fs.mixAppend($(".flashcard",this.dom),"ui/QuickSlideFlashcard",t);a.local=this.isLocal,this.prevEnabled(0<e),this.nextEnabled(e<this.cards.length-1)}},QuickFlashcardBrowser.prototype.prev=function(){0<this.idx()&&(this.idx(this.idx()-1),this.displayCard())},QuickFlashcardBrowser.prototype.next=function(){this.idx()<this.cards.length-1&&(this.idx(this.idx()+1),this.displayCard())},QuickFlashcardBrowser.prototype.toggleSpacebarHint=function(e){var t=this;window.captureSpacebarInput=!!e&&function(){t.next()},t.spacebarHint(e)},a.exports=QuickFlashcardBrowser}),define("ui.QuickSlideFlashcard",function(e,t,a){function QuickSlideFlashcard(e,t){this.canRemove=ko.observable(t.adminCanRemove&&MODULE.admin),this.docNodeID=t.docNodeID,s.call(this,e,t)}var s=t("models/resource/SingleFact");fs.extend(QuickSlideFlashcard,s),QuickSlideFlashcard.prototype.remember=function(e){this.scheduleForReview(e)},QuickSlideFlashcard.prototype.notRelevant=function(e){this.unscheduleReview(e)},QuickSlideFlashcard.prototype.flag=function(e){var t=this;this.scheduled()?this.notRelevant(function(){t.showAnswer(),$(".fa-flag",t.dom).tooltip("show"),e()}):this.remember(function(){t.showAnswer(),t.justScheduledMsgVisible(!0),$(".fa-flag",t.dom).tooltip("show"),e()})},QuickSlideFlashcard.prototype.removeCard=function(){var e=this;fs.post("removeMatchedFlashcard",{m:window.MID,docNodeID:this.docNodeID,matchNodeID:this.flashcard.nodeID},function(){e.dom.fadeOut(400,function(){e.dom.remove()})})},a.exports=QuickSlideFlashcard}),define("ui.QuickSlideQuestion",function(e,t,a){var s=t("models/content");a.exports=function QuickSlideQuestion(e,t){this.page=t.page,e(this),s($(".questionBody",this.dom),t.ques.data().q)}}),define("ui.QuizBlockByCalendar",function(e,t,a){var s=Math.round;function QuizBlockByCalendar(e,t){function update(){a.update()}var a=this;this.time=new d(this,this.update),this.groupID=this.time.groupID,this.groupID(window.groupID),this.initialMID=t.initialMID,this.onStartQuiz=t.onStartQuiz,this.active=ko.observable(!0),this.mode=ko.observable("fixed"),this.itemType=ko.observable("allFC"),this.source=ko.observable("school"),this.subfilterOsmosis=ko.observable("best"),this.subfilterSchool=ko.observable("anyone"),this.stats=ko.observable({available:0,answered:0,correct:0,completed:0}),this.quizBuilder=new o,this.quizBuilder.emptyQuizMessage="No questions available in this quiz. Try selecting different filters.",this.quizBuilder.hideBrowse=!0,this.locked=ko.observable(!1),t.beginRange&&t.endRange&&(this.time.startDate(t.beginRange),this.time.endDate(t.endRange),this.time.mode("custom")),e(this),this.calendar=fs.mix(this,"ui/MiniSelectableCalendar",{onSelect:function onSelect(e,t){a.time.value(e),a.time.startDate(e),a.time.endDate(t),a.time.mode("custom"),a.update()}}),this.groupID.subscribe(update),this.itemType.subscribe(update),this.source.subscribe(update),this.subfilterOsmosis.subscribe(update),this.subfilterSchool.subscribe(update),this.time.subscribe(),t.docNodeID&&t.eventID&&t.thumb&&t.beginTS?(a.groupID(window.groupID),a.time.targetDocument({nodeID:t.docNodeID,data:ko.observable({$:t.thumb})},{eventID:t.eventID,begin:ko.observable(new Date(1e3*t.beginTS))}),setTimeout(function(){a.update()},0)):this.update(),$(document).bind("group/coursework:quiz",function(){a.tab("calendar")}),window.user&&1>window.user.prime.status&&(this.source("school"),this.locked(!0))}var o=t("ui/QuizBuilder"),d=t("ui/TimeSelector"),n=t("app/timezone");QuizBlockByCalendar.prototype.getSource=function(){if("allFC"==this.itemType()||"flaggedFC"==this.itemType())return this.source();return"caseQues"==this.itemType()?"osmosis":"otherQues"==this.itemType()?"school":void 0},QuizBlockByCalendar.prototype.update=function(){var e=this;return"osmosis"==this.source()&&this.locked()?(this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:e,source:"calendarQuiz",resource:"quizzes",fullTab:!1,content:"default",hasCancel:!0}),this.source("school"),!1):void(!this.groupID()||fs.post("quizByCalendar",{g:this.groupID(),mode:this.time.mode(),value:this.time.value(),units:this.time.units(),start:+moment.tz(e.time.startDate()+" 00:00:00",n.timezone())/1e3,stop:+moment.tz(e.time.endDate()+" 23:59:59",n.timezone())/1e3,itemType:this.itemType(),source:this.getSource(),subfilter:"osmosis"==this.getSource()?this.subfilterOsmosis():this.subfilterSchool(),eventID:this.time.eventID,docNodeID:this.time.docNodeID,excludeMIDs:this.getExcludedMIDs()},function(t){e.time.updateModules(fs.transpose(t.moduleMap),t.MIDs);var a=e.time.modules();if(e.initialMID){for(var o in a)a[o].active(a[o].MID==e.initialMID);e.initialMID=0,e.update()}if(e.stats({available:t.ids.length,completed:t.completed,correct:t.ids.length?s(100*(t.correct/t.ids.length)):null,incorrect:t.ids.length?s(100*((t.completed-t.correct)/t.ids.length)):null}),fs.empty($(".build-quiz",e.dom)),e.quizBuilder.quiz={type:"allFC"==e.itemType()||"flaggedFC"==e.itemType()?"Flashcards":"Questions",ids:t.ids},"fixed"==e.time.mode()){var d=e.time.getBounds();e.calendar.selectRange(d.start,d.end)}}))},QuizBlockByCalendar.prototype.getExcludedMIDs=function(){var e=[],t=this.time.modules();for(var a in t)t[a].active()||e.push(t[a].MID);return e},QuizBlockByCalendar.prototype.buildQuiz=function(){$(".build-quiz .rounded-btn",this.dom).click()},QuizBlockByCalendar.prototype.toggleModuleActive=function(e,t){var a=this;return function(){e.active(t),a.update()}},QuizBlockByCalendar.prototype.build=function(e){var t=this;this.quizBuilder.displayScoreboard(function(){t.onStartQuiz&&t.onStartQuiz(),e()})},a.exports=QuizBlockByCalendar}),define("ui.QuizBlockByDailyGoals",function(e,t,a){function QuizBlockByDailyGoals(e){this;e(this),this.init=!1,this.quizSelector=fs.mix(this,"ui/mobile/QuizSelector",{parent:this})}QuizBlockByDailyGoals.prototype.show=function(){this.init||this.quizSelector.getSchedule(),this.init=!0},a.exports=QuizBlockByDailyGoals}),define("ui.QuizBlockByDeck",function(e,t,a){a.exports=function QuizBlockByDeck(e){function updateTitle(){t.titleVisible(t.decks.hasActiveDecks()||t.decks.hasArchivedDecks())}var t=this;this.titleVisible=ko.observable(),e(this),this.decks=fs.mix(this,"ui/Decks"),this.decks.hasActiveDecks.subscribe(updateTitle),this.decks.hasArchivedDecks.subscribe(updateTitle)}}),define("ui.QuizBlockByDocuments",function(e,t,a){var s=Math.round;function QuizBlockByDocuments(e,t){function update(){a.update()}var a=this;this.groupID=ko.observable(window.groupID),this.onStartQuiz=t.onStartQuiz,this.active=ko.observable(!0),this.itemType=ko.observable("allFC"),this.source=ko.observable("school"),this.subfilterOsmosis=ko.observable("best"),this.subfilterSchool=ko.observable("anyone"),this.docs=ko.observableArray(t.docs),this.stats=ko.observable({available:0,answered:0,correct:0,completed:0}),this.quizBuilder=new o,this.quizBuilder.emptyQuizMessage="No questions available in this quiz. Try selecting different filters.",this.locked=ko.observable(!1),e(this),this.groupID.subscribe(update),this.itemType.subscribe(update),this.source.subscribe(update),this.subfilterOsmosis.subscribe(update),this.subfilterSchool.subscribe(update),this.update(),window.user&&1>window.user.prime.status&&(this.source("school"),this.locked(!0))}var o=t("ui/QuizBuilder");QuizBlockByDocuments.prototype.getSource=function(){if("allFC"==this.itemType()||"flaggedFC"==this.itemType())return this.source();return"caseQues"==this.itemType()?"osmosis":"otherQues"==this.itemType()?"school":void 0},QuizBlockByDocuments.prototype.update=function(){var e=this;if("osmosis"==this.source()&&this.locked())return this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:e,source:"calendarQuiz",resource:"quizzes",fullTab:!1,content:"default",hasCancel:!0}),this.source("school"),!1;if(this.groupID()){var t=[];for(var a in this.docs())t.push(this.docs()[a].nodeID);fs.post("quizByDocuments",{g:this.groupID(),itemType:this.itemType(),source:this.getSource(),subfilter:"osmosis"==this.getSource()?this.subfilterOsmosis():this.subfilterSchool(),docNodeIDs:t},function(t){e.stats({available:t.ids.length,completed:t.completed,correct:t.ids.length?s(100*(t.correct/t.ids.length)):null,incorrect:t.ids.length?s(100*((t.completed-t.correct)/t.ids.length)):null}),fs.empty($(".build-quiz",e.dom)),e.quizBuilder.quiz={type:"allFC"==e.itemType()||"flaggedFC"==e.itemType()?"Flashcards":"Questions",ids:t.ids}})}},QuizBlockByDocuments.prototype.buildQuiz=function(){$(".build-quiz .rounded-btn",this.dom).click()},QuizBlockByDocuments.prototype.build=function(e){var t=this;this.quizBuilder.displayScoreboard(function(){t.onStartQuiz&&t.onStartQuiz(),e()})},a.exports=QuizBlockByDocuments}),define("ui.QuizBlockByFlagged",function(e,t,a){function QuizBlockByFlagged(){}QuizBlockByFlagged.prototype.openQueue=function(e){this;return function(t,a){a.preventDefault(),a.stopPropagation(),$(".ui-QueueControlBar ."+e+"-queue > i").click()}},a.exports=QuizBlockByFlagged}),define("ui.QuizBlockByLegacyTopic",function(e,t,a){function QuizBlockByLegacyTopic(e){this;e(this),this.init=!1,this.quizSelector=fs.mix(this,"ui/mobile/TopicSelector",{parent:this})}var s=t("ui/QuizBuilder"),o=t("shared/topics");QuizBlockByLegacyTopic.prototype.show=function(){this.init||this.quizSelector.getSchedule(),this.init=!0},a.exports=QuizBlockByLegacyTopic}),define("ui.QuizBlockByModule",function(e,t,a){var s=Math.round;function QuizBlockByModule(e){function update(){t.update()}var t=this;this.currentGroupID=0,this.groupID=ko.observable(window.groupID),this.stats=ko.observable({available:0,answered:0,correct:0,completed:0}),this.modules=ko.observableArray(),this.selectedModules=ko.observableArray(),this.itemType=ko.observable("allFC"),this.authors=ko.observable("anyone"),this.quizBuilder=new o,this.quizBuilder.emptyQuizMessage="No questions available in this quiz. Try selecting different filters.",this.quizBuilder.hideBrowse=!0,this.locked=ko.observable(!1),e(this),this.groupID.subscribe(update),this.selectedModules.subscribe(update),this.itemType.subscribe(update),this.authors.subscribe(update),this.update(),window.user&&1>window.user.prime.status}var o=t("ui/QuizBuilder"),d=t("shared/topics");QuizBlockByModule.prototype.update=function(){var e=this;if(this.currentGroupID==this.groupID()){var t=this.selectedModules();this.quizBuilder.MID=1==t.length?t[0]:0,fs.post("quizByModules",{g:this.groupID(),MIDs:t,itemType:this.itemType(),authors:this.authors()},function(t){e.stats({available:t.available,completed:t.completed,correct:t.available?s(100*(t.correct/t.ids.length)):null,incorrect:t.available?s(100*((t.completed-t.correct)/t.available)):null}),fs.empty($(".build-quiz",e.dom)),e.quizBuilder.quiz={type:"allFC"==e.itemType()||"flaggedFC"==e.itemType()?"Flashcards":"Questions",ids:t.ids}})}else{if(this.stats({available:0,answered:0,correct:0,completed:0}),this.modules.removeAll(),!this.groupID())return;fs.post("getGroupModules",{g:this.groupID()},function(t){var a=fs.transpose(t.moduleData);e.modules(a)})}this.currentGroupID=this.groupID()},a.exports=QuizBlockByModule}),define("ui.QuizBlockByTopic",function(e,t,a){var s=Math.ceil,o=Math.round;function QuizBlockByTopic(e){function update(){t.update()}var t=this;this.active=ko.observable(!0),this.maxCount=ko.observable(40),this.selectAllChecked=ko.observable(!1);var a=[];for(var o in n.fullName)if(!c[o]){var l={name:n.fullName[o],id:o,checked:ko.observable(),visible:ko.observable(!0)};urlQuery.topic&&urlQuery.topic.replace(/\_/g," ")==n.topicID2subject[o]&&l.checked(!0),a.push(l)}for(var o in a.sort(function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}),this.topics=a,this.topicsColA=ko.observableArray(a.slice(0,s(a.length/2))),this.topicsColB=ko.observableArray(a.slice(s(a.length/2),a.length)),this.stats=ko.observable({available:0,answered:0,correct:0,completed:0}),this.itemType=ko.observable(urlQuery.type||"step1"),this.quizBuilder=new d,this.quizBuilder.emptyQuizMessage="No questions available in this quiz. Try selecting different filters.",this.locked=ko.observable(!1),e(this),a)a[o].checked.subscribe(update);update(),this.itemType.subscribe(function(){t.modifySubjectVisibility(),update()}),this.maxCount.subscribe(update),this.modifySubjectVisibility(),window.user&&1>window.user.prime.status&&(this.locked(!0),this.stopVideo=!0,this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:t,source:"topicQuiz",resource:"quizzes",fullTab:!1,content:"default"}))}var d=t("ui/QuizBuilder"),n=t("shared/topics"),l=_.indexBy([3461,3462,3465,3466,3467,3468],_.identity),c=_.indexBy([542,543],_.identity);QuizBlockByTopic.prototype.modifySubjectVisibility=function(){var e=this.itemType();for(var t in this.topics)this.topics[t].visible(!l[this.topics[t].id]||"step2"==e)},QuizBlockByTopic.prototype.selectedTopics=function(){var e=[];for(var t in this.topics)this.topics[t].checked()&&e.push(n.topicID2subject[this.topics[t].id]||this.topics[t].name);return e},QuizBlockByTopic.prototype.update=function(){var e=this;fs.post("quizByTopics",{topics:this.selectedTopics(),itemType:this.itemType()},function(t){e.stats({available:t.total,completed:t.completed,correct:t.total?o(100*(t.correct/t.total)):null,incorrect:t.total?o(100*((t.completed-t.correct)/t.total)):null}),fs.empty($(".build-quiz",e.dom)),e.quizBuilder.quiz={type:"allFC"==e.itemType()||"flaggedFC"==e.itemType()?"Flashcards":"Questions",set:"multiTopic:"+e.selectedTopics().join(";")+"."+e.itemType(),quizSize:e.maxCount()}}),setTimeout(function(){for(var t in e.topics)e.topics[t].visible()&&!e.topics[t].checked()&&e.selectAllChecked(!1)},100),console.log()},QuizBlockByTopic.prototype.toggleAllChecked=function(){for(var e in this.topics)this.selectAllChecked()?this.topics[e].checked(this.topics[e].visible()):this.topics[e].checked(!1);return!0},a.exports=QuizBlockByTopic}),define("ui.QuizBlockByWorkspaceDeck",function(e,t,a){function QuizBlockByWorkspaceDeck(e){var t=this;this.author=ko.observable("anyone"),this.kind=ko.observable("short-term"),e(this),t.decks=fs.mix(t,"ui/WorkspaceDecks",{author:t.author,kind:t.kind})}QuizBlockByWorkspaceDeck.prototype.setAuthor=function(e){var t=this;return function(){t.author(e),t.decks.refresh()}},QuizBlockByWorkspaceDeck.prototype.setKind=function(e){var t=this;return function(){t.kind(e)}},a.exports=QuizBlockByWorkspaceDeck}),define("ui.QuizBlockWorkspaceOnboarding",function(e,t,a){function QuizBlockWorkspaceOnboarding(e,t){this;this.builder=t.builder,this.title=t.title,this.explainer=t.explainer,this.actionText=t.actionText,this.btnStyle=t.btnStyle,e(this)}var s=t("ui/QuizBuilder"),o=t("shared/topics");QuizBlockWorkspaceOnboarding.prototype.action=function(){analytics.track("Quiz Onboarding CTA",{action:"Join Workspace",type:this.builder}),window.location.href="/create/group"},a.exports=QuizBlockWorkspaceOnboarding}),define("ui.QuizBuilder",function(e,t,a){function QuizBuilder(){}function filterExists(e){var t=[];for(var a in e)nodeIndex[e[a]]&&t.push(e[a]);return t}var s=t("app/recManager"),o=t("app/dbProgress");QuizBuilder.prototype.start=function(e,t){t=t||{};var a=this,d=this.isLocal?{locally:1}:{};e=e||function(e){a.render(e)};var n=null;this.quiz.ids&&this.quiz.ids.length?n=t.selectAll?this.quiz.ids:o.getNew(this.quiz.ids):this.quiz.repeat&&this.quiz.repeat.length&&(n=this.quiz.repeat);var l=[];n?(d.ids=n,l=n):d.set=this.quiz.set,this.quiz.difficulties&&(d.difficulties=this.quiz.difficulties),t.selectAll&&(d.selectAll=1),this.quiz.quizSize&&(d.size=this.quiz.quizSize),d.ids&&d.ids.length||d.set?($(document).trigger("review.loading",[l]),fs.post("mobileGetQuesNodes",d,function(t){if(s.loadNodes(t),d.set?(l=t.nodeData.nodeID.slice(),a.quizIndex=o.makeIndex(l)):d.size&&(l=t.nodeData.nodeID.slice()),a.quiz.MID)for(var n in l){var c=nodeIndex[l[n]];c&&(c.packID(-a.quiz.MID),c.MID=a.quiz.MID)}else if(a.quiz.MIDs)for(var n in l){var c=nodeIndex[l[n]];c&&(c.packID(-a.quiz.MIDs[c.nodeID]),c.MID=a.quiz.MIDs[c.nodeID])}e(filterExists(l))})):e(filterExists(l))},QuizBuilder.prototype.render=function(e){$(document).trigger("review.startQuiz",[e,this.quiz])},QuizBuilder.prototype.loadQuiz=function(e,t){this;return window.nav.getTab(window.prefixTabURL("/quiz")),this.quiz?void this.start(e,{selectAll:!0}):(fs.alert(this.emptyQuizMessage||"No questions available in this quiz."),t())},QuizBuilder.prototype.displayScoreboard=function(e,t){var a=this,s=this.quiz.type||(this.quiz.set&&("f"==this.quiz.set.split(".")[1]||"allFC"==this.quiz.set.split(".")[1]||"flaggedFC"==this.quiz.set.split(".")[1])?"Flashcards":"Questions");this.loadQuiz(function(o){dialog("ui/dialogs/QuizOverview",function(){},{select:null,ques:o,MID:a.MID,type:s,hideBrowse:a.hideBrowse,onStart:function onStart(e){t&&t(),a.render(e)},onShow:function onShow(){e&&e()}})})},QuizBuilder.prototype.customizeQuiz=function(){var e=this;return function(t){e.displayScoreboard(t)}},QuizBuilder.prototype.startQuiz=function(){var e=this;this.loadQuiz(function(t){e.render(t)})},QuizBuilder.prototype.startQuizAjax=function(e){var t=this;this.loadQuiz(function(a){t.render(a),e&&e()})},a.exports=QuizBuilder}),define("ui.QuizControls",function(e,t,a){function QuizControls(e){this.repeatLinkVisible=ko.observable(),e(this),o.set(window.repetitionOverride)}var s=t("ui/Scoreboard"),o=t("ui/repeatConfig");QuizControls.prototype.render=function(){var e=this;this.rendered||(this.quizScoreboard=new s($(".quizScoreboard",this.dom),250,[],"answered",{isQuiz:!0}),this.quizScoreboard.dom.bind("ScoreboardMouseUp",function(){e.repeatLinkVisible(!0)}),this.quizScoreboard.render(),this.load(),this.scoreboardKey=fs.mix(this,"ui/ScoreboardKey",{sb:this.quizScoreboard}),this.quizScoreboard.onQuizAdvance=function(){e.repeatLinkVisible(!1)},this.rendered=!0)},QuizControls.prototype.newQuiz=function(e){this.quesList=e,this.rendered&&this.load()},QuizControls.prototype.load=function(){this.quizScoreboard.loadBinsFromHistory(this.quesList,function(){return!0},!0),this.quizScoreboard.selectByFilter("11111110.111111111")},QuizControls.prototype.repeatItems=function(){var e=[];for(var t in this.quesList)e.push(nodeIndex[this.quesList[t]]);var a=this.quizScoreboard.filterQuizPool(e,this.parent.reviewApp.quizStartTime);this.parent.reviewApp.startNewQuiz(a)},a.exports=QuizControls}),define("ui.QuizDashboard",function(e,t,a){function QuizDashboard(e){var t=this;this.query=ko.observable(),this.subjects=ko.observableArray(),this.subjectIndex=s.subjectIndex,this.subjectID=ko.observable(),this.subjectIcon=ko.observable(),this.subjectTitle=ko.observable(),this.quizType=ko.observable(),this.quizTypeAbbr=ko.observable(),this.locked=ko.observable(),e(this),window.user&&1>window.user.prime.status&&(this.locked(!0),this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:t,source:"learn",resource:"learn",fullTab:!0,content:"learn"}))}var s=t("shared/topics");QuizDashboard.prototype.triggerNavDrawer=function(){$(document).trigger("NavDrawerSubjectApp:updateSubject")},QuizDashboard.prototype.init=function(e,t){var a=this;if(t?this.quizType(-1<t.indexOf("Questions")?"Questions":"Flashcards"):this.quizType("fc"==urlQuery.type?"Flashcards":"Questions"),"Questions"==this.quizType()?t?-1<t.indexOf("Step 1")?this.quizTypeAbbr("step1"):this.quizTypeAbbr("step2"):this.quizTypeAbbr(urlQuery.type):this.quizTypeAbbr("fc"),fs.empty($(".quiz-clusters",a.dom)),this.triggerNavDrawer(),urlQuery.topic||e){var o;o=e?s.topicID2subject[e]:urlQuery.topic,this.subjectTitle(o.replace(/\_/g," ")),this.subjectIcon(s.getNewIcon(s.subject2topicID[this.subjectTitle()])),fs.empty($(".resource-clusters",this.dom));var d=this.subjectTitle();fs.post("getSubjectTree",{subject:d},function(e){var t=[],s=e.tree;for(var o in s){var n=s[o].contains;for(var l in n){var c=fs.mixAppend($(".quiz-clusters",a.dom),"ui/QuizRow",{addr:d+"|"+s[o].group+": "+n[l].group,title:s[o].group+": "+n[l].group,type:a.quizTypeAbbr(),items:n[l].contains});t.push(c)}}fs.post("getProgressForAddrs",{addrs:_.map(t,function(e){return e.addr}),type:a.quizTypeAbbr()},function(e){for(var a in t)t[a].update(e.progress[t[a].addr])})})}},a.exports=QuizDashboard}),define("ui.QuizDifficultyCheckbox",function(e,t,a){var s=function(){"use strict";function QuizDifficultyCheckbox(e,t){_classCallCheck(this,QuizDifficultyCheckbox),this.difficulty=t.difficulty,this.selected="function"==typeof t.selected?t.selected:ko.observable(!!t.selected),this.partiallySelected="function"==typeof t.partiallySelected?t.partiallySelected:ko.observable(!!t.partiallySelected),e(this)}return _createClass(QuizDifficultyCheckbox,[{key:"select",value:function select(){this.selected(!this.selected())}}]),QuizDifficultyCheckbox}();a.exports=s}),define("ui.QuizNavBtns",function(e,t,a){function QuizNavBtns(){this.mode=ko.observable("graded"),this.selfScored=ko.observable(!1),this.myRating=ko.observable(3)}QuizNavBtns.prototype.submitAns=function(e){return function(){console.log(e)}},QuizNavBtns.prototype.skip=function(){console.log("skip")},QuizNavBtns.prototype.selfScore=function(e){return function(){console.log(e),this.selfScored(!1)}},QuizNavBtns.prototype.rateAndMoveOn=function(){console.log("rateAndMoveOn")},QuizNavBtns.prototype.moveOn=function(){console.log("next")},a.exports=QuizNavBtns}),define("ui.QuizQueueBrowser",function(e,t,a){function QuizQueueBrowser(e){var t=this;this.sidebarNav=ko.observable(urlQuery.mode||"flashcards"),this.active=ko.observable("time"),e(this),this.render(),$(window).resize(function(){t.sizeQuizSelection()})}t("app/queues");QuizQueueBrowser.prototype.sizeQuizSelection=function(){var e=$(".quiz-selection").offset().top,t=767<$(window).width()?+e-30:25+$(".quiz-nav").outerHeight();$(".quiz-selection").css({height:"calc(100% - "+t+"px)"})},QuizQueueBrowser.prototype.render=function(){"flashcards"==this.sidebarNav()?"time"==this.active()?!this.flashcardQueueByTime&&(this.flashcardQueueByTime=fs.mixAppend($(".quiz-panel.flashcards.byTime",this.dom),"ui/QuizQueueByTime",{type:"fc"})):"item"==this.active()&&!this.flashcardQueueByItem&&(this.flashcardQueueByItem=fs.mixAppend($(".quiz-panel.flashcards.byItem",this.dom),"ui/QuizQueueByItem",{type:"fc"})):"questions"==this.sidebarNav()&&("time"==this.active()?!this.questionQueueByTime&&(this.questionQueueByTime=fs.mixAppend($(".quiz-panel.questions.byTime",this.dom),"ui/QuizQueueByTime",{type:"ques"})):"item"==this.active()&&!this.questionQueueByItem&&(this.questionQueueByItem=fs.mixAppend($(".quiz-panel.questions.byItem",this.dom),"ui/QuizQueueByItem",{type:"ques"})))},QuizQueueBrowser.prototype.changeMode=function(e,t){var a=this;return function(){a.sidebarNav(e),t&&a[t].show(),a.render()}},QuizQueueBrowser.prototype.setActive=function(e){var t=this;return function(){t.active(e),t.render()}},a.exports=QuizQueueBrowser}),define("ui.QuizQueueByItem",function(e,t,a){var s=Math.ceil;function QuizQueueByItem(e,t){var a=this;this.startRow=ko.observable(),this.stopRow=ko.observable(),this.total=ko.observable(),this.type=ko.observable(t.type),this.filtersVisible=ko.observable(),this.searchText=ko.observable(),this.deleting=ko.observable(),this.pages=ko.observableArray([1]),this.currentPage=ko.observable(1),this.pageSize=ko.observable(30),this.lastPage=ko.computed(function(){var e=a.pages();return e[e.length-1]}),this.batchAction=ko.observable(),this.quizBuilder=new d,this.name=ko.observable(),this.correct=ko.observable(0),this.incorrect=ko.observable(0),this.completed=ko.computed(function(){return a.total()-1}),this.fcOrQues="fc"==this.type()?"Flashcard":"Question",this.showRepeatOn=ko.observable(!("fc"!=this.type())),this.case="fc"==this.type()?"":"Case ",this.removeTitle="Click the cancel icon to remove this "+this.case+this.fcOrQues+" from your "+this.fcOrQues+" Queue.",this.savedTitle="Date saved to your "+this.fcOrQues+" Queue",e(this),this.items=fs.mixList(this,".item-bank"),this.currentPage.subscribe(function(){a.filter()}),this.batchAction.subscribe(function(){a.takeBatchAction(a.batchAction())}),$("input.search-module",this.dom).keypress(function(t){13==t.keyCode&&(t.preventDefault(),t.stopPropagation(),a.filter())}),this.show()}var o=t("app/recManager"),d=t("ui/QuizBuilder"),n=t("app/addToQueue");QuizQueueByItem.prototype.show=function(){var e=this;this.filters&&fs.unmix(this.filters),this.filters=fs.mixAppend($(".filters",this.dom),"ui/QBankFilters",{onApply:function onApply(){e.currentPage(1),e.pageSize(30),e.filter()},hasFilter:{author:!0,text:!0}}),this.filter({getAuthors:!0})},QuizQueueByItem.prototype.filter=function(e){var t=this;e=e||{};var a=this.filters.getFilter();this.searchText()&&a.unshift({type:"text",data:{unary:"is",value:t.searchText()}}),fs.post("filterQueueItems",{type:this.type(),startRow:((this.currentPage()||1)-1)*this.pageSize()+1,rowCount:this.pageSize(),filter:a,getAuthors:e.getAuthors},function(a){for(var d in t.name(a.name),o.loadNodes(a.rows),a.rows.nodeData.nodeID){var n=nodeIndex[a.rows.nodeData.nodeID[d]];n.flaggedOn=a.rows.nodeData.flaggedOn[d],n.repeatOn=a.rows.nodeData.repeatOn[d]}t.startRow(a.startRow),t.stopRow(a.stopRow<a.total?a.stopRow:a.total),t.total(a.total);for(var l=[],d=1;d<=s(a.total/t.pageSize());d++)l.push(+d);for(var d in t.pages(l),t.items.removeAll(),t.ids=a.rows.nodeData.nodeID,t.ids){var n=nodeIndex[t.ids[d]];t.items.push("ui/QueueItemRow",{node:n})}if(e.getAuthors&&a.authorData&&a.authorData.ID&&a.authorData.ID.length){var c=[{value:1,label:"Osmosis"}],p=fs.transpose(a.authorData);for(var d in p)c.push({value:p[d].ID,label:p[d].preferredName+" "+p[d].lastName});t.filters.availableAuthors(c)}})},QuizQueueByItem.prototype.first=function(){},QuizQueueByItem.prototype.next=function(){this.currentPage()<this.lastPage()&&(this.currentPage(this.currentPage()+1),this.filter())},QuizQueueByItem.prototype.prev=function(){1<this.currentPage()&&(this.currentPage(this.currentPage()-1),this.filter())},QuizQueueByItem.prototype.last=function(){this.currentPage(this.lastPage()),this.filter()},QuizQueueByItem.prototype.showAll=function(){this.currentPage(1),this.pageSize(this.total()),this.filter()},QuizQueueByItem.prototype.changePageSize=function(){this.filter()},QuizQueueByItem.prototype.saveToQueue=function(){var e=this;$(".deck-action.save",e.dom).addClass("ajax-loading"),setTimeout(function(){$(".deck-action.save",e.dom).removeClass("ajax-loading")},3e3),n.flashcards(e.ids,$(".deck-action.save",e.dom),!0)},QuizQueueByItem.prototype.editTags=function(){dialog("ui/dialogs/EditTags",function(){},{MID:urlQuery.id})},a.exports=QuizQueueByItem}),define("ui.QuizQueueByTime",function(e,t,a){function QuizQueue(e,t){var a=this;this.type=t.type,this.title=ko.observable(t.title),this.loading=ko.observable(!0),this.flaggedOnly=ko.observable(!0),this.moduleID=t.moduleID,e(this),this.activeDecks=fs.mixList(this,".deck-list"),this.load(),this.flaggedOnly.subscribe(function(){a.load()})}function load(e,t){var a=fs.transpose(e);for(var s in a)a[s].from=t;return a}QuizQueue.prototype.load=function(){var e=this;fs.post("getQuizQueue",{type:this.type},function(t){e.activeDecks.removeAll();var a=t.groups;for(var s in a)a[s]=load(a[s],s);if(e.flaggedOnly())var o=_.flatten([a.localFlagged,a.osmosisFlagged]);else var o=_.flatten([a.localActive,a.localFlagged,a.osmosisActive,a.osmosisFlagged]);var d=_.map(_.groupBy(o,function(e){return e.age}),function(e,t){return{groups:e,name:t}});for(var s in d)d[s].ts=d[s].groups[0].begin;for(var s in d.sort(function(e,t){return t.ts-e.ts}),d)d[s].type=e.type,e.activeDecks.push("ui/QueueRow",d[s])})},a.exports=QuizQueue}),define("ui.QuizRow",function(e,t,a){function QuizRow(e,t){var a=this;this.title=t.title,this.items=t.items,this.addr=t.addr,this.rows=[],this.type=t.type,this.typeStr=ko.observable("fc"==this.type?"flashcard":"question"),this.visible=ko.observable(!1),this.correct=ko.observable(),this.completed=ko.observable(),this.total=ko.observable(),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.incorrect=ko.computed(function(){return a.completed()-a.correct()}),this.hover=ko.observable(),this.icon="fc"==this.type?"fi-flashcard-bolt":"fi-question-nav",this.quizBuilder=new s,this.theme=t.theme,this.theme||(-1<this.title.indexOf("Pathology")?this.theme="path":-1<this.title.indexOf("Pharmacology")?this.theme="pharm":-1<this.title.indexOf("Physiology")?this.theme="phys":this.theme="phys"),this.deckTheme="path"==this.theme?"teal":"pharm"==this.theme?"orange":"phys"==this.theme?"red":"red",e(this)}var s=t("ui/QuizBuilder"),o=t("app/addToQueue");QuizRow.prototype.getAddr=function(){return this.addr.replace(/\:/g,">")+"."+{fc:"f",step1:"q1",step2:"q2"}[this.type]},QuizRow.prototype.quizNow=function(e){this.quizBuilder.quiz={set:"addr:"+this.getAddr()},this.quizBuilder.displayScoreboard(e)},QuizRow.prototype.doAddToQueue=function(e){var t=this;$(".queue-add",t.dom).addClass("ajax-loading"),setTimeout(function(){$(".queue-add",t.dom).removeClass("ajax-loading")},3e3),"fc"==t.type?o.flashcards(e,$(".quiz-actions",t.dom)):o.questions(e,$(".quiz-actions",t.dom))},QuizRow.prototype.addToQueue=function(){var e=this;fs.post("getQuizIDsForAddr",{addr:"addr:"+this.getAddr()},function(t){50<t.ids.length?fs.confirm("Confirm adding "+t.ids.length+" "+e.typeStr()+"s to your queue?",function(a){e.doAddToQueue(t.ids),a()}):e.doAddToQueue(t.ids)})},QuizRow.prototype.update=function(e){e&&(this.correct(e.correct),this.completed(e.completed),this.total(e.total))},QuizRow.prototype.addRow=function(e,t,a){return fs.mixAppend(e,"ui/QuizRow",{title:t,addr:this.addr+"|"+t,type:this.type,theme:this.theme,items:a})},QuizRow.prototype.toggle=function(){if(this.items.length){var e=this,t=$($(".rows",this.dom)[0]);if(this.rows.length<this.items.length){for(var a in this.items){if(this.items[a].concept)var s=this.addRow(t,this.items[a].concept,[]);else var s=this.addRow(t,this.items[a].group,this.items[a].contains);this.rows.push(s)}fs.post("getProgressForAddrs",{addrs:_.map(this.rows,function(e){return e.addr}),type:this.type},function(t){for(var a in e.rows)e.rows[a].update(t.progress[e.rows[a].addr])})}this.visible(!this.visible())}},QuizRow.prototype.toggleHover=function(e){var t=this;return function(){t.hover(e)}},a.exports=QuizRow}),define("ui.QuizSelFilters",function(e,t,a){function QuizSelFilters(e){var t=this;this.accConf=ko.observableArray(),this.times=ko.observableArray(),e(this),this.sb=new s($(".scoreboard",this.dom),250,[],"selected"),this.sb.render(),this.update(),$(this.sb.dom).bind("ScoreboardUpdate",function(){t.update()})}var s=t("ui/Scoreboard");QuizSelFilters.prototype.update=function(){this.updateRing(this.sb.accConf,this.accConf),this.updateRing(this.sb.times,this.times)},QuizSelFilters.prototype.updateRing=function(e,t){for(var a in t.removeAll(),e){var s=e[a];0==s.count||!s.sel||t.push({color:s.color,text:s.help.replace("%d",s.count)})}},QuizSelFilters.prototype.onQuizStart=function(e){var t=[];for(var a in e)t.push(nodeIndex[e[a]]);this.quizPool=this.sb.loadBinsFromHistory(t,function(){return!0}),this.update()},QuizSelFilters.prototype.startQuiz=function(){this.parent.startQuiz(this.sb.filterQuizPool(this.quizPool))},a.exports=QuizSelFilters}),define("ui.QuizSelOverlay",function(e,t,a){function QuizSelOverlay(e){var t=this;if(urlQuery.topic&&(urlQuery.mode="topic"),this.sidebarNav=ko.observable(urlQuery.mode||"decks"),this.refreshing=ko.observable(!1),this.scoreboardVisible=ko.observable(!1),this.promoteMode=ko.observable("disabled"),this.fcCount=s.count.fc,this.quesCount=s.count.ques,this.repCount=s.count.rep,this.bannerVisible=ko.observable(!0),this.headerBoxVisible=ko.observable(!0),this.groupName=ko.observable(),this.groupUrl=ko.observable(),this.breadcrumbVisible=ko.observable(!1),this.hasLegacyDailyGoals=ko.observable(),this.hasLegacyTopics=ko.observable(),window.legacyFeatures&&(this.hasLegacyDailyGoals(legacyFeatures.dailyGoals),this.hasLegacyTopics(legacyFeatures.boardTopic)),e(this),this.deckQuizSelector=fs.mix(this,"ui/QuizBlockByDeck"),this.topicQuizSelector=fs.mix(this,"ui/QuizBlockByTopic"),this.flaggedQuizSelector=fs.mix(this,"ui/QuizBlockByFlagged"),~window.location.pathname.indexOf("/home")||(this.quizSelector=fs.mix(this,"ui/mobile/QuizSelector",{parent:this})),"lecture"==urlQuery.ref&&(this.breadcrumbVisible(!0),urlQuery.g)){var a=window.groupSnapshotData.groupID.indexOf(+urlQuery.g);this.groupName(window.groupSnapshotData.name[a]),this.groupUrl(window.groupSnapshotData.url[a])}0==location.pathname.indexOf("/home/")&&this.doSelect("topics"),this.checkBannerHide(),setTimeout(function(){t.sizeQuizSelection()},1e3),$(window).resize(function(){t.sizeQuizSelection()}),this.hasLegacyDailyGoals()&&(this.legacyDailyGoals=fs.mix(this,"ui/QuizBlockByDailyGoals")),this.hasLegacyTopics()&&(this.legacyTopic=fs.mix(this,"ui/QuizBlockByLegacyTopic"))}var s=t("app/queues");QuizSelOverlay.prototype.sizeQuizSelection=function(){var e=$(".quiz-selection").offset().top,t=767<$(window).width()?+e-30:25+$(".quiz-nav").outerHeight();$(".quiz-selection").css({height:"calc(100% - "+t+"px)"})},QuizSelOverlay.prototype.changeMode=function(e,t){var a=this;return function(){a.sidebarNav(e),t&&a[t].show()}},QuizSelOverlay.prototype.select=function(e){var t=this;if(t.tab()!=e)return function(){t.doSelect(e)}},QuizSelOverlay.prototype.doSelect=function(e){this.tab()==e||(this.tab(e),$(".sidebar-menu .filters .ui-mobile-TitleBar",this.dom).slideUp(250,function(){$(".sidebar-menu .filters .ui-mobile-TitleBar",this.dom).appendTo(".sidebar-menu li.selected .filters").slideDown(250)}),$(document).trigger("review.tabChanged"))},QuizSelOverlay.prototype.startQuiz=function(e){this.scoreboardVisible(!1),$(document).trigger("review.startQuiz",[e])},QuizSelOverlay.prototype.startQuickQuiz=function(){this;return function(){}},QuizSelOverlay.prototype.selectTab=function(e){var t=this;return function(){t.sidebarNav(e)}},QuizSelOverlay.prototype.navTo=function(e){return function(){tabToURL(e)}},QuizSelOverlay.prototype.quickQuizIntro=function(){this;this.intro=introJs(),this.intro.setOptions({disableInteraction:!0,showStepNumbers:!1,steps:[{element:".ui-QueueControlBar",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Quick Quizzes</strong><br /><br />Access all of your flagged content from the menu bar. Select from Flashcards, questions, and Spaced Repetition, then start a quiz.</div>",position:"bottom"},{element:".ui-QueueControlBar .queue-item.flashcard-queue i",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Flagged Flashcards</strong><br /><br />Start or customize a quiz from all of your recently flagged flashcards</div>",position:"bottom"},{element:".ui-QueueControlBar .queue-item.question-queue i",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Flagged Questions</strong><br /><br />You can flag and quiz yourself on board-style questions too!</div>",position:"bottom"},{element:".ui-QueueControlBar .queue-item.repetition-queue i",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Spaced Repetition</strong><br /><br />Fully customize and quiz yourself from your spaced repetition schedule.</div>",position:"left"},{intro:"<div class=\"center final-step\" style=\"width:275px;\"><strong style=\"font-size:20px;\">That's it... you're ready!</strong><br /><em>Now go crush it</em></div>"}]}),this.intro.onchange(function(){}),this.intro.onexit(function(){}),this.intro.oncomplete(function(){}),this.intro.start()},QuizSelOverlay.prototype.checkBannerHide=function(){window.Storage&&window.localStorage.quizBuilderBannerHide&&0<=moment(window.localStorage.quizBuilderBannerNextShow).diff(moment())&&this.bannerVisible(!1)},QuizSelOverlay.prototype.closeBanner=function(){this.bannerVisible(!1),window.Storage},QuizSelOverlay.prototype.closeHeaderBox=function(){this.headerBoxVisible(!1),this.sizeQuizSelection()},a.exports=QuizSelOverlay}),define("ui.QuizStatusBar",function(e,t,a){function QuizStatusBar(e,t){var a=this;this.parent=t.parent,this.toggleQuizControlsText=ko.computed(function(){return a.parent.showQuizControls()?"Hide":"Show"}),this.mode=ko.observable("quiz"),this.quesCountTotal=ko.observable(0),this.quesCountCurrent=ko.observable(0),this.quesCountStatus=ko.computed(function(){return"".concat(a.quesCountCurrent()," of ").concat(a.quesCountTotal())}),this.quesCorrect=ko.observable(0),this.quesIncorrect=ko.observable(0),this.prevEnabled=ko.observable(!1),this.nextEnabled=ko.observable(!1),this.highlightActive=s.isActive,this.highlightIsVisible=s.isVisible,this.hasSeenJoySnackbar=ko.observable(!1),e(this)}var s=t("ui/quizHighlightControl"),o=t("app/queues"),d=t("app/tour");QuizStatusBar.prototype.reset=function(){this.quesCountTotal(0),this.quesCountCurrent(0),this.quesCorrect(0),this.quesIncorrect(0)},QuizStatusBar.prototype.repeat=function(){this.onRepeat&&this.onRepeat()},QuizStatusBar.prototype.update=function(e){this.quesCountCurrent()<this.quesCountTotal()&&this.quesCountCurrent(this.quesCountCurrent()+1),e&&(e.isCorrect?this.quesCorrect(this.quesCorrect()+1):this.quesIncorrect(this.quesIncorrect()+1))},QuizStatusBar.prototype.toggleQuizControls=function(){this.parent.toggleQuizControls()},QuizStatusBar.prototype.toggleLabValues=function(){this.parent.toggleLabValues()},QuizStatusBar.prototype.prevClick=function(){this.onPrev&&this.prevEnabled()&&(this.quesCountCurrent(this.quesCountCurrent()-1),this.prevEnabled(this.onPrev()))},QuizStatusBar.prototype.nextClick=function(){this.onNext&&this.nextEnabled()&&this.nextEnabled(this.onNext())},QuizStatusBar.prototype.closeQuiz=function(){d.next("newUI:7"),window.closeQuizFrame(),o.update(),window.history.back()},QuizStatusBar.prototype.toggleHighlight=function(){var e=!!s.isActive&&s.isActive();s.isActive(!e),s.isActive()&&(keen.track("feature_engagement",{feature:"quiz_highlight",action:"activate"}),analytics.track("Quiz Highlighter",{toggle:!0}))},a.exports=QuizStatusBar}),define("ui.QuizTopicCheckbox",function(e,t,a){var s=Math.ceil;function QuizTopicCheckbox(e,t){var a=this;this.topic=t.topic,this.colIdx=t.colIdx,this.topicIndex=t.topicIndex,this.topicTree=t.topicTree,this.progressFormat=t.progressFormat,this.groupID=t.groupID,this.itemType=t.itemType,this.labelText=ko.computed(function(){var e=a.topic.progress(),t=e.completed,o=e.total;return"percentage"===a.progressFormat()?(s(a.topic.percentComplete())||0)+"%":"".concat(t," / ").concat(o)}),this.difficulties="function"==typeof t.difficulties?t.difficulties:ko.observableArray(t.difficulties||[]),this.difficulties.subscribe(function(){a.topicTree.updateTopicsProgress([a.topic],a.difficulties)}),this.topic.progress.subscribe(function(e){0>=e.total&&(a.setTopicState(!1,!0),a.topicTree.update())})}var o=t("models/QuizTopic");QuizTopicCheckbox.prototype.setTopicState=function(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];(t||0<this.topic.progress().total)&&(this.topic.selected(e),this.topic.partiallySelected(!1),this.topic.checkParent(),this.topic.setSubtopicStates(e))},QuizTopicCheckbox.prototype.selectTopicCheckbox=function(){return this.setTopicState(this.topic.selected()),this.topicTree.update(),!0},QuizTopicCheckbox.prototype.selectTopic=function(){this.setTopicState(!this.topic.selected()),this.topicTree.update()},QuizTopicCheckbox.prototype.selectAndExpandTopic=function(e,t){t&&t.stopPropagation(),this.setTopicState(!this.topic.selected()&&!this.topic.partiallySelected()),this.topic.selected()&&!this.topic.expanded()?this.expandTopic():!this.topic.selected()&&this.topic.expanded()&&this.collapseTopic(),this.topicTree.update()},QuizTopicCheckbox.prototype.toggleTopic=function(){var e=this;return this.topic.expands?void(e.topic.expanded()?e.collapseTopic():(e.expandTopic(),e.topicTree.smoothScroll(e.colIdx+1))):this.selectAndExpandTopic()},QuizTopicCheckbox.prototype.renderSubtopics=function(){var e=this;this.topic.parent?this.topic.parent.collapseAll():this.topicTree.collapseAll(),this.topicTree.clearSubtopicDOM(this.colIdx);var t=this.topicTree.getSubtopicDOM(this.colIdx);this.topic.subtopics.forEach(function(a){a.expanded(!1);fs.mixAppend(t,"ui/QuizTopicCheckbox",{topic:a,colIdx:e.colIdx+1,topicIndex:e.topicIndex,topicTree:e.topicTree,progressFormat:e.progressFormat,difficulties:e.difficulties,groupID:e.groupID,itemType:e.itemType})}),this.topic.expanded(!0)},QuizTopicCheckbox.prototype.expandTopic=function(){var e=this,t=this.topicTree.breadcrumbs;this.topic.expands&&(this.topic.expanded(!0),this.topic.subtopics.length?this.renderSubtopics():(e.colIdx<t().length&&t.splice(e.colIdx,t().length-e.colIdx),t.push({name:this.topic.name,col:e.colIdx}),e.topicTree.showSubtopicDOMSpinner(e.colIdx),fs.post("expandTopic",{addr:this.topic.addr},function(t){for(var a in t.subtopics){var s=t.subtopics[a],d=new o({name:s,addr:e.topic.addr+"|"+s,selected:ko.observable(e.topic.selected()),partiallySelected:ko.observable(!1),parent:e.topic,expands:t.expands,type:e.topicTree.itemType,topicTree:e.topicTree,groupID:e.groupID,difficulties:e.difficulties});e.topic.subtopics.push(d)}e.topicTree.updateTopicsProgress(e.topic.subtopics).then(function(){e.topic.subtopics=e.topic.subtopics.filter(function(e){return e.progress().total}),e.renderSubtopics()})})))},QuizTopicCheckbox.prototype.collapseTopic=function(){this.topic.expanded()&&(this.topic.setSubtopicStates(!1),this.topicTree.clearSubtopicDOM(this.colIdx),this.topic.expanded(!1)),this.topic.partiallySelected(!1)},a.exports=QuizTopicCheckbox}),define("ui.QuizTopicSelector",function(e,t,a){var s=Math.ceil;function QuizTopicSelector(e,t){var a=this,s=this;this.maxCount=ko.observable(40),this.selectAllChecked=ko.observable(!1),this.topicIndex={};var d=localStorage&&localStorage.getItem("Quiz:progressFormat")||"total";this.progressFormat=ko.observable(d),this.progressFormat.subscribe(this.onProgressFormatChange.bind(this));var n=localStorage&&"true"===localStorage.getItem("Quiz:showProgressColors")||!1;this.showProgressColors=ko.observable(n),this.showProgressColors.subscribe(this.onToggleProgressColors.bind(this)),this.protocol=t.protocol,this.itemType=t.itemType,this.breadcrumbs=ko.observableArray(),this.typeLabel="step1"==this.itemType||"step2"==this.itemType||"comlex"==this.itemType||"nclex"==this.itemType?"questions":"flashcards",this.showDifficulty=ko.observable(t.showDifficulty===void 0?"questions"===this.typeLabel:t.showDifficulty),this.stats=ko.observable({available:0,answered:0,correct:0,completed:0,incorrect:0}),this.quizBuilder=new o,this.quizBuilder.emptyQuizMessage="No questions available in this quiz. Try selecting different filters.",this.locked=ko.observable(!1),this.difficulties=ko.observableArray([]),this.selectedTopics=ko.observableArray(),e(this),this.difficulties.subscribe(function(e){a.updateUI(e)}),this.quizTopicTree=fs.mix(this,"ui/QuizTopicTree",_objectSpread({},t,{topicSelector:this,selectedTopics:this.selectedTopics,selectAllChecked:this.selectAllChecked,progressFormat:this.progressFormat,onUpdate:this.update.bind(this),difficulties:this.difficulties,breadcrumbs:this.breadcrumbs})),this.addDifficulties(),this.selectAllChecked.subscribe(function(){a.quizTopicTree.toggleAllChecked()}),this.maxCount.subscribe(function(){return a.update()}),window.user&&1>window.user.prime.status&&(this.locked(!0),this.stopVideo=!0,this.primeLockout=fs.mixAppend(this.dom,"ui/PrimeLockOverlay",{parent:s,source:"topicQuiz",resource:"quizzes",fullTab:!1,content:"default"})),$(".action-tip",this.dom).tooltip({delay:{show:500,hide:0}})}function shorten(e){var t=e.split(">");if(30<e.length&&1<t.length){var a=t[t.length-1];return t=t.slice(0,t.length-1),t.join(">").slice(0,10)+" ... "+a}return e}var o=t("ui/QuizBuilder"),d=t("models/QuizTopic"),n=function diff2text(e){return["Easy","Medium","Hard"][e]||"Unknown"};QuizTopicSelector.prototype.addDifficulties=function(){var e=this;fs.empty($(".difficulty-col",this.dom));for(var t=function getSelectedComputed(t){return ko.computed({read:function read(){return!!~e.difficulties().indexOf(t)},write:function write(a){var s=e.difficulties().indexOf(t);a?!~s&&e.difficulties.push(t):!!~s&&e.difficulties.splice(s,1)}})},a=0;3>a;a++)fs.mixAppend($(".difficulty-col",this.dom),"ui/QuizDifficultyCheckbox",{difficulty:n(a),selected:t(a),partiallySelected:ko.observable(!1)});this.difficultyBar=fs.mix(this,"models/ques/DifficultyBar",{difficulties:this.difficulties,allowClickChange:!0})},QuizTopicSelector.prototype.showDifficultyPopup=function(){this.difficultyBar&&this.difficultyBar.togglePopup()},QuizTopicSelector.prototype.displayName=function(e){if(~e.indexOf("|"))var t=shorten(e.replace(/\|/g," > "));else var t="All of "+e;return"<nobr>"+t+"</nobr>"},QuizTopicSelector.prototype.update=function(){this.updateUI()},QuizTopicSelector.prototype.updateUI=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.difficulties(),t=this;this.stats({available:0,answered:0,correct:0,completed:0,incorrect:0});var a=this.quizTopicTree.getProtocolAddr(this.selectedTopics());fs.post("quizByAddr",{addr:a,difficulties:e},function(o){t.stats({available:o.total,completed:o.completed,correct:o.total?s(100*(o.correct/o.total)):null,incorrect:o.total?s(100*((o.completed-o.correct)/o.total)):null}),fs.empty($(".build-quiz",t.dom)),t.quizBuilder.quiz={type:"allFC"==t.itemType||"flaggedFC"==t.itemType?"Flashcards":"Questions",set:a,quizSize:t.maxCount(),difficulties:e}})},QuizTopicSelector.prototype.goToFlashcards=function(){window.location.href="/flashcards"},QuizTopicSelector.prototype.goToQuestions=function(){window.location.href="/qbank"},QuizTopicSelector.prototype.removeTopic=function(e){var t=this;return function(){t.selectedTopics.remove(e),e.selected(!1),e.setSubtopicStates(!1),e.checkParent(),t.updateUI()}},QuizTopicSelector.prototype.collapseAll=function(){for(var e in this.rootTopics)this.rootTopics[e].expanded(!1)},QuizTopicSelector.prototype.setProgressFormat=function(e){this.progressFormat(e)},QuizTopicSelector.prototype.smoothScroll=function(e){$(".group").animate({scrollLeft:$(".topic-col").width()*e})},QuizTopicSelector.prototype.onProgressFormatChange=function(){window.localStorage.setItem("Quiz:progressFormat",this.progressFormat())},QuizTopicSelector.prototype.onToggleProgressColors=function(){window.localStorage&&window.localStorage.setItem("Quiz:showProgressColors",this.showProgressColors())},QuizTopicSelector.prototype.onBuildQuizClick=function(){var e=this;return function(t){return e.selectedTopics().length?e.quizBuilder.customizeQuiz()(t):void(t(),fs.alert("Please check off a topic to build a quiz"))}},QuizTopicSelector.prototype.createFlashcardsClick=function(){analytics.track("Quiz builder create flashcards redirect",{action:"click"}),window.location.href="/decks/list"},a.exports=QuizTopicSelector}),define("ui.QuizTopicTree",function(e,t,a){var s=String.fromCharCode,o=Math.floor;function QuizTopicTree(e,t){var a=this,s=this;this.onUpdate=t.onUpdate,this.selectedTopics=t.selectedTopics,this.difficulties=t.difficulties||ko.observableArray([]),this.active=ko.observable(!0),this.selectAllChecked=t.selectAllChecked,this.topicIndex={},this.progressFormat=t.progressFormat,this.hasSubtopics=t.hasSubtopics,this.protocol=t.protocol,this.itemType=t.itemType,this.groupID=t.groupID,this.userID=t.userID,this.startDate=t.startDate,this.endDate=t.endDate,this.breadcrumbs=t.breadcrumbs,this.typeLabel="step1"==this.itemType||"step2"==this.itemType||"comlex"==this.itemType||"nclex"==this.itemType?"questions":"flashcards",this.topics=t.topics;var l=[];for(var c in this.topics){var p=o(100*Math.random()),u={total:p,completed:o(p*Math.random())},m=this.topics[c].split("|"),v=new n({name:m[m.length-1],addr:this.topics[c],selected:ko.observable(),partiallySelected:ko.observable(!1),expands:t.hasSubtopics,stats:u,type:this.itemType,groupID:this.groupID,topicTree:this,difficulties:this.difficulties});urlQuery.topic&&urlQuery.topic.replace(/\_/g," ")==this.topics[c]&&v.selected(!0),l.push(v),this.topicIndex[v.addr]=v}l.sort(function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}),this.rootTopics=l,this.isRootFlat=this.rootTopics.every(function(e){return!e.expands}),this.stats=ko.observable({available:0,answered:0,correct:0,completed:0,incorrect:0}),this.quizBuilder=new d,this.quizBuilder.emptyQuizMessage="No questions available in this quiz. Try selecting different filters.",this.locked=ko.observable(!1),e(this),this.showSubtopicDOMSpinner(-1),this.updateTopicsProgress(l).then(function(){a.hideSubtopicDOMSpinner(-1)}),this.rootTopicUIs=l.map(function(e){return fs.mixAppend($(".topics-col-A",a.dom),"ui/QuizTopicCheckbox",{colIdx:0,topicTree:a,topicIndex:a.topicIndex,topic:e,expands:a.hasSubtopics,progressFormat:a.progressFormat,itemType:a.itemType,groupID:a.groupID,difficulties:a.difficulties})})}function getSelectedTopics(e,t){if(t.selected())return void e.push(t);for(var a in t.subtopics)getSelectedTopics(e,t.subtopics[a])}var d=t("ui/QuizBuilder"),n=t("models/QuizTopic");QuizTopicTree.prototype.updateSelectedTopics=function(){var e=[];for(var t in this.rootTopics)getSelectedTopics(e,this.rootTopics[t]);this.selectedTopics(e)},QuizTopicTree.prototype.update=function(){this.updateSelectedTopics(),this.onUpdate()},QuizTopicTree.prototype.getProtocolAddr=function(e){var t=_.map(e,function(e){return e.addr});if("multiTopic"==this.protocol)return"multiTopic:"+t.join(";")+"."+this.itemType;return"flatQBank"==this.protocol?"flatQBank://"+this.itemType+"?topics="+t.join(";"):void 0},QuizTopicTree.prototype.toggleAllChecked=function(){for(var e in this.rootTopicUIs)this.selectAllChecked()?this.rootTopicUIs[e].setTopicState(!0):this.rootTopicUIs[e].setTopicState(!1);return this.update(),!0},QuizTopicTree.prototype.smoothScroll=function(e){$(".group").animate({scrollLeft:$(".topic-col").width()*e})},QuizTopicTree.prototype.clearSubtopicDOM=function(e){for(var t=e+1;4>=t;t++)fs.empty($(".topics-col-"+s(65+t),this.dom))},QuizTopicTree.prototype.getSubtopicDOM=function(e){return this.clearSubtopicDOM(e),$(".topics-col-"+s(65+e+1),this.dom)},QuizTopicTree.prototype.hideSubtopicDOMSpinner=function(e){return $(".topics-col-"+s(65+e+1),this.dom).find(".topic-spinner").hide()},QuizTopicTree.prototype.showSubtopicDOMSpinner=function(e){var t=$(".topics-col-"+s(65+e+1),this.dom).find(".topic-spinner");return t.length?t:$(".topics-col-"+s(65+e+1),this.dom).append("<div class=\"topic-spinner\"><div class=\"loading-spinner\"></div></div>")},QuizTopicTree.prototype.removeTopic=function(e){var t=this;return function(){t.selectedTopics.remove(e),e.selected(!1),e.setSubtopicStates(!1),e.checkParent(),t.onUpdate()}},QuizTopicTree.prototype.collapseAll=function(){for(var e in this.rootTopics)this.rootTopics[e].expanded(!1)},QuizTopicTree.prototype.setProgressFormat=function(e){this.progressFormat(e)},QuizTopicTree.prototype.onToggleProgressColors=function(){window.localStorage&&window.localStorage.setItem("Quiz:showProgressColors",this.showProgressColors())},QuizTopicTree.prototype.updateTopicsProgress=function(e){var t=this,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.difficulties,s=e.map(function(e){return t.getProtocolAddr([{addr:e.addr}])}),o=e.map(function(e){return e.addr}),d="allFC"===this.itemType?"fc":"mcq";"step1"===this.itemType&&(d="mcq"),"video"===this.itemType&&(d="video");var n="video"===this.itemType?o:s;if(this.groupID)return Promise.resolve();var l={addrs:n,itemType:d,difficulties:a?a():[]};return this.userID&&(l.userID=this.userID),this.startDate&&(l.from=this.startDate),this.endDate&&(l.to=this.endDate),fs.post("getStatsForAddrs",l).then(function(t){e.map(function(e,a){var s=n[a];if(t.progress&&t.progress[s]){e.progress(t.progress[s]);var o=e.progress(),d=o.total,l=o.completed,c=o.correct,p=o.incorrect;e.percentComplete(100*(l/d)),e.percentCorrect(100*(c/d)),e.percentIncorrect(100*((l-c)/d)),e.progressLoaded(!0)}})})},a.exports=QuizTopicTree}),define("ui.RecommendationDemoEvent",function(e,t,a){function RecommendationDemoEvent(e,t){for(var a in this.docs=ko.observableArray(),this.args=t,t.docs)this.docs.push(mediaServer+"/"+t.docs[a]+"/thumb.png")}var s=t("models/ques/flashcardTools");RecommendationDemoEvent.prototype.addRec=function(e){var t=$(".factsDiv",this.dom),a=nodeIndex[e];s.renderAsQuickFact(t,a.data())},RecommendationDemoEvent.prototype.goToEvent=function(){this;return function(){}},a.exports=RecommendationDemoEvent}),define("ui.RecommendationsDemo",function(e,t,a){function RecommendationsDemo(e){var t=window.user.recs;this.hasRecs=ko.observable(!!t.content.quesData.nodeData.nodeID.length),this.hasRecs()&&s.loadNodes(t.content.quesData),e(this),this.events=fs.mixList(this,".events"),this.events.viewModel="ui/RecommendationDemoEvent";var a=fs.index("groupID",t.groups),o=fs.index("MID",t.modules),d={},n=fs.transpose(t.eventRecs);for(var l in n){var c=n[l].eventID;if(!(c in d)){var p=this.events.push("ui/RecommendationDemoEvent",{MID:n[l].MID,eventID:c,group:a[n[l].groupID].url,module:o[n[l].MID].url,docs:t.docs[n[l].MID+"."+c]});d[c]=p}else var p=d[c];p.addRec(n[l].nodeID)}console.log(a),console.log(o)}var s=t("app/recManager"),o=t("ui/mediaViewer");RecommendationsDemo.prototype.showVideo=function(){o.showVideo("yCi3yZKZCEg")},a.exports=RecommendationsDemo}),define("ui.RecommendedMediaContainer",function(e,t,a){var s=t("models/media"),o=t("models/Node");a.exports=function RecommendedMediaContainer(e,t){e(this),s.displayResource($(".media-item",this.dom),t.resource,t.meta)}}),define("ui.RedeemMessage",function(e,t,a){var s=function(){"use strict";function RedeemMessage(e,t){var a=this;_classCallCheck(this,RedeemMessage),this.giftCard=!!(0<Object.keys(giftCard).length)&&giftCard,this.claimCode=ko.observable(""),this.claimCodeValid=ko.computed(function(){return""!==a.claimCode()}),this.loggedIn=!!window.user,this.theme=t.theme,this.messageIcon=t.messageIcon,this.messageHeader=t.messageHeader,this.messageBody=t.messageBody,this.messageFooter=t.messageFooter,e(this)}return _createClass(RedeemMessage,[{key:"redeemGiftCard",value:function redeemGiftCard(){window.location.replace("/redeem?gift_card=".concat(this.claimCode()))}},{key:"createAccountClick",value:function createAccountClick(){dialog("ui/dialogs/SignupDialog",{redirect:window.location.href,signupVisible:!0,source:"redeem-giftcard"})}},{key:"signInClick",value:function signInClick(){dialog("ui/dialogs/SignupDialog",{redirect:"redeem".concat(window.location.search),signupVisible:!0,showSignIn:!0})}}]),RedeemMessage}();a.exports=s}),define("ui.ReferralLink",function(e,t,a){function ReferralLink(){var e=this;this.referralLink="https://www.osmosis.org/invite/".concat(window.user.code),$("#link-url",this.dom).select(e.onLinkSelectHandler),this.copyTip=$(".copy-tip",e.dom).tooltip({trigger:"manual"})}ReferralLink.prototype.copyLink=function(){var e=this;if(analytics.track("interaction",{feature:"refer_friend",event_type:"copy"}),document.queryCommandSupported("copy")){var t=$(".referral-link-url input",this.dom);t.select(),document.execCommand("copy"),this.copyTip.tooltip("show"),setTimeout(function(){e.copyTip.tooltip("hide")},2e3)}else fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\"".concat(this.referralLink.val(),"\" /><script type=\"text/javascript\">function inputSelect(){$(\"#share-link-popup-input\").select();} setTimeout(function(){inputSelect()},500);</script>"),"Share Video","info")},ReferralLink.prototype.shareOnFacebook=function(){var e="https://www.facebook.com/sharer.php?u=".concat(this.referralLink);FB.ui({method:"share",href:e},function(){})},ReferralLink.prototype.shareOnTwitter=function(){var e="https://twitter.com/intent/tweet?url=".concat(this.referralLink);window.open(e,"_blank")},ReferralLink.prototype.selectLink=function(){var e=$(".referral-link-url input",this.dom);e.select()},a.exports=ReferralLink}),define("ui.ReferralMessage",function(e,t,a){a.exports=function ReferralMessage(e,t){"use strict";_classCallCheck(this,ReferralMessage);this;this.user=t.user,this.name="<b>"+this.user.first+" "+this.user.last+"</b>",this.userSchool=this.user.school?" from <b>"+this.user.school+"</b>":"",this.message=t.message||this.name+this.userSchool+" has invited you to join Osmosis, create an account to <b>claim your extra 2 weeks of Osmosis Prime</b>.",e(this)}}),define("ui.ReferralPanel",function(e,t,a){function ReferralPanel(e){this;this.referralLink=ko.observable(window.user.code),this.emailAddrs=ko.observable(),this.emailMsg=ko.observable(),this.showingSendForm=ko.observable(),e(this)}ReferralPanel.prototype.referralHint=function(){var e=this;fs.alert("Copy and paste your invite link into an email or facebook message to invite friends or use our invite form.","Invite Friends","info",function(){e.showingSendForm(!0)})},ReferralPanel.prototype.sendInvites=function(e){var t=this;this.emailAddrs()?fs.post("sendReferralInvites",{emails:this.emailAddrs()},function(){e(),$.jGrowl("Invites sent!",{life:2e3,position:"bottom-left"}),t.showingSendForm(!0)}):fs.alert("Please enter at least one email address")},a.exports=ReferralPanel}),define("ui.RepeatControls",function(e,t,a){var s=t("ui/repeatConfig"),o={osmosis:"osmosis algorithm chooses","1m":"1 minute","5m":"5 minutes","10m":"10 minutes","1h":"1 hour","1d":"1 day"};a.exports=function RepeatControls(e){var t=this;for(var a in this.controls=s[e.type],this.editing=ko.observable(),this.type=e.type,this.isOsmosisOnly=ko.computed(function(){return"osmosis"==t.controls.high()&&"osmosis"==t.controls.med()&&"osmosis"==t.controls.low()}),this.repeatOptions=[],o)this.repeatOptions.push({name:"osmosis"==a?"osmosis algorithm chooses":"repeat after "+o[a],value:a});this.high=ko.computed(function(){return o[t.controls.high()]}),this.med=ko.computed(function(){return o[t.controls.med()]}),this.low=ko.computed(function(){return o[t.controls.low()]})}}),define("ui.ResourceCluster",function(e,t,a){function ResourceCluster(e,t){this;if(this.globalConcept=o.currentConcept,this.title=t.title||t.cluster.name,this.thumbnail=t.cluster?"https://d16qt3wv6xm098.cloudfront.net/"+(t.cluster.data.$$||t.cluster.data.$):"",this.source=t.cluster?t.cluster.data.by:"",this.osmosisOnly=t.osmosisOnly||ko.observable(),this.duration=t.cluster?formatSecondsAsHMS(t.cluster.data.dr):null,this.primeOnly=ko.observable(t.primeOnly),this.overlayCount=t.overlayCount,this.overlayTitle=t.overlayTitle,this.overlayType=t.overlayType,t.overlayTitle){var a=t.overlayTitle.split(" | ");this.unit=a[0],this.section=a[1]}else this.unit="",this.section="";this.url="/learn/"+this.title.replace(/\s/g,"_")+("category"==this.overlayType?"&playlist=category":""),this.ratingStars=ko.observableArray(t.cluster?s(t.cluster.rating):0),this.featured=t.featured,e(this)}var s=t("ui/starRating"),o=t("app/conceptNavGlobals");ResourceCluster.prototype.open=function(e,t){return(analytics.track("Video Open"),o.setCurrentNavApp("Videos"),0<=window.location.pathname.indexOf("/home/"))?(tabToURL(this.url),t.preventDefault(),!1):(window.location.href=this.url,!0)},a.exports=ResourceCluster}),define("ui.ResourceClusterEnhanced",function(e,t,a){function ResourceClusterEnhanced(e,t){this;if(this.globalConcept=o.currentConcept,this.title=t.title||t.cluster.name,this.thumbnail=t.cluster?"https://d16qt3wv6xm098.cloudfront.net/"+(t.cluster.data.$$||t.cluster.data.$):"",this.source=t.cluster?t.cluster.data.by:"",this.osmosisOnly=t.osmosisOnly||ko.observable(),this.duration=t.cluster?formatSecondsAsHMS(t.cluster.data.dr):null,this.primeOnly=ko.observable(t.primeOnly),this.overlayCount=t.overlayCount,this.overlayTitle=t.overlayTitle,this.overlayType=t.overlayType,t.overlayTitle){var a=t.overlayTitle.split(" | ");this.unit=a[0],this.section=a[1]}else this.unit="",this.section="";this.url="/learn/"+this.title.replace(/\s/g,"_")+("category"==this.overlayType?"&playlist=category":""),this.ratingStars=ko.observableArray(t.cluster?s(t.cluster.rating):0),this.featured=t.featured,this.icon=d.getTopicFont(535),this.fc={count:ko.observable(56),completed:ko.observable(13),correct:ko.observable(10),incorrect:ko.observable(3)},this.ques={count:ko.observable(14),completed:ko.observable(2),correct:ko.observable(2),incorrect:ko.observable(0)},e(this)}var s=t("ui/starRating"),o=t("app/conceptNavGlobals"),d=t("shared/topics");ResourceClusterEnhanced.prototype.open=function(){analytics.track("Video Open"),o.setCurrentNavApp("Videos"),window.location.href=this.url},a.exports=ResourceClusterEnhanced}),define("ui.ResourceClusterRow",function(e,t,a){function ResourceClusterRow(e,t){var a=this;for(var s in this.title=t.title,this.caption=t.caption,this.enhancedView=t.enhanced,this.carousel=t.carousel,this.carouselCount=t.carouselCount||3,this.clusters=[],e(this),t.clusters)this.enhancedView?this.clusters.push(fs.mixAppend($(".clusters",this.dom),"ui/ResourceClusterEnhanced",{cluster:t.clusters[s],primeOnly:t.primeOnly})):this.clusters.push(fs.mixAppend($(".clusters",this.dom),"ui/ResourceCluster",{cluster:t.clusters[s],primeOnly:t.primeOnly}));if(this.carousel){var o=$("<ul class=\"cluster-slides\">");$(".clusters",this.dom).append(o);for(var d=0,n=[],l=0,c;l<this.clusters.length;l++){0==l%this.carouselCount&&(c=$("<li class=\"slide slide"+d+"\">"),d++);var p=this.clusters[l].dom.detach();c.append(p),(0==(l+1)%this.carouselCount||l+1==this.clusters.length)&&n.push(c)}for(var s in n)o.append(n[s]);this.initSlider(),$(window).resize(function(){a.sizeCarousel()})}}ResourceClusterRow.prototype.sizeCarousel=function(){var e=this.unoSlider.current.outerHeight();$(".cluster-slides",this.dom).css("min-height",e)},ResourceClusterRow.prototype.initSlider=function(){var e=this;this.unoSlider=$("ul.cluster-slides",this.dom).parent().unoSlider({animSpeed:400}),this.unoSlider.killTimer(),this.sizeCarousel(),setTimeout(function(){e.sizeCarousel()},1e3)},ResourceClusterRow.prototype.carouselBack=function(){var e=this;this.unoSlider.goBack(),setTimeout(function(){e.sizeCarousel()},1e3)},ResourceClusterRow.prototype.carouselForward=function(){var e=this;this.unoSlider.goForward(),setTimeout(function(){e.sizeCarousel()},1e3)},a.exports=ResourceClusterRow}),define("ui.ResourceClusterSummary",function(e,t,a){function ResourceClusterSummary(e,t){this;this.name=t.name||t.cluster.name,this.flashcards=t.fcs,this.questions=t.ques,this.hasResourceClusters=ko.observable(!!t.cluster),o.importNodes(t.conceptCard);var a=o.createPageIndex(t.conceptCard);for(var s in this.summary=ko.observable(a.Summary?a.Summary[0].data().c:""),this.tabsAvailable={},a)this.tabsAvailable[s]=!0;if(e(this),t.cluster&&fs.mixAppend($(".search-clusters",this.dom),"ui/ResourceCluster",{cluster:t.cluster,featured:!0}),t.tiles){var d=t.cluster?$(".search-clusters",this.dom):$(".secondary-search-clusters",this.dom);for(var s in t.tiles){var n=t.tiles[s].subcat;fs.mixAppend(d,"ui/ResourceCluster",{title:this.name,cluster:n.thumbnail,overlayCount:n.playlistCount+n.extraCount,overlayTitle:n.title});var l=t.tiles[s].cat;fs.mixAppend(d,"ui/ResourceCluster",{title:this.name,cluster:l.thumbnail,overlayCount:l.playlistCount+l.extraCount,overlayTitle:l.title,overlayType:"category"})}}$(".queue-add",this.dom).tooltip({placement:"bottom",container:"body"})}var s=t("app/queues"),o=t("app/conceptCardLoader");ResourceClusterSummary.prototype.addItems=function(e,t){fs.post("saveToQueue",{fc:e,ques:t},function(){s.update(e.length,t.length)})},ResourceClusterSummary.prototype.addFlashcards=function(){this.addItems(this.flashcards,[])},ResourceClusterSummary.prototype.addQuestions=function(){this.addItems([],this.questions)},ResourceClusterSummary.prototype.viewResource=function(e){var t=this;return function(){tabToURL(window.rewriteTabURL("/learn/"+t.name.replace(/\s/g,"_")+"&res="+e))}},a.exports=ResourceClusterSummary}),define("ui.ResourceRow",function(e,t,a){function ResourceRow(e,t){this;if(this.globalConcept=o.currentConcept,this.title=t.title||t.cluster.name,this.index=t.index,this.thumbnail=t.cluster?"https://d16qt3wv6xm098.cloudfront.net/"+(t.cluster.data.$$||t.cluster.data.$):"",this.source=t.cluster?t.cluster.data.by:"",this.osmosisOnly=t.osmosisOnly||ko.observable(),this.duration=t.cluster&&t.cluster.data.dr?formatSecondsAsHMS(t.cluster.data.dr):"",this.primeOnly=ko.observable(t.primeOnly),this.overlayCount=t.overlayCount,this.overlayTitle=t.overlayTitle,this.overlayType=t.overlayType,t.overlayTitle){var a=t.overlayTitle.split(" | ");this.unit=a[0],this.section=a[1]}else this.unit="",this.section="";this.url="/learn/"+this.title.replace(/\s/g,"_")+("category"==this.overlayType?"&playlist=category":""),this.featured=t.featured,e(this)}var s=t("ui/starRating"),o=t("app/conceptNavGlobals");ResourceRow.prototype.open=function(e,t){return analytics.track("Video Open"),o.setCurrentNavApp("Videos"),!(0<=window.location.pathname.indexOf("/home/"))||(tabToURL(this.url),$("body").hasClass("drawer-open")&&$("#main-control-bar .list-section .videos").click(),t.preventDefault(),!1)},a.exports=ResourceRow}),define("ui.ReviewApp",function(e,t,a){function ReviewApp(e,t){var a=this;this.dom=t.dom,this.showQuizControls=t.showQuizControls||ko.observable(!0),this.mode=ko.observable("quiz"),this.type=ko.observable(t.type||"questions"),this.showQuickFilters=ko.observable(!0),this.showSelectQuiz=ko.observable(!0),this.showingFilterHint=ko.observable(!1),this.displayAgeMsg=ko.observable(!1),this.currentQuesAge=-1,this.ageMsg=ko.observable(),this.quickFiltersVisible=ko.observable(!1),this.typeStr=ko.computed(function(){return"questions"==a.type()?"Questions":"Flashcards"}),u.init(),this.idx=0,this.sources=ko.observableArray(),navData.group&&this.sources.push({name:navData.group.name,active:!0}),this.sources.push({name:"Preclinical Foundations",active:!0}),this.hasSeenJoySnackbar=!1,e(this),this.quizPanel=fs.mix(this,"models/ques/QuizPanel",{showQuizControls:this.showQuizControls,reviewApp:this}),this.quizList=[],this.statusBar=t.statusBar,this.statusBar.onRepeat=function(e){var t=[];for(var s in a.quizList)t.push(a.quizList[s]);shuffle(t);dialog("ui/dialogs/QuizOverview",function(){},{select:null,filterType:e,ques:t,type:a.typeStr(),onStart:function onStart(e){a.startNewQuiz(e)},onShow:function onShow(){}})},this.statusBar.prevEnabled(!1),this.statusBar.nextEnabled(!1),this.statusBar.onPrev=function(){return a.prev()},this.statusBar.onNext=function(){return a.next()},registerHotkey("review-app","space",function(t){window.runUnsavedWorkChecks()||(t.preventDefault(),a.quizPanel.quiz.items.length&&a.quizPanel.quiz.items[0].nav.spacebar())}),registerHotkey("review-app","left",function(t){window.runUnsavedWorkChecks()||a.quizPanel.current&&a.quizPanel.current.quesBlock.leftArrow&&a.quizPanel.current.quesBlock.leftArrow()&&t.preventDefault()}),registerHotkey("review-app","up",function(t){window.runUnsavedWorkChecks()||a.quizPanel.current&&a.quizPanel.current.quesBlock.upArrow&&a.quizPanel.current.quesBlock.upArrow()&&t.preventDefault()}),registerHotkey("review-app","right",function(t){window.runUnsavedWorkChecks()||a.quizPanel.current&&a.quizPanel.current.quesBlock.rightArrow&&a.quizPanel.current.quesBlock.rightArrow()&&t.preventDefault()}),registerHotkey("review-app","down",function(t){window.runUnsavedWorkChecks()||a.quizPanel.current&&a.quizPanel.current.quesBlock.downArrow&&a.quizPanel.current.quesBlock.downArrow()&&t.preventDefault()}),registerHotkey("review-app","1|2|3|4",function(t){window.runUnsavedWorkChecks()||a.quizPanel.current&&a.quizPanel.current.quesBlock.numPress&&a.quizPanel.current.quesBlock.numPress(t.which-48)&&t.preventDefault()}),registerHotkey("review-app","6|8|9|0",function(t){if(!window.runUnsavedWorkChecks()){var e=a.quizPanel.quiz.items[0].nav;e.hotkey(t.which-48)&&t.preventDefault()}})}function getAgeStr(e){if(1>=e)return"from today and yesterday";return 2==e?"in the last week":3==e?"in the last 2 weeks":4==e?"in the last month":5==e?"in the last 2 months":6==e?"more than 2 months ago":void 0}var s=t("core/ui"),o=t("ui/Scoreboard"),d=t("app/module"),n=t("app/review"),l=t("app/dbResponses"),c=t("models/Node"),p=t("app/todo"),u=t("app/dbRepeat");window.quizEventID=null,ReviewApp.prototype.nav={title:"Questions",index:0},ReviewApp.prototype.triggerBuildQuiz=function(e){var t=this;return function(){t.buildQuiz("live"!=e)}},ReviewApp.prototype.startNewQuiz=function(e){this.quizList=e,this.buildQuiz(),this.statusBar.reset(),this.statusBar.quesCountCurrent(1),this.statusBar.quesCountTotal(this.quizList.length)},ReviewApp.prototype.buildQuiz=function(e){l.recording=!e,e&&$.jGrowl("Answers and ratings will not be recorded for this quiz.",{life:1e3,position:"bottom-left"}),this.mode("quiz"),this.quizPanel.current=null,this.idx=-1,this.current=-1,this.currentQuesAge=-1,this.next(),this.quizStartTime=new Date,this.parent.controls.newQuiz(this.quizList)},ReviewApp.prototype.next=function(){if(this.quizPanel.reset(),this.decToDo(this.quizList[this.idx]),this.statusBar&&this.quizPanel.current?this.statusBar.update(this.quizPanel.current.graded):(this.statusBar.quesCountCurrent(1),this.statusBar.quesCountTotal(this.quizList.length)),this.idx++,$(".tooltip[role=tooltip]").remove(),0<this.idx&&this.statusBar.prevEnabled(!0),this.idx<this.quizList.length){var e=nodeIndex[this.quizList[this.idx]];return this.quizPanel.display(e),-1!=this.currentQuesAge&&this.currentQuesAge<e.age?3<=e.age&&this.ageMsg("Congrats! You finished all the cards on material covered <b>"+getAgeStr(this.currentQuesAge)+"</b>. Keep going to make sure you remember material covered <b>"+getAgeStr(e.age)+"</b>."):this.ageMsg(""),this.currentQuesAge=e.age,this.idx>this.current&&(this.current=this.idx),this.sizeColumns(),this.idx<this.current}return this.mode("done"),!1},ReviewApp.prototype.sizeColumns=function(){s.setScrollableHeights(),s.setMobileOnlyScrollableHeights(),s.setResponsiveClass(),s.setColumnResponsiveClass()},ReviewApp.prototype.checkShortTermRepeats=function(){if("questions"!=this.type()){var e=u.check();e&&nodeIndex[e.nodeID]&&this.idx<this.quizList.length-1&&(console.log("found a repeat"),this.quizList.splice(this.idx+1,0,e.nodeID),this.statusBar.quesCountTotal(this.statusBar.quesCountTotal()+1))}},ReviewApp.prototype.decToDo=function(e){function handleSet(e){handleLocal(e.school),handlePacks(e.docs),handlePacks(e.repetition)}function handleLocal(t){var a=t();for(var s in a)if(e==a[s].nodeID)return t.remove(a[s])}function handlePacks(t){var a=t();for(var s in a)if(e==a[s])return t.remove(a[s])}e&&(handleSet(p.flashcards),handleSet(p.questions))},ReviewApp.prototype.prev=function(){return this.quizPanel.reset(),this.idx--,this.statusBar.nextEnabled(!0),this.quizPanel.display(nodeIndex[this.quizList[this.idx]]),this.sizeColumns(),0<this.idx},ReviewApp.prototype.indexCurrentRecs=function(e){var t={};for(var a in e)t[e[a]]=nodeIndex[e[a]];return t};ReviewApp.prototype.setQuiz=function(e){for(var t in this.quizList=[],e)this.quizList.push(e[t]);this.showSelectQuiz(!1)},ReviewApp.prototype.show=function(){},ReviewApp.prototype.selectQuiz=function(){tabToURL(window.prefixTabURL(""))},ReviewApp.prototype.createNewQuiz=function(){if(window.location.pathname==urlPrefix+"/quiz")this.parent.startNew();else{var e=urlPrefix+"/"+this.type()+"/select";e==window.location.pathname?this.parent.startOver():tabToURL(urlPrefix+"/"+this.type()+"/select")}},ReviewApp.prototype.repeat=function(){this.statusBar.onRepeat("wrong")},ReviewApp.prototype.close=function(){this.statusBar.closeQuiz()},a.exports=ReviewApp}),define("ui.SaleBanner",function(e,t,a){function SaleBanner(e){var t=this,a=this;this.show=ko.computed(function(){var e=o.current(),t=moment(window.user.prime.expires).diff(moment(),"days"),a=(1>window.user.prime.status||2===window.user.prime.status&&30>t||1===window.user.prime.status&&14>t)&&"B2B"!==window.user.primeStatus;return e&&a}),this.showCountdown=ko.computed(function(){var e=o.current();return e&&e.hasCountdown}),o.setupTimer(),this.type=ko.computed(function(){return o.current()?o.current().type:null}),this.icon=ko.computed(function(){return o.current()?o.current().icon:null}),this.message=ko.computed(function(){return o.current()?o.current().message:null}),this.mobileMessage=ko.computed(function(){return o.current()?o.current().mobileMessage||o.current().message:null}),this.cta=ko.computed(function(){return o.current()?o.current().cta:null}),this.ctaLink=ko.computed(function(){return o.current()?o.current().ctaLink:null}),this.expireLength=ko.computed(function(){return o.current()?o.current().expireLength:null}),this.align=ko.computed(function(){return o.current()?o.current().align||"center":"center"}),this.desktop=ko.observable(799<window.innerWidth),this.theme=ko.computed(function(){return o.current()?o.current().theme:" "+t.align()}),e(this),this.setBodyClass(this.show()),a.show.subscribe(function(e){t.setBodyClass(e)})}var s=t("app/purchaseModal"),o=t("app/sale"),d=t("core/ui");SaleBanner.prototype.setBodyClass=function(e){e?$("body").addClass("top-banner-active"):$("body").removeClass("top-banner-active")},SaleBanner.prototype.hideBanner=function(){this;this.dom.slideUp(function(){d.setScrollableHeights(),d.setMobileOnlyScrollableHeights(),d.setResponsiveClass(),d.setColumnResponsiveClass()}),window.Storage&&(window.localStorage.SaleBannerNextShow=moment().add("days",1).format("YYYY-MM-DD HH:mm:ss")),1>=!$("body.page-backend .notifications").length&&$("body").removeClass("top-banner-active")},SaleBanner.prototype.navToSale=function(e,t){return t.preventDefault(),analytics.track("Click Tracking",{type:"Sale Banner",ref:this.type(),location:window.location.pathname}),s.showModal(this.ctaLink()),!1},a.exports=SaleBanner}),define("ui.ScheduleDailyGoals",function(e,t,a){function ScheduleDailyGoals(e,t){for(var a in this.goals=ko.observableArray(),t.goals)this.add(t.goals[a].taskID,t.goals[a].data)}var s=t("app/step1classic/step1");ScheduleDailyGoals.prototype.add=function(e,t){this.goals.push({taskID:e,data:t})},ScheduleDailyGoals.prototype.typeStr=function(e){if("pages"==e)return"pages";return"qbank"==e?"ques":void 0},ScheduleDailyGoals.prototype.editGoal=function(e){return function(){dialog("ui/dialogs/EditScheduleCustomGoal",function(){},{goal:e})}},ScheduleDailyGoals.prototype.removeGoal=function(e){return function(){fs.confirm("Are you sure you want to remove \""+e.data.title+"\" and all its daily task todos? (note: checked off todos will not be affected)",function(){fs.post("removeScheduleCustomGoal",{scheduleID:s.scheduleID,taskID:e.taskID},function(){location.reload()})})}},a.exports=ScheduleDailyGoals}),define("ui.ScheduleResources",function(e,t,a){function ScheduleResources(){for(var e in this.resources={},s)this.resources[s[e]]=ko.observable("osmosisVideos"==s[e]||"osmosisFlashcards"==s[e])}var s=["osmosisVideos","osmosisFlashcards","osmosisQuestions","sketchyMicro","sketchyPath","sketchyPharm","picmonic","pathoma","boardsAndBeyond"];ScheduleResources.prototype.getValue=function(){var e=[];for(var t in this.resources)this.resources[t]()&&e.push(t);return e},a.exports=ScheduleResources}),define("ui.ScheduleStatusBar",function(e,t,a){function ScheduleStatusBar(){this}ScheduleStatusBar.prototype.explainScheduling=function(){dialog("ui/dialogs/SchExplanation",function(){},{})},a.exports=ScheduleStatusBar}),define("ui.ScheduleTopics",function(e,t,a){function ScheduleTopics(e,t){var a=this;this.subject=ko.observable(t.data.nextClassExamSubject),this.categories=ko.observableArray(),fs.post("getScheduleTopics",{schedule:"usmle-step1",version:t.faVersion,subject:this.subject()},function(e){for(var t in a.topics=e.topics,a.topics)a.topics[t].selected=ko.observable(!0);a.categories(_.map(_.groupBy(a.topics,"category"),function(e,t){return{name:t,group:e,expanded:ko.observable(!1),selected:ko.observable(!0)}}))})}ScheduleTopics.prototype.getValue=function(){var e=[];for(var t in this.topics)this.topics[t].selected()&&e.push(+this.topics[t].id);return e},ScheduleTopics.prototype.toggleExpanded=function(e){e.expanded(!e.expanded())},ScheduleTopics.prototype.toggleAll=function(e){for(var t=!e.selected(),a=0;a<e.group.length;a+=1)e.group[a].selected(t);e.selected(t)},a.exports=ScheduleTopics}),define("ui.Scoreboard",function(e,t,a){var s=Math.sqrt,o=Math.PI,d=Math.floor;function initSlices(e){for(var t in e)e[t].sel=!0,e[t].theta=0,e[t].count=0}function getAccConfBin(e,t){return e.timestamp&&(!t||+e.timestamp>+t)?e.accConfBin:7}function hexToRgb(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,a,s){return t+t+a+a+s+s});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}function sqr(e){return e*e}function getCoord(e,t){var a=Math.atan2(t,e);return{radius:s(sqr(e)+sqr(t)),theta:0<a+o/2?a+o/2:a+5*o/2}}function getIndexFromCoord(e,t){var a=0;for(var s in e)a+=e[s].count;if(0<a){var o=e.length-1;for(var s in e)if(t.theta<e[s].theta){o=s-1;break}return o}return-1}function sign(e){return 0<=e?1:-1}function dotP(e,t){return e.x*t.x+e.y*t.y}function crossP(e,t){return e.x*t.y-t.x*e.y}function mag(e){return s(e.x*e.x+e.y*e.y)}function getAngle(e,t){return Math.acos(dotP(e,t)/(mag(e)*mag(t)))}var n=t("ui/scoreboardLegend"),l=!1,c=function Scoreboard(e,t,a,s,o){var d=this;o=o||{},this.dom=e,this.diameter=t,this.width=t,this.height=t,this.isQuiz=o.isQuiz,this.ringMode="both",this.container=$("<div class=\"noselect\" style=\"position:relative; width:"+this.width+"px; height:"+this.height+"px; margin:auto; cursor: pointer\">").appendTo(e),this.canvas=$("<canvas style=\"position:absolute; left:0px; top:0px; z-index:0\" width=\""+this.width+"px\" height=\""+this.height+"px\">").appendTo(this.container);var l=backingScale();this.scaleFactor=l,1<l&&(this.canvas[0].width=t*l,this.canvas[0].height=t*l,this.canvas.width(t),this.canvas.height(t)),this.ctx=this.canvas[0].getContext("2d"),this.bins=[];for(var c=0;6>c;c++)this.bins.push([0,0,0,0,0,0,0,0,0]);this.newCount=0,this.skippedCount=0,this.ringRadius=t/1.25/2,this.selectable=!0,this.currentFilter="",this.overlay=$("<div class=\"scoreboardOverlayDiv\" style=\"position: absolute; display:table-cell; vertical-align:middle; text-align:center; pointer-events: none; width:"+this.width+"px; height:"+this.height+"px\">").appendTo(this.container);var p=$("<div style=\"display:inline-block; width:100%; font-size:"+t/8+"px\">").appendTo(this.overlay);this.uiCounterDiv=$("<div class=\"fwb divCounter\" style=\"color:#757575; font-size:1.4em\">0</div>").appendTo(p),this.uiLabel=$("<div class=\"fcg divLabel\" style=\"margin-top: -10px; font-size:.5em\">"+s+"</div>").appendTo(p),this.totalCounter=0;var u=$(".divLabel",this.overlay).position().top+$(".divLabel",this.overlay).height();this.overlay.css("top",(this.height-u)/2),this.uiCounter=function(e){return void 0===e?this.totalCounter:void(this.totalCounter=e)},this.uiCenterCounter=function(e){return void 0===e?this.uiCounterDiv.text():void(this.uiCounterDiv.text(e),this.uiCounterDiv.css("font-size",1e3>e?"1.6em":"1.3em"))},this.updateStatusBar=function(e,t){d.statusBar&&(0<=t?d.statusBar(e[t].help.replace("%d",e[t].count)):d.statusBar(""))},this.accConf=n.getAccConf(),initSlices(this.accConf),this.times=n.getTimes(),initSlices(this.times),this.tags=a||[],this.answeredQues=[],this.isEverything=!0};c.prototype.clear=function(){this.answeredQues=[],this.bins=[];for(var e=0;6>e;e++)this.bins.push([0,0,0,0,0,0,0,0,0]);this.newCount=0,this.skippedCount=0,this.clearRing(this.accConf),this.clearRing(this.times),this.selectAll()},c.prototype.getConfigForQuiz=function(e,t,a){return t=t||0,(null==a||+this.uiCounter()<a)&&(a=+this.uiCounter()),0<a?(50<a&&this.tryToSelectNQues(50),{tags:topicList.getActiveTopics(),total:50>=a?a:50,push:t,filter:this.getSelList(),scorebarData:this.getAccConfBins(),inorder:0,quesList:e?this.filterPreviousRun():[]}):{tags:[],total:0,push:0}},c.prototype.updatePoolStatus=function(e){""==e?($("#labelScoreboardStatus").addClass("hidden"),$("#labelWhatsThis").removeClass("hidden")):($("#labelScoreboardStatus").html(e).removeClass("hidden"),$("#labelWhatsThis").addClass("hidden"))},c.prototype.getConfigForPushQuiz=function(e){this.tryToSelectNQues(10),console.log("getting config for push");var t=this.getConfigForQuiz(!1,e,10);return 10<=t.total?this.updatePoolStatus("For this quiz, 10 were selected from a pool of "+this.uiCounter()):this.updatePoolStatus("For this quiz, "+this.uiCounter()+" were selected."),t},c.prototype.getAtLeastNQues=function(e){(this.selectByFilter("00000001.111111111"),!(+this.uiCounter()>=e))&&(this.selectByFilter("00011001.111111111"),!(+this.uiCounter()>=e))&&(this.selectByFilter("00011101.111111111"),!(+this.uiCounter()>=e))&&(this.selectByFilter("00111101.111111111"),!(+this.uiCounter()>=e))&&(this.selectByFilter("01111101.111111111"),!(+this.uiCounter()>=e))&&(this.selectByFilter("01111111.111111111"),+this.uiCounter()>=e||this.selectByFilter("11111111.111111111"))},c.prototype.trimDownToNQues=function(e){this.refresh(!0);var t=+this.uiCounter();for(var a in this.times)this.times[a].sel=!1;for(var a=this.times.length-1;0<=a&&(this.times[a].sel=!0,this.refresh(!0),!(+this.uiCounter()>=e));a--);if(t==+this.uiCounter()){for(var a in this.times)this.times[a].sel=!0;this.refresh(!0)}},c.prototype.tryToSelectNQues=function(e){this.everythingIsSelected()&&(this.getAtLeastNQues(e),+this.uiCounter()>e&&this.trimDownToNQues(e))},c.prototype.everythingIsSelected=function(){var e=!0;for(var t in this.accConf)0<this.accConf[t].count&&(e=e&&this.accConf[t].sel);for(var t in this.times)0<this.times[t].count&&(e=e&&this.times[t].sel);return e},c.prototype.selectByFilter=function(e){e=e.split(".");var t=[],a=[];for(var s in e[0])"1"==e[0][s]&&t.push(+s);for(var s in e[1])"1"==e[1][s]&&a.push(+s);for(var s in this.clearSel(this.accConf),this.clearSel(this.times),t)this.accConf[t[s]].sel=!0;for(var s in a)this.times[a[s]].sel=!0;this.refresh(!0)},c.prototype.filterQuizPool=function(e,t){var a=this.getSelList().split("."),s=[],o=[];for(var d in a[0])"1"==a[0][d]&&s.push(+d);for(var d in a[1])"1"==a[1][d]&&o.push(+d);var n=[];for(var d in e){var l=e[d],c=getAccConfBin(l,t);(-1!=s.indexOf(c)&&-1!=o.indexOf(l.timeBin)||7==c&&-1!=s.indexOf(7))&&n.push(l.nodeID)}return shuffle(n),n},c.prototype.selectedToFilter=function(){var e="";for(var t in this.accConf)e+=this.accConf[t].sel?"1":"0";for(var t in e+=".",this.times)e+=this.times[t].sel?"1":"0";return e},c.prototype.scoreboardFilterToArray=function(e){if(0==this.totalCounter)return{accConf:[],time:[]};e=e.split(".");var t=[];for(var a in e[0])"1"==e[0][a]&&t.push(+a);var s=[];for(var a in e[1])"1"==e[1][a]&&s.push(+a);return(-1!=t.indexOf(6)||-1!=t.indexOf(7))&&s.push(9),{accConf:t,time:s}},c.prototype.filterPreviousRun=function(){var e=this.getSelList().split("."),t=[],a=[];for(var s in e[0])"1"==e[0][s]&&t.push(+s);for(var s in e[1])"1"==e[1][s]&&a.push(+s);var o=[];for(var s in this.answeredQues){var d=nodeIndex[this.answeredQues[s]];-1!=t.indexOf(d.accConfBin)&&-1!=a.indexOf(d.timeBin)&&o.push(d.nodeID)}return shuffleArray(o),o},c.prototype.loadBins=function(e,t,a){this.clearRing(this.accConf),this.clearRing(this.times);var s=e,o=0;for(var n in s)this.bins[d(n/9)][n%9]=+s[n],this.accConf[d(n/9)].count+=+s[n],this.times[n%9].count+=+s[n],o+=+s[n];this.skippedCount=a,this.accConf[6].count=a,this.newCount=t,this.accConf[7].count=t,this.selectAll(this.accConf),this.selectAll(this.times),this.refresh(!0)},c.prototype.loadBinsFromTopics=function(e,t){this.tags=t;var a={bin:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],novel:0,skip:0};for(var s in e)if(541!=this.tags[s]){var o=e[s].bins;for(var d in o)o[d]=+o[d],a.bin[d]+=o[d];a.novel+=e[s].novel,a.skip+=e[s].skip}this.loadBins(a.bin,a.novel,a.skip)},c.prototype.loadBinsFromHistory=function(e,t,a){var s=[],o={bins:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],novel:0,skip:0};for(var d in e){var n=e[d];t(n)&&(s.push(n),n.timestamp&&!a?o.bins[9*n.accConfBin+n.timeBin]++:6==n.accConfBin?o.skip++:o.novel++)}return this.loadBins(o.bins,o.novel,o.skip),s},c.prototype.modifyBin=function(e,t,a){var s=this;6==e?(s.skippedCount+=a,0>s.skippedCount&&console.error("The skipped counter just went negative for the scoreboard!"),s.accConf[6].count+=a):7==e?(s.newCount+=a,s.accConf[7].count+=a,0>s.newCount&&console.error("The new counter just went negative for the scoreboard!")):(s.bins[e][t]+=a,0>s.bins[e][t]&&console.error("The bin counter just went negative for the scoreboard!"),s.accConf[e].count+=a,s.times[t].count+=a,0>s.accConf[e].count&&console.error("The accConf counter just went negative for the scoreboard!"),0>s.times[t].count&&console.error("The time counter just went negative for the scoreboard!"))},c.prototype.updateInnerRing=function(){for(var e in this.times)this.times[e].count=0;var t=0;for(var a in this.bins)if(this.accConf[a].sel)for(var e in this.bins[a])this.times[e].count+=this.bins[a][e],t+=this.bins[a][e];this.statusBar&&0==t&&this.statusBar("")},c.prototype.updateCounter=function(){var e=0;for(var t in this.bins)if(this.accConf[t].sel)for(var a in this.bins[t])this.times[a].sel&&(e+=this.bins[t][a]);this.accConf[6].sel&&(e+=this.skippedCount),this.accConf[7].sel&&(e+=this.newCount),this.uiCounter(e),this.uiCenterCounter(e)},c.prototype.drawArc=function(e,t,a,s,d,n){var l=this.canvas[0].width/2,c=this.canvas[0].height/2,p=0;for(var u in t)p+=t[u].count;var m=-(o/2)+2*o*s;for(var v in t){var b=t[v].count/p*d,h=2*o*b,g=m+h-3*o/180;if(t[v].wedgeTheta=h,t[v].theta=m+o/2,h>o/180){g<m&&(g=m+.01),this.ctx.beginPath(),this.ctx.arc(l,c,e,m,g,!1),this.ctx.lineWidth=a;var f=hexToRgb(t[v].color);if(n)var w=t[v].sel?1:.2;else var w=t[v].sel?.15:.05;this.isQuiz&&"New"==t[v].title&&(w=t[v].sel?.4:.1),this.ctx.strokeStyle="rgba("+f.r+","+f.g+","+f.b+","+w+")",this.ctx.stroke(),this.ctx.closePath()}m+=h}},c.prototype.drawRings=function(){var e=this;this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),"Android"==window.devicePlatform&&(this.canvas.css("opacity",.99),setTimeout(function(){e.canvas.css("opacity",1)},2));for(var t=0,a=0,s=!1,o=0,d=0;8>d;d++)this.accConf[d].sel&&7>d?(t+=this.accConf[d].count,s=!0):!s&&(o+=this.accConf[d].count),a+=this.accConf[d].count;if(0<a)var n=o/a,l=t/a;else var n=0,l=1;var c=this.ringRadius*this.scaleFactor;this.drawArc(c,this.accConf,c/4,0,1,"both"==this.ringMode||"outer"==this.ringMode),this.drawArc(c/1.5,this.times,c/6,n,l,"both"==this.ringMode||"inner"==this.ringMode)},c.prototype.clearRing=function(e){for(var t in e)e[t].count=0},c.prototype.clearSel=function(e){for(var t in e)e[t].sel=!1},c.prototype.selectRing=function(e){for(var t in e)e[t].sel=!0},c.prototype.getRingBins=function(e){var t=[];for(var a in e)e[a].sel?t.push(e[a].count):t.push(0);return t},c.prototype.getAccConfBins=function(){return this.getRingBins(this.accConf)},c.prototype.getTimeBins=function(){return this.getRingBins(this.times)},c.prototype.getSelList=function(){var e="";for(var t in this.accConf)e+=this.accConf[t].sel?"1":"0";for(var t in e+=".",this.times)e+=this.times[t].sel?"1":"0";return e},c.prototype.selectAll=function(){this.selectRing(this.accConf),this.selectRing(this.times),this.refresh()},c.prototype.selCount=function(e){var t=0;for(var a in e)e[a].sel&&t++;return t},c.prototype.completelySelected=function(e){var t=!0;for(var a in e)t=e[a].sel&&t;return t},c.prototype.seriesSelect=function(e,t,a,s){s=s*o/180;var d=getIndexFromCoord(e,t),n=getIndexFromCoord(e,a);if(this.clearSel(e),-1!=n){var l=0,c=sign(s);if(1==c)var p=t.theta-e[d].theta+s;else var p=t.theta-(e[d].theta+e[d].wedgeTheta)+s;for(;1==c&&0<p||-1==c&&0>p;){var u=e[(d+l+10*e.length)%e.length];l+=c,u.sel=!0,p-=c*u.wedgeTheta}}this.refresh(!1,e,n),this.isEverything&&(50<+this.uiCounter()?this.updatePoolStatus("50 questions will be selected from a pool of "+this.uiCounter()):this.updatePoolStatus(""))},c.prototype.onOuterRingSelect=function(e,t,a){this.seriesSelect(this.accConf,e,t,a),this.onSelect&&this.onSelect()},c.prototype.onInnerRingSelect=function(e,t,a){this.seriesSelect(this.times,e,t,a),this.onSelect&&this.onSelect()},c.prototype.refresh=function(e,t,a){var s=this.selectedToFilter();(e||this.currentFilter!=s)&&(this.updateInnerRing(),this.updateCounter(),t&&this.updateStatusBar(t,a),this.drawRings(),this.currentFilter=s)},c.prototype.render=function(t){t=t||"both",this.ringMode=t;var a=this;a.drawRings();var s=null,d=null,n=0,l=0;a.container.bind("mousedown",function(o){a.selDir=0;var e=o.pageX-a.canvas.offset().left-a.width/2,c=o.pageY-a.canvas.offset().top-a.height/2,p=getCoord(e,c);!a.selectable||p.radius>a.diameter/2||(a.onTouch&&a.onTouch(),s=p,d={x:e,y:c},n=0,l=0,p.radius<a.width/2?(p.radius>5*a.ringRadius/8?("both"==t||"outer"==t)&&(a.select=a.onOuterRingSelect,a.select(p,p,0),a.selectRing(a.times)):("both"==t||"inner"==t)&&(a.select=a.onInnerRingSelect,a.select(p,p,0)),window.blockSlideForScoreboardSwipe=!0,a.container.trigger("disable-scroller")):(("both"==t||"outer"==t)&&a.selectRing(a.accConf),("both"==t||"inner"==t)&&a.selectRing(a.times),a.refresh()),a.dom.trigger("ScoreboardUpdate"))}),a.container.bind("mousemove",function(t){if(a.selectable&&a.select&&s){var e=t.pageX-a.canvas.offset().left-a.width/2,c=t.pageY-a.canvas.offset().top-a.height/2,p={x:e,y:c};if(0<crossP(d,p))var u=180*getAngle(d,p)/o;else var u=360-180*getAngle(d,p)/o;0<=u&&90>=u?270<n&&l++:270<=u&&360>=u&&90>n&&l--,2<l?l=2:-2>l&&(l=-2),n=u;var m=getCoord(e,c);a.select(s,m,u+360*l),a.dom.trigger("ScoreboardUpdate")}}),a.container.bind("mouseup",function(){a.selectable&&(s=null,a.uiCenterCounter(a.uiCounter()),$("#scoreboardStatusBar span").html("Tap and drag to select questions to study"),window.blockSlideForScoreboardSwipe=!1,a.container.trigger("enable-scroller"),a.dom.trigger("ScoreboardMouseUp"),d=null)})},c.prototype.quesStatusChange=function(e){var t=this;t.modifyBin(e.accConf.from,e.time.from,-1),t.modifyBin(e.accConf.to,e.time.to,1),t.refresh(!0),t.remainingCount&&(t.remainingCount--,t.uiCounter(t.remainingCount),t.uiCenterCounter(t.remainingCount)),this.isQuiz&&(this.selectByFilter("11111110.111111111"),$(".divLabel",this.dom).html("answered"),this.onQuizAdvance&&this.onQuizAdvance())},a.exports=c}),define("ui.ScoreboardKey",function(e,t,a){function ScoreboardKey(e,t){var a=this;this.sb=t.sb,this.accConf=ko.observableArray(),this.times=ko.observableArray(),this.quickSelect=ko.observable(t.filterType||"new"),this.isMobile=s.ObservableTablet,this.inSmallContainer=ko.observable(t.parent.dom.width()&&400>t.parent.dom.width()),this.useShortHelp=ko.observable(this.isMobile()||this.inSmallContainer()),this.update(),$(document).bind("ScoreboardUpdate",function(){a.update()}),this.preventEmptyQuiz(),this.quickSelect.subscribe(function(){a.historyFilter(a.quickSelect())})}var s=t("ui/MediaQueryList");ScoreboardKey.prototype.update=function(){$(this.dom).trigger("ScoreboardKeyUpdate"),this.updateRing(this.sb.accConf,this.accConf),this.updateRing(this.sb.times,this.times)},ScoreboardKey.prototype.updateRing=function(e,t){for(var a in t.removeAll(),e){var s=e[a],o=this.useShortHelp()&&s.shortHelp?s.shortHelp:s.help;s.count&&t.push({sb:s,color:s.color,active:ko.observable(s.sel),text:o.replace("%d",s.count)})}},ScoreboardKey.prototype.toggle=function(e,t){var a=this;return function(){t.sb.sel=!t.active(),a.sb.refresh(!0),a.update()}},ScoreboardKey.prototype.historyFilter=function(e){var t=this;switch(e){case"new":t.scoreboardFilter="00000001.000000000";break;case"all":t.scoreboardFilter="11111111.111111111";break;case"wrong":t.scoreboardFilter="00011100.111111111";break;case"notsure":t.scoreboardFilter="01101100.111111111";break;case"clueless":t.scoreboardFilter="00100100.111111111";break;case"old":t.scoreboardFilter="11111100.011111111";break;case"custom":return void t.mode("custom");}t.sb.selectByFilter(t.scoreboardFilter),t.update()},ScoreboardKey.prototype.historyFilterClick=function(e){var t=this;return function(){t.historyFilter(e)}},ScoreboardKey.prototype.preventEmptyQuiz=function(){+this.sb.uiCounter()||(this.quickSelect("wrong"),this.historyFilter(this.quickSelect()),!+this.sb.uiCounter())&&(this.quickSelect("notsure"),this.historyFilter(this.quickSelect()),!+this.sb.uiCounter())&&(this.quickSelect("all"),this.historyFilter(this.quickSelect()),+this.sb.uiCounter())},a.exports=ScoreboardKey}),define("ui.SearchBar",function(e,t,a){function SearchBar(e,t){this;this.mode="undefined"==typeof t.mode?"basic":t.mode,this.showAllConcepts=t.showAllConcepts,this.includeBreadcrumb=t.includeBreadcrumb||!1,this.customSearchCallback=t.customSearchCallback||null,this.placeholder=ko.observable(t.placeholder||"Search for videos, flashcards, and questions"),this.placeMobileSearch=t.placeMobileSearch,this.hideIcon=ko.observable(t.hideIcon),this.autocompleteSelectedIndex=ko.observable(0),this.autocompleteSelectedIndex.subscribe(this.autocompleteSelectedIndexSubscriber.bind(this)),this.autocompleteSearchResults=ko.observableArray([]),this.autocompleteVideoResults=ko.observableArray([]),this.autocompleteOtherResults=ko.observableArray([]),this.lastInputValue="",this.searchCache={},this.typeAheadValue=ko.observable(""),this.inputFocused=ko.observable(!1),this.autocompleteContainerClasses=ko.computed(function(){var e=this.inputFocused()?"shown":"hidden",t=$("#main-control-bar.mobile-height .more-dropdown");return 0<t.length&&!t.hasClass("hidden")&&(e="hidden"),e},this),this.mainSearchClasses=ko.computed(function(){return"shown"===this.autocompleteContainerClasses()?"above":"below"},this),this.placeMobileSearch,e(this)}SearchBar.prototype.autocompleteSelectedIndexSubscriber=function(){this.typeAheadValue(this.getTypeAheadValue())},SearchBar.prototype.getTypeAheadValue=function(){if(0<this.autocompleteSearchResults().length){if(!(0<this.autocompleteSelectedIndex())){if(0<this.autocompleteVideoResults().length){var e=this.autocompleteVideoResults()[0];return e.name}return""}if(this.autocompleteSelectedIndex()<this.autocompleteVideoResults().length+1){var e=this.autocompleteVideoResults()[this.autocompleteSelectedIndex()-1];return e.name}}else return""},SearchBar.prototype.onInputChanged=function(){var e=this,t=Date.now();return function(a,s){return setTimeout(function(){s.currentTarget.value=s.currentTarget.value.toLowerCase();var a=s.currentTarget.value;e.lastInputValue!==a&&Date.now()-t>=10&&e.updateSearchResults(a),e.lastInputValue=a,t=Date.now()},0),!0}},SearchBar.prototype.onKeyDown=function(){var e=this;return function(t,a){switch(a.which||a.keyCode){case 13:return a.currentTarget.value=e.getSearchTerm(),e.search(),!1;case 38:return 0!==e.autocompleteSelectedIndex()&&e.autocompleteSelectedIndex(e.autocompleteSelectedIndex()-1),a.preventDefault(),!1;case 39:0===e.autocompleteSelectedIndex()&&0<e.autocompleteSearchResults().length&&e.autocompleteSelectedIndex(1),a.currentTarget.value=e.getSearchTerm(),e.autocompleteSelectedIndex(0),e.lastInputValue!==a.currentTarget.value&&e.updateSearchResults(e.getSearchTerm()),e.lastInputValue=a.currentTarget.value;break;case 40:return e.autocompleteSelectedIndex()!==e.autocompleteSearchResults().length&&e.autocompleteSelectedIndex(e.autocompleteSelectedIndex()+1),a.preventDefault(),!1;default:}return!0}},SearchBar.prototype.onKeyUp=function(){var e=this;return function(t,a){switch(a.which||a.keyCode){case 8:a.currentTarget.value=a.currentTarget.value.toLowerCase(),e.lastInputValue!==a.currentTarget.value&&e.updateSearchResults(a.currentTarget.value),e.lastInputValue=a.currentTarget.value;break;case 38:case 40:return a.preventDefault(),!1;default:}return!0}},SearchBar.prototype.onInputFocus=function(){var e=this;return function(){return e.inputFocused(!0),!0}},SearchBar.prototype.onInputFocusout=function(){var e=this;return function(){return e.inputFocused(!1),!0}},SearchBar.prototype.updateSearchResults=function(e){var t=this;return""!==e&&isNaN(e)?void(t.isSearchCached(e)?(t.autocompleteSearchResults(t.getCachedSearch(e)),t.updateSearchCategories()):(0!==t.typeAheadValue().indexOf(e)&&t.typeAheadValue(e),fs.post("/topicSearch",{q:e},function(a){t.autocompleteSelectedIndex(0),t.autocompleteSearchResults([]);for(var s=0;s<a.res.length&&s<10;s++)a.res[s].learnConcepts?(a.res[s].htmlLearnConcepts=t.parseLearnConcepts(a.res[s].learnConcepts,a.res[s].termName||a.res[s].name,e),a.res[s].hasLearnConcepts=!0):(a.res[s].htmlLearnConcepts="",a.res[s].hasLearnConcepts=!1),a.res[s].htmlName=t.parseHTMLName(a.res[s].termName||a.res[s].name,e),t.autocompleteSearchResults.push(a.res[s]);t.cacheSearch({term:e,results:t.autocompleteSearchResults()}),t.updateSearchCategories()}))):(t.autocompleteSearchResults([]),void t.updateSearchCategories())},SearchBar.prototype.parseLearnConcepts=function(e,t,a){var s="",o=!1;a=a.toLowerCase();for(var d=0;d<e.length;d++)if(t.toLowerCase()!==e[d].toLowerCase()){o?s+=", ":o=!0;var n=e[d].toLowerCase().indexOf(a);-1!==n&&(e[d]=e[d].substring(0,n)+"<span class=\"cluster-concept-highlighted\">"+e[d].substring(n,n+a.length)+"</span>"+e[d].substring(n+a.length)),s+=e[d]}return s},SearchBar.prototype.parseHTMLName=function(e,t){var a=e.toLowerCase().indexOf(t.toLowerCase());return-1===a?e:e.substring(0,a)+"<span class=\"autocomplete-name-highlighted\">"+e.substring(a,a+t.length)+"</span>"+e.substring(a+t.length)},SearchBar.prototype.updateSearchCategories=function(){this.autocompleteOtherResults([]),this.autocompleteVideoResults([]);for(var e=0,t=0;t<this.autocompleteSearchResults().length;t++)this.autocompleteSearchResults()[t].video&&e++;for(var a=0,t=0;t<this.autocompleteSearchResults().length;t++){this.autocompleteSearchResults()[t].autocompleteIndex=t+1,this.autocompleteSearchResults()[t].attributes=[],0<this.autocompleteSearchResults()[t].fcCount&&this.autocompleteSearchResults()[t].attributes.push({name:"Flashcard",count:this.autocompleteSearchResults()[t].fcCount,shouldBreak:!1}),0<this.autocompleteSearchResults()[t].quesCount&&this.autocompleteSearchResults()[t].attributes.push({name:"Question",count:this.autocompleteSearchResults()[t].quesCount,shouldBreak:!1});for(var s=0;s<this.autocompleteSearchResults()[t].attributes.length;s++)1<this.autocompleteSearchResults()[t].attributes[s].count&&(this.autocompleteSearchResults()[t].attributes[s].name+="s");this.autocompleteSearchResults()[t].video?(this.autocompleteSearchResults()[t].autocompleteIndex=++a,this.autocompleteSearchResults()[t].attributes.unshift({name:"Video",count:1,shouldBreak:!1}),this.autocompleteVideoResults.push(this.autocompleteSearchResults()[t])):(this.autocompleteSearchResults()[t].autocompleteIndex=t+(e-a)+1,this.showAllConcepts&&this.autocompleteOtherResults.push(this.autocompleteSearchResults()[t]))}for(var t=0;t<this.autocompleteOtherResults().length;t++)if(0<this.autocompleteOtherResults()[t].fcCount||0<this.autocompleteOtherResults()[t].quesCount)for(var s=t-1;0<=s;s--)if(0<this.autocompleteOtherResults()[s].fcCount||0<this.autocompleteOtherResults()[s].quesCount){this.autocompleteOtherResults.splice(s,0,this.autocompleteOtherResults.splice(t,1)[0]);break}this.typeAheadValue(this.getTypeAheadValue())},SearchBar.prototype.cacheSearch=function(e){this.searchCache[e.term]=e.results},SearchBar.prototype.isSearchCached=function(e){return"undefined"!=typeof this.searchCache[e]},SearchBar.prototype.getCachedSearch=function(e){return this.searchCache[e]},SearchBar.prototype.onAutocompleteMouseEnter=function(){var e=this;return function(t,a){e.autocompleteSelectedIndex(0|a.currentTarget.dataset.autocompleteIndex)}},SearchBar.prototype.onAutocompleteMouseLeave=function(){var e=this;return function(){e.autocompleteSelectedIndex(0)}},SearchBar.prototype.onAutocompleteClick=function(){var e=this;return function(){$(".main-search .search-input",e.dom).val(e.getSearchTerm()),e.search()}},SearchBar.prototype.initSearch=function(){this.search($(".main-search .search-input",this.dom).val())},SearchBar.prototype.closeSearch=function(){$(".main-search",this.dom).removeClass("active")},SearchBar.prototype.showSearch=function(){$(".main-search",this.dom).addClass("active")},SearchBar.prototype.search=function(){var e=this.getSearchTermData();this.customSearchCallback?this.customSearchCallback(e):(keen.track("search_bar",{search_term:e.name.toLowerCase(),concept:e.termName?e.termName.toLowerCase():0}),setTimeout(function(){""!==e.name&&(window.location.href="/learn/"+e.name.replace(/\s/g,"_"))},250))},SearchBar.prototype.getSearchTermData=function(){return 0===this.autocompleteSelectedIndex()?{name:$(".main-search .search-input",this.dom).val(),rawText:!0}:0<this.autocompleteSearchResults().length?0<this.autocompleteSelectedIndex()?this.autocompleteSelectedIndex()<this.autocompleteVideoResults().length+1?this.autocompleteVideoResults()[this.autocompleteSelectedIndex()-1]:this.autocompleteOtherResults()[this.autocompleteSelectedIndex()-this.autocompleteVideoResults().length-1]:0<this.autocompleteVideoResults().length?this.autocompleteVideoResults()[0]:{name:""}:{name:""}},SearchBar.prototype.getSearchTerm=function(){var e=this.getSearchTermData();return e.termName||e.name},a.exports=SearchBar}),define("ui.SearchDashboard",function(e,t,a){function SearchDashboard(e,t){var a=this,d=this,n=ko.observableArray([]);this.breadcrumb=ko.computed({read:function read(){return n()},write:function write(e){return n([]),n.push({name:"Home",link:"/home/dashboard"}),e&&n.push({name:e,action:function action(){d.subjectDropdown.visible(!d.subjectDropdown.visible())}}),n()},owner:this});var l=function restoreFromLocalStorage(){var e=localStorage&&localStorage.getItem("resource-map-filters");return!!e&&(e=JSON.parse(e),e.osmosis=ko.observable(e.osmosis),e.sketchy=ko.observable(e.sketchy),e.picmonic=ko.observable(e.picmonic),e.notes=ko.observable(e.notes),e)}()||{osmosis:ko.observable(!1),sketchy:ko.observable(!1),picmonic:ko.observable(!1),notes:ko.observable(!1)};this.filters=l,this.sections=ko.observableArray([]),this.currentSection=ko.computed({read:function read(){return _.find(a.sections(),function(e){return e.isCurrent()})},write:function write(e){_.each(d.sections(),function(e){return e.isCurrent(!1)}),e.isCurrent(!0)}}),this.hasSections=ko.computed(function(){return 0<d.sections().length}),this.subjects=ko.observableArray(),this.subjectIndex=s.subjectIndex,this.subjectID=ko.observable(),this.subjectIcon=ko.observable(),this.subjectTitle=ko.observable(),this.pageType=ko.observable(),this.osmosisOnly=ko.observable(),this.listOptionsAvailable=ko.observable(),this.videoRows={},this.resourceRows={},d.totalTopics=ko.observable(0),this.allRowsExpanded=ko.observable(),this.toggleRowsCta=ko.computed(function(){return d.allRowsExpanded()?"- collapse all":"+ expand all"}),this.sectionFiltersActive=ko.computed(function(){return!!a.sections().find(function(e){return e.filterOn()})}),this.resourceFiltersActive=ko.computed(function(){for(var e in d.filters)if(d.filters[e]())return!0;return!1}),this.iconMap=o.iconMap,this.videos=ko.observableArray([]),this.progressBarsVisible=ko.observable(!0),e(this),fs.mix(this,"ui/resourceMap/Filter",{filters:d.filters,sections:d.sections,sectionFiltersActive:d.sectionFiltersActive,resourceFiltersActive:d.resourceFiltersActive}),fs.mix(this,"ui/SubjectsNav",{currentSection:d.subjectTitle,current:d.currentSection,sections:d.sections,search:t.search})}var s=t("shared/topics"),o=t("app/wikiTermResources");SearchDashboard.prototype.init=function(e,t){var a=this;this.subjectID(e),this.subjectTitle(s.topicID2subject[this.subjectID()]),this.subjectIcon(s.getNewIcon(s.subject2topicID[this.subjectTitle()])),this.allRowsExpanded(!1),this.resetSections(),this.resourceRows={},this.type=s.types[s.getTopicType(this.subjectID())].name;var o=s.getTopicType(a.subjectID()),d=[o];for(t in s.types)t!=o&&d.push(t);this.subjectDropdown=fs.mixAppend($(".subject-dropdown",this.dom),"ui/TopicsDropdown",{topicBreakdowns:d,hideFeaturedSeries:!0}),$("body").on("click",function(){a.subjectDropdown.visible(!1)}),this.breadcrumb(this.type);var n=this.subjectTitle(),l=function getNewCollapseEvent(){var e=ko.observable(0),t=ko.observable(!1);return ko.computed({read:function read(){return{collapse:t(),count:e()}},write:function write(a){t(a),e(e()+1)}})},c;this.pageType("Resource Map"),this.listOptionsAvailable(!1);var p=!0,u="";fs.post("populateSubjectTable",{subject:n},function(e){for(var t in e.table=_.sortBy(e.table,function(e){return"Physiology"===e.group?1:2}),e.table){var s=e.table[t];for(var o in s.contains){var d=s.contains[o],m=s.group==d.group?d.group:s.group+": "+d.group,v=m.split(":",1)[0];p=v!==u,u=v,p&&(c=l()),a.checkAndAddSections(m),a.resourceRows[m]=fs.mixAppend($(".dashboard-clusters",a.dom),"ui/ConceptMapRow",{title:m,group:d,isFirst:p,section:_.find(a.sections(),function(e){return e.name===m.split(":")[0]}),collapseEvent:c,filters:a.filters,onFilterChangeCB:a.getOnFilterChangeCB(m),sectionFiltersActive:a.sectionFiltersActive,resourceFiltersActive:a.resourceFiltersActive}),p=!1}}var b=_.find(a.sections(),function(e){return e.name===window.urlQuery.section});b?(b.isCurrent(!0),setTimeout(function(){var e=b.name.toLowerCase(),t=$(".ui-resourceMap-ProgressBar.".concat(e));if(t.offset()){var a=$(".scrollable");a.animate({scrollTop:t.offset().top-t.outerHeight()+a.scrollTop()},"fast")}},1450)):a.sections()[0].isCurrent(!0);var h=function _loop15(){var e=a.resourceRows[r];"Anatomy"===n&&(e.theme="phys physiology");var t=e.title.split(":")[0],s=_.find(a.sections(),function(e){return e.name===t});s.totalConcepts(s.totalConcepts()+_.reduce(e.contains,function(e,t){return e+t.contains.length},0)),s.checkedConcepts(s.checkedConcepts()+_.reduce(e.contains,function(e,t){return e+t.contains.filter(function(e){return e.checked}).length},0)),a.totalTopics(_.reduce(a.sections(),function(e,t){return e+t.totalConcepts()},0)),s.theme(e.theme)};for(r in a.resourceRows)h()})},SearchDashboard.prototype.placePhysFirst=function(){var e=_.pluck(this.sections(),"name").indexOf("Physiology");if(1==e){var t=this.sections()[0],a=this.sections()[1],s=this.sections();s[1]=t,s[0]=a,this.sections(s)}},SearchDashboard.prototype.getOnFilterChangeCB=function(e){var t=this,e=e.split(":",1)[0];return function(){var a=_.filter(t.resourceRows,function(t){return t.title.split(":",1)[0]===e&&0<t.visibleLinks()}),s=_.findWhere(t.sections(),{name:e});s&&s.filtered(0===a.length)}},SearchDashboard.prototype.resetSections=function(){this.sections.removeAll(),this.subjectDropdown&&this.subjectDropdown.dom.remove()},SearchDashboard.prototype.checkAndAddSections=function(e){var t=this,a=e.split(":",1)[0];if(a&&!_.findWhere(this.sections(),{name:a})){var s={name:a,filtered:ko.observable(!1),totalConcepts:ko.observable(0),checkedConcepts:ko.observable(0),increasing:ko.observable(!1),isCurrent:ko.observable(!0),baseTheme:ko.observable(""),filterOn:ko.observable(!1)};s.progress=ko.computed(function(){return t.calcPercentage(s)}),s.theme=ko.computed({read:function read(){var e=s.baseTheme(),a=t.sectionProgress(s);return 99.89<a&&(e+=" complete"),e},write:function write(e){s.baseTheme(e)}}),this.sections.push(s)}},SearchDashboard.prototype.toggleRows=function(){if(this.allRowsExpanded()){if(this.allRowsExpanded(!1),this.resourceRows)for(var e in this.resourceRows)this.resourceRows[e].visible(!1);if(this.videoRows)for(var e in this.videoRows)this.videoRows[e].visible(!1)}else{if(this.allRowsExpanded(!0),this.resourceRows)for(var e in this.resourceRows)this.resourceRows[e].visible(!0);if(this.videoRows)for(var e in this.videoRows)this.videoRows[e].visible(!0)}},SearchDashboard.prototype.toggleFilter=function(e){var t=this;return function(){t.filters[e](!t.filters[e]())}},SearchDashboard.prototype.goToSection=function(e){var t=this;return function(){_.each(t.sections(),function(e){return e.isCurrent(!1)}),e.isCurrent(!0)}},SearchDashboard.prototype.sectionProgress=function(e){return 100*(e.checkedConcepts()/e.totalConcepts())},SearchDashboard.prototype.calcPercentage=function(e){return parseInt(this.sectionProgress(e),10)+"%"},SearchDashboard.prototype.actionFor=function(e){return e.action?e.action:e.link?function(){return window.location.href=e.link}:function(){}},a.exports=SearchDashboard}),define("ui.SelectGroup",function(e,t,a){function SelectGroup(e,t){this.status=ko.observable(schoolGroups.status),this.studyModules=ko.observable(t.studyModules),this.cb=t.cb,this.groupInvites=ko.observableArray(schoolGroups.groups),this.newGroupRequestMsg=ko.observable(),this.showNewGroupForm=ko.observable(!1)}SelectGroup.prototype.requestNewGroup=function(){var e=this,t=this.newGroupRequestMsg();t&&isNaN(t)?fs.post("userRequest",{subject:"New School Group",message:t},function(){fs.alert("Thanks for contacting us, we'll be in touch shortly!","Great to hear from you!","primary",function(){e.cb&&e.cb()})}):fs.alert("Please enter your school name <b>and</b> class year.")},SelectGroup.prototype.newGroupMsg=function(){this.showNewGroupForm(!0)},a.exports=SelectGroup}),define("ui.SelectStudySubjects",function(e,t,a){function createList(e){var t=[];for(var a in e)t.push(createSubject(e[a]));return t}function createSubject(e){var t={name:e.name,hasCategories:e.hasCategories,included:ko.observable(null),pathology:ko.observable(!0),physiology:ko.observable(!0)};return t}function SelectStudySubjects(e,t){this;this.type=t.type,this.toggleList=createList("basic"===this.type?o.science:o.organs),this.selectAll=ko.observable(!1)}function extractList(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],t=[];for(var a in e){var s=e[a];s.included()&&(s.pathology()===s.physiology()?t.push(s.name):s.physiology()?t.push("".concat(s.name," Physiology")):s.pathology()&&t.push("".concat(s.name," Pathology")))}return t}var s=t("shared/studySubjects"),o={science:[],organs:[]};for(var d in s.basicSciences)o.science.push({name:s.basicSciences[d]});for(var d in s.organSystems)o.organs.push({name:s.organSystems[d],hasCategories:s.hasCategories[s.organSystems[d]]});SelectStudySubjects.prototype.selectAllClicked=function(){return this.selectAll(!this.selectAll()),this.setAllIncludes(this.selectAll()),!1},SelectStudySubjects.prototype.toggleItemClicked=function(){var e=this;return function(){if(this.included(!this.included()),this.included()){for(var t=!0,a=0;a<e.toggleList.length;a++)if(!e.toggleList[a].included()){t=!1;break}e.selectAll(t)}else e.selectAll(!1);return!1}},SelectStudySubjects.prototype.setAllIncludes=function(e){for(var t=0;t<this.toggleList.length;t++)this.toggleList[t].included(e)},SelectStudySubjects.prototype.getValue=function(){return extractList(this.toggleList)},a.exports=SelectStudySubjects}),define("ui.SelectableCalendar",function(e,t,a){function SelectableCalendar(e,t){function select(t){a.selectStop=getDate($(t.target)),a.selectRange(a.selectStart,a.selectStop)}var a=this;this.largeTimes=t.largeTimes,this.groupID=t.groupID||window.groupID,this.title=ko.observable(),e(this),this.onClickEvent=t.onClickEvent,this.onSelect=t.onSelect,this.customEvents=t.customEvents,this.current=moment(t.currentDate),this.refresh(),this.selectStart="",this.selectStop="",$(".fc-view-container",this.dom).bind("mousedown",function(t){a.selectStart=getDate($(t.target)),select(t);var e=getEvent($(t.target));e&&(a.onClickEvent(+e),a.selectStart=""),n.selectByDate(!0)}),$(".fc-view-container",this.dom).bind("mouseup",function(t){a.selectStart&&(select(t),+new Date(a.selectStart)<+new Date(a.selectStop)?a.onSelect(a.selectStart,a.selectStop):a.onSelect(a.selectStop,a.selectStart),a.selectStart="",n.selectByDate(!0))}),$(".fc-view-container",this.dom).bind("mousemove",function(t){a.selectStart&&select(t)}),$(document).bind("clearCalendarSelection",function(){a.clearSelection()}),$(document).bind("refreshCalendar",function(){a.refresh()}),$(document).bind("prev",function(){a.refresh()})}function getDate(e){for(var t=null;!t&&e.length;)t=e.attr("data-date"),e=e.parent();return t}function getEvent(e){for(var t=null;!t&&e.length;)t=e.attr("data-eventID"),e=e.parent();return t}function loadDateRangeForGroup(e,t,a,s,o,d){fs.post("loadDateRange",{g:d,start:+t,stop:+a},function(t){var a=t.groupData,d=fs.transpose(a.eventData,c);for(var n in d)e.push(o(d[n]));s&&s()})}var s=t("app/timezone"),o=template("ui/SelectableCalendarWeek"),d=t("ui/CalendarEvent"),n=t("app/todo"),l=t("app/group"),c=t("models/Event"),p=["mon","tue","wed","thu","fri","sat","sun"];SelectableCalendar.prototype.refresh=function(){var e=this;$(".fc-day-grid",this.dom).empty(),this.title(this.current.format("MMMM YYYY")),this.currentMonth=moment(this.current).format("M");var t=moment(this.current).startOf("month"),a=moment(t).startOf("isoWeek").subtract(1,"day"),o=moment(this.current).startOf("month");this.dayIndex={};for(var d=0;5>=d;d++)this.addWeek(moment(t).day(7*d).add(1,"day"));this.getEvents(moment(t).day(0),moment(t).day(41),s.timezone(),function(t){for(var a in t){var s=e.dayIndex[t[a].start.format("YYYY-MM-DD")];s&&(t[a].hasAttachments()||!e.largeTimes||!window.groupID)&&s.push(t[a])}})},SelectableCalendar.prototype.addWeek=function(e){for(var t=$(o).appendTo($(".fc-day-grid",this.dom)),a=$(".fc-bg",t),s=$(".week-days",t),d=$(".week-events",t),n=0,l;7>n;n++)l=moment(e).add(n,"day"),$(".fc-"+p[n],a).addClass("dayBG-"+l.format("YYYY-MM-DD")).attr("data-date",l.format("YYYY-MM-DD")),$(".fc-"+p[n],s).text(l.format("D")).attr("data-date",l.format("YYYY-MM-DD")),l.format("M")!=this.currentMonth&&$(".fc-"+p[n],s).addClass("fc-other-month"),$(".fc-"+p[n],d).attr("data-date",l.format("YYYY-MM-DD")),this.dayIndex[l.format("YYYY-MM-DD")]=fs.mixAppend($(".fc-"+p[n],d),"ui/SelectableCalendarDay",{parent:this});$(".dayBG-"+moment().format("YYYY-MM-DD"),this.dom).addClass("fc-today")},SelectableCalendar.prototype.prevMonth=function(){this.current=moment(this.current).subtract(1,"month"),this.refresh()},SelectableCalendar.prototype.nextMonth=function(){this.current=moment(this.current).add(1,"month"),this.refresh()},SelectableCalendar.prototype.goToToday=function(){},SelectableCalendar.prototype.goToDate=function(e){this.current=e,this.refresh()},SelectableCalendar.prototype.selectAllClick=function(){this.clearSelection(),this.onSelect()},SelectableCalendar.prototype.selectRange=function(e,t){var a=moment(t).diff(e,"day");this.clearSelection();var s=0<a?1:-1;a*=s;for(var o=0,d;o<=a;o++)d=moment(e).add(o*s,"days").format("YYYY-MM-DD"),$(".dayBG-"+d,this.dom).addClass("fc-highlight")},SelectableCalendar.prototype.getEvents=function(e,t,a,s){var o=this,d=[],n=moment.tz(e.format(),a).format(),c=moment.tz(t.format(),a).format();if(window.eventIndex)for(var p in eventIndex){var u=eventIndex[p].begin().getTime()/1e3;u>e.unix()&&u<t.unix()&&d.push(this.formatCalendarEvent(eventIndex[p]))}this.customEvents&&this.customEvents(e,t,d,a,s);var m=window.groupID?l.loadDateRange:loadDateRangeForGroup;m(d,e,t,function(){s(d)},function(e){return o.formatCalendarEvent(e)},this.groupID)},SelectableCalendar.prototype.clearSelection=function(){$(".fc-bg .fc-day",this.dom).removeClass("fc-highlight")},SelectableCalendar.prototype.formatCalendarEvent=function(e){return new d(e)},a.exports=SelectableCalendar}),define("ui.SelectableCalendarDay",function(e,t,a){function SelectableCalendarDay(){this;this.events=ko.observableArray()}SelectableCalendarDay.prototype.push=function(e){this.events.push(e),this.events.sort(function(e,t){return e.ts-t.ts}),$(".event-tip",this.dom).tooltip({container:"body"}),$(".event-tip",this.dom).removeClass("event-tip")},a.exports=SelectableCalendarDay}),define("ui.SelectorHeader",function(e,t,a){function SelectorHeader(e,t){var a=this;a.title=t.title,a.icon=t.icon,a.iconAlt=t.iconAlt,a.theme=t.theme,a.list=t.dropdownList,a.breadcrumb=t.breadcrumb}SelectorHeader.prototype.actionFor=function(e){return e.action?e.action:e.link?function(){return window.location.href=e.link}:function(){}},a.exports=SelectorHeader}),define("ui.SettingsItem",function(e,t,a){function SettingsItem(e,t){this.title=ko.observable(t.title),this.value=ko.observable(t.value),this.link=ko.observable(t.link||"Edit"),this.expanded=ko.observable(!1),e(this);var a=$.extend({},t);delete a.parent,this.controls=fs.mix(this,t.view,a,{matchName:"viewModel"})}SettingsItem.prototype.expand=function(){for(var e in this.parent.items)this.parent.items[e].collapse();this.expanded(!0)},SettingsItem.prototype.collapse=function(){this.expanded(!1)},a.exports=SettingsItem}),define("ui.SettingsStatusBar",function(e,t,a){a.exports=function SettingsStatusBar(){this}}),define("ui.SharePopup",function(e,t,a){var s=function(){"use strict";function SharePopup(e,t){_classCallCheck(this,SharePopup),this.trackingCode=t.trackingCode?"?"+t.trackingCode:"",this.link=t.link||window.location.href,this.fullLink=this.link+this.trackingCode,e(this)}return _createClass(SharePopup,[{key:"openPopup",value:function openPopup(){var e=this;fs.mixAppend($(".popup-entry",this.dom),"ui/PopupMenu",{header:"Share",items:[{text:"Facebook",type:"action",icon:"fab fa-fw fa-facebook-f",action:function action(){return e.shareToFB()}},{text:"Copy link",type:"action",icon:"fas fa-fw fa-link",action:function action(){return e.shareLink()}}]})}},{key:"shareToFB",value:function shareToFB(){FB.ui({method:"share",href:this.link+this.trackingCode},function(){})}},{key:"shareLink",value:function shareLink(){var e=$(".link input",this.dom);e.select(),document.queryCommandSupported("copy")&&null===window.mobile.mobile()?(document.execCommand("copy"),$.jGrowl("Link copied to clipboard!",{life:2e3,position:"center",theme:"blue"})):fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\""+this.fullLink+"\" /><script type=\"text/javascript\">function inputSelect(){$(\"#share-link-popup-input\").select();} setTimeout(function(){inputSelect()},500);</script>","Share","info")}}]),SharePopup}();a.exports=s}),define("ui.Sidebar",function(e,t,a){function Sidebar(e){this.tools=s,this.primaryApps=ko.observableArray(),this.secondaryApps=ko.observableArray(),this.expanded=ko.observable(),this.fullName=window.user.first+" "+window.user.last,this.memberStatus=ko.computed(function(){if(window.user.prime){if(1==window.user.prime.status)return"Prime member";if(2==window.user.prime.status)return"Prime trial"}}),e(this),this.buildAppLinks(),this.avatar=fs.mixAppend($(".avatar",this.dom),"ui/Avatar",{userID:ko.observable(userID),userName:ko.observable(this.fullName),customSize:60}),window.isSuperUser&&($(".extra-links",this.dom).prepend("<div class=\"simple-link signInAsUserLink\" href=\"#\">Sign in as User (Admin only)</div>"),$(".signInAsUserLink",this.dom).click(function(t){t.preventDefault(),dialog("ui/dialogs/AdminSwitchUser")}))}var s=t("app/tools");Sidebar.prototype.buildAppLinks=function(){for(var e in s){var t=s[e];t.active()&&this.primaryApps.push(t)}},Sidebar.prototype.navToLink=function(e,t){return function(){t?window.open(e,"_blank"):window.location.href=e}},Sidebar.prototype.openEditTools=function(){var e=this;this.close(),dialog("ui/dialogs/ToolSelector",function(){e.open()})},Sidebar.prototype.open=function(){var e=this;this.expanded(!0),window.createCustomOverlay({dom:$("body"),onClick:function onClick(){e.close()}})},Sidebar.prototype.close=function(){this.expanded(!1),window.removeCustomOverlay()},a.exports=Sidebar}),define("ui.SignUps",function(e,t,a){function SignUps(e,t){this.signUpCount=ko.observable(0),this.canSignUp=ko.observable(!0),e(this),this.event=t.event;var a=this.event.signUps();for(var s in a)a[s]==window.userID&&this.canSignUp(!1),this.addUser(a[s])}var s=t("app/who");SignUps.prototype.signUp=function(){var e=this;this.event.signup(function(){e.addUser(window.userID),e.canSignUp(!1)})},SignUps.prototype.addUser=function(e){this.signUpCount(this.signUpCount()+1);var e=ko.observable(e),t=s.is(e);fs.mixAppend($(".avatars",this.dom),"ui/Avatar",{userID:e,userName:t,showTooltip:!0})},a.exports=SignUps}),define("ui.SimpleLoginBox",function(e,t,a){function SimpleLoginBox(e,t){var a=this,s=this;this.isBuying="undefined"==typeof t.isBuying?!("/buy"!=location.pathname):t.isBuying,this.redirect=t.redirect?t.redirect:this.isBuying?"buy":void 0,this.creatingAccount=!!t.creatingAccount&&t.creatingAccount,this.registrationWallActive=!!t.registrationWallActive&&t.registrationWallActive,this.heading=ko.observable(t.heading||(this.creatingAccount?"Create an account":"Sign In")),this.isTraditionalAccount=ko.observable(window.urlQuery&&"traditional"in urlQuery),this.source=t.source,!this.source&&window.localStorage&&(this.source=window.localStorage.getItem("source"),window.localStorage.removeItem("source")),this.showRegister=ko.observable(this.creatingAccount);var o=!1;ko.computed(function(){a.showRegister()&&!o&&(eventTracker.track("start_create_account",{source:a.source||""},["mixpanel","keen"]),o=!0)}),this.remember=ko.observable(!0),this.email=ko.observable(""),this.password=ko.observable(""),this.validInputs={email:ko.computed(function(){return /\S+@\S+\.\S+/.test(s.email())}),password:ko.computed(function(){return 0<s.password().length})},this.allInputsValid=ko.computed(function(){for(var e in s.validInputs)if("code"!=e&&!s.validInputs[e]())return!1;return!0}),this.submitLoading=ko.observable(!1),this.loginErrorMessage=ko.observable(),this.showInvalidHints=ko.observable(!1),this.invalidInputMessage=ko.observable(),this.showLoginFailureMessage=ko.observable(!1),this.loginFailureMessage=ko.observable(),this.singleSignOnMessage=ko.observable(),e(this),fs.mix(this,"ui/CreateAccount",{isTraditional:!0,redirect:t.redirect}),fs.mixAppend($(".login-content-container:last-of-type",this.dom),"ui/CreateAccountInfoPanel",{creatingAccount:!0})}function getSSO(e){return~e.indexOf("uvm.edu")?"https://www.osmosis.org/auth/uvm-med":null}var s=t("app/login");SimpleLoginBox.prototype.withFacebook=function(){s.withFacebook(null,this.remember()?1:0)},SimpleLoginBox.prototype.withGoogle=function(){s.withGoogle(null,this.remember()?1:0)},SimpleLoginBox.prototype.existingAccountClicked=function(e,t){this.showRegister()||this.source||(this.source="sign-up-button-from-sign-in"),this.showRegister(!this.showRegister());var a=$(t.currentTarget);return a=a.scrollParent?a.scrollParent().first():$(window),a&&a.scrollTop(0),t.preventDefault(),!1},SimpleLoginBox.prototype.withPassword=function(){var e=this;this.submitLoading(!0);var t=getSSO(e.email());if(e.validInputs.email()&&e.validInputs.password()){({}).email=e.email(),fs.post("loginPasswd",{email:e.email(),password:md5(trim(e.password())),persist:e.remember()?1:0},function(t){if(window.Storage&&window.localStorage.setItem("login:authMode","email"),!t.loggedIn){if(t.usedTemp)return location.replace("/account/profile?item=passwd");e.redirect?window.location.replace(e.redirect):"/login"==location.pathname?window.location.reload():window.location.replace("/login")}else alert("You are already logged in!"),location.reload()},function(a){return t?void e.singleSignOnMessage("Your school provides single-sign on access to Osmosis: <a href=\""+t+"\" target=\"_blank\">Click here to log</a> in through your school's login portal."):void(e.submitLoading(!1),e.showInvalidHints(!1),e.showLoginFailureMessage(!0),"Invalid login."==a.error.msg?e.loginFailureMessage("Sorry, we didn`t recognize that email and password."):e.loginFailureMessage(a.error.msg),e.password(""))})}else e.submitLoading(!1),e.showLoginFailureMessage(!1),!e.validInputs.email()&&e.validInputs.password()?e.invalidInputMessage("Oops! A valid email address is required."):e.invalidInputMessage("Oops! Please fill out the required fields."),e.showInvalidHints(!0)},SimpleLoginBox.prototype.forgotPassword=function(e){var t=this.email();t?fs.post("forgotPassword",{email:t},function(t){t.msg&&fs.alert(t.msg),e()}):(fs.alert("Enter an email address above and we'll email you a temporary password."),e())},a.exports=SimpleLoginBox}),define("ui.SimpleTour",function(e,t,a){function SimpleTour(e){this.steps=e}SimpleTour.prototype.next=function(){var e=this,t=this.steps;t[this.idx].ctaText=this.idx<t.length-1?"Next":"Done",t[this.idx].onCtaClick=this.idx<t.length-1?function(){e.next()}:null,t[this.idx].ctaSubtext=this.idx<t.length-1?+this.idx+1+" of "+t.length:"",popup(t[this.idx].element,t[this.idx]),this.idx++},SimpleTour.prototype.run=function(){this.idx=0,this.next()},a.exports=SimpleTour}),define("ui.SinglePageDoc",function(e,t,a){var s=Math.ceil;function SinglePageDoc(){function noNotes(){t.notes={},t.tryToLoad()}var t=this;if(this.currentNode=nodeIndex[window.docNodeID],window.highlightingBeta&&(this.highlightControl=fs.mixAppend($(".toolbar .highlight-control"),"ui/DocHighlightControls",{})),window.MID){this.signUps=fs.mixAppend($("#viewerContainer .lecture-signups"),"ui/SignUps",{event:this.currentNode.getEvent()});var a=this.currentNode.getEvent().eventID;fs.post("/loadQuickFlashcards",{m:MID,nodeID:this.currentNode.nodeID},function(e){d.loadNodes(e.quesData);var s=d.createQuickFlashcards(e);for(var o in s)s[o].eventID=a;$.get(n.nodePath(t.currentNode)+"text.json?ts="+ +new Date,function(a){l.defer(function(){t.text=a,t.flashcards=s,t.matchData=e.matchData,t.tryToLoad()})})}),$("#reviewNotes").removeClass("hidden")}try{var s=this.currentNode.data().s.split(".").pop();"ppt"==s||"pptx"==s?$.get(n.nodePathS3(this.currentNode)+"notes.json?ts="+ +new Date,function(e){t.notes=e,t.tryToLoad()}).fail(function(){noNotes()}):noNotes()}catch(t){noNotes()}this.document=fs.mixAppend($(".ui-SinglePageDoc"),"ui/SinglePageDocContainer",{parent:this,src:"https://osmose-it.s3.amazonaws.com/"+this.currentNode.data().$,node:this.currentNode}),this.document.currentPage.subscribe(function(e){t.signUps&&(1==e?t.signUps.dom.show():t.signUps.dom.hide()),$("#pageNumber").val(e)}),urlQuery.p&&$("#pageNumber").val(urlQuery.p),this.document.currentScale.subscribe(function(){t.document.rendered&&t.document.rescale()}),$(document).on("mousedown touchstart",function(a){!t.highlightControl||1<=$(a.target).closest(".page").length&&(t.highlightControl.brushEnabled()||t.highlightControl.editActive())&&p.disableScroll()}),$(window).mousemove(function(){t.document.autosave()}),window.addEventListener("beforeunload",function(){t.document.autosave()}),$(window).resize(function(){t.refreshSVG()}),$(document).on("mouseup touchend",function(){p.enableScroll()}),$(document).on("click",".keyboardShortcuts",function(){t.showShortcuts()}),$(document).on("click","#zoom-in",function(){t.zoomIn()}),$(document).on("click","#zoom-out",function(){t.zoomOut()}),$(document).on("click","#next",function(){t.nextPage()}),$(document).on("click","#previous",function(){t.prevPage()}),$(document).on("blur","#pageNumber",function(){t.navToPage()}),$(document).on("click","#viewAs",function(){$(".viewAsDropdown").hasClass("hidden")?$(".viewAsDropdown").removeClass("hidden"):$(".viewAsDropdown").addClass("hidden")}),$(document).on("click",".viewAsDropdown #setDefault",function(){u("doc")}),$(document).on("click","#viewAsPdf",function(){window.location.href=window.location.href.replace("/doc/","/pdf/")}),$(document).on("click","#reviewNotes",function(){window.location.href="/"+navData.group.url+"/"+navData.module.url+"/notes"}),$(document).on("keyup",function(a){$("#pageNumber").is(":focus")&&13==a.which&&t.navToPage()}),$(document).on("keydown",function(a){if(a.altKey||a.shiftKey)a.shiftKey&&13==a.keyCode&&(a.preventDefault(),a.stopPropagation(),t.nextPage(),$(".private-notes",t.document.rightTrayContainer).show(),$(".private-notes .fr-element",t.document.rightTrayContainer).focus().click(),$(".add-section.add-notes",t.document.rightTrayContainer).hide()),a.altKey&&38==a.keyCode&&t.prevPage(),a.altKey&&40==a.keyCode&&t.nextPage();else switch(a.keyCode){case 32:window.captureSpacebarInput&&window.captureSpacebarInput();break;case 35:$(".fr-element").is(":focus")||$("input").is(":focus")||$("textarea").is(":focus")||!(t.document.currentPage()>t.document.numPages())||t.navToPage(t.document.numPages());break;case 36:$(".fr-element").is(":focus")||$("input").is(":focus")||$("textarea").is(":focus")||!(1<t.document.currentPage())||t.navToPage(1);break;case 37:$(".fr-element").is(":focus")||$("input").is(":focus")||$("textarea").is(":focus")||t.prevPage();break;case 39:$(".fr-element").is(":focus")||$("input").is(":focus")||$("textarea").is(":focus")||t.nextPage();}}),urlQuery.p||window.history.replaceState("","","?p="+this.document.currentPage())}var o=t("ui/SinglePageDocContainer"),d=t("app/recManager"),n=t("core/util"),l=t("app/wikify"),c=t("ui/pdf/coreutils"),p=t("app/scrollOverride"),u=t("ui/setDefaultViewer");SinglePageDoc.prototype.tryToLoad=function(){this.checkForLoad()&&(this.document.render(),this.document.parseText(this.text,this.flashcards,this.matchData),this.notes[this.document.currentPage()-1]&&this.document.addNotes(this.notes[this.document.currentPage()-1].trim()))},SinglePageDoc.prototype.checkForLoad=function(){return this.text&&this.notes&&this.document.pages[this.document.currentPage()]&&this.document.pages[this.document.currentPage()].loaded},SinglePageDoc.prototype.expandContentCards=function(e){this.document.expandContentCards(e)},SinglePageDoc.prototype.collapseContentCards=function(e){this.document.collapseContentCards(e)},SinglePageDoc.prototype.zoomIn=function(){var e=this.document.currentScale();if(2>e){var t=+(s(10*e)/10).toFixed(2)+.1;this.document.currentScale(t),this.refreshSVG()}},SinglePageDoc.prototype.zoomOut=function(){var e=this.document.currentScale();if(.5<e){var t=+(s(10*e)/10).toFixed(2)-.1;this.document.currentScale(t),this.refreshSVG()}},SinglePageDoc.prototype.refreshSVG=function(){window.requestAnimationFrame(function(){$(".redraw-svg svg.doc-page-svg").each(function(e,t){t.style.display="none",$(t).offset().top,t.style.display=""})})},SinglePageDoc.prototype.nextPage=function(){var e=this.document.currentPage(),t=this.document.numPages();e!=t&&(this.document.next(),this.updateUrl())},SinglePageDoc.prototype.prevPage=function(){var e=this.document.currentPage();1!=e&&(this.document.prev(),this.updateUrl())},SinglePageDoc.prototype.navToPage=function(){var e=+$("#pageNumber").val();this.document.navToPage(e),this.updateUrl()},SinglePageDoc.prototype.updateUrl=function(){window.history.pushState("","","?p="+this.document.currentPage())},SinglePageDoc.prototype.showShortcuts=function(){dialog("ui/dialogs/KeyboardShortcuts")},a.exports=SinglePageDoc}),define("ui.SinglePageDocContainer",function(e,t,a){var s=Math.floor;function SinglePageDocContainer(e,t){var a=this;this.node=t.node,this.nodeID=t.node.nodeID,this.loading=ko.observable(),this.fetchCount=ko.observable(),this.currentScale=ko.observable(1),this.expandCards=ko.observable(!1),this.numPages=ko.observable(),this.currentPage=ko.observable(urlQuery.p||1),this.pages={},this.idx=+this.currentPage(),e(this),this.url=t.src+"/assets/",$.get(a.url+"info.json?ts="+s(+new Date),function(e){a.info=e,a.numPages(a.info.numpages),a.slides&&a.getDoc(a.slides)}),n.clearCache();var o=fs.transpose(window.highlightData);for(var d in o){var l=o[d].content.split("|");for(var c in l)n.cacheAnnotation(o[d].nodeID,l[c])}this.slides=[];var p=t.node.children;for(var d in p)this.slides.push(p[d].nodeID);this.slides.sort(),this.info&&this.getDoc(this.slides),$(window).resize(function(){a.rescale()})}function fetch(e,t,a){return function(){e.fetchPage(t,a)}}function wikiLink(e,t){return"<span class=\"slide-wiki-term\" term=\""+t+"\">"+e+"</span>"}var o=t("ui/pdf/renderIndex"),d=t("ui/pdf/coreutils"),n=t("ui/pdf/annotationStore"),l=t("app/wikiResourceManager"),c=t("app/wikiTermResources"),p=t("app/wikify");SinglePageDocContainer.prototype.getDoc=function(e){var t=this,a=this.currentPage()-1;for(var s in this.fetchPage(this.currentPage(),e[a]),e)this.pages[+s+1]||s!=a&&setTimeout(fetch(t,+s+1,e[s]),250*s)},SinglePageDocContainer.prototype.fetchPage=function(e,t,a){var o=this;$.get(o.url+"page-"+e+".svg?ts="+s(+new Date),function(s){o.fetchCount(o.fetchCount()+1),o.pages[e]={svg:s,slideNodeID:t},(1==e&&1==o.currentPage()||e==o.currentPage()||a)&&o.loadSvg(e),o.fetchCount()==o.slides.length&&o.loading(!1)},"xml")},SinglePageDocContainer.prototype.addNotes=function(e){var t=this;p.defer(function(){$(".slide-notes",t.dom).append(e),p.wikifyElements($(".slide-notes",t.dom),{ref:"doc-slide",originID:t.node.nodeID}),t.rescale()})},SinglePageDocContainer.prototype.render=function(){this;if(this.rendered=!0,this.leftTrayContainer||(this.leftTrayContainer=$("<div class=\"page-tray page-left-tray\">").prependTo(this.dom)),this.rightTrayContainer||(this.rightTrayContainer=$("<div class=\"page-tray page-right-tray\">").appendTo(this.dom)),!this.footerContainer){var e=$("<div style=\"position:relative\">").prependTo(this.dom);this.footerContainer=$("<div class=\"doc-page-footer wikify\"><div class=\"wikiTerms content-text\"></div><div class=\"slide-notes content-text\"></div></div>").appendTo(e)}this.leftTray=fs.mixAppend(this.leftTrayContainer,"ui/PDFLeftTray",{parent:this,node:this.node.children[this.currentPage()-1],type:"single-doc"}),this.rightTray=fs.mixAppend(this.rightTrayContainer,"ui/PDFRightTray",{parent:this,node:this.node.children[this.currentPage()-1]}),this.rescale()},SinglePageDocContainer.prototype.rescale=function(){var e=120,t=450,a=600*this.currentScale(),s=a,o=$(window).width();s=(o-(e+t))*this.currentScale()>=a?(o-(e+t))*this.currentScale():(o-t)*this.currentScale()>=a?(o-t)*this.currentScale():(o-330)*this.currentScale()>=a?(o-t)*this.currentScale():o*this.currentScale(),o-s>=e+t||(o-s>=e+330?t=330:o-s>=t?leftTraywidth=0:330<=o-s?(t=330,e=0):(t=0,e=0)),0==e?this.leftTrayContainer.addClass("hidden"):this.leftTrayContainer.removeClass("hidden"),0==t?this.rightTrayContainer.addClass("hidden"):this.rightTrayContainer.removeClass("hidden"),this.leftTrayContainer.width(e),this.rightTrayContainer.width(t-10),$(".page",this.dom).width(s-10),this.footerContainer.width($(".page",this.dom).width()-32).css({"margin-left":e+"px",top:$(".page",this.dom).height()-2+"px"}),$(".page",this.dom).css({"margin-bottom":this.footerContainer.outerHeight()+20+"px"}),this.reloadAnnotationLayer(),this.leftTray&&this.leftTray.addMarginTerms()},SinglePageDocContainer.prototype.addAnnotationLayer=function(e,t){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("class","annotation-layer"),$(".page",this.dom).append(a),$(".annotation-layer",this.dom).css("width",$($(e),this.dom).width()).css("height",$($(e),this.dom).height()).attr("docNodeID",this.nodeID).attr("slideNodeID",t),this.scale=$($(e),this.dom).width()/this.info.dimensions.width;var s={viewBox:[0,0,this.info.dimensions.width,this.info.dimensions.height],scale:this.scale,rotation:0,offsetX:0,offsetY:0,transform:[this.scale,0,0,-1*this.scale,0,$($(e),this.dom).height()],width:$($(e),this.dom).width(),height:$($(e),this.dom).height(),fontScale:this.scale};o.render(a,s,n.getAnnotations(t))},SinglePageDocContainer.prototype.reloadAnnotationLayer=function(){var e=$(".annotation-layer",this.dom).attr("slideNodeID");$(".annotation-layer",this.dom).remove(),this.addAnnotationLayer($(".page .doc-page-svg",this.dom),e)},SinglePageDocContainer.prototype.loadSvg=function(e){var t=this;this.currentPage(e);var a=this.slides[e-1];window.currentDocumentID=this.nodeID,window.currentSlideNodeID=a;var s=this.pages[e];if(!s)return this.fetchPage(e,a,!0);var o=s.svg,d=document.importNode(o.documentElement,!0);d.className.baseVal+=" doc-page-svg",d.className.animVal+=" doc-page-svg",$("link",d).attr("href",t.url+"stylesheet.css"),$(d).css("width","100%"),$(d).css("height","100%"),$(".page",this.dom).css("width",""),this.rightTrayContainer&&this.rightTrayContainer.empty(),this.leftTrayContainer&&this.leftTrayContainer.empty(),this.footerContainer&&this.footerContainer.empty(),$("#InitDiv").append(d);var n=$(".page",t.dom);n.empty(),n.append(d),$(".page svg").addClass("svg-root"),t.addAnnotationLayer(d,a),this.pages[this.currentPage()].loaded=!0,this.parent.tryToLoad()},SinglePageDocContainer.prototype.sizeSvgPage=function(e){var t=$(e,this.dom).height(),a=$(e,this.dom).width(),s=$(window).height()-150;if(t>s){$(".page",this.dom).css("width",s*a/t-50)}else $(".page",this.dom).css("width","calc(100% - 50px)")},SinglePageDocContainer.prototype.parseText=function(e,t,a){var s=this;this.termSet||(this.termSet=l.wikifyDocument(e)),s.recommendResources(this.termSet,t,a),s.renderText()},SinglePageDocContainer.prototype.recommendResources=function(e,t,a){var s=a.strong,o=a.weak;for(var d in t){var n=t[d],l=s[n.nodeID];l&&l==this.currentPage()?!n.schedule||-7>n.schedule?(this.rightTray.addQuickFlashcardToSide(n),this.rightTray.osmosisAvatarController.visible(!0),this.rightTray.osmosisAvatarController.showBadge(!0),this.rightTray.osmosisAvatarController.count(+this.rightTray.osmosisAvatarController.count()+1),this.rightTray.hasQuestions(!0),this.expandCards()&&this.expandContentCards()):this.rightTray.osmosisAvatarController.visible(!1):o[n.nodeID]&&this.numPages()==this.currentPage()&&(this.pageCardPriority("last"),(!n.schedule||-7>n.schedule)&&this.rightTray.addQuickFlashcardToBottom(n))}for(var d in e.slide2terms[this.currentPage()]&&(this.slideTerms=e.slide2terms[this.currentPage()]),e.slide2terms)c.addFutureTerms(_.map(e.slide2terms[d],function(e){return e.term}))},SinglePageDocContainer.prototype.linkTermText=function(e){var t=this;e.mouseenter(function(t){window.getSelection().toString()||$("body").append("<div class=\"mouseover-term\">click: "+$(t.target).attr("term")+"</div>")}).mouseout(function(){$(".mouseover-term").remove()}).bind("click",function(a){window.getSelection().toString()||p.showResources($(a.target).attr("term"),$(a.target).text(),{ref:"doc-slide",originID:t.node.nodeID})})},SinglePageDocContainer.prototype.renderText=function(){var e=this;$(".doc-page-svg text tspan",this.dom).length&&(this.addSeeAlso(),$(".doc-page-svg text tspan",this.dom).addClass("content-text"),p.wikifyElements($(".doc-page-svg",this.dom),null,wikiLink),$(".slide-wiki-term",this.dom).each(function(t,a){e.linkTermText($(a))}))},SinglePageDocContainer.prototype.addSeeAlso=function(){var e=this,t=this.slideTerms;if(t){var a=[];c.getTermIcons(_.map(t,function(e){return e.term}),function(s){for(var o in t){var d=s[t[o].term];d&&a.push(t[o].term+" "+d)}for(var o in a.sort(),e.leftTray.fullTerms=t.slice(),e.leftTray.terms=[],t)e.leftTray.terms.push(t[o].term);a.length&&$(".wikiTerms",e.dom).html("See "+a.join(", ")),p.wikifyElements($(".wikify",e.dom),{ref:"doc-slide",originID:e.node.nodeID}),$(".wikiTerm",e.dom).each(function(e,t){$(t).html($(t).html().replace(/\s/g,"&nbsp;"))}),e.leftTray&&(e.leftTray.thumbnailIndex=s,e.leftTray.addMarginTerms())})}},SinglePageDocContainer.prototype.autosave=function(){this.rightTray&&this.rightTray.noteView&&this.rightTray.noteView.isModified&&this.rightTray.noteView.save()},SinglePageDocContainer.prototype.expandContentCards=function(e){for(var t in $(".osmosis-controller, .user-controller, .classmate-controllers").hide(),this.rightTray.userAvatarController.visible()&&this.rightTray.userContentCard.visible(!0),this.rightTray.osmosisAvatarController.visible()?$(".right-tray-assets .osmosis-assets",this.dom).show():$(".right-tray-assets .osmosis-assets",this.dom).hide(),this.rightTray.classmates.items)this.rightTray.classmates.items[t].visible(!0);this.rightTray.contentCardsExpanded(!0),this.rightTray.scrollTo(e),this.expandCards(!0)},SinglePageDocContainer.prototype.collapseContentCards=function(e){for(var t in $(".osmosis-controller, .user-controller, .classmate-controllers").show(),this.rightTray.userContentCard.visible(!1),$(".right-tray-assets .osmosis-assets",this.dom).hide(),this.rightTray.classmates.items)this.rightTray.classmates.items[t].visible(!1);this.rightTray.contentCardsExpanded(!1),this.rightTray.scrollTo(e),this.expandCards(!1)},SinglePageDocContainer.prototype.prev=function(){1<this.idx&&(this.autosave(),this.idx--,this.loadSvg(this.idx))},SinglePageDocContainer.prototype.next=function(){this.info&&this.idx<this.info.numpages&&(this.autosave(),this.idx++,this.loadSvg(this.idx))},SinglePageDocContainer.prototype.navToPage=function(e){e<=this.numPages()&&e!=this.currentPage()&&0<e&&(this.autosave(),this.idx=+e,this.loadSvg(this.idx))},a.exports=SinglePageDocContainer}),define("ui.SinglePageDocSlide",function(){}),define("ui.SlideUpBanner",function(e,t,a){function SlideUpBanner(e,t){this;this.imgSrc=t.imgSrc||"https://d3cdo0emj8d2qc.cloudfront.net/assets/3f0b38f3460c53ea736504767391293952d8f399.png",this.title=t.title,this.content=t.content,this.secondaryContent=t.secondaryContent,this.ctaAction=t.ctaAction,this.ctaText=t.ctaText,this.ctaTheme=t.ctaTheme||"btn-primary",this.onClose=t.onClose,this.delay=t.delay||0,e(this),this.init()}var s=t("core/ui");SlideUpBanner.prototype.init=function(){var e=this;this.dom.hide(),this.dom=this.dom.detach();var t=$("<div class=\"popup-notice\">");t.append(this.dom),$("body").append(t),setTimeout(function(){e.dom.slideDown()},this.delay)},SlideUpBanner.prototype.hideNotice=function(){this;this.dom.slideUp(function(){s.setScrollableHeights(),s.setMobileOnlyScrollableHeights(),s.setResponsiveClass(),s.setColumnResponsiveClass()}),this.onClose&&this.onClose()},SlideUpBanner.prototype.mainAction=function(){this.ctaAction&&this.ctaAction()},a.exports=SlideUpBanner}),define("ui.Snackbar",function(e,t,a){var s=function(){"use strict";function Snackbar(e,t){_classCallCheck(this,Snackbar),this.text=t.text,this.actions=t.actions,this.timer=t.timer||5e3,this.type=t.type,this.removing=ko.observable(!1),e(this)}return _createClass(Snackbar,[{key:"remove",value:function remove(){var e=this;this.removing(!0),setTimeout(function(){snackbarManager.shift(),e.dom.remove()},500)}},{key:"clearTimeout",value:function(e){function clearTimeout(){return e.apply(this,arguments)}return clearTimeout.toString=function(){return e.toString()},clearTimeout}(function(){clearTimeout(this.timeout)})},{key:"resetTimeout",value:function resetTimeout(){var e=this;this.timeout=setTimeout(function(){e.remove()},this.timer)}}],[{key:"manager",value:function manager(){return window.snackbarManager||(window.snackbarManager=new o),window.snackbarManager}},{key:"forbidType",value:function forbidType(e){var t=Snackbar.manager();t.forbidType(e)}},{key:"allowType",value:function allowType(e){var t=Snackbar.manager();t.allowType(e)}},{key:"show",value:function show(e){var t=Snackbar.manager();if(e.type&&t.forbidden.has(e.type))return null;e.grouped&&(t.forbidType(e.type),setTimeout(function(){t.allowType(e.type)},1));var a=fs.mixAppend($("body"),"ui/Snackbar",e);return t.push(a),a.timeout=setTimeout(function(){a.remove()},e.timer||5e3),a}}]),Snackbar}(),o=function(){"use strict";function SnackbarManager(){_classCallCheck(this,SnackbarManager),this.snackbars=[],this.forbidden=new Set}return _createClass(SnackbarManager,[{key:"groupType",value:function groupType(){}},{key:"ungroupType",value:function ungroupType(){}},{key:"forbidType",value:function forbidType(e){this.forbidden.add(e)}},{key:"allowType",value:function allowType(e){this.forbidden.delete(e)}},{key:"push",value:function push(e){$(e.dom).animate({bottom:"+=".concat(100*this.snackbars.length,"px")},500),this.snackbars.push(e)}},{key:"shift",value:function shift(){this.snackbars.shift();var e=!0,t=!1,a=void 0;try{for(var s=this.snackbars[Symbol.iterator](),o,d;!(e=(o=s.next()).done);e=!0)d=o.value,$(d.dom).animate({bottom:"-=100px"},500)}catch(e){t=!0,a=e}finally{try{e||null==s.return||s.return()}finally{if(t)throw a}}}}]),SnackbarManager}();a.exports=s}),define("ui.SocialShare",function(e,t,a){function SocialShare(e,t){this.header=t.header,this.link=t.link,this.buttonText=ko.observable("Copy link"),e(this)}var s=function copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=!!(0<document.getSelection().rangeCount)&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))};SocialShare.prototype.copyLink=function(){document.queryCommandSupported("copy")?(s(this.link),this.buttonText("Copied!")):fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\""+this.link+"\" />","Share Video","info")},SocialShare.prototype.fbShare=function(){var e="https://www.facebook.com/sharer.php?u="+this.link;FB.ui({method:"share",href:e},function(){})},SocialShare.prototype.twShare=function(){var e="https://twitter.com/intent/tweet?url="+this.link;window.open(e,"_blank")},a.exports=SocialShare}),define("ui.SpacedRepetition",function(e,t,a){var s=Math.round;function SpacedRepetition(e){function update(){t.update()}var t=this;this.repMode=ko.observable("unlimited"),this.sourceOsmosis=ko.observable(!0),this.sourceSchool=ko.observable(!0),this.coverage=ko.observable("any"),this.stats=ko.observable({available:0,answered:0,correct:0}),this.completedTodayCount=ko.observable(0),this.completedToday=ko.observable(" - "),e(this),this.repMode.subscribe(update),this.sourceOsmosis.subscribe(update),this.sourceSchool.subscribe(update),this.coverage.subscribe(update),this.update(),setTimeout(function(){t.positionBuildQuiz()},100),$(window).resize(function(){t.positionBuildQuiz()}),$(document).on("ui.heightChanged review.tabChanged",function(){t.positionBuildQuiz()})}var o=t("app/dbProgress"),d=t("ui/TimeSelector"),n=t("app/timezone");SpacedRepetition.prototype.getSource=function(){return this.source()},SpacedRepetition.prototype.update=function(){var e=this;fs.post("spacedRepetition",{repMode:this.repMode(),sourceOsmosis:this.sourceOsmosis(),sourceSchool:this.sourceSchool(),coverage:this.coverage()},function(t){for(var a in t.completedToday)o.todayIndex[t.completedToday[a]]=!0;e.stats({available:t.quiz.ids.length,accuracy:t.quiz.ids.length?s(100*t.correct/t.quiz.ids.length):" - "}),e.completedTodayCount(o.countToday(t.quiz.ids)),t.quiz.ids.length?e.completedToday(s(100*e.completedTodayCount()/t.quiz.ids.length)):e.completedToday(" - "),fs.empty($(".build-quiz",e.dom)),fs.mixAppend($(".build-quiz",e.dom),"ui/mobile/GeneralToDoQuiz",{quiz:t.quiz})})},SpacedRepetition.prototype.buildQuiz=function(){$(".build-quiz .rounded-btn",this.dom).click()},SpacedRepetition.prototype.positionBuildQuiz=function(){var e=$(window).height(),t=!1;$(".ui-TabOnboarding .banner-mode").is(":visible")&&(t=!0,e-=$(".ui-TabOnboarding .banner-mode").height());var a=$(".build-quiz",this.dom).outerHeight(),s=$(".build-quiz",this.dom).offset().top+$(".main-section",this.dom.closest(".tab-page")).scrollTop();if(this.dom.hasClass("fixed-quiz")?this.dom.offset().top+this.dom.height()+a<e&&this.dom.removeClass("fixed-quiz"):s+a>e&&this.dom.addClass("fixed-quiz"),this.dom.hasClass("fixed-quiz")){var o=$(".main-left-sidebar",this.dom.closest(".tab-page")),d=o.width();0==o.offset().left?$(".build-quiz-container",this.dom).css({left:15+d+"px",width:"calc(100% - "+(25+d)+"px)"}):$(".build-quiz-container",this.dom).css({left:"15px",width:"calc(100% - 25px)"})}else $(".build-quiz-container",this.dom).css({left:"auto",width:"auto"});t?$(".build-quiz-container",this.dom).addClass("banner-active"):$(".build-quiz-container",this.dom).removeClass("banner-active")},a.exports=SpacedRepetition}),define("ui.StatusBar",function(e,t,a){function statusBar(e,t){this;this.tab=t.tab,this.parent=t.parent,this.subframe=t.subframe,this.title=t.title,e(this),this.setCurrentBanner(),this.statusBarUI=fs.mixAppend($(".statusBar-content",this.dom),t.statusBarUI)}statusBar.prototype.setCurrentBanner=function(){this;$(".category",this.dom).html(this.subframe.nav.title),$(".filter",this.dom).html(this.title),$(".current-marker",this.dom).addClass(this.subframe.nav.icon),$(".current-banner",this.dom).addClass(this.subframe.nav.color)},a.exports=statusBar}),define("ui.StdCtrls",function(){}),define("ui.Step1OnboardingForm",function(e,t,a){function Step1OnboardingForm(){}Step1OnboardingForm.prototype.trySchedule=function(){this;this.parent.onboardingForm=null,this.parent.start()},Step1OnboardingForm.prototype.startSchedule=function(){var e=this;this.parent.parent.createStudyPlan(function(){e.parent.onboardingForm=null,e=e.parent.start()})},a.exports=Step1OnboardingForm}),define("ui.Step1PlanPassOptions",function(e,t,a){a.exports=function Step1PlanPassOptions(e,t){this.descr=ko.observableArray(t.descr)}}),define("ui.Step1SubjectOrder",function(e,t,a){function Step1SubjectOrder(e,t){var a=this;this.mode=ko.observable(t.mode||"order"),this.secondPassLength=ko.observable(),this.availableCount=t.days,this.subjects=ko.observableArray(),this.isExamDate={},this.activeSubject=ko.observable(),this.newEarlySubject=ko.observable(),this.possibleSubjects=d,this.subjects(processSubjects(t.subjects)),e(this),$(".subjects",this.dom).sortable({forcePlaceholderSize:!0,placeholderClass:"tab-placeholder",dragImage:null}).bind("sortupdate",function(t,e){var s=a.subjects.splice(e.oldindex,1);a.subjects.splice(e.index,0,s[0]),$(".subjects",a.dom).sortable()});ko.observable(moment())}function processSubjects(e){var t=[];for(var a in e){var s=e[a].subject,d=+e[a].count,n=o.name2id[s],l=ko.observable(moment());t.push({topic:s,length:ko.observable(d),icon:n?o.getIcon(n,50):""})}return t}var s=t("app/step1classic/step1"),o=t("shared/topics"),d=["Behavioral Science","Biochemistry","Cardiology","Endocrine","Epidemiology/Biostatistics","GI","Heme/Onc","Immunology","MSK","Metabolism","Microbiology","Neurology","Pathology","Pharmacology","Psychiatry","Pulmonology","Renal","Reproduction"];Step1SubjectOrder.prototype.removeSubject=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove "+e.title+" from this pass?",function(a){t.subjects.remove(e),a()})}},Step1SubjectOrder.prototype.changeDays=function(e,t){this;return function(){e.length(e.length()+t),0>e.length()&&e.length(0)}},Step1SubjectOrder.prototype.save=function(){var e=[],t=this.subjects();for(var a in t)e.push({subject:t[a].topic,count:t[a].length()});return e.length?e:null},Step1SubjectOrder.prototype.addSecondPass=function(){this.mode("second-pass-length")},Step1SubjectOrder.prototype.addEarly=function(){this.mode("early-subjects")},Step1SubjectOrder.prototype.previewSecondPass=function(){var e=this;5<this.secondPassLength()?this.availableCount()>=this.secondPassLength()?fs.post("getSchedulePassPreview",{scheduleID:s.scheduleID,days:this.secondPassLength()},function(t){e.subjects(processSubjects(t.subjects))}):fs.alert("You don't have enough unscheduled days in your first pass to build a "+this.secondPassLength()+"-day second pass. Try removing days from a few subjects to free up some time."):fs.alert("Because you want to do such a short 2nd pass, we recommend simply navigating back in your schedule and doing the 2nd pass manually.")},Step1SubjectOrder.prototype.addSubject=function(){var e=this.newEarlySubject(),t=this.subjects();for(var a in t)if(e==t[a].topic)return fs.alert("This subject has already been added!");this.subjects.push(processSubjects([{subject:e,count:5}])[0])},a.exports=Step1SubjectOrder}),define("ui.StepByStep",function(e,t,a){function StepByStep(e,t){var a=this;this.selected=t.selected||ko.observable(),this.highlight=ko.observable(1==window.user.prime.recs),this.steps=ko.observableArray(),this.colSize=ko.computed(function(){var e=a.steps().length;return 0==e||1==e?"col-xs-12":2==e?"col-xs-6":3==e?"col-xs-4":4==e?"col-xs-3":5==e?"col-xs-3":"col-xs-2"}),this.tabs=[]}StepByStep.prototype.add=function(e){var t=this,a=this.steps().length;e.css=ko.computed(function(){return t.colSize()+" "+e.status+" step"+a+"Content"}),e.dimmed=ko.computed(function(){return t.selected()!=e.title}),this.steps.push(e),this.tabs.push(e.title),$(".step"+a+"Content .smpl-step-icon",this.dom).tooltip(),1==this.steps().length&&this.selected(e.title)},StepByStep.prototype.select=function(e){var t=this;return function(){t.selected(e.title)}},a.exports=StepByStep}),define("ui.StoredCard",function(e,t,a){function StoredCard(){var e=this,t=this;this.lastFourDigits=ko.observable(),this.expMonth=ko.observable(),this.expMonthFormatted=ko.computed(function(){return moment(e.expMonth(),"MM").format("MM")}),this.expYear=ko.observable(),this.expYearFormatted=ko.computed(function(){return moment(e.expYear(),"YYYY").format("YY")}),this.isVisible=ko.observable(!0),this.stripeToken=ko.computed(function(){return JSON.stringify({lastFour:t.lastFourDigits(),expMonth:t.expMonth(),expYear:t.expYear()})})}StoredCard.prototype.removeCard=function(){$.post("/removeCard",{lastFourDigits:this.lastFourDigits(),expMonth:this.expMonth(),expYear:this.expYear()},function(e){console.log("res: ",e)})},a.exports=StoredCard}),define("ui.StreamingVideo",function(e,t){function hideVideoPlayer(){s.player&&(s.player.options_.width=0,s.player.options_.height=0),$(".divVideo").addClass("hidden")}function playLectureVideo(t){if(-1!=navigator.userAgent.search("Firefox"))return alert("Sorry, you're browser isn't compatible with the video player. Try Chrome (recommended) or Safari."),!1;if($(".divVideoContainer").height(200),$(".divVideoBtn").addClass("hidden"),$(".divVideo").removeClass("hidden"),$(document).trigger("ViewDoc.ResizeForVideo"),null==s.div){if(s.div=$("<video id=\"VideoContainer\" class=\"video-js vjs-default-skin\" width=\"100%\"></video>").appendTo(".divVideo"),s.args={controls:!0,preload:"auto",playbackRates:[.5,1,1.5,2,4,8],sources:[{src:"http://sensei.med.jhmi.edu/uploadedAssets/videos/"+t[0],type:"video/mp4"}],plugins:{persistspeed:!0}},1<t.length){var a=[];for(var o in t)0<o&&a.push({src:"http://sensei.med.jhmi.edu/uploadedAssets/videos/"+t[o],type:"video/mp4"});s.args.plugins.multipart=a}s.player=videojs("VideoContainer",s.args),s.player.bigPlayButton.hide(),e.bindVideoShortcuts(document),$(document).bind("keydown.space",function(t){t.preventDefault(),s.player.paused()?s.player.play():s.player.pause()})}return s.player.ready(function(){var e=this,t=$(".divVideo").offset();e.options_.width=$(".divVideo").parent().width(),e.options_.height=$(".divVideo").parent().height(),e.play()}),!0}var a=t("core/util"),s={div:null,player:null};e.init=function(){$(document).bind("TabNav.OnBeginNavigate",function(){s.player&&s.player.pause()})},e.expandToFillContainer=function(){s.player&&(s.player.options_.width=$(".divVideo").parent().width(),s.player.options_.height=$(".divVideo").parent().height())},e.bindVideoShortcuts=function(){},e.appendLectureVideo=function(e,t){hideVideoPlayer();var s=a.getVideoFilenames(e.data().v);t?(!playLectureVideo(s)&&$(".divVideoBtn .RoundCorners").click(function(){playLectureVideo(s)}),startVideo=!1):$(".divVideoBtn .RoundCorners").click(function(){playLectureVideo(s)})}}),define("ui.StudyPlan",function(e,t,a){function StudyPlan(e,t){var a=t.plan;a.schedule=a.schedule||{},this.hasScheduledQues=ko.observable(0<a.ques.today.ques.length+a.ques.today.fc.length+a.ques.old.ques.length+a.ques.old.fc.length),this.studyTarget=ko.observable(a.schedule.name),this.hasMultipleTargets=ko.observable(),this.studyType=ko.observable(),this.examDate=ko.observable(),this.topicStr=ko.observable(),this.planItems=ko.observableArray();var s=a.schedule.typeOrder||"before";a.ques.today.ques.length&&"before"!=s&&this.planItems.push(new StudyPlanItem("ques",merge(a.ques.today.ques,a.ques.old.ques)," questions")),a.ques.today.fc.length&&this.planItems.push(new StudyPlanItem("fc",a.ques.today.fc," flashcards scheduled for today")),a.ques.old.fc.length&&this.planItems.push(new StudyPlanItem("fc",a.ques.old.fc," flashcards to catch up on")),a.ques.today.ques.length&&"before"==s&&this.planItems.push(new StudyPlanItem("ques",merge(a.ques.today.ques,a.ques.old.ques)," questions")),loadQues(this.planItems()),this.prefixPlanItems()}function loadQues(e){var t=[];for(var a in e){var o=e[a].nodeIDs;for(var d in o)t.push(o[d])}t.length&&fs.post("mobileGetQuesNodes",{ids:t},function(e){s.loadNodes(e)})}function merge(e,t){var a=[];for(var s in e)a.push(e[s]);for(var s in t)a.push(t[s]);return a}function StudyPlanItem(e,t,a){this.kind=e,this.active=ko.observable(!0),this.prefix=ko.observable(),this.type=ko.observable(t.length+a),this.nodeIDs=t}var s=t("app/recManager");StudyPlanItem.prototype.skip=function(){this.active(!1)},StudyPlanItem.prototype.unskip=function(){this.active(!0)},StudyPlan.prototype.changeStudyTarget=function(){},StudyPlan.prototype.reconfigure=function(){},StudyPlan.prototype.selectQuiz=function(){var e=[],t=this.planItems();for(var a in t)if(t[a].active()){var s=t[a].nodeIDs;for(var o in s)e.push(s[o])}return e},StudyPlan.prototype.getFirstSetType=function(){var e=this.planItems();for(var t in e)if(e[t].active())return"ques"==e[t].kind?"questions":"flashcards";return"questions"},StudyPlan.prototype.startStudying=function(){var e=this.selectQuiz();window.persistRecNodeIDs=e,window.startImmediately=!0,tabToURL(urlPrefix+"/review/"+this.getFirstSetType())},StudyPlan.prototype.manuallySelect=function(){window.localStorage.setItem("blockPrime","1"),document.location=""},StudyPlan.prototype.prefixPlanItems=function(){var e=this.planItems();2==e.length?(e[0].prefix("We'll start with "),e[1].prefix("And wrap things up with ")):3==e.length?(e[0].prefix("We'll start with "),e[1].prefix("After that, you'll get "),e[2].prefix("If you're still hanging in there you'll get ")):4==e.length&&(e[0].prefix("We'll start with "),e[1].prefix("After that, you'll get "),e[2].prefix("If you're still hanging in there you'll get "),e[3].prefix("And finally, you'll get "))},StudyPlan.prototype.refresh=function(){window.location.reload()},a.exports=StudyPlan}),define("ui.StudyPlanConfig",function(e,t,a){function switchToWebPlatform(e){uquery.say("Great, Osmosis can help you prepare for "+e+". You should start on the web platform (preferably accessed from a computer/laptop). This mobile app will be used by the web platform to prompt you to do scheduled reviews. We've sent you an email to explain how to get started (so grab the nearest computer and take a look).")}function askAboutExams(){uquery.ask("Which of the following is the next exam you will take?",{"School Exam (i.e., in a course at your school)":function SchoolExamIEInACourseAtYourSchool(){uquery.commit("exam","School exam"),uquery.test("has groups to join",{yes:function yes(){ask("Are you a member of any of these at your school? If so, you can join one of these groups on Osmosis.",{})},no:function no(){switchToWebPlatform("your school exam")}})},"USMLE Step 1":function USMLEStep1(){uquery.commit("exam","USMLE Step 1"),uquery.askDate("When will you be taking Step 1?",function(e){o.examDate=e,switchToWebPlatform("Step 1")})},"NBME Shelf Exam":function NBMEShelfExam(){uquery.commit("exam","NBME Shelf Exam"),uquery.askDate("When will you be taking the shelf exam?",function(){switchToWebPlatform("a shelf exam")})},"USMLE Step 2":function USMLEStep2(){uquery.commit("exam","USMLE Step 2"),uquery.askDate("When will you be taking Step 2?",function(){switchToWebPlatform("Step 2")})},"USMLE Step 3":function USMLEStep3(){uquery.commit("exam","USMLE Step 3"),uquery.contactUsAbout("content for Step 3. Tell us a little about yourself so we'll know how best to help.")},"Board Recertification Exam":function BoardRecertificationExam(){uquery.commit("exam","recertification"),uquery.contactUsAbout("content for recertification exams. Tell us a little about yourself and so we'll know how best to help.")},"None of the above":function NoneOfTheAbove(){uquery.commit("exam","none"),uquery.contactUsAbout("how best to use Osmosis. Tell us a little about yourself so we'll know how best to help.")}})}function startSurvey(){ask("Which of the following best describes where you are in your medical training:",{"Primarily preclinical coursework":function PrimarilyPreclinicalCoursework(){askAboutExams("Primarily preclinical coursework")},"Primarily rotations (wards)":function PrimarilyRotationsWards(){askAboutExams("Primarily rotations (wards)")},Residency:function Residency(){askAboutExams("Residency")},"Practicing physician":function PracticingPhysician(){askAboutExams("Practicing physician")},Other:function Other(){uquery.ask("Do any of the following apply to you?",{"I'm an administrator at a medical school":function IMAnAdministratorAtAMedicalSchool(){},"I'm faculty at a medical school":function IMFacultyAtAMedicalSchool(){},"I'm a student but not in medicine":function IMAStudentButNotInMedicine(){uquery.test("is in a group",{yes:function yes(){},no:function no(){}})},"I'm an instructor but not in medicine":function IMAnInstructorButNotInMedicine(){},"None of these apply":function NoneOfTheseApply(){contactUsAbout("your field. We'd love to hear from you and how we could customize Osmosis for your field.")}})}})}var s=new t("app/UQuery")(),o={};e.run=function(){uquery.test("has name",{yes:function yes(){startSurvey()},no:function no(){uquery.shortPrompt("Hi, welcome to Osmosis. What's your name?",function(){startSurvey()},"Please enter a first and last name.")}})},a.exports=function StudyPlanConfig(e){e(this);var t=new s(this.dom);t.ask("Which of the following is the next exam you will take?",{"USMLE Step 1":function USMLEStep1(){t.commit("exam","USMLE Step 1"),t.askDate("When will you be taking Step 1?",function(e){o.examDate=e,switchToWebPlatform("Step 1")})},"NBME Shelf Exam":function NBMEShelfExam(){t.commit("exam","NBME Shelf Exam"),t.askDate("When will you be taking the shelf exam?",function(){switchToWebPlatform("a shelf exam")})},"USMLE Step 2":function USMLEStep2(){t.commit("exam","USMLE Step 2"),t.askDate("When will you be taking Step 2?",function(){switchToWebPlatform("Step 2")})},"USMLE Step 3":function USMLEStep3(){t.commit("exam","USMLE Step 3"),t.contactUsAbout("content for Step 3. Tell us a little about yourself so we'll know how best to help.")},"Board Recertification Exam":function BoardRecertificationExam(){t.commit("exam","recertification"),t.contactUsAbout("content for recertification exams. Tell us a little about yourself and so we'll know how best to help.")},"None of the above":function NoneOfTheAbove(){t.commit("exam","none"),t.contactUsAbout("how best to use Osmosis. Tell us a little about yourself so we'll know how best to help.")}})}}),define("ui.StudyPlanRepeatDays",function(e,t,a){function StudyPlanRepeatDays(e,t){this.endDate=t.endDate||moment().add(1,"years").format("YYYY-MM-DD"),this.startDate=moment().format("YYYY-MM-DD"),this.excludeDays=ko.observableArray(),this.addMore()}StudyPlanRepeatDays.prototype.getValue=function(){var e=[],t=!0,a=!1,s=void 0;try{for(var o=this.excludeDays()[Symbol.iterator](),d,n;!(t=(d=o.next()).done);t=!0)if(n=d.value,"true"===n.every())e.push({days:n.days(),start:moment().format("YYYY-MM-DD"),stop:this.endDate});else{if(moment(n.start()).isAfter(moment(n.stop()))){var l=n.start();n.start(n.stop()),n.stop(l)}e.push({start:n.start(),stop:n.stop(),days:n.days()})}}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}return e},StudyPlanRepeatDays.prototype.addMore=function(){this.excludeDays.push({start:ko.observable(),stop:ko.observable(),days:ko.observableArray([]),every:ko.observable("true")})},StudyPlanRepeatDays.prototype.dayOfTheWeek=function(e){return e().join(", ")},StudyPlanRepeatDays.prototype.diff=function(e,t){return e()&&t()?moment(e()).diff(t(),"days"):0},a.exports=StudyPlanRepeatDays}),define("ui.StudyPlanVacations",function(e,t,a){function StudyPlanVacations(){this.vacations=ko.observableArray(),this.addMore()}StudyPlanVacations.prototype.getValue=function(){var e=[],t=this.vacations();for(var a in t)e.push({start:t[a].start(),stop:t[a].stop()});return e},StudyPlanVacations.prototype.addMore=function(){this.vacations.push({start:ko.observable(),stop:ko.observable()})},StudyPlanVacations.prototype.diff=function(e,t){return e()&&t()?moment(e()).diff(t(),"days"):0},a.exports=StudyPlanVacations}),define("ui.StudyPreferencesSidetab",function(e,t,a){var s=t("ui/clinical/medSchoolSchedule");a.exports=function StudyPreferencesSidetab(e){this;e(this);var t=s.get();this.prefs=fs.mix(this,"ui/DashboardStudyPreferences"),t.prefs=this.prefs,this.prefs.updateCB=function(){t.update()}}}),define("ui.StudyScheduleClassicSummary",function(e,t,a){function StudyScheduleSummary(){var e=this;this.startDate=ko.observable(),this.startDateStr=ko.computed(function(){return moment(e.startDate()).format("MMM D, YYYY")}),this.examDate=ko.observable(),this.examDateStr=ko.computed(function(){return moment(e.examDate()).format("MMM D, YYYY")}),this.dDate=ko.observable(),this.dDateStr=ko.computed(function(){return moment(e.dDate()).format("MMM D, YYYY")}),this.totalLen=ko.observable(),this.eTotalLen=ko.observable(),this.dTotalLen=ko.observable(),this.faVersion=ko.observable(),this.eExcluded=ko.observable(),this.dExcluded=ko.observable(),this.uwRate=ko.observable()}var s=t("shared/step1classic/step1");StudyScheduleSummary.prototype.formatWeeks=function(e){var t=Math.floor(e/7);return .5<e/7-t?t+".5":t},StudyScheduleSummary.prototype.load=function(e){for(var t in e.startDate&&e.dDate&&(e.eExcluded=s.computeExclusions(e,"e",e.startDate,moment(e.dDate).add(-1,"days"))),e.dDate&&e.examDate&&(e.dExcluded=s.computeExclusions(e,"d",e.dDate,e.examDate)),e)this[t]&&this[t](e[t])},a.exports=StudyScheduleSummary}),define("ui.StudyScheduleDateList",function(e,t,a){function StudyScheduleDateList(e,t){var a=this,s=t.schedule;this.schedule=t.schedule,this.days=ko.observableArray(),this.isExamDate={},this.selectedDate=ko.observable(),this.newScheduleBannerDismissed=ko.observable(!1),this.newScheduleBannerHasBeenDisplayed=ko.observable(!1),this.showNewScheduleBanner=ko.computed(function(){return!1;var e=_.min(this.days(),function(e){return e.timestamp}).date,t=_.max(this.days(),function(e){return e.timestamp}).date},this),this.runningScrollCheck=!1,e(this),$(".todo-list-column").scroll(function(){a.runningScrollCheck||(a.runningScrollCheck=!0,a.checkScrollCurrentDate())}),$(".new-study-banner",this.dom).insertBefore(".schedule-sidebar")}function dates2array(e){var t=[];for(var a in e)t.push({date:e[a],text:moment(e[a]).format("dddd,  MMM D"),timestamp:moment(e[a]).unix()});return t}t("shared/topics");StudyScheduleDateList.prototype.checkScrollCurrentDate=function(){$(".todo-list-column.scrollable");for(var e in this.days()){var t=$("div[data-timestamp="+this.days()[e].timestamp+"]"),a=.6*($(window).height()-50);t.length&&t.offset().top<a&&this.selectedDate(this.days()[e].date)}this.runningScrollCheck=!1},StudyScheduleDateList.prototype.scrollToDate=function(e){var t=this,a=$("div[data-timestamp="+e+"]");if(e&&a.length){var s=$(a).closest(".scrollable"),o=a.position().top;this.runningScrollCheck=!0,s.animate({scrollTop:o-15},500,function(){t.runningScrollCheck=!1})}},StudyScheduleDateList.prototype.setDays=function(e){var t=dates2array(e);this.days(t),this.selectedDate(t[0].date),this.newScheduleBannerDismissed(!1),this.newScheduleBannerHasBeenDisplayed(!1)},StudyScheduleDateList.prototype.removeFreeTime=function(e){var t=this;return function(){t.subjects.remove(e),t.save()}},StudyScheduleDateList.prototype.updateSubjectDates=function(e){var t=moment(this.schedule.begin),a=t;for(var s in e=e||this.subjects(),e)this.isExamDate[a.format("YYYY-MM-DD")]&&a.add(1,"day"),e[s].moment(moment(a)),e[s].exams=[],a.add(+e[s].length()+e[s].exams.length,"days")},StudyScheduleDateList.prototype.changeSubjectLength=function(e){var t=this;return function(){fs.prompt("Enter the number of days you'd like to spend on this subject:","Set Length","primary",function(a,s){0<=a?(e.length(a),t.updateSubjectDates(),t.save(),tour.validate("step1:3")&&setTimeout(function(){tour.next("step1:3")},1e3),s()):fs.alert("Srsly? The number of days cannot be less than 0!",s)},e.length())}},StudyScheduleDateList.prototype.clickDay=function(e){var t=this;return function(){t.selectedDate(e.date),t.scrollToDate(moment(e.date).unix())}},StudyScheduleDateList.prototype.jumpToCurrent=function(){var e=+moment(window.user.day.begin),t=moment(e).format("YYYY-MM-DD");this.selectedDate()!=t&&(this.selectedDate(t),this.scrollToDate(moment(t).unix()))},StudyScheduleDateList.prototype.dismissNewScheduleBanner=function(){this.newScheduleBannerDismissed(!0)},StudyScheduleDateList.prototype.getNewSchedule=function(){window.location.href="/study/calendar"},a.exports=StudyScheduleDateList}),define("ui.StudyScheduleMap",function(e,t,a){function StudyScheduleSummary(){this.heading=ko.observable("Start Studying"),this.message=ko.observable(moment().format("MMM D, YYYY"))}t("shared/studyDaysOff");StudyScheduleSummary.prototype.load=function(){},a.exports=StudyScheduleSummary}),define("ui.StudyScheduleSummary",function(e,t,a){function StudyScheduleSummary(){var e=this;this.startDate=ko.observable(),this.startDateStr=ko.computed(function(){return moment(e.startDate()).format("MMM D, YYYY")}),this.examDate=ko.observable(),this.examDateStr=ko.computed(function(){return moment(e.examDate()).format("MMM D, YYYY")}),this.dDate=ko.observable(),this.dDateStr=ko.computed(function(){return moment(e.dDate()).format("MMM D, YYYY")}),this.totalLen=ko.observable(),this.eTotalLen=ko.observable(),this.dTotalLen=ko.observable(),this.faVersion=ko.observable(),this.eExcluded=ko.observable(),this.dExcluded=ko.observable(),this.uwRate=ko.observable()}t("shared/studyDaysOff");StudyScheduleSummary.prototype.formatWeeks=function(e){var t=Math.floor(e/7);return .5<e/7-t?t+".5":t},StudyScheduleSummary.prototype.load=function(e){for(var t in e)this[t]&&this[t](e[t])},a.exports=StudyScheduleSummary}),define("ui.StudyStep",function(e,t,a){a.exports=function StudyStep(e,t){this.title=ko.observable(t.title),this.alwaysVisible=ko.observable(!1),this.dashboard=t.dashboard,this.completed=t.completed||ko.observable(!1),e(this),this.studyBlock=fs.mix(this,t.viewModel,t,{matchName:"studyBlock"})}}),define("ui.StudyTimeline",function(e,t,a){function StudyTimeline(e,t){this.icons=ko.observableArray(),this.topicTitle=ko.observable(),this.prevTopicTitle=ko.observable(),this.nextTopicTitle=ko.observable();var a=t.blocks;this.groups=_.map(_.groupBy(a,function(e){return e.start}),function(e,t){return{start:t,group:e}}),this.groups.sort(function(e,t){return+new Date(e.start)-+new Date(t.start)}),populateRanges(this.groups),e(this),this.dateList=fs.mix(this,"ui/StudyScheduleDateList"),this.today=moment().format("YYYY-MM-DD"),this.jumpTo(this.indexOf(this.today)||0)}function populateRanges(e){for(var t in e){var a=_.map(e[t].group,function(e){return e.stop});e[t].stop=_.max(a,function(e){return new Date(e)})}}var s=t("shared/topics");StudyTimeline.prototype.indexOf=function(e){var t=this.groups;for(var a in t)if(+new Date(e)>=+new Date(t[a].start)&&+new Date(e)<=+new Date(t[a].stop))return a;return null},StudyTimeline.prototype.getTitle=function(e,t){var a=_.map(this.groups[e].group,function(e){return e.block}),s=seriesStr(a);return s==t?s+" (cont.)":s},StudyTimeline.prototype.jumpTo=function(e){var t=this;this.idx=+e;var a=this.groups[this.idx],o=_.map(a.group,function(e){return e.block});for(var d in this.icons.removeAll(),o){var n=s.name2id[o[d]];n&&this.icons.push(s.getIcon(n,50))}0<this.idx?this.prevTopicTitle(this.getTitle(this.idx-1)):this.prevTopicTitle(""),this.idx<this.groups.length-1?this.nextTopicTitle(this.getTitle(this.idx+1,this.prevTopicTitle())):this.nextTopicTitle(""),this.topicTitle(this.getTitle(this.idx));for(var l=[],c=moment(a.start).add(-1,"days"),p=moment(a.stop),u;0>=c.add(1,"days").diff(p);)u=c.format("YYYY-MM-DD"),l.push(u);this.days=l,this.dateList.setDays(l),this.parent.loadBlock(this.topicTitle(),this.days[0],this.days[this.days.length-1],function(){t.dateList.jumpToCurrent()})},StudyTimeline.prototype.prevBlock=function(){if(0<this.idx)this.idx--;else return;this.jumpTo(this.idx)},StudyTimeline.prototype.nextBlock=function(){if(this.idx<this.groups.length-1)this.idx++;else return;this.jumpTo(this.idx)},a.exports=StudyTimeline}),define("ui.SubdeckRow",function(e,t,a){function SubdeckRow(e,t){this.tagID=t.tagID,this.indent=ko.observable(0),this.deckTheme=ko.observable(t.deckTheme),s.call(this,e,t);var a=this.name().split("::");this.name(1<a.length?a.slice(1).join("::"):a[0]),this.indent(t.indent),this.deckTheme(t.deckTheme)}var s=t("ui/DeckRow");fs.extend(SubdeckRow,s),a.exports=SubdeckRow}),define("ui.SubjectsNav",function(e,t,a){function SubjectsNav(e,t){var a=this;this.controlbarExpanded=window.controlbarExpanded,this.subjects=ko.observableArray([]),this.sections=t.sections,this.current=t.current,this.currentSection=t.currentSection||function(){},this.search=t.search;var s=function _loop16(){if("Osteopathic Principles"===name)return"continue";var e={name:name,link:"/home/search?topic=".concat(name.replace(/\s/g,"_"),"&show=concepts")};e.isCurrent=ko.computed(function(){return e.name===(a.currentSection()&&a.currentSection())}),a.subjects.push(e)};for(name in window.videoSubjects){var o=s()}this.subjects(_.sortBy(this.subjects(),"name"));var d=this;e(this),d.firstRun=!0}SubjectsNav.prototype.scrollToSection=function(e){var t=e.toLowerCase(),a=$(".ui-resourceMap-ProgressBar.".concat(t));if(a.offset()){var s=$(".scrollable");s.animate({scrollTop:a.offset().top-a.outerHeight()+s.scrollTop()},"fast")}},SubjectsNav.prototype.isCurrent=function(e){return e.name===(this.currentSection()&&this.currentSection().name)},SubjectsNav.prototype.switchTopic=function(e){var t=this;return function(){urlQuery.topic=e,urlQuery.from=null,urlQuery.section=null;var a="/home/search?topic=".concat(e,"&show=concepts");window.history.pushState("","",a),window.controlbarExpanded(!1),$(".scrollable").animate({scrollTop:0},"fast"),t.search?t.search.show():window.location.href=a.replace(/\s/g,"_")}},a.exports=SubjectsNav}),define("ui.SubmitReviewForm",function(e,t,a){var s=t("ui/account/ProfessionData"),o=function(){"use strict";function SubmitReviewForm(e){var t=this;_classCallCheck(this,SubmitReviewForm),this.isLoading=ko.observable(!1),this.headshotLoading=ko.observable(!1),this.accountSettingsLoaded=!1,this.professions=s.professions,this.reviewSubmitted=ko.observable(!1),this.profile={preferredName:ko.observable(),lastName:ko.observable(),school:{id:ko.observable(0),formalName:ko.observable(),nickname:ko.observable()},degree:ko.observable(),classYear:ko.observable()},this.profile.school.formalName.subscribe(this.updateSchool.bind(this)),this.classYears=ko.computed(function(){var e=[];if(t.profile.degree()){var a=_.findWhere(t.professions,{name:t.profile.degree()});a&&a.classYears&&(e=_.map(a.classYears,function(e){return{id:e,name:s.classYears[e]}}))}return e}),this.availableSchools=ko.observableArray(),this.whyLove=ko.observable(),this.switchedReason=ko.observable(),this.defaultHeadshot="https://d16qt3wv6xm098.cloudfront.net/-qVX6oV4TPyrSdmhjwbcikMHSCyKImxr/_.jpg",this.headshot=ko.observable(this.defaultHeadshot),this.videoLink=ko.observable(),this.videoFile=ko.observable(),this.permissionGranted=ko.observable(!1),this.studentContactPermission=ko.observable(!1);var a=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/g;this.validInputs={preferredName:ko.computed(function(){return!!t.profile.preferredName()}),lastName:ko.computed(function(){return!!t.profile.lastName()}),degree:ko.computed(function(){return!!t.profile.degree()&&t.professions.find(function(e){return e.name===t.profile.degree()})}),school:ko.computed(function(){return!!t.profile.school.formalName()}),classYear:ko.computed(function(){return!!t.profile.classYear()&&t.classYears().find(function(e){return e.name===t.profile.classYear()})||0===t.classYears().length}),whyLove:ko.computed(function(){return!!t.whyLove()}),headshot:ko.computed(function(){return t.headshot()!==t.defaultHeadshot}),videoLink:ko.computed(function(){return a.test(t.videoLink())}),videoFile:ko.computed(function(){return!!t.videoFile()})},this.completedSections={profile:ko.computed(function(){return t.validInputs.preferredName()&&t.validInputs.lastName()&&t.validInputs.degree()&&t.validInputs.school()&&t.validInputs.classYear()}),testimonials:ko.computed(function(){return t.validInputs.whyLove()}),headshot:ko.computed(function(){return t.validInputs.headshot()}),video:ko.computed(function(){return t.validInputs.videoLink()||t.validInputs.videoFile()})},this.validForm=ko.computed(this.__validForm.bind(this)),this.inputsUsed={preferredName:ko.observable(!1),lastName:ko.observable(!1),degree:ko.observable(!1),school:ko.observable(!1),whyLove:ko.observable(!1)},this.profile.preferredName.subscribe(function(){t.inputsUsed.preferredName(!0)}),this.profile.lastName.subscribe(function(){t.inputsUsed.lastName(!0)}),this.profile.degree.subscribe(function(){t.inputsUsed.degree(!0)}),this.profile.school.formalName.subscribe(function(){t.inputsUsed.school(!0)}),this.whyLove.subscribe(function(){t.inputsUsed.whyLove(!0)}),e(this),this.renderInputs(),this.loadSchools(),this.renderUploaders(),this.renderDropdowns()}return _createClass(SubmitReviewForm,[{key:"loadAccountSettings",value:function loadAccountSettings(){var e=this;this.isLoading(!0),fs.post("getAccountSettings",{},function(t){for(var a in window.hasOwnProperty("account")||(window.account={}),t)window.account[a]=t[a];e.isLoading(!1),e.accountSettingsLoaded=!0,e.setProfileProps(),e.renderInputs()})}},{key:"loadSchools",value:function loadSchools(){var e=this;window.schools?(this.availableSchools(window.schools),this.initAutocomplete()):fs.post("getAllSchools",{},function(t){_.each(t.schools.schoolID,function(a,s){e.availableSchools.push({id:a,formalName:t.schools.formalName[s],nickname:t.schools.nickname[s]})}),window.schools=e.availableSchools(),e.initAutocomplete()})}},{key:"initAutocomplete",value:function initAutocomplete(){var e=this;$("#submit-a-review-input-school",this.dom).autocomplete("/v0/school/autocomplete",{method:"get",delay:10,minChars:3,maxItemsToShow:10,matchSubset:1,autoFill:!1,onItemSelect:function onItemSelect(t){e.updateSchool(t.textContent)}})}},{key:"renderInputs",value:function renderInputs(){if(!this.accountSettingsLoaded&&!this.isLoading())return void this.loadAccountSettings()}},{key:"renderDropdowns",value:function renderDropdowns(){fs.mixAppend($(".school-year-dropdown",this.dom),"ui/Dropdown",{placeholder:"Select year",options:this.classYears,optionsText:"name",optionsValue:"name",value:this.profile.classYear})}},{key:"renderUploaders",value:function renderUploaders(){var e=this;this.headshotUploader=fs.mixAppend($(".submit-a-review-headshot-input",this.dom),"ui/Uploader",{hideDropbox:!0,s3BucketName:"osmosis-temp",uploaderConfig:{chunk_size:"30mb",max_file_size:"30mb",filters:[{title:"Image",extensions:"jpeg,jpg,png"}]},onBeforeUpload:function onBeforeUpload(){e.headshotLoading(!0)},uploadCompletion:function uploadCompletion(t){e.headshotLoading(!1),e.headshotAjaxDone&&(e.headshotAjaxDone(),e.headshotAjaxDone=null),fs.post("resizeImage",{key:t.uploadData.$},function(){e.headshot("https://osmose-it.s3.amazonaws.com/".concat(t.uploadData.$))})}})}},{key:"setProfileProps",value:function setProfileProps(){window.account&&(window.account.preferredName&&this.profile.preferredName(window.account.preferredName),window.account.lastName&&this.profile.lastName(window.account.lastName)),window.user&&window.user.profile&&(window.user.profile.degree&&this.profile.degree(window.user.profile.degree),window.user.profile.school&&(this.profile.school.formalName(window.user.profile.school),this.profile.school.id(window.user.profile.schoolID||0)),window.user.profile.classYear&&this.profile.classYear(window.user.profile.classYear))}},{key:"updateProfile",value:function updateProfile(){var e=!1,t;window.user&&window.user.profile?(t=window.user.profile,t.career={},t.degree!==this.profile.degree()&&(t.career.degree=this.profile.degree(),e=!0),t.classYear!==this.profile.classYear()&&(t.career.classYear=this.profile.classYear(),e=!0),t.school!==this.profile.school.formalName()&&(t.school=this.profile.school.formalName(),e=!0)):(t={career:{degree:this.profile.degree(),classYear:this.profile.classYear()},school:this.profile.school.formalName()},e=!0),e&&fs.post("updateUserProfile",{profile:t})}},{key:"selectDegree",value:function selectDegree(e){var t=this;return function(){t.profile.degree(e)}}},{key:"uploadHeadshotTrigger",value:function uploadHeadshotTrigger(e){this.headshotUploader?(this.headshotAjaxDone=e,this.headshotUploader.triggerCompUpload()):e()}},{key:"submitReview",value:function submitReview(e){var t=this,a={name:this.profile.preferredName()+" "+this.profile.lastName(),school:this.profile.school.formalName(),year:s.classYear2Number[this.profile.classYear()],love:this.whyLove(),field:this.profile.degree(),market:this.permissionGranted()?"yes":"no",share:this.studentContactPermission()?"yes":"no"};this.headshot()&&this.headshot()!=this.defaultHeadshot&&(a.headshot=this.headshot()),this.switchedReason()&&(a.switched=this.switchedReason()),this.videoFile()&&(a.video=this.videoFile()),this.videoLink()&&(a.video=this.videoLink()),this.updateProfile(),fs.post("/submitReview",a,function(){e(),t.reviewSubmitted(!0)})}},{key:"updateSchool",value:function updateSchool(e){var t=_.find(this.availableSchools(),function(t){return t.formalName===e});this.profile.school.formalName(e),t?(this.profile.school.id(t.id),this.profile.school.nickname(t.nickname)):(this.profile.school.id(0),this.profile.school.nickname(""))}},{key:"__validForm",value:function __validForm(){return!!(this.permissionGranted()&&this.validInputs.whyLove()&&this.validInputs.preferredName&&this.validInputs.lastName()&&this.validInputs.degree()&&this.validInputs.school()&&this.validInputs.classYear())}}]),SubmitReviewForm}();a.exports=o}),define("ui.SummaryPopup",function(e,t,a){var s=function(){"use strict";function SummaryPopup(e,t){for(var a in _classCallCheck(this,SummaryPopup),this.content=t.content,this.title=t.title,this.features=ko.observableArray(),t.features){var s={name:a};if(s.icon=this.getIconFor(s),s.icon){if("flashcards"==a&&!t.features[a][0].data.progress.available)continue;if("questions"==a&&(!t.features[a][0].data.step1.progress.available||!t.features[a][0].data.step2.progress.available))continue;s.data=t.features[a],this.features.push(s)}}e(this),$(".features img").tooltip({placement:"top"})}return _createClass(SummaryPopup,[{key:"getIconFor",value:function getIconFor(e){switch(e.name){case"video":return"https://d3cdo0emj8d2qc.cloudfront.net/assets/71e7e522444440761e2b1a6bba54c22b744be3e4.png";case"flashcards":return"https://d3cdo0emj8d2qc.cloudfront.net/assets/xSH30axvSdedX7qjp7MJkpBeQCu-WjUX.svg";case"questions":return"https://d3cdo0emj8d2qc.cloudfront.net/assets/nM7QYpJ5RDqFS5TJaLZ6Qc6vSASsO1OZ.svg";case"notes":return"https://d16qt3wv6xm098.cloudfront.net/Xfm8R1A8QBuGnMw7E1fTnhXaRvKOKYO1/_.png";default:return null;}}}]),SummaryPopup}();a.exports=s}),define("ui.TabDragDrop",function(){}),define("ui.TabOnboarding",function(e,t,a){function TabOnboarding(e,t){if(this.icon=t.icon,this.image=t.image,this.tagline=t.tagline,this.shortTagline=t.shortTagline,this.startCta=t.startCta,this.tutorialCta=t.tutorialCta,this.watchLink=t.watchLink,this.source=t.source,this.onboardingForm=t.form,this.trackingName=t.trackingName,this.startVisible=ko.observable(!0),this.hasWatchedVideo=ko.observable(!1),this.hasImage=ko.observable(this.image),e(this),window.onboardingData){var a=window.onboardingData.tabs[this.trackingName];a&&(a[2]?this.parent.onboardMode("off"):a[0]&&this.parent.onboardMode("banner"),a[1]&&this.hasWatchedVideo(!0))}45150>window.userID&&this.parent.onboardMode("off"),t.alwaysShow&&this.parent.onboardMode("full")}var s=t("ui/mediaViewer"),o=t("core/ui");TabOnboarding.prototype.start=function(){var e=this;this.onboardingForm?(this.startVisible(!1),$(".main-content",this.dom).slideUp(function(){fs.mixAppend($(".custom-onboarding-form",e.dom),e.onboardingForm,{parent:e}),$(".custom-onboarding-form",e.dom).fadeIn()})):(this.parent.onboardMode("banner"),o.setScrollableHeights(),fs.post("completeOnboarding",{tab:this.trackingName,level:"Unlock Onboarding"})),analytics.track("Tab Onboarding",{tab:this.trackingName,action:"try"})},TabOnboarding.prototype.watch=function(e){var t=this;return function(){t.watchLink?(s.showVideo(t.watchLink),t.hasWatchedVideo(!0),fs.post("completeOnboarding",{tab:t.trackingName,level:"Watched Onboarding"}),analytics.track("Tab Onboarding",{tab:t.trackingName,action:"watch",ref:e})):fs.alert("The video is not currently available. Please contact support@osmosis.org and let us know.")}},TabOnboarding.prototype.closeBanner=function(){var e=this;this.dom.slideUp(function(){e.parent.onboardMode("off"),o.setScrollableHeights()}),analytics.track("Tab Onboarding",{tab:e.trackingName,action:"close"}),fs.post("completeOnboarding",{tab:this.trackingName,level:"Closed Tutorial"})},a.exports=TabOnboarding}),define("ui.Testimonial",function(e,t,a){a.exports=function Testimonial(e,t){this.img=t.image,this.quote=t.quote,this.name=t.name,this.clsYear=t.clsYear,this.theme=t.theme,this.showSchool=!0,this.schoolName=t.school,e(this)}}),define("ui.TestimonialBand",function(e,t,a){a.exports=function TestimonialBand(e,t){for(var a in this.testimonials=t.testimonials,this.showCta=t.showCta,e(this),this.testimonials)this.testimonials[a].showSchool=t.showSchool,fs.mixAppend($(".band-list",this.dom),"ui/Testimonial",this.testimonials[a])}}),define("ui.TileGrid",function(e,t,a){var s=Math.ceil,o=Math.floor;function TileGrid(e,t){for(var a in this.title=ko.observable(t.title),this.columnCount=t.colCount,this.rowCount=s(t.tiles.length/this.columnCount),this.layout=[],e(this),this.createRows(this.rowCount),t.tiles)this.updateTile(this.layout[o(a/this.columnCount)][+a%this.columnCount],t.tiles[a])}function getInnerTileShrink(e){var t=10*o(10*(e.attempted/e.available));return e.attempted==e.available?"100":0==e.attempted?"0":0==t?"10":t}function getOuterTileShrink(e){return 50<e.available?"100":10*s(10*(e.available/50))}var d=t("ui/concept"),n=t("ui/tileColors");TileGrid.prototype.flip=function(){for(var e=this,t=this.parent.state,a=function flipper(e){return function(){var a=e.hasClass("front")?"front":"back",s="front"==a?"back":"front";$("."+s,e).addClass("hidden");var o="back"==a?"rotateY(0deg)":"rotateY(180deg)";$("[state=\""+t+"\"]",e).addClass(s).removeClass("hidden"),"Safari"===browser.family||"Chrome"===browser.family?e.css("-webkit-transform",o):(e.find("."+a).addClass("hidden"),e.find("."+s).removeClass("hidden")),e.removeClass(a).addClass(s),$(".hidden",e).removeClass("front").removeClass("back")}},s=o((this.dom.offset().left-this.parent.dom.offset().left)/32),d=o((this.dom.offset().top-this.parent.dom.offset().top)/32),n=0;n<this.columnCount;n++)for(var l=0,p;l<this.rowCount;l++)p=e.layout[l][n],p.hasClass("flip")&&(p.removeClass("flip"),setTimeout(a(p),20*(s+n)+20*(d+l)+100*Math.random()))},TileGrid.prototype.createRows=function(e){for(var t=this,a="",s=0;s<e;s++){a+="<tr class=\"r"+s+"\">";for(var o=0;o<this.columnCount;o++)a+="<td class=\"r"+s+" c"+o+" start\"><div class=\"tile front\"></div></td>";a+="</tr>"}for(var n=$("table",this.dom),l=$(a).appendTo(n),s=0,p;s<e;s++){p=[];for(var o=0;o<this.columnCount;o++)p.push($(".r"+s+".c"+o+" .tile",n));this.layout.push(p)}var u;$("td",l).hover(function(a){if($(this).addClass("hover-sel"),clearTimeout(u),$("td").removeClass("current-hover"),$(this).addClass("current-hover"),$(".tile",this).attr("name")){var e=$(a.currentTarget).offset().left-t.parent.dom.offset().left,s=e+10+250>=$(t.parent.dom).outerWidth()?e-225:e+10;$(".topic-tooltip",t.parent.dom).css({left:s+"px",top:$(a.currentTarget).offset().top-t.parent.dom.offset().top+30+"px"}),$(".topic-tooltip .tile-name",t.parent.dom).html($(".tile",this).attr("name")),$(".topic-tooltip .tile-concepts",t.parent.dom).html(conceptGrid.getTileContent($(".tile",this).attr("tileID"))),$(".topic-tooltip a",t.parent.dom).click(function(t){t.preventDefault(),d.show($(this).attr("href"),{ref:"megagrid"})}),$(".topic-tooltip .tile-status .status-complete .stats",t.parent.dom).html($(".tile",this).attr("attempted")+"/"+$(".tile",this).attr("available")),$(".topic-tooltip .tile-status .status-correct .stats",t.parent.dom).html($(".tile",this).attr("correct")+"/"+$(".tile",this).attr("attempted")),$(".topic-tooltip .tile-parent",t.parent.dom).html($(".tile",this).attr("category")),$(".topic-tooltip",t.parent.dom).attr("data-current-tile",$(".tile",this).attr("tileID"));var o=$("[state=\"1\"]",$(this)).attr("class").match(/tile[^\s]+/)[0],n=$("[state=\"2\"]",$(this)).attr("class").match(/tile[^\s]+/)[0];$(".topic-tooltip .status-complete .tile-square",t.parent.dom).attr("class","tile-square tile "+o),$(".topic-tooltip .status-correct .tile-square",t.parent.dom).attr("class","tile-square tile "+n),$(".topic-tooltip",t.parent.dom).removeClass("hidden")}},function(){$(this).removeClass("hover-sel"),u=setTimeout(function(){$(".topic-tooltip",t.parent.dom).addClass("hidden")},10)}).click(function(){if($(".tile",this).attr("tileID")){$(".sel",t.parent.dom).removeClass("sel"),$(this).addClass("sel"),t.parent.onSelect($(".tile",this)),$(".row-pointer",t.parent.dom).length||t.parent.dom.append("<div class=\"row-pointer hidden\"><div class=\"fa fa-caret-right fa-2x\"></div></div>");var e=$(".tile",this).parent().parent().parent().parent().parent();$(".row-pointer",t.parent.dom).css("left",$(".tile",this).parent().parent().offset().left-e.offset().left-10+"px").css("top",$(".tile",this).parent().parent().offset().top-e.offset().top+3+"px").removeClass("hidden").appendTo(e)}}),$(".topic-tooltip",t.parent.dom).click(function(){$(".tile[tileid="+$(this).attr("data-current-tile")+"]").parent().click()}),$(".topic-tooltip",t.parent.dom).mouseenter(function(){clearTimeout(u)}),$(".topic-tooltip",t.parent.dom).mouseleave(function(){$(this).addClass("hidden"),$("td").removeClass("current-hover")})},TileGrid.prototype.updateTile=function(e,t){var a=e.hasClass("back")?"back":"front",s="front"==a?"back":"front";if(!e.children().length){e.append("<div class=\"face front\" state=\"0\">");var o=0}else var o=this.state;for(var d in e.append("<div class=\"face "+(1==o?s:"hidden")+" tile-"+n.getColor(t,1)+"\" state=\"1\"></div><div class=\"face "+(2==o?s:"hidden")+" tile-"+n.getColor(t,2)+"\" state=\"2\"></div><div class=\"face "+(3==o?s:"hidden")+" tile-shrink"+getOuterTileShrink(t)+"\" state=\"3\"><div class=\"tile-"+n.getColor(t,3)+" tile-inner tile-shrink"+getInnerTileShrink(t)+"\"></div></div>"),t)e.attr(d,t[d]);e.addClass("flip")},a.exports=TileGrid}),define("ui.TileLayout",function(e,t,a){function TileLayout(e,t){e(this),this.colIdx=0,this.colType=3,this.state=0,this.blocks=[],this.categories=[],this.onSelect=t.onSelect,this.currentCategory=null}function swapElements(e,t){var a=t.parentNode,s=t.nextSibling;s===e?a.insertBefore(e,t):(e.parentNode.insertBefore(t,e),s?a.insertBefore(e,s):a.appendChild(e))}TileLayout.prototype.flip=function(e){this;for(var t in e=e||this.state,this.state=e||this.state,this.categories)this.categories[t].flip()},TileLayout.prototype.createBlock=function(){0==this.colIdx%this.colType&&this.wrapBlock(),this.colIdx++;var e=2==this.colType?"col-md-6":"col-md-4",t=$("<div class=\""+e+"\">").appendTo(this.currentRow);return this.blocks.push(t),t},TileLayout.prototype.insertBlock=function(e){this.createBlock();for(var t=this.blocks.length-1;0<t;t--){swapElements(this.blocks[t-1][0],this.blocks[t][0]);var a=this.blocks[t];this.blocks[t]=this.blocks[t-1],this.blocks[t-1]=a}return this.blocks[e]},TileLayout.prototype.removeBlock=function(e){fs.empty(this.blocks[e]);for(var t=+e;t<this.blocks.length-1;t++){swapElements(this.blocks[t][0],this.blocks[t+1][0]);var a=this.blocks[t];this.blocks[t]=this.blocks[t+1],this.blocks[t+1]=a}this.blocks[this.blocks.length-1].remove(),this.blocks.splice(this.blocks.length-1,1),0<this.blocks.length&&(this.currentRow=this.blocks[this.blocks.length-1].parent()),this.colIdx--},TileLayout.prototype.find=function(e){for(var t in this.blocks)if(this.blocks[t].attr("subject")==e)return this.blocks[t]},TileLayout.prototype.remove=function(e){for(var t in this.blocks)if(this.blocks[t].attr("subject")==e){this.removeBlock(t);break}},TileLayout.prototype.wrapBlock=function(){this.colIdx=0,this.currentRow=$("<div class=\"row mbl\">").appendTo($(".grid",this.dom))},TileLayout.prototype.createCategory=function(e,t,a){var s=fs.mixAppend(t,"ui/CategoryTiles",{parent:this,subject:e,categoryName:a});return this.categories.push(s),s},TileLayout.prototype.forceFlip=function(e){$(".tile",this.dom).addClass("flip"),this.flip(e)},TileLayout.prototype.focusSubcategory=function(e,t){t=t.split(":")[0];var a=this.categories;for(var s in a){var o=a[s];o.subject==e?"expanded"==o.view()&&o.title()!=t?o.changeView("collapsed"):"collapsed"==o.view()&&o.title()==t&&o.changeView("expanded"):o.changeView("collapsed")}},a.exports=TileLayout}),define("ui.TimeSelector",function(e,t,a){function TimeSelector(e,t,a){var s=this;this.groupID=ko.observable(window.groupID),this.mode=ko.observable("fixed"),this.value=ko.observable(window.user.day.date),this.units=ko.observable(a||"weeks"),this.startDate=ko.observable(window.user.day.date),this.endDate=ko.observable(window.user.day.date),this.eventID=0,this.eventTitle=ko.observable(),this.docNodeID=0,this.docThumb=ko.observable(),this.modules=ko.observableArray(),this.current=ko.computed(function(){var e=moment(s.value());if("days"==s.units())return e.format("ddd, MMM D");if("weeks"==s.units())return"Week of "+e.subtract(1,"day").startOf("week").add(1,"day").format("MMM D");if("months"==s.units()){return e.format("YYYY")==moment().format("YYYY")?"Month of "+e.format("MMMM"):e.format("MMMM YYYY")}}),this.customRangeStr=ko.computed(function(){var e=moment(s.startDate()),t=moment(s.endDate());if("custom"==s.mode())return e.format("MMM D")==t.format("MMM D")?e.format("ddd, MMM D"):e.format("MMM D")+" - "+t.format("MMM D");return"event"==s.mode()?s.eventTitle():void 0}),this.currentSelection=ko.computed(function(){return"fixed"==s.mode()?s.current():s.customRangeStr()}),this.parent=e,this.update=t}var s=t("app/timezone");TimeSelector.prototype.prev=function(){var e=this;return function(){"month"==e.units()?e.value(shiftMonth(-1,e.value())):e.value(moment(e.value()).add(-1,e.units()).format("YYYY-MM-DD")),e.update.call(e.parent)}},TimeSelector.prototype.next=function(){var e=this;return function(){"month"==e.units()?e.value(shiftMonth(1,e.value())):e.value(moment(e.value()).add(1,e.units()).format("YYYY-MM-DD")),e.update.call(e.parent)}},TimeSelector.prototype.selectCustomRange=function(){var e=this;return function(){dialog("ui/dialogs/CalendarSelectDialog",function(t,a){if(a){if(e.parent.calendar&&e.parent.calendar.clearSelection(),"days"==t.mode()){if(!t.startDate()||!t.endDate())return;e.value(t.startDate()),e.startDate(t.startDate()),e.endDate(t.endDate()),e.mode("custom")}else if("event"==t.mode()){if(!t.eventID||!eventIndex)return;e.eventID=t.eventID;var o=eventIndex[e.eventID],d=moment(o.begin()).tz(s.timezone());e.value(d.format("YYYY-MM-DD")),e.eventTitle(o.title()||d.format("MMM D @ ha")),e.mode("event")}e.update.call(e.parent)}},{currentDate:e.value(),groupID:e.groupID()})}},TimeSelector.prototype.updateTimeframe=function(e){var t=this;return function(){t.mode("fixed"),t.units(e),t.update.call(t.parent)}},TimeSelector.prototype.targetDocument=function(e,t){this.docThumb("https://d16qt3wv6xm098.cloudfront.net/"+e.data().$+"/thumb.png"),this.docNodeID=e.nodeID,this.eventID=t.eventID;var a=moment(t.begin()).tz(s.timezone());this.value(a.format("YYYY-MM-DD")),this.mode("doc"),this.update.call(this.parent)},TimeSelector.prototype.subscribe=function(){function update(){e.update.call(e.parent)}var e=this,t=this.modules();for(var a in t)t[a].active.subscribe(update)},TimeSelector.prototype.updateModules=function(e,t){this.populateModules(e);var e=this.modules(),a=_.indexBy(t,_.identity);for(var s in e)e[s].visible(a[e[s].MID])},TimeSelector.prototype.populateModules=function(e){var t=this.modules(),a=_.indexBy(t,function(e){return e.MID});for(var s in e){var o=e[s];a[o.MID]||t.push({MID:+o.MID,name:o.name,visible:ko.observable(!1),active:ko.observable(!0)})}t.sort(function(e,t){return e.name>t.name}),this.modules(t)},TimeSelector.prototype.getBounds=function(){if("fixed"==this.mode()){var e=this.units(),t=this.value(),a=null,s=null;if("days"==e)a=moment(t),s=moment(t);else if("weeks"==e){var o=moment(t).diff(moment(t).subtract(1,"day").startOf("week").add(1,"day"),"days");a=moment(t).subtract(o,"days"),s=moment(t).subtract(o,"days").add(6,"days")}else if("months"==e){var o=moment(t).diff(moment(t).startOf("month"),"days");a=moment(t).subtract(o,"days");var o=moment(t).diff(moment(t).endOf("month").add(1,"day"),"days");s=moment(t).subtract(o+1,"days")}}else a=this.startDate(),s=this.endDate();return{start:a,end:s}},a.exports=TimeSelector}),define("ui.TimelineSearch",function(e,t,a){function TimelineSearch(e,t){this.loading=ko.observable(!1),this.hasResults=ko.observable(!1),e(this),this.height=t.height,this.width=t.width}TimelineSearch.prototype.search=function(e,t){var a=this;if(t||(t=window.groupID),e){e=e.replace(/\s/g,"+"),this.loading(!0);var s=$("<iframe src=\"/timeline?g="+t+"&q="+e+"&height="+(this.height-20)+"\" style=\"width: "+this.width+"px; height:"+this.height+"px\" frameBorder=\"0\">").load(function(){a.loading(!1),a.hasResults(!0)});$(".timeline",this.dom).empty().append(s)}},a.exports=TimelineSearch}),define("ui.ToolsMenu",function(e,t,a){function ToolsMenu(e,t){var a=this,o=this;if(this.title=t.title,this.filter=t.filter,this.tools=ko.observableArray(t.tools||s),this.visibleTools=ko.computed(function(){return a.tools().filter(function(e){return e.active()===a.filter})}),this.collapsed=ko.observable(t.collapsed),this.showEditMenu=ko.observable(!1),this.visible=ko.computed(function(){for(var e in a.tools())if(a.tools()[e].active()==a.filter)return!0;return!1}),e(this),t.collapsed)var d=this.collapsed.subscribe(function(e){e||(a.setupBadge(),d.dispose())});else this.setupBadge();$(".edit-tools").hide(),$(".tool-item",this.dom).mouseenter(function(){a.toolTimeout=setTimeout(function(){return $(".edit-tools").show()},1e3)}).mouseleave(function(t){var e=t.toElement||t.relatedTarget;e&&(e.classList.contains("ui-PopupMenu")||$(e).parents(".ui-PopupMenu").length)||(clearTimeout(a.toolTimeout),o.showEditMenu(!1),$(".edit-tools").hide(),$(".ui-PopupMenu").remove())})}var s=t("app/tools");ToolsMenu.prototype.setupBadge=function(){$(".has-badge",this.dom).each(function(e,t){var a=ko.dataFor(t);if(console.log("data: ",a),!(a.badgeStopOnDismiss&&a.hasSeen)){var s=$(t);s.tooltip({container:t,title:a.badgeMsg,trigger:"manual",template:"\n      <div class=\"tooltip badge-tooltip\" role=\"tooltip\">\n        <div class=\"tooltip-close fas fa-times\"></div>\n        <h3>".concat(a.badgeHeader,"</h3>\n        <div class=\"tooltip-arrow\"></div>\n        <div class=\"tooltip-inner\"></div>\n      </div>\n      ")});var o=function onclick(){console.debug("stopondismiss",a),a.badgeStopOnDismiss&&(localStorage.setItem("tools:"+a.title,"seen"),s.tooltip("disable")),s.tooltip("hide")};s.on("mouseenter",function(){return s.tooltip("show")}),s.on("mouseleave",function(e){var t=e.toElement||e.relatedTarget;return t?(t=t.classList.contains("badge-tooltip")?t:$(t).parents(".badge-tooltip")[0],t?void $(t).one("mouseleave click",o):void s.tooltip("hide")):void $("#"+s.attr("aria-describedby")).one("mouseleave click",o)}),console.debug("badgeTrigger",a.badgeTrigger),"initial"===a.badgeTrigger&&setTimeout(function(){s.tooltip("show"),$("#"+s.attr("aria-describedby")).on("click",o)},800)}})},ToolsMenu.prototype.getToolClasses=function(e){var t=[];return e.class&&t.push(e.class),e.theme&&t.push(e.theme),1!=this.filter&&t.push("no-image"),1==this.filter&&t.push("featured"),e.hasBadge&&t.push("has-badge"),t.join(" ")},ToolsMenu.prototype.goToURL=function(e,t){$(t.target).hasClass("edit-tools")||(e.hasBadge&&localStorage.setItem("tools:"+e.title,"seen"),window.location.href=e.url)},ToolsMenu.prototype.toggleEditMenu=function(t,a){var e=this;this.showEditMenu(!this.showEditMenu()),this.showEditMenu()&&(a.stopPropagation(),fs.mixAppend($(a.target,this.dom),"ui/PopupMenu",{items:[{text:"Edit dashboard",icon:"fas fa-edit",type:"action",action:function action(){return e.openEditTools()}}]}))},ToolsMenu.prototype.openEditTools=function(){dialog("ui/dialogs/ToolSelector",function(){}),this.showEditMenu(!1)},a.exports=ToolsMenu}),define("ui.TopicAvatar",function(e,t,a){var s=t("shared/topics");a.exports=function TopicAvatar(e,t){var a=this;this.topicID=ko.observable(t.topicID),this.topicIcon=ko.computed(function(){return"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/"+s.icon[a.topicID()]+"100.png"})}}),define("ui.TopicMapSearch",function(e,t,a){function TopicMapSearch(e,t){var a=this;e(this),this.parentShowTerm=t.showTerm,o($("input",this.dom),"/topicSearch",function(e){a.showTerm(e)})}var s=t("ui/concept"),o=t("ui/conceptSearchBox");TopicMapSearch.prototype.showTerm=function(e){var t=this;return e?void s.show(e,{ref:"topic-map-search"},function(e){t.parentShowTerm(e.name,e.tile)}):$("input",this.dom).focus()},TopicMapSearch.prototype.search=function(){var e=this;$("body").hasClass("phone")||$("body").hasClass("phone-lg")?0<$("input",this.dom).val().length?(e.showTerm($("input",this.dom).val()),$("input",this.dom).val("")):($(this.dom).addClass("expanded"),$(".placeholder",this.dom).show(),this.inputFocus(),$("input",this.dom).on("focusout",function(){$(e.dom).removeClass("expanded"),$("input",e.dom).val(""),$(".placeholder",e.dom).hide()})):e.showTerm($("input",this.dom).val())},TopicMapSearch.prototype.setPlaceholder=function(t,a){return 0<$(a.currentTarget).val().length?$(".placeholder",t.dom).hide():$(".placeholder",t.dom).show(),!0},TopicMapSearch.prototype.inputFocus=function(){$("input").focus()},TopicMapSearch.prototype.highlight=function(){0<$("input").val().length&&$("input").select()},TopicMapSearch.prototype.setInputWidth=function(t,a){return 13==a.charCode&&t.search(),!0},a.exports=TopicMapSearch}),define("ui.TopicSelect",function(e,t,a){function TopicSelect(e,t){this;this.type=ko.observable(t.type),this.onSelect=t.onSelect;var a=t.qbank,d=fs.transpose(a.bundleData.data,s);for(var n in this.packs=ko.observableArray(),d)if(d[n].installed){var l=d[n];l.mapPacks(a.bundleData.map),this.packs.push(l)}this.packs.sort(function(e,t){return e.name()-t.name()}),this.selectedCount=ko.observable(0),this.overallCount=ko.observable(0),this.loading=ko.observable(!1),this.loadingProgress=ko.observable(0),this.wantsToSelectPacks=ko.observable(),this.topics=ko.observableArray();for(var n=523,c;540>=n;n++)c=new o(n),c.mapPacks(a.topicMap),c.mapCounts(a.counts),this.topics.push(c);this.topics.sort(function(e,t){return e.topicName()>t.topicName()?1:e.topicName()<t.topicName()?-1:0}),e(this),urlQuery.pack&&this.selectPack(urlQuery.pack),this.activePacks=[],this.refreshTopics()}var s=t("ui/QBankPack"),o=t("ui/QBankTopic"),d=t("app/recManager");TopicSelect.prototype.nav={title:"Select Topics",index:0,icon:"fa-list-alt"},TopicSelect.prototype.refreshTopics=function(){var e=[],t=this.packs();for(var a in t)t[a].appendPacks(e);var s=0,o=0;this.activePacks=[];var d=this.topics();for(var a in d){var n=d[a].refreshPacks(e,this.activePacks);d[a].enabled()&&(s+=n),o+=n}this.selectedCount(s),this.overallCount(o)},TopicSelect.prototype.togglePack=function(e){var t=this;return function(){e.included(!e.included()),t.refreshTopics()}},TopicSelect.prototype.selectPack=function(e){var t=this,a=t.packs();for(var s in a)a[s].included(a[s].bundleID==e);t.refreshTopics()},TopicSelect.prototype.studyThis=function(e){var t=this;return function(){var a=t.packs();for(var s in a)a[s].included(!1);e.included(!0),t.refreshTopics()}},TopicSelect.prototype.show=function(){},TopicSelect.prototype.toggleTopic=function(e){var t=this;return function(){var a=t.topics();for(var s in a)a[s].enabled(!1);e.enabled(!0),t.refreshTopics(),t.triggerLoadQuestions(e.topicID())}};TopicSelect.prototype.triggerLoadQuestions=function(e){this.onSelect(e,this.activePacks)},TopicSelect.prototype.loadQuestions=function(){var e=this;return function(){e.triggerLoadQuestions()}},a.exports=TopicSelect}),define("ui.TopicTable",function(e,t,a){function TopicTable(e,t){for(var a in this.filters=t.filters||{osmosis:ko.observable(!1),sketchy:ko.observable(!1),picmonic:ko.observable(!1)},this.theme=t.theme,this.topicTableRows=[],this.onFilterChangeCB=t.onFilterChangeCB||function(){},this.visibleLinks=ko.observable(0),this.visibleLinks.subscribe(this.onFilterChangeCB),e(this),t.contains)this.topicTableRows.push(fs.mixAppend($("tbody",this.dom),"ui/TopicTableRow",{isOdd:0==a%2,table:t.contains[a],filters:this.filters,onFilterChangeCB:this.getOnFilterChangeCB(a)})),1===t.contains.length?$(".navbox-group",this.topicTableRows[this.topicTableRows.length-1].dom).first().css({"border-bottom":"4px solid #FFFFFF"}):$("tbody",this.dom).append("<tr style=\"height:2px\"><td colspan=\"2\"></td></tr>")}TopicTable.prototype.getOnFilterChangeCB=function(e){var t=this;return function(a){t.visibleLinks(_.reduce(t.topicTableRows,function(t,s,o){return t+(e==o?a:s.visibleLinks())},0))}},a.exports=TopicTable}),define("ui.TopicTableLinks",function(e,t,a){function TopicTableLinks(e,t){var a=this;this.onFilterChangeCB=t.onFilterChangeCB||function(){},this.filters=t.filters||{osmosis:ko.observable(!1),sketchy:ko.observable(!1),picmonic:ko.observable(!1)},this.filtersActive=ko.computed(function(){return a.filters.osmosis()||a.filters.sketchy()||a.filters.picmonic()});var s=Array.from(t.links);for(var n in s){var l=s[n],c=l.concept;l.href="/learn/"+c.replace(/\s/g,"_");var p=d.get(c);for(var u in p(l.checked),l.checked=p,l.marked=o.currentConcept()==c||o.currentFocusConcept()==c,l.filtered=ko.computed(function(){var e=a.filtersActive();for(var t in this.icons)switch(this.icons[t]){case"yt-osm":if(a.filters.osmosis())e=!0;else return!1;break;case"sketchy":if(a.filters.sketchy())e=!0;else return!1;break;case"picmonic":if(a.filters.picmonic())e=!0;else return!1;}return e},l),l.resources=getResourceIcons(c,l.icons),l.resources)l.resources[u].visible=ko.computed(function(){switch(this.type){case"yt-osm":if(a.filters.osmosis())return!1;break;case"sketchy":if(a.filters.sketchy())return!1;break;case"picmonic":if(a.filters.picmonic())return!1;break;default:return!a.filtersActive();}return!0},l.resources[u])}this.colA=ko.observableArray(s),this.visibleLinks=ko.computed(function(){var e=_.filter(a.colA(),function(e){return!e.filtered()});return e?e.length:0}),this.visibleLinks.subscribe(this.onFilterChangeCB),setTimeout(function(){a.onFilterChangeCB(a.visibleLinks())},0),e(this),$(".resource-icon",this.dom).tooltip({container:this.dom})}function getResourceIcons(e,t){if(!t)return[];var a=[];for(var o in t)if("celeb"!=t[o]){var d=s.iconMap[t[o]];a.push({src:d.src,hint:d.hint+e,type:t[o]})}return a}var s=t("app/wikiTermResources"),o=t("app/conceptNavGlobals"),d=t("app/conceptCheckboxes");TopicTableLinks.prototype.conceptClick=function(e){return function(){keen.track("resource_index",{concept:e.concept.toLowerCase(),link_click:!0}),setTimeout(function(){window.location.href=e.href},50)}},TopicTableLinks.prototype.toggleTopicCheckbox=function(e){this;return function(){e.checked(!e.checked()),keen.track("resource_index",{checked:e.checked(),concept:e.concept.toLowerCase()}),fs.post("updateUserConcept",{terms:[e.concept],state:e.checked()?1:0})}},a.exports=TopicTableLinks}),define("ui.TopicTableRow",function(e,t,a){function TopicTableRow(e,t){var a=this;this.filters=t.filters||{osmosis:ko.observable(!1),sketchy:ko.observable(!1),picmonic:ko.observable(!1)};var s=t.table;if(this.isOdd=t.isOdd,this.title=s.group,this.titleLink=ko.observable(),this.onFilterChangeCB=t.onFilterChangeCB||function(){},this.visibleLinks=ko.observable(0),this.visibleLinks.subscribe(this.onFilterChangeCB),o.currentFocusConcept.subscribe(function(){a.setMarker()}),this.setMarker(),e(this),s.contains.length)if(s.contains[0].group)fs.mixAppend($(".navbox-list",this.dom),"ui/TopicTable",{contains:s.contains,filters:this.filters,onFilterChangeCB:this.getOnFilterChangeCB()});else if(s.contains[0].concept){var d=_.find(s.contains,function(e){return e.concept.toLowerCase()==a.title.toLowerCase()});d&&a.titleLink("/learn/"+a.title.replace(/\s/g,"_"));fs.mixAppend($(".navbox-list div",this.dom),"ui/TopicTableLinks",{links:_.filter(s.contains,function(e){return e.concept.toLowerCase()!=a.title.toLowerCase()}),filters:this.filters,onFilterChangeCB:this.getOnFilterChangeCB()})}$(".navbox-list .concept-link",this.dom).on("click",function(t){a.open(t)})}var s=t("app/wikiTermResources"),o=t("app/conceptNavGlobals");TopicTableRow.prototype.getOnFilterChangeCB=function(){var e=this;return function(t){e.visibleLinks(t)}},TopicTableRow.prototype.open=function(e){this;o.setCurrentNavApp("Resource Map");var t=$(e.currentTarget).attr("href");0<=window.location.pathname.indexOf("/home/")&&(e.preventDefault(),e.stopPropagation(),tabToURL(t))},TopicTableRow.prototype.setMarker=function(){$.each($(".navbox-list .concept-link",this.dom),function(e,t){o.currentFocusConcept()==$(t).html()?($(t).addClass("pulse-marker"),o.scrollTarget=$(t)):$(t).removeClass("pulse-marker")})},a.exports=TopicTableRow}),define("ui.TopicsDropdown",function(e,t,a){function getTopics(e){var t=[],a=s.types[e].ids;for(var o in a)topicID=a[o],s.topicID2subject[topicID]&&t.push({src:s.getNewIcon(topicID),name:s.menuName[topicID],link:s.topicID2subject[topicID].replace(/\s/g,"_")});return t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),t}function TopicsDropdown(e,t){var a=this;if(this.standalone=t.standalone,this.visible=ko.observable(t.standalone),this.topicBreakdowns=[],t.topicBreakdowns)for(var o=0;o<t.topicBreakdowns.length;o+=1)a.topicBreakdowns.push({title:s.types[t.topicBreakdowns[o]].name,topics:ko.observableArray(getTopics(t.topicBreakdowns[o]))});else this.topicBreakdowns=[{title:"Basic Sciences",topics:ko.observableArray(getTopics("basic"))},{title:"Organ Systems",topics:ko.observableArray(getTopics("organ"))}];this.hideFeaturedSeries=t.hideFeaturedSeries,this.featuredSeries=[],this.hideFeaturedSeries||(this.featuredSeries=[{name:"Clinical Reasoning",link:"/playlist/clinicalreasoning",icon:"https://d3cdo0emj8d2qc.cloudfront.net/assets/NtxvVic4R7meah4xj5ADYpGwRbaENv3f_thumb.png"},{name:"General Pharmacology",link:"/playlist/pharmacology",icon:"https://d3cdo0emj8d2qc.cloudfront.net/assets/7XajcJxRQfOv0F_Wq5X-CARbThawFLOL_thumb.png"},{name:"Learning Science",link:"/home/scienceoflearning",icon:"https://d3cdo0emj8d2qc.cloudfront.net/assets/F0JF9B_tTR2c4mPmFThtmbfTQnSnDJVc_thumb.png"},{name:"Clinician's Corner",link:"/playlist/cliniciancorner",icon:"https://d3cdo0emj8d2qc.cloudfront.net/assets/QeN0H0fdR0_kagFckPynNh9pRsSKN9cA_thumb.png"}])}var s=t("shared/topics");TopicsDropdown.prototype.navToTopic=function(e){return function(){window.location.href="/home/search?topic="+e.link+"&show=concepts"}},TopicsDropdown.prototype.navToLink=function(e){return function(){window.location.href=e}},a.exports=TopicsDropdown}),define("ui.TourLauncher",function(e,t,a){function TourLauncher(e){var t=this;e(this),this.tourToDo=fs.mix(this,"ui/TourToDo"),$(document).on("click",function(a){0==$(a.target).closest($("i.toggler",t.dom)).length&&($(".ui-TourPopup.tour-hint").remove(),t.tourToDo.visible(!1))})}t("app/tour");TourLauncher.prototype.getNextTourIndex=function(){var e=this.tourToDo.tourItems();for(var t in e)if(!e[t].completed())return t;return-1},TourLauncher.prototype.getTourByType=function(e){var t=this.tourToDo.tourItems();for(var a in t)if(t[a].type==e)return t[a];return null},TourLauncher.prototype.getTourCompletedCount=function(){var e=0,t=this.tourToDo.tourItems();for(var a in t)t[a].completed()&&e++;return e},TourLauncher.prototype.getNextTourArgs=function(){var e=this.getTourCompletedCount(),t=this.tourToDo.tourItems(),a=this.getNextTourIndex();return 0==a&&0==e?{element:".ui-TourLauncher .ui-TourToDo",title:"Start here",text:"Select the task you want to start with",focus:!0}:-1==a?null:1==e?{element:".tour-launcher-item-"+a,title:"Congrats! You finished your first tour!",text:"Select another tour to discover more ways Osmosis can make you more efficient at mastering content."}:{element:".tour-launcher-item-"+a,title:"Nice work! You've completed "+e+" tours!",text:"Select another tour to discover more ways Osmosis can make you more efficient at mastering content."}},TourLauncher.prototype.toggleList=function(){this;this.tourToDo.visible(!this.tourToDo.visible())},TourLauncher.prototype.markAsCompleted=function(e){var t=this.getTourByType(e);t.completed(!0)},a.exports=TourLauncher}),define("ui.TourPopup",function(e,t,a){function TourPopup(e,t){this;this.title=t.title,this.text=t.text,this.element=t.element,this.position=t.position||"bottom",this.theme=t.theme||"blue",this.onBeforeLoad=t.onBeforeLoad,this.onCloseTour=t.onCloseTour,this.cta=t.cta,this.ctaText=t.ctaText,this.ctaAction=t.ctaAction,this.onCtaClick=t.onCtaClick,this.canExitDirectly=t.canExitDirectly,this.focus=t.focus,this.step=t.step||null,this.steps=t.steps||null,e(this),this.onBeforeLoad&&this.onBeforeLoad(),this.animate()}var s=t("app/tour");TourPopup.prototype.ctaClick=function(){var e=!0;"close"==this.ctaAction&&(this.close(),e=!1),"next"==this.ctaAction&&this.next(),this.onCtaClick&&"function"==typeof this.onCtaClick&&(this.onCtaClick(),e=!1),e&&this.animate()},TourPopup.prototype.next=function(){if(0<this.steps-this.step){var e=this.step+1,t=s.currentTourClassName;s.next(t+":"+e)}},TourPopup.prototype.removePopup=function(){this.dom.remove(),$(".ui-TourPopup").remove()},TourPopup.prototype.close=function(){this.onCloseTour&&this.onCloseTour(),this.removePopup(),s.close()},TourPopup.prototype.closeTour=function(){var e=this;this.canExitDirectly?e.close():fs.confirm("Are you sure you want to exit the tour?",function(t){e.close(),t()})},TourPopup.prototype.animate=function(){var e=this;"top"==this.position&&this.dom.addClass("bouncing-down"),"bottom"==this.position&&this.dom.addClass("bouncing-up"),"right"==this.position&&this.dom.addClass("bouncing-left"),"left"==this.position&&this.dom.addClass("bouncing-right"),"top-left"==this.position&&this.dom.addClass("bouncing-down-right"),setTimeout(function(){e.dom.removeClass("bouncing-down bouncing-up bouncing-left bouncing-right bouncing-down-right")},750)},TourPopup.prototype.reposition=function(){var e=$(this.element),t=e.offset(),a=0<e.closest("scrollable").length;if("top"==this.position||"bottom"==this.position){if("top"==this.position)var s=t.top-this.dom.outerHeight()-10;else var s=t.top+e.outerHeight()+10;var o=t.left+e.outerWidth()/2-this.dom.outerWidth()/2}else{if("left"==this.position)var o=t.left-this.dom.outerWidth()-10;else var o=t.left+e.outerWidth()+10;var s=t.top}if(!a&&s+this.dom.outerHeight()>$(window).height()){var d=s;if(s=$(window).height()-(this.dom.outerHeight()+10),"left"==this.position||"right"==this.position){var n=d-s;$(".marker",this.dom).css("top",n)}}this.dom.css("top",s).css("left",o)},TourPopup.prototype.addFocus=function(){this.focus&&($("body").addClass("tour-focused-element"),$(this.element).addClass("tour-focus"))},a.exports=TourPopup}),define("ui.TourToDo",function(e,t,a){function TourToDo(e){for(var t in this.visible=ko.observable(!1),this.tourItems=ko.observableArray(),s.tourList)this.tourItems.push(s.tourList[t]);e(this)}var s=t("app/tour");TourToDo.prototype.startTour=function(e){this;return function(){var t;for(var a in s.tourList)s.tourList[a].type==e&&(t=s.tourList[a]);s.start(e,{onBeforeStart:t.onBeforeStart,onStart:t.onStart})}},a.exports=TourToDo}),define("ui.UpgradePrimeButton",function(e,t,a){function UpgradePrimeButton(e){var t=this,a=moment(window.user.prime.expires).diff(moment(),"days");this.buttonVisible=ko.observable(14>=a&&1!=window.user.prime.status),e(this)}var s=t("app/test"),o=t("app/purchaseModal");UpgradePrimeButton.prototype.purchasePrimeClick=function(){o.showModal()},a.exports=UpgradePrimeButton}),define("ui.UploadCtrls",function(e){e.filterPDF=function(){return[{title:"PDF Files",extensions:"pdf"}]},e.filterDocs=function(){return[{title:"PDF Files",extensions:"pdf"},{title:"PPT Files",extensions:"ppt,pptx"},{title:"DOC Files",extensions:"doc,docx"}]},e.uploadForm=function(e,t,a,s,o){s||(s="Upload Resources");var d=$("<form method=\"post\" action=\"dump.php\"></form>").appendTo(e),n=$("<div><p>You browser doesn't have Flash, Silverlight, Gears, BrowserPlus or HTML5 support.</p></div></form>").appendTo(d),l=n.pluploadQueue({runtimes:"html5,flash",url:a,max_file_size:"20mb",max_file_count:100,chunk_size:"250kb",unique_names:!1,multiple_queues:!0,resize:{width:320,height:240,quality:90},rename:!0,sortable:!0,filters:t,flash_swf_url:"/3rd/plupload/js/plupload.flash.swf",init:{fileUploaded:function fileUploaded(e,t,a){var s=JSON.parse(a.response);"error"in s&&(alert(s.error.msg),t.status=plupload.FAILED),o(s)},chunkUploaded:function chunkUploaded(e,t,a){var s=JSON.parse(a.response);"error"in s&&(alert(s.error.msg),t.status=plupload.FAILED)}}});d.submit(function(){var e=$("#uploader").plupload("getUploader");return 0<e.files.length?(e.bind("StateChanged",function(){e.files.length===e.total.uploaded+e.total.failed&&$("form")[0].submit()}),e.start()):alert("You must at least upload one file."),!1}),$(".plupload_header_title").html(s),$(".plupload_header_text").html("<b>Add</b> files to the upload queue and <b>click Start</b>.")}}),define("ui.UserMessage",function(e,t,a){var s={info:"alert-info",warning:"alert-warning",error:"alert-danger"},o={info:"fa fa-exclamation-circle",warning:"fa fa-exclamation-triangle",error:"fa fa-times-circle"};a.exports=function UserMessage(e,t,a){this.level=ko.observable(s[e]),this.icon=ko.observable(o[e]),this.title=ko.observable(t),this.descr=ko.observable(a)}}),define("ui.UserQuery",function(e,t,a){a.exports=function UserQuery(){this.choices=ko.observableArray()}}),define("ui.UserTestimonial",function(e,t,a){a.exports=function UserTestimonial(e,t){"use strict";_classCallCheck(this,UserTestimonial),this.quote=t.quote,this.avatar=t.avatar||"",this.name=t.name||"",this.school=t.school||"",e(this)}}),define("ui.VideoList",function(e,t,a){function VideoList(e,t){var a=this;if(this.links=t.links||[],this.icon=t.icon?ko.observable(t.icon):null,this.noProgress=t.noProgress,this.noIcon=t.noIcon,this.thumbnail=t.thumbnail,this.linkClass=t.linkClass,this.checkOnComplete=t.checkOnComplete,this.hasCheckbox=ko.observable(t.hasCheckbox),this.checkboxOnHover=ko.observable(t.checkboxOnHover),this.modal=null,this.title=t.title||"",this.subTitle=t.subTitle||"",this.modalArgs=t.modalArgs||{},t.type)this.type=t.type;else if(!this.links[0])throw"Unknown type of video list";else if(this.links[0].u&&!!~this.links[0].u.indexOf("picmonic.com"))this.type="picmonic";else if(this.links[0].u&&!!~this.links[0].u.indexOf("sketchymedical.com"))this.type="sketchy";else if(this.links[0].t)this.type="osmosis";else throw"Unknown type of video list";this.onItemClick=t.onItemClick;var s=!0,o=!1,d=void 0;try{for(var n=this.links[Symbol.iterator](),l,c;!(s=(l=n.next()).done);s=!0)c=l.value,c.t=c.t||"Unknown",c.progress=c.progress||ko.observable(0),c.highlighted=c.highlighted||!1,c.checked=c.checked||null,c.showCheckbox=null,this.checkboxOnHover()&&(c.showCheckbox=ko.observable(!1))}catch(e){o=!0,d=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw d}}e(this),this.noProgress||$(".video-list-item",this.dom).each(function(e,t){fs.mixAppend($(".video-progress",t),"ui/ProgressCircle",{progress:a.links[e].progress,checked:a.links[e].checked,size:24,borderSize:2,centerIcon:a.checkboxOnHover()?ko.computed(function(){var t=a.links[e],s=a.icon&&a.icon();return t.showCheckbox()?"fas fa-check":s||"fas fa-play"}):a.icon||"fas fa-play",hideText:!0,checkOnComplete:a.checkOnComplete})}),this.detectOverflow(),$(".delayed-tip",this.dom).tooltip({delay:{show:500,hide:0}})}VideoList.prototype.getModalPath=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.type;return"ui/modals/"+{osmosis:"schedule/Video",picmonic:"schedule/SketchyPicmonic",sketchy:"schedule/SketchyPicmonic"}[e]+"Modal"},VideoList.prototype.getTime=function(e){if(!e.d)return null;var t=e.d-1,a=parseInt(t/60),o=t-60*a;return 1===(o+"").length&&(o="0".concat(o)),"".concat(a,":").concat(o)},VideoList.prototype.toggleCheck=function(e,t){e.showCheckbox&&(t.stopPropagation(),e.checked(!e.checked()))},VideoList.prototype.hover=function(e,t){var a=this;return function(){a.checkboxOnHover()&&t.showCheckbox&&(e?t.showCheckbox(!0):t.showCheckbox(!1))}},VideoList.prototype.openModal=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;for(var t in this.closeModal(),this.links)this.links[t].id===e&&(this.links[t].highlighted=!0);this.modal=fs.mixAppend(this.dom,this.getModalPath(),_objectSpread({videoID:e,links:this.links,title:this.title,subTitle:this.subTitle,type:this.type},this.modalArgs))},VideoList.prototype.closeModal=function(){for(var e in this.links)this.links[e].highlighted=!1;this.modal&&this.modal.close(),this.modal=null},VideoList.prototype.itemClicked=function(){var e=this;return function(t,a){if(e.onItemClick?($(".video-list-item").removeClass("highlight"),e.onItemClick(t)):e.openModal(t.id),"undefined"!=typeof a)return a.preventDefault(),!1}},VideoList.prototype.clickItem=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;if(0<=e&&e<this.links.length){var t=this.links[e];this.itemClicked()(t)}else throw"VideoList~clickItem: Index out of bounds"},VideoList.prototype.detectOverflow=function(){var e=$(".video-list-item-title");if(0<e.length)for(var s=0;s<e.length;s+=1){var t=e[s],a=t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight;a&&$(t).addClass("delayed-tip")}},VideoList.prototype.thumbnailFor=function(e){return"https://osmose-it.s3.amazonaws.com/".concat(e[this.thumbnail])},a.exports=VideoList}),define("ui.VideoManagement",function(e,t,a){function VideoManagement(e){var t=this;this.videos=ko.observableArray(),this.perPage=25,this.pageNum=ko.observable(1),this.vidCount=ko.observable(0),this.totalPages=ko.computed(function(){return Math.ceil(t.vidCount()/t.perPage)}),this.searchTerm=ko.observable(urlQuery.q),urlQuery.title&&this.openVideoPanel(urlQuery.title.replace(/\_/g," ")),urlQuery.p&&!isNaN(+urlQuery.p)&&this.pageNum(+urlQuery.p),e(this),this.getMediaList(this.searchTerm())}function loadMediaData(e,t){t.data&&(e.videoData={filename:t.data.filename,dr:t.data.dr||"n/a",thumb:"https://osmose-it.s3.amazonaws.com/"+(t.data.$||t.data.$$)},t.data.s3&&(e.videoData.s3={id:t.data.s3,path:"https://osmose-it.s3.amazonaws.com/"+t.data.s3}),t.data.mux&&(e.videoData.mux={id:t.data.mux,path:"https://stream.mux.com/"+t.data.mux}),t.data.v&&(e.videoData.yt=t.data.v))}VideoManagement.prototype.getMediaList=function(e){var t=this,a={page:this.pageNum()};e&&(a.q=e.toString(),window.updateUrlParam("q",a.q)),fs.post("adminGetVideos",a,function(e){t.videos.removeAll();var a=fs.transpose(e.videos.learnNodes);for(var s in t.vidCount(e.vidCount),a){var o={nodeID:a[s].nodeID,title:a[s].name,status:a[s].status};loadMediaData(o,a[s]),t.videos.push(o)}})},VideoManagement.prototype.addVideo=function(){this.openVideoPanel()},VideoManagement.prototype.editVideo=function(e){this.openVideoPanel(e)},VideoManagement.prototype.handleEditVideo=function(e){var t=this;return function(){t.editVideo(e.title)}},VideoManagement.prototype.handleRemoveVideo=function(e){var t=this;return function(){t.removeVideo(e)}},VideoManagement.prototype.removeVideo=function(e){var t=this;fs.confirm("Are you sure you want to permanently remove "+e.title+"?",function(a){fs.post("adminRemoveVideo",{nodeID:e.nodeID},function(){t.videos.remove(e),a()})})},VideoManagement.prototype.openVideoPanel=function(e,t){this.videoPanel,this.videoPanel=fs.mixAppend($("body"),"ui/VideoPanel",{concept:t?null:e,newTitle:t?e:null,createNew:t,parent:this}),e&&window.updateUrlParam("title",e.replace(/\s/g,"_"))},VideoManagement.prototype.search=function(){this.pageNum(1),this.searchTerm()?this.getMediaList(this.searchTerm()):this.clearSearch()},VideoManagement.prototype.clearSearch=function(){this.pageNum(1),this.searchTerm(""),this.getMediaList(),window.updateUrlParam("q")},VideoManagement.prototype.addVideoFromSearch=function(){this.openVideoPanel(this.searchTerm(),!0)},VideoManagement.prototype.prevPage=function(){1<this.pageNum()&&(this.pageNum(this.pageNum()-1),window.updateUrlParam("p",this.pageNum()),this.getMediaList(urlQuery.q))},VideoManagement.prototype.nextPage=function(){this.pageNum()!=this.totalPages()&&(this.pageNum(this.pageNum()+1),window.updateUrlParam("p",this.pageNum()),this.getMediaList(urlQuery.q))},a.exports=VideoManagement}),define("ui.VideoPanel",function(e,t,a){var s=Math.floor;function VideoPanel(e,t){var a=this;this.locked=ko.observable(),this.concept=t.concept,this.parent=t.parent,this.isNew=!this.concept,this.isPublished=ko.observable(!0),this.isPrime=ko.observable(!0),this.isInteractive=ko.observable(!1),this.attachInteractiveObject=ko.observable(!1),this.objectTitle=ko.observable(),this.title=ko.observable(this.concept||t.newTitle),this.videoData={dr:ko.observable(),thumb:ko.observable(),yt:ko.observable(),cc:ko.observable(),by:ko.observable(),script:ko.observable()},this.origScript=ko.observable(),this.nodeID=ko.observable(),this.s3Location=ko.observable(),this.muxLocation=ko.observable(),this.majorConcepts=ko.observableArray([]),this.minorConcepts=ko.observableArray([]),this.renames=ko.observableArray([]),this.hasChanges=ko.observableArray(),this.notes=ko.observableArray(),this.tables=ko.observableArray(),this.concept&&!t.createNew&&this.populatePanel(),e(this),this.majorConceptSearch=fs.mixAppend($(".major-concepts-section .input-section",this.dom),"ui/SearchBar",{includeBreadcrumb:!0,showAllConcepts:!0,customSearchCallback:function customSearchCallback(e){a.onSearchSelect("major",e),$(".main-search .search-input",a.majorConceptSearch.dom).blur()}}),this.minorConceptSearch=fs.mixAppend($(".minor-concepts-section .input-section",this.dom),"ui/SearchBar",{includeBreadcrumb:!0,showAllConcepts:!0,customSearchCallback:function customSearchCallback(e){a.onSearchSelect("minor",e),$(".main-search .search-input",a.minorConceptSearch.dom).blur()}}),this.addUploaders()}function canonicalizeYoutube(e){if(~e().indexOf("?")){var t=window.getQueryString(e().split("?")[1]);e(t.v)}else 0==e().indexOf("https://youtu.be/")?e(e().slice(17)):0==e().indexOf("http://youtu.be/")&&e(e().slice(16))}function checkTitle(e){return e?~e.toLowerCase().indexOf("clinical reasoning")&&0!=e.indexOf("Clinical Reasoning: ")?"\"Clinical Reasoning\" is a reserved label. All videos including this title must have the form Clinical Reasoning: Video name":~e.toLowerCase().indexOf("pharmacology")?"Category names like \"Pharmacology\" should not be in the video title.":void 0:"Please provide a title."}function extractNotes(e){if(e=_.filter(e,function(e){return e.title()}),e.length){var t={};for(var a in e)t[e[a].version]={title:e[a].title(),page:e[a].page(),nodeID:e[a].nodeID()||void 0};return t}}function extractTables(e){return e.length?_.map(_.filter(e,function(e){return e.title()},function(e){return e.title()})):void 0}function getNameFromSearchTerm(e){if(!e||!e.name)return null;var t=e.name;return t[0].toUpperCase()+t.slice(1)}var o="osmose-it",d="https://stream.mux.com";VideoPanel.prototype.populatePanel=function(){var e=this;fs.post("adminGetVideoData",{title:this.title()},function(t){if(console.log(t),e.origNodeID=t.nodeID,e.title(t.name),e.isPublished(!!(0<t.status)),e.isPrime(2==t.status),e.nodeID(t.nodeID),t.mediaNode&&t.mediaNode.data&&(e.isInteractive(3==t.mediaNode.type),(t.mediaNode.data.$$||t.mediaNode.data.$)&&(e.videoData.thumb("https://osmose-it.s3.amazonaws.com/"+(t.mediaNode.data.$||t.mediaNode.data.$$)),e.videoData.$$=t.mediaNode.data.$$,e.videoData.$=t.mediaNode.data.$),t.mediaNode.data.s3&&(e.videoData.s3={path:"https://osmose-it.s3.amazonaws.com/"+t.mediaNode.data.s3,id:ko.observable(t.mediaNode.data.s3)},e.s3Location(e.videoData.s3.id())),t.mediaNode.data.mux&&(e.videoData.mux={path:d+"/"+t.mediaNode.data.mux,id:ko.observable(t.mediaNode.data.mux)},e.muxLocation(e.videoData.mux.id())),t.mediaNode.data.yt&&e.videoData.yt(t.mediaNode.data.yt),t.mediaNode.data.cc&&e.videoData.cc(t.mediaNode.data.cc),t.mediaNode.data.dur&&e.videoData.dr(t.mediaNode.data.dur),t.mediaNode.data.by&&e.videoData.by(t.mediaNode.data.by),t.mediaNode.data.script&&e.videoData.script(t.mediaNode.data.script)),t.linkedConcepts)for(var a in t.linkedConcepts)1==t.linkedConcepts[a].type?e.majorConcepts.push(t.linkedConcepts[a]):2==t.linkedConcepts[a].type&&e.minorConcepts.push(t.linkedConcepts[a]);if(t.renames)for(var a in t.renames)e.renames.push(t.renames[a].name);if(t.data.notes&&!t.data.notes.n)for(var a in t.data.notes)e.notes.push({version:a,title:ko.observable(t.data.notes[a].t),page:ko.observable(t.data.notes[a].p),nodeID:ko.observable(t.data.notes[a].n)});else e.notes.push({version:2018,title:ko.observable(),page:ko.observable(),nodeID:ko.observable()});if(t.data.tables)for(var a in t.data.tables)e.tables.push({title:ko.observable(t.data.tables[a])});e.origScript(e.videoData.script()),e.hasChanges.removeAll()})},VideoPanel.prototype.addUploaders=function(){var e=this;this.videoUploader=fs.mixAppend($(".video-upload-section",this.dom),"ui/Uploader",{s3BucketName:o,uploaderConfig:{chunk_size:"2000mb",max_file_size:"2000mb",filters:[{title:"Osmosis Videos",extensions:"mpeg,mp4,m4v"}]},uploadCompletion:function uploadCompletion(t,a,s){var o=s.status;if(console.log(t,a,s),console.log(t),console.log(a),console.log(s),204==o){e.hasChanges.push("video");var n="https://osmose-it.s3.amazonaws.com/"+t.settings.multipart_params.Filename;e.videoData.s3={path:n,id:ko.observable(t.settings.multipart_params.Filename)},e.s3Location(e.videoData.s3.id()),fs.post("adminPushVideo",{s3Filename:e.videoData.s3.path,name:a.name},function(t){if(console.log(t),t.mux&&t.mux.data&&t.mux.data.playback_ids){var a=t.mux.data.playback_ids[0].id;e.videoData.mux={path:d+"/"+a,id:ko.observable(a),data:t.mux.data},e.videoData.muxAssetID=t.mux.data.id,e.muxLocation(e.videoData.mux.id()),e.getVideoLength()}})}else fs.alert("Hmm, something went wrong... Very possibly this was Ryan's fault (as Sam has his shit together and wouldn't eff up like this), but more than likely the real culprit is the man/woman in the mirror and I'd ask him/her to change their ways. No message could have been any clearer - if you wanna make this upload take place you gotta look at yourself and make the change.","You broke it :(. Srsly... shit got twisted")}}),this.thumbUploader=fs.mixAppend($(".thumb-upload-section",this.dom),"ui/Uploader",{s3BucketName:o,uploaderConfig:{chunk_size:"200mb",max_file_size:"200mb",filters:[{title:"Video thumbnails",extensions:"jpg,jpeg,png"}]},uploadCompletion:function uploadCompletion(t,a,s){var o=s.status;if(console.log(t,a,s),204==o){e.hasChanges.push("thumbnail");var d="https://osmose-it.s3.amazonaws.com/"+t.settings.multipart_params.Filename;e.videoData.$$=t.settings.multipart_params.Filename,e.videoData.thumb(d)}else fs.alert("Hmm, something went wrong... Very possibly this was Ryan's fault (as Sam has his shit together and wouldn't eff up like this), but more than likely the real culprit is the man/woman in the mirror and I'd ask him/her to change their ways. No message could have been any clearer - if you wanna make this upload take place you gotta look at yourself and make the change.","You broke it :(. Srsly... shit got twisted")}}),this.captionUploader=fs.mixAppend($(".caption-upload-section",this.dom),"ui/Uploader",{s3BucketName:o,uploaderConfig:{chunk_size:"200mb",max_file_size:"200mb",filters:[{title:"Video captions",extensions:"vtt"}]},uploadCompletion:function uploadCompletion(t,a,s){var o=s.status;if(console.log(t,a,s),204==o){e.hasChanges.push("video");"https://osmose-it.s3.amazonaws.com/"+t.settings.multipart_params.Filename;e.videoData.cc(t.settings.multipart_params.Filename)}else fs.alert("Hmm, something went wrong... Very possibly this was Ryan's fault (as Sam has his shit together and wouldn't eff up like this), but more than likely the real culprit is the man/woman in the mirror and I'd ask him/her to change their ways. No message could have been any clearer - if you wanna make this upload take place you gotta look at yourself and make the change.","You broke it :(. Srsly... shit got twisted")}}),this.scriptUploader=fs.mixAppend($(".script-upload-section",this.dom),"ui/Uploader",{s3BucketName:o,uploaderConfig:{chunk_size:"200mb",max_file_size:"200mb",filters:[{title:"Video transcripts",extensions:"md"}]},uploadCompletion:function uploadCompletion(t,a,s){var o=s.status;console.log(t,a,s),204==o?(e.hasChanges.push("video"),e.videoData.script(t.settings.multipart_params.Filename)):fs.alert("Hmm, something went wrong... Very possibly this was Ryan's fault (as Sam has his shit together and wouldn't eff up like this), but more than likely the real culprit is the man/woman in the mirror and I'd ask him/her to change their ways. No message could have been any clearer - if you wanna make this upload take place you gotta look at yourself and make the change.","You broke it :(. Srsly... shit got twisted")}})},VideoPanel.prototype.removeVideo=function(){var e=this;fs.confirm("Are you sure you want to remove the video? I can assure you this is not the video that killed the radio star... it's done nothing wrong. Continuing will end this videos life. Keep that in mind while you're being so cavalier with the \"X's\"!","A friendly reminder","warning",function(t){e.s3Location(null),e.muxLocation(null),delete e.videoData.s3,delete e.videoData.mux,e.hasChanges.push("video"),t()})},VideoPanel.prototype.removeCaption=function(){var e=this;fs.confirm("Is our fearful trip done? Is the prize we sought won? Are you sure you want to remove the caption? ","O Caption! My Caption!","warning",function(t){e.videoData.cc(null),e.hasChanges.push("video"),t()})},VideoPanel.prototype.removeScript=function(){var e=this;fs.confirm("Are you sure you want to remove the transcript? ","Remove transcript","warning",function(t){e.videoData.script(null),e.hasChanges.push("video"),t()})},VideoPanel.prototype.removeThumb=function(){var e=this;fs.confirm("Are you sure you want to remove this thumbnail? (and are you also sure that progressive philosophy does not contain the answers to societal problems?)","Reflect on this","warning",function(t){e.videoData.thumb(null),delete e.videoData.$$,delete e.videoData.$,e.hasChanges.push("thumbnail"),t()})},VideoPanel.prototype.removeRename=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove this \"rename\"? Playlists and SEO could be affected.","Careful now partner","warning",function(a){t.renames.remove(e),t.hasChanges.push("renames"),a()})}},VideoPanel.prototype.onSearchSelect=function(e,t){console.log(t);var a={name:t.termName||t.name,breadcrumb:t.breadcrumb};t.rawText?fs.alert("Please select from the list. If the list is empty, <strong>"+a.name+"</strong> is not a valid concept in the database."):this.addConcept(a,e)},VideoPanel.prototype.scrollToSection=function(e){this.scrollToEl($("."+e+"-section",this.dom))},VideoPanel.prototype.editConcept=function(e){this;return function(){window.open("https://osmosis.org/editconcept?term="+e.name,"_blank")}},VideoPanel.prototype.handleRemoveConcept=function(e,t){var a=this;return function(){a.removeConcept(e,t)}},VideoPanel.prototype.removeConcept=function(e,t){this.hasChanges.push("concepts"),"major"==t?this.majorConcepts.remove(e):this.minorConcepts.remove(e)},VideoPanel.prototype.addConcept=function(e,t){this.hasChanges.push("concepts"),"major"==t?this.majorConcepts.push(e):this.minorConcepts.push(e)},VideoPanel.prototype.scrollToEl=function(){},VideoPanel.prototype.revertChanges=function(){},VideoPanel.prototype.updateTranscript=function(e){fs.post("adminUploadTranscript",{nodeID:this.origNodeID,script:this.videoData.script()},function(t){t.updated?window.location.reload():(fs.alert("Hmm, looks like that transcript already exists. If you feel thats not true, its possible there was an error and if so you should contact product team."),e())})},VideoPanel.prototype.getVideoLength=function(e){var t=this;fs.post("pullVideoLength",{mediaData:this.parseVideoData()||{}},function(a){a.dr&&(t.videoData.dr(a.dr),e&&e())})},VideoPanel.prototype.pullVideoLength=function(e){this.getVideoLength(e)},VideoPanel.prototype.pullYoutubeData=function(){var e=this;return function(t){e.videoData.yt()?(canonicalizeYoutube(e.videoData.yt),fs.post("pullYoutubeVideoData",{videoID:e.videoData.yt()},function(a){if(a){e.hasChanges.push("video"),e.hasChanges.push("thumbnail"),a.data.$&&(e.videoData.$=a.data.$),a.data.$$&&(e.videoData.$$=a.data.$$);var s="https://osmose-it.s3.amazonaws.com/"+e.videoData.$||e.videoData.$$;e.videoData.thumb(s),a.data.dr&&e.videoData.dr(a.data.dr)}t()})):(t(),fs.alert("Slow your roll champ... we need a youtube video ID before we can pull thumbnail.","::Facepalm::","warning"))}},VideoPanel.prototype.parseVideoData=function(){var e={};return this.isInteractive()?e.objectTitle=this.objectTitle():(this.videoData.s3&&(e.s3=this.videoData.s3.id()),this.videoData.mux&&(e.mux=this.videoData.mux.id()),this.videoData.muxAssetID&&(e.muxAssetID=this.videoData.muxAssetID),this.videoData.yt()&&(e.v=this.videoData.yt()),this.videoData.cc()&&(e.cc=this.videoData.cc()),this.videoData.script()&&(e.script=this.videoData.script()),!isNaN(+this.videoData.dr())&&(e.dr=this.videoData.dr()),e.by=this.videoData.by()||"Osmosis"),this.videoData.$&&(e.$=this.videoData.$),this.videoData.$$&&(e.$$=this.videoData.$$),e.v||e.s3||e.v||(e.empty=!0),e},VideoPanel.prototype.parseConcepts=function(e){var t=[];for(var a in e)t.push(e[a].name);return t},VideoPanel.prototype.canSave=function(){var e=this.parseConcepts(this.majorConcepts());if(0!=e.length){var t=this.parseVideoData();if(t.empty)return!0;if(!t.v&&!this.isInteractive()){if(!t.s3)return;if(!t.mux)return;if(!t.$$)return}return!0}},VideoPanel.prototype.save=function(){var e=this;if(!this.locked()){var t=checkTitle(this.title());if(t)return void fs.alert(t);if(this.canSave())this.locked(!0),fs.post("adminSaveVideo",{new:this.isNew,changes:_.map(_.countBy(this.hasChanges()),function(e,t){return t}),title:this.title().trim(),mediaData:this.parseVideoData(),majorConcepts:this.parseConcepts(this.majorConcepts()),minorConcepts:this.parseConcepts(this.minorConcepts()),status:this.isPublished()?1:0,isPrime:this.isPrime(),nodeID:this.origNodeID,notes:extractNotes(e.notes()),object:e.objectTitle(),tables:extractTables(e.tables()),renames:this.renames()},function(){window.location.href=e.isNew?"/editlearn":"/editlearn?title="+e.title().replace(/\s/g,"_")});else{var a=["aeDl5P1ZTYCMdCkBUopcxPEDS1y4ia4y/_.gif","8oGn9QKGToSZ8wwXIKgJhCXDTYqtNzQo/_.gif","U_zx53_iQI69-GAGIRS0YpMeSEWUPxc0/_.gif"],o="<img class=\"mtl center\" src=\""+window.mediaServer+"/"+a[s(Math.random()*a.length)]+"\">";fs.alert("It's okay, you messed up. All is not lost though. Just make sure you have what all videos crave... a Title and at least one (1) Major Concept. "+o,"A message from President Camacho")}}},VideoPanel.prototype.cancel=function(){var e=this;this.hasChanges().length?fs.confirm("Edits have been made. Are you sure you want to close this dialog?","Unsaved Changes","warning",function(t){e.revertChanges(),e.close(),t()}):this.close()},VideoPanel.prototype.close=function(){window.updateUrlParam("title"),this.dom.remove()},VideoPanel.prototype.createConcept=function(){var e=this;fs.prompt("Enter a name for the concept:",function(t,a){fs.post("adminCreateNewConceptCard",{name:t},function(t){e.majorConcepts.push(t.concept)}),a()},getNameFromSearchTerm(this.majorConceptSearch.getSearchTermData()))},VideoPanel.prototype.addTable=function(){this.tables.push({title:ko.observable()})},a.exports=VideoPanel}),define("ui.VideoPlayer",function(e,t,a){function VideoPlayer(e,t){this.videoData=t.videoArgs,this.videoOptions={},this.load()}VideoPlayer.prototype.loadVideoOptions=function(){var e=this;e.videoOptions={controls:!0,preload:"auto"},$.extend(e.videoOptions,e.videoData)},VideoPlayer.prototype.load=function(){var e=this;e.loadVideoOptions(),e.video=videojs("#vjs-video",e.videoOptions)},a.exports=VideoPlayer}),define("ui.VideoPlaylist",function(e,t,a){var s=Math.floor;function VideoPlaylist(e,t){function getIconFor(e){return"video"===e?"https://d3cdo0emj8d2qc.cloudfront.net/assets/71e7e522444440761e2b1a6bba54c22b744be3e4.png":"flashcards"===e?"https://d3cdo0emj8d2qc.cloudfront.net/assets/xSH30axvSdedX7qjp7MJkpBeQCu-WjUX.svg":"questions"===e?"https://d3cdo0emj8d2qc.cloudfront.net/assets/nM7QYpJ5RDqFS5TJaLZ6Qc6vSASsO1OZ.svg":"notes"===e?"https://d3cdo0emj8d2qc.cloudfront.net/assets/8qFwkjZxST_hvmR9ywfHQLejT1WcvKZj.svg":null}var a=this,s=this;this.parent=t.parent,this.url=t.url,this.title=t.title,this.descr=t.descr,this.playlists=ko.observableArray(),this.img=t.img?window.mediaServer+"/"+t.img:"https://d3cdo0emj8d2qc.cloudfront.net/assets/ddac3ad0776deb6a4fa607ea95305d04a61b7329.png",this.checkboxes=t.checkboxes;var d=t.list;for(var n in this.concepts=_.flatten(t.list.map(function(e){return e.sections.map(function(e){return e.concepts})})).filter(function(e){return!e.externalSource}),s.calculateVideoLengths(d),d)for(var l in d[n].sections){var c=!0,p=!1,u=void 0;try{for(var m=d[n].sections[l].concepts[Symbol.iterator](),v,b;!(c=(v=m.next()).done);c=!0)b=v.value,b.resources=ko.observableArray()}catch(e){p=!0,u=e}finally{try{c||null==m.return||m.return()}finally{if(p)throw u}}for(var h in d[n].sections[l].videos){var g=d[n].sections[l].videos[h],f=o.get(g.title);g.checked=f}}fs.post("getLearnPages",{concepts:this.concepts.map(function(e){return e.title})},function(e){for(var a=Object.values(e.concepts),s=function _loop17(){var e=a[o],s=_.flatten(t.list.map(function(e){return e.sections.map(function(e){return e.concepts})})).find(function(t){return reg1=new RegExp(e.name),reg2=new RegExp(t.title),reg1.exec(t.title)||reg2.exec(e.name)});return s?void(0<e.fcCount&&s.resources.push({name:"flashcards",icon:getIconFor("flashcards")}),0<e.quesCount&&s.resources.push({name:"questions",icon:getIconFor("questions")}),e.sections.notes&&s.resources.push({name:"notes",icon:getIconFor("notes")})):(console.warn("Can't find concept to modify"),"continue")},o=0,d;o<a.length;o++)d=s(),"continue"===d}),s.playlists(d),this.videoCount=ko.computed(function(){return _.flatten(a.playlists().map(function(e){return e.sections.map(function(e){return e.concepts})})).length}),e(this),window.user&&t.checkboxes&&this.getCheckedStatus()}var o=t("app/conceptCheckboxes");VideoPlaylist.prototype.sideNavBarPositioning=function(){var e=$(this.dom).scrollTop(),t=$(".main-header").height(),a=$(".top-bar",this.dom).height();$(".navigation-links",this.dom).css({top:Math.max(a+t+42-e,55)})},VideoPlaylist.prototype.getCheckedStatus=function(){var e=this;fs.post("getPlaylistCheckboxes",{list:e.url},function(t){for(var a in console.log(t),e.playlists())for(var s in e.playlists()[a].sections)for(var o in e.playlists()[a].sections[s].videos){var d=e.playlists()[a].sections[s].videos[o];t&&t.concepts&&t.concepts[d.title]&&d.checked(!0)}})},VideoPlaylist.prototype.lengthToString=function(e){var t=s(e/3600),a=s((e-3600*t)/60),o=e%60;return(0<t?t+":":"")+(0<t&&10>a?"0":"")+a+":"+(10>o?"0":"")+s(o)},VideoPlaylist.prototype.conceptUrl=function(e){return"/learn/".concat(e.name.replace(/\s/g,"_"))},VideoPlaylist.prototype.toggleCheckbox=function(e){this;return function(){e.checked(!e.checked()),fs.post("updateUserConcept",{terms:[e.title],state:e.checked()?1:0})}},VideoPlaylist.prototype.getHref=function(e,t){return t.externalSource?t.href:"/learn/"+e.replace(/\s/g,"_")},VideoPlaylist.prototype.handleOpenVideo=function(e,t){var a=this;return function(){return t.externalSource?void window.open(t.href):void(window.user?a.openVideo(e):window.location.href="/learn/"+e.replace(/\s/g,"_"))}},VideoPlaylist.prototype.openVideo=function(e){var t=$(".concept-broswer-modal-bg",this.dom),a=$(".concept-browser-modal",this.dom);t.fadeIn().css("display","block"),a.fadeIn().css("display","block");var s=this.concepts.map(function(e){return e.name=e.title,e});fs.mixAppend(a,"ui/ConceptSeriesBrowser",{conceptIdx:s.findIndex(function(t){return t.name===e}),concepts:s,close:function close(){t.fadeOut(),a.fadeOut()}})},VideoPlaylist.prototype.playFirstVideo=function(){for(var e in this.playlists())for(var t in this.playlists()[e].sections)for(var a in this.playlists()[e].sections[t].videos){var s=this.playlists()[e].sections[t].videos[a];if(!s.checked())return void this.openVideo(s.title)}},VideoPlaylist.prototype.openStudySchedule=function(){window.location.href="/study/"},VideoPlaylist.prototype.calculateVideoLengths=function(e){for(var t in e){var a=0;for(var s in e[t].sections){var o=0;for(var d in e[t].sections[s].videos)if(e[t].sections[s].videos[d].thumbnail){var n=0|e[t].sections[s].videos[d].length;a+=n,o+=n}else;e[t].sections[s].totalLength=o}e[t].totalLength=a}},VideoPlaylist.prototype.scrollTo=function(e){var t=this;return function(){var a=$("#"+e),s=$(t.dom);window.goToByScroll(a,0,s)}},VideoPlaylist.prototype.hasMedia=function(e){return!!e.media},a.exports=VideoPlaylist}),define("ui.Viewer",function(e,t,a){a.exports=function Viewer(e){this.dom=$("<div style=\"width:500px; height:400px\">").appendTo(e),$(template("ui/Viewer")).appendTo(this.dom),$("div.split-pane").splitPane()}}),define("ui.WikiArticle",function(e,t,a){function WikiArticle(){}WikiArticle.prototype.get=function(e,t,a){var s=this;$.getJSON(e,{},function(e){var o=$(e.text);if(o.hasClass("redirectMsg")&&!a){var d=$($("a",o)[0]).attr("href");if(d){if(0==d.indexOf("/w/")){var n=d.slice(19).split("&");d="/wiki/"+n[0]}return s.get(d,function(e){t&&t(e)},!0)}}s.render(e,o),t&&t(e)})},WikiArticle.prototype.render=function(e,t){t=t||$(e.text),this.dom.empty(),this.dom.append(t),$(".metadata",this.dom).remove(),$(".hatnote",this.dom).remove(),$(".infobox",this.dom).remove(),$(".navbox",this.dom).remove();var a=this.dom.children();$("#toc",this.dom).prependTo(this.dom);var s=$("<div class=\"article-title\"><div class=\"wiki-logo\"><img src=\"https://d16qt3wv6xm098.cloudfront.net/J-hUjuJtRAi5dZ8rqS4595w5SsuCg0YE/_.png\" alt=\"wikipedia logo\" /></div><span class=\"the-title\">"+e.title+"</span></div>");$("#toc",this.dom).prepend(s),$("#toctitle").remove();var o=$("<div>").prependTo($("#toc",this.dom)),d=$(".infobox img",this.dom);if(d.length){var n=$(d[0]);n.addClass("article-thumbnail").attr("width","").attr("height",""),o.append(n)}var d=[];for(var l in a)if($(a[l]).hasClass("thumb")){var c=$("img",a[l]);c.addClass("article-thumbnail").attr("width","").attr("height",""),d.push($(a[l]))}else break;for(var l in d)o.append(d[l]);$(".mw-editsection",this.dom).remove()},a.exports=WikiArticle}),define("ui.WikiResourceBlock",function(e,t,a){function WikiResourceBlock(e,t){var a=this;this.y=t.y;var s=t.resource;this.url=ko.observable(s.data().u),this.img=ko.observable(s.data().$),this.term=t.term,this.text=t.text,this.title=ko.observable(s.data().t),this.color=ko.observable(s.pub.color),this.displaySize=ko.observable(s.pub.displaySize),this.thumbnailSrc=ko.computed(function(){var e=a.img()||o.getDefaultImage(a.url());return mediaServer+"/"+e}),t.dom.css("top",t.y+"px").css("left",t.x+"px"),"small"!=this.displaySize()&&t.dom.width(t.width).height(t.height),this.slideNodeID=t.slideNodeID,e(this),this.dom.tooltip({placement:"right"})}var s=t("app/wikify"),o=t("models/media/urlPatterns");WikiResourceBlock.prototype.setY=function(e){this.y=e,this.dom.css("top",this.y+"px")},WikiResourceBlock.prototype.showWiki=function(){s.showResources(this.term,this.text,{ref:"doc-slide",originID:this.slideNodeID})},a.exports=WikiResourceBlock}),define("ui.WikiTermContainer",function(e,t,a){function WikiTermContainer(e,t){this.term=ko.observable(t.term),this.text=t.text,this.thumbnails=ko.observable(t.thumbnails),this.y=t.y,this.pageNodeID=t.pageNodeID,t.dom.width(t.width).css("top",t.y+"px").css("left",t.x+"px"),e(this)}var s=t("app/wikify");WikiTermContainer.prototype.setY=function(e){this.y=e,this.dom.css("top",this.y+"px")},WikiTermContainer.prototype.showResources=function(){s.showResources(this.term(),this.text,{ref:"doc-slide",originID:this.pageNodeID})},a.exports=WikiTermContainer}),define("ui.WorkspaceDecks",function(e,t,a){function WorkspaceDecks(e,t){var a=this;this.author=t.author,this.kind=t.kind;var o=fs.transpose(navData.moduleData,s);for(var d in o.sort(function(e,t){return+new Date(""+t.examDate())-+new Date(""+e.examDate())}),e(this),this.decks=[],o){var n=$("<div class=\"row\"><div class=\"col-md-12 row-title\"><div><i class=\"fa fa-folder\"></i> <span class=\"module-title\">"+o[d].name()+"</span></div></div></div><hr style=\"margin-top: 5px; margin-bottom: 10px\"><div class=\"row\"><div class=\"col-md-12 row-decks\"></div></div>").appendTo($(".module-decks")),l=fs.mixAppend($(".row-decks",n),"ui/Decks",{moduleID:o[d].moduleID,moduleBegin:moment(""+o[d].startsOn()).format("YYYY-MM-DD"),moduleEnd:moment(""+o[d].examDate()).format("YYYY-MM-DD"),folderIsActive:!!o[d].isActive(),subdeck:!0,author:a.author,title:o[d].name(),archivedDate:o[d].isActive()?null:moment(""+o[d].examDate()).format("MMMM D")});this.decks.push(l)}this.decks.unshift(fs.mixAppend($(".group-deck",this.dom),"ui/Decks",{subdeck:!0,author:a.author,title:window.groupName,folderIsActive:!0}))}var s=t("models/Module");WorkspaceDecks.prototype.refresh=function(){for(var e in this.decks)this.decks[e].getDecks()},a.exports=WorkspaceDecks}),define("ui.WorkspaceQuickLinks",function(e,t,a){var s=t("models/GroupSnapshot");a.exports=function WorkspaceQuickLinks(){var e=fs.transpose(window.groupSnapshotData,s);e.sort(function(e,t){return e.name()>t.name()?-1:e.name()<t.name()?1:0}),this.groups=ko.observableArray(e)}}),define("ui.WorkspaceQuizBuilder",function(e,t,a){function WorkspaceQuizBuilder(e){var t=this;if(this.sidebarNav=ko.observable("decks"),this.refreshing=ko.observable(!1),this.scoreboardVisible=ko.observable(!1),this.promoteMode=ko.observable("disabled"),this.fcCount=s.count.fc,this.quesCount=s.count.ques,this.repCount=s.count.rep,this.bannerVisible=ko.observable(!0),this.headerBoxVisible=ko.observable(!0),this.calendarQuizLocked=ko.observable(!0),this.moduleQuizLocked=ko.observable(!0),this.groupName=ko.observable(),this.groupUrl=ko.observable(),this.breadcrumbVisible=ko.observable(!1),this.hasLegacyDailyGoals=ko.observable(),this.hasLegacyTopics=ko.observable(),window.legacyFeatures&&(this.hasLegacyDailyGoals(legacyFeatures.dailyGoals),this.hasLegacyTopics(legacyFeatures.boardTopic)),e(this),this.deckQuizSelector=fs.mix(this,"ui/QuizBlockByWorkspaceDeck"),this.calendarQuizSelector=fs.mix(this,"ui/QuizBlockByCalendar",{legacy:!0}),this.moduleQuizSelector=fs.mix(this,"ui/QuizBlockByModule"),"lecture"==urlQuery.ref&&(this.breadcrumbVisible(!0),urlQuery.g)){var a=window.groupSnapshotData.groupID.indexOf(+urlQuery.g);this.groupName(window.groupSnapshotData.name[a]),this.groupUrl(window.groupSnapshotData.url[a])}0==location.pathname.indexOf("/home/")&&this.doSelect("topics"),this.checkBannerHide(),setTimeout(function(){t.sizeQuizSelection()},1e3),$(window).resize(function(){t.sizeQuizSelection()})}var s=t("app/queues");WorkspaceQuizBuilder.prototype.sizeQuizSelection=function(){var e=$(".quiz-selection").offset().top,t=767<$(window).width()?+e-30:25+$(".quiz-nav").outerHeight();$(".quiz-selection").css({height:"calc(100% - "+t+"px)"})},WorkspaceQuizBuilder.prototype.changeMode=function(e,t){var a=this;return function(){a.sidebarNav(e),t&&a[t].show()}},WorkspaceQuizBuilder.prototype.select=function(e){var t=this;if(t.tab()!=e)return function(){t.doSelect(e)}},WorkspaceQuizBuilder.prototype.doSelect=function(e){this.tab()==e||(this.tab(e),$(".sidebar-menu .filters .ui-mobile-TitleBar",this.dom).slideUp(250,function(){$(".sidebar-menu .filters .ui-mobile-TitleBar",this.dom).appendTo(".sidebar-menu li.selected .filters").slideDown(250)}),$(document).trigger("review.tabChanged"))},WorkspaceQuizBuilder.prototype.startQuiz=function(e){this.scoreboardVisible(!1),$(document).trigger("review.startQuiz",[e])},WorkspaceQuizBuilder.prototype.startQuickQuiz=function(){this;return function(){}},WorkspaceQuizBuilder.prototype.selectTab=function(e){var t=this;return function(){t.sidebarNav(e)}},WorkspaceQuizBuilder.prototype.navTo=function(e){return function(){tabToURL(e)}},WorkspaceQuizBuilder.prototype.quickQuizIntro=function(){this;this.intro=introJs(),this.intro.setOptions({disableInteraction:!0,showStepNumbers:!1,steps:[{element:".ui-QueueControlBar",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Quick Quizzes</strong><br /><br />Access all of your flagged content from the menu bar. Select from Flashcards, questions, and Spaced Repetition, then start a quiz.</div>",position:"bottom"},{element:".ui-QueueControlBar .queue-item.flashcard-queue i",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Flagged Flashcards</strong><br /><br />Start or customize a quiz from all of your recently flagged flashcards</div>",position:"bottom"},{element:".ui-QueueControlBar .queue-item.question-queue i",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Flagged Questions</strong><br /><br />You can flag and quiz yourself on board-style questions too!</div>",position:"bottom"},{element:".ui-QueueControlBar .queue-item.repetition-queue i",intro:"<div style=\"width:275px;\"><strong style=\"font-size:20px;\">Spaced Repetition</strong><br /><br />Fully customize and quiz yourself from your spaced repetition schedule.</div>",position:"left"},{intro:"<div class=\"center final-step\" style=\"width:275px;\"><strong style=\"font-size:20px;\">That's it... you're ready!</strong><br /><em>Now go crush it</em></div>"}]}),this.intro.onchange(function(){}),this.intro.onexit(function(){}),this.intro.oncomplete(function(){}),this.intro.start()},WorkspaceQuizBuilder.prototype.checkBannerHide=function(){window.Storage&&window.localStorage.quizBuilderBannerHide&&0<=moment(window.localStorage.quizBuilderBannerNextShow).diff(moment())&&this.bannerVisible(!1)},WorkspaceQuizBuilder.prototype.closeBanner=function(){this.bannerVisible(!1),window.Storage},WorkspaceQuizBuilder.prototype.closeHeaderBox=function(){this.headerBoxVisible(!1),this.sizeQuizSelection()},a.exports=WorkspaceQuizBuilder}),define("ui.account.AddEmail",function(e,t,a){function AddEmail(e,t){var a=this;for(var s in this.primary=t.parent.value,this.newEmail=ko.observable(),this.addingEmail=ko.observable(),this.emailMsg=ko.observable({}),this.password=ko.observable(""),this.emails=ko.observableArray(),t.emails)1==t.emails[s]&&this.emails.push(s);for(var s in t.emails)2==t.emails[s]&&this.emails.push(s);for(var s in this.unverified=ko.observableArray(),t.emails)0==t.emails[s]&&this.unverified.push(s);this.primary.subscribe(function(){a.changePrimary()})}AddEmail.prototype.add=function(){var e=this;return this.newEmail()?void(this.addingEmail(!0),fs.post("addEmail",{email:this.newEmail(),pasword:this.password()},function(t){t.alert?fs.alert(t.alert):(e.unverified.push(e.newEmail()),e.newEmail(""),e.emailMsg(t),e.addingEmail(!1))})):fs.alert("Please enter a valid email address.")},AddEmail.prototype.cancel=function(){this.parent.collapse()},AddEmail.prototype.resend=function(e){return function(){fs.post("addEmail",{email:e},function(t){t.alert?fs.alert(t.alert):$.jGrowl("Email sent. Please check "+e,{life:1e3,position:"bottom-left"})},function(){$.jGrowl("Email could not be sent please try again later.",{life:1e3,position:"bottom-left"})})}},AddEmail.prototype.verify=function(e){return function(){fs.prompt("Enter verification code:",function(t,a){fs.post("verifyAddedEmail",{email:e,code:t},function(){location.reload()},function(e){a(),fs.alert(e.error.msg)})})}},AddEmail.prototype.changePrimary=function(){fs.post("changeEmailStatus",{primary:this.primary()},function(){})},a.exports=AddEmail}),define("ui.account.AppPacks",function(e,t,a){function AppPacks(e,t){this.packs=t.packs}AppPacks.prototype.changeBundleStatus=function(e,t){return function(){fs.post("changeBundleStatus",{bundleID:e.bundleID,status:t},function(){e.active(t)})}},a.exports=AppPacks}),define("ui.account.ChangePassword",function(e,t,a){function ChangePassword(e,t){var a=this;this.currentPasswd=ko.observable(),this.newPasswd=ko.observable(""),this.passwordStrength=ko.computed(this.checkPasswordStrength,this),this.invalidStrength=ko.computed(function(){return!a.validStrength(a.newPasswd())}),this.retypePasswd=ko.observable(),this.savingPasswd=ko.observable(!1),this.passwdMsg=ko.observable({}),t.data().updateData=function(){return a.passwdSave()}}ChangePassword.prototype.passwdSave=function(){var e=this;return this.newPasswd()==this.retypePasswd()?this.newPasswd()&&this.currentPasswd()&&this.retypePasswd()?this.invalidStrength()?void e.passwdMsg({error:{msg:"Your new password must be at least of \"okay\" strength."}}):0>=this.newPasswd().replace(/\s/g,"").length?void e.passwdMsg({error:{msg:"Password can't be just spaces/whitespace"}}):void(this.savingPasswd(!0),fs.post("passwd",{currentPass:md5(trim(this.currentPasswd())),newPass:md5(trim(this.newPasswd()))},function(t){e.savingPasswd(!1),e.passwdMsg(t),e.currentPasswd(""),e.newPasswd(""),e.retypePasswd(""),setTimeout(function(){window.location.href="/login?traditional"},1500)},function(t){e.passwdMsg(t),e.savingPasswd(!1),e.currentPasswd("")})):void e.passwdMsg({error:{msg:"All fields are required."}}):(e.newPasswd(""),e.retypePasswd(""),void e.passwdMsg({error:{msg:"New passwords do not match!"}}))},ChangePassword.prototype.passwdCancel=function(){this.currentPasswd(""),this.newPasswd(""),this.retypePasswd(""),this.parent.collapse()},ChangePassword.prototype.checkPasswordStrength=function(){var e=0;return(this.newPasswd().match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(e+=1),this.newPasswd().match(/([a-zA-Z])/)&&this.newPasswd().match(/([0-9])/)&&(e+=1),this.newPasswd().match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&(e+=1),7<this.newPasswd().length&&(e+=1),2>e)?"very-weak":2==e?"weak":3==e?"okay":4<=e?"strong":void 0},ChangePassword.prototype.validStrength=function(e){var t=this.checkPasswordStrength(e);return"okay"===t||"strong"===t},a.exports=ChangePassword}),define("ui.account.DataInput",function(e,t,a){function DataInput(e,t){var a=this;a.clickAction=function(){t.clickAction(t.dataIdx)},a.item=ko.computed(function(){return t.dataObs()[t.dataIdx]}),a.name=ko.computed(function(){return a.item().name}),a.current=ko.computed(function(){return"function"==typeof a.item().current?a.item().current():a.item().current}),a.complete=ko.computed(function(){return"function"==typeof a.item().complete?a.item().complete(t.dataObs(),t.dataIdx,a):a.item().complete}),a.loading=ko.computed(function(){return a.item().loading&&a.item().loading()}),a.shouldHide=ko.computed(function(){return!!a.item().shouldHide&&a.item().shouldHide(t.dataObs(),t.dataIdx,a.item)}),a.skippable=ko.computed(function(){return a.item().skippable}),a.skipped=ko.computed(function(){return!!a.skippable()&&a.item().skipped()}),e(this)}DataInput.prototype.statusText=function(){return this.complete()?"Complete":"Incomplete"},DataInput.prototype.currentHtml=function(){if(!this.current()||"undefined"!=typeof this.current().length&&0===this.current().length||"undefined"===this.current())return"Add "+this.name().split("(")[0].toLowerCase();if(this.current().constructor===Array){for(var e="<ul>",t=0;t<this.current().length;t++)e+="<li>"+this.current()[t]+"</li>";return e+="</ul>",e}return this.current()},a.exports=DataInput}),define("ui.account.Groups",function(e,t,a){function Groups(e,t){this.groups=ko.observableArray(t.groups)}Groups.prototype.changeGroupStatus=function(e,t){return function(){fs.post("changeGroupStatus",{g:e.groupID,status:t},function(){e.active(t)})}},Groups.prototype.leaveGroup=function(e,t){return function(){fs.confirm("Are you sure you want to leave "+t.name+"?","Leave Group","danger",function(a){fs.post("leaveGroup",{g:t.groupID},function(){e.groups.remove(t),a()})})}},a.exports=Groups}),define("ui.account.Legacy",function(e,t,a){function Legacy(e){function update(e){return function(){t.update(e)}}var t=this;for(var a in this.features=ko.observableArray(),s)this.features.push({field:a,name:s[a],checked:ko.observable()});e(this);var o=this.features();for(var d in o)window.legacyFeatures&&o[d].checked(legacyFeatures[o[d].field]),o[d].checked.subscribe(update(o[d]))}var s={dailyGoals:"Quiz by Daily Goals",boardTopic:"Quiz by Board Topic",libraryChecklist:"Library Checklist"};Legacy.prototype.update=function(e){fs.post("toggleLegacyFeature",{feature:e.field,state:e.checked()?1:0},function(){})},a.exports=Legacy}),define("ui.account.Page",function(e,t,a){function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}a.exports=function AccountPage(e){var t=this,a=this;a.isLoading=ko.observable(!0);var s=window.location.pathname.match(/account\/(.*)/),o=s&&s[1]?toTitleCase(s[1].toUpperCase()):"Profile";this.currentTab=ko.observable(),e(this),fs.post("getAccountSettings",{},function(e){for(var s in e)window.account[s]=e[s];t.isLoading(!1),t.currentTab.subscribe(function(e){$(".current-tab").empty(),fs.mixAppend($(".current-tab",this.dom),"tabs/account/"+e.toLowerCase()),history.replaceState({},"","/account/".concat(e.toLowerCase()))}),t.currentTab(o),fs.mix(a,"ui/account/SideNav",{currentTab:t.currentTab})}),$(document).ready(function(){setTimeout(function(){var e=$(".phone-lg .current-tab.scrollable"),t=e.height()-$(".ui-account-SideNav").height()-10;e.css("height",t+"px")},2500)})}}),define("ui.account.PrimeSubscription",function(e,t,a){var s=t("ui/primeExtras");a.exports=function PrimeSubscription(){this.primeExtra=ko.observableArray(s(window.user.primeExtra))}}),define("ui.account.ProfessionData",function(e,t,a){function ProfessionData(){}ProfessionData.MDSpecialties=[{name:"Allergy and Immunology",subSpecialties:[]},{name:"Nuclear Medicine",subSpecialties:[]},{name:"Preventive Medicine",subSpecialties:[0,1,2,3]},{name:"Anesthesiology",subSpecialties:[0,4,5,1,6,7,8,9,10]},{name:"Obstetrics and Gynecology",subSpecialties:[0,11,12,13,14]},{name:"Psychiatry",subSpecialties:[0,15,16,17,18,19,6,20,21]},{name:"Colon and Rectal Surgery",subSpecialties:[]},{name:"Ophthalmology",subSpecialties:[22]},{name:"Radiation Oncology",subSpecialties:[6]},{name:"Dermatology",subSpecialties:[23,24]},{name:"Orthopaedic Surgery",subSpecialties:[25,26,27,28,29,30,31,32]},{name:"Radiology",subSpecialties:[33,34,35,1,36,37,38,39,40,41]},{name:"Emergency Medicine",subSpecialties:[0,1,42,2,43,44,3]},{name:"Osteopathic Neuromusculoskeletal Medicine",subSpecialties:[]},{name:"Surgery",subSpecialties:[45,27,46,47,48]},{name:"Family Medicine (General Practice)",subSpecialties:[0,1,49,6,44]},{name:"Otolaryngology",subSpecialties:[50,51]},{name:"Thoracic Surgery",subSpecialties:[52]},{name:"Internal Medicine",subSpecialties:[0,53,54,55,56,1,57,58,59,49,60,61,6,62,63,64,65,66,67,68,69,21,70]},{name:"Pathology",subSpecialties:[71,72,1,73,23,74,75,76,77,78,79,80]},{name:"Transitional Year",subSpecialties:[]},{name:"Medical Genetics and Genomics",subSpecialties:[1,81,77]},{name:"Pediatrics",subSpecialties:[0,82,83,1,84,6,63,85,86,87,43,88,89,90,91,92,93,94,95,21,44]},{name:"Urology",subSpecialties:[11,96]},{name:"Neurological Surgery",subSpecialties:[36]},{name:"Physical Medicine and Rehabilitation",subSpecialties:[16,97,8,98,99,44]},{name:"Neurology",subSpecialties:[16,100,36,101,102,97,8,21,103]},{name:"Plastic Surgery",subSpecialties:[27,104]},{name:"Other / Not Sure",subSpecialties:[]}];ProfessionData.secondaryMarketProfessions=["Clinical Officer","Athletic Trainer","Audiologist","Chiropractor","Clinical Laboratory Technologist or Technician","Clinical Scientist (disambiguation)","Dental Hygienist","Diagnostic Medical Sonographer","Diagnostic Radiographer","Diagnostic Related Technologists and Technician","Dietitians and Nutritionist","Emergency Medical Technician and Paramedic","Exercise Physiologist","Genetic Counselor","Health Practitioner Support Technologist or Technician","Hearing Aid Specialist","Home Health aide","Licensed Practical Nurse or Licensed Vocational Nurse","Magnetic Resonance Imaging Technologist","Massage Therapist","Medical Artist","Medical Assistant","Medical Records and Health Information Technician","Medical Transcriptionist","Mental Health Counselor","Nurse Midwife","Nursing Assistant","Advanced Practice Nurse","Occupational Therapist","Optometrist","Orthotists and Prosthetist","Phlebotomist","Pharmacy Technician","Recreational Therapist","Drug addiction counselor","Registered Dietitian","Respiratory Therapist","Speech Language Pathologist","Surgical Technologist","Veterinary Assistant or Laboratory Animal Caretaker","Veterinary Technologist or Technician","Other Healthcare Support Occupation"].map(function(e){return{name:e,market:"Secondary"}}),ProfessionData.classYears={0:"Other",1:"Undergrad",2:"Incoming first year",3:"First year",4:"Rising second year",5:"Second year",6:"Rising third year",7:"Third year",8:"Rising fourth year",9:"Fourth year",10:"Rising fifth year",11:"Fifth year",12:"Rising sixth year",13:"Sixth year"},ProfessionData.classYear2Number={"First year":1,"Second year":2,"Third year":3,"Fourth year":4,"Fifth year":5,"Sixth year":6,Undergrad:7,Other:8},self.defaultStatuses=["Graduated","Faculty","Other"],ProfessionData.filterClassYears=function(e){var t=[],a=moment().format("M");if(4<=a&&9>=a){for(var s in e)(~ProfessionData.classYears[e[s]].indexOf("Rising")||~ProfessionData.classYears[e[s]].indexOf("Incoming"))&&t.push(e[s]);for(var s in e)~ProfessionData.classYears[e[s]].indexOf("Rising")||~ProfessionData.classYears[e[s]].indexOf("Incoming")||t.push(e[s])}else for(var s in e)~ProfessionData.classYears[e[s]].indexOf("Rising")||~ProfessionData.classYears[e[s]].indexOf("Incoming")||t.push(e[s]);return t},ProfessionData.defaultClassYears=ProfessionData.filterClassYears([2,3,4,5,6,7,8,9,1,0]),ProfessionData.otherFields=["Family","Friend","Patient"],ProfessionData.professions=[{name:"Medicine (MD)",market:"Primary",statuses:["Graduated","Intern (PGY1)","Resident (PGY2 and later)","Fellow","Attending","Faculty","Other"],specialties:ProfessionData.MDSpecialties,classYears:ProfessionData.defaultClassYears},{name:"Medicine (DO)",market:"Primary",statuses:["Graduated","Intern (PGY1)","Resident (PGY2 and later)","Fellow","Attending","Faculty","Other"],specialties:ProfessionData.MDSpecialties,classYears:ProfessionData.defaultClassYears},{name:"Medicine (MD/PhD)",market:"Primary",statuses:["Graduated","Intern (PGY1)","Resident (PGY2 and later)","Fellow","Attending","Faculty","Other"],specialties:ProfessionData.MDSpecialties,classYears:ProfessionData.defaultClassYears},{name:"Medicine (MBBS)",market:"Primary",statuses:["Graduated","Other","Faculty","Consultant","Registrar","Senior House Officer","Foundation Doctor"],specialties:ProfessionData.MDSpecialties,classYears:ProfessionData.filterClassYears([2,3,4,5,6,7,8,9,10,11,12,13])},{name:"Medicine (MBChB)",market:"Primary",statuses:["Graduated","Other","Consultant","Faculty","Foundation Doctor","Core Medical Trainee","Core Surgical Trainee","Specialist Trainee","General Practice Trainee"],specialties:ProfessionData.MDSpecialties,classYears:ProfessionData.filterClassYears([2,3,4,5,6,7,8,9,10,11,12,13])},{name:"Dentistry",market:"Primary",statuses:["Graduated","Resident","Practicing Dentist","Faculty","Other"],specialties:[{name:"Dental Public Health",subSpecialties:[]},{name:"Endodontics",subSpecialties:[]},{name:"Oral and Maxillofacial Pathology",subSpecialties:[]},{name:"Oral and Maxillofacial Radiology",subSpecialties:[]},{name:"Oral and Maxillofacial Surgery",subSpecialties:[]},{name:"Orthodontics and Dentofacial Orthopedics",subSpecialties:[]},{name:"Pediatric Dentistry",subSpecialties:[]},{name:"Periodontics",subSpecialties:[]},{name:"Prosthodontics",subSpecialties:[]},{name:"Other / Not Sure",subSpecialties:[]}],classYears:ProfessionData.defaultClassYears},{name:"Pharmacy",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.defaultClassYears},{name:"Physical Therapy",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.defaultClassYears},{name:"Physician Assistant",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.filterClassYears([1,2,3,4,5,6,7,0])},{name:"Podiatry",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.defaultClassYears},{name:"Registered Nursing",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.filterClassYears([1,2,3,4,5,6,7,0])},{name:"Nurse Practitioner",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.filterClassYears([1,2,3,4,5,6,7,0])},{name:"Veterinary Medicine",market:"Primary",statuses:ProfessionData.defaultStatuses,specialties:[],classYears:ProfessionData.defaultClassYears},{name:"Faculty",market:"Primary",statuses:[],specialties:[],classYears:[]},{name:"Other",market:"Primary",statuses:[],specialties:[],classYears:[]}],ProfessionData.subSpecialties={0:"Addiction Medicine",1:"Clinical Informatics",2:"Medical Toxicology",3:"Undersea and Hyperbaric Medicine",4:"Adult Cardiothoracic",5:"Anesthesiology Critical Care Medicine",6:"Hospice and Palliative Medicine",7:"Obstetric Anesthesiology",8:"Pain Medicine",9:"Pediatric Anesthesiology",10:"Regional Anesthesiology and Acute Pain Medicine",11:"Female Pelvic Medicine and Reconstructive Surgery",12:"Gynecologic Oncology",13:"Maternal-Fetal Medicine",14:"Reproductive Endocrinology and Infertility",15:"Addiction Psychiatry",16:"Brain Injury Medicine",17:"Child and Adolescent Psychiatry",18:"Forensic Psychiatry",19:"Geriatric Psychiatry",20:"Psychosomatic Medicine",21:"Sleep Medicine",22:"Ophthalmic Plastic and Reconstructive Surgery",23:"Dermatopathology",24:"Micrographic Surgery and Dermatologic Oncology",25:"Adult Reconstructive Orthopaedic Surgery",26:"Foot and Ankle Orthopaedic Surgery",27:"Hand Surgery",28:"Musculoskeletal Oncology",29:"Orthopaedic Sports Medicine",30:"Orthopaedic Surgery of the Spine",31:"Orthopaedic Trauma",32:"Pediatric Orthopaedic Surgery",33:"Diagnostic Radiology",34:"Interventional Radiology-Integrated",35:"Abdominal Radiology",36:"Endovascular Surgical Neuroradiology",37:"Interventional Radiology",38:"Musculoskeletal Radiology",39:"Neuroradiology",40:"Nuclear Radiology",41:"Pediatric Radiology",42:"Emergency Medical Services",43:"Pediatric Emergency Medicine",44:"Sports Medicine",45:"Complex General Surgical Oncology",46:"Pediatric Surgery",47:"Surgery Critical Care",48:"Vascular Surgery",49:"Geriatric Medicine",50:"Neurotology",51:"Pediatric Otolaryngology",52:"Congenital Cardiac Surgery",53:"Adult Congenital Heart Disease",54:"Advanced Heart Failure and Transplant Cardiology",55:"Cardiovascular Disease",56:"Clinical Cardiac Electrophysiology",57:"Critical Care Medicine",58:"Endocrinology, Diabetes, and Metabolism",59:"Gastroenterology",60:"Hematology",61:"Hematology and Medical Oncology",62:"Infectious Disease",63:"Internal Medicine-Pediatrics",64:"Interventional Cardiology",65:"Medical Oncology",66:"Nephrology",67:"Pulmonary Critical Care",68:"Pulmonary Disease",69:"Rheumatology",70:"Transplant Hepatology",71:"Blood Banking/Transfusion Medicine",72:"Chemical Pathology",73:"Cytopathology",74:"Forensic Pathology",75:"Hematopathology",76:"Medical Microbiology",77:"Molecular Genetic Pathology",78:"Neuropathology",79:"Pediatric Pathology",80:"Selective Pathology",81:"Medical Biochemical Genetics",82:"Adolescent Medicine",83:"Child Abuse Pediatrics",84:"Developmental-Behavioral Pediatrics",85:"Neonatal-Perinatal Medicine",86:"Pediatric Cardiology",87:"Pediatric Critical Care Medicine",88:"Pediatric Endocrinology",89:"Pediatric Gastroenterology",90:"Pediatric Hematology Oncology",91:"Pediatric Infectious Diseases",92:"Pediatric Nephrology",93:"Pediatric Pulmonology",94:"Pediatric Rheumatology",95:"Pediatric Transplant Hepatology",96:"Pediatric Urology",97:"Neuromuscular Medicine",98:"Pediatric Rehabilitation Medicine",99:"Spinal Cord Injury Medicine",100:"Clinical Neurophysiology",101:"Epilepsy",102:"Neurodevelopmental Disabilities",103:"Vascular Neurology",104:"Craniofacial Surgery"},a.exports=ProfessionData}),define("ui.account.QuestionSources",function(e,t,a){a.exports=function QuestionSources(e,t){for(var a in this.codes=ko.observableArray(),t.codes){var s=t.codes[a];6==s.inventoryID,this.codes.push(s)}}}),define("ui.account.Referral",function(e,t,a){function Referral(e){var t=this;this.referralLink="https://www.osmosis.org/invite/"+window.user.code,this.primeHelpedCount=ko.observable(0),this.primeUpgradeCount=ko.observable(0),this.limitCount=window.user.referralData.primeDaysReferralLimit/14,this.unlimitedReferrals=-1===window.user.referralData.primeDaysReferralLimit,this.rewards=ko.observableArray([{item:"shirt",name:"Osmosis shirt",upgradeReq:2,image:"https://d16qt3wv6xm098.cloudfront.net/4FscG16iSt2hKv_jlbAs1f1QQ_i_ycFx/_.png"},{item:"textbook",name:"Osmosis textbook of your choice",upgradeReq:5,image:"https://d16qt3wv6xm098.cloudfront.net/ZTPZGHFNQFmii0_Z2MaxkBAsRrKoSemW/_.png"},{item:"mug",name:"Osmosis mug",upgradeReq:10,image:"https://d16qt3wv6xm098.cloudfront.net/FTzVkAJ8Q36SEmBAuh9sftBmRk6XqRko/_.png"},{item:"drawn",name:"Get drawn into an Osmosis video",upgradeReq:20,image:"https://d16qt3wv6xm098.cloudfront.net/q6YpuL4zT3_738VXs8viHiMcSaiYWrgh/_.png"}]),this.setPrimeHelpedEarnedCount(),e(this),fs.get("referralUpgrades",{userID:window.userID}).then(function(e){t.primeUpgradeCount(e.referralUpgrades.length)}),fs.mix(this,"ui/ReferralLink")}Referral.prototype.setPrimeHelpedEarnedCount=function(){for(var e=this,t=fs.transpose(window.user.primeExtra),a=0;a<t.length;a++)1===t[a].reason&&e.primeHelpedCount(e.primeHelpedCount()+t[a].count)},Referral.prototype.copyLink=function(){var e=$(".referral-link-hidden",this.dom);e.select(),analytics.track("interaction",{feature:"refer_friend",event_type:"copy"}),document.queryCommandSupported("copy")?(document.execCommand("copy"),$.jGrowl("Link copied to clipboard!",{life:2e3,position:"center",theme:"blue"})):fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\""+e.val()+"\" /><script type=\"text/javascript\">function inputSelect(){$(\"#share-link-popup-input\").select();} setTimeout(function(){inputSelect()},500);</script>","Share Video","info")},a.exports=Referral}),define("ui.account.RepetitionSettings",function(e,t,a){function RepetitionSettings(){}RepetitionSettings.prototype.reschedule=function(e){var t=this,a={osmosis:"Osmosis",local:"school"};return function(){fs.post("getOverdueCount",{source:e},function(t){t.count?fs.prompt("You currently have <b>"+t.count+"</b> overdue "+a[e]+" cards. Please input the <b>number of days</b> to spread these cards over:",function(a,s,o){return a?void(s(),fs.confirm("Approximately <b>"+Math.round(t.count/a)+"</b> cards per day will be added to your currently scheduled cards each day starting tomorrow and extending <b>"+a+"</b> days.",function(){fs.post("rescheduleOverdueQueues",{source:e,days:a},function(){location.reload()})})):(fs.alert("Please enter a value for the number of days to spread the overdue cards over."),o())}):fs.alert("You currently have 0 overdue cards.")})}},a.exports=RepetitionSettings}),define("ui.account.ResetQueue",function(e,t,a){function ResetQueue(){}ResetQueue.prototype.unflag=function(e,t){return function(){fs.confirm("Are you sure you want to unschedule all <b>"+e+"</b> "+t+"?",function(a){fs.prompt("Unscheduling <i>all "+t+"</i> cannot be undone. Please type <b>reset all</b> to confirm:","Confirm Delete","danger",function(s,o){"reset all"==s?fs.post("unflag",{source:e,type:t},function(){o(),a(),$.jGrowl("Unscheduled all "+e+" "+t+".",{life:3e3,position:"bottom-left"}),location.reload()}):(fs.alert("Try again."),o(),a())},"",function(){a()})})}},ResetQueue.prototype.clearHistory=function(){this;fs.confirm("Are you sure you want to clear your <b>entire question answering history</b>?",function(e){fs.prompt("This cannot be undone. Please type <b>clear absolutely everything</b> to confirm:","Confirm Delete","danger",function(t,a){"clear absolutely everything"==t?fs.post("clearHistory",{},function(){a(),e(),$.jGrowl("Cleared everything.",{life:3e3,position:"bottom-left"})}):(fs.alert("Try again."),a(),e())},"",function(){e()})})},a.exports=ResetQueue}),define("ui.account.SideNav",function(e,t,a){function SideNav(e,t){var a=this;a.currentTab=t.currentTab,a.topExpanded=ko.observable(!1),a.toggleExpanded=function(e,t){t.stopPropagation(),a.topExpanded(!a.topExpanded())},a.topExpanded.subscribe(function(){}),$("body").click(function(){a.topExpanded(!1)}),e(this),$(".ui-account-SideNav a").on("click",function(t){t.preventDefault()})}var s=t("ui/Modal");SideNav.prototype.changeTab=function(e,t,a){var s=this;s.topExpanded()&&t.stopPropagation(),s.topExpanded(!1),s.currentTab(a)},SideNav.prototype.openReferralModal=function(){s.open({showHeader:!1,component:"ui/ReferralLink"})},a.exports=SideNav}),define("ui.account.Timezone",function(e,t,a){function Timezone(e){this.saving=ko.observable(!1),e(this),this.names=moment.tz.names(),this.names.unshift("");var t=""+this.names.indexOf(o.timezone());this.timezoneSel=s(this,"timezoneSel",{options:this.names,value:t})}var s=t("ui/select"),o=t("app/timezone");Timezone.prototype.save=function(){var e=this,t=this.names[this.timezoneSel.value()];return t?void(e.saving(!0),fs.post("updateTimezone",{timezone:t},function(){location.replace("/account")},function(){fs.alert("Invalid timezone.")})):fs.alert("Choose a timezone first!")},Timezone.prototype.cancel=function(){this.parent.collapse()},a.exports=Timezone}),define("ui.account.input.Birthday",function(e,t,a){function Birthday(e,t){var a=this;this.data=t.data(),this.data.currentShow=ko.observable(),a.errors=ko.observable(!1),t.data().updateData=function(){if(a.data.complete=!!(a.data.current&&a.validInput()),a.errors(!a.data.complete),!a.data.complete)return!1;a.data.current;return t.data().loading(!0),fs.post("updateUserProfile",{dob:a.data.current},function(){t.data().loading(!1)}),window.user.profile.dob=a.data.current,a.data.current=a.data.currentShow(),t.data(a.data),!0},e(this)}Birthday.prototype.validInput=function(){var e=/\d\d?\/\d\d?/g;return e.test(this.data.current)},a.exports=Birthday}),define("ui.account.input.Career",function(e,t,a){a.exports=function Career(e,t){this.career=t.data().career,e(this),fs.mix(this,"ui/account/input/FieldYear",{career:this.career}),fs.mix(this,"ui/account/input/Specialty",{career:this.career})}}),define("ui.account.input.Email",function(e,t,a){function Email(e,t){this;for(var a in this.data=t.data(),this.loading=t.data().loading,this.primary=ko.observable(),this.emails=ko.observableArray(),this.unverified=ko.observableArray(),this.password=ko.observable(""),this.data.emails=window.account.emails,this.data.emails)1==this.data.emails[a]?this.primary(a):2==this.data.emails[a]?this.emails.push(a):this.unverified.push(a);this.hideLabel=t.hideLabel,this.currentInput=ko.observable(),this.updateData=t.data().updateData=function(){return t.data(this.data),t.dataObs(t.dataObs()),!0},e(this)}Email.prototype.addEmail=function(){var e=this;e.loading(!0);var t=/\S+@\S+\.\S+/;"string"!=typeof this.password()||0===this.password().length?(e.loading(!1),fs.alert("Please enter your current password.")):t.test(this.currentInput())?fs.post("addEmail",{email:this.currentInput(),password:md5(trim(this.password()))},function(t){e.loading(!1),t.alert?fs.alert(t.alert):(e.unverified.push(e.currentInput()),e.currentInput(""),e.password(""),e.updateData(),e.saveToLocal())}):(e.loading(!1),fs.alert("Please enter a valid email address."))},Email.prototype.promptVerification=function(e){var t=this;return function(){fs.prompt("Enter verification code:",function(a,s){fs.post("verifyAddedEmail",{email:e,code:a},function(){t.emails.push(e),t.unverified.remove(e),t.saveToLocal(),s()},function(e){s(),fs.alert(e.error.msg)})})}},Email.prototype.resendVerification=function(e){this;return function(){fs.post("addEmail",{email:e},function(t){t.alert?fs.alert(t.alert):$.jGrowl("Email sent, please check "+e,{life:1e3,position:"bottom-left"})},function(){$.jGrowl("Email could not be sent please try again later.",{life:1e3,position:"bottom-left"})})}},Email.prototype.setAsPrimary=function(e){var t=this;return function(){t.loading(!0),fs.post("/switchPrimaryEmail",{email:e},function(a){if(a.success){t.loading(!1),t.emails.push(t.primary());var s=t.emails.indexOf(e);t.emails.splice(s,1),t.primary(e),t.saveToLocal()}})}},Email.prototype.remove=function(e){var t=this;return function(){"function"==typeof e&&(e=e()),fs.confirm("You are about to remove \"".concat(e,"\" from your associated emails"),function(a){t.loading(!0),fs.post("/removeEmail",{email:e},function(s){console.debug("remove res",s),s.newPrimary&&(t.primary(s.newPrimary),t.emails.remove(s.newPrimary)),t.emails.remove(e),t.unverified.remove(e),t.saveToLocal(),t.loading(!1),a()})})}},Email.prototype.saveToLocal=function(){window.account.emails={},window.account.emails[this.primary()]=1,_.each(this.emails(),function(t){window.account.emails[t]=2}),_.each(this.unverified(),function(t){window.account.emails[t]=0})},a.exports=Email}),define("ui.account.input.EmailSubscriptions",function(e,t,a){a.exports=function EmailSubscriptions(){}}),define("ui.account.input.FieldYear",function(e,t,a){a.exports=function FieldYear(e,a){var s=this,o=t("ui/account/ProfessionData");this.data=a.data(),s.professions=o.professions,s.secondaryProfessions=o.secondaryMarketProfessions,s.otherFields=o.otherFields,s.availableFields=s.professions.map(function(e){return e.name}),s.secondaryChoice=ko.computed(function(){return s.data.currentField()&&("Other"==s.data.currentField().name||"Secondary"==s.data.currentField().market)}),this.availableYears=ko.computed(function(){return s.data.currentField()&&s.data.currentField().classYears?s.data.currentField().classYears.map(function(e){return{number:e,name:o.classYears[e]}}):[]}),this.availableStatuses=ko.computed(function(){return"Other"!==s.data.currentType()&&s.data.currentField()?s.data.currentField().statuses||[]:[]}),s.data.currentType()||s.data.currentType("Student"),s.data.currentField()&&("Other"===window.user.profile.career.type?s.data.currentField(window.user.profile.career.degree):s.data.currentField(s.professions.find(function(e){return e.name===s.data.currentField().name}))),s.data.currentField()&&"undefined"!=typeof s.data.currentYear()&&s.data.currentYear(s.availableYears().find(function(e){return e.name===window.user.profile.career.status})),"secondaryProfession"===s.data.currentType()&&(s.data.currentType("Professional"),s.data.currentField(s.professions.find(function(t){return"Other"===t.name})),setTimeout(function(){return s.data.currentSecondary(s.secondaryProfessions.find(function(t){return t.name===window.user.profile.career.degree}))},1)),s.data.currentType.subscribe(function(){s.data.currentField(s.professions[0])}),a.data().updateData=function(){if((s.data.currentField().name||s.data.currentField())===window.user.profile.career.degree){var t="Student"===s.data.currentType()?s.data.currentYear().name:s.data.currentStatus();if(t===window.user.profile.career.status)return!0}s.data.current="Other"==s.data.currentField().name&&s.data.currentSecondary()?s.data.currentSecondary().name:function(){if("Student"===s.data.currentType())return s.data.currentField().name+(0<s.data.currentField().classYears.length?", "+s.data.currentYear().name:"");var e=s.data.currentField().name||s.data.currentField();return e+(s.data.currentField().statuses&&0<s.data.currentField().statuses.length?", "+s.data.currentStatus():"")}(),s.data.complete=!!s.data.current;var e=window.user.profile.career={degree:s.data.currentField().name||s.data.currentField(),type:s.data.currentType(),status:"Student"===s.data.currentType()?s.data.currentYear().name:s.data.currentStatus()};return"Other"===e.degree&&(delete e.status,e.type="secondaryProfession",e.degree=s.data.currentSecondary().name),"Other"===e.type&&delete e.status,a.data().loading(!0),fs.post("updateUserProfile",{career:e},function(){a.data().loading(!1)}),a.data(s.data),!0}}}),define("ui.account.input.ManageRepetition",function(e,t,a){var s=t("ui/Modal");a.exports=function ManageRepetition(){var e=this;e.rescheduleVal=ko.observable(),e.unscheduleVal=ko.observable(),e.clearVal=ko.observable(),e.reschedule=function(){e.rescheduleVal()&&s.open({showHeader:!0,header:"Reschedule Cards",component:"ui/account/input/RescheduleCards",onLoad:function onLoad(e,t){e.count.subscribe(function(e){0>=e&&t.opts.footerButtons([])})},args:{source:e.rescheduleVal()},footerButtons:[{text:"Reschedule",classes:"olive",bindToComponent:!0,closeOnAction:!1,disabledWhileLoading:!0,action:function action(e,t){t.loading(!0),e.reschedule(function(e){t.loading(!1),e&&t.close()})}},{text:"Cancel"}]})},e.unschedule=function(){if(e.unscheduleVal()){var t=e.unscheduleVal().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)});s.open({showHeader:!0,header:"Unschedule Cards",component:"ui/account/input/UnscheduleCards",args:{source:t[0],type:t[1]},footerButtons:[{text:"Unschedule",classes:"red",action:function action(){fs.prompt("Type \"unschedule selected\" to confirm you want to unschedule ".concat(e.unscheduleVal().replace("-"," "),":"),"Unschedule","warning",function(e,a,s){"unschedule selected"===e.toLowerCase()?(fs.post("unflag",{source:t[0].toLowerCase(),type:t[1].toLowerCase()},function(e){return 0===e.success?(console.error("unflag error",e),void fs.alert("There was a problem unscheduling "+t[0]+" "+t[1]+". Please contact support if the problem persists.")):void $.jGrowl("Unscheduled all "+t[0]+" "+t[1]+".",{life:3e3,position:"bottom-left"})}),a()):s()})}},{text:"Cancel"}]})}},e.clearHistory=function(){"clear"===e.clearVal()&&fs.confirm("You are about to clear your history, this cannot be undone!",function(e){fs.prompt("Type \"delete everything\" to confirm you want to clear your history:","Clear History","warning",function(t,a){"delete everything"===t.toLowerCase()&&fs.post("clearHistory",{},function(){}),a(),e()})})}}}),define("ui.account.input.Name",function(e,t,a){var s=function(){"use strict";function Name(e,t){var a=this;_classCallCheck(this,Name),this.data=t.data(),this.hideLabel=t.hideLabel,this.altLabels=t.altLabels,this.direction=t.direction||"vertical",this.firstNameError=ko.observable(!1),this.lastNameError=ko.observable(!1),t.data().updateData=function(){return(a.data.complete=a.validInput(),!!a.data.complete)&&(a.data.current="".concat(a.data.first," ").concat(a.data.last),a.data.loading(!0),t.data(a.data),fs.post("updateProfile",{preferredName:a.data.first,lastName:a.data.last},function(){a.data.loading(!1)}),!0)},e(this)}return _createClass(Name,[{key:"validInput",value:function validInput(){var e=!0;return this.data.first?this.firstNameError(!1):(this.firstNameError(!0),e=!1),this.data.last?this.lastNameError(!1):(this.lastNameError(!0),e=!1),e}}]),Name}();a.exports=s}),define("ui.account.input.RescheduleCards",function(e,t,a){a.exports=function RescheduleCards(e,t){var a=this;a.loading=ko.observable(!0),a.source=t.source,a.count=ko.observable(),a.days=ko.observable(),a.errors=ko.observable(!1),e(this),fs.post("getOverdueCount",{source:a.source},function(e){a.count(e.count),a.loading(!1)}),a.sourceDisplay=function(){return"osmosis"===a.source?"Osmosis":a.source},a.reschedule=function(e){return a.days()?void(a.loading(!0),fs.post("rescheduleOverdueQueues",{source:a.source,days:a.days()},function(t){a.loading(!1),t.success?$.jGrowl("Selected cards have been rescheduled"):$.jGrowl("Failed to reschedule cards, try again later. If the problem persists, please contact support"),e(t.success)})):void a.errors(!0)}}}),define("ui.account.input.School",function(e,t,a){function School(e,t){var a=this,o=this;this.data=t.data(),this.showSaveBtn=ko.observable(this.data.showSaveBtn),this.availableSchools=ko.observableArray(),this.newSchool=ko.observable(),this.errors=ko.observable(!1),t.data().updateData=function(){if(!o.newSchool()){var a=_.find(o.availableSchools(),function(e){return e.formalName===o.data.current});a&&o.newSchool(a)}if(o.data.complete=!!o.data.current,!o.data.complete)return o.errors(!0),!1;o.errors(!1),t.data().loading(!0);var e=o.newSchool();return e||(e={id:0,formalName:o.data.current,nickname:" "}),fs.post("updateUserProfile",{school:o.data.current,schoolID:e.id},function(){o.data.loading(!1),window.user.profile.school=o.data.current}),!0},this.update=function(){t.data().updateData()&&!t.data().stayOpenOnSave?(t.data(a.data),t.modalInstance.close()):!t.data().submitted()&&t.data().submitted(!0)},this.getSchools()}School.prototype.getSchools=function(){var e=this;window.schools?(e.availableSchools(window.schools),e.initAutocomplete()):fs.post("getAllSchools",{},function(t){_.each(t.schools.schoolID,function(a,s){e.availableSchools.push({id:a,formalName:t.schools.formalName[s],nickname:t.schools.nickname[s]})}),window.schools=e.availableSchools(),e.initAutocomplete()})},School.prototype.initAutocomplete=function(){var e=this;$("#schoolInput").autocomplete("/v0/school/autocomplete",{method:"get",delay:10,minChars:3,maxItemsToShow:10,matchSubset:1,autoFill:!1,onItemSelect:function onItemSelect(t){e.data.current=t.textContent,e.newSchool(_.find(e.availableSchools(),function(e){return e.formalName===t.textContent}))}})},a.exports=School}),define("ui.account.input.Social",function(e,t,a){a.exports=function Social(){}}),define("ui.account.input.Specialty",function(e,t,a){a.exports=function Specialty(e,a){var s=this;this.data=a.data(),this.ProfessionData=t("ui/account/ProfessionData"),this.availableSpecialties=this.data.currentField().specialties,this.hasSubSpecialties=ko.computed(function(){var e=s.data.currentSpecialty();return e&&e.subSpecialties&&0<e.subSpecialties.length}),this.availableSubSpecialties=ko.computed(function(){if(s.hasSubSpecialties())return s.data.currentSpecialty().subSpecialties.map(function(e){return s.ProfessionData.subSpecialties[e]})}),a.data().updateData=function(){_.contains(s.availableSubSpecialties(),s.data.currentSubSpecialty())||s.data.currentSubSpecialty("");var e=window.user.profile.career=_.extend(window.user.profile.career,{specialty:s.data.currentSpecialty().name,subSpecialty:s.data.currentSubSpecialty()});s.data.currentSubSpecialty()||delete e.subSpecialty,s.data.current(function(){var t=e.specialty;return e.subSpecialty&&(t=t+", "+e.subSpecialty),t}());s.data.complete=!!s.data.current();return fs.post("updateUserProfile",{career:e},function(){}),a.data(s.data),!0};var o=this;e(this),o.data.currentField.subscribe(function(t){t&&t.name!==window.user.profile.career.degree&&(o.data.current(""),o.data.complete=!1)})}}),define("ui.account.input.Timezone",function(e,t,a){function Timezone(e,t){var a=this;this.data=t.data(),a.loading=t.data().loading||ko.observable(!1),a.current=t.data().current,a.timezones=moment.tz.names(),t.data().updateData=function(){a.data.current=a.current,a.data.complete=!!a.data.current;var e=a.data.current;return window.timezone=e,a.loading(!0),fs.post("updateTimezone",{timezone:e},function(){a.loading(!1)},function(){fs.alert("Invalid timezone.")}),t.data(a.data),!0}}t("app/timezone");Timezone.InputToTZ=function(e){if("5.75"===e)return"Asia/Kathmandu";if("5.5"===e)return"Asia/Calcutta";if("4.5"===e)return"Asia/Kabul";if("3.5"===e)return"Asia/Tehran";var t=parseInt(e);return"Etc/GMT"+(0<t?"+":"-")+t.toString().replace("-","")},Timezone.TZToInput=function(e){if("Asia/Kathmandu"===e)return"5.75";return"Asia/Calcutta"===e?"5.5":"Asia/Kabul"===e?"4.5":"Asia/Tehran"===e?"3.5":-1<e.indexOf("-")?"-"+e.split("-")[1]+".0":e.split("+")[1]+".0"},Timezone.TZToDisplay=function(e){if("Asia/Kathmandu"===e)return"UTC +5:45";return"Asia/Calcutta"===e?"UTC +5:30":"Asia/Kabul"===e?"UTC +4:30":"Asia/Tehran"===e?"UTC +3:30":/Etc\/GMT/.test(e)?"UTC "+e.replace("Etc/GMT","")+":00":e},a.exports=Timezone}),define("ui.account.input.UnscheduleCards",function(e,t,a){a.exports=function UnscheduleCards(e,t){var a=this;a.source=t.source,a.type=t.type}}),define("ui.account.input.Workspace",function(e,t,a){function Group(e,t,a,s){var o=this;this.name=t,o.id=e,o.url=a,o.archiving=ko.observable(!1),o.activating=ko.observable(!1),o.removing=ko.observable(!1),o.promptingRemoval=ko.observable(!1),this.archiveBtnTxt=function(){return o.archiving()?"Archiving...":o.activating()?"Activating...":o.archived?"Reactivate":"Archive"},this.archived=s}function createGroupData(){var e=window.groupSnapshotData,t=window.account.groups;return _.reduce(window.account.groups.groupID,function(a,s,o){return a.push(new Group(s,t.name[o],e.url[o],!t.active[o])),a},[])}function Workspace(){var e=this;this.creatingWorkspace=ko.observable(!1),this.workspaces=ko.observableArray(createGroupData()),this.active=ko.computed(function(){return e.workspaces().filter(function(e){return!e.archived})}),this.inactive=ko.computed(function(){return e.workspaces().filter(function(e){return e.archived})})}Workspace.prototype.createWorkspace=function(e){var t=$(e).find("input")[0].value;t&&this.workspaces.push(new Group(t,!1))},Workspace.prototype.changeState=function(e,t){var a=this;return function(){e?t.archiving(!0):t.activating(!0),a.workspaces(a.workspaces()),fs.post("changeGroupStatus",{g:t.id,status:+!e},function(){t.archived=e,t.activating(!1),t.archiving(!1),a.workspaces(a.workspaces())})}},Workspace.prototype.promptRemove=function(e,t){var a=this;return function(){t&&_.each(a.workspaces(),function(e){return e.promptingRemoval(!1)}),e.promptingRemoval(t)}},Workspace.prototype.remove=function(e){var t=this;return function(){e.promptingRemoval(!1),e.removing(!0),fs.post("leaveGroup",{g:e.id},function(){t.workspaces.remove(e)})}},a.exports=Workspace}),define("ui.analytics.ActivityBlock",function(e,t,a){a.exports=function ActivityBlock(e,t){this.blocks=ko.observableArray(t.blocks)}}),define("ui.analytics.ContributorStats",function(e,t,a){function ContributorStats(){this.contributors=ko.observableArray(),this.contribNames=ko.observableArray(),this.thisUserID=ko.observable(userID),this.thisUserContributed=ko.observable(!1)}function Contributor(e){for(var t in e)this[t]=ko.observable(e[t]);var a=s.is(this.userID);this.name=ko.computed(function(){return e.userID?a():"Totals"})}var s=t("app/who");ContributorStats.prototype.add=function(e){this.contributors.push(new Contributor(e))},a.exports=ContributorStats}),define("ui.analytics.CumulativeAnalytics",function(e,t,a){function CumulativeAnalytics(e){var t=this;this.isLoading=ko.observable(!0),this.mode=ko.observable("everything"),this.sort=ko.observable(),this.sortBy=ko.observable(),this.selectedTopicType=ko.observable("questions"),this.selectedTopicID=ko.observable(523),this.topics=ko.observableArray();var a=s.name;for(var o in a)this.topics.push({topicID:o,topic:s.fullName[o],icon:s.getIcon(o,50)});for(var o in this.selectedModuleID=ko.observable(),this.selectedModuleType=ko.observable("questions"),this.modules=ko.observableArray(),window.moduleIndex)this.modules.push(window.moduleIndex[o]);this.modules.sort(function(e,t){return new Date(t.startsOn)-new Date(e.startsOn)}),this.table=ko.observableArray(),e(this),this.selectedModuleID.subscribe(function(){t.filterByModule()}),this.graph(),$(".topic-btn",this.dom).tooltip(),$(".accConfBlock",this.dom).tooltip()}function cmp(e,t,a){return e>t?a:t>e?-a:0}var s=t("shared/topics");CumulativeAnalytics.prototype.load=function(e){console.log(e.graph)},CumulativeAnalytics.prototype.graph=function(){var e=this;e.isLoading(!0),e.sort(""),e.sortBy(""),e.table.removeAll(),fs.post("getGroupAnalyticsTable",{g:window.groupID,mode:e.mode(),type:"topics"==e.mode()?e.selectedTopicType():e.selectedModuleType(),topicID:e.selectedTopicID(),MID:e.selectedModuleID()},function(t){var a=fs.transpose(t.data);for(var s in a){var o=a[s];o.total=o.cH+o.cM+o.cL+o.iH+o.iM+o.iL}e.table(a),e.isLoading(!1)})},CumulativeAnalytics.prototype.filterByTopic=function(e,t){var a=e;return function(){a.selectedTopicID(t),a.mode("topics"),a.graph()}},CumulativeAnalytics.prototype.filterByModule=function(){var e=this;e.mode("modules"),e.graph()},CumulativeAnalytics.prototype.clearFilters=function(){var e=this;this.mode("everything"),e.graph()},CumulativeAnalytics.prototype.setTopicType=function(e){var t=this;return function(){t.mode("topics"),t.selectedTopicType(e),t.graph()}},CumulativeAnalytics.prototype.setModuleType=function(e){var t=this;return function(){t.mode("modules"),t.selectedModuleType(e),t.selectedModuleID()||t.selectedModuleID(t.modules()[0].moduleID),t.filterByModule()}},CumulativeAnalytics.prototype.inspectUser=function(e,t){return function(){dialog("ui/dialogs/UserAnalytics",function(){},{userID:t})}},CumulativeAnalytics.prototype.triggerSort=function(e){var t=this;return function(){t.sortBy(e),"desc"==t.sort()?t.sort("asc"):"asc"==t.sort()?t.sort("desc"):t.sort("asc"),t.table.sort(function(s,a){return cmp(s[e],a[e],"desc"==t.sort()?-1:1)})}},a.exports=CumulativeAnalytics}),define("ui.analytics.DailyActivityBlock",function(e,t,a){var s=Math.round;function DailyActivityBlock(e,t){e(this),this.filter=t.filter,fs.ajaxLoad(this,"analytics",{m:0,filter:t.filter}),this.loaded=t.loaded}function getContext(e,t){for(var a=[],s=t-7;s<t+7;s++)a.push({value:s in e?e[s]:0,idx:s-t});return a}function getColor(e){var t=e;return 0==t?[238,238,238]:hsv2rgb(2/3,t,1)}function percent(e,t,a){var o=getColor(e/a),d=s(100*(e/a))+"%";return 0==t&&(d="<u>"+d+"</u>"),a?{color:"rgb("+o[0]+","+o[1]+","+o[2]+")",value:d}:{color:"white",value:0}}DailyActivityBlock.prototype.load=function(e){var t=Math.floor((+moment().subtract(this.filter.userIDs.start,this.filter.userIDs.units)-BEGINNING_OF_TIME)/864e5),a=getContext(e.all.responseHistory.uniqueUsersByDay,t),s=e.all.responseHistory.totals.totalUsers,o=[{color:"white",value:s}];for(var d in a)o.push(percent(a[d].value,a[d].idx,s));fs.mix(this,"ui/analytics/ActivityBlock",{blocks:o}),this.loaded()},a.exports=DailyActivityBlock}),define("ui.analytics.Segmentation",function(e,t,a){function Segmentation(e){var t=this;this.events=ko.observableArray(["Item Response","Open Document","Open Concept Card"]),this.xAxisType=ko.observable("week"),this.event=ko.observable(this.events()[0]),this.yAxisTypes=ko.observableArray(["unique"]),this.yAxisType=ko.observable("unique"),this.xAxisTypes=ko.observableArray(["day","week"]),this.start=ko.observable(moment().subtract(30,"days").format("YYYY-MM-DD")),this.end=ko.observable(moment().format("YYYY-MM-DD")),this.presetStart=ko.observable(30),this.manualStart=ko.observable(this.start()),this.timeframes=ko.observableArray([{label:"Past 96 Hours",value:4},{label:"Past 30 Days",value:30},{label:"Past 24 Weeks",value:168},{label:"Past 12 Months",value:moment().diff(moment().subtract(12,"months"),"days")}]),this.showCustomDate=ko.observable(!1),e(this),this.yAxisType.subscribe(function(){t.updateQuery()}),this.xAxisType.subscribe(function(){t.updateQuery()}),this.event.subscribe(function(e){"Item Response"==e?(t.yAxisType("unique"),t.yAxisTypes.remove("total")):-1==t.yAxisTypes().indexOf("total")&&t.yAxisTypes.push("total"),t.updateQuery()}),this.presetStart.subscribe(function(){t.start(moment().subtract(t.presetStart(),"days").format("YYYY-MM-DD")),t.end(moment().format("YYYY-MM-DD")),t.updateQuery()}),this.manualStart.subscribe(function(){t.start(t.manualStart()),t.updateQuery()}),this.end.subscribe(function(){t.updateQuery()}),this.updateQuery()}Segmentation.prototype.updateQuery=function(){this;this.query({event:this.event(),from:this.start(),to:this.end(),type:this.yAxisType(),bin:this.xAxisType()})},Segmentation.prototype.cancelCustomDates=function(){this.showCustomDate(!1)},Segmentation.prototype.openDatepicker=function(){this.showCustomDate(!0)},Segmentation.prototype.query=function(e){var t=this;t.clear(),e.g=window.groupID,$.get("/data/groupAnalytics",e,function(a){var s=[],o=a.split("\n");for(var d in o){var n=o[d].split("\t");s.push({date:n[0],value:+n[1]})}s.length&&t.render(e.event,e.type,s)})},Segmentation.prototype.clear=function(){fs.empty($(".chart",this.dom)),$(".chart",this.dom).append("<canvas>")};var s={day:1,week:7};Segmentation.prototype.render=function(e,t,a){for(var o=_.indexBy(a,function(e){return e.date}),d=Math.floor(moment(a[a.length-1].date).diff(moment(a[0].date),"day")/s[this.xAxisType()]),n=moment(a[0].date),l=[],c=[],p=0,u;p<d;p++){u=n.format("MMM D"),l.push(u);var m=o[n.format("YYYY-MM-DD")];c.push(m?m.value:0),n.add(s[this.xAxisType()],"day")}var v={type:"line",data:{labels:l,datasets:[{label:e,data:c,lineTension:0,fill:!1}]},options:{responsive:!0,legend:{position:"bottom"},hover:{mode:"label"},scales:{xAxes:[{display:!0,scaleLabel:{}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"total"==t?"Total":"Unique"},ticks:{beginAtZero:!0}}]},title:{display:!0,text:"Segmentation"}}};$.each(v.data.datasets,function(e,t){t.borderColor="rgb(83, 163, 235)",t.backgroundColor="rgb(83, 163, 235)",t.pointBorderColor="rgb(83, 163, 235)",t.pointBackgroundColor="rgb(83, 163, 235)",t.pointBorderWidth=1});var b=$("canvas",this.dom)[0].getContext("2d"),h=new Chart(b,v)},a.exports=Segmentation}),define("ui.animations.FrameAnimation",function(e,t,a){var s=function(){"use strict";function FrameAnimation(e,t){_classCallCheck(this,FrameAnimation),this.duration=t.duration||1e3,this.loop=t.loop||!1,this.loopDelay=t.loopDelay||0,this.frames=ko.observableArray(t.frames),this.activeFrame=ko.observable(0),e(this)}return _createClass(FrameAnimation,[{key:"nextFrame",value:function nextFrame(){var e=this,t=this;this.activeFrame()+1<this.frames().length?setTimeout(function(){e.activeFrame(e.activeFrame()+1),e.nextFrame()},this.duration):this.loop&&setTimeout(function(){e.activeFrame(0),e.nextFrame()},this.loopDelay)}},{key:"play",value:function play(){this.nextFrame()}}]),FrameAnimation}();a.exports=s}),define("ui.animations.Leaves",function(e,t,a){var s=Math.PI,o=Math.sin,d=Math.floor,n=function(){"use strict";function Leaves(e){_classCallCheck(this,Leaves),this.leafContainer=$(".leaf-container"),this.viewport=this.leafContainer,this.world=document.createElement("div"),this.leaves=[],this.options={numLeaves:15,wind:{magnitude:1.2,maxSpeed:12,duration:300,start:0,speed:0}},this.width=this.viewport.width(),this.height=this.viewport.height(),this.timer=0,this.leafImages=["https://d16qt3wv6xm098.cloudfront.net/U_1vVGtPSj6P9Jpmbc44LRGwSTCRD_SZ/_.png","https://d16qt3wv6xm098.cloudfront.net/4GiKwUiDSXCNbVGjPih3BNaxQQKsg1uG/_.png","https://d16qt3wv6xm098.cloudfront.net/3dJVvTULT5qKhfsdtRSYmtl-QKqqvYoJ/_.png","https://d16qt3wv6xm098.cloudfront.net/jalzT83RT32bM7msXBxUD-idQg62E20G/_.png","https://d16qt3wv6xm098.cloudfront.net/Wzqj26PySfuV7V04z_hQtdZ9Rxu2ZHVV/_.png","https://d16qt3wv6xm098.cloudfront.net/uQ1pTEmPT1uNSrVMOf9Bzh8eSACB7-eu/_.png","https://d16qt3wv6xm098.cloudfront.net/ALmyeB_NQQqWWru7mVAkjC9cTHO9rcIn/_.png","https://d16qt3wv6xm098.cloudfront.net/SSDje7c2Swi7sqmVpG6Q3FDIQTurhuhg/_.png"],e(this),this.init(),this.render()}return _createClass(Leaves,[{key:"init",value:function init(){for(var s=0;s<this.options.numLeaves;s++){var e=document.createElement("div"),t=e.appendChild(document.createElement("img"));e.setAttribute("class","leaf"),t.setAttribute("src",this.leafImages[d(Math.random()*this.leafImages.length)]);var o={el:e,x:0,y:0,z:0,rotation:{axis:"X",value:0,speed:0,x:0},xSpeedVariation:0,ySpeed:0,path:{type:1,start:0},image:1};this.resetLeaf(o),this.leaves.push(o),this.world.appendChild(o.el)}this.world.className="leaf-scene",this.viewport.append(this.world),this.world.style.webkitPerspective="400px",this.world.style.MozPerspective="400px",this.world.style.oPerspective="400px",this.world.style.perspective="400px";var a=this;window.onresize=function(){a.width=a.viewport.offsetWidth,a.height=a.viewport.offsetHeight}}},{key:"resetLeaf",value:function resetLeaf(e){e.x=2*this.width-1.75*(Math.random()*this.width),e.y=-10,e.z=200*Math.random(),e.x>this.width&&(e.x=this.width+10,e.y=Math.random()*this.height/2),e.rotation.speed=10*Math.random();var t=Math.random();return .5<t?e.rotation.axis="X":.25<t?(e.rotation.axis="Y",e.rotation.x=180*Math.random()+90):(e.rotation.axis="Z",e.rotation.x=360*Math.random()-180,e.rotation.speed=3*Math.random()),e.xSpeedVariation=.8*Math.random()-.4,e.ySpeed=Math.random()+1.5,e}},{key:"updateLeaf",value:function updateLeaf(e){var a=this.options.wind.speed(this.timer-this.options.wind.start,e.y),s=a+e.xSpeedVariation;e.x-=s,e.y+=e.ySpeed,e.rotation.value+=e.rotation.speed;var o="translateX( "+e.x+"px ) translateY( "+e.y+"px ) translateZ( "+e.z+"px )  rotate"+e.rotation.axis+"( "+e.rotation.value+"deg )";"X"!==e.rotation.axis&&(o+=" rotateX("+e.rotation.x+"deg)"),e.el.style.webkitTransform=o,e.el.style.MozTransform=o,e.el.style.oTransform=o,e.el.style.transform=o,(-10>e.x||e.y>this.height+10)&&this.resetLeaf(e)}},{key:"updateWind",value:function updateWind(){if(0===this.timer||this.timer>this.options.wind.start+this.options.wind.duration){this.options.wind.magnitude=Math.random()*this.options.wind.maxSpeed,this.options.wind.duration=50*this.options.wind.magnitude+(20*Math.random()-10),this.options.wind.start=this.timer;var e=this.height;this.options.wind.speed=function(d,t){var n=this.magnitude/2*(e-2*t/3)/e;return n*o(2*s/this.duration*d+3*s/2)+n}}}},{key:"render",value:function render(){this.updateWind();for(var e=0;e<this.leaves.length;e++)this.updateLeaf(this.leaves[e]);this.timer++,requestAnimationFrame(this.render.bind(this))}}]),Leaves}();a.exports=n}),define("ui.animations.LightRope",function(e,t,a){a.exports=function LightRope(){"use strict";_classCallCheck(this,LightRope),this.numLights=50;for(var e=0;e<this.numLights;e+=1)$(".lightrope",this.dom).append("<li></li>")}}),define("ui.animations.Snow",function(e,t,a){var s=Math.PI,o=Math.cos;function randomFromTo(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var d=function(){"use strict";function Snow(e,t){_classCallCheck(this,Snow),this.canvas=$("#snow-scene",this.dom)[0],this.image=t.image||null,this.max=t.max||50,this.speed=t.speed||1,e(this),this.initSnow()}return _createClass(Snow,[{key:"initSnow",value:function initSnow(){function draw(){var s=[];requestAnimationFrame(draw),d.clearRect(0,0,t,window.innerHeight);for(var u=0;u<n;u+=1)s.push(l[u].draw());for(var c={},p=0;p<n;p+=1)c=l[p],c.x+=o(c.y/75)*c.drift,c.y+=(c.d+c.r/2)/16*e.speed,c.y>a&&(c.x=Math.random()*t,c.y=-30);return s}var e=this,t=this.dom.innerWidth(),a=this.dom.innerHeight();if(this.canvas){this.canvas.width=this.dom.innerWidth(),this.canvas.height=this.dom.innerHeight();for(var d=this.canvas.getContext("2d"),n=this.max,l=[],c=function(){function Snowflake(){_classCallCheck(this,Snowflake),this.x=Math.random()*t,this.y=Math.random()*a,this.r=randomFromTo(2,6),this.d=Math.random()*n+11,this.drift=1===randomFromTo(0,1)?1:-1,e.image&&(this.r=randomFromTo(10,30))}return _createClass(Snowflake,[{key:"draw",value:function draw(){if(e.image){var t=new Image;return t.src=e.image,d.drawImage(t,this.x,this.y,this.r,this.r)}return d.beginPath(),d.arc(this.x,this.y,this.r,0,2*s),d.fillStyle="white",d.fill()}}]),Snowflake}(),p=0;p<n;p+=1)l.push(new c);draw()}}}]),Snow}();a.exports=d}),define("ui.animations.Turkey",function(e,t,a){var s=Math.round,o=function Timer(e){"use strict";_classCallCheck(this,Timer),this.countdown=e,this.currentTime=e,this.reset=function(e){e&&(this.countdown=e),this.currentTime=this.countdown}},d=function(){"use strict";function Turkey(e){_classCallCheck(this,Turkey);var t=$(".turkey-container",this.dom);e(this),this.initScene(t)}return _createClass(Turkey,[{key:"initScene",value:function initScene(e){this.viewport=e,this.world=document.createElement("div"),this.width=this.viewport.width(),this.height=this.viewport.height(),this.featherSpawnTimer=new o(25),this.feathers=[],this.featherCount=0,this.viewport.append(this.world),this.playing=!0,this.initTurkey(),this.render()}},{key:"updateTurkey",value:function updateTurkey(e){e.x+=e.speedX*e.direction;var a="translateX(".concat(e.x,"px) scaleX(").concat(-e.direction,")");e.el[0].style.webkitTransform=a,e.el[0].style.MozTransform=a,e.el[0].style.oTransform=a,e.el[0].style.transform=a,(e.x>this.width+2e3||-2e3>e.x)&&(this.playing=!1)}},{key:"updateFeather",value:function updateFeather(e){e.yVelocity-=.5,e.y-=e.yVelocity,e.rotation.value+=e.rotation.speed;var a="translateY(".concat(e.y,"px) translateX(").concat(e.x,"px) rotate").concat(e.rotation.axis,"(").concat(e.rotation.value,"deg)");e.el[0].style.webkitTransform=a,e.el[0].style.MozTransform=a,e.el[0].style.oTransform=a,e.el[0].style.transform=a}},{key:"initTurkey",value:function initTurkey(){var e=$("<img class=\"turkey\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/MavXF-3LR1akLTgciVsRlcP6RDyBxevj.gif\">");this.turkey={el:e,x:this.width,y:this.height,speedX:10,direction:-1},e.appendTo(this.world),this.turkey.direction=0===s(Math.random())?-1:1,1===this.turkey.direction&&(this.turkey.x=-e.width()),this.width=this.viewport.width(),this.height=this.viewport.height()}},{key:"initFeather",value:function initFeather(){var e=$("<img class=\"feather\" src=\"https://d16qt3wv6xm098.cloudfront.net/MGAbqEPPR7KP2uoeXlRSSeXhQTiG0qeg/_.png\">"),a={el:e,x:this.turkey.x+this.turkey.el.width()/2,y:this.turkey.y-this.turkey.el.height()/2,yVelocity:0,yVelocityVariation:0,rotation:{axis:"Z",value:0,speed:0,x:0},id:this.featherCount};a.rotation.speed=20*Math.random()-10,a.yVelocityVariation=10*Math.random(),a.yVelocity=10*Math.random()+15,this.feathers.push(a),this.featherCount+=1;var s="translateY(".concat(a.y,"px) translateX(").concat(a.x,"px) rotate").concat(a.rotation.axis,"(").concat(a.rotation.value,"deg)");a.el[0].style.webkitTransform=s,a.el[0].style.MozTransform=s,a.el[0].style.oTransform=s,a.el[0].style.transform=s,e.appendTo(this.world)}},{key:"render",value:function render(){if(this.playing){this.updateTurkey(this.turkey);for(var e=0;e<this.feathers.length;e++)this.updateFeather(this.feathers[e]),0==this.feathers[e].y&&console.log(this.feathers[e]);this.featherSpawnTimer.currentTime-=1,0>this.featherSpawnTimer.currentTime&&(this.initFeather(),this.featherSpawnTimer.reset(25*Math.random()))}requestAnimationFrame(this.render.bind(this))}}]),Turkey}();a.exports=d}),define("ui.b2b.Dashboard",function(e,t,a){function Dashboard(e){var t=this,a="D MMM YYYY",s="YYYY-MM-DD",o=window.location.pathname.match(/analytics\/(.*)/)[1];this.currentTabComponent=ko.observable(o||"summary"),this.trackTabView(),this.currentTabComponent.subscribe(this.trackTabView.bind(this)),this.viewModel={sidebarIsOpen:ko.observable(!0),loaded:ko.observable(!1),currentGroup:ko.observable(),groups:ko.observableArray(),inputStartDate:ko.observable(moment().subtract(3,"months").format(a)),inputEndDate:ko.observable(moment().format(a)),groupByOptions:[{label:"day",key:"date"},{label:"week",key:"week"},{label:"month",key:"month"},{label:"quarter",key:"quarter"}],groupByTitleMap:{date:"Daily",week:"Weekly",month:"Monthly",quarter:"Quarterly"},groupBy:ko.observable("week")},this.viewModel.groupByTitle=ko.computed(function(){return t.viewModel.groupByTitleMap[t.viewModel.groupBy()]}),this.viewModel.showControls=ko.computed(function(){return"members"!==t.currentTabComponent()}),this.addFilterHandlers(),this.viewModel.startDate=ko.computed(function(){return moment(t.viewModel.inputStartDate(),a).format(s)}),this.viewModel.endDate=ko.computed(function(){return moment(t.viewModel.inputEndDate(),a).format(s)}),e(this),this.dom.find(".js-datepicker").datepicker({minDate:new Date(2018,5,1),dateFormat:"d M yy"}),console.log("datepicker: "),this.getUserGroups(),this.setupDashboardTabs(),this.setupDashboardSidebar()}Dashboard.prototype.setupDashboardSidebar=function(){var e=this;fs.mix(this,"ui/b2b/DashboardSidebar",{groups:this.viewModel.groups,onGroupChange:function onGroupChange(t){e.viewModel.currentGroup(t),e.render(),e.viewModel.sidebarIsOpen(!1)}})},Dashboard.prototype.setupDashboardTabs=function(){var e=this;fs.mix(this,"ui/b2b/DashboardTabs",{tabs:[{title:"Summary (Totals)",component:"summary"},{title:"Videos",component:"videos",icon:"fab fa-youtube",color:"#D13463"},{title:"Flashcards",component:"flashcards",icon:"fas fa-bolt",color:"#2695B8"},{title:"Questions",component:"questions",icon:"far fa-calendar-check",color:"#DD6C2D"},{title:"Members",component:"members",icon:"fas fa-users",color:"#2079DF"}],currentTabComponent:this.currentTabComponent(),group:this.viewModel.currentGroup,onTabChange:function onTabChange(t){e.currentTabComponent(t),window.history.pushState("","","/analytics/".concat(t)),e.render()}})},Dashboard.prototype.addFilterHandlers=function(){var e=this.viewModel.inputStartDate,t=this.viewModel.inputEndDate;e.subscribe(function(a){return moment(a).isValid()?void(moment(a).isBefore(t())||(e(t()),t(a))):e(moment().subtract(3,"months").format("D MMM YYYY"))}),t.subscribe(function(a){return moment(a).isValid()?void(moment(a).isAfter(e())||(t(e()),e(a))):t(moment().format("D MMM YYYY"))})},Dashboard.prototype.getUserGroups=function(){var e=this;return fs.get("data/user/getUserGroups",{},function(t){var a=t.data,s;(s=e.viewModel.groups).push.apply(s,_toConsumableArray2(a)),e.viewModel.currentGroup(e.viewModel.groups()[0]),e.render()})},Dashboard.prototype.toggleSidar=function(){var e=this.viewModel.sidebarIsOpen();this.viewModel.sidebarIsOpen(!e)},Dashboard.prototype.render=function(){fs.mixReplace($(".js-dashboard-content",this.dom),"tabs/analytics/".concat(this.currentTabComponent()),this.viewModel)},Dashboard.prototype.trackTabView=function(){eventTracker.track("page_view",{page_name:"B2B Analytics - ".concat(this.currentTabComponent()),page_url:"https://osmosis.org/analytics/".concat(this.currentTabComponent())},["keen"]),eventTracker.track("Viewed B2B Dashboard - ".concat(this.currentTabComponent()),{},["intercom"])},Dashboard.prototype.defaultTab="summary",a.exports=Dashboard}),define("ui.b2b.DashboardAccuracyCard",function(e,t,a){a.exports=function DashboardAccuracyCard(e,t){this.data=t.data,e(this)}}),define("ui.b2b.DashboardBarChart",function(e,t,a){a.exports=function DashboardBarChart(e,t){this.chart=t.chart,this.title=t.title,e(this);var a=this.dom.find("canvas")[0].getContext("2d"),s=new Chart(a,{type:"bar",data:this.chart.data||{},options:_.defaults(this.chart.options,{legend:{position:"bottom"},scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!0}}]}})})}}),define("ui.b2b.DashboardCard",function(e,t,a){a.exports=function DashboardCard(e,t){var a=this,s=t;return this.card=t,e(this),s.getAsyncData?s.getAsyncData().then(function(e){return fs.mix(a,s.component,_objectSpread({},s.data,e),{matchName:"js-card"})}):void fs.mix(this,s.component,s.data,{matchName:"js-card"})}}),define("ui.b2b.DashboardDoughnutChart",function(e,t,a){a.exports=function DashboardDoughnutChart(e,t){this.chart=t.chart||{},this.title=t.title,e(this),this.chart.options=this.chart.options||{};var a=this.dom.find("canvas")[0].getContext("2d"),s=new Chart(a,{type:"doughnut",data:this.chart.data||{},options:_.defaults(this.chart.options,{legend:{position:"bottom",display:!0}})})}}),define("ui.b2b.DashboardEmptyCard",function(e,t,a){a.exports=function DashboardEmptyCard(e,t){this.card=t.card,e(this)}}),define("ui.b2b.DashboardInfoCard",function(e,t,a){a.exports=function DashboardInfoCard(e,t){this.card=t}}),define("ui.b2b.DashboardLineChart",function(e,t,a){var s=function generateTooltip(e,t){var a=$(this._chart.canvas.parentNode).find("#chartjs-tooltip")[0];if(a||(a=document.createElement("div"),a.id="chartjs-tooltip",a.classList.add("tooltip"),this._chart.canvas.parentNode.appendChild(a)),0===e.opacity)return void(a.style.opacity=0);a.innerHTML="".concat(JSON.stringify(e.dataPoints)),t&&(a.innerHTML=t(e.dataPoints));var s=this._chart.canvas.offsetTop,o=this._chart.canvas.offsetLeft;a.style.opacity=1,a.style.left=o+e.caretX+"px",a.style.top=s+e.caretY-80+"px"};a.exports=function DashboardLineChart(e,t){var a=this,o;this.chart=t.chart,this.title=t.title,this.onViewMore=t.onViewMore,this.primaryColor=t.primaryColor,this.buttonColor=t.buttonColor,t.onDownloadCSV&&(this.onDownloadCSV=function(){var e=t.onDownloadCSV(),s=encodeURI("data:text/csv;charset=utf-8,".concat(e)),o=document.createElement("a");o.setAttribute("href",s),o.setAttribute("download","".concat(a.title,".csv")),document.body.appendChild(o),o.click()}),e(this);var d=this.chart.options,n=_objectSpread({},d,{tooltips:(o={enabled:!1,mode:"index"},_defineProperty(o,"mode","point"),_defineProperty(o,"custom",function custom(e){return s.bind(this)(e,d.tooltipRender)}),o),onClick:function onClick(e){var t=a.chart.getElementAtEvent(e)[0];if(t){var s=a.chart.data.labels[t._index],o=a.chart.data.datasets[t._datasetIndex].data[t._index];d.onClick&&d.onClick(s)}},onHover:function onHover(t){var e=a.chart.getElementAtEvent(t);t.target.style.cursor=e.length?"pointer":"default"}}),l=(2>this.chart.data.datasets.length?this.chart.data.datasets[0].type:"bar")||"line";this.chart=new Chart(this.dom.find(".js-chart")[0],{type:l,data:this.chart.data,options:n})}}),define("ui.b2b.DashboardMedianCard",function(e,t,a){function median(e){e=e.slice(0);var t=(e.length+1)/2,a=e.sort();return a.length%2?a[t-1]:(a[t-1.5]+a[t-.5])/2}a.exports=function DashboardMedianCard(e,t){var a=this;this.card=t,this.onViewMore=t.onViewMore,this.card.data&&(this.maximum=Math.max.apply(Math,_toConsumableArray2(this.card.data)),this.median=median(this.card.data)),this.groupByTitle=ko.computed(function(){return"date"===a.card.filters.groupBy()?"day":a.card.filters.groupBy()}),e(this)}}),define("ui.b2b.DashboardMembersDialog",function(e,t,a){function DashboardMembersDialog(e,t){var a=this;this.visible=ko.observable(!0),this.users=t.users||ko.observableArray([]),this.loaded=t.loaded||ko.observable(!0),this.startDate=t.from,this.endDate=t.to;var s=t.itemType,o={video:{key:"watched",label:"Videos Viewed"},fc:{key:"answered",label:"Flashcards Answered"},mcq:{key:"answered",label:"Questions Answered"}}[s]||null;this.title=t.title,this.table={headers:["Name","Email",o&&o.label,"Longest login streak","Current login streak"].filter(function(e){return null!==e}),rows:ko.computed(function(){return a.users().map(function(e){return[e.fullName&&""!==e.fullName.trim()?"<a href=\"/member?userID=".concat(e.userID,"&groupID=").concat(t.groupID,"\">").concat(e.fullName,"</a>"):"<span class=\"confidence-table__unknown-name\">Unknown: Pending profile completion</span>",e.email,o&&e[o.key].toLocaleString(),e.maxStreak,e.currentStreak].filter(function(e){return null!==e})})}),options:{columnDefs:[{targets:o?[2,3,4]:[2,3],className:"dashboard-table__cell--right"}]}},this.table.onRowClick&&(this.onRowClick=this.table.onRowClick),e(this),this.loaded.subscribe(function(){a.dom.find(".js-table").DataTable(_objectSpread({dom:"<<\"dashboard-table__header\"<\"dashboard-table__header-input\"l><\"dashboard-table__header-input\"<\"text-input\"f>>><\"dashboard-table__content\"t><\"dashboard-table__footer clearfix\"ip>>B",buttons:[{extend:"csv",text:"Export CSV",filename:a.title}]},a.table.options))})}t("ui/dialogs");DashboardMembersDialog.prototype.toggleDialog=function(){this.visible(!this.visible())},DashboardMembersDialog.prototype.getCurrentDate=function(){var e=moment(this.startDate).format("MMM D"),t=moment(this.endDate).format("MMM D");return e===t?e:"".concat(e," - ").concat(t)},a.exports=DashboardMembersDialog}),define("ui.b2b.DashboardNumberCard",function(e,t,a){a.exports=function DashboardNumberCard(e,t){this.card=t,e(this);var a=new CountUp(this.dom.find(".js-number")[0],0,this.card.number,0,2.5,{useEasing:!0,useGrouping:!0,separator:",",decimal:"."});a.start()}}),define("ui.b2b.DashboardScatterChart",function(e,t,a){a.exports=function DashboardScatterChart(e,t){this.chart=t.chart,this.title=t.title,e(this),new Chart(this.dom.find(".js-chart")[0],{type:"scatter",data:this.chart.data,options:_.defaults(this.chart.options,{legend:{display:!1}})})}}),define("ui.b2b.DashboardSidebar",function(e,t,a){a.exports=function DashboardSidebar(e,t){var a=this;this.groups=t.groups,this.currentGroupIndex=ko.observable(0),this.groupTotalMembers=ko.observable(null),this.groupActiveMembers=ko.observable(null),this.loaded=ko.observable(!1),this.groups.subscribe(function(){a.updateGroup(a.groups()[0])}),this.onGroupChange=function(e){a.currentGroupIndex(a.groups.indexOf(e)),t.onGroupChange&&t.onGroupChange(e),a.updateGroup(e)},this.updateGroup=function(e){if(a.loaded(!1),a.groupTotalMembers(null),a.groupActiveMembers(null),!!e){var t=e.groupID?{groupID:e.groupID}:{schoolID:e.schoolID};fs.get("data/group/getGroupData",t).then(function(e){a.groupTotalMembers(e.total_members||e.userCount),a.groupActiveMembers(e.active_members||e.sessionCount),a.loaded(!0)})}},e(this)}}),define("ui.b2b.DashboardTableCard",function(e,t,a){a.exports=function DashboardTableCard(e,t){this.title=t.title,this.table=t.table,this.table.onRowClick&&(this.onRowClick=this.table.onRowClick),e(this);this.dom.find(".js-table").DataTable(_objectSpread({dom:"<<\"dashboard-table__header\"<\"dashboard-table__header-input\"l><\"dashboard-table__header-input\"<\"text-input\"f>>><\"dashboard-table__content\"t><\"dashboard-table__footer clearfix\"ip>>B",buttons:[{extend:"csv",text:"Export CSV",filename:this.title}]},this.table.options))}}),define("ui.b2b.DashboardTableModal",function(e,t,a){var s=function(){"use strict";function DashboardTableModal(e,t){_classCallCheck(this,DashboardTableModal),this.visible=ko.observable(!0),this.dialogClass=t.dialogClass||"extra-wide",e(this),fs.mix(this,"ui/b2b/DashboardTableCard",t)}return _createClass(DashboardTableModal,[{key:"toggleDialog",value:function toggleDialog(){this.visible(!this.visible())}}]),DashboardTableModal}();a.exports=s}),define("ui.b2b.DashboardTabs",function(e,t,a){a.exports=function DashboardTabs(e,t){var a=this;this.group=t.group,this.currentTabComponent=t.currentTabComponent,this.tabs=t.tabs;var s=this.currentTabComponent?this.tabs.findIndex(function(e){return e.component===a.currentTabComponent}):0;this.currentTabIndex=ko.observable(s),this.onTabChange=function(e){a.currentTabIndex(a.tabs.indexOf(e)),t.onTabChange&&t.onTabChange(e.component),history.replaceState({},"video","/analytics/".concat(e.component))},e(this)}}),define("ui.b2b.DashboardTopicSelector",function(e,t,a){function DashboardTopicSelector(e,t){this.title=t.title,this.subheading=t.subheading,this.selectedTopics=t.selectedTopics,this.onViewMore=t.onViewMore,this.itemType=t.itemType,this.groupID=t.groupID,this.userID=t.userID,this.startDate=t.startDate,this.endDate=t.endDate,this.buttonText=t.buttonText||"View member names",e(this),this.topicTree=fs.mix(this,"ui/QuizTopicTree",{protocol:"multiTopic",topics:["Anatomy","Biochemistry","Metabolism","Genetics","Immunology","Microbiology","Dermatology","Hematology and Oncology","Neurology","Psychiatry","Respiratory","Renal","Cardiovascular","Gastrointestinal","Endocrine","Reproductive","Musculoskeletal","Cell Physiology","Biostatistics and Epidemiology","Embryology"],hasSubtopics:!0,selectedTopics:this.selectedTopics,selectAllChecked:ko.observable(!1),progressFormat:ko.observable("totals"),onUpdate:console.log,itemType:this.itemType,groupID:this.groupID,userID:this.userID,startDate:this.startDate,endDate:this.endDate,breadcrumbs:ko.observableArray()})}DashboardTopicSelector.prototype.onViewMoreClick=function(e){var t=this,a=this.selectedTopics().map(function(e){return"video"===t.itemType?e.addr:t.topicTree.getProtocolAddr([{addr:e.addr}])});this.onViewMore(a).then(function(){return e()})},a.exports=DashboardTopicSelector}),define("ui.b2b.DashboardUserChart",function(e,t,a){var s=t("ui/b2b/DashboardUtils");a.exports=function DashboardUserChart(e,t){e(this),fs.mix(this,"ui/b2b/DashboardLineChart",s.generateUserGraphConfig(t))}}),define("ui.b2b.DashboardUserConfidenceModal",function(e,t,a){function DashboardUserConfidenceModal(e,t){this.title=t.title,this.visible=ko.observable(!0),e(this),fs.mix(this,"ui/b2b/DashboardUserConfidenceTable",t)}t("ui/dialogs");DashboardUserConfidenceModal.prototype.toggleDialog=function(){this.visible(!this.visible())},a.exports=DashboardUserConfidenceModal}),define("ui.b2b.DashboardUserConfidenceTable",function(e,t,a){function DashboardUserConfidenceTable(e,t){var a=this;return this.groupID=t.groupID,this.$el=t.$el,this.table=ko.observableArray(),this.mode=ko.observable("everything"),this.selectedTopicType=ko.observable("questions"),this.selectedTopicID=ko.observable(523),this.selectedModuleType=ko.observable("questions"),this.selectedModuleID=ko.observable(),this.sortDirection=ko.observable(-1),this.currentSortKey=ko.observable("name"),this.currentModule=ko.observable(),this.isLoading=ko.observable(!1),this.colorMap=o,this.showHeader=ko.observable(!t.data),this.itemType=t.itemType,this.title=t.title,e(this),t.data?this.updateTable(t.data):void(this.getModules(this.groupID),this.isLoading(!0),this.getData(this.groupID).then(function(e){a.isLoading(!1),a.updateTable(e)}),this.currentModule.subscribe(function(e){a.isLoading(!0),a.getData(a.groupID,e).then(function(e){a.isLoading(!1),a.updateTable(e)})}))}var s=["cH","cM","cL","iH","iM","iL"],o={cH:"#8B1D1D",cM:"#D53939",cL:"#F0B7B7",iH:"#99E09A",iM:"#38A839",iL:"#1A5B1A"},d={cH:"#6CD56C",cM:"#268226",cL:"#268226",iH:"#B52626",iM:"#B52626",iL:"#78D8D"},n={cH:"Correct- Confidence High",cM:"Correct- Confidence Medium",cL:"Correct- Confidence Low",iH:"Incorrect - Confidence High",iM:"Incorrect - Confidence Medium",iL:"Incorrect - Confidence Low"};DashboardUserConfidenceTable.prototype.getData=function(e,t){var a={groupID:e,mode:"all",itemType:this.itemType};return t&&(a.MID=t,a.mode="modules"),fs.get("data/group/getItemResponseSegmentedStats",a).then(function(e){return e.data})},DashboardUserConfidenceTable.prototype.getModules=function(e){var t=this;return fs.get("/data/group/getGroupModules",{groupID:e}).then(function(e){t.dropdownOptions=ko.observableArray(e.data.map(function(e){var t=e.moduleID,a=e.name;return{value:t,display:a}})),fs.mixAppend($(".js-modules-dropdown",t.dom),"ui/Dropdown",{options:t.dropdownOptions,optionsText:"display",optionsValue:"value",placeholder:"Folders",value:t.currentModule})})},DashboardUserConfidenceTable.prototype.updateTable=function(e){var t=e;for(var a in t){var s=t[a];s.total=s.cH+s.cM+s.cL+s.iH+s.iM+s.iL,s.confidence=["cH","cM","cL","iH","iM","iL"].map(function(e){var t=s[e];if(!t)return null;var a=100*(t/s.total),n="".concat(Math.floor(a),"% \u2022 ").concat(t);return{key:e,value:t,percentage:a,title:n,color:o[e],hoverColor:d[e]}}).filter(function(e){return e})}this.table(t),this.sortTable(this.currentSortKey())},DashboardUserConfidenceTable.prototype.onSortClick=function(e){var t=this.currentSortKey()===e?-1*this.sortDirection():this.sortDirection();this.sortDirection(t),this.currentSortKey(e),this.sortTable(e)},DashboardUserConfidenceTable.prototype.sortTable=function(e){var t=this,a=this.table.sort(function(s,a){return s[e]===a[e]?0:s[e]>a[e]?-1*t.sortDirection():1*t.sortDirection()})},DashboardUserConfidenceTable.prototype.onDownloadCSV=function(){var e=["Name"].concat(_toConsumableArray2(s.map(function(e){return n[e]})),["Total"]).join(";"),t=this.table().map(function(e){return[e.name].concat(_toConsumableArray2(s.map(function(t){return e[t]})),[e.total]).join(";")}).join("\n"),a="data:text/csv;charset=utf-8,".concat(e,"\n").concat(t),o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download","User Confidence.csv"),document.body.appendChild(o),o.click()},a.exports=DashboardUserConfidenceTable}),define("ui.b2b.DashboardUtils",function(e){function formatAPIDate(e){return moment(e).format("YYYY-MM-DD")}function getRequestData(e,t){var a=e.group().groupID?{groupID:e.group().groupID}:{schoolID:e.group().schoolID};return _.chain({}).extend(a).omit(_.isUndefined).omit(_.isNull).extend({groupBy:e.groupBy(),from:e.startDate(),to:e.endDate()}).extend(t).value()}var t={date:function date(e){return{from:e,to:e}},week:function week(e){return{from:e,to:moment(e).add(1,"week").subtract(1,"day")}},month:function month(e){return{from:e,to:moment(e).add(1,"month").subtract(1,"day")}},quarter:function quarter(e){return{from:e,to:moment(e).add(1,"quarter").subtract(1,"day")}}};e.groupByDateRange=function(e,a){return t[a](e)},e.showMemberDialog=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:options,a=t.date,s=t.itemType,o=t.actionType,d=t.scope,n=d.dom.find(".js-dialog"),l=ko.observableArray([]),c=ko.observable(!1),p={};a&&(p=e.groupByDateRange(a,d.groupBy()),p={from:formatAPIDate(p.from),to:formatAPIDate(p.to)}),dialog("ui/b2b/DashboardMembersDialog",getRequestData(d,_objectSpread({users:l,loaded:c,itemType:s},p))),fs.get("data/group/getMembers",getRequestData(d,_objectSpread({itemType:s,actionType:o},p))).then(function(e){l.push.apply(l,_toConsumableArray2(e.data)),c(!0)})};e.getRequestData=getRequestData,e.getDateLabels=function(e){return e.map(function(e){return moment(e).toDate()})},e.generateUserGraphConfig=function(e){var t=e.tooltipRender,a=e.title,s=e.primaryColor,o=e.secondaryColor,d=e.buttonColor,n=e.axisLabel,l=e.dateLabels,c=e.primaryData,p=e.primaryKey,u=e.userData,m=e.onViewMore,v=e.onChartClick,b=e.onDownloadCSV,h=e.filters;return{title:a,onViewMore:m,onDownloadCSV:b,primaryColor:s,buttonColor:d,chart:{options:{tooltipRender:t,onClick:v,maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{maxBarThickness:20,gridLines:{color:s},type:"time",distribution:"series",time:{isoWeekday:!0,unit:"date"===h.groupBy()?"day":h.groupBy()}}],yAxes:[{id:"line-axis",position:"right",scaleLabel:{display:!0,labelString:n,fontColor:s,fontFamily:"\"Nunito\", \"Open Sans\", sans-serif",fontStyle:"bold"},ticks:{suggestedMin:0,fontColor:s,fontFamily:"\"Nunito\", \"Open Sans\", sans-serif",fontStyle:"bold"},gridLines:{color:o}},{id:"bar-axis",position:"left",scaleLabel:{display:!0,labelString:"Number of Users",fontFamily:"\"Nunito\", \"Open Sans\", sans-serif",fontStyle:"bold"},ticks:{suggestedMin:0,fontFamily:"\"Nunito\", \"Open Sans\", sans-serif",fontStyle:"bold"},gridLines:{display:!1}}]}},data:{labels:l,datasets:[{type:"bar",label:"Number of Users",backgroundColor:s,data:u,yAxisID:"bar-axis",maxBarThickness:1},{type:"line",label:"Number of Flashcards answered",backgroundColor:o,borderColor:s,data:c,yAxisID:"line-axis",borderWidth:1}]}}}}}),define("ui.b2b.DashboardVarianceChart",function(e,t,a){a.exports=function DashboardVarianceChart(e,t){this.chart=t.chart,this.title=t.title,this.formattedData=this.chart.data.map(function(e){return{title:e.title,data:e,value:100*(e.value/e.total),range:[100*(e.range[0]/e.total),100*(e.range[1]/e.total)]}})}}),define("ui.b2b.MemberActivity",function(e,t,a){a.exports=function MemberQuestionAnalytics(e,t){var a=this;this.data=t.data,this.formatPercentile=function(e){if(!e)return"--";var t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])},this.renderActivityChart=function(e){var t={},s=moment().add(-1,"year");for(var o in e.day)t[moment(s).add(e.day[o],"day").format("YYYY-MM-DD")]=e.c[o];fs.mix(a,"ui/stats/ActivityCalendar",{data:function data(e){var a=t[e.format("YYYY-MM-DD")];return a?a:0}},{matchName:"js-activity-calendar"}),fs.mix(a,"ui/stats/ActivityLegend")};var s=this.data();this.hasPercentile=s.step1Data&&s.step1Data.firstPassPercentile&&s.step1Data.lastPassPercentile&&s.step2Data&&s.step2Data.firstPassPercentile&&s.step2Data.lastPassPercentile,e(this),this.data()&&this.data().graph365&&this.renderActivityChart(this.data().graph365)}}),define("ui.b2b.MemberFlashcardAnalytics",function(e,t,a){a.exports=function MemberFlashcardAnalytics(e,t){this.data=t.data,this.formatPercentile=function(e){if(!e)return"--";var t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])};var a=this.data();this.hasPercentile=a.fcData&&a.fcData.firstPassAccuracy&&a.fcData.firstPassPercentile,e(this)}}),define("ui.b2b.MemberProfileAnalytics",function(e,t,a){var s=t("app/who");a.exports=function MemberProfileAnalytics(e,t){var a=this;this.data=t.data,this.userID=t.userID,this.pluralize=function(e,t){return 1===t?e:"".concat(e,"s")},e(this);var o=s.is(ko.observable(this.userID));o.subscribe(function(){fs.mixAppend(a.dom.find(".js-avatar").empty(),"ui/Avatar",{userID:ko.observable(a.userID),userName:o})}),s.update()}}),define("ui.b2b.MemberQuestionAnalytics",function(e,t,a){a.exports=function MemberQuestionAnalytics(e,t){this.data=t.data,this.formatPercentile=function(e){if(!e)return"--";var t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])};var a=this.data();this.hasPercentile=a.step1Data&&a.step1Data.firstPassPercentile&&a.step1Data.lastPassPercentile&&a.step2Data&&a.step2Data.firstPassPercentile&&a.step2Data.lastPassPercentile,e(this)}}),define("ui.b2b.MemberVideoAnalytics",function(e,t,a){a.exports=function MemberVideoAnalytics(e,t){this.data=t.data,e(this)}}),define("ui.badges.StreakBadge",function(e,t,a){a.exports=function StreakBadge(e,t){"use strict";_classCallCheck(this,StreakBadge),this.streak=t.streak?t.streak:0}}),define("ui.clinical.MedSchoolClinical",function(e,t,a){function MedSchoolClinical(e){this;this.model=s.get(),e(this),this.model.rotations.editing(!0),this.model.subscribeToList(this.model.rotations),this.model.subscribeToList(this.model.electives),this.model.subscribeToList(this.model.subinternships)}var s=t("ui/clinical/medSchoolSchedule");MedSchoolClinical.prototype.toggleGroupExams=function(){this.preclinicalExams.toggleEdit()},MedSchoolClinical.prototype.mobileSync=function(){fs.post("activateSchedule",{type:3},function(){location.reload()})},a.exports=MedSchoolClinical}),define("ui.clinical.Push",function(e,t,a){function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Push(e){var t=this;this.pushMode=ko.observable(e.pushMode||"normal"),this.pushModeFormatted=ko.computed(function(){return capitalize(t.pushMode())}),this.pushModeDescr=ko.computed(function(){return o[t.pushMode()]}),this.pushOrder=ko.observable(e.pushOrder||"random"),this.pushOrderFormatted=ko.computed(function(){return s[t.pushOrder()]}),this.finalEmail=ko.observable(e.email||"yes"),this.pushEnabled=ko.observable(e.pushEnabled||0)}var s={fc:"flashcards first",ques:"questions first",random:"randomized"},o={minimum:"Osmosis will send one or fewer push notifications per day.",timid:"Osmosis will send push notifications until you've completed your queues for the day. If you do not respond the first push notification, Osmosis will stop sending push for the day. Average push rate is every 2-4 hours.",normal:"Osmosis will send push notifications until you've completed your queues for the day. If you do not respond to push notifications twice in a row, Osmosis will stop sending push for the day. Average push rate is every 2-4 hours.",persistent:"Same as normal mode, but Osmosis will continue sending push notifications until you're queue is empty even if you don't respond. Average push rate is every 2-4 hours.",assertive:"Same as persistent mode, but more frequent push notifications are sent (every 1-2 hours)",epic:"Osmosis may throw a tantrum if you don't respond to its notifications."};Push.prototype.updatePush=function(){this;fs.post("mobilePushPreference",{pushEnabled:1==this.pushEnabled()?1:0},function(){$.jGrowl("Updated schedule.",{life:1e3,position:"bottom-left"})})},a.exports=Push}),define("ui.clinical.medSchoolSchedule",function(e,t){function MedSchoolSchedule(e,t){var a=this;for(var s in this.fields=[],this.schedule=e,this.editGroupAssociation=ko.observable(!1),this.associatedGroup=ko.observable(t),this.associatedGroupName=ko.computed(function(){var e=a.associatedGroup();if(e){var t=getGroupIndex(e);if(-1!=t)return window.groupSnapshotData.name[t]}return""}),this.years=ko.observableArray([2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024]),this.addField("medSchool","start"),this.addField("medSchool","stop"),this.addField("preclinical","start"),this.addField("preclinical","stop"),this.addField("preclinical","done"),this.addField("preclinical","editing"),this.editingPreclinicalTopics=ko.observable(),this.preclinicalTopics=ko.observableArray(),this.refreshPreclinicalTopics(),this.addField("step1","start"),this.addField("step1","stop"),this.addField("step1","done"),this.addField("step1","editing"),this.addField("step2","start"),this.addField("step2","stop"),this.addField("step2","done"),this.addField("step2","editing"),this.rotations=ko.observableArray(),this.addRotation("med"),this.addRotation("surgery"),this.addRotation("peds"),this.addRotation("psych"),this.addRotation("obgyn"),this.addRotation("fam"),this.addRotation("rad"),this.addRotation("neuro"),this.addRotation("emed"),this.addField("rotations","editing"),this.electives=ko.observableArray(),this.electiveOptions=ko.observableArray(makeOptions(["med","surgery","peds","psych","obgyn","fam","rad","neuro","emed","cardio","id","endo","gi","renal","onc"])),this.schedule.electives)this.addElective(s,this.schedule.electives[s]);for(var s in this.addElective(),this.addElective(),this.addElective(),this.addField("electives","editing"),this.subinternships=ko.observableArray(),this.schedule.subinternships)this.addSubinternship(s,this.schedule.subinternships[s]);this.addSubinternship(),this.addSubinternship(),this.addSubinternship(),this.addField("subinternships","editing"),this.populateFields()}function getGroupIndex(e){for(var t in window.groupSnapshotData.groupID)if(e==window.groupSnapshotData.groupID[t])return t}function createEntry(e,t){t=t||{};var a={value:ko.observable(e),start:ko.observable(t.start),stop:ko.observable(t.stop),done:ko.observable(+t.done)};return a.start.subscribe(function(){a.stop()||a.stop(a.start())}),a}function makeOptions(e){var t=[];for(var a in e)t.push({name:o[e[a]],index:e[a]});return t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),t}function addExamUpdate(e,t){return function(){e.updateExamDate(t)}}function trimEmpty(e){for(var t in e)e[t].start||e[t].stop||e[t].done||delete e[t]}var a=t("shared/topics"),s=null,o={med:"Medicine",surgery:"Surgery",peds:"Pediatrics",psych:"Psychiatry",obgyn:"Obstetrics and Gynecology",fam:"Family",rad:"Radiology",neuro:"Neurology",emed:"Emergency Medicine",cardio:"Cardiology",id:"Infectious Disease",endo:"Endocrinology",gi:"Gastroenterology",renal:"Nephrology",onc:"Hematology/Oncology"};MedSchoolSchedule.prototype.update=function(){var e=this,t={};for(var a in t.preclinicalTopics=this.schedule.preclinicalTopics,this.schedule.step1&&(t.step1={topics:this.schedule.step1.topics}),this.schedule.step1daily&&(t.step1daily=this.schedule.step1daily),this.schedule.step1v2&&(t.step1v2=this.schedule.step1v2),this.schedule={},this.fields){var s=this.fields[a];this.schedule[s.group]||(this.schedule[s.group]={}),"done"==s.field?this[s.group].done()&&(this.schedule[s.group][s.field]=1):"editing"!=s.field&&(this.schedule[s.group][s.field]=this[s.group][s.field]())}trimEmpty(this.schedule),this.schedule.preclinicalTopics=this.preclinicalTopicsSel?this.preclinicalTopicsSel.save():t.preclinicalTopics,this.schedule.step1=this.schedule.step1||{},this.step1Topics?this.schedule.step1.topics=this.step1Topics.save():t.step1&&(this.schedule.step1.topics=t.step1.topics),t.step1daily&&(this.schedule.step1daily=t.step1daily),t.step1v2&&(this.schedule.step1v2=t.step1v2),this.extract("rotations"),this.extract("electives"),this.extract("subinternships"),this.schedule.pref=this.prefs.save(),fs.post("updatePersonalSchedule",{schedule:this.schedule},function(){$.jGrowl("Updated schedule.",{life:1e3,position:"bottom-left"})}),$(document).trigger("refreshCurriculumCalendar",[this.schedule]),e.autoOpen()},MedSchoolSchedule.prototype.updateGroupAssociation=function(){fs.post("updatePersonalScheduleGroupID",{g:this.associatedGroup()},function(){window.IntercomEvent("trackEvent","added_group_to_schedule"),window.location=""})},MedSchoolSchedule.prototype.addField=function(e,t){this[e]||(this[e]={}),this[e][t]=ko.observable();this.fields.push({group:e,field:t})},MedSchoolSchedule.prototype.refreshPreclinicalTopics=function(){this.preclinicalTopics.removeAll();var e=this.schedule.preclinicalTopics;for(var t in e)this.preclinicalTopics.push({title:a.name[e[t]],src:a.getIcon(e[t],50)});this.editingPreclinicalTopics(!1)},MedSchoolSchedule.prototype.addRotation=function(e){var t=null,a=this.schedule.rotations;for(var s in a)s==e&&(t=createEntry(e,a[s]));t||(t=createEntry(e)),t.name=o[e],t.done(+t.done()),this.rotations.push(t)},MedSchoolSchedule.prototype.addElective=function(e,t){var a=createEntry(e,t);this.electives.push(a)},MedSchoolSchedule.prototype.addSubinternship=function(e,t){var a=createEntry(e,t);this.subinternships.push(a)},MedSchoolSchedule.prototype.populateFields=function(){for(var e in this.fields){var t=this.fields[e];this.schedule[t.group]&&("done"==t.field?this[t.group][t.field](+this.schedule[t.group][t.field]):this[t.group][t.field](this.schedule[t.group][t.field]))}this.autoOpen()},MedSchoolSchedule.prototype.autoOpen=function(){0<moment().diff(this.step1.stop(),"day")&&this.step1.done(!0),0<moment().diff(this.step2.stop(),"day")&&this.step2.done(!0);var e=+new Date;e>+new Date(this.preclinical.start())&&e<+new Date(this.preclinical.stop())?(this.preclinical.editing(!0),!this.step1.done()&&this.step1.editing(!0)):this.medSchool.start()&&(2<moment().diff(this.medSchool.start()+"-01-01","year")?(!this.step1.done()&&this.step1.editing(!0),!this.step2.done()&&this.step2.editing(!0),this.rotations.editing(!0)):this.preclinical.editing(!0))},MedSchoolSchedule.prototype.subscribeToList=function(e){var t=this;for(var a in e=e(),e)e[a].value.subscribe(function(){t.update()}),e[a].start.subscribe(function(){t.update()}),e[a].stop.subscribe(function(){t.update()}),e[a].done.subscribe(function(){t.update()})},MedSchoolSchedule.prototype.subscribeTo=function(e){var t=this,a=this[e];for(var s in a)"editing"!=s&&("stop"==s?this[e][s].subscribe(addExamUpdate(t,e)):this[e][s].subscribe(function(){t.update()}))},MedSchoolSchedule.prototype.updateExamDate=function(e){var t=this;this.update(t.prefsSidetab),"step1"==e&&fs.confirm("Would you like Osmosis to generate a study schedule? <b>(recommended)</b><br> You can modify this schedule manually after it has been created.","Step Study Schedule","info",function(e){t.step1Topics.createCustomSchedule(t.schedule.step1.start,t.schedule.step1.stop),e()})},MedSchoolSchedule.prototype.extract=function(e){var t=this[e]();for(var a in t)if(t[a].value()&&(t[a].start()||t[a].stop()||t[a].done())){this.schedule[e]||(this.schedule[e]={});var s=this.schedule[e],o=t[a].value();s[o]={},s[o].start=moment(t[a].start()).format("YYYY-MM-DD"),s[o].stop=moment(t[a].stop()).format("YYYY-MM-DD"),s[o].done=t[a].done()?1:0}},e.get=function(){return s||(s=new MedSchoolSchedule(window.userSchedule,window.userScheduleGroup)),s}}),define("ui.concept",function(e,t){var a=t("ui/wikiViewer");e.show=function(e,t,s){fs.post("getConcept",{term:e},function(o){o.notFound?fs.alert(e+" was not found."):(o.tab=t.tab,a.showWiki(e,{termData:o,ref:t.ref,tab:t.tab,startVideo:t.startVideo}),s&&s(o))})}}),define("ui.conceptQuiz",function(e,t){var a=t("ui/mobile/SelectorQuiz");e.buildQuiz=function(e){window.nav.getTab(window.prefixTabURL("/newquiz"));var t=new a(null,{quiz:{set:e},filter:ko.observable()});t.customizeQuiz(function(){clearFullscreenLoading()})}}),define("ui.conceptSearchBox",function(e,t,a){a.exports=function(e,t,a){t=t||"/conceptSearch",e.autocomplete(t,{delay:10,minChars:1,matchSubset:1,autoFill:!0,maxItemsToShow:10,onItemSelect:function onItemSelect(e){a&&a($(e).text())}})}}),define("ui.dashboard.CustomFeaturedSeries",function(e,t,a){function FeaturedVideoSeries(e,t){var a=this;this.data=t.series,this.thumb=this.data.videos[0].thumb,this.moreCount=this.data.videos.length-1,this.title=this.data.title,this.descr=this.data.descr,this.flipped=t.flipped,this.hideMainTitle=t.hideMainTitle,this.url=t.url,this.cta=t.cta,this.dropDownOpen=ko.observable(!1),this.extra=ko.computed(function(){var e=[a.data.videos.length+" Videos"];return e.join(", ")}),e(this)}FeaturedVideoSeries.prototype.clickPlay=function(){this.ctaClick()},FeaturedVideoSeries.prototype.ctaClick=function(){window.location=this.url},a.exports=FeaturedVideoSeries}),define("ui.dashboard.DashboardBirthdayMessage",function(e,t,a){var s=Math.cos,o=Math.sin,d=Math.floor,n=t("ui/dashboard/DashboardMessage"),l=function(e){"use strict";function DashboardBirthdayMessage(e,t){var a;_classCallCheck(this,DashboardBirthdayMessage),a=_possibleConstructorReturn(this,_getPrototypeOf(DashboardBirthdayMessage).call(this,null,t));var s=_assertThisInitialized(a);return a.name=user.first,a.stopConfetti=ko.observable(!1),a.messageVisible(!1),e(_assertThisInitialized(a)),window.onload=function(){s.messageVisible(!0),s.animateCharacter(),setTimeout(function(){s.popConfetti()},800)},a}return _inherits(DashboardBirthdayMessage,e),_createClass(DashboardBirthdayMessage,[{key:"popConfetti",value:function popConfetti(){function randomFromTo(e,t){return d(Math.random()*(t-e+1)+e)}function confettiParticle(){this,this.x=Math.random()*t,this.y=Math.random()*a-a,this.r=randomFromTo(11,33),this.d=50*Math.random()+11,this.color=p[d(Math.random()*p.length)],this.tilt=d(33*Math.random())-11,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return l.beginPath(),l.lineWidth=this.r/2,l.strokeStyle=this.color,l.moveTo(this.x+this.tilt+this.r/3,this.y),l.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/5),l.stroke()}}function Draw(){var n=[];requestAnimationFrame(Draw),l.clearRect(0,0,t,window.innerHeight);for(var p=0;50>p;p++)n.push(c[p].draw());for(var u={},m=0,p=0;50>p;p++)u=c[p],u.tiltAngle+=u.tiltAngleIncremental,u.y+=(s(u.d)+3+u.r/2)/4,u.tilt=15*o(u.tiltAngle-p/3),u.y<=a&&m++,!e.stopConfetti()&&(u.x>t+30||-30>u.x||u.y>a)&&(u.x=Math.random()*t,u.y=-30,u.tilt=d(10*Math.random())-20);return n}var e=this,t=this.dom.innerWidth(),a=this.dom.innerHeight(),n=document.getElementById("confetti");if(n){var l=n.getContext("2d"),c=[],p=["OliveDrab","Gold","Pink","SlateBlue","LightBlue","Gold","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"];window.addEventListener("resize",function(){t=this.dom.innerWidth(),a=this.dom.innerHeight(),n.width=this.dom.innerWidth(),n.height=this.dom.innerHeight()},!1);for(var u=0;50>u;u++)c.push(new confettiParticle);n.width=this.dom.innerWidth(),n.height=this.dom.innerHeight(),Draw()}}},{key:"removeConfetti",value:function removeConfetti(){$("#confetti").remove()}},{key:"showVideo",value:function showVideo(){dialog("ui/dialogs/video/VideoDialog",{videoSrc:"s1EXJYKtxHs",videoTitle:"Stages of labor",theme:"pink"})}},{key:"animateCharacter",value:function animateCharacter(){var e=this;anime({targets:$(".character",e.dom)[0],translateX:[-400,0],opacity:[0,1],elasticity:100,duration:1e3,delay:500})}}]),DashboardBirthdayMessage}(n);a.exports=l}),define("ui.dashboard.DashboardMessage",function(e,t,a){var s=function(){"use strict";function DashboardMessage(e,t){_classCallCheck(this,DashboardMessage),this.name=t.name,this.messageVisible=ko.observable(!0),this.hideMessage=window.localStorage&&window.localStorage.getItem("hideMessage")?JSON.parse(window.localStorage.getItem("hideMessage")):{}}return _createClass(DashboardMessage,[{key:"closeMessage",value:function closeMessage(){this.hideMessage[this.name]=moment(new Date).format("MM-DD-YYYY"),window.localStorage.setItem("hideMessage",JSON.stringify(this.hideMessage)),this.messageVisible(!1)}}]),DashboardMessage}();a.exports=s}),define("ui.dashboard.DashboardReferralMessage",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function DashboardReferralMessage(e,t){var a;_classCallCheck(this,DashboardReferralMessage),a=_possibleConstructorReturn(this,_getPrototypeOf(DashboardReferralMessage).call(this,null,t));_assertThisInitialized(a);return e(_assertThisInitialized(a)),fs.mix(_assertThisInitialized(a),"ui/ReferralLink",{}),a.animate(),a}return _inherits(DashboardReferralMessage,e),_createClass(DashboardReferralMessage,[{key:"animate",value:function animate(){var e=anime({targets:$(".image-container",self.dom)[0],translateY:[-225,0],elasticity:200,duration:700,delay:500,autoplay:!1});window.onload=function(){e.play()}}}]),DashboardReferralMessage}(s);a.exports=o}),define("ui.dashboard.FeaturedVideoSeries",function(e,t,a){function FeaturedVideoSeries(e,t){var a=this;this.data=t.series,this.thumb=this.data.videos[0]?this.data.videos[0].thumb:this.getThumb(),this.moreCount=this.data.videos.length-1,this.title=this.data.title,this.descr=this.data.descr,this.flipped=t.flipped,this.hideMainTitle=t.hideMainTitle,this.dropDownOpen=ko.observable(!1),this.extra=ko.computed(function(){var e=[a.data.videos.length+" Videos"],t=0,s=0;for(var o in a.data.videos)a.data.videos[o].fc&&(t+=a.data.videos[o].fc),a.data.videos[o].ques&&(s+=a.data.videos[o].ques);return 0<t&&e.push(t+" Flashcards"),0<s&&e.push(s+" Questions"),e.join(", ")}),e(this),fs.mixAppend($(".video-slider-wrapper",a.dom),"ui/dashboard/VideoSlider",{videos:this.data.videos,hideCount:!0,title:this.title})}FeaturedVideoSeries.prototype.getThumb=function(){for(var e in this.data.videos)if(this.data.videos[e].thumb)return this.data.videos[e].thumb;return"https://osmose-it.s3.amazonaws.com/6U3n1y3YTvCID8ffZ9qwOzL3QJKWS5b7/_.jpg"},FeaturedVideoSeries.prototype.clickPlay=function(){window.location=this.data.videos[0].url},FeaturedVideoSeries.prototype.toggleDropDown=function(){this.dropDownOpen(!this.dropDownOpen())},a.exports=FeaturedVideoSeries}),define("ui.dashboard.Stats",function(e,t,a){function Stats(e,t){var a=this;this.manualData=t.manualData,this.logo=ko.observable(),this.school=ko.observable(),this.studentCount=ko.observable(),this.videoViews=ko.observable(),this.questionsAnswered=ko.observable(),this.flashcardsAnswered=ko.observable(),this.flashcardsCreated=ko.observable(),this.schoolDeal=ko.observable(),this.schoolNickname=ko.observable(),this.showDeal=ko.computed(function(){var e=moment(window.user.prime.expires).diff(moment(),"days"),t="B2B"===window.user.primeStatus;return a.schoolDeal()&&30>e&&!t}),this.timeouts={},this.init(t.manualData?t.data():null),this.manualData&&t.data.subscribe(function(e){a.init(e)}),e(this)}Stats.prototype.init=function(e){var t=this,a=function setup(a){t.school(t.manualData?e.schoolName:a.schoolID?window.user.profile.school:null),t.studentCount(a.userCount?a.userCount:0),t.videoViews(a.videosWatched),t.questionsAnswered(a.mcqAnswered),t.flashcardsAnswered(a.fcAnswered),t.flashcardsCreated(a.fcCreated),t.logo(a.logo),t.schoolDeal(a.dealUrl?a.dealUrl+"?utm_medium=osmosis&utm_source=stats_banner":null),t.schoolNickname(a.nickName)};this.setupCount(this.studentCount,".students .count"),this.setupCount(this.videoViews,".video-views .count"),this.setupCount(this.questionsAnswered,".questions-answered .count"),this.setupCount(this.flashcardsCreated,".flashcards-created .count"),this.setupCount(this.flashcardsAnswered,".flashcards-answered .count"),e?a(e):fs.post("/getSocialProofStats",{},a)},Stats.prototype.setupCount=function(e,t){var a=this;e.subscribe(function(e){var s=e-1500;if(0>s&&(s=0),0>e)throw"Setting up stats count to negative values!";e===s||a.animateValue(t,s,e,1)})},Stats.prototype.handleImgError=function(){this.logo(null)},Stats.prototype.clickSchoolDeal=function(){var e=this,t={feature:"school-stats-deal",action:"click"};keen.track("feature_engagement",t),analytics.track("Feature Engagement",t),setTimeout(function(){window.location.href=e.schoolDeal()},250)},Stats.prototype.animateValue=function(e,t,a,s){var o=t,d=a>t?4:-4,n=Math.abs(Math.floor(s/(a-t))),l=$(e)[0],c=setInterval(function(){o+=d,o?(o>=a&&(o=a,clearInterval(c)),l.innerHTML=o.toLocaleString()):clearInterval(c)},n)},a.exports=Stats}),define("ui.dashboard.StreakMessage",function(e,t,a){var s=Math.floor,o=t("shared/streaks"),d=t("shared/character"),n=t("ui/MediaQueryList"),l=t("ui/dashboard/DashboardMessage"),c=function(e){"use strict";function StreakMessage(e,t){var a;_classCallCheck(this,StreakMessage),a=_possibleConstructorReturn(this,_getPrototypeOf(StreakMessage).call(this,e,t));var l=_assertThisInitialized(a);a.streak=t.streak;var c=d.themes[s(Math.random()*d.themes.length)],p=o.goals.findIndex(function(e){return e.count==l.streak()});return a.goal=o.goals[p],a.character=c.src,a.theme=c.theme,a.message=a.goal.message?a.goal.message:"You've logged in "+l.streak()+" days in a row, keep up the great work!",a.nextGoal=o.goals[p+1],a.nextGoalMessage="Next goal: ".concat(a.nextGoal?a.nextGoal.count:0," days"),e(_assertThisInitialized(a)),fs.mix(_assertThisInitialized(a),"ui/badges/StreakBadge",{streak:l.streak}),n.ObservableTablet()||a.animate(),a}return _inherits(StreakMessage,e),_createClass(StreakMessage,[{key:"animate",value:function animate(){var e=anime({targets:$(".message-wrapper",self.dom)[0],translateX:[200,0],scale:[.2,1],opacity:[0,1],elasticity:200,duration:500,delay:650,autoplay:!1}),t=anime({targets:$(".right-section .image",self.dom)[0],translateY:[200,0],elasticity:200,duration:700,delay:500,autoplay:!1});window.onload=function(){e.play(),t.play()}}}]),StreakMessage}(l);a.exports=c}),define("ui.dashboard.VideoItem",function(e,t,a){function VideoItem(e,t){this;this.thumb=t.thumb||"#",this.url=t.url||"#",this.name=t.name,this.breadcrumb=t.breadcrumb,this.flashcards=t.fc||0,this.questions=t.ques||0,this.misc=t.misc,this.subjectName=t.subjectName,this.primeOnly=t.primeOnly,this.featuredSize=t.featuredSize,this.lastVideo=t.lastVideo,this.moreVideos=t.moreVideos,this.loadingType=t.loadingType||"default",this.loadingInviewRadius=t.loadingInviewRadius||100,this.tabNav=t.tabNav,e(this)}var s=t("app/conceptNavGlobals");VideoItem.prototype.loadImage=function(){this.dom[0].getElementsByTagName("img")[0].src=this.thumb},VideoItem.prototype.navToVideo=function(e,t){t.preventDefault(),this.lastVideo&&this.subjectName&&(s.setCurrentNavApp("Videos"),s.currentSubject(this.subjectName)),this.tabNav?tabToURL(this.url):window.location.href=this.url},a.exports=VideoItem}),define("ui.dashboard.VideoSlider",function(e,t,a){var s=Math.ceil;function VideoSlider(e,t){var a=this;this.title=t.title,this.maxVideos=ko.observable(5),this.videoCount=t.videos.length,this.hideCount=t.hideCount,this.totalPages=ko.computed(function(){return s(a.videoCount/a.maxVideos())}),this.activePage=ko.observable(0),this.activePage.subscribe(this.newActivePage()),this.progressBarWidth=ko.observable(0),this.titleOverlapping=ko.observable(!1),this.titleWidth=0,this.resizeTimeout=null,e(this);for(var o=this.dom[0].getElementsByClassName("main-title")[0].getElementsByTagName("*"),d=0;d<o.length;d++)a.titleWidth+=s(o[d].getBoundingClientRect().width);this.videos=fs.mixList(this,".videos-container");for(var d=0;d<a.videoCount;d++)window.mobile.mobile()||(t.videos[d].loadingType="none"),this.videos.push("ui/dashboard/VideoItem",t.videos[d]);$(window).resize(function(){a.onWindowResize()}),this.calculateMaxVideos();for(var d=0;d<2*this.maxVideos()&&d<this.videos.items.length;d++)this.videos.items[d].loadImage()}VideoSlider.prototype.calculateMaxVideos=function(){var e=$(".videos-container-wrapper",this.dom),t=$($(".video",e)[0]);if("undefined"!=typeof t){var a=Math.floor(e.outerWidth()/t.outerWidth());a!==this.maxVideos()&&0<a&&this.maxVideos(a)}},VideoSlider.prototype.onWindowResize=function(){var e=this;if(!e.resizeTimeout){var t=e.maxVideos();e.calculateMaxVideos(),t!==e.maxVideos()&&e.activePage(0),e.checkTitleOverlap(),e.resizeTimeout=setTimeout(function(){e.resizeTimeout=null},50)}},VideoSlider.prototype.checkTitleOverlap=function(){var e=this.dom[0].getElementsByClassName("video-scroll-progress-bar-container")[0].getBoundingClientRect().width,t=this.dom[0].getBoundingClientRect().width;this.titleOverlapping(t-e<this.titleWidth)},VideoSlider.prototype.newActivePage=function(){var e=this;return function(t){for(var a=e.dom[0].getElementsByClassName("videos-container")[0],s=a.getElementsByClassName("video")[0],o=0;o<e.maxVideos()*(t+4)&&o<e.videos.items.length;o++)e.videos.items[o].loadImage();$(a).animate({marginLeft:"-"+s.clientWidth*e.maxVideos()*t+"px"},{duration:750,queue:!1})}},VideoSlider.prototype.prevPage=function(){this.activePage(0>this.activePage()-1?this.totalPages()-1:this.activePage()-1)},VideoSlider.prototype.nextPage=function(){this.activePage(this.totalPages()==this.activePage()+1?0:this.activePage()+1)},VideoSlider.prototype.tabClickHandler=function(){var e=this;return function(t,a){e.activePage(0|a.currentTarget.dataset.progressBarIndex)}},a.exports=VideoSlider}),define("ui.dashboard.VideoTopicExpanded",function(e,t,a){var s=Math.abs;function VideoTopicExpanded(e,t){this;this.topicID=t.topicID,this.title=o.topicID2subject[t.topicID],this.vidTotal=ko.observable(window.videoSubjects[this.title]),this.loadRange=t.loadRange||400,e(this),this.videos=fs.mixList(this,".videos-container"),this.buildVideoList(t.videos),this.tabsDashboard=document.getElementsByClassName("tabs-home-videos")[0]||document.getElementsByClassName("tabs-home-dashboard")[0],this.onPageScroll=this.onPageScroll.bind(this),this.isWithinLoadRange()?this.loadAllImages():this.tabsDashboard.addEventListener("scroll",this.onPageScroll)}var o=t("shared/topics"),d=t("app/conceptNavGlobals");VideoTopicExpanded.prototype.loadAllImages=function(){for(var e=0;e<this.videos.items.length;e++)this.videos.items[e].loadImage()},VideoTopicExpanded.prototype.onPageScroll=function(){this.isWithinLoadRange()&&(this.tabsDashboard.removeEventListener("scroll",this.onPageScroll),this.loadAllImages())},VideoTopicExpanded.prototype.isWithinLoadRange=function(){var e=this.dom[0].getBoundingClientRect().top,t=this.dom[0].getBoundingClientRect().height,a=this.tabsDashboard.getBoundingClientRect().height,o=s(e-a)<=this.loadRange,d=s(s(e)-t)<=this.loadRange;return o||d||0<e+t&&e+t<a||0<e&&e<a},VideoTopicExpanded.prototype.buildVideoList=function(e){for(var t in e)if(e[t].featuredSize=!0,e[t].loadingType="none",(2==t||window.mobile.mobile()&&1==t)&&(e[t].lastVideo=!0,e[t].moreVideos=0<this.vidTotal()-2?this.vidTotal()-2:0,e[t].url="/home/search?topic="+this.title.replace(/\s/g,"_")+"&show=videos",e[t].tabNav=!0),e[t].subjectName=this.title.replace(/\s/g,"_"),this.videos.push("ui/dashboard/VideoItem",e[t]),2==t||window.mobile.mobile()&&1==t)break;2<e.length&&$(".video-list .videos-container",this.dom).addClass("should-collapse")},VideoTopicExpanded.prototype.navToTopic=function(e){e?(d.setCurrentNavApp("ques"==e?"Step 1 Questions":"Flashcards"),tabToURL("/home/quizzes?topic="+this.title.replace(/\s/g,"_")+"&type="+("ques"==e?"step1":"fc"))):(d.setCurrentNavApp("Videos"),tabToURL("/home/search?topic="+this.title.replace(/\s/g,"_")+"&show=videos")),d.currentSubject(this.title.replace(/\s/g,"_"))},VideoTopicExpanded.prototype.videoCountClick=function(){this.navToTopic()},VideoTopicExpanded.prototype.handleProgressClick=function(e){var t=this;return function(){t.navToTopic(e)}},a.exports=VideoTopicExpanded}),define("ui.dashboard.VideoTopicsList",function(e,t,a){function VideoTopicsList(e,t){for(var a in this.topics=[],this.totalVideoCount=0,t.topics){var o=window.videoSubjects[s.topicID2subject[a]];this.totalVideoCount+=o,0<o&&this.topics.push({name:s.topicID2subject[a],totalVideos:o})}this.topics.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),this.maxColumnItems=6,this.firstColumn=[],this.secondColumn=[],this.thirdColumn=[];for(var d=0;3>d;d++)for(var n=0,l;n<this.maxColumnItems&&n+d*this.maxColumnItems<this.topics.length;n++)l=this.topics[n+d*this.maxColumnItems],0==d?this.firstColumn.push(l):1==d?this.secondColumn.push(l):this.thirdColumn.push(l);e(this)}var s=t("shared/topics");VideoTopicsList.prototype.handleTopicClick=function(e){this;return function(){tabToURL("/home/search?topic="+e.replace(/\s/g,"_")+"&show=videos")}},a.exports=VideoTopicsList}),define("ui.dashboard.messages.CompleteProfile",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function CompleteProfile(e,t){var a;return _classCallCheck(this,CompleteProfile),a=_possibleConstructorReturn(this,_getPrototypeOf(CompleteProfile).call(this,null,t)),e(_assertThisInitialized(a)),fs.mix(_assertThisInitialized(a),"ui/FillProfileReminder",{}),a}return _inherits(CompleteProfile,e),_createClass(CompleteProfile,[{key:"profileButtonClick",value:function profileButtonClick(){analytics.track("interaction",{feature:"complete_profile_dashboard",event_type:"click"}),window.location="/account"}}]),CompleteProfile}(s);a.exports=o}),define("ui.dashboard.messages.GiftCardMessage",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function GiftCardMessage(e,t){var a;_classCallCheck(this,GiftCardMessage),a=_possibleConstructorReturn(this,_getPrototypeOf(GiftCardMessage).call(this,null,t));var s=_assertThisInitialized(a);return e(_assertThisInitialized(a)),a.copyTip=$(".copy-tip",s.dom).tooltip({trigger:"manual"}),a}return _inherits(GiftCardMessage,e),_createClass(GiftCardMessage,[{key:"eGiftCardClick",value:function eGiftCardClick(){analytics.track("eGift card redirect dashboard",{action:"click"}),window.open("/giftcard?utm_source=dashboard&utm_medium=osmosis&utm_campaign=gift-cards&utm_content=button-1","_blank")}},{key:"copyLinkClick",value:function copyLinkClick(){var e=this;if(analytics.track("eGift card share link dashboard",{action:"click"}),document.queryCommandSupported("copy")){var t=$(".gift-card-link input",this.dom);t.select(),document.execCommand("copy"),this.copyTip.tooltip("show"),setTimeout(function(){e.copyTip.tooltip("hide")},2e3)}else fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\"".concat(this.referralLink.val(),"\" /><script type=\"text/javascript\">function inputSelect(){$(\"#share-link-popup-input\").select();} setTimeout(function(){inputSelect()},500);</script>"),"Share Video","info")}}]),GiftCardMessage}(s);a.exports=o}),define("ui.dashboard.messages.MailingAddress",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function MailingAddress(e,t){var a;_classCallCheck(this,MailingAddress),a=_possibleConstructorReturn(this,_getPrototypeOf(MailingAddress).call(this,null,t));var s=_assertThisInitialized(a);return a.firstName=" ".concat(user.first),e(_assertThisInitialized(a)),window.onload=function(){s.messageVisible(!0)},fs.mixAppend($(".animation-container",a.dom),"ui/animations/Snow",{image:"https://d16qt3wv6xm098.cloudfront.net/O8sMMB6NSCKPamKqn2P8ZCTySlOXIazl/_.png",max:25,speed:.5}),a}return _inherits(MailingAddress,e),_createClass(MailingAddress,[{key:"animateCharacter",value:function animateCharacter(){var e=this;anime({targets:$(".character",e.dom)[0],translateX:[-400,0],opacity:[0,1],elasticity:100,duration:1e3,delay:500})}},{key:"greetingCardClick",value:function greetingCardClick(e){return function(){eventTracker.track("Feature Engagement",{action:"click",feature:"valentines-day-banner",target:"image",card:e.id},["mixpanel"]),window.open("https://www.osmosis.org/spreadjoy?id=".concat(e.id))}}},{key:"openDialog",value:function openDialog(){dialog("ui/dialogs/mailingAddress")}}]),MailingAddress}(s);a.exports=o}),define("ui.dashboard.messages.MatchDay",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=t("shared/cards"),d=o.cards,n=function(e){"use strict";function MatchDay(e,t){var a;return _classCallCheck(this,MatchDay),a=_possibleConstructorReturn(this,_getPrototypeOf(MatchDay).call(this,null,t)),a.firstName=" ".concat(user.first),a.cards=_.filter(d,function(e){return"residency-match"===e.category}).slice(0,6),e(_assertThisInitialized(a)),a.frameAnimation=fs.mix(_assertThisInitialized(a),"ui/animations/FrameAnimation",{loop:!0,loopDelay:2e3,frames:["https://d16qt3wv6xm098.cloudfront.net/JH7fRIMaSpucSrbqOi2SeshxSjmVbcnW/_.png","https://d16qt3wv6xm098.cloudfront.net/wFCeHFZuRmefyMkQlJKmOxgJQ3ydNTTF/_.png","https://d16qt3wv6xm098.cloudfront.net/WD2kEXfLTWirSn82at29jAAhT3icWnYg/_.png","https://d16qt3wv6xm098.cloudfront.net/XVYKdAZYTcSDewIlKqlFmCxiTTqwF5Nz/_.png","https://d16qt3wv6xm098.cloudfront.net/BWjeU_DMRguX7grDEFS464NaR4K4vsla/_.png"]}),setTimeout(function(){a.frameAnimation.play()},500),a}return _inherits(MatchDay,e),_createClass(MatchDay,[{key:"greetingCardClick",value:function greetingCardClick(e){return function(){eventTracker.track("Feature Engagement",{action:"click",feature:"match-day-banner",target:"image",card:e.id},["mixpanel"]),window.open("https://www.osmosis.org/spreadjoy?id=".concat(e.id,"&category=residency-match"))}}},{key:"sendCardButtonClick",value:function sendCardButtonClick(){eventTracker.track("Feature Engagement",{action:"click",feature:"match-day-banner",target:"cta"},["mixpanel"]),window.open("https://www.osmosis.org/spreadjoy?category=residency-match")}}]),MatchDay}(s);a.exports=n}),define("ui.dashboard.messages.Thanksgiving",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function Thanksgiving(e,t){var a;_classCallCheck(this,Thanksgiving),a=_possibleConstructorReturn(this,_getPrototypeOf(Thanksgiving).call(this,null,t));var s=_assertThisInitialized(a);return a.name=user.first,e(_assertThisInitialized(a)),window.onload=function(){s.messageVisible(!0),s.animateCharacter()},a}return _inherits(Thanksgiving,e),_createClass(Thanksgiving,[{key:"showVideo",value:function showVideo(){dialog("ui/dialogs/video/VideoDialog",{videoSrc:"1SHszPMSRQA",videoTitle:"Gastrointestinal anatomy & physiology",theme:"orange"})}},{key:"animateCharacter",value:function animateCharacter(){var e=this;anime({targets:$(".character",e.dom)[0],translateX:[-400,0],opacity:[0,1],elasticity:100,duration:1e3,delay:500})}},{key:"showTurkey",value:function showTurkey(){fs.mixAppend($("#Content"),"ui/animations/Turkey",{})}}]),Thanksgiving}(s);a.exports=o}),define("ui.dashboard.messages.ValentinesDay",function(e,t,a){var s=t("ui/dashboard/DashboardMessage"),o=function(e){"use strict";function ValentinesDay(e,t){var a;_classCallCheck(this,ValentinesDay),a=_possibleConstructorReturn(this,_getPrototypeOf(ValentinesDay).call(this,null,t));var s=_assertThisInitialized(a);return a.firstName=" ".concat(user.first),a.cards=[{id:"skip-a-beat-2",src:"https://d16qt3wv6xm098.cloudfront.net/h5VdnDF2RNaoSM0M-2DY2hVlR_yzRITJ/_.jpg"},{id:"i-lobe-you",src:"https://d16qt3wv6xm098.cloudfront.net/j7ajhKu4S_epI-iEy58bhh3nSAGv2weZ/_.jpg"},{id:"egg-cellent",src:"https://d16qt3wv6xm098.cloudfront.net/gCRTqj9BRUKeDAV7fdkbPBdGR7_cJgPb/_.jpg"},{id:"spleen-did",src:"https://d16qt3wv6xm098.cloudfront.net/lYaY95PXTQuQnT2PdSDsU9sHRv2ZscMx/_.jpg"},{id:"urine-my-heart",src:"https://d16qt3wv6xm098.cloudfront.net/7DJ-UboOQCantEVvKtYy6G7NRL6aCaL6/_.jpg"},{id:"brighten-my-day",src:"https://d16qt3wv6xm098.cloudfront.net/yU7dWv_GRxObjHeLWAJmZhiUToqmTOl4/_.jpg"}],e(_assertThisInitialized(a)),window.onload=function(){s.messageVisible(!0)},fs.mixAppend($(".animation-container",a.dom),"ui/animations/Snow",{image:"https://d16qt3wv6xm098.cloudfront.net/O8sMMB6NSCKPamKqn2P8ZCTySlOXIazl/_.png",max:25,speed:.5}),a}return _inherits(ValentinesDay,e),_createClass(ValentinesDay,[{key:"animateCharacter",value:function animateCharacter(){var e=this;anime({targets:$(".character",e.dom)[0],translateX:[-400,0],opacity:[0,1],elasticity:100,duration:1e3,delay:500})}},{key:"greetingCardClick",value:function greetingCardClick(e){return function(){eventTracker.track("Feature Engagement",{action:"click",feature:"valentines-day-banner",target:"image",card:e.id},["mixpanel"]),window.open("https://www.osmosis.org/spreadjoy?id=".concat(e.id))}}},{key:"sendCardButtonClick",value:function sendCardButtonClick(){eventTracker.track("Feature Engagement",{action:"click",feature:"valentines-day-banner",target:"cta"},["mixpanel"]),window.open("https://www.osmosis.org/spreadjoy")}}]),ValentinesDay}(s);a.exports=o}),define("ui.decisionTree",function(e,t,a){function DecisionTree(e,t,a,s){if(this.dom=e,this.paths=t,this.previousPaths=[],this.wantsToSave={},this.data=a||{},s)for(var o in s)this.data[o]=s[o],this.wantsToSave[o]=!0}function validateValue(e,t,a,s){if(e){var o=e(t,a);if(o)return $.find(".tree-error-message").length?($(".tree-error-message").remove(),$("<p class='tree-error-message message negative'>".concat(o,"</p>")).css("max-width","550px").appendTo(s).hide().fadeIn()):$("<p class='tree-error-message message negative'>".concat(o,"</p>")).css("max-width","550px").appendTo(s).hide().fadeIn(),!1}return!0}DecisionTree.prototype.render=function(e,t,a){var s={};for(var o in a&&this.previousPaths.push({step:a,value:t}),e)s[o]=e[o];s.nextCaption=s.nextCaption||"Next",s.backCaption=s.backCaption||"Back",fs.empty(this.dom),e.display&&e.display(s,t,this.data),s.title&&this.addTitle(s.title),s.alert?this.renderAlert(e,s):s.prompt?this.renderPrompt(e,s):s.custom&&this.renderCustom(e,s),this.onRender&&this.onRender()},DecisionTree.prototype.back=function(e,t){var a,s;if(this.onBeforeBack&&this.onBeforeBack(e,t,this),"function"==typeof e.clearVal&&e.clearVal(t,this.querySaveVal.bind(this),this.data),!e.back&&1<this.previousPaths.length){var o=this.previousPaths[this.previousPaths.length-2];a=this.paths[o.step],s=o.value}else"function"!=typeof e.back&&(a=this.paths[e.back]);a?(a.clearVal&&a.clearVal(void 0,this.querySaveVal.bind(this),this.data),this.render(a,s),this.previousPaths.pop()):"function"==typeof e.back?e.back(t,this.querySaveVal.bind(this),this.queryBackPath.bind(this),this.data):this.backExit&&this.backExit(this.returnData())},DecisionTree.prototype.querySaveVal=function(e,t){"undefined"==typeof t?(delete this.data[e],delete this.wantsToSave[e]):(this.data[e]=t,this.wantsToSave[e]=!0),this.update&&this.update(this.data)},DecisionTree.prototype.queryBackPath=function(e,t){var a;if(e)a=this.paths[e];else if(1<this.previousPaths.length){var s=this.previousPaths[this.previousPaths.length-2];a=this.paths[s.step],t||(t=s.value)}a?(a.clearVal&&a.clearVal(void 0,this.querySaveVal.bind(this),this.data),this.render(a,t),this.previousPaths.pop()):this.backExit&&this.backExit(this.returnData())},DecisionTree.prototype.next=function(e,t){var a=this;this.onBeforeNext&&this.onBeforeNext(this),"function"==typeof e.next?e.next(t,function(e,t){e?(a.previousPaths.push({step:e,value:t}),a.render(a.paths[e],t)):a.done&&a.done(a.returnData(),a.previousPaths)},function(e,t){a.data[e]=t,a.wantsToSave[e]=!0,a.update&&a.update(a.data)},this.data):(this.previousPaths.push({step:e.next}),this.render(this.paths[e.next]))},DecisionTree.prototype.returnData=function(){var e={};for(var t in this.wantsToSave)e[t]=this.data[t];return e},DecisionTree.prototype.addTitle=function(e){this.dom.append("<div class=\"info\"><h1>".concat(e,"</h1></div>"))},DecisionTree.prototype.addMessage=function(e,t){this.dom.append("<div class=\"decision-message ".concat(t?t:"","\">").concat(e,"</div>"))},DecisionTree.prototype.addActionContainer=function(e){var t=this.allowBack&&!e.disableBack?"<a href=\"#\" class=\"button btn-back\">".concat(e.backCaption,"</a>"):"",a=e.disableNext?"":"<a href=\"#\" class=\"button green btn-next\" style=\"".concat(e.hideNext?"visibility: hidden;":"","\">").concat(e.nextCaption,"</a>");return this.dom.append("\n    <div class=\"".concat(this.actionType,"\">\n      ").concat(t,"\n      ").concat(a,"\n    </div>\n    ").concat("rfloat"===this.actionType?"<div class=\"clearfix\"></div>":"","\n  "))},DecisionTree.prototype.addNextBtn=function(e){this.dom.append("<div class=\"rfloat\"><div class=\"btn btn-success btn-next\">".concat(e,"</div></div><div class=\"clearfix\"></div>"))},DecisionTree.prototype.addTextInput=function(e,t){var a=t.textOptions.icon?"<i class=\"text-icon ".concat(t.textOptions.icon,"\"></i>"):"",s=t.textOptions.label?"<span class=\"text-label\">".concat(t.textOptions.label,"</span>"):"",o=t.textOptions.placeholder?"placeholder=\"".concat(t.textOptions.placeholder,"\""):"",d="type=\"".concat(t.textOptions.type||"text","\"");return $("\n    <div class=\"form-group form-type-".concat(t.type||"text"," text-input\" style=\"margin-bottom:10px\">\n      <label>\n        ").concat(s,"\n        ").concat(a,"\n        <input ").concat(d," ").concat(o,">\n      </label>\n    </div>\n  ")).appendTo(this.dom)},DecisionTree.prototype.renderAlert=function(e,t){var a=this;t.progressBar?this.addProgressBar(t.progressBar):this.progressBar&&this.addProgressBar(this.progressBar),this.addMessage(t.alert,"alert-message"),this.addActionContainer(t),$(".btn-next",this.dom).click(function(){a.next(e)}),$(".btn-back",this.dom).click(function(){a.back(e)})},DecisionTree.prototype.addForm=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=this.delayOptions?"style=\"opacity: 0; transition: opacity 0.25s;\"":"",s=$("<form class=\"form-horizontal form-type-".concat(e," ").concat(t,"\" ").concat(a,">")).appendTo(this.dom);return this.delayOptions&&setTimeout(function(){s.css({opacity:1})},this.delayOptions),s},DecisionTree.prototype.addRadioOption=function(e,t,a,s){s=s?"checked=checked":"",s&&$(".".concat(this.actionType),this.dom).addClass("valid").removeClass("disabled");var o="",d;return"object"===_typeof(t)?(t.title&&(o="<span class=\"label-text-title\">".concat(t.title,"</span>")),d=t.body):d=t,d="<span class=\"label-text-body\">".concat(d,"</span>"),$("\n    <div class=\"form-group radio-input\">\n      <label class=\"option radio ".concat(s?"selected":"","\" style=\"padding-top: 0\">\n        ").concat(o,"\n        ").concat(d,"\n        <input type=\"radio\" name=\"decisionTree\" ").concat(s," value=\"").concat(a,"\">\n        <span class=\"checkmark\"></span>\n      </label>\n    </div>\n  ")).appendTo(e)},DecisionTree.prototype.addCheckboxOption=function(e,t,a,s,o){return s=s?"checked=checked":"",$("\n    <div class=\"form-group ".concat(o.orientation||"","\">\n      <div class=\"checkbox-input\">\n        <input type=\"checkbox\" id=\"").concat(a,"\" name=\"decisionTree\" ").concat(s," value=\"").concat(a,"\">\n        <label for=\"").concat(a,"\">").concat(t,"</label>\n      </div>\n    </div>\n  ")).appendTo(e)},DecisionTree.prototype.addSelectBox=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:[],s=fs.mixAppend(e,"ui/Dropdown",{optionsText:"label",optionsValue:"value",options:_.map(a,function(e,t){return{label:e,value:t+1}}),zIndex:1049,placeholder:t});return s},DecisionTree.prototype.addSpeechBox=function(e,t,a){$("\n    <div class=\"speech-box\">\n      <div class=\"speech-box-message-wrapper\">\n        <div class=\"speech-box-message\">".concat(t,"</div>\n      </div>\n      <div class=\"speech-box-character-wrapper\">\n        <img class=\"speech-box-character\" src=\"").concat(a,"\" alt=\"Speech box character\">\n      </div>\n    </div>\n  ")).appendTo(this.dom)},DecisionTree.prototype.addProgressBar=function(e){var t=fs.mixAppend($(this.dom),"ui/ProgressBars",{steps:e.steps,selectedIndex:e.selectedIndex,hideTrailingSeperators:e.hideTrailingSeperators,theme:"pill"}),a=$("<div class=\"dt-progress-bar-container\"></div>");t.dom.prependTo(a),a.prependTo(this.dom)},DecisionTree.prototype.optionsPromptNext=function(e,t,a){if("value"==t.returnType){var s=t.options[a-1];if(!validateValue(t.validate,s,this.data,this.dom))return;this.next(e,s)}else{if(!validateValue(t.validate,a,this.data,this.dom))return;this.next(e,a)}},DecisionTree.prototype.renderPrompt=function(e,t){var a=this;this.addMessage(t.prompt);var s=null,o=null;if(t.options){if(o=this.addForm(t.type||"radio",t.theme),"select"==t.type)this.addSelectBox(o,t.placeholder,t.options);else if("checkbox"===t.type)for(var d in t.checkboxOptions||(t.checkboxOptions={}),t.options)this.addCheckboxOption(o,t.options[d],+d+1,!!t.value&&~t.value.indexOf(+d+1),t.checkboxOptions);else for(var n in t.options)this.addRadioOption(o,t.options[n],+n+1,+n+1==t.value);if(t.type=t.type||"index",this.addActionContainer(t),"checkbox"==t.type){var l=function getRes(){var e=[];if($("input[name=decisionTree]:checked",o).each(function(t,a){e.push(+$(a).val())}),"value"==t.returnType)for(var a in e)e[a]=t.options[e[a]-1];return e};$(".btn-next",this.dom).click(function(){a.next(e,l())}),$(".btn-back",this.dom).click(function(){a.back(e,l())})}else if("select"==t.type){var c=function getIDX(){return+$("select",o).val()};$(".btn-next",this.dom).click(function(){var s=c();return s?void a.optionsPromptNext(e,t,s):fs.alert("Please select an option.")}),$(".btn-back",this.dom).click(function(){a.back(e,c())})}else{var p=function _getIDX(){return+$("input[name=decisionTree]:checked",o).val()};$(".btn-next",this.dom).click(function(){var s=p();return s?void a.optionsPromptNext(e,t,s):fs.alert("Please select an option.")}),$(".btn-back",this.dom).click(function(){a.back(e,p())}),t.autoAdvance&&$("input[name=decisionTree]",o).click(function(){return setTimeout(function(){var s=p();t.autoAdvance&&void 0!==s&&a.optionsPromptNext(e,t,s)},0),!0}),$("input[name=decisionTree]",o).change(function(){var e=p();$("input[name=decisionTree]",o).parents(".radio").removeClass("selected"),void 0===e?$(".".concat(a.actionType),a.dom).removeClass("valid").addClass("disabled"):($(a).parents(".radio").addClass("selected"),$(".".concat(a.actionType),a.dom).addClass("valid").removeClass("disabled"))})}}else{var u=t.type||"text";if(t.textOptions||(t.textOptions={}),o=this.addTextInput(e,t),s=$("input",o),"date"==u&&s.addClass("datepicker"),t.value)if("function"==typeof t.value){var m=t.value(this.data);m&&s.val(m)}else s.val(t.value);this.addActionContainer(t);var v=function getInputVal(){return s.val()};$(".btn-next",this.dom).click(function(){var s=v();return s?void($(".tree-info-message").remove(),validateValue(t.validate,s,a.data,a.dom)&&a.next(e,s)):$.find(".tree-info-message").length?($(".tree-info-message").remove(),$("<p class='tree-info-message message negative'>Please enter a value.</p>").css("max-width","550px").appendTo(a.dom).hide().fadeIn()):$("<p class='tree-info-message message negative'>Please enter a value.</p>").css("max-width","550px").appendTo(a.dom).hide().fadeIn()}),$(".btn-back",this.dom).click(function(){a.back(e,v())})}t.progressBar?this.addProgressBar(this.progressBar):this.progressBar&&this.addProgressBar(this.progressBar),t.speechBox&&(!t.speechBox.message&&(t.speechBox.message=""),!t.speechBox.img&&(t.speechBox.img="#"),this.addSpeechBox(o,t.speechBox.message,t.speechBox.img)),$("input",o).keypress(function(t){13==t.keyCode&&(t.preventDefault(),t.stopPropagation(),$(".btn-next",a.dom).click())})},DecisionTree.prototype.renderCustom=function(e,t){var a=this;t.data=this.data;var s=fs.mixAppend(this.dom,t.custom,t);t.progressBar?this.addProgressBar(this.progressBar):this.progressBar&&this.addProgressBar(this.progressBar),this.addActionContainer(t),$(".btn-next",this.dom).click(function(){a.next(e,s.getValue())}),$(".btn-back",this.dom).click(function(){a.back(e,s.getValue())}),t.speechBox&&(!t.speechBox.message&&(t.speechBox.message=""),!t.speechBox.img&&(t.speechBox.img="#"),this.addSpeechBox(form,t.speechBox.message,t.speechBox.img))},a.exports=function(e,t,a){if(0===arguments.length)return DecisionTree;"function"==typeof a?a={done:a}:!a&&(a={});var s=new DecisionTree(e,t,a.data,a.savedData);if(s.update=a.onUpdate,s.onRender=a.onRender,s.done=a.done,s.backExit=a.backExit,s.actionType=a.actionType||"rfloat",s.allowBack=a.allowBack||!1,s.progressBar=a.progressBar,s.onBeforeNext=a.onBeforeNext,s.onBeforeBack=a.onBeforeBack,s.delayOptions=a.delayOptions||0,a.previousPaths){s.previousPaths=a.previousPaths;var o=s.paths[s.previousPaths[s.previousPaths.length-1].step];o.clearVal&&o.clearVal(void 0,s.querySaveVal.bind(s),s.data),s.render(o)}else s.render(a.startAt?s.paths[a.startAt]:s.paths.start,void 0,a.startAt||"start");return s}}),define("ui.dialogs.AddCustomDailyGoal",function(e,t,a){function AddCustomDailyGoal(e,t){this;this.date=t.date,this.title=ko.observable(),this.type=ko.observable(),this.bookType=ko.observable(),this.number=ko.observable(),this.startPage=ko.observable(),this.stopPage=ko.observable()}var s=t("ui/dialogs");AddCustomDailyGoal.prototype.getTodo=function(){if("book"==this.type()){if("range"==this.bookType())return{type:"book",title:this.title(),pStart:this.startPage(),pEnd:this.stopPage()};var e="pages"}else var e="qbank";return{type:e,title:this.title(),count:this.number()}},a.exports=s(AddCustomDailyGoal,{is:"prompt",title:"Add Custom Daily Goal",buttonLabel:"Add Custom Goal",ajax:!0})}),define("ui.dialogs.AddCustomResource",function(e,t,a){var s=t("ui/dialogs"),o=t("ui/decisionTree"),d={qbank:"questions",pages:"pages",video:"videos"},n={start:{prompt:"What type of resource would you like to add?",options:["Question Bank","Book","Videos"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("type",{1:"qbank",2:"pages",3:"video"}[e]),t("resource")})},resource:{prompt:"What is the name of the resource you would like to add?",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("title",e),t("startUsing")})},startUsing:{prompt:"When do you want to start using this resource?",options:["Start <b>today</b>","Start at a <b>later date</b>"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){1==e?(a("startDate",moment().format("YYYY-MM-DD")),t("howMany")):t("startDate")})},startDate:{prompt:"What date do you want to start using this resource?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("startDate",e),t("howMany")})},howMany:{display:function display(e,t,a){e.prompt=e.prompt(d[a.type])},prompt:function prompt(e){return"How many "+e+" do you want to complete?"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("count",e),t()})}};a.exports=s(function AddCustomResource(e,t){var a=this;this.mode=ko.observable("query"),this.finishBy=ko.observable(),this.count=ko.observable(),this.type=ko.observable(),e(this),o($(".decision-tree",this.dom),n,function(e){a.mode("finalize"),a.count(e.count),a.type(d[e.type]),a.data=e});var s=$(".modal-footer",t.parent.dom.parent());$(".btn-primary",s).appendTo($(".finalize",this.dom)),$(".modal-footer",t.parent.dom.parent()).remove()},{is:"prompt",title:"Add Resource",buttonLabel:"Add Resource to Schedule",ajax:!0})}),define("ui.dialogs.AddItem",function(e,t,a){function AddItem(e,t){this;this.__allowClose=!1,this.MID=t.MID,this.onSaveListener=t.onSaveItem,e(this),this.list=fs.mixList(this,".editSpace"),this.newFlashcard()}var s=t("ui/dialogs"),o=t("models/Node");AddItem.prototype.action=function(e,t){this.container.save(e,t)},AddItem.prototype.cancel=function(){if(!this.container.isEmpty()&&!confirm("Ok to close? All unsaved edits to this item will be lost!"))return!1},AddItem.prototype.onSaveQues=function(){this.onSaveListener&&this.onSaveListener(this.currentNode),this.list.removeAll(),this.newFlashcard()},AddItem.prototype.newFlashcard=function(){var e=new o;return this.currentNode=e,e.MID=this.MID,e.type(5),e.subtype(5),this.container=this.list.push("models/ques/EditContainer",{model:e,tools:{types:"none",tags:!0,saveBtns:!1,contentTeamTags:!1}}),$(".card-front .OsmosisBlockText",self.dom).froalaEditor("events.focus"),e},a.exports=s(AddItem,{title:"Add Flashcards",is:"extended",ajax:!0,buttonLabel:"Add Card and Close Dialog"})}),define("ui.dialogs.AdminSwitchUser",function(e,t,a){function AdminSwitchUser(e){this;this.loginAsUserToken=ko.observable(),this.loginAsAuth=ko.observable(),e(this)}var s=t("ui/dialogs");AdminSwitchUser.prototype.action=function(){fs.post("adminLogInAsUser",{user:"_"+this.loginAsUserToken(),auth:md5(this.loginAsAuth())},function(){window.location="/"})},a.exports=s(AdminSwitchUser,{title:"Switch User",buttonLabel:"Log In",ajax:!0})}),define("ui.dialogs.AdminUserContact",function(e,t,a){function AdminUserContact(e,t){for(var a in this.name=ko.observable(t.name),this.toField=ko.observable(t.user),this.toUserID=ko.observable(t.userID),this.subject=ko.observable("Osmosis Prime"),this.actionCB=t.action,this.templates=ko.observableArray(),n)console.log(a),this.templates.push({name:a});e(this),this.message=s($(".message",this.dom),"",!0),console.log(this.templates())}var s=t("models/content"),o=t("ui/dialogs"),d=$(template("ui/dialogs/emailTemplates")),n={"User has answered questions and uploaded docs recently":"user-answered-ques-and-course-docs","User has answered questions recently but uploaded 0 course docs":"user-answered-ques-but-NO-course-docs","User has done almost nothing":"user-has-done-nothing"};AdminUserContact.prototype.selectTemplate=function(e){var t=this,a=this.name();if(!a)var o="<div>Hi,</div><br/> ";else if(1<a.split(" ").length)var o="<div>Hi "+a.split(" ")[0]+",</div><br/> ";else var o="<div>Hi "+a+",</div><br/> ";return function(){t.message=s($(".message",t.dom),o+$("."+n[e],d).html()+window.user.first+", on behalf of the Osmosis team",!0)}},a.exports=o(AdminUserContact,{is:"confirm",title:"Contact User",ajax:!0,buttonLabel:"Send"})}),define("ui.dialogs.AmbassadorForm",function(e,t,a){function AmbassadorForm(e,t){this;this.subject=t.subject,this.message=ko.observableArray()}var s=t("ui/dialogs");AmbassadorForm.prototype.action=function(e){fs.post("userRequest",{subject:this.subject,message:"Group "+groupID+(navData.group?" ("+navData.group.name+"): "+this.message():this.message())},function(){e(),fs.alert("Thanks for contacting us, we'll be in touch shortly!","Great to hear from you!","primary")})},a.exports=s(AmbassadorForm,{is:"prompt",title:"Contact Us",buttonLabel:"Send",ajax:!0})}),define("ui.dialogs.AppSelector",function(e,t,a){function AppSelector(){this.selected=ko.observable("Step 1 Schedule"),this.apps=s.apps,this.integrations=s.integrations,this.widgets=s.widgets,this.info=_.flatten([s.apps,s.integrations,s.widgets])}var s=t("app/dashboard"),o=t("ui/dialogs");AppSelector.prototype.select=function(e){var t=this;return function(){t.selected(e)}},AppSelector.prototype.addFavorite=function(e){return function(){e.favorite(!0)}},AppSelector.prototype.removeFavorite=function(e){return function(){e.favorite(!1)}},AppSelector.prototype.activate=function(){},AppSelector.prototype.deactivate=function(){},a.exports=o(AppSelector,{is:"prompt",title:"Manage Favorites",buttonLabel:"Done",size:BootstrapDialog.SIZE_WIDE,ajax:!1}),a.exports=AppSelector}),define("ui.dialogs.CalendarDialog",function(e,t,a){function CalendarDialog(e,t){e(this),this.groupCalendar=fs.mix(this,"ui/GroupCalendar",{currentDate:t.currentDate,onModifiedEvent:t.onModifiedEvent})}var s=t("ui/dialogs");CalendarDialog.prototype.action=function(e,t){var a=this.groupCalendar.remainingImportCount();0<a?fs.confirm("You have "+a+" unimported events. If you exit this dialog without clicking \"Import All\" they will be lost. Are you sure you want to discard them?","Discard Events","danger",function(){location.reload()},function(){t()}):e()},a.exports=s(CalendarDialog,{title:"Group Calendar",buttonLabel:"Done",size:BootstrapDialog.SIZE_WIDE})}),define("ui.dialogs.CalendarSelectDialog",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function CalendarSelectDialog(e,t){var a=this;this.mode=ko.observable("days"),this.startDate=ko.observable(),this.endDate=ko.observable(),this.count=ko.observable(0),e(this),this.calendar=fs.mix(this,"ui/SelectableCalendar",{onClickEvent:function onClickEvent(e){a.mode("event"),a.eventID=e},onSelect:function onSelect(e,t){a.startDate(e),a.endDate(t),a.count(moment(t).diff(e,"days")+1),a.mode("days")},largeTimes:!0,currentDate:t.currentDate,groupID:t.groupID})},{title:"Click and drag to select dates",buttonLabel:"OK",size:BootstrapDialog.SIZE_WIDE})}),define("ui.dialogs.CategorySelect",function(e,t,a){var s=t("ui/dialogs"),o=t("ui/Scoreboard"),d=t("app/ratingFilters");a.exports=s(function CategorySelect(e,t){this;this.categories=ko.observableArray(t.cats?t.cats.slice():null),this.categories.push("Other"),this.selected=ko.observable(),this.other=ko.observable()},{title:"Select Category",buttonLabel:"Select",size:BootstrapDialog.SIZE_WIDE})}),define("ui.dialogs.ClassGroupNav",function(e,t,a){function GroupNavObj(){var e=this;this.allModulesVisible=ko.observable(!1),this.toggleAllModulesIcon=ko.computed(function(){return e.allModulesVisible()?"-":"+"}),this.modules=ko.observableArray(),this.hidden=ko.computed(function(){var t=e.modules();for(var a in t)if(t[a].active())return!1;return!0})}function ModuleNavObj(){var e=this;this.moduleID=ko.observable(),this.examDate=ko.observable(),this.startsOn=ko.observable(),this.active=ko.computed(function(){var t=e.examDate(),a=e.startsOn();if("0000-00-00"!=t&&"0000-00-00"!=a){var s=new Date;return s>new Date(a)&&s<new Date(t)}return!1})}GroupNavObj.prototype.toggleAllModules=function(){this.allModulesVisible(!this.allModulesVisible())},a.exports=function ClassGroupNav(e,t){var a=this,s={},o=fs.transpose(navData.groupData,GroupNavObj);for(var d in this.groups=ko.observableArray(o),o)s[o[d].groupID]=o[d];this.isSidebar=ko.observable(t.sidebar),this.showAllGroups=ko.observable(1>=this.groups().length),this.hasHiddenActiveGroups=ko.computed(function(){var e=a.groups();for(var t in e)if(e[t].hidden())return!0;return!1});var n=!1,l=fs.transpose(navData.groupModules,ModuleNavObj);for(var d in l)if("GettingStarted"!=l[d].url){var c=s[l[d].groupID];c.modules.push(l[d]),n=n||l[d].active()}for(var d in this.showAllGroups()||this.showAllGroups(!n),o)o[d].modules.sort(function(e,t){return new Date(t.startsOn())-new Date(e.startsOn())})}}),define("ui.dialogs.ClassGroupNavDialog",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function ClassGroupNavDialog(e){var t=this;e(this),this.dialog="has-group"==window.schoolGroups.status?fs.mix(this,"ui/dialogs/ClassGroupNav"):fs.mix(this,"ui/SelectGroup",{studyModules:!0,cb:function cb(){t.__dialog.close()}})},{is:"popup",title:"Switch Group/Module",buttonLabel:"Cancel",ajax:!0})}),define("ui.dialogs.ContentTags",function(e,t,a){function ContentTags(e,t){var a=t.isForQuestions?v:m;this.groups=a;var o=_.indexBy(s.serialize(t.tags),_.identity);for(var d in a){var n=a[d].tags;for(var l in n)n[l].checked(o[a[d].name+":"+n[l].tag])}e(this)}var s=t("app/contentTags"),o=t("ui/dialogs"),d={name:"Exam",tags:["Step 1","Step 2","COMLEX","NCLEX-RN","PANCE"]},n={label:"Question Knowledge Category",name:"Knowledge",tags:["Basic science","Diagnosis","Treatment"]},l={label:"Knowledge Category",name:"Knowledge",tags:["Basic science","Pathology/causes","Signs/symptoms","Diagnosis","Treatment"]},c={name:"Images",tags:["Histopathology","Gross Anatomy","Graph/Figure"]},p={name:"Sources",tags:["Osmosis Video","First Aid"]},u={name:"Field",tags:["Internal medicine","IM - Cardiology","IM - Pulmonology","IM - Gastroenterology","IM - Infectious disease","IM - Heme/onc","IM - Nephrology","IM - Endocrinology","IM - Rheumatology","Family medicine","Pediatrics","Obstetrics/gynecology","Dermatology","Ophthalmology","Otolaryngology","Neurology","Neurosurgery","Plastic surgery","Urology","Orthopedic surgery","Psychiatry","Allergy/Immunology","Emergency medicine","General surgery","Anesthesiology","Genetics","Radiology","Pathology"]};(function processGroups(e){for(var t in e){var a=e[t];a.tags=_.map(a.tags,function(e){return{tag:e,checked:ko.observable()}})}})([d,l,n,c,u,p]);var m=[d,l,c,u,p],v=[d,n,c,u,p];ContentTags.prototype.getTags=function(){var e=[];for(var t in this.groups){var a=this.groups[t].tags;for(var s in a)a[s].checked()&&e.push(this.groups[t].name+":"+a[s].tag)}return e},a.exports=o(ContentTags,{title:"Add tags...",buttonLabel:"Done"})}),define("ui.dialogs.CreateGroup",function(e,t,a){function CreateGroup(){this.newGroupRequestMsg=ko.observable()}var s=t("ui/dialogs");CreateGroup.prototype.action=function(e){var t=this,a=this.newGroupRequestMsg();a&&isNaN(a)?fs.post("userRequest",{subject:"New School Group",message:a},function(){e(),window.IntercomEvent("trackEvent","created_group"),fs.alert("We'll be in touch shortly once your new class group is approved! In the meantime, check out the qbanks.","Great to hear from you!","primary",function(){})}):fs.alert("Please enter your school name <b>and</b> class year.")},a.exports=s(CreateGroup,{title:"Request Group",buttonLabel:"Request Group",ajax:!0})}),define("ui.dialogs.CreateModule",function(e,t,a){function CreateModule(e,t){e(this),this.form=fs.mix(this,"ui/EditableModule",{module:t.module,docCount:t.docCount})}var s=t("ui/dialogs");CreateModule.prototype.action=function(e,t){this.form.action(e,t)},a.exports=s(CreateModule,{is:"prompt",title:"Create Folder",buttonLabel:"Create Folder",ajax:!0})}),define("ui.dialogs.CreateNewSchedule",function(e,t,a){function CreateNewSchedule(){this;this.scheduleName=ko.observable(),this.startDate=ko.observable(),this.stopDate=ko.observable(),this.scheduleType=ko.observable("fixed"),this.scheduleVersion=ko.observable("2018")}var s=t("ui/dialogs");CreateNewSchedule.prototype.action=function(e,t){this.scheduleName()&&this.startDate()&&this.stopDate()||(fs.alert("All fields are required."),t()),fs.post("createNewSchedule",{name:this.scheduleName(),version:this.scheduleVersion(),startDate:this.startDate(),stopDate:this.stopDate(),type:this.scheduleType()},function(){e()})},a.exports=s(CreateNewSchedule,{is:"prompt",title:"Create New Schedule",buttonLabel:"Create Schedule",ajax:!0})}),define("ui.dialogs.DocSearchUploader",function(e,t,a){function DocSearchUploader(e,t){var a=this;this.parent=t.parent,this.closeOverlay=t.close,this.mainAction=t.mainAction,e(this),setTimeout(function(){a.dom.addClass("showing")},50)}DocSearchUploader.prototype.showDocUploader=function(){return this.parent.showDocUploader=!0,this.mainAction&&this.mainAction(),this.closePopup(),!0},DocSearchUploader.prototype.closePopup=function(){this.closeOverlay()},a.exports=DocSearchUploader}),define("ui.dialogs.DocWorkspaceCTA",function(e,t,a){function DocWorkspaceCTA(e,t){var a=this;this.parent=t.parent,this.closeOverlay=t.close,this.mainAction=t.mainAction,e(this),setTimeout(function(){a.dom.addClass("showing")},50)}DocWorkspaceCTA.prototype.showDocUploader=function(){return this.parent.showDocUploader=!0,this.mainAction&&this.mainAction(),this.closePopup(),!0},DocWorkspaceCTA.prototype.closePopup=function(){this.closeOverlay()},a.exports=DocWorkspaceCTA}),define("ui.dialogs.EditEvent",function(e,t,a){function EditEvent(e,t){this.event=t.event,this.calendar=t.calendar,this.__model=t.event,e(this),this.__edit()}var s=t("ui/dialogs");EditEvent.prototype.action=function(e){var t=this,a=t.event._eventID()?null:this.calendar&&this.calendar.cal.focusedEvent();this.__save(function(){t.calendar&&t.calendar.saveEdit(t.event,a),e()});var s=0;for(var o in eventIndex)s++;0==s&&$.jGrowl("When you're done, click the blue \"Done Editing\" button.",{life:5e3,position:"bottom-left"})},EditEvent.prototype.cancel=function(){this.calendar&&this.calendar.cancelEdit(),this.__cancel()},EditEvent.prototype.removeEvent=function(){var e=this;0==this.event.docs().length?fs.confirm("Are you sure you want to delete this event?","Confirm delete","danger",function(t){e.event._eventID()?fs.destroy(e.event,function(){$(document).trigger("refreshCalendar"),e.calendar?(e.calendar.dom.fullCalendar("removeEvents",e.calendar.cal.focusedEvent()._id),e.__dialog.close(),t()):location.reload()}):(e.calendar&&e.calendar.cancelEdit(),e.__dialog.close())}):fs.alert("You cannot remove an event that has attached documents.")},a.exports=s(fs.makeEditable(EditEvent),{is:"prompt",title:"Edit Event",buttonLabel:"Save Edits",ajax:!0})}),define("ui.dialogs.EditItem",function(e,t,a){function EditItem(e,t){var a=this;this.__allowClose=!1,e(this);var s=t.tools||{types:"none",tags:!0,contentTeamTags:!1};s.saveBtns=!1,this.list=fs.mixList(this,".editSpace"),this.container=this.list.push("models/ques/EditContainer",{model:t.model,delayRender:!0,tools:s}),o.addUnsavedWorkCheck(this.list),this.list.editing(!0),t.model.MID=t.model.MID||window.MID,t.model.MID?a.container.render():(a.container.visible(!1),fs.post("getQuesOrigMID",{nodeID:t.model.nodeID},function(e){t.model.MID=e.MID,a.container.render()}))}var s=t("ui/dialogs"),o=t("app/quesEdit");EditItem.prototype.action=function(e,t){this.container.save(e,t),window.clearUnsavedWork()},EditItem.prototype.cancel=function(){return!!confirm("Ok to close? All unsaved edits will be lost!")&&void window.clearUnsavedWork()},a.exports=s(EditItem,{title:"Edit Item",is:"extended",ajax:!0,buttons:[{cssClass:"btn-default",autospin:!0,action:function action(e){var t=this;e.__vm.container.save(function(){t.toggleSpin(!1)},function(){e.enableButtons(!0)})},label:"Save"}],buttonLabel:"Save and Close"})}),define("ui.dialogs.EditJSONData",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function EditJSONData(e,t){this;this.json=ko.observable(JSON.stringify(t.json,null,2)),e(this)},{title:"JSON Editor",buttonLabel:"Submit",ajax:!0,is:"confirm"})}),define("ui.dialogs.EditNodeData",function(e,t,a){function EditNodeData(e,t){this;this.term=t.term,this.node=t.node,this.data=ko.observable(JSON.stringify(t.node.data(),null,2)),this.nodeList=ko.observable(),e(this)}function convert2array(e){for(var t in e=e.split(","),e)e[t]=e[t].trim();return e}var s=t("ui/dialogs");EditNodeData.prototype.action=function(e,t){var a=null;try{a=JSON.parse(this.data())}catch(a){return fs.alert("Invalid json format"),t()}a&&(fs.post("adminEditNodeData",{nodeID:this.node.nodeID,data:a},e),this.nodeList()&&fs.post("adminAddNodeIDsToTerm",{term:this.term,nodes:convert2array(this.nodeList())}))},a.exports=s(EditNodeData,{title:"Node Editor",buttonLabel:"Submit",ajax:!0,is:"confirm"})}),define("ui.dialogs.EditScheduleCustomGoal",function(e,t,a){function EditScheduleCustomGoal(e,t){var a=this;this.taskID=t.goal.taskID,this.data=t.goal.data;var s=+new Date;this.origStartDate=ko.observable(this.data.startDate),this.startDate=ko.observable(+moment(this.data.startDate)<s?moment().format("YYYY-MM-DD"):this.data.startDate),this.stopDate=ko.observable(this.data.stopDate),this.originalTotal=ko.observable(+this.data.count),this.completed=ko.observable(),this.remaining=ko.observable(+this.data.count),fs.post("getScheduleDailyCustom",{scheduleID:o.scheduleID,tag:this.data.title},function(e){var t=0;for(var s in e.goals){var o=e.goals[s];o.state&&(t+=o.todo.count)}a.completed(t),a.remaining(a.data.count-t)})}var s=t("ui/dialogs"),o=t("app/step1classic/step1");EditScheduleCustomGoal.prototype.action=function(){this;fs.post("updateScheduleCustomGoal",{scheduleID:o.scheduleID,taskID:this.taskID,repeat:{type:this.data.type,hint:this.data.hint,title:this.data.title,startDate:this.startDate(),count:this.remaining(),stopDate:this.stopDate()}},function(){location.reload()})},a.exports=s(EditScheduleCustomGoal,{is:"prompt",title:"Modify Daily Task",buttonLabel:"Update Task",ajax:!0})}),define("ui.dialogs.EditScreenshot",function(e,t,a){function EditScreenshot(e,t){this.src=ko.observable(t.src),e(this),t.labeled?(this.labels=t.labels,this.canvas=$("canvas",this.dom),this.context=this.canvas[0].getContext("2d"),this.loadImage(t.src),this.renderImage()):this.image=fs.mix(this,"models/concept/ImagePointHighlight",{src:t.src,radius:10,lineWidth:1,fillStyle:"#00FF00",strokeStyle:"#376f37",updateHighlight:function updateHighlight(){}})}var s=t("ui/dialogs");EditScreenshot.prototype.loadImage=function(e){var t=this;this.image=new Image,this.image.onload=function(){t.canvas.attr("width",this.width).attr("height",this.height),t.renderImage()},this.image.src=e},EditScreenshot.prototype.drawLabel=function(e,t){var a=this.context,s=2*e.screen.x,o=2*e.screen.y;a.beginPath(),a.arc(s,o,10,0,2*Math.PI,!1),a.fillStyle="#5cb85c",a.fill(),a.lineWidth=1,a.strokeStyle="#003300",a.stroke(),a.font="15px Arial",a.fillStyle="white",a.textAlign="center",a.fillText(t,2*e.screen.x,2*e.screen.y+5)},EditScreenshot.prototype.renderImage=function(){var e=this.context;e.globalAlpha=1,e.fillStyle="white",e.fillRect(0,0,this.image.width,this.image.height),e.drawImage(this.image,0,0);var t=[];for(var a in this.labels)this.labels[a].screen&&t.push(this.labels[a]);for(var a in t)this.drawLabel(t[a],t[a].labelStr)},a.exports=s(EditScreenshot,{title:"Edit Screenshot",buttonLabel:"Insert Image",ajax:!0})}),define("ui.dialogs.EditTags",function(e,t,a){function EditTags(e,t){var a=this;this.MID=t.MID,this.tags=ko.observableArray(),e(this),fs.post("getTagDataForModule",{g:window.groupID,m:this.MID},function(e){a.tags(fs.transpose(e.tagData))})}var s=t("ui/dialogs");EditTags.prototype.action=function(e){e()},EditTags.prototype.remove=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove this tag?","Confirm Remove","danger",function(a){fs.post("removeTagFromModule",{g:window.groupID,m:t.MID,tagID:e.tagID},function(){t.tags.remove(e),a()})})}},a.exports=s(EditTags,{is:"alert",title:"Edit Tags",buttonLabel:"Done"})}),define("ui.dialogs.EventEditDialog",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function EventEditDialog(e,t){this.event=t.event,e(this),fs.mix(this,"models/CourseEventView",{model:this.event})},{title:"Add documents...",buttonLabel:"Done"})}),define("ui.dialogs.EventImport",function(e,t,a){function ImportableEvent(e,t){this.title=ko.observable(e.title),this.instructor=ko.observable(""),this.meta=ko.observable(e.descr||""),this.imported=ko.observable(!1),this.googleEvent=e,this.eventObj=t,this.formattedDate=ko.computed(function(){return moment(e.begin).format("ddd MMM Do YYYY h:mm a")})}function gcalendar2date(e){e.allDay="date"in e.begin,e.allDay?(e.begin=new Date(e.begin.date),e.end=new Date(e.end.date)):(e.begin=new Date(e.begin.dateTime),e.end=new Date(e.end.dateTime))}function EventImport(e,t){var a=this;this.from=ko.observable(),this.parent=t.parent,window.calendars&&window.calendars.sort(function(e,t){return e.summary>t.summary?1:e.summary<t.summary?-1:0}),this.calendars=window.calendars,this.events=null,this.calendar=t.calendar,this.selCalendar=ko.observable(),this.beginDate=ko.observable(),this.endDate=ko.observable(),this.iCalUrl=ko.observable(),this.hasCalendars=ko.observable(!!window.calendars),e(this),fs.mix(this,"ui/ICalUploader",{onUploaded:function onUploaded(e){dialog("ui/dialogs/ICalTimezone",function(t,s){s&&a.previewEvents(e)},{res:e})}}),fs.post("getImportableRange",{g:window.groupID},function(e){a.beginDate(e.start),a.endDate(e.end),a.from(t.from)})}var s=t("ui/dialogs"),o=t("models/Event"),d=t("ui/CalendarModel"),n=t("app/timezone");EventImport.prototype.startImport=function(){},EventImport.prototype.importEvents=function(e,t){var a=this;return this.selCalendar()?void fs.post("getGoogleCalendarEvents",{id:this.selCalendar(),begin:this.beginDate(),end:this.endDate(),tz:new Date().getTimezoneOffset()},function(t){a.previewEvents(t),e()}):fs.alert("Select a calendar first!",function(){t()})},EventImport.prototype.googleAuth=function(){location.replace("/calauth?prefix="+encodeURIComponent(window.location.pathname))},EventImport.prototype.importAll=function(){var e=this.parent.importableEvents();for(var t in e)this.importEvent(e[t])},EventImport.prototype.discardEvents=function(){var e=this.parent.importableEvents();for(var t in e)e[t].imported()||this.parent.calendar.dom.fullCalendar("removeEvents",e[t].calEvent._id);this.parent.importableEvents.removeAll()},EventImport.prototype.importEvent=function(e){var t=this,a=new o;a.title(e.title()),a.instructor(e.instructor()),a.begin(new Date(moment.tz(e.googleEvent.begin,n.timezone()).format())),a.length((new Date(moment.tz(e.googleEvent.end,n.timezone()).format())-e.googleEvent.begin)/6e4),fs.create(a),e.calEvent&&t.parent.calendar.dom.fullCalendar("removeEvents",e.calEvent._id);var s=t.parent.calendar.stagedEvents,d=s.indexOf(e);-1!=d&&s.splice(d,1),t.parent.calendar.dom.fullCalendar("rerenderEvents"),e.imported(!0)},EventImport.prototype.triggerImportEvent=function(e){var t=this;return function(){t.importEvent(e)}},EventImport.prototype.previewEvents=function(e){var t=this;if(0==e.events.length)return void fs.alert("There were no available events in the selected date range from the selected calendar!",function(){});t.events=e.events;var a=e.events;for(var s in a)gcalendar2date(a[s]);for(var s in t.events.sort(function(e,t){var a=e.begin.getTime(),s=t.begin.getTime();return a>s?1:a<s?-1:0}),t.calendar.gotoDate(a[0].begin),a)if(!a[s].allDay){var o=t.calendar.formatGoogleEvent(a[s]);o.importableEvent=new ImportableEvent(a[s],o),t.calendar.stagedEvents.push(o.importableEvent),t.parent.importableEvents.push(o.importableEvent)}t.calendar.dom.fullCalendar("refetchEvents"),t.calendar.seekEarliest(),t.parent.mode("import")},EventImport.prototype.loadFromUrl=function(e){var t=this;this.iCalUrl()?fs.post("importICal",{g:groupID,url:this.iCalUrl(),from:t.beginDate(),to:t.endDate()},function(a){e(),dialog("ui/dialogs/ICalTimezone",function(e,s){s&&t.previewEvents(a)},{res:a})}):fs.alert("Please specify a url.",function(){e()})},EventImport.prototype.action=function(e,t){"google"==this.from()?window.calendars?this.importEvents(e,t):location.replace("/calauth?prefix="+encodeURIComponent(window.location.pathname)):e()},EventImport.prototype.cancel=function(){},a.exports=s(EventImport,{is:"prompt",type:BootstrapDialog.TYPE_WARNING,title:window.calendars?"Select date range":"Log in to Google Calendar",buttonLabel:window.calendars?"Preview Events":"Authenticate with Google Calendar",ajax:!0}),a.exports=EventImport}),define("ui.dialogs.ExampleDialog",function(e,t,a){function ExampleDialog(e,t){this;this.dialogStyle=t.dialogStyle||"positive"}ExampleDialog.prototype.action=function(e,t){setTimeout(function(){var a=prompt("Enter done or abort:");"done"==a?e():"abort"==a&&t()},1e3)},ExampleDialog.prototype.cancel=function(e){var t=confirm("Exit without saving changes?");return t&&e(),!1},a.exports=ExampleDialog}),define("ui.dialogs.FeedbackForm",function(e,t,a){function FeedbackForm(e,t){this;this.term=t.term,this.nodeID=t.nodeID,this.subject=ko.observable(t.subject),this.feedback=ko.observable(t.feedback),e(this)}var s=t("ui/dialogs"),o=t("ui/Scoreboard"),d=t("app/ratingFilters");FeedbackForm.prototype.action=function(e){this.term?fs.post("conceptCardFeedback",{term:this.term,feedback:this.feedback(),nodeID:this.nodeID},e):fs.post("userRequest",{subject:this.subject(),message:this.feedback(),nodeID:this.nodeID},function(){e(),fs.alert("Thanks for contacting us, we'll be in touch shortly!","Great to hear from you!","primary")})},a.exports=s(FeedbackForm,{title:"Feedback",buttonLabel:"Submit",ajax:!0,is:"confirm"})}),define("ui.dialogs.FlashcardBrowser",function(e,t,a){var s=t("ui/dialogs"),o=t("app/recManager");a.exports=s(function FlashcardBrowser(e,t){this;for(var a in e(this),this.container=fs.mix(this,"models/resource/FactContainer"),this.flashcards=o.createQuickFlashcards(t.flashcards),this.flashcards)this.container.push(this.flashcards[a])},{is:"prompt",title:"Browse"})}),define("ui.dialogs.GetPrimeDialog",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function GetPrimeDialog(){},{is:"prompt",title:"Get Prime",buttonLabel:"Learn More",ajax:!0})}),define("ui.dialogs.GroupAddMemberDialog",function(e,t,a){function GroupAddMemberDialog(e,t){this.group=t.group,this.newMemberEmail=ko.observable(),this.newMemberRole=t.group.defaultRole}var s=t("ui/dialogs"),o=t("models/GroupMember");GroupAddMemberDialog.prototype.isMember=function(e){var t=fs.getIndex("groupmember");return e in t},GroupAddMemberDialog.prototype.action=function(e,t){var a=this;if(this.newMemberEmail()){var s=this.newMemberRole().split(".");fs.post("addNewGroupMember",{g:window.groupID,email:this.newMemberEmail(),groupRole:+s[0],moduleRole:+s[1]},function(d){if(d.alreadyMember)return fs.alert("This user is already a member of this group!"),t();if(d.notFound)return fs.alert("This user has not yet joined Osmosis. If the user already has an account, make sure this email is associated with their account."),t();a.newMemberEmail(""),$.jGrowl("User has been added to the group.",{life:1e3,position:"bottom-left"});var n=new o(d.userID);n.groupRole(+s[0]).moduleRole(+s[1]),a.group.members.push("models/GroupMemberView",{model:n}),e()})}else alert("Please enter a valid email.")},a.exports=s(GroupAddMemberDialog,{is:"prompt",title:"Add Group Member by Email Address...",buttonLabel:"Add Member",ajax:!0})}),define("ui.dialogs.GroupDefaultRoleDialog",function(e,t,a){function GroupDefaultRoleDialog(e,t){this.defaultRole=t.group.defaultRole}var s=t("ui/dialogs");GroupDefaultRoleDialog.prototype.action=function(e){var t=this.defaultRole().split(".");fs.post("setDefaultRole",{g:groupID,groupRole:+t[0],moduleRole:+t[1]},e)},a.exports=s(GroupDefaultRoleDialog,{is:"prompt",title:"Roles",buttonLabel:"Save",ajax:!0})}),define("ui.dialogs.GroupInspector",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function GroupInspector(e,t){var a=this;e(this),setTimeout(function(){fs.mixAppend(a.dom,"ui/AdminGroupAnalytics",{groupID:t.groupID})},1e3)},{title:"Inspect Group"})}),define("ui.dialogs.ICalTimezone",function(e,t,a){function ICalTimezone(e,t){for(var a in this.calendar=t.res,this.suggestedTimezones=ko.observableArray(),t.res.timezones)this.addTimezone(t.res.timezones[a],t.res.timezones,t.res.events);this.selectedTimezone=ko.observable(),e(this),this.names=moment.tz.names(),this.names.unshift("");var s=""+this.names.indexOf(o.timezone());this.timezoneSel=d(this,"timezoneSel",{options:this.names,value:s})}function getHist(e,t,a){var s={};for(var o in a){var d=moment.tz(a[o].begin.dateTime,"YYYYMMDDTHHmmss",e).tz(t),n=+d.format("H");if(7<=n&&19>n)var l="morning";else if(19<=n&&22>n)var l="evening";else var l="night";var c="<span class=\""+l+"\">"+d.format("ha")+"</span>";c in s?s[c]++:s[c]=1}var p=[];for(var o in s)p.push(s[o]+"<span class=\"fp80\">@"+o+"</span>");return p.join(" &nbsp; ")}var s=t("ui/dialogs"),o=t("app/timezone"),d=t("ui/select");ICalTimezone.prototype.getTimezone=function(){return"custom"==this.selectedTimezone()?this.names[this.timezoneSel.value()]:this.selectedTimezone()},ICalTimezone.prototype.addTimezone=function(e,t,a){for(var s in t)this.suggestedTimezones.push({timezone:e,timezoneName:"<b>"+e+" encoding</b> when viewed in <b>"+t[s]+"</b>",hist:getHist(e,t[s],a)})},ICalTimezone.prototype.action=function(e){var t=this.calendar.events,a=this.getTimezone();for(var s in t)t[s].begin.dateTime=moment.tz(t[s].begin.dateTime,"YYYYMMDDTHHmmss",a),t[s].end.dateTime=moment.tz(t[s].end.dateTime,"YYYYMMDDTHHmmss",a);e()},a.exports=s(ICalTimezone,{is:"prompt",title:"Select Timezone",buttonLabel:"Select Timezone",ajax:!0})}),define("ui.dialogs.KeyboardShortcuts",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function KeyboardShortcuts(e){e(this)},{title:"Keyboard Shortcuts",buttonLabel:"Done"})}),define("ui.dialogs.LockoutDialog",function(e,t,a){a.exports=function LockoutDialog(e,t){"use strict";_classCallCheck(this,LockoutDialog),this.message=t.message,this.header=t.header,this.secondaryButton=t.secondaryButton,this.primaryButton=t.primaryButton,this.theme=t.theme}}),define("ui.dialogs.MemberAnalyticsDialog",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function MemberAnalyticsDialog(e,t){var a=this;this.data=ko.observable(null),fs.get("/data/user/getUserAnalytics",{userID:t.userID,groupID:t.groupID}).then(function(e){a.load(e)}),this.load=function(e){a.data(e),fs.mix(a,"ui/b2b/MemberProfileAnalytics",{userID:t.userID,data:a.data}),fs.mix(a,"ui/b2b/MemberFlashcardAnalytics",{data:a.data}),fs.mix(a,"ui/b2b/MemberVideoAnalytics",{data:a.data}),fs.mix(a,"ui/b2b/MemberQuestionAnalytics",{data:a.data}),fs.mix(a,"ui/b2b/MemberActivity",{data:a.data})},e(this)},{title:"Member Analytics"})}),define("ui.dialogs.MoveDeck",function(e,t,a){function MoveDeck(e){var t=this;this.groupID=ko.observable(window.groupID||0),this.moduleID=ko.observable(0),this.hasWorkspaces=ko.observable("has-group"==window.schoolGroups.status&&window.groupSnapshotData.groupID.length);var a=[{id:0,caption:"Select workspace..."}];for(var s in window.groupSnapshotData.groupID)a.push({id:window.groupSnapshotData.groupID[s],caption:window.groupSnapshotData.name[s]});this.workspaces=ko.observableArray(a),this.folders=ko.observableArray(),this.folders.push({id:0,caption:"Select folder..."}),this.groupID.subscribe(function(){t.updateFolders()}),e(this),window.groupID&&t.updateFolders()}var s=t("ui/dialogs");MoveDeck.prototype.updateFolders=function(){var e=this;this.folders([{id:1,caption:"Select folder..."},{id:0,caption:"Long-term decks"}]),this.moduleID(1),fs.post("getGroupModules",{g:e.groupID},function(t){var a=fs.transpose(t.moduleData);for(var s in a)e.folders.push({id:a[s].moduleID,caption:a[s].name})})},a.exports=s(MoveDeck,{is:"prompt",title:"Move Deck",buttonLabel:"Move Deck",ajax:!0})}),define("ui.dialogs.MoveDocument",function(e,t,a){function MoveDocument(e,t){this;this.doc=t.doc,this.event=t.doc.getEvent(),this.currentEvent=ko.observable(this.event.caption()),this.moveTo=ko.observable(this.event.eventID),this.events=ko.observableArray();var a=window.MID||this.doc.MID,s=moduleIndex[a],o=moment.tz(s.startsOn()+" 00:00:00",c.timezone()),d=moment.tz(s.examDate()+" 23:59:59",c.timezone());for(var n in eventIndex)eventIndex[n].MID()&&a!=eventIndex[n].MID()||0>moment(eventIndex[n].begin()).diff(o,"minutes")||0<moment(eventIndex[n].begin()).diff(d,"minutes")||this.events.push({id:eventIndex[n].eventID,date:eventIndex[n].begin(),caption:eventIndex[n].begin().toString("ddd, MMM d")+": "+eventIndex[n].caption()});this.events.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),this.showingHint=ko.observable()}var s=t("ui/dialogs"),o=t("models/Module"),d=t("app/canonical"),n=t("shared/topics"),l=t("models/Link"),c=t("app/timezone");MoveDocument.prototype.move=function(){var e=this,t=e.doc.getEventLink(),a=window.MID||t.MID;fs.destroy(t,function(){var t=new l(null);t.type(4).status(1).nodeID(e.doc.nodeID).targetID(e.moveTo()),t.MID=a,fs.create(t,function(){location.reload()})})},MoveDocument.prototype.action=function(e,t){var a=this;if(this.event.eventID!=this.moveTo()){var s=a.doc.getEventLink(),o=window.MID||s.MID,d=eventIndex[a.moveTo()];d.MID?a.move(e,t):fs.post("assignEventToModule",{m:o,eventID:d.eventID},function(){a.move(e,t)})}else fs.alert("Origin and destination event cannot be the same!",t)},a.exports=s(MoveDocument,{is:"prompt",title:"Move Document",buttonLabel:"Move Document",ajax:!0})}),define("ui.dialogs.MoveDocuments",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function MoveDocuments(e,t){this;this.docs=t.docs},{is:"prompt",title:"Move Documents",buttonLabel:"Move Documents",ajax:!0})}),define("ui.dialogs.PrimeFacts",function(e,t,a){var s=t("ui/dialogs"),o=t("models/content"),d=t("models/ques/flashcardTools");a.exports=s(function PrimeFacts(e,t){e(this);var a=$(".factsDiv",this.dom);for(var s in t.facts){var o=nodeIndex[t.facts[s]];d.renderAsQuickFact(a,o.data())}},{title:"Read over these high-yield facts first",buttonLabel:"Done"})}),define("ui.dialogs.PrimeTrial",function(e,t,a){function PrimeTrial(e,t){this.src=t.src,this.ref=t.ref}var s=t("ui/dialogs");PrimeTrial.prototype.action=function(e){window.location.href="/login?type=create&ref="+this.ref+"&src="+this.src,e()},a.exports=s(PrimeTrial,{is:"prompt",title:"Start your Prime trial",buttonLabel:"Start Prime Trial",cancelLabel:"Not now, thanks"})}),define("ui.dialogs.QuesItemBrowser",function(e,t,a){function extractText(e){return e?"string"==typeof e?e:e.s:""}function canonical(e){return e=e.toLowerCase(),e.replace(/\&\#8217\;/g,"'").replace(/\s\s+/g," ")}function sort(e,t){for(var a in t=t.toLowerCase(),e){var s=nodeIndex[e[a]],o=s.data();if(1==s.subtype()){var d=o.a,n=!1;for(var l in d){var c=canonical(extractText(d[l].v));if(-1!=c.indexOf(t)){nodeIndex[e[a]].relatedScore=d[l].c?1:-1,n=!0;break}if(d[l].e){var c=canonical(extractText(d[l].e));if(-1!=c.indexOf(t)){nodeIndex[e[a]].relatedScore=d[l].c?2:-1,n=!0;break}}}if(n)continue}var c=extractText(o.e).toLowerCase().split(".").slice(0,2).join(".");if(-1!=c.indexOf(t)){nodeIndex[e[a]].relatedScore=3;continue}nodeIndex[e[a]].relatedScore=4}e.sort(function(e,t){return nodeIndex[e].relatedScore-nodeIndex[t].relatedScore})}var s=t("ui/dialogs"),o=t("app/recManager");a.exports=s(function QuesItemBrowser(e,t){var a=this;this.count=ko.observable(),this.counter=t.counter||0,this.categorize=t.categorize,this.items=[],e(this),fs.post("/getQuesForTerm",{term:t.term,filter:t.filter,include:1},function(e){o.loadNodes(e.quesData);var s=_.indexBy(t.exclude,_.identity),d=e.quesData.nodeData.nodeID;sort(d,t.term);var n=0;for(var l in d)("filtered"!=t.filter||!s[d[l]]&&0<nodeIndex[d[l]].relatedScore)&&(fs.mixAppend($(".list",a.dom),"models/ques/QuesPreview",{parent:a,score:nodeIndex[d[l]].relatedScore,term:t.term,node:nodeIndex[d[l]],idx:+l+1,count:d.length}),n++);a.count(n)})},{is:"prompt",title:"Browse"})}),define("ui.dialogs.QuizByCalendar",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function QuizByCalendar(e,t){var a=this;e(this),t.onStartQuiz=function(){a.__dialog.close()},fs.mix(this,"ui/QuizBlockByCalendar",t)},{is:"alert",title:"Quiz by Calendar",size:BootstrapDialog.SIZE_WIDE,buttonLabel:"Done"})}),define("ui.dialogs.QuizByDocuments",function(e,t,a){function QuizByDocuments(e,t){var a=this;e(this),t.onStartQuiz=function(){a.__dialog.close()},this.quizBlockByDocuments=fs.mix(this,"ui/QuizBlockByDocuments",t)}var s=t("ui/dialogs");QuizByDocuments.prototype.action=function(e){this.quizBlockByDocuments.build(e)},a.exports=s(QuizByDocuments,{is:"prompt",title:"Quiz by Documents",size:BootstrapDialog.SIZE_WIDE,buttonLabel:"Build Quiz",ajax:!0})}),define("ui.dialogs.QuizOverview",function(e,t,a){var s=Math.floor;function QuizOverview(e,t){var a=this,o=this;for(var n in this.select=t.select,this.typeStr=t.type,this.onStart=t.onStart,this.onShow=t.onShow,this.MID=t.MID,this.hideBrowse=t.hideBrowse,this.estimatedTime=ko.observable(0),this.estimatedHours=ko.observable(0),this.numOfQuestions=ko.observable(t.ques.length),this.filtersVisible=ko.observable(!1),this.showAdditionalFilters=function(){$(".filters-container").slideToggle("slow"),a.filtersVisible(!a.filtersVisible())},this.questionOrFC=this.typeStr?"questions"===this.typeStr.toLowerCase()?"ques":"fc":"ques",this.timePerItem="fc"===this.questionOrFC?v:m,e(this),$(document).bind("ScoreboardUpdate",function(){o.update()}).bind("ScoreboardKeyUpdate",function(){o.update()}),$(".bootstrap-dialog-header").addClass("text-center"),$(".bootstrap-dialog-title").css("font-size","24px").css("color","#969696"),this.sbBuild=new d($(".builderScoreboard",this.dom),250,[],this.typeStr),this.sbBuild.render(),this.sbBuild.dom.bind("ui-Scoreboard.change",function(){}),this.quesIndex={},t.ques)this.quesIndex[t.ques[n]]=nodeIndex[t.ques[n]];var p=this.select?function(e){return o.filter(e)}:function(){return!0};if(this.quizPool=this.sbBuild.loadBinsFromHistory(this.quesIndex,p),this.sbBuild.selectByFilter(t.select?t.select.scoreboardFilter:"00000001.111111111"),this.scoreboardKey=fs.mix(this,"ui/ScoreboardKey",{sb:this.sbBuild,filterType:t.filterType}),this.numOfQuestions(this.sbBuild.filterQuizPool(this.quizPool).length),this.estimatedTime(s(this.numOfQuestions()*this.timePerItem)),this.update(),t.MID){var u=ko.observableArray();this.tagSelect=l(this,"tagSelect",{optionsArray:u,onChange:"onChangeTag",caption:"Filter by tags here (optional)"});var b=ko.observableArray([{value:1,label:"Me"},{value:2,label:"Classmates I'm Following"}]);this.authorSelect=l(this,"authorSelect",{optionsArray:b,onChange:"onChangeTag",caption:"Filter by tags here (optional)"}),c.load(t.MID,u,b)}}function getTypeFilter(e,t){var a={};for(var s in e)t[s]&&(a[s]=e[s]());return a}var o=t("ui/dialogs"),d=t("ui/Scoreboard"),n=t("app/ratingFilters"),l=t("ui/select"),c=t("app/moduleFilters"),p=t("app/addToQueue"),u=t("app/queues"),m=.83,v=.21;QuizOverview.prototype.show=function(){this.onShow(this)},QuizOverview.prototype.startQuiz=function(t){var e=this.sbBuild.filterQuizPool(this.quizPool);e.length?this.onStart(e):fs.alert("You've filtered away all the questions! Try selecting different filters!"),t.__dialog.close()},QuizOverview.prototype.showShareOptions=function(){fs.mixAppend($(".share-button",this.dom),"ui/PopupMenu",{header:"Share...",items:[{text:"Link",type:"action",icon:"fas fa-link",action:function action(){console.log("Link")}},{text:"Twitter",type:"action",icon:"fab fa-twitter",action:function action(){console.log("Twitter")}}]})};var b={questions:{1:!0,2:!0,4:!0},flashcards:{5:!0,7:!0}};QuizOverview.prototype.filter=function(e){var t={myRating:n.myRatingFilter[this.select.myRatingFilter()],groupRating:n.groupRatingFilter[this.select.groupRatingFilter()],type:getTypeFilter(this.select.quesTypeFilters,b[this.select.type()])};return t.myRating(e)&&t.groupRating(e)&&t.type[e.subtype()]},QuizOverview.prototype.onChangeTag=function(){var e=this;fs.post("getModuleNodesWithFilters",{g:window.groupID,m:this.MID,tagIDs:this.tagSelect.value(),userIDs:this.authorSelect.value()},function(t){if(t.filter){var a=_.indexBy(t.filter,_.identity);e.quizPool=e.sbBuild.loadBinsFromHistory(e.quesIndex,function(e){return a[e.nodeID]})}else e.quizPool=e.sbBuild.loadBinsFromHistory(e.quesIndex,function(){return!0})})},QuizOverview.prototype.update=function(){this.numOfQuestions(this.sbBuild.filterQuizPool(this.quizPool).length),this.estimatedTime(s(this.numOfQuestions()*this.timePerItem)),59<this.estimatedTime()&&(this.estimatedHours(s(this.estimatedTime()/60)),this.estimatedTime(this.estimatedTime()%60))},QuizOverview.prototype.doFlashcardAdd=function(e){p.flashcards(e,$(".quiz-item.flashcards .quiz-actions .save",this.dom))},QuizOverview.prototype.doQuestionAdd=function(e){p.questions(e,$(".quiz-item.questions .quiz-actions .save",this.dom))},QuizOverview.prototype.addToQueue=function(t,e){var a=this;"fc"==this.questionOrFC?50<e.length?fs.confirm("Confirm adding "+e.length+" flashcards to your queue?",function(t){a.doFlashcardAdd(e),t()}):a.doFlashcardAdd(e):"ques"==this.questionOrFC&&(20<e.length?fs.confirm("Confirm adding "+e.length+" questions to your queue?",function(t){a.doQuestionAdd(e),t()}):a.doQuestionAdd(e));var s="fc"==this.questionOrFC?"flashcards":"questions";a.trackInteraction("save_to_queue",s),"ques"===a.questionOrFC&&$(".add",a.dom).text("Saved"),setTimeout(function(){return t.__dialog.close()},100)},QuizOverview.prototype.browse=function(t,e){this;e[0]&&e[0].nodeID&&(filteredPool=e.filter(function(e){return e.nodeID})),fs.post("browseFlashcards",{nodeIDs:e},function(e){dialog("ui/dialogs/FlashcardBrowser",function(){u.refresh()},{flashcards:e})}),t.__dialog.close()},QuizOverview.prototype.trackInteraction=function(e,t){console.log(e,t)},a.exports=o(QuizOverview,{title:"Quiz summary",type:"type-info",is:"no-footer",size:BootstrapDialog.SIZE_WIDE})}),define("ui.dialogs.RepetitionInterval",function(e,t,a){function RepetitionInterval(e,t){this;this.confidence=t.confidence,this.correct=new o({type:"correct"}),this.incorrect=new o({type:"incorrect"}),this.flaggedOnly=d.flaggedOnly}var s=t("ui/dialogs"),o=t("ui/RepeatControls"),d=t("ui/repeatConfig");RepetitionInterval.prototype.action=function(e){fs.post("repetitionOverride",{correct:d.extract("correct"),incorrect:d.extract("incorrect"),flaggedOnly:d.flaggedOnly()?1:0},function(t){window.repetitionOverride=t.current,e()})},a.exports=s(RepetitionInterval,{title:"Set Repetition Intervals",buttonLabel:"Apply"})}),define("ui.dialogs.SchExplanation",function(e,t,a){function SchExplanation(){this.status=ko.observable()}var s=t("ui/dialogs");SchExplanation.prototype.setStatus=function(e){var t=this;return function(){t.status(e)}},a.exports=s(SchExplanation,{title:"Personalized Scheduling... Explained"})}),define("ui.dialogs.SchoolDemo",function(e,t,a){function SchoolDemo(){this;this.email=ko.observable(),window.userEmail&&this.email(window.userEmail),this.subject=ko.observable(),this.message=ko.observableArray(),this.placeholder=ko.observable("Write us a short message and we'll be in touch shortly!")}var s=t("ui/dialogs");SchoolDemo.prototype.action=function(e,t){return this.email()&&this.subject()&&this.message()?void $.post("/webFeedback",{email:this.email(),subject:this.subject(),message:this.message()},function(){e(),fs.alert("Thanks for contacting us, we'll be in touch shortly!","Great to hear from you!","primary")}):(t(),fs.alert("Please fill in all fields."))},a.exports=s(SchoolDemo,{is:"prompt",title:"Request a Demo",buttonLabel:"Send",ajax:!0})}),define("ui.dialogs.SendEmailDialog",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function SendEmailDialog(e,t){var a=this;this.templateSubject=ko.observable(),this.templatePreview=ko.observable(),t.customData.sender=userID,fs.post("adminGetEmailTemplatePreview",{customData:t.customData,templateID:t.templateID},function(e){a.dom.append(e.subject),a.dom.append(e.preview)})},{is:"prompt",title:"Send Email",buttonLabel:"Send",ajax:!0})}),define("ui.dialogs.ShareDialog",function(e,t,a){function ShareDialog(e,t){var a=this;this.shareURL=t.shareURL,this.MID=t.MID,this.linkPermission=ko.observable("view"),this.linkPermissionMsg=ko.observable(s[this.linkPermission()]),this.linkDropdownVisible=ko.observable(),this.radioType=ko.observable("link"),e(this),this.positionDialog(),setTimeout(function(){a.positionDialog()},2e3),$(window).resize(function(){a.positionDialog()})}var s={edit:"edit this deck",view:"view this deck"};ShareDialog.prototype.positionDialog=function(){var e=$(window).height()-$(".modal-box",this.dom).outerHeight(),t=30<e?e/2:15;$(".modal-box",this.dom).css("top",t)},ShareDialog.prototype.toggleLinkDropdown=function(){this.linkDropdownVisible(!this.linkDropdownVisible())},ShareDialog.prototype.updateShareType=function(e){var t=this;return function(){t.radioType(e)}},ShareDialog.prototype.closeDialog=function(){this.dom.remove()},ShareDialog.prototype.updatePermission=function(e){var t=this;return function(){t.linkPermission(e),t.linkPermissionMsg(s[e])}},ShareDialog.prototype.emailShare=function(){},a.exports=ShareDialog}),define("ui.dialogs.SignupDialog",function(e,t,a){var s=function(){"use strict";function SignupDialog(e,t){_classCallCheck(this,SignupDialog),this.redirect=t.redirect||null,this.signupVisible=ko.observable(t.signupVisible||!1),this.moreInfoVisible=ko.observable(!1),this.characterMessage=t.characterMessage?t.characterMessage:"We're glad you're enjoying Osmosis!",this.primaryMessage=t.primaryMessage?t.primaryMessage:"This is an Osmosis Prime feature, get started by creating your <b>free account</b> and activating your <b>two week free trial</b> of Osmosis Prime.",this.lockout=ko.observable(!!t.lockout&&t.lockout),e(this),this.lockout&&$("body").css("overflow","hidden"),this.simpleLoginBox=fs.mix(this,"ui/SimpleLoginBox",{creatingAccount:!1,registrationWallActive:!0,redirect:this.redirect,source:t.source}),t.showSignIn&&this.simpleLoginBox.showRegister(!1)}return _createClass(SignupDialog,[{key:"showSignup",value:function showSignup(){this.simpleLoginBox.showRegister(!0),this.signupVisible(!0)}},{key:"showMoreInfo",value:function showMoreInfo(){this.moreInfoVisible(!0)}},{key:"cancel",value:function cancel(){this.lockout()||$("body").css("overflow","initial")}},{key:"signInClick",value:function signInClick(){this.signupVisible(!0),this.simpleLoginBox.showRegister(!1)}}]),SignupDialog}();a.exports=s}),define("ui.dialogs.Step1DatePrompt",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function DatePrompt(e,t){this.message=ko.observable(t.message),this.value=ko.observable(t.value),e(this),$("form",this.dom).submit(function(t){t.preventDefault()})},{is:"prompt",title:"Prompt",ajax:!0})}),define("ui.dialogs.Step1TimelineEditor",function(e,t,a){function Step1TimelineEditor(e){function countDays(e){var t=0,a=e?e.subjects():[];for(var s in a)t+=a[s].length();return t}function getAvailableDays(e,t){var a=JSON.parse(JSON.stringify(d.pref));d.pref.vacations=d.vacations();var s=o.getExcludeIndex(a),n=moment(e);return o.getAvailableDays(n,t,1e6,s).length}var t=this;this.exams=ko.observableArray(),this.hasEarlyTimeline=d.pref.startDate!=d.pref.dDate,this.mode=ko.observable(),this.hasEarlyTimeline?0<moment().diff(d.pref.dDate,"days")?this.mode("dedicated"):this.mode("class"):this.mode("dedicated"),d.vacations(d.pref.vacations||[]),this.classFreeDays=ko.computed(function(){var e=getAvailableDays(d.pref.startDate,d.pref.dDate),a=countDays(t.earlyTimeline);return t.exams(),e-a}),this.dedicatedFreeDays=ko.computed(function(){var e=d.pref.dTotalLen-d.pref.dExcluded,e=getAvailableDays(d.pref.dDate,moment(d.pref.examDate).add(-1,"day").format("YYYY-MM-DD")),a=countDays(t.firstPassTimeline),s=countDays(t.secondPassTimeline),o=d.timeline.exams?t.exams().length:0;return e-(a+s+o)}),this.tab=ko.observable("dedicated"==this.mode()?"dedicated-1st":"pre-dedicated"),e(this),this.earlyTimeline=d.timeline.early?this.addSubjectTimeline(".pre-dedicated",d.timeline.early):this.addPassNotification(".pre-dedicated","add-early",this.classFreeDays),d.timeline.first&&(this.firstPassTimeline=this.addSubjectTimeline(".first-pass",d.timeline.first)),this.secondPassTimeline=d.timeline.second?this.addSubjectTimeline(".second-pass",d.timeline.second):this.addPassNotification(".second-pass","add-second",this.dedicatedFreeDays),this.renderExams(d.timeline.exams),this.sizeModePanels(),$(window).resize(function(){t.sizeModePanels()}),window.initCustomScrollbar($(".mode-panels",this.dom),{theme:"dark",alwaysShowScrollbar:2}),this.daysOff=fs.mix(this,"models/scheduleClassic/DaysOffEditor",{})}function computedDate(e,t){return ko.computed(function(){return e().format(t)})}function filterExams(e){var t=[],a=_.indexBy(e,function(t){return t.name+" Form "+t.form});for(var s in n)a[n[s]]||t.push(n[s]);return t}var s=t("ui/dialogs"),o=t("shared/step1"),d=t("app/step1classic/step1");Step1TimelineEditor.prototype.sizeModePanels=function(){var e=$(window).height(),t=$(".modal-header").outerHeight(),a=$(".modal-footer").outerHeight(),s=$(".modes",this.dom).outerHeight(),o=$(".pill-section",this.dom).outerHeight(),d=300,n=e-(t+o+107+s+a);300<n&&(d=n),$(".mode-panels",this.dom).css("max-height",d)},Step1TimelineEditor.prototype.addSubjectTimeline=function(e,t){return fs.mixAppend($(e,this.dom),"ui/Step1SubjectOrder",{subjects:t})},Step1TimelineEditor.prototype.addPassNotification=function(e,t,a){return fs.mixAppend($(e,this.dom),"ui/Step1SubjectOrder",{mode:t,days:a})},Step1TimelineEditor.prototype.setTab=function(e){var t=this;return function(){t.tab(e)}},Step1TimelineEditor.prototype.renderExams=function(e){var t={nbme:"NBME",uworld:"UWorld"},a=[];for(var s in e){var o=e[s],d=moment(o.date),n=ko.observable(d);a.push({exam:o.exam,name:t[o.exam],moment:n,day:computedDate(n,"ddd"),date:computedDate(n,"MMM D"),editdate:ko.observable(d.format("YYYY-MM-DD")),form:o.form,editing:ko.observable(!1)})}a.sort(function(e,t){return+e.moment()>+t.moment()?1:e.moment()<t.moment()?-1:0}),this.exams(a),this.isExamDate=_.indexBy(a,function(t){return t.moment().format("YYYY-MM-DD")})},Step1TimelineEditor.prototype.removeExam=function(e){var t=this;return function(){fs.confirm("Are you sure you <b>do not</b> want to take this practice exam?","Discard Practice Exam","danger",function(a){t.exams.remove(e),a()})}};var n=["NBME Form 13","NBME Form 15","NBME Form 16","NBME Form 17","NBME Form 18","NBME Form 19","UWorld Form 1","UWorld Form 2","NBME Form 11","NBME Form 12"];Step1TimelineEditor.prototype.addPracticeExam=function(){var e=this,t=filterExams(this.exams());t.length?dialog("ui/dialogs/MultiSelect",function(a,s){if(s){var o=t[a.selected()],d=o.split(" Form "),n=ko.observable(moment());e.exams.unshift({exam:d[0].toLowerCase(),name:d[0],moment:n,day:computedDate(n,"ddd"),date:computedDate(n,"MMM D"),editdate:ko.observable(),form:d[1],editing:ko.observable(!0)})}},{items:t,noOther:!0}):fs.alert("All the available practice exams have been added.")},Step1TimelineEditor.prototype.saveExamEdits=function(e){this;return function(t){e.moment(moment(e.editdate())),e.editing(!1),t()}},Step1TimelineEditor.prototype.cancel=function(e){return fs.confirm("Exit without saving changes?",function(t){t(),e()}),!1},Step1TimelineEditor.prototype.saveExams=function(){var e=[],t=this.exams();for(var a in t)e.push({exam:t[a].exam,form:t[a].form,date:t[a].moment().format("YYYY-MM-DD")});return e},Step1TimelineEditor.prototype.getTimeline=function(){return this.earlyTimeline&&(d.timeline.early=this.earlyTimeline.save()),d.timeline.early||delete d.timeline.early,this.firstPassTimeline&&(d.timeline.first=this.firstPassTimeline.save()),this.secondPassTimeline&&(d.timeline.second=this.secondPassTimeline.save()),d.timeline.second||delete d.timeline.second,d.timeline.exams=this.saveExams(),d.timeline},Step1TimelineEditor.prototype.changeMode=function(e){var t=this;return function(){t.mode(e),t.tab("class"==e?"pre-dedicated":"dedicated-1st")}},Step1TimelineEditor.prototype.hasZeroStartDay=function(){return!!(this.earlyTimeline.subjects().length&&0==this.earlyTimeline.subjects()[0].length())||!!(this.firstPassTimeline&&0==this.firstPassTimeline.subjects()[0].length())||!!(this.secondPassTimeline.subjects().length&&0==this.secondPassTimeline.subjects()[0].length())||void 0},Step1TimelineEditor.prototype.hasExamDayConflicts=function(){var e=JSON.parse(JSON.stringify(d.pref));d.pref.vacations=d.vacations();var t=o.getExcludeIndex(e),a=this.exams();for(var s in a)if(t[a[s].moment().format("YYYY-MM-DD")])return!0},a.exports=s(Step1TimelineEditor,{title:"Edit Study Timeline",buttonLabel:"Apply Edits",ajax:!0,is:"confirm"})}),define("ui.dialogs.StudyModes",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function StudyModes(){},{title:"Study Techniques",buttonLabel:"Done"})}),define("ui.dialogs.StudyModuleSelect",function(e,t,a){function StudyModuleSelect(e,t){e(this);var a={};for(var s in t.availableMIDs){var d=moduleIndex[t.availableMIDs[s]];d&&(a[t.availableMIDs[s]]=d.name)}this.moduleSelect=o(this,"moduleSelect",{options:a,caption:"Select Modules",onChange:"updateModules",width:"100%",value:t.selectedMIDs})}var s=t("ui/dialogs"),o=t("ui/select");StudyModuleSelect.prototype.updateModules=function(){},a.exports=s(StudyModuleSelect,{is:"prompt",title:"Select Folders",ajax:!0})}),define("ui.dialogs.ToolSelector",function(e,t,a){function ToolSelector(e){var t=this;for(var a in this.tools=o,this.statesArray=ko.observableArray([{name:"Show on top",placeholderText:"Drag tools here to show them on the top dashboard",value:1,tools:ko.observableArray()},{name:"Show on bottom",placeholderText:"Drag tools here to show them on the bottom of the dashboard",value:2,tools:ko.observableArray()},{name:"Hide",placeholderText:"Drag tools here to hide them from the dashboard",value:0,tools:ko.observableArray()}]),o){var s=o[a];switch(o[a].active()){case 0:this.statesArray()[2].tools.push(s);break;case 1:this.statesArray()[0].tools.push(s);break;case 2:this.statesArray()[1].tools.push(s);break;default:}}e(this),$(".modal-header").css("background-color","#f8f8f8").css("text-align","center"),$(".modal-body").css("padding-top",0),$(".bootstrap-dialog-title").css("color","black"),$(".modal-content").css("background-color","#f8f8f8"),$(".modal-footer").css("text-align","center"),$(".tool-droppable",this.dom).sortable({connectWith:".tool-droppable",accept:".tool-draggable",placeholderClass:"tool-droppable-placeholder"}).bind("sortupdate",function(a,e){var s=e.startparent[0].value,o=e.endparent[0].value,d=t.statesArray()[s].tools.splice(e.oldindex,1);s===o?t.statesArray()[o].tools.splice(e.index,0,d[0]):t.statesArray()[o].tools.splice(e.elementIndex,0,d[0]),$(".tool-droppable",t.dom).sortable()})}var s=t("ui/dialogs"),o=t("app/tools");ToolSelector.prototype.hideItem=function(e){var t=this;t.statesArray().forEach(function(a,s){a.tools().forEach(function(a,o){if(a.id===e.id&&2!==s){var d=t.statesArray()[s].tools.splice(o,1);d[0]&&t.statesArray()[2].tools.push(d[0])}})}),$(".tool-droppable",t.dom).sortable()};var d={1:"using",2:"mightUse",0:"notUsing"};ToolSelector.prototype.action=function(){var e=this,t={using:[],mightUse:[],notUsing:[]};this.statesArray().forEach(function(e){e.tools().forEach(function(a){t[d[e.value]].push(a.id)})}),fs.post("setTools",{tools:t},function(){location.reload()}),$(".submit",this.dom).text("Changes Saved!"),setTimeout(function(){e.__dialog.close()},300)},ToolSelector.prototype.getColor=function(e){switch(e){case"blue":return"#2179DF";break;case"orange":return"#DF6C20";break;case"teal":return"#1C94BA";break;case"olive":return"#2AA788";break;case"green":return"#32A931";break;case"red":return"#D53939";break;case"pink":return"#D33162";break;case"purple":return"#9D4DCB";break;default:}},a.exports=s(ToolSelector,{is:"alert",title:"Tools",buttonStyle:"button green",buttonLabel:"Save changes"})}),define("ui.dialogs.UserAnalytics",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function UserAnalytics(e,t){e(this),this.dashboard=fs.mix(this,"ui/stats/AnalyticsDashboard",{userID:t.userID})},{is:"prompt",title:"Official Question Bank Progress",buttonLabel:"Done"})}),define("ui.dialogs.learn.PrimeLockoutDialog",function(e,t,a){a.exports=function PrimeLockoutDialog(e,t){"use strict";_classCallCheck(this,PrimeLockoutDialog),this.source=t.source,this.resource=t.resource,e(this),fs.mix(this,"models/learn/sections/PrimeLockOverlay",{description:t.description,source:this.source,resource:this.resource})}}),define("ui.dialogs.learn.VisitorType",function(e,t,a){var s=t("app/gaTracking"),o=function(){"use strict";function VisitorType(e,t){_classCallCheck(this,VisitorType),this.dialogStyle=t.dialogStyle||"",this.options=ko.observableArray([{name:"Other",src:"https://d16qt3wv6xm098.cloudfront.net/hT21zYCDRASVLbn9IHVK7_nQQiWV7Bx2/_.png",selected:ko.observable(!1)},{name:"Student",src:"https://d16qt3wv6xm098.cloudfront.net/x2gUmohiTW6PtkIz86xldI7FQyG-7gs0/_.png",selected:ko.observable(!1)}])}return _createClass(VisitorType,[{key:"selectOption",value:function selectOption(e,t){for(var o=0;o<e.options().length;o+=1)e.options()[o].selected(!1);var a=e.options().find(function(e){return e===t}).selected(!0);analytics.track("Visitor Survey",{segment:a.name,version:2}),keen.track("user_survey",{question:"visitor segment",response:a.name}),s.track("visitor_type",{event_category:"survey",event_label:a.name}),userObj.set("visitorType",a.name),localStorage.setItem("visitorType",a.name),setTimeout(function(){e.__dialog.close()},250)}}]),VisitorType}();a.exports=o}),define("ui.dialogs.mailingAddress",function(e,t,a){var s=function(){"use strict";function mailingAddress(e,t){var a=this;_classCallCheck(this,mailingAddress),this.dialogStyle=t.dialogStyle||"",this.asDialog=!1!==t.asDialog,this.dialogStyle+=this.asDialog?" dialog":"",this.initAutocomplete(),this.data=t.data?t.data():{loading:ko.observable(!1)},this.address=ko.observable(this.data.current||window.user.address.shippingAddress),this.city=ko.observable(this.data.currentCity||window.user.profile.city),this.state=ko.observable(this.data.currentState||window.user.profile.state),this.zip=ko.observable(this.data.currentZip||window.user.profile.zipCode),this.data.updateData=function(){return a.saveData(function(){}),!0}}return _createClass(mailingAddress,[{key:"initAutocomplete",value:function initAutocomplete(){var e=this;$("#addressInput").autocomplete("/v0/addressAutocomplete",{method:"get",extraParams:{city:"San Francisco",state:"CA"},rawData:!0,delay:10,minChars:3,maxItemsToShow:10,matchSubset:1,autoFill:!1,formatItem:function formatItem(e){return e[0].name},onItemSelect:function onItemSelect(t,a){console.log(t),console.table(a);var s=stringTitleize;e.address(s(a.name)),e.city(s(a.city)),e.state(a.state),e.zip(s(a.zip))}})}},{key:"saveData",value:function saveData(e){var t=this,a=this.city()&&this.address()&&this.state()&&this.zip();return(this.data.complete=a,!a)?(this.errors(!0),!1):(this.data.current=this.address(),this.data.loading(!0),fs.post("updateUserAddress",{shippingAddress:this.address(),zipCode:this.zip(),city:this.city(),state:this.state()},function(a){t.data.loading(!1),e(a)}),!0)}},{key:"action",value:function action(e){this.saveData(function(){return e()})}},{key:"cancel",value:function cancel(e){return e(),!1}}]),mailingAddress}();a.exports=s}),define("ui.dialogs.schedule.AddCustomDailyGoal",function(e,t,a){var s=t("ui/dialogs/schedule/BaseScheduleDialog"),o=t("app/schedules"),d=o.schedules,n=function(e){"use strict";function AddCustomDailyGoal(e,t){var a;return _classCallCheck(this,AddCustomDailyGoal),a=_possibleConstructorReturn(this,_getPrototypeOf(AddCustomDailyGoal).call(this,t.dialogVisible)),a.date=t.date,a.scheduleID=t.scheduleID,a.onSave=t.onSave||function(){},a.title=ko.observable(),a.type=ko.observable(),a.bookType=ko.observable(),a.number=ko.observable(),a.startPage=ko.observable(),a.stopPage=ko.observable(),a.schedule=d.getSchedule(a.scheduleID),e(_assertThisInitialized(a)),a.addDropdowns(),a.createOverlay(),a.dialogVisible.subscribe(function(e){e?a.createOverlay():a.removeOverlay()}),a}return _inherits(AddCustomDailyGoal,e),_createClass(AddCustomDailyGoal,[{key:"addDropdowns",value:function addDropdowns(){fs.mixAppend($(".resource-dropdown",this.dom),"ui/Dropdown",{options:[{name:"Question Bank",value:"qbank"},{name:"Book",value:"book"},{name:"Video",value:"video"}],optionsText:"name",optionsValue:"value",value:this.type}),fs.mixAppend($(".page-count-dropdown",this.dom),"ui/Dropdown",{options:[{name:"# of pages",value:"pages"},{name:"range of pages",value:"range"}],optionsText:"name",optionsValue:"value",value:this.bookType})}},{key:"clearValues",value:function clearValues(){this.title(null),this.type(null),this.bookType(null),this.number(null),this.startPage(null),this.stopPage(null)}},{key:"getTodo",value:function getTodo(){var e=this.type();if("book"===e){if("range"==this.bookType())return{type:e,title:this.title(),pStart:this.startPage(),pEnd:this.stopPage()};e="pages"}return{type:e,title:this.title(),count:this.number()}}},{key:"save",value:function save(){var e=this,t=this.getTodo();fs.post("addCustomDailyGoal2",{scheduleID:this.scheduleID,date:this.date,todo:t},function(a){e.onSave(_objectSpread({},t,{id:a.todoID,group:"custom",state:e.schedule.getTodoCheckbox("custom",a.todoID,0),topic:"Custom",scheduleID:e.scheduleID})),e.dialogVisible(!1),e.clearValues()},function(){e.dialogVisible(!1)})}}]),AddCustomDailyGoal}(s);a.exports=n}),define("ui.dialogs.schedule.AddCustomResource",function(e,t,a){var s=t("ui/dialogs"),o=t("ui/decisionTree"),d={qbank:"questions",pages:"pages",video:"videos"},n={start:{prompt:"<p>What type of resource would you like to add?</p>",options:["Question Bank","Book","Videos"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("type",{1:"qbank",2:"pages",3:"video"}[e]),t("resource")})},resource:{prompt:"<p>What is the name of the resource you would like to add?</p>",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("title",e),t("startUsing")})},startUsing:{prompt:"<p>When do you want to start using this resource?</p>",options:["Start <b>today</b>","Start at a <b>later date</b>"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){1==e?(a("startDate",moment().format("YYYY-MM-DD")),t("howMany")):t("startDate")})},startDate:{prompt:"<p>What date do you want to start using this resource?</p>",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("startDate",e),t("howMany")})},howMany:{textOptions:{type:"number"},display:function display(e,t,a){e.prompt=e.prompt(d[a.type])},prompt:function prompt(e){var t,a;return"questions"===e?(t="<i>total</i> ".concat(e),a="<p style=\"font-size: 14px;\">Note: Osmosis will divide this up for into daily action items.</p>"):(t=e,a=""),"<p>How many ".concat(t," do you want to complete?</p>").concat(a)},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("count",e),t()})}};a.exports=s(function AddCustomResource(e,t){var a=this,s=this;this.mode=ko.observable("query"),this.finishBy=ko.observable(t.schedule?moment(t.schedule.endDate).format("YYYY-MM-DD"):null),this.schedules=t.schedules,this.count=ko.observable(),this.type=ko.observable(),t.schedule||(n.startAlt=n.start,n.start={prompt:"<p>To which schedule would you like to add the goal to?</p>",options:this.schedules.map(function(e){return e.schedule.name}),next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,s){a.finishBy(moment(a.schedules[e-1].schedule.endDate).format("YYYY-MM-DD")),s("schedule",a.schedules[e-1].schedule),t("startAlt")})}),e(this),o($(".decision-tree",this.dom),n,function(e){s.mode("finalize"),s.count(e.count),s.type(d[e.type]),s.data=e});var l=t.parent.dom.parent(),c=$(".modal-footer",l);$(".modal-dialog").css("width","480px"),$(".modal-header",l).css("background","#FFFFFF").css("text-align","center"),$(".bootstrap-dialog-title",l).css("color","#757575").css("font-weight","bold"),$(".button.blue",c).appendTo($(".finalize",this.dom)),$(".modal-footer",l).remove()},{is:"prompt",title:"Add Resource",buttonLabel:"Add Resource to Schedule",ajax:!0})}),define("ui.dialogs.schedule.BaseScheduleDialog",function(e,t,a){var s=function(){"use strict";function BaseScheduleDialog(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,BaseScheduleDialog),this.dialogVisible="function"==typeof e?e:ko.observable(!!e)}return _createClass(BaseScheduleDialog,[{key:"toggleDialog",value:function toggleDialog(){this.dialogVisible(!this.dialogVisible())}},{key:"createOverlay",value:function createOverlay(){window.createCustomOverlay({dom:$(this.dom).parent(),onClick:this.removeOverlay.bind(this)})}},{key:"removeOverlay",value:function removeOverlay(){var e=this,t=!1,a=function removeBG(){t||($(".custom-background-overlay",$(e.dom).parent()).remove(),t=!0)};$(this.dom).fadeOut(a.bind(this)),$(".custom-background-overlay",$(this.dom).parent()).fadeOut(a.bind(this))}}]),BaseScheduleDialog}();a.exports=s}),define("ui.dialogs.schedule.CustomGoalSelect",function(e,t,a){var s=function(){"use strict";function CustomGoalSelect(e,t){_classCallCheck(this,CustomGoalSelect),this.dialogStyle=t.dialogStyle||"",this.cb=t.cb}return _createClass(CustomGoalSelect,[{key:"cancel",value:function cancel(e){e()}},{key:"action",value:function action(){}},{key:"select",value:function select(e){var t=this;return function(){$("button.cancel",t.dom).click(),t.cb(e)}}}]),CustomGoalSelect}();a.exports=s}),define("ui.dialogs.schedule.EditScheduleCustomResource",function(e,t,a){function EditScheduleCustomResource(e,t){var a=this;this.taskID=t.goal.taskID,this.data=t.goal.data,this.newData=ko.observable();var s=+new Date;this.origStartDate=ko.observable(this.data.startDate),this.startDate=ko.observable(+moment(this.data.startDate)<s?moment().format("YYYY-MM-DD"):this.data.startDate),this.stopDate=ko.observable(this.data.stopDate),this.originalTotal=ko.observable(+this.data.count),this.completed=ko.observable(),this.remaining=ko.observable(+this.data.count),fs.post("getScheduleDailyCustom",{scheduleID:d.currentScheduleID(),tag:this.data.title},function(e){var t=0;for(var s in e.goals){var o=e.goals[s];o.state&&0>moment(o.scheduledFor).diff(a.startDate())&&(t+=o.todo.count)}a.completed(t),a.remaining(a.data.count-t)})}var s=t("ui/dialogs"),o=t("app/schedules"),d=o.schedules;EditScheduleCustomResource.prototype.action=function(e,t){this;console.log("action"),console.log(e),console.log(t),this.newData({type:this.data.type,hint:this.data.hint,title:this.data.title,startDate:this.startDate(),count:this.remaining(),stopDate:this.stopDate()}),e()},a.exports=s(EditScheduleCustomResource,{is:"prompt",title:"Modify Custom Resource",buttonLabel:"Update Resource",ajax:!0})}),define("ui.dialogs.schedule.ScheduleSettings",function(e,t,a){var s=Math.abs;function query2str(e){var t=[];for(var a in e)t.push(a+"="+e[a]);return t.join("&")}var o=t("app/schedules"),d=o.schedules,n=t("shared/studyDaysOff"),l=t("ui/modals/BaseModal"),c=function(e){"use strict";function ScheduleSettings(e,a){var o;_classCallCheck(this,ScheduleSettings),o=_possibleConstructorReturn(this,_getPrototypeOf(ScheduleSettings).call(this,null,a));var d=_assertThisInitialized(o);return o.MQL=t("ui/MediaQueryList"),o.sidebarExpanded=ko.observable(!0),o.activeScheduleID=ko.observable(a.activeScheduleID),o.calendar=a.calendar,o.newScheduleCallback=a.newScheduleCallback,o.hasChanges=ko.observable(),o.loading=ko.observable(!1),o.isVisible=ko.observable(!0),o.timelineType=ko.observable(),o.availableDays=ko.observable(0),o.availableDaysMsg=ko.computed(function(){var e=1==d.availableDays()||-1==d.availableDays()?"day":"days";return 0<d.availableDays()?"You've got "+d.availableDays()+" available "+e+" to schedule":0>d.availableDays()?"You're overscheduled by "+s(d.availableDays())+" "+e:void 0}),o.errorMessages=ko.observableArray([]),o.hasErrorMessages=ko.computed(function(){return 0<this.errorMessages().length},_assertThisInitialized(o)),o.isPending=ko.observable(),o.schedulesList=ko.observableArray(),o.newSchedulesList=ko.observableArray(),o.currentSchedule=ko.computed(function(){return _.findWhere(this.schedulesList(),{scheduleID:this.activeScheduleID()})||_.findWhere(this.newSchedulesList(),{scheduleID:this.activeScheduleID()})},_assertThisInitialized(o)),o.noScheduleSelected=ko.computed(function(){return!o.currentSchedule()}),o.activeTab=ko.observable(urlQuery.settings||"topics"),o.tabs=[{name:"topics",icon:"ti ti-cardio",label:ko.computed(function(){return"courses"==d.timelineType()?"Courses":"Topics"})},{name:"resources",icon:"fi fi-play-o",label:"Resources"},{name:"daysOff",icon:"fi fi-calendar-o",label:"Days Off"},{name:"exams",icon:"fi fi-flashcards-o",label:"Practice exams"},{name:"settings",icon:"fa fa-cogs",label:"Settings"}],o.tabIndex=_.indexBy(o.tabs,"name"),o.availableDaysVisible=ko.computed(function(){return!!(!d.isPending()&&(0<d.availableDays()||0>d.availableDays())&&("daysOff"==d.activeTab()||"exams"==d.activeTab()||"topics"==d.activeTab()||"settings"==d.activeTab()||"resources"==d.activeTab())&&"subjects"==d.timelineType())}),e(_assertThisInitialized(o)),o.setCloseOnBGClick(),o.positionDOM(),o.fadeIn(),o.buildSidebar(),o.render(),urlQuery.id&&o.changeSchedule(+urlQuery.id),o}return _inherits(ScheduleSettings,e),ScheduleSettings}(l);c.prototype.switchToTab=function(e){if(this.sidebarExpanded(!1),"object"!=_typeof(e))for(var t in this.tabs())if(this.tabs()[t].name==e){e=this.tabs()[t];break}this.updateTab(e)},c.prototype.handleTabClick=function(e){var t=this;return function(){t.hasChanges()?fs.confirm("The current tab has changes that haven't been saved. Are you sure you want to discard changes?","Changes will be lost","warning",function(){urlQuery.settings=e.name,urlQuery.id=t.activeScheduleID(),location.replace(location.pathname+"?"+query2str(urlQuery))}):t.switchToTab(e)}},c.prototype.handleScheduleClick=function(e){var t=this;return function(){t.hasChanges()?fs.confirm("The current schedule has changes that will be lost. Are you sure you want to switch?","Changes will be lost","warning",function(t){urlQuery.settings="topics",urlQuery.id=e,location.replace(location.pathname+"?"+query2str(urlQuery)),t()}):(!t.noScheduleSelected&&t.activeTab("topics"),t.changeSchedule(e))}},c.prototype.changeSchedule=function(e){if(this.activeScheduleID(e),this.hasChanges(!1),!_.findWhere(this.currentSchedule().tabs,{name:this.activeTab()})){var t=_.find(this.currentSchedule().tabs,function(e){return e.active&&e.active()});t?this.activeTab(t.name):this.updateTab(this.currentSchedule().tabs[0])}this.availableDays(0),this.render()},c.prototype.updateTab=function(e){return this.hasErrorMessages()?void this.displayErrors():void this.activeTab(e.name)},c.prototype.clearTabs=function(){fs.empty($(".tab-content",this.dom))},c.prototype.deleteSchedule=function(){this;fs.post("archiveDailySchedule",{scheduleID:this.activeScheduleID()},function(){window.location.reload()})},c.prototype.displayErrors=function(){for(var e=0;e<this.errorMessages().length;e+=1)fs.alert(this.errorMessages()[e].message)},c.prototype.render=function(){this.clearTabs(),this.currentSchedule()?(this.generalSettings=fs.mixAppend($(".tabs-content .settings"),"ui/scheduleSettings/GeneralSettings",{panel:this,schedule:this.currentSchedule()}),this.tabIndex.settings.vm=this.generalSettings,this.daysOff=fs.mixAppend($(".tabs-content .daysOff"),"ui/scheduleSettings/DaysOff",{panel:this,schedule:this.currentSchedule()}),this.tabIndex.daysOff.vm=this.daysOff,this.currentSchedule().timeline.subjects?(this.timeline=this.addSubjectTimeline(".tabs-content .topics",this.currentSchedule(),this.currentSchedule().timeline.subjects),this.timelineType("subjects")):this.currentSchedule().timeline.courses&&(this.timeline=this.addCourseTimeline(".tabs-content .topics",this.currentSchedule(),this.currentSchedule().timeline.courses),this.timelineType("courses")),this.tabIndex.topics.vm=this.timeline,this.practiceExams=fs.mixAppend($(".tabs-content .exams"),"ui/scheduleSettings/PracticeExams",{exams:this.currentSchedule().timeline.exams,panel:this,schedule:this.currentSchedule()}),this.tabIndex.exams.vm=this.practiceExams,this.resourceSelector=fs.mixAppend($(".tabs-content .resources",this.dom),"ui/scheduleSettings/ResourceSelector",{panel:this,schedule:this.currentSchedule(),resources:this.currentSchedule().preferences.resources,filters:this.calendar.filters}),this.tabIndex.resources.vm=this.resourceSelector,this.currentSchedule().isNew&&(this.setup=fs.mixAppend($(".tabs-content .setup",this.dom),"ui/scheduleSettings/Setup",{panel:this,schedule:this.currentSchedule()})),!this.currentSchedule().timeline.pending&&this.updateAvailableDays(),this.isPending(!1)):!this.schedulesList().length&&this.setPendingView()},c.prototype.setPendingView=function(){this.isPending(!0),this.pendingView=fs.mixAppend($(".tabs-content .empty-schedule",this.dom),"ui/scheduleSettings/EmptySchedule",{schedule:d.getSchedule(this.activeScheduleID())})},c.prototype.updateAvailableDays=function(){if("courses"!=this.timelineType()){var e=this.timeline.getTotalDays(),t=n.getAllDays({excludeDays:this.daysOff.getRepeats(),vacations:this.daysOff.getVacations(),bounds:{startDate:this.currentSchedule().startDate,stopDate:this.currentSchedule().endDate},exams:this.practiceExams.getExams(),date:moment(this.currentSchedule().startDate),stopDate:this.currentSchedule().endDate});this.availableDays(t.length-e)}},c.prototype.buildSidebar=function(){for(var e in d.schedules){var t=d.schedules[e];t.tabs=this.tabs,t.timeline&&t.timeline.pending&&(t.tabs=t.tabs.filter(function(e){return"settings"===e.name})),t.dateRange=ko.observable(moment(t.startDate).format("MMM D")+" - "+moment(t.endDate).format("MMM D")),this.schedulesList.push(t)}1===this.schedulesList().length&&this.changeSchedule(this.schedulesList()[0].scheduleID)},c.prototype.addSubjectTimeline=function(e,t,a){return fs.mixAppend($(e,this.dom),"ui/scheduleWizard/SubjectOrder",{subjects:a,schedule:t,panel:this})},c.prototype.addCourseTimeline=function(e,t,a){return fs.mixAppend($(e,this.dom),"ui/scheduleWizard/CoursesOrder",{subjects:a,schedule:t,panel:this})},c.prototype.getActiveTab=function(){for(var e in this.tabs)if(this.tabs[e].name==this.activeTab())return this.tabs[e];return null},c.prototype.applyEdits=function(e){var t=this,a={dates:{},preferences:{},timeline:{}},s=this.getActiveTab();s||fs.alert("Oops! Something went wrong. Please contact support@osmosis.org and let us know!"),s.vm.save(a),fs.post("modifyStudySchedule",{scheduleID:this.activeScheduleID(),today:moment().format("YYYY-MM-DD"),part:this.activeTab(),preferences:a.preferences,timeline:a.timeline,tasks:a.tasks,startDate:a.dates.startDate,endDate:a.dates.endDate},function(){e&&e(),t.hasChanges(!1),t.close(),window.location.reload()})},c.prototype.save=function(e){var t=this,a={messsage:"Reloading",disabled:!0};if(this.hasChanges()){if(this.hasErrorMessages())return this.displayErrors(),void e();0<=this.availableDays()?this.applyEdits(function(){e(a)}):(fs.alert("There isn't enough time in your schedule ("+s(this.availableDays())+" "+(1==s(this.availableDays())?"day":"days")+" overbooked). Either remove days from Topics or remove Days Off."),e())}else fs.confirm("You haven't made any changes to this schedule.","No Updates Detected","info",function(e){t.close(),e()}),e()},c.prototype.cancel=function(){var e=this;this.hasChanges()?fs.confirm("Edits have been made to your schedule that <strong>will not</strong> been applied. Are you sure you want to close this dialog?","Unsaved Changes","warning",function(t){e.revertChanges(),e.close(),t()}):this.close()},c.prototype.revertChanges=function(){for(var e in d.schedules){var t=d.schedules[e];t.startDate=t.origStart,t.endDate=t.origEnd,t.dateRange(moment(t.origStart).format("MMM D")+" - "+moment(t.origEnd).format("MMM D"))}},c.prototype.askIntercom=function(){Intercom("showNewMessage")},c.prototype.close=function(){this.hasChanges()?(delete urlQuery.id,delete urlQuery.settings,location.replace(location.pathname+"?"+query2str(urlQuery))):l.prototype.close.call(this)},a.exports=c}),define("ui.dialogs.schedule-old.AddCustomDailyGoal",function(e,t,a){function AddCustomDailyGoal(e,t){this;this.date=t.date,this.title=ko.observable(),this.type=ko.observable(),this.bookType=ko.observable(),this.number=ko.observable(),this.startPage=ko.observable(),this.stopPage=ko.observable()}var s=t("ui/dialogs");AddCustomDailyGoal.prototype.getTodo=function(){if("book"==this.type()){if("range"==this.bookType())return{type:"book",title:this.title(),pStart:this.startPage(),pEnd:this.stopPage()};var e="pages"}else if("qbank"==this.type())var e="qbank";else if("video"==this.type())var e="video";return{type:e,title:this.title(),count:this.number()}},a.exports=s(AddCustomDailyGoal,{is:"prompt",title:"Add Custom Daily Goal",buttonLabel:"Add Custom Goal",ajax:!0})}),define("ui.dialogs.schedule-old.AddCustomResource",function(e,t,a){function AddCustomResource(e,t){var a=this;this.mode=ko.observable("query"),this.finishBy=ko.observable(moment(t.schedule.endDate).format("YYYY-MM-DD")),this.count=ko.observable(),this.type=ko.observable(),e(this),o($(".decision-tree",this.dom),n,function(e){a.mode("finalize"),a.count(e.count),a.type(d[e.type]),a.data=e});var s=$(".modal-footer",t.parent.dom.parent());$(".btn-primary",s).appendTo($(".finalize",this.dom)),$(".modal-footer",t.parent.dom.parent()).remove()}var s=t("ui/dialogs"),o=t("ui/decisionTree"),d={qbank:"questions",pages:"pages",video:"videos"},n={start:{prompt:"What type of resource would you like to add?",options:["Question Bank","Book","Videos"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("type",{1:"qbank",2:"pages",3:"video"}[e]),t("resource")})},resource:{prompt:"What is the name of the resource you would like to add?",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("title",e),t("startUsing")})},startUsing:{prompt:"When do you want to start using this resource?",options:["Start <b>today</b>","Start at a <b>later date</b>"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){1==e?(a("startDate",moment().format("YYYY-MM-DD")),t("howMany")):t("startDate")})},startDate:{prompt:"What date do you want to start using this resource?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("startDate",e),t("howMany")})},howMany:{display:function display(e,t,a){e.prompt=e.prompt(d[a.type])},prompt:function prompt(e){return"How many "+e+" do you want to complete?"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("count",e),t()})}};AddCustomResource.prototype.save=function(){var e=this;this.__dialog.defaultOptions.action(function(){e.__dialog.close()})},a.exports=s(AddCustomResource,{is:"prompt",title:"Add Resource",buttonLabel:"Add Resource to Schedule",ajax:!0})}),define("ui.dialogs.schedule-old.EditScheduleCustomResource",function(e,t,a){function EditScheduleCustomResource(e,t){var a=this;this.taskID=t.goal.taskID,this.data=t.goal.data,this.newData=ko.observable();var s=+new Date;this.origStartDate=ko.observable(this.data.startDate),this.startDate=ko.observable(+moment(this.data.startDate)<s?moment().format("YYYY-MM-DD"):this.data.startDate),this.stopDate=ko.observable(this.data.stopDate),this.originalTotal=ko.observable(+this.data.count),this.completed=ko.observable(),this.remaining=ko.observable(+this.data.count),fs.post("getScheduleDailyCustom",{scheduleID:d.currentScheduleID(),tag:this.data.title},function(e){var t=0;for(var s in e.goals){var o=e.goals[s];o.state&&0>moment(o.scheduledFor).diff(a.startDate())&&(t+=o.todo.count)}a.completed(t),a.remaining(a.data.count-t)})}var s=t("ui/dialogs"),o=t("app/schedules"),d=o.schedules;EditScheduleCustomResource.prototype.action=function(e,t){this;console.log("action"),console.log(e),console.log(t),this.newData({type:this.data.type,hint:this.data.hint,title:this.data.title,startDate:this.startDate(),count:this.remaining(),stopDate:this.stopDate()}),e()},a.exports=s(EditScheduleCustomResource,{is:"prompt",title:"Modify Custom Resource",buttonLabel:"Update Resource",ajax:!0})}),define("ui.dialogs.schedule-old.ScheduleSettings",function(e,t,a){var s=Math.abs,o=Math.floor;function ScheduleSettings(e,t){var a=this;this.activeScheduleID=ko.observable(t.activeScheduleID),this.calendar=t.calendar,this.newScheduleCallback=t.newScheduleCallback,this.hasChanges=ko.observable(),this.loading=ko.observable(!1),this.timelineType=ko.observable(),this.availableDays=ko.observable(0),this.availableDaysMsg=ko.computed(function(){var e=1==a.availableDays()||-1==a.availableDays()?"day":"days";if(0<a.availableDays())return a.availableDays()+" "+e+" unscheduled,";return 0>a.availableDays()?s(a.availableDays())+" "+e+" overscheduled,":void 0}),this.errorMessages=ko.observableArray([]),this.hasErrorMessages=ko.computed(function(){return 0<this.errorMessages().length},this),this.isPending=ko.observable(),this.schedulesList=ko.observableArray(),this.newSchedulesList=ko.observableArray(),this.currentSchedule=ko.computed(function(){return _.findWhere(this.schedulesList(),{scheduleID:this.activeScheduleID()})||_.findWhere(this.newSchedulesList(),{scheduleID:this.activeScheduleID()})},this),this.activeTab=ko.observable("topics"),this.tabs=[{name:"topics",icon:"ti ti-cardio",label:ko.computed(function(){return"courses"==a.timelineType()?"Courses":"Topics"}),active:ko.observable(!0)},{name:"resources",icon:"fi fi-play-o",label:"Resources",active:ko.observable()},{name:"days-off",icon:"fi fi-calendar-o",label:"Days Off",active:ko.observable()},{name:"exams",icon:"fi fi-flashcards-o",label:"Practice exams",active:ko.observable()},{name:"settings",icon:"fa fa-cogs",label:"Settings",active:ko.observable()}],this.availableDaysVisible=ko.computed(function(){return!!(!a.isPending()&&(0<a.availableDays()||0>a.availableDays())&&("days-off"==a.activeTab()||"exams"==a.activeTab()||"topics"==a.activeTab()||"settings"==a.activeTab())&&"subjects"==a.timelineType())}),e(this),this.buildSidebar(),this.render()}var d=t("app/schedules"),n=d.schedules,l=t("shared/studyDaysOff");ScheduleSettings.prototype.handleTabClick=function(e){var t=this;return function(){if("object"!=_typeof(e))for(var a in t.tabs())if(t.tabs()[a].name==e){e=t.tabs()[a];break}t.updateTab(e)}},ScheduleSettings.prototype.handleScheduleClick=function(e){var t=this;return function(){t.hasChanges()?fs.confirm("The current schedule has changes that will be lost. Are you sure you want to switch?","Changes will be lost","warning",function(a){t.revertChanges(),t.changeSchedule(e),a()}):t.changeSchedule(e)}},ScheduleSettings.prototype.changeSchedule=function(e){if(this.activeScheduleID(e),this.hasChanges(!1),!_.findWhere(this.currentSchedule().tabs,{name:this.activeTab()})){var t=_.find(this.currentSchedule().tabs,function(e){return e.active()});t?this.activeTab(t.name):this.updateTab(this.currentSchedule().tabs[0])}this.availableDays(0),this.render()},ScheduleSettings.prototype.updateTab=function(e){if(this.hasErrorMessages())return void this.displayErrors();for(var t in this.tabs)this.tabs[t].active(!1);e.active(!0),this.activeTab(e.name)},ScheduleSettings.prototype.clearTabs=function(){fs.empty($(".tab-content",this.dom))},ScheduleSettings.prototype.deleteSchedule=function(){this;fs.post("archiveDailySchedule",{scheduleID:this.activeScheduleID()},function(){window.location.reload()})},ScheduleSettings.prototype.displayErrors=function(){for(var e=0;e<this.errorMessages().length;e++)fs.alert(this.errorMessages()[e])},ScheduleSettings.prototype.render=function(){this.clearTabs(),this.currentSchedule().timeline.pending?this.setPendingView():(this.generalSettings=fs.mixAppend($(".tabs-content .settings"),"ui/scheduleSettings/GeneralSettings",{panel:this,schedule:this.currentSchedule()}),this.daysOff=fs.mixAppend($(".tabs-content .days-off"),"ui/scheduleSettings/DaysOff",{panel:this,schedule:this.currentSchedule()}),this.currentSchedule().timeline.subjects?(this.timeline=this.addSubjectTimeline(".tabs-content .topics",this.currentSchedule().timeline.subjects),this.timelineType("subjects")):this.currentSchedule().timeline.courses&&(this.timeline=this.addCourseTimeline(".tabs-content .topics",this.currentSchedule().timeline.courses),this.timelineType("courses")),this.practiceExams=fs.mixAppend($(".tabs-content .exams"),"ui/scheduleSettings/PracticeExams",{exams:this.currentSchedule().timeline.exams,panel:this,schedule:this.currentSchedule()}),this.resourceSelector=fs.mixAppend($(".tabs-content .resources",this.dom),"ui/scheduleSettings/ResourceSelector",{panel:this,schedule:this.currentSchedule(),resources:this.currentSchedule().preferences.resources,filters:this.calendar.filters}),this.currentSchedule().isNew&&(this.setup=fs.mixAppend($(".tabs-content .setup",this.dom),"ui/scheduleSettings/Setup",{panel:this,schedule:this.currentSchedule()})),this.updateAvailableDays(),this.isPending(!1))},ScheduleSettings.prototype.setPendingView=function(){this.isPending(!0),this.pendingView=fs.mixAppend($(".tabs-content .empty-schedule",this.dom),"ui/scheduleSettings/EmptySchedule",{schedule:n.getSchedule(this.activeScheduleID())})},ScheduleSettings.prototype.updateAvailableDays=function(){if("courses"!=this.timelineType()){var e=this.timeline.getTotalDays(),t=l.getAllDays({excludeDays:this.daysOff.getRepeats(),vacations:this.daysOff.getVacations(),bounds:{startDate:this.currentSchedule().startDate,stopDate:this.currentSchedule().endDate},exams:this.practiceExams.getExams(),date:moment(this.currentSchedule().startDate),stopDate:this.currentSchedule().endDate});this.availableDays(t.length-e)}},ScheduleSettings.prototype.buildSidebar=function(){for(var e in n.schedules){var t=n.schedules[e];t.tabs=this.tabs,t.dateRange=ko.observable(moment(t.startDate).format("MMM D")+" - "+moment(t.endDate).format("MMM D")),this.schedulesList.push(t)}},ScheduleSettings.prototype.addSubjectTimeline=function(e,t){return fs.mixAppend($(e,this.dom),"ui/scheduleWizard/SubjectOrder",{subjects:t,panel:this})},ScheduleSettings.prototype.addCourseTimeline=function(e,t){return fs.mixAppend($(e,this.dom),"ui/scheduleWizard/CoursesOrder",{subjects:t,panel:this})},ScheduleSettings.prototype.applyEdits=function(){var e=this,t={},a={},s={};this.currentSchedule().isNew?(this.loading(!0),this.setup.applyEdits(function(t){var a=e.currentSchedule();e.newSchedulesList.remove(function(e){return e.scheduleID===a.scheduleID}),a.scheduleID=t,a.startDate=a.startDate(),a.endDate=a.endDate(),a.origStart=a.startDate,a.origEnd=a.endDate,a.name=a.name(),a.preferences.name=a.name,a.preferences.version=a.preferences.version(),n.addSchedule({scheduleID:t,name:a.name,startDate:a.startDate,endDate:a.endDate,origStart:a.startDate,origEnd:a.endDate,blockData:a.blockData,repeatData:a.repeatData,completedNodes:{},completedTodos:{core:{},custom:{},repeat:{}},timeline:a.timeline,preferences:a.preferences}),a=n.getSchedule(t),a.tabs=e.tabs,a.dateRange=ko.observable(moment(a.startDate).format("MMM D")+" - "+moment(a.endDate).format("MMM D")),e.schedulesList.push(a),e.changeSchedule(t),e.updateTab(e.currentSchedule().tabs[0]),e.loading(!1),e.newScheduleCallback(a.name,a.dateRange(),t)})):(a=this.resourceSelector.applyEdits(a),a=this.daysOff.applyEdits(a),a=this.generalSettings.applyEdits(a),t=this.generalSettings.applyDateEdits(t),s.exams=this.practiceExams.applyEdits(),s[this.timelineType()]=this.timeline.applyEdits(),fs.post("updateStudySchedule",{scheduleID:this.activeScheduleID(),preferences:a,timeline:s,tasks:this.resourceSelector.applyCustomEdits(),startDate:t.startDate,endDate:t.endDate},function(){e.hasChanges(!1),e.close(),window.location.reload()}))},ScheduleSettings.prototype.save=function(){var e=this;if(this.hasChanges()){if(this.hasErrorMessages())return void this.displayErrors();0<=this.availableDays()?this.applyEdits():fs.alert("There isn't enough time in your schedule ("+s(this.availableDays())+" "+(1==s(this.availableDays())?"day":"days")+" overbooked). Either remove days from Topics or remove Days Off.")}else fs.confirm("You haven't made any changes to this schedule.","No Updates Detected","info",function(t){e.close(),t()})},ScheduleSettings.prototype.cancel=function(){var e=this;this.hasChanges()?fs.confirm("Edits have been made to your schedule that <strong>will not</strong> been applied. Are you sure you want to close this dialog?","Unsaved Changes","warning",function(t){e.revertChanges(),e.close(),t()}):this.close()},ScheduleSettings.prototype.revertChanges=function(){for(var e in n.schedules){var t=n.schedules[e];t.startDate=t.origStart,t.endDate=t.origEnd,t.dateRange(moment(t.origStart).format("MMM D")+" - "+moment(t.origEnd).format("MMM D"))}},ScheduleSettings.prototype.askIntercom=function(){fs.alert("Click the chat bubble in the bottom right corner and we can help you set up a schedule that's right for you!","Schedule Help","info")},ScheduleSettings.prototype.close=function(){this.calendar.settingsPanelVisible(!1),this.dom.remove()},ScheduleSettings.prototype.addNewSchedule=function(){var e;do e=o(1e5*Math.random()+1);while(_.findWhere(this.newSchedulesList(),{scheduleID:e})||_.findWhere(this.schedulesList(),{scheduleID:e}));var t="usmle-step1",a=ko.observable("2018"),s=[],d="";if(0<this.schedulesList().length){var n=this.schedulesList()[this.schedulesList().length-1];t=n.preferences.schedule,a(n.preferences.version),s=n.preferences.resources,d=n.preferences.examDate}var l={blockData:{block:[],start:[],stop:[]},completedNodes:{},completedTodos:{core:{},custom:{},repeat:{}},getNodeCheckbox:function getNodeCheckbox(){},getTodoCheckbox:function getTodoCheckbox(){},getVacations:function getVacations(){},name:ko.observable(""),origEnd:"",origStart:"",preferences:{name:"",schedule:t,version:a,resources:s,examDate:d},repeatData:{taskID:[],data:[],completed:[]},scheduleID:e,startDate:ko.observable(""),endDate:ko.observable(""),tabs:[{name:"setup",icon:"fa fa-cogs",label:"Setup",active:ko.observable(!0)}],timeline:{courses:[]},isNew:!0};l.dateRange=ko.computed(function(){return dateRangeString="",dateRangeString+=l.startDate()?moment(l.startDate()).format("MMM D"):"?",dateRangeString+=" - ",dateRangeString+=l.endDate()?moment(l.endDate()).format("MMM D"):"?",dateRangeString}),this.newSchedulesList.push(l),this.handleScheduleClick(e)()},a.exports=ScheduleSettings}),define("ui.dialogs.video.VideoDialog",function(e,t,a){var s=t("ui/videoPlayer");a.exports=function VideoDialog(e,t){"use strict";_classCallCheck(this,VideoDialog),this.videoSrc=t.videoSrc,this.videoTitle=t.videoTitle,this.theme=t.theme||"blue",e(this);var a=$("#video-dom");this.video=s.embed(this.videoSrc,a),a.append(this.video.el)}}),define("ui.dialogs.video.VideoPopup",function(e,t,a){var s=t("ui/videoPlayer");a.exports=function VideoPopup(e,t){"use strict";_classCallCheck(this,VideoPopup),this.videoSrc=t.videoSrc,this.videoTitle=t.videoTitle,this.theme=t.theme,e(this);var a=$("#video-dom");this.video=s.embed(this.videoSrc,a),a.append(this.video.el)}}),define("ui.docUploaderPopup",function(e,t){var a=t("ui/overlay"),s;e.showDocUploader=!1,e.showPopup=function(e,t){var o=$("<div>");s=a(o,function(){t()});var d=function close(){s.remove(),t&&t()},n=fs.mixAppend(s,"ui/dialogs/DocWorkspaceCTA",{parent:this,mainAction:e,close:d});o.click(function(){s.remove(),t&&t()})}}),define("ui.dualPanel",function(e){var t=Math.floor;function DualPanel(e,t,s){var o=this;if(this.stacked=ko.observable(!1),this.showing=ko.observable("right"),this.dom=$(a).appendTo($(t,e.dom)),ko.applyBindings(this,this.dom[0]),this.left=$(".divLeftPanel",this.dom),s.left){var d=fs.mixAppend(this.left,s.left.component,{parent:e});s.left.ref&&(e[s.left.ref]=d)}if(this.right=$(".divRightPanel",this.dom),s.right){var d=fs.mixAppend(this.right,s.right.component,{parent:e});s.right.ref&&(e[s.right.ref]=d)}this.onRezie=s.onResize,$(window).resize(function(){o.resizePage()}),this.resizePage(s.width)}var a=template("ui/dualPanel");DualPanel.prototype.resizePage=function(e){var a=e||this.dom.innerWidth();if(1200<a&&(a=1200),this.dom.innerWidth()>a)var s=this.dom.innerWidth()-a;else var s=0;if(this.dom.css("padding-left",t(s/2)).css("padding-right",t(s/2)),a>700){var o=t(a/2);this.left.addClass("mrs"),this.stacked(!1)}else{var o=a;this.left.removeClass("mrs"),this.stacked(!0)}var d=this.left.outerWidth(!0)-this.left.width();this.left.width(o-d);var d=this.right.outerWidth(!0)-this.right.width();this.right.width(o-d),this.left.height($(window).height()-this.dom.offset().top),this.right.height($(window).height()-this.dom.offset().top),this.onResize&&this.onResize()},DualPanel.prototype.togglePanel=function(){"right"==this.showing()?this.showing("left"):this.showing("right")},e.mix=function(e,t,a){return new DualPanel(e,t,a)}}),define("ui.eliminationToolControl",function(e){e.eliminationIsActive=ko.observable(),e.eliminatedAnswersAreVisible=ko.observable(!0),e.hasEliminatedAnAnswer=ko.observable()}),define("ui.forms.Country",function(e,t,a){a.exports=function Country(e){"use strict";var t=this;_classCallCheck(this,Country),this.country=ko.observable(""),this.inputUsed=ko.observable(!1),this.country.subscribe(function(){t.inputUsed(!0)}),this.valid=ko.computed(function(){return""!==t.country()}),e(this)}}),define("ui.forms.GeneralInformation",function(e,t,a){var s=t("ui/account/ProfessionData"),o=function(){"use strict";function GeneralInformation(e){var t=this;_classCallCheck(this,GeneralInformation),this.preferredName=ko.observable(),this.lastName=ko.observable(""),this.degree=ko.observable(""),this.school={id:ko.observable(0),formalName:ko.observable(""),nickname:ko.observable()},this.classYear=ko.observable(),this.professions=s.professions,this.availableSchools=ko.observableArray(),this.classYears=ko.computed(function(){var e=[];if(t.degree()){var a=_.findWhere(t.professions,{name:t.degree()});a&&a.classYears&&(e=_.map(a.classYears,function(e){return{id:e,name:s.classYears[e]}}))}return e}),this.validInputs={preferredName:ko.computed(function(){return""!==t.preferredName()}),lastName:ko.computed(function(){return""!==t.lastName()}),degree:ko.computed(function(){return""!==t.degree()}),school:ko.computed(function(){return""!==t.school.formalName()}),classYear:ko.computed(function(){return!!t.classYear()&&t.classYears().find(function(e){return e.name===t.classYear()})||0===t.classYears().length})},this.valid=ko.computed(function(){for(var e=Object.keys(t.validInputs),a=0;a<e.length;a+=1)if(!t.validInputs[e[a]]())return!1;return!0}),this.inputsUsed={preferredName:ko.observable(!1),lastName:ko.observable(!1),degree:ko.observable(!1),school:ko.observable(!1),classYear:ko.observable(!1)},this.preferredName.subscribe(function(){t.inputsUsed.preferredName(!0)}),this.lastName.subscribe(function(){t.inputsUsed.lastName(!0)}),this.degree.subscribe(function(){t.inputsUsed.degree(!0)}),this.school.formalName.subscribe(function(){t.inputsUsed.school(!0)}),this.classYear.subscribe(function(){t.inputsUsed.classYear(!0)}),e(this),this.renderDropdowns(),this.loadSchools(),this.setUserProps()}return _createClass(GeneralInformation,[{key:"selectDegree",value:function selectDegree(e){var t=this;return function(){t.degree(e)}}},{key:"renderDropdowns",value:function renderDropdowns(){fs.mixAppend($(".school-year-dropdown",this.dom),"ui/Dropdown",{placeholder:"Select year",options:this.classYears,optionsText:"name",optionsValue:"name",value:this.classYear})}},{key:"loadSchools",value:function loadSchools(){var e=this;window.schools?(this.availableSchools(window.schools),this.initAutocomplete()):fs.post("getAllSchools",{},function(t){_.each(t.schools.schoolID,function(a,s){e.availableSchools.push({id:a,formalName:t.schools.formalName[s],nickname:t.schools.nickname[s]})}),window.schools=e.availableSchools(),e.initAutocomplete()})}},{key:"initAutocomplete",value:function initAutocomplete(){var e=this;$("#submit-a-review-input-school",this.dom).autocomplete("/v0/school/autocomplete",{method:"get",delay:10,minChars:3,maxItemsToShow:10,matchSubset:1,autoFill:!1,onItemSelect:function onItemSelect(t){e.updateSchool(t.textContent)}})}},{key:"updateSchool",value:function updateSchool(e){var t=_.find(this.availableSchools(),function(t){return t.formalName===e});this.school.formalName(e),t?(this.school.id(t.id),this.school.nickname(t.nickname)):(this.school.id(0),this.school.nickname(""))}},{key:"setUserProps",value:function setUserProps(){window.user&&(window.user.first&&this.preferredName(window.user.first),window.user.last&&this.lastName(window.user.last),window.user.profile&&(window.user.profile.degree&&this.degree(window.user.profile.degree),window.user.profile.classYear&&this.classYear(window.user.profile.classYear),window.user.profile.school&&this.school.formalName(window.user.profile.school)))}},{key:"updateProfile",value:function updateProfile(){var e=!1,t;window.user&&window.user.profile?(t=window.user.profile,t.career={},t.degree!==this.degree()&&(t.career.degree=this.degree(),e=!0),t.classYear!==this.classYear()&&(t.career.classYear=this.classYear(),e=!0),t.school!==this.school.formalName()&&(t.school=this.school.formalName(),e=!0)):(t={career:{degree:this.degree(),classYear:this.classYear()},school:this.school.formalName()},e=!0),e&&fs.post("updateUserProfile",{profile:t})}}]),GeneralInformation}();a.exports=o}),define("ui.forms.Headshot",function(e,t,a){var s=function(){"use strict";function Headshot(e){var t=this;_classCallCheck(this,Headshot),this.defaultHeadshot="https://d16qt3wv6xm098.cloudfront.net/-qVX6oV4TPyrSdmhjwbcikMHSCyKImxr/_.jpg",this.headshot=ko.observable(this.defaultHeadshot),this.headshotLoading=ko.observable(!1),this.valid=ko.computed(function(){return t.headshot()!==t.defaultHeadshot}),e(this),this.renderUploaders()}return _createClass(Headshot,[{key:"renderUploaders",value:function renderUploaders(){var e=this;this.headshotUploader=fs.mixAppend($(".submit-a-review-headshot-input",this.dom),"ui/Uploader",{hideDropbox:!0,s3BucketName:"osmosis-temp",uploaderConfig:{chunk_size:"30mb",max_file_size:"30mb",filters:[{title:"Image",extensions:"jpeg,jpg,png"}]},onBeforeUpload:function onBeforeUpload(){e.headshotLoading(!0)},uploadCompletion:function uploadCompletion(t){e.headshotLoading(!1),e.headshotAjaxDone&&(e.headshotAjaxDone(),e.headshotAjaxDone=null),fs.post("resizeImage",{key:t.uploadData.$},function(){e.headshot("https://osmose-it.s3.amazonaws.com/".concat(t.uploadData.$))})}})}},{key:"uploadHeadshotTrigger",value:function uploadHeadshotTrigger(e){this.headshotUploader?(this.headshotAjaxDone=e,this.headshotUploader.triggerCompUpload()):e()}}]),Headshot}();a.exports=s}),define("ui.forms.VideoReview",function(e,t,a){a.exports=function VideoReview(e,t){"use strict";var a=this;_classCallCheck(this,VideoReview),this.formHeader=t.formHeader||"Video testimonial",this.required=t.required||!1,this.primeOffered=t.primeOffered||"",this.videoLink=ko.observable();var s=/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/g;this.validVideoLink=ko.computed(function(){return s.test(a.videoLink())}),this.valid=ko.computed(function(){return a.validVideoLink()&&""!==a.videoLink()}),e(this)}}),define("ui.graphs.BarGraphVertical",function(e,t,a){function BarGraphVertical(e){var t=this;for(var a in e)this[a]=e[a];s.makeFunction(t,"barHeight"),s.makeFunction(t,"barColor"),s.makeFunction(t,"barText"),t.data=$.extend(!0,[],t.data),t.counter=this.data.length,t.svg=d3.select(t.container[0]).append("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("width","100%");var o=t.barHeight;t.barHeight=function(e){return s.scaleFn(o,0,t.graph_height)(e,t.data)},t.scaleY=d3.scale.linear().domain([0,d3.max(t.data,s.valueAccessor)]).range([t.graph_height,0]),this.redraw()}var s=t("ui/graphs/Graph"),o=t("ui/graphs/Util");BarGraphVertical.prototype.addAxes=function(){var e=this,t="right"===e.axis_pos_y?e.graph_width-1:0,a="right"===e.axis_pos_y?"left":"right";e.axis_ticks_y="number"==typeof e.axis_ticks_y?e.axis_ticks_y:10,e.yAxis=d3.svg.axis().orient(a).ticks(e.axis_ticks_y),e.svg.append("g").classed("y-axis",!0).attr("transform","translate("+t+",0)").call(e.yAxis)},BarGraphVertical.prototype.redraw=function(){var e=this,t=e.svg.selectAll("g.datajoined").data(e.data,s.indexAccessor);t.exit().remove();var a=t.enter().append("g").classed("datajoined",!0);t.attr("data-index",s.indexAccessor).attr("data-value",s.valueAccessor),a.append("rect"),t.selectAll("rect").style("fill",function(t){return e.barColor(t,e.data)}),a.append("text"),t.selectAll("text").text(function(t){return e.barText(t,e.data)}),e.resize()},BarGraphVertical.prototype.redrawAxes=function(){var e=this;e.yAxis.scale(e.scaleY),e.svg.select("g.y-axis").call(e.yAxis)},BarGraphVertical.prototype.resize=function(){var e=this;e.graph_width=parseInt(e.svg.style("width")),e.svg.attr("height",e.graph_height);var t=e.graph_width/e.data.length,a=e.svg.selectAll("g.datajoined");a.attr("transform",function(a,s){var o=e.graph_height-e.barHeight(a);return"translate("+s*t+","+o+")"}),a.selectAll("rect").attr("width",t-1).attr("height",function(t){return e.barHeight(t,e.data)}),a.selectAll("text").attr("x",t/2).attr("dx","0.4em").attr("y",0).attr("dy","1em")},BarGraphVertical.prototype.addData=function(e){e="number"==typeof e?e:o.randToInt(99)+1,this.data.push({index:this.counter,value:e}),this.counter++,this.redraw()},BarGraphVertical.prototype.addFiveData=function(){for(var e=0;5>e;e++)this.addData()},a.exports=BarGraphVertical}),define("ui.graphs.Graph",function(e,t,a){function Graph(){}Graph.makeFunction=function(e,t){var a=e[t];e[t]="function"==typeof a?a:function(){return a}},Graph.scaleFn=function(e,t,a){return function(s,o){return d3.scale.linear().domain([0,d3.max(o,e)]).range([t,a])(e(s))}},Graph.scaleFnFlip=function(e,t,a){return function(s,o){return d3.scale.linear().domain([0,d3.max(o,e)]).range([a,t])(e(s))}},Graph.indexAccessor=function(e){return e.index},Graph.valueAccessor=function(e){return e.value},Graph.xAccessor=function(e){return e.value[0]},Graph.yAccessor=function(e){return e.value[1]},Graph.rAccessor=function(e){var t=e.value[0],a=e.value[1];return Math.sqrt(t*t+a*a)},Graph.colorHSLfn=function(e,t,a){return function(s,o){var d="string"==typeof e||"number"==typeof e?e:e(s,o),n="string"==typeof t||"number"==typeof t?t:t(s,o),l="string"==typeof a||"number"==typeof a?a:a(s,o);return"hsl("+d+","+n+"%,"+l+"%)"}},Graph.colorRGBfn=function(e,t,a){return function(s,o){var d="string"==typeof e||"number"==typeof e?e:e(s,o),n="string"==typeof t||"number"==typeof t?t:t(s,o),l="string"==typeof a||"number"==typeof a?a:a(s,o);return"rgb("+d+","+n+","+l+")"}},a.exports=Graph}),define("ui.graphs.Util",function(e,t,a){var s={};s.randToInt=function(e){return Math.floor(s.randTo(e))},a.exports=s}),define("ui.legacyPlaylistQuiz",function(e,t){function generate(e,t){return{quiz:{set:"legacymg:"+(t+"."+e).replace(/\:/g,">")},filter:ko.observable()}}var a=t("ui/mobile/SelectorQuiz");e.create=function(e){return{ques:new a(function(){},generate("q",e)),fc:new a(function(){},generate("f",e))}}}),define("ui.libraryEditorControls",function(e){var t={};e.controls=t;var a=["enabled","singleClickEdit"];for(var s in a)t[a[s]]=ko.observable();var o=JSON.parse(window.localStorage.getItem("editorControls")||"{}");for(var s in o)t[s]&&t[s](o[s]);e.get=function(e){return ko.computed(function(){return t.enabled()&&t[e]()})},e.save=function(){var e={};for(var a in t)e[a]=t[a]();window.localStorage.setItem("editorControls",JSON.stringify(e))}}),define("ui.miniQuizSet",function(e){function createLocalQuiz(e,t,a,s,o,d,n,l,c){var p={type:"fc"==a?"Flashcards":"Questions",title:d,ids:[],MIDs:[]},u=[],m=[],v=[],b="fc"==a?{5:1}:{1:1,2:1,4:1};for(var h in l){var g=n[l[h]];for(var f in g.nodeID)b[g.subtype[f]]&&(u.push(u.length),m.push(g.nodeID[f]),v.push(g.MID[f]))}for(var h in shuffle(u),u)p.ids.push(m[u[h]]),p.MIDs.push(v[u[h]]);return p.count=p.ids.length,p.count&&fs.mixAppend($("."+a+"-quizzes."+s,e),t,{quiz:p,color:o,indent:c}),p.count}function createQuiz(e,t,a,s,o,d,n,l){shuffle(n);var c={type:"fc"==a?"Flashcards":"Questions",title:d,ids:n,count:n.length};return c.count&&fs.mixAppend($("."+a+"-quizzes."+s,e),t,{quiz:c,color:o,indent:l}),c.count}function groupFCs(e){var t=[],a=[],s=fs.transpose(e);for(var o in s)t.push(s[o].nodeID),s[o].flagged&&a.push(s[o].nodeID);return{all:t,flagged:a}}e.createQuizzes=function(e,t,a,s){var o=["fc","ques"];for(var d in o){var n=0,l=0;if("fc"==o[d]){var c=groupFCs(a.osmosis.docFCs);n+=createQuiz(e,t,"fc","osmosis","green","By Osmosis",_.union(c.all,a.osmosis.termQuiz.fc)),n+=createQuiz(e,t,"fc","osmosis","green","Matched to docs",c.all,!0),n+=createQuiz(e,t,"fc","osmosis","green","Flagged by me",c.flagged,!0)}else n+=createQuiz(e,t,"ques","osmosis","purple","By Osmosis",a.osmosis.termQuiz.ques);s[o[d]].osmosis(!!n),l+=createLocalQuiz(e,t,o[d],"local","pink","From My School",a.local.local,["me","following","other"]),createLocalQuiz(e,t,o[d],"local","green","By Me",a.local.local,["me"],!0),createLocalQuiz(e,t,o[d],"local","teal","By People I'm Following",a.local.local,["me","following"],!0),s[o[d]].local(!!l)}}}),define("ui.mobile.DailyQuizSection",function(e,t,a){function processSubsections(e,t){var a={today:!1,overdue:!1,recent:!1};for(var s in e){var o=e[s].ui.split(".")[0];"today"==o?(a.today=!0,e[s].order=2):"overdue"==o?(a.overdue=!0,e[s].order=3):"extra"==o&&"Recently Flagged"==e[s].title?(a.recent=!0,e[s].order=1):e[s].order=+s+3}for(var s in a)a[s]||addEmptyQuiz(e,s,t);return e.sort(function(e,t){return e.order-t.order}),e}function addEmptyQuiz(e,t,a){if("today"==t)var s={ui:"today",local:a,ids:[],MIDs:[],order:2};else if("overdue"==t)var s={ui:"overdue",set:"overdue",local:a,min:null,max:null,count:0,order:3};else if("recent"==t)var s={ui:"extra",title:"Recently Flagged",icon:"fa-flag",local:a,ids:[],MIDs:[],order:1};e.push(s)}function mergeIDs(e,t){function add(t){for(var s in t.ids)a.ids.push(t.ids[s]),a.MIDs.push(t.MIDs?t.MIDs[s]:0),e.age&&a.age.push(t.age?t.age[s]:0)}var a={ids:[],MIDs:[]};return e.age&&(a.age=[]),add(e),add(t),a}a.exports=function DailyQuizSection(e,t){var a=this;this.todaysDate=ko.observable(moment(user.day.begin).format("dddd, MMM D")),this.tomorrowsDate=ko.observable(moment(user.day.end).format("dddd, MMM D")),this.tomorrow=ko.observable({}),fs.post("getDailyGoals",{g:window.groupID},function(e){a.tomorrow(e)}),e(this);var s={},o=t.section.items;for(var d in o)-1==o[d].title.indexOf("Osmosis")?s.school=processSubsections(o[d].items,1):s.osmosis=processSubsections(o[d].items,0);if(s.osmosis){var n=mergeIDs(s.osmosis[1],s.osmosis[0]);fs.mixAppend($(".todays-quizzes",this.dom),"ui/mobile/DailyToDoQuiz",{title:" from Osmosis",quizzes:s.osmosis,quiz:{ids:n.ids,age:n.age},subtitle:s.osmosis[1].ids.length+" Spaced repetition + "+s.osmosis[0].ids.length+" recently flagged"})}if(s.school){var n=mergeIDs(s.school[0],s.school[1]);fs.mixAppend($(".todays-quizzes",this.dom),"ui/mobile/DailyToDoQuiz",{title:" from your School",quizzes:s.school,quiz:{ids:n.ids,MIDs:n.MIDs},isLocal:!0,subtitle:s.school[1].ids.length+" Spaced repetition + "+s.school[0].ids.length+" recently flagged"})}}}),define("ui.mobile.DailyToDoQuiz",function(e,t,a){function DailyToDoQuiz(e,t){var a=this;this.quiz=t.quiz,this.title=ko.observable(t.title),this.breakdownVisible=ko.observable(!1),this.mapNodesToMIDs();var o=s.countToday(this.quiz.ids);this.completed=ko.observable(o),this.subtitle=ko.computed(function(){return t.subtitle+(a.completed()?" - "+a.completed()+" completed":"")}),this.flaggedLength=ko.observable(t.quizzes[0].ids.length),this.srsLength=ko.observable(t.quizzes[1].ids.length),this.showSubtitle=ko.computed(function(){return a.srsLength()||a.flaggedLength()}),this.total=ko.observable(t.quiz.ids.length),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total())):0}),e(this),$(".radial-progress",this.dom).knob({readOnly:!0,thickness:.2,bgColor:"rgba(150,150,150,.2)",fgColor:"#5cb85c",width:40,height:40,displayInput:!1}),this.isLocal=t.isLocal,this.addBreakdown(t.quizzes,t.isLocal),this.locked=ko.observable(!!t.quizzes[0].locked),this.lockedMsg=t.quizzes[0].locked,t.quiz.ids&&(a.quizIndex=s.makeIndex(t.quiz.ids))}var s=t("app/dbProgress"),o=t("ui/mobile/SelectorQuiz"),d={today:"ui/mobile/SelectorTodaysQuiz",overdue:"ui/mobile/SelectorOverdue",extra:"ui/mobile/SelectorExtraQuiz"};fs.extend(DailyToDoQuiz,o),DailyToDoQuiz.prototype.addBreakdown=function(e,t){for(var a in e){var s=e[a].ui.split(".");if(!d[s[0]])return;fs.mixAppend($(".quiz-breakdown",this.dom),d[s[0]],{quiz:e[a],type:s[1],filter:ko.observable("Osmosis"),isLocal:t})}},DailyToDoQuiz.prototype.getNew=function(e){return s.getNewToday(e)},DailyToDoQuiz.prototype.startQuiz=function(){this.quiz.ids.length?this.start():fs.alert("Looks like there's nothing left in your repetition queue for today. Try selecting a different quiz.")},DailyToDoQuiz.prototype.render=function(e){for(var t in this.quiz.ids){var a=nodeIndex[this.quiz.ids[t]];a&&(a.age=this.quiz.age?this.quiz.age[t]:0,a.quizOrder=1e6*a.age+1e3*Math.random())}e.sort(function(e,t){return nodeIndex[e].quizOrder-nodeIndex[t].quizOrder}),$(document).trigger("review.startQuiz",[e,this.quiz])},a.exports=DailyToDoQuiz}),define("ui.mobile.GeneralToDoQuiz",function(e,t,a){function DailyToDoQuiz(e,t){this;this.quiz=t.quiz,e(this),$(".radial-progress",this.dom).knob({readOnly:!0,thickness:.2,bgColor:"rgba(150,150,150,.2)",fgColor:"#5cb85c",width:40,height:40,displayInput:!1}),this.isLocal=!0,this.locked=ko.observable(!1)}var s=t("app/dbProgress"),o=t("ui/mobile/SelectorQuiz");fs.extend(DailyToDoQuiz,o),DailyToDoQuiz.prototype.getNew=function(e){return s.getNewToday(e)},DailyToDoQuiz.prototype.startQuiz=function(){this.quiz.ids.length?this.start():fs.alert("Looks like there's nothing left in your repetition queue for today. Try selecting a different quiz.")},DailyToDoQuiz.prototype.render=function(e){for(var t in this.quiz.ids){var a=nodeIndex[this.quiz.ids[t]];a&&(a.age=this.quiz.age?this.quiz.age[t]:0,a.quizOrder=1e6*a.age+1e3*Math.random())}e.sort(function(e,t){return nodeIndex[e].quizOrder-nodeIndex[t].quizOrder}),$(document).trigger("review.startQuiz",[e,this.quiz])},a.exports=DailyToDoQuiz}),define("ui.mobile.ModuleSelector",function(e,t,a){function ModuleSelector(e,t){this;t.requestURI="webGetAllModules",o.call(this,e,t)}var s=t("app/dbProgress"),o=t("ui/mobile/QuizSelector");fs.extend(ModuleSelector,o),ModuleSelector.prototype.show=function(){$("#pageTitle").text("Module Selector")},ModuleSelector.prototype.nav={submenu:"tabs/ModuleSelectorFilters"},a.exports=ModuleSelector}),define("ui.mobile.ModuleSelectorFilters",function(e,t,a){function QuizSelectorFilters(){this.visible=ko.observable(!0),this.filter=ko.observable("Classmates")}QuizSelectorFilters.prototype.select=function(e){var t=this;return function(){t.filter(e),$(document).trigger("QuizSelectorFilterChange")}},a.exports=QuizSelectorFilters}),define("ui.mobile.QuizSelector",function(e,t,a){function QuizSelector(e,t){var a=this;this.requestURI=t.requestURI||"mobileGetSchedule",this.hasContent=ko.observable("unknown"),this.isLoading=ko.observable(!0),e(this),$(document).bind("QuesStatusChange",function(e,t,s){$(".sections",a.dom).trigger("MarkQuesAsCompleted",[t,s])})}var s=t("app/dbProgress");QuizSelector.prototype.getSchedule=function(e){var t=this;fs.post(this.requestURI,{tz:-4*new Date().getTimezoneOffset()/60,g:window.groupID||window.userScheduleGroup},function(a){a.unixToday&&(window.unixToday=a.unixToday),t.hasContent(a.schedule.sections.length?"yes":"no"),t.loadSchedule(a.schedule),t.isLoading(!1),e&&e()})},QuizSelector.prototype.loadSchedule=function(e){var t=this;for(var a in t.clear(),"mobileGetSchedule"==this.requestURI&&s.clear(),e.completed)s.index[e.completed[a]]=!0;for(var a in e.completedToday)s.todayIndex[e.completedToday[a]]=!0;for(var a in t.sections=[],e.sections){var o=e.sections[a],d=-1!=o.title.indexOf("Spaced Repetition"),o=fs.mixAppend($(".sections",t.dom),d?"ui/mobile/DailyQuizSection":"ui/mobile/SelectorSection",{page:t,section:o,filter:t.filter});t.sections.push(o)}e.userDay&&(window.currentDay=e.userDay)},QuizSelector.prototype.clear=function(){fs.empty($(".selector-block",this.dom)),$(".selector-block",this.dom).append("<div class=\"sections\">"),this.sectionsDOM=$(".sections",this.dom)},QuizSelector.prototype.show=function(){$("#pageTitle").text("Recommended")},QuizSelector.prototype.browse=function(){$(document).trigger("tabs-GoTo",["TopicSelector"])},QuizSelector.prototype.startTrial=function(){fs.post("mobilePrimeStartFreeTrial",{},function(){slack.activity("Joined Prime"),document.location=""})},a.exports=QuizSelector}),define("ui.mobile.QuizSelectorFilters",function(e,t,a){function QuizSelectorFilters(e,t){this.visible=ko.observable(!0),this.filterType=ko.observable(t.filterType),"source"==this.filterType()?this.filter=ko.observable("Osmosis"):"quesType"==this.filterType()&&(this.filter=ko.observable("questions"))}QuizSelectorFilters.prototype.select=function(e){var t=this;return function(){t.filter(e),$(document).trigger("QuizSelectorFilterChange")}},a.exports=QuizSelectorFilters}),define("ui.mobile.SelectorAddOnPack",function(e,t,a){function quizTypeStr(e,t){return 1==t?"q"==e?"Question":"Flashcard":"q"==e?"Questions":"Flashcards"}function SelectorCourseQuiz(e,t){var a=this;this.quiz=t.quiz,this.title=ko.observable(t.quiz.title),this.subtitle=ko.observable(t.quiz.subtitle),this.type=ko.observable(t.type),this.typeStr=ko.observable(quizTypeStr(t.type,t.quiz.available)),this.completed=ko.observable(t.quiz.completed),this.total=ko.observable(t.quiz.available),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.icon=ko.computed(function(){return"https://d16qt3wv6xm098.cloudfront.net/"+a.quiz.icon}),s.call(this,e,t),$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!d.index[t.nodeID]&&a.quizIndex&&a.quizIndex[t.nodeID]&&a.completed(a.completed()+1)})}var s=t("ui/mobile/SelectorQuiz"),o=t("app/docIndex"),d=t("app/dbProgress");fs.extend(SelectorCourseQuiz,s),a.exports=SelectorCourseQuiz}),define("ui.mobile.SelectorCalendarQuiz",function(e,t,a){function SelectorCalendarQuiz(e,t){this;this.quiz=t.quiz,this.indent=t.indent,this.mapNodesToMIDs(),this.color=ko.observable(t.color),this.type=ko.observable(t.quiz.type),this.title=ko.observable(t.quiz.title),this.count=ko.observable(t.quiz.count),this.isLocal=!0,this.locked=ko.observable(!1),e(this)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress");fs.extend(SelectorCalendarQuiz,s),a.exports=SelectorCalendarQuiz}),define("ui.mobile.SelectorCompLocalCourseQuiz",function(e,t,a){function SelectorCompLocalCourseQuiz(e,t){var a=this;this.quiz=t.quiz,this.title=ko.observable(ellipsize(t.quiz.title,40)),this.type=ko.observable(t.type),this.typeStr=ko.observable(this.quizTypeStr(t.type,t.quiz.ids.length)),this.completed=ko.observable(0),this.total=ko.observable(t.quiz.ids.length),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.isLocal=!0,s.call(this,e,t),e(this)}var s=t("ui/mobile/SelectorCourseQuiz");fs.extend(SelectorCompLocalCourseQuiz,s),a.exports=SelectorCompLocalCourseQuiz}),define("ui.mobile.SelectorCourseQuiz",function(e,t,a){function SelectorCourseQuiz(e,t){var a=this;this.quiz=t.quiz,this.title=ko.observable(ellipsize(t.quiz.title,40)),this.type=ko.observable(t.type),this.typeStr=ko.observable(this.quizTypeStr(t.type,t.quiz.ids.length)),this.completed=ko.observable(0),this.total=ko.observable(t.quiz.ids.length),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.thumbnail=ko.computed(function(){return a.quiz.thumbnail=a.quiz.thumbnail||(o[a.quiz.id]?"https://d16qt3wv6xm098.cloudfront.net/"+o[a.quiz.id]+"/thumb.png":""),a.quiz.thumbnail}),s.call(this,e,t),this.completed(d.count(this.quiz.ids)),$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!d.index[t.nodeID]&&a.quizIndex[t.nodeID]&&a.completed(a.completed()+1)})}var s=t("ui/mobile/SelectorQuiz"),o=t("app/docIndex"),d=t("app/dbProgress");fs.extend(SelectorCourseQuiz,s),a.exports=SelectorCourseQuiz}),define("ui.mobile.SelectorDocQuiz",function(e,t,a){function SelectorDocQuiz(e,t){this;this.quiz=t.quiz,this.mapNodesToMIDs(),this.color=ko.observable(t.color),this.type=ko.observable(t.quiz.type),this.title=ko.observable(t.quiz.title),this.count=ko.observable(t.quiz.count),this.isLocal=!0,this.locked=ko.observable(!1),e(this)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress");fs.extend(SelectorDocQuiz,s),a.exports=SelectorDocQuiz}),define("ui.mobile.SelectorExtraQuiz",function(e,t,a){function SelectorExtraQuiz(e,t){var a=this;this.quiz=t.quiz,this.title=ko.observable(t.quiz.title),this.icon=ko.observable(t.quiz.icon),this.sourceLocal=ko.observable(!!t.quiz.local),this.mapNodesToMIDs();var d=o.countToday(this.quiz.ids);this.completed=ko.observable(d),this.total=ko.observable(t.quiz.ids.length),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total())):0}),this.isLocal=!!t.quiz.local,t.page&&$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!o.index[t.nodeID]&&a.quizIndex[t.nodeID]&&a.completed(a.completed()+1)}),s.call(this,e,t),e(this),$(".radial-progress",this.dom).knob({readOnly:!0,thickness:.2,bgColor:"rgba(150,150,150,.2)",fgColor:"#5cb85c",width:30,height:30,displayInput:!1}),this.quiz.tag&&this.dom.addClass(this.quiz.tag)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress");fs.extend(SelectorExtraQuiz,s),SelectorExtraQuiz.prototype.startQuiz=function(){this.quiz.ids.length?this.start():fs.alert("Looks like there's nothing left in your repetition queue for today. Try selecting a different quiz.")},a.exports=SelectorExtraQuiz}),define("ui.mobile.SelectorGeneralQuiz",function(e,t,a){function SelectorGeneralQuiz(e,t){this;this.quiz=t.quiz,this.indent=t.indent,this.mapNodesToMIDs(),this.isLocal=!0,this.lockedMsg="prime",this.locked=ko.observable(window.user&&1>window.user.prime.status&&"osmosis"==t.source),e(this)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress");fs.extend(SelectorGeneralQuiz,s),a.exports=SelectorGeneralQuiz}),define("ui.mobile.SelectorLocalCourseQuiz",function(e,t,a){function SelectorLocalCourseQuiz(e,t){var a=this;this.quiz=t.quiz,this.isLocal=!0,this.title=ko.observable(t.quiz.title),this.type=ko.observable(t.type),this.typeStr=ko.observable(this.quizTypeStr(t.type,t.quiz.ids.length)),this.publisher=ko.observable(t.quiz.publisher),this.logo=ko.observable(t.quiz.logo),this.completed=ko.observable(d.count(this.quiz.ids)+(t.quiz.completed||0)),this.total=ko.observable(t.quiz.ids.length+(t.quiz.completed||0)),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.indent=ko.observable(this.quiz.indent),this.userID=ko.observable(+this.quiz.userID),this.name=o.is(this.userID),s.call(this,e,t),e(this),this.quiz.userID&&(this.avatar=fs.mix(this,"ui/Avatar",{userName:this.name,userID:this.userID,customSize:35}))}var s=t("ui/mobile/SelectorCourseQuiz"),o=t("app/who"),d=t("app/dbProgress");fs.extend(SelectorLocalCourseQuiz,s),a.exports=SelectorLocalCourseQuiz}),define("ui.mobile.SelectorMegagridQuiz",function(e,t,a){function SelectorMegagridQuiz(e,t){var a=this;this.quiz=t.quiz,this.visible=ko.observable(!0),this.completed=ko.observable(t.quiz.completed||0),this.count=ko.observable(t.quiz.count),this.subtitle=ko.observable(ellipsize(t.quiz.subtitle)),this.type=ko.observable(t.type),this.typeStr=ko.observable(this.quizTypeStr(t.type,t.quiz.count)),this.overdue=ko.observable(1==t.quiz.due),this.icon=ko.observable(d.getIcon(t.quiz.topic,250)),this.progress=ko.computed(function(){return a.count()?Math.round(100*(a.completed()/a.count()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.count()-a.completed()}),$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!o.index[t.nodeID]&&a.quizIndex&&a.quizIndex[t.nodeID]&&a.count(a.count()-1)}),s.call(this,e,t)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress"),d=t("shared/topics");fs.extend(SelectorMegagridQuiz,s),a.exports=SelectorMegagridQuiz}),define("ui.mobile.SelectorMessage",function(e,t,a){function SelectorMessage(e,t){var a=this;this.quiz=t.quiz,this.title=ko.observable(t.quiz.title),this.icon=ko.observable(t.quiz.icon),this.subtitle=ko.observable(t.quiz.subtitle),this.action=ko.observable(t.quiz.action),this.type=ko.observable(t.type),this.displayType=ko.computed(function(){return"q"==a.type()?"Questions":"Flashcards"}),s.call(this,e,t)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/docIndex"),d=t("app/dbProgress"),n=t("shared/topics");fs.extend(SelectorMessage,s),SelectorMessage.prototype.displayMessage=function(){fs.alert(this.quiz.message)},a.exports=SelectorMessage}),define("ui.mobile.SelectorModuleQuiz",function(e,t,a){var s=Math.round;function SelectorModuleQuiz(e,t){var a=this;this.quiz=t.quiz,this.MID=this.quiz.MID,this.isLocal=!0,this.name=ko.observable(ellipsize(t.quiz.name,60)),this.subtitle=ko.observable(""),this.type=ko.observable(t.type),this.typeStr=ko.observable("q"==t.type?"Questions":"Flashcards"),this.completed=ko.observable(t.quiz.completed),this.total=ko.observable(t.quiz.count),this.examDate=ko.observable(formatDate(t.quiz.examDate)),this.progress=ko.computed(function(){return a.total()?s(100*(a.completed()/a.total()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.total()-a.completed()});var d=t.quiz.topics;for(var c in this.topics=ko.observableArray(),d)this.topics.push({topicID:d[c],icon:l.getIcon(d[c],250)});o.call(this,e,t),$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!n.index[t.nodeID]&&a.quizIndex&&a.quizIndex[t.nodeID]&&a.completed(a.completed()+1)})}function formatDate(e){return e=e.split("-"),c[+e[1]-1]+" "+ +e[2]+", "+e[0]}var o=t("ui/mobile/SelectorQuiz"),d=t("app/docIndex"),n=t("app/dbProgress"),l=t("shared/topics");fs.extend(SelectorModuleQuiz,o);var c=["January","February","March","April","May","June","July","August","September","October","November","December"];a.exports=SelectorModuleQuiz}),define("ui.mobile.SelectorOverdue",function(e,t,a){function SelectorOverdue(e,t){this;this.showOverdue=ko.computed(function(){return 35e3>window.userID}),this.quiz=t.quiz,this.count=ko.observable(t.quiz.count),this.startDate=ko.observable(t.quiz.min),this.stopDate=ko.observable(t.quiz.max),this.isLocal=ko.observable(t.isLocal),this.mapNodesToMIDs(),s.call(this,e,t),e(this),this.quiz.tag&&this.dom.addClass(this.quiz.tag)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress");fs.extend(SelectorOverdue,s),SelectorOverdue.prototype.rescheduleOverdue=function(){alert("not implemented")},a.exports=SelectorOverdue}),define("ui.mobile.SelectorQuiz",function(e,t,a){function SelectorQuiz(e,t){var a=this;this.quiz=t.quiz,this.hidden=ko.observable(!1),this.visible=ko.computed(function(){return!a.hidden()}),this.locked=ko.observable(!!t.quiz.locked),this.lockedMsg=t.quiz.locked,t.quiz.ids&&(a.quizIndex=o.makeIndex(t.quiz.ids))}function filterExists(e){var t=[];for(var a in e)nodeIndex[e[a]]&&t.push(e[a]);return t}var s=t("app/recManager"),o=t("app/dbProgress");SelectorQuiz.prototype.getNew=function(e){return o.getNew(e)},SelectorQuiz.prototype.start=function(e,t){if(this.locked())return this.showLockedMessage();t=t||{};var a=this,d=this.isLocal?{locally:1}:{};e=e||function(e){a.render(e)};var n=null;this.quiz.ids&&this.quiz.ids.length?n=t.selectAll?this.quiz.ids:this.getNew(this.quiz.ids):this.quiz.repeat&&this.quiz.repeat.length&&(n=this.quiz.repeat);var l=[];if(n){var c=[];for(var p in n)nodeIndex[n[p]]||c.push(n[p]);d.ids=c,l=n}else d.set=this.quiz.set;t.selectAll&&(d.selectAll=1),d.ids&&d.ids.length||d.set?($(document).trigger("review.loading",[l]),fs.post("mobileGetQuesNodes",d,function(t){if(s.loadNodes(t),d.set&&(l=t.nodeData.nodeID.slice(),a.quizIndex=o.makeIndex(l)),a.quiz.MID)for(var n in l){var c=nodeIndex[l[n]];c&&(c.packID(-a.quiz.MID),c.MID=a.quiz.MID)}else if(a.quiz.MIDs)for(var n in l){var c=nodeIndex[l[n]];c&&(c.packID(-a.quiz.MIDs[c.nodeID]),c.MID=a.quiz.MIDs[c.nodeID])}e(filterExists(l))})):e(filterExists(l))},SelectorQuiz.prototype.render=function(e){$(document).trigger("review.startQuiz",[e,this.quiz])},SelectorQuiz.prototype.startQuiz=function(){var e=this;this.start(function(t){e.render(t)})},SelectorQuiz.prototype.customizeQuiz=function(e){var t=this,a="";a=this.quiz.ui&&"f"==this.quiz.ui.split(".")[0]?"Flashcards":this.quiz.set&&"f"===this.quiz.set.split(".")[1]?"Flashcards":"Questions",this.start(function(s){dialog("ui/dialogs/QuizOverview",function(){},{select:null,ques:s,MID:t.MID,type:a,onStart:function onStart(e){t.render(e)},onShow:function onShow(){e&&e()}})},{selectAll:!0})},SelectorQuiz.prototype.promoteQuiz=function(){var e=this;window.promptForDate("Please select the <b>initial</b> date that Osmosis should prompt a student to complete this quiz.","Start Date","info",function(t,a){a();var s=t;window.promptForDate("Please select the <b>final</b> date that Osmosis should prompt a student to complete this quiz.","Start Date","info",function(t,a){fs.post("promoteQuiz",{g:window.groupID,quiz:e.quiz,begin:s,end:t},function(){a()})})})};var d={prime:"This is included in Osmosis Prime. To get access go to <a href=\"https://www.osmosis.org/plans\">osmosis.org/plans</a>"};SelectorQuiz.prototype.showLockedMessage=function(){fs.alert(d[this.lockedMsg])},SelectorQuiz.prototype.quizTypeStr=function(e,t){return 1==t?"q"==e?"Question":"Flashcard":"q"==e?"Questions":"Flashcards"},SelectorQuiz.prototype.mapNodesToMIDs=function(){var e=this.quiz.ids||this.quiz.nodeIDs;if(this.quiz.MIDs){var t={};for(var a in e)t[e[a]]=this.quiz.MIDs[a];this.quiz.MIDs=t}},a.exports=SelectorQuiz}),define("ui.mobile.SelectorSection",function(e,t,a){function SelectorSection(e,t){var a=this;for(var d in this.visible=ko.computed(function(){return!0}),this.title=ko.observable(t.section.title),this.subsectionClass=ko.observable(""),(t.section.userIndex&&s.load(t.section.userIndex),t.section.docIndex))o[d]=t.section.docIndex[d];this.showSubsections=ko.observable(!0),this.hideSection=ko.observable("Current Coursework"==this.title()||"You Might Also Want to Study..."==this.title()),this.hideSection()&&this.showSubsections(!1),e(this),a.subsections=[];var n=t.section.items;for(var d in n){var l=fs.mixAppend($(".subsections",a.dom),"ui/mobile/SelectorSubsection",{page:t.page,subsection:n[d],filter:t.filter});a.subsections.push(l)}}var s=t("app/who"),o=t("app/docIndex");SelectorSection.prototype.toggleSubsections=function(){this.showSubsections()?this.showSubsections(!1):this.showSubsections(!0)},a.exports=SelectorSection}),define("ui.mobile.SelectorSubsection",function(e,t,a){function parseSubQuizzes(e){var t={};for(var a in e)if(e[a].sub){var s=getCompoundQuiz(t,e[a].sub,e[a].id,e[a].title);mergeInto(s,e[a])}var o=[];for(var a in e)if(e[a].sub){var s=t[e[a].sub];if(s&&1<s.quizzes.length)for(var a in o.push(s),delete t[e[a].sub],o.push(e[a]),s.quizzes)s.quizzes[a].indent=!0;else o.push(e[a])}else o.push(e[a]);return o}function getCompoundQuiz(e,t,a,s){if(!(t in e)){var o=t.split(".");if("lceq"==o[0]||"lcef"==o[0])var d={id:a,title:s,ui:"clocal"+("lceq"==o[0]?".q":".f"),userID:1,ids:[],quizzes:[]};return e[t]=d,d}return e[t]}function mergeInto(e,t){for(var a in t.ids)e.ids.push(t.ids[a]);t.MID&&(e.MID=t.MID),e.quizzes.push(t)}var s={today:"ui/mobile/SelectorTodaysQuiz",overdue:"ui/mobile/SelectorOverdue",extra:"ui/mobile/SelectorExtraQuiz",pack:"ui/mobile/SelectorCourseQuiz",local:"ui/mobile/SelectorLocalCourseQuiz",clocal:"ui/mobile/SelectorCompLocalCourseQuiz",addon:"ui/mobile/SelectorAddOnPack",topic:"ui/mobile/SelectorTopicQuiz",fulltopic:"ui/mobile/SelectorTopicFull",addr:"ui/mobile/SelectorMegagridQuiz",message:"ui/mobile/SelectorMessage",mod:"ui/mobile/SelectorModuleQuiz",my:"ui/mobile/SelectorModuleQuiz"};a.exports=function SelectorSubsection(e,t){var a=this,o=t.subsection.items;for(var d in this.title=ko.observable(t.subsection.title),this.childVisibility=ko.observableArray(),this.visible=ko.computed(function(){var e=a.childVisibility();for(var t in e)if(e[t]())return!0;return!1}),e(this),o=parseSubQuizzes(o),this.quizzes=[],o){var n=o[d].ui.split("."),l=fs.mixAppend($(".quizzes",a.dom),s[n[0]],{page:t.page,quiz:o[d],type:n[1],filter:t.filter});this.childVisibility.push(l.visible),this.quizzes.push(l)}}}),define("ui.mobile.SelectorTodaysQuiz",function(e,t,a){function SelectorTodaysQuiz(e,t){var a=this;this.quiz=t.quiz,this.mapNodesToMIDs();var d=o.countToday(this.quiz.ids);this.completed=ko.observable(d),this.total=ko.observable(t.quiz.ids.length),this.remaining=ko.computed(function(){return a.total()-a.completed()}),this.progress=ko.computed(function(){return a.total()?Math.round(100*(a.completed()/a.total())):0}),this.isLocal=!!t.quiz.local,s.call(this,e,t),e(this),$(".radial-progress",this.dom).knob({readOnly:!0,thickness:.2,bgColor:"rgba(150,150,150,.2)",fgColor:"#5cb85c",width:30,height:30,displayInput:!1}),this.quiz.tag&&this.dom.addClass(this.quiz.tag)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress");fs.extend(SelectorTodaysQuiz,s),SelectorTodaysQuiz.prototype.getNew=function(e){return o.getNewToday(e)},SelectorTodaysQuiz.prototype.startQuiz=function(){this.quiz.ids.length?this.start():fs.alert("Looks like there's nothing left in your repetition queue for today. Try selecting a different quiz.")},SelectorTodaysQuiz.prototype.render=function(e){shuffle(e),e.sort(function(e,t){return nodeIndex[e].accConfBin==nodeIndex[t].accConfBin?0:7==nodeIndex[e].accConfBin?-1:7==nodeIndex[t].accConfBin?1:0}),$(document).trigger("review.startQuiz",[e])},a.exports=SelectorTodaysQuiz}),define("ui.mobile.SelectorTopicFull",function(e,t,a){function SelectorTopicFull(e,t){var a=this;this.quiz=t.quiz,this.visible=ko.observable(!0),this.completed=ko.observable(t.quiz.completed||0),this.count=ko.observable(t.quiz.count),this.subtitle=ko.observable(ellipsize(t.quiz.subtitle+" - "+d.fullName[t.quiz.topics[0]],60)),this.type=ko.observable(t.type),this.typeStr=ko.observable(this.quizTypeStr(t.type,t.quiz.count)),this.overdue=ko.observable(1==t.quiz.due);var n=t.quiz.topics;this.icon=ko.observable(d.getIcon(n[0],250)),this.progress=ko.computed(function(){return a.count()?Math.round(100*(a.completed()/a.count()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.count()-a.completed()}),$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!o.index[t.nodeID]&&a.quizIndex&&a.quizIndex[t.nodeID]&&a.count(a.count()-1)}),s.call(this,e,t)}var s=t("ui/mobile/SelectorQuiz"),o=t("app/dbProgress"),d=t("shared/topics");fs.extend(SelectorTopicFull,s),a.exports=SelectorTopicFull}),define("ui.mobile.SelectorTopicQuiz",function(e,t,a){var s=Math.round;function SelectorTopicQuiz(e,t){var a=this;this.quiz=t.quiz,this.subtitle=ko.observable(ellipsize(t.quiz.subtitle+" - "+stringifyTopics(t.quiz.topics),60)),this.type=ko.observable(t.type),this.typeStr=ko.observable(this.quizTypeStr(t.type,t.quiz.ids.length)),this.publisher=ko.observable(t.quiz.publisher),this.logo=ko.observable(t.quiz.logo),this.completed=ko.observable(n.count(this.quiz.ids)+(t.quiz.completed||0)),this.total=ko.observable(t.quiz.ids.length+(t.quiz.completed||0)),this.progress=ko.computed(function(){return a.total()?s(100*(a.completed()/a.total()))+"%":"0%"}),this.remaining=ko.computed(function(){return a.total()-a.completed()});var d=t.quiz.topics;for(var c in this.topics=ko.observableArray(),d)this.topics.push({topicID:d[c],icon:l.getIcon(d[c],250)});o.call(this,e,t),$(t.page.sectionsDOM).bind("MarkQuesAsCompleted",function(e,t){!n.index[t.nodeID]&&a.quizIndex&&a.quizIndex[t.nodeID]&&a.completed(a.completed()+1)})}function stringifyTopics(e){var t=[];for(var a in e)t.push(l.fullName[e[a]]);return t.join(", ")}var o=t("ui/mobile/SelectorQuiz"),d=t("app/docIndex"),n=t("app/dbProgress"),l=t("shared/topics");fs.extend(SelectorTopicQuiz,o),a.exports=SelectorTopicQuiz}),define("ui.mobile.TitleBar",function(e,t,a){a.exports=function TitleBar(e,t){this;this.tab=t.tab,e(this),this.quizSelectorFilters=fs.mix(this,"ui/mobile/QuizSelectorFilters",{filterType:"source"},{matchName:"quizSelector"}),this.topicSelectorFilters=fs.mix(this,"ui/mobile/QuizSelectorFilters",{filterType:"quesType"},{matchName:"topicSelector"}),this.moduleSelectorFilters=fs.mix(this,"ui/mobile/ModuleSelectorFilters",{})}}),define("ui.mobile.TopicSelector",function(e,t,a){function TopicSelector(e,t){this;t.requestURI="mobileGetAllTopics",o.call(this,e,t)}var s=t("app/dbProgress"),o=t("ui/mobile/QuizSelector");fs.extend(TopicSelector,o),TopicSelector.prototype.show=function(){$("#pageTitle").text("Topic Selector")},TopicSelector.prototype.nav={submenu:"tabs/QuizSelectorFilters",submenuType:"quesType"},a.exports=TopicSelector}),define("ui.modals.BaseModal",function(e,t,a){var s=function(){"use strict";function BaseModal(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,BaseModal),this.title=ko.observable(t.title||""),this.subTitle=ko.observable(t.subTitle||""),this.icon=ko.observable(t.icon||""),this.closedCB=t.closedCB||function(){},e&&(e(this),this.setCloseOnBGClick(),this.positionDOM(),this.fadeIn())}return _createClass(BaseModal,[{key:"close",value:function close(){var e=this;this.fadeOut(function(){e.closedCB(),$("body > .tooltip").remove(),fs.unmix(e)})}},{key:"setCloseOnBGClick",value:function setCloseOnBGClick(){var e=this;$(this.dom).click(function(t){$(t.target).is($(".osm-background",e.dom))&&e.close()})}},{key:"positionDOM",value:function positionDOM(){$("#modal-container").length||$("<div id=\"modal-container\"></div>").appendTo("body"),$("#modal-container").first().append(this.dom)}},{key:"fadeIn",value:function fadeIn(){this.dom.css({opacity:0});anime({targets:this.dom[0],opacity:{value:[0,1],easing:"easeInOutCubic",duration:250}})}},{key:"fadeOut",value:function fadeOut(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};this.dom.css({opacity:1});anime({targets:this.dom[0],opacity:{value:[1,0],easing:"easeInOutCubic",duration:250},complete:function complete(){e()}})}}]),BaseModal}();a.exports=s}),define("ui.modals.schedule.AddCustomDailyGoalModal",function(e,t,a){var s=t("ui/modals/BaseModal"),o=t("app/schedules"),d=o.schedules,n=function(e){"use strict";function AddCustomDailyGoalModal(e,t){var a;return _classCallCheck(this,AddCustomDailyGoalModal),a=_possibleConstructorReturn(this,_getPrototypeOf(AddCustomDailyGoalModal).call(this,void 0,t)),a.date=t.date,a.scheduleID=ko.observable(t.scheduleID),a.scheduleIDs=t.scheduleIDs||[],1===a.scheduleIDs.length&&a.scheduleID(a.scheduleIDs[0]),a.schedule=d.getSchedule(a.scheduleID()),a.onSave=t.onSave||function(){},a.title=ko.observable(),a.type=ko.observable(),a.bookType=ko.observable(),a.number=ko.observable(),a.startPage=ko.observable(),a.stopPage=ko.observable(),a.validValues=ko.computed(function(){if("undefined"==typeof a.scheduleID())return!1;if("book"===a.type()){if("range"==a.bookType()){if("undefined"==typeof a.startPage()||"undefined"==typeof a.stopPage())return!1;if(!a.isInt(a.startPage())||!a.isInt(a.stopPage())||0>parseInt(a.startPage(),10)||0>parseInt(a.stopPage(),10))return!1}else if("undefined"==typeof a.number()||!a.isInt(a.number())||0>parseInt(a.number(),10))return!1;}else if("undefined"==typeof a.number()||!a.isInt(a.number())||0>parseInt(a.number(),10))return!1;return!0}),a.scheduleID.subscribe(function(){a.schedule=d.getSchedule(a.scheduleID())}),e(_assertThisInitialized(a)),a.addDropdowns(),a.setCloseOnBGClick(),a.positionDOM(),a.fadeIn(),a}return _inherits(AddCustomDailyGoalModal,e),_createClass(AddCustomDailyGoalModal,[{key:"isInt",value:function isInt(e){return /^\d+$/.test(e)}},{key:"addDropdowns",value:function addDropdowns(){1<this.scheduleIDs.length&&fs.mixAppend($(".schedule-dropdown",this.dom),"ui/Dropdown",{options:_.map(this.scheduleIDs,function(e){return{name:d.getSchedule(e).name,value:e}}),optionsText:"name",optionsValue:"value",value:this.scheduleID}),fs.mixAppend($(".resource-dropdown",this.dom),"ui/Dropdown",{options:[{name:"Question Bank",value:"qbank"},{name:"Book",value:"book"},{name:"Video",value:"video"}],optionsText:"name",optionsValue:"value",value:this.type}),fs.mixAppend($(".page-count-dropdown",this.dom),"ui/Dropdown",{options:[{name:"# of pages",value:"pages"},{name:"range of pages",value:"range"}],optionsText:"name",optionsValue:"value",value:this.bookType})}},{key:"clearValues",value:function clearValues(){this.title(null),this.type(null),this.bookType(null),this.number(null),this.startPage(null),this.stopPage(null)}},{key:"getTodo",value:function getTodo(){var e=this.type(),t={};return"book"===e?"range"==this.bookType()?(t.pStart=parseInt(this.startPage(),10),t.pEnd=parseInt(this.stopPage(),10)):(e="pages",t.count=parseInt(this.number(),10)):t.count=parseInt(this.number(),10),_objectSpread({type:e,title:this.title()},t)}},{key:"save",value:function save(){var e=this;if(this.validValues()){var t=this.getTodo();fs.post("addCustomDailyGoal2",{scheduleID:this.scheduleID(),date:this.date,todo:t},function(a){e.onSave(_objectSpread({},t,{id:a.todoID,group:"custom",state:e.schedule.getTodoCheckbox("custom",a.todoID,0),topic:"Custom",scheduleID:e.scheduleID()})),e.clearValues(),e.close()})}}}]),AddCustomDailyGoalModal}(s);a.exports=n}),define("ui.modals.schedule.CompletedTaskModal",function(e,t,a){var s=t("ui/modals/BaseModal"),o=function(e){"use strict";function CompletedTaskModal(e,t){var a;return _classCallCheck(this,CompletedTaskModal),a=_possibleConstructorReturn(this,_getPrototypeOf(CompletedTaskModal).call(this,void 0,t)),a.count=t.count||0,a.type=t.type||"",a.val=ko.observable(a.count),t.confirmCB&&(a.confirmCB=function(){t.confirmCB(a.val())}),t.closedCB&&(a.closedCB=function(){t.closedCB(a.val())}),e(_assertThisInitialized(a)),a.setCloseOnBGClick(),a.positionDOM(),a.fadeIn(),a}return _inherits(CompletedTaskModal,e),_createClass(CompletedTaskModal,[{key:"confirm",value:function confirm(){var e=this;this.confirmCB&&this.confirmCB(),this.fadeOut(function(){$("body > .tooltip").remove(),fs.unmix(e)})}}]),CompletedTaskModal}(s);a.exports=o}),define("ui.modals.schedule.ConfirmDelete",function(e,t,a){a.exports=function ConfirmDelete(e,t){var a=this,s=this;this.scheduleName=t.scheduleName,this.confirmText=ko.observable(""),this.isDisabled=ko.computed(function(){return a.scheduleName!==a.confirmText()})}}),define("ui.modals.schedule.DayViewModal",function(e,t,a){var s=t("ui/modals/BaseModal"),o=function(e){"use strict";function DayViewModal(e,t){var a;return _classCallCheck(this,DayViewModal),a=_possibleConstructorReturn(this,_getPrototypeOf(DayViewModal).call(this,e,t)),fs.mixAppend($(".osm-modal-content",a.dom),"models/study_calendar/views/DayView",{theme:"compact",active:!0,date:t.date,calendar:t.calendar,style:t.style,inModal:_assertThisInitialized(a)}),a}return _inherits(DayViewModal,e),DayViewModal}(s);a.exports=o}),define("ui.modals.schedule.SketchyPicmonicModal",function(e,t,a){var s=t("ui/modals/BaseModal"),o=-1,d=function(e){"use strict";function SketchyPicmonicModal(e,t){var a;return _classCallCheck(this,SketchyPicmonicModal),t.links=t.links||[],t.type=t.type||"sketchy",t.subTitle=t.subTitle||SketchyPicmonicModal.getSubTitle(t.links,t.type),t.icon=t.icon||"<i class=\"fi fi-".concat(t.type,"\"></i>"),a=_possibleConstructorReturn(this,_getPrototypeOf(SketchyPicmonicModal).call(this,void 0,t)),a.sketchyPicmonicModalID=++o,a.links=t.links,a.type=t.type,a.allComplete=ko.computed(function(){return!_.find(a.links,function(e){return!e.checked()})}),a.iconColor=t.iconColor||"",e(_assertThisInitialized(a)),a.setCloseOnBGClick(),a.positionDOM(),a.fadeIn(),a}return _inherits(SketchyPicmonicModal,e),_createClass(SketchyPicmonicModal,[{key:"markAll",value:function markAll(){var e=this.allComplete()?0:1,t=!0,a=!1,s=void 0;try{for(var o=this.links[Symbol.iterator](),d,n;!(t=(d=o.next()).done);t=!0)n=d.value,n.state(e)}catch(e){a=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw s}}}}],[{key:"getSubTitle",value:function getSubTitle(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"sketchy",a=t.charAt(0).toUpperCase()+t.substr(1);return 1<e.length&&("y"===a.charAt(a.length-1).toLowerCase()?a="".concat(a.substr(0,a.length-1),"ies"):a+="s"),"".concat(e.length," ").concat(a)}}]),SketchyPicmonicModal}(s);a.exports=d}),define("ui.modals.schedule.VideoModal",function(e,t,a){var s=Math.floor,o=t("ui/videoPlayer"),d=t("ui/modals/BaseModal"),n=function(e){"use strict";function VideoModal(e,t){var a;return _classCallCheck(this,VideoModal),t.icon=t.icon||"<i class=\"fi fi-video\"></i>",a=_possibleConstructorReturn(this,_getPrototypeOf(VideoModal).call(this,void 0,t)),a.iconColor=t.iconColor||"",a.links=t.links||[],a.videoID=ko.observable(t.videoID||(a.links.length?a.links[0].id:-1)),a.currentVideoIndex=ko.computed(function(){return _.findIndex(a.links,function(e){return e.id===a.videoID()})}),a.trackPlay=!0,a.currentVideo=ko.computed(function(){return a.links[a.currentVideoIndex()]}),a.currentVideo.subscribe(function(e){a.displayVideo(e),a.trackPlay=!0}),a.progress=ko.observable(),e(_assertThisInitialized(a)),a.setCloseOnBGClick(),a.positionDOM(),a.fadeIn(),a.displayVideo(a.currentVideo()),fs.mix(_assertThisInitialized(a),"ui/VideoList",{onItemClick:a.onPlaylistItemClick.bind(_assertThisInitialized(a)),checkboxOnHover:!0,links:a.links}),a}return _inherits(VideoModal,e),VideoModal}(d);n.prototype.keenTracking=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"unknown",t=this.currentVideo();keen.track("schedule_engagement",{schedule_id:t.scheduleID||-1,resource:"osmosis-video",organ_system:(t.topic||"unknown").toLowerCase(),concept:(t.t||"unknown").toLowerCase(),type:"video",action:e})},n.prototype.displayVideo=function(e){var t=this;this.clearVideo(),o.embed(e,$(".osm-modal-video-player",this.dom),{},function(e){t.videoPlayer=e,t.videoPlayer.el.appendTo($(".osm-modal-video-player",t.dom)),t.videoPlayer.player.ready(function(){t.trackWatchedStatus(t.videoPlayer.player),t.initVideoEvents(t.videoPlayer),t.videoPlayer.player.currentTime(t.currentVideo().lt||0),t.videoPlayer.player.play(),document.querySelector(".vjs-video-overlay-custom").focus(),$(".vjs-video-overlay-custom").on("keydown",function(t){t.stopPropagation()})})})},n.prototype.clearVideo=function(){this.videoPlayer&&fs.empty($(".osm-modal-video-player",this.dom)),this.videoPlayer=null},n.prototype.initVideoEvents=function(e){var t=this,a=e.player,o=function setRateChangeEvent(){a.on("ratechange",function(){t.keenTracking("".concat(a.playbackRate(),"x"))}),o=function setRateChangeEvent(){}};a.on("playing",function(){t.trackPlay&&(t.keenTracking("start"),t.trackPlay=!1),o()}),a.on("ended",function(){t.trackWatchedStatus(a)}),a.on("pause",function(){t.trackWatchedStatus(a),t.keenTracking("pause")});var d=0,n=0,l=[.1,.25,.5,.75,.9];a.on("timeupdate",function(){for(var e=0<a.duration()&&0<a.currentTime()?a.currentTime()/a.duration():0,o=l.length-1,c;o--;0<=o)if(c=l[o],c<=e&&c>n){t.keenTracking(.9===c?"complete":"".concat(100*c,"_percent"));break}a.currentTime()>5+d&&(t.trackWatchedStatus(a),d=5+s(a.currentTime())),n=e})},n.prototype.onPlaylistItemClick=function(e){this.videoID(e.id),this.keenTracking("next")},n.prototype.trackWatchedStatus=function(e){var t=0<e.duration()&&0<e.currentTime()?e.currentTime()/e.duration():0,a=this.currentVideo().watchStatus().percent||this.currentVideo().pct;.8<=t&&(t=1);100*t<=a||(this.progress(t),this.links[this.currentVideoIndex()].progress(t),fs.post("updateMediaWatchedStatus",{lastTime:s(e.currentTime()),percent:s(100*t),mediaNodeID:this.currentVideo().id},function(){console.log("Store last time: "+s(e.currentTime())),console.log("Store percent: "+s(100*t))}))},n.prototype.doPlayVideo=function(){this.videoPlayer&&this.videoPlayer.player.play()},a.exports=n}),define("ui.oldBuy.Buy",function(e,t,a){function Buy(e,t){var a=this;this.theme=t.theme||"",this.changePlanCB=t.changePlanCB,this.cartIsNotEmpty=ko.observable(!1),this.discountThreshold=ko.observable(t.discountThreshold),this.referrerCode="",this.locked=ko.observable(!1),this.loggedIn=ko.observable(null),"undefined"==typeof user?this.loggedIn(!1):this.loggedIn(!0),n.load(),this.currency=n.currency,n.isEmpty()?location.replace(t.emptyRedirect):this.cartIsNotEmpty(!0);var l=0;this.items=ko.observableArray();var p=n.items();for(var u in this.itemIDs=[],p)this.discountCode=p[u].group,this.items.push(p[u]),this.itemIDs.push(p[u].key),l+=p[u].price;if(window.localStorage&&(window.localStorage.activeDeal&&(window.deal=JSON.parse(window.localStorage.getItem("activeDeal"))),a.referrerCode=window.localStorage.getItem("referrerCode"),a.referrerCode===user.code&&(dialog("ui/dialogs/LockoutDialog",{message:"Sorry, you can't claim your own referral deal. \uD83D\uDE0F",header:"Uh oh...",secondaryButton:"My dashboard",primaryButton:"Plans page",theme:"negative"}),window.localStorage.removeItem("referrerCode"),this.locked(!0))),this.dealName=localStorage.getItem("dealName")?localStorage.getItem("dealName"):null,this.bookDealShown=ko.observable(!1),this.books=ko.observableArray([]),this.bookImages=ko.observableArray([]),this.shippingBlurb=ko.observable(""),!(window.deal&&window.deal.bookIncluded))this.bookDealActive=ko.observable(!1);else if(this.bookDealActive=ko.computed(function(){var e=0;for(var t in this.items())e+="year"==this.items()[t].unit?12*this.items()[t].amount:this.items()[t].amount;return 12<=e},this),this.bookDealActive()){if(window.deal.data.books)for(var m in window.deal.data.books)this.books.push(c.name2id[window.deal.data.books[m]]);else this.books([0,1,2]);this.bookImages(c.getImages(this.books())),window.deal.data.shippingBlurb?this.shippingBlurb(window.deal.data.shippingBlurb):this.shippingBlurb("Thanks for providing your shipping address. You should receive an email confirmation within 5 working days that your book has shipped.")}this.totalCharge=ko.observable(l),$(".navBarItem").addClass("hidden"),this.authStepStatus=ko.observable(a.loggedIn()?"hidden":"enabled"),this.buyStepStatus=ko.observable(a.loggedIn()?"enabled":"disabled"),this.confirmationStepStatus=ko.observable("hidden"),this.acceptedTerms=ko.observable(!1),this.acceptedTerms.subscribe(function(){a.acceptedTerms()&&(a.purchaseError(""),$.post("/agreeToTerms"))}),this.purchasePending=ko.observable(!1),this.purchaseError=ko.observable(""),e(this),this.cc=fs.mix(this,"ui/oldBuy/Creditcard",{paymentURI:"receivePayment"}),this.cc.status("disabled"),a.cc.status(a.buyStepStatus()),this.buyStepStatus.subscribe(function(){a.cc.status(a.buyStepStatus())}),s.track("AddToCart",{value:(a.totalCharge()/100).toFixed(2),currency:this.currency(),content_name:function getName(e){return 0<e.length&&e[0].title?e[0].title:"n/a"}(a.items()),content_category:"item"}),o.track("cart",(a.totalCharge()/100).toFixed(2));var v=[];for(var b in this.items())v.push({id:this.items()[b].inventoryID,name:this.items()[0].title.replace("Osmosis Prime","").replace(" for ","").replace(" until you take","Until"),quantity:1,amount:this.getAmountUSD()});d.track("checkout_progress",{items:v,coupon:this.discountCode}),this.dealName&&"undefined"!=this.dealName&&d.track("select_content",{promotions:[{id:this.dealName,name:this.dealName}]}),analytics.track("Added to Cart",{amount:a.totalCharge()/100}),setTimeout(function(){slack.channel("activity-cart","Added to cart: "+a.currency()+" "+a.totalCharge()/100)},1e3),fs.mixAppend($(".order-summary",this.dom),"ui/oldBuy/BuySummary",{items:this.items,bookDealActive:this.bookDealActive,totalCharge:this.totalCharge,buyStepStatus:this.buyStepStatus,changePlanCB:this.changePlan.bind(this)}),fs.mix(this,"ui/SimpleLoginBox",{isBuying:!0,redirect:"buy"}),this.bookDealActive()&&(fs.mix(this,"ui/FreeBookForm",{inventoryID:this.itemIDs[0],onExitCallback:function onExitCallback(){fs.empty($(".free-book-form-wrapper",a.dom))},books:this.books(),bookImages:this.bookImages(),shippingBlurb:this.shippingBlurb()}),fs.mix(this,"ui/BookDealProgress",{}))}var s=t("app/fbTrackingPixel"),o=t("app/fbTrackingPixelOld"),d=t("app/gaTracking"),n=t("app/storeCart"),l=t("app/login"),c=t("shared/books"),p=t("ui/survey/purchaseSurvey");Buy.prototype.changePlan=function(){this.changePlanCB?this.changePlanCB():document.location="/plans"},Buy.prototype.checkoutNow=function(){goToByScroll(".buyStep")},Buy.prototype.withFacebook=function(){l.withFacebook()},Buy.prototype.withGoogle=function(){l.withGoogle()},Buy.prototype.testPurchase=function(e){var t=this;t.acceptedTerms()?(t.purchaseError(""),t.purchasePending(!0),n.clear(),t.buyStepStatus("success"),t.confirmationStepStatus("enabled"),t.purchasePending(!1),t.bookDealActive()?(t.bookDealShown(!0),goToByScroll("body"),setTimeout(function(){t.buyStepStatus("hidden"),t.confirmationStepStatus("hidden")},600)):setTimeout(function(){goToByScroll(".confirmationStep")},1e3)):(t.purchaseError("Please accept the Osmosis Terms & Conditions and Privacy Policy."),e())},Buy.prototype.purchaseQuestions=function(e){var t=this,a=this;return this.locked()?(dialog("ui/dialogs/LockoutDialog",{message:"Whoa, hacker alert. Seriously, though, you can't use your own referral deal.",header:"All right, that's enough",secondaryButton:"My dashboard",primaryButton:"Plans page",theme:"negative"}),e()):this.purchasePending()?void 0:this.testing&&-1<window.location.origin.indexOf("localhost")?void this.testPurchase(e):void(a.acceptedTerms()?(a.purchaseError(""),a.purchasePending(!0),a.cc.submit({totalCharge:this.totalCharge(),currency:n.currency,items:this.itemIDs},function(){n.clear(),a.buyStepStatus("success"),a.confirmationStepStatus("enabled"),a.purchasePending(!1);var e=(a.totalCharge()/100).toFixed(2);0<window.conversionRateINR&&"inr"===a.currency().toLowerCase()&&(e=(a.totalCharge()/100/window.conversionRateINR).toFixed(2));var l=!0;for(var c in a.items())if(8<=a.items()[c].inventoryID){l=!1;var u=a.items()[c].title.replace("Osmosis Prime","").replace(" for ","").replace(" until you take","Until");s.track("Purchase",{value:e,currency:a.currency(),content_name:u,content_category:"prime_plan"}),o.track("purchase",e),a.trackGA("purchase",a.items()[c].inventoryID,u),fs.post("delayReferralPrimeEmail",{userID:userID}),a.referrerCode&&(window.localStorage.removeItem("referrerCode"),t.dealName="referral-purchase"),a.trackPurchase(a.items()[c],1)}l&&(s.track("Purchase",{value:e,currency:"USD",content_category:"non_prime_item",content_name:a.items()[0].title}),o.track("purchase",e),d.ecommerce({value:e,items:[{id:a.items()[c].inventoryID,name:"Non-prime purchase",quantity:1,price:e}]})),window.localStorage&&window.localStorage.activeDeal&&window.localStorage.removeItem("activeDeal"),a.bookDealActive()&&a.bookDealShown(!0),setTimeout(function(){goToByScroll(".confirmationStep"),~window.location.pathname.indexOf("/start")?window.location.replace("/"):setTimeout(function(){p(Math.round(a.totalCharge()/100),a.currency())},1e3)},1e3),slack.channel("activity-buy","Purchased Prime "+a.currency()+" "+(a.totalCharge()/100).toFixed(2))},function(t){for(var s in a.purchaseError(t.message),a.purchasePending(!1),a.items())8<=a.items()[s].inventoryID&&"/authorize"!=window.location.pathname&&a.trackPurchase(a.items()[s],0,t.message);e()})):(a.purchaseError("Please accept the Osmosis Terms & Conditions and Privacy Policy."),e()))},Buy.prototype.trackPurchase=function(e,t,a){var s="year"==e.unit?12*e.amount:e.amount,o=e.strikePrice?e.strikePrice:e.price,d={paid_amount:(this.totalCharge()/100).toFixed(2),paid_currency:this.currency(),paid_amount_dollars:this.getAmountUSD(),months:s,price:o,discount_code:this.discountCode,deal:this.dealName,success:t,error_message:a||0};keen.track("prime_purchase",d),1==t&&(analytics.track("Purchase",{amount:this.getAmountUSD(),inventory_group:this.discountCode,months:s,deal:this.dealName?this.dealName:"None"}),intercomData.update("user",{prime_purchase_event:!0,current_plan:s,last_spend_amount:this.getAmountUSD(),last_deal_used:this.dealName?this.dealName:null}),window.IntercomEvent("trackEvent","prime_purchased",{prime_package:s+" Months"}))},Buy.prototype.getAmountUSD=function(){var e=this.currency().toLowerCase(),t=(this.totalCharge()/100).toFixed(2);return"inr"===e?(t/window.conversionRateINR).toFixed(2):t},Buy.prototype.trackGA=function(e,t,a){d.ecommerce({value:this.getAmountUSD(),coupon:this.discountCode,items:[{id:t,name:a,quantity:1,price:this.getAmountUSD()}]})},a.exports=Buy}),define("ui.oldBuy.BuySummary",function(e,t,a){function BuySummary(e,t){this.items=t.items||[],this.bookDealActive=t.bookDealActive||function(){},this.totalCharge=t.totalCharge||ko.observable(0),this.buyStepStatus=t.buyStepStatus||function(){},this.changePlanCB=t.changePlanCB,this.allowChangePlan="undefined"==typeof t.allowChangePlan?!!t.changePlanCB:t.allowChangePlan,s.load(),this.currencyMark=s.currencyMark,this.displayTotalCharge=ko.computed(function(){return this.currencyMark()+formatWithCommas(this.totalCharge()/100)},this),e(this)}var s=t("app/storeCart");BuySummary.prototype.changePlan=function(){this.changePlanCB()},BuySummary.prototype.formatPrice=function(e){var t=(e/100).toFixed(2),a=t.split(".");return 0==+a[1]?a[0]:t},BuySummary.prototype.displayPrice=function(e){return this.formatPrice(e.price)},a.exports=BuySummary}),define("ui.oldBuy.Creditcard",function(e,t,a){function Creditcard(e,t){var a=this;this.status=ko.observable("enabled"),this.name=ko.observable(""),this.number=ko.observable(),this.cvc=ko.observable(),this.monthOptions=["01","02","03","04","05","06","07","08","09","10","11","12"],this.expMonth=ko.observable(),this.expYear=ko.observable(),this.saveCardInfo=ko.observable(!0),this.referrerCode=window.localStorage?window.localStorage.getItem("referrerCode"):"",this.userCreditCardsAvailable={},this.stripePublishableKey={},"undefined"==typeof userCreditCardsAvailable||"undefined"==typeof stripePublishableKey?fs.get("userCreditCardsAvailable",{},function(e){a.userCreditCardsAvailable=e.userCreditCardsAvailable,a.stripePublishableKey=e.stripePublishableKey}):(a.userCreditCardsAvailable=userCreditCardsAvailable,a.stripePublishableKey=stripePublishableKey);var s=fs.transpose(a.userCreditCardsAvailable,o);this.storedCards=ko.observableArray(s),this.saveCardClass="minimal",this.saveCardText="extra"==this.saveCardClass?"If you choose to store your credit card, we don't keep any of the info. Everything is stored by a trusted third-party service called <a href=\"https://www.stripe.com\" target=\"_blank\">Stripe</a>.":"Save card info",this.hasStoredCards=ko.computed(function(){return a.storedCards().length}),this.addingNewCard=ko.observable(!1),this.existingCard=ko.observable(),this.paymentURI=t.paymentURI||"receivePayment"}var s=t("app/OldStripe"),o=t("ui/StoredCard"),d=t("app/test");Creditcard.prototype.submit=function(e,t,a){var o=this;if(s.setPublishableKey(o.stripePublishableKey),!(0<e.totalCharge))fs.post("receivePayment",{ccToken:"activate",saveInfo:0,name:"",purchaseData:e},function(e){o.status("success"),t&&t(e)},function(e){a&&a({message:e.error.msg})});else if(this.existingCard()){JSON.parse(this.existingCard());fs.post(this.paymentURI,{name:o.name(),purchaseData:e,existingCardData:this.existingCard(),referrerCode:o.referrerCode},function(a){o.status("success"),t&&t(a),mixpanel.people.track_charge(e.totalCharge/100)},function(e){a&&a({message:e.error.msg})})}else s.card.createToken({number:this.number(),cvc:this.cvc(),exp_month:this.expMonth(),exp_year:this.expYear()},function(s,d){if(200==s){console.log("success");var n=d.id;fs.post(o.paymentURI,{ccToken:n,saveInfo:o.saveCardInfo()?1:0,name:o.name(),purchaseData:e},function(a){o.status("success"),t&&t(a),mixpanel.people.track_charge(e.totalCharge/100)},function(e){a&&a({message:e.error.msg})})}else a&&a(d.error),console.log("error: ",d)})},Creditcard.prototype.addCard=function(){this.existingCard(void 0),this.addingNewCard(!0)},Creditcard.prototype.removeCard=function(e,t){e.removeCard(),t.storedCards.remove(e)},a.exports=Creditcard}),define("ui.onboarding.OnboardingModal",function(e,t,a){var s=t("shared/character"),o=t("ui/modals/BaseModal"),d=function(e){"use strict";function OnboardingModal(e,t){var a;return _classCallCheck(this,OnboardingModal),a=_possibleConstructorReturn(this,_getPrototypeOf(OnboardingModal).call(this,null,t)),a.onboardingModalVisible=ko.observable(!1),a.submitted=ko.observable(!1),a.showProfileStart=ko.observable(!0),a.quoteHeader=ko.observable("Nice work ".concat(window.user.first,"! You're already learning by Osmosis.")),a.quoteBody=ko.observable("Help us personalize your experience by providing a little more information about yourself."),e(_assertThisInitialized(a)),fs.mix(_assertThisInitialized(a),"ui/onboarding/ProfileStart",{showFullFlow:!1,parent:_assertThisInitialized(a),showProfileStartTitle:!1,isModal:!0}),fs.mix(_assertThisInitialized(a),"ui/CharacterQuote",{quoteHeader:a.quoteHeader,quoteBody:a.quoteBody,character:s.themes.find(function(e){return"teal"===e.theme}).src,theme:"teal",position:"left"}),a}return _inherits(OnboardingModal,e),_createClass(OnboardingModal,[{key:"submit",value:function submit(e){this.submitted(!0);var t={career:{degree:"Other"===e.degree?e.secondaryProfession:"Other"===e.type?e.otherField:e.degree,status:"Student"===e.type?e.classYear:e.status,type:"Other"===e.degree?"secondaryProfession":e.type,specialty:e.specialty,subSpecialty:e.subSpecialty},school:e.school};fs.post("updateUserProfile",{profile:t},function(){var t={mode:"Web"};for(var a in e)t[a]=e[a];analytics.track("Onboarding Start from modal",t),slack.activity("Started Osmosis from modal ("+e.degree+","+e.classYear+","+e.school+")"),window.Storage&&window.localStorage.setItem("showWelcomeSurvey","true")}),this.quoteHeader("Perfect, you're off to a great start!"),this.quoteBody("Complete the rest of your profile on your <a class=\"profile-page-link\" href=\"/account\">profile page</a>.")}},{key:"toggleModal",value:function toggleModal(){this.onboardingModalVisible(!this.onboardingModalVisible())}},{key:"closeModal",value:function closeModal(e){fs.unmix(e)}}]),OnboardingModal}(o);a.exports=d}),define("ui.onboarding.PrimeSelection",function(e,t,a){function PrimeSelection(e,t){this.nextLoading=ko.observable(!1),this.selectedPlan=ko.observable(48),this.iOSError=ko.observable(!1),this.seeMore=ko.observable(!1),this.showProgressBars=ko.observable(null==t.showProgressBars||t.showProgressBars),this.showBasicPlan=ko.observable(null==t.showBasicPlan||t.showBasicPlan),this.inventoryData=t.inventoryData?t.inventoryData:inventoryData,this.showStrikePrice=ko.observable(t.showStrikePrice),this.currentSale=ko.observable(t.currentSale||{});var a=[48,24,12,6];for(var n in a.sort(function(e,t){return t-e}),o=s.parseInventoryData(this.inventoryData),o)d[this.getMonths(o[n].amount,o[n].unit)]=o[n];if(this.plans=ko.observableArray(),!s.noInventory)for(var n in a)this.plans.push(this.formatPlan(a[n]));try{s.clear(),s.load(),s.add(this.getPrimeInventory(48).inventoryID)}catch(t){this.iOSError(!0)}e(this),this.plansSection=fs.mix(this,"ui/PlansSelection",{primeSelectedCB:this.primeSelectedCB.bind(this),plans:this.plans,inventoryIndex:o,inventoryIndexByMonth:d,theme:"compact",showStrikePrice:this.showStrikePrice()||!1}),fs.mix(this,"ui/PrimeFeatures",{showTitle:!1}),fs.mix(this,"ui/ProgressBars",{steps:3,selectedIndex:1,color:"green",size:"compact"});var l=this.selectedPlan();this.selectedPlan.subscribe(function(e){l!==e&&0==e&&this.plansSection.setPrime(0),l=e},this)}var s=t("app/storeCart"),o={},d={};PrimeSelection.prototype.getMonths=function(e,t){if("month"==t)return e;return"year"==t?12*e:void 0},PrimeSelection.prototype.formatPlan=function(e){var t={time:e,tag:""};return t.title=12==e?"1 year":0==e%12?e/12+" years":1==e?"1 month":e+" months",t},PrimeSelection.prototype.getPrimeInventory=function(e){return d[e]},PrimeSelection.prototype.primeSelectedCB=function(e){this.selectedPlan(e),0<e?this.iOSError()?alert("To select this plan, please view this page in a different browser or upgrade your OS."):(s.clear(),s.add(this.getPrimeInventory(e).inventoryID)):!this.iOSError()&&s.clear()},PrimeSelection.prototype.nextClicked=function(){0<this.selectedPlan()?this.parent.onPrimeSelection():this.parent.finish()},PrimeSelection.prototype.seeMoreClicked=function(){this.seeMore(!this.seeMore())},a.exports=PrimeSelection}),define("ui.onboarding.ProfileStart",function(e,t,a){function FieldInformation(e,t){var a=this,o=this;this.finishLoading=ko.observable(!1),this.showFullFlow="undefined"==typeof t.showFullFlow?1==window.user.prime.status:t.showFullFlow,this.profileStartTitle=t.profileStartTitle||"You're on your way to a more efficient study routine!",this.showProfileStartTitle=t.showProfileStartTitle,this.isModal=t.isModal||!1,this.fieldType=ko.observable("Student"),this.schools=t.schools||window.schools||[],this.schools.push({formalName:"Other",nickname:"",location:""}),this.professions=[{name:"Medicine (MD)",market:"Primary",statuses:["Graduated","Intern (PGY1)","Resident (PGY2 and later)","Fellow","Attending","Faculty","Other"],specialties:c,classYears:d},{name:"Medicine (DO)",market:"Primary",statuses:["Graduated","Intern (PGY1)","Resident (PGY2 and later)","Fellow","Attending","Faculty","Other"],specialties:c,classYears:d},{name:"Medicine (MD/PhD)",market:"Primary",statuses:["Graduated","Intern (PGY1)","Resident (PGY2 and later)","Fellow","Attending","Faculty","Other"],specialties:c,classYears:d},{name:"Medicine (MBBS)",market:"Primary",statuses:["Graduated","Other","Faculty","Consultant","Registrar","Senior House Officer","Foundation Doctor"],specialties:c,classYears:filterClassYears([2,3,4,5,6,7,8,9,10,11,12,13])},{name:"Medicine (MBChB)",market:"Primary",statuses:["Graduated","Other","Consultant","Faculty","Foundation Doctor","Core Medical Trainee","Core Surgical Trainee","Specialist Trainee","General Practice Trainee"],specialties:c,classYears:filterClassYears([2,3,4,5,6,7,8,9,10,11,12,13])},{name:"Dentistry",market:"Primary",statuses:["Graduated","Resident","Practicing Dentist","Faculty","Other"],specialties:[{name:"Dental Public Health",subSpecialties:[]},{name:"Endodontics",subSpecialties:[]},{name:"Oral and Maxillofacial Pathology",subSpecialties:[]},{name:"Oral and Maxillofacial Radiology",subSpecialties:[]},{name:"Oral and Maxillofacial Surgery",subSpecialties:[]},{name:"Orthodontics and Dentofacial Orthopedics",subSpecialties:[]},{name:"Pediatric Dentistry",subSpecialties:[]},{name:"Periodontics",subSpecialties:[]},{name:"Prosthodontics",subSpecialties:[]},{name:"Other / Not Sure",subSpecialties:[]}],classYears:d},{name:"Pharmacy",market:"Primary",statuses:s,specialties:[],classYears:d},{name:"Physical Therapy",market:"Primary",statuses:s,specialties:[],classYears:d},{name:"Physician Assistant",market:"Primary",statuses:s,specialties:[],classYears:filterClassYears([1,2,3,4,5,6,7,0])},{name:"Podiatry",market:"Primary",statuses:s,specialties:[],classYears:d},{name:"Registered Nursing",market:"Primary",statuses:s,specialties:[],classYears:filterClassYears([1,2,3,4,5,6,7,0])},{name:"Nurse Practitioner",market:"Primary",statuses:s,specialties:[],classYears:filterClassYears([1,2,3,4,5,6,7,0])},{name:"Veterinary Medicine",market:"Primary",statuses:s,specialties:[],classYears:d},{name:"Faculty",market:"Primary",statuses:[],specialties:[],classYears:[]},{name:"Other",market:"Primary",statuses:[],specialties:[],classYears:[]}];for(var l=0;l<n.length;l++)this.professions.push({name:n[l],market:"Secondary",statuses:s,specialties:[],classYears:d});for(var p in this.otherFields=["Family","Friend","Patient"],this.usersInput={profession:ko.observable(void 0),secondaryProfession:ko.observable(void 0),status:ko.observable(void 0),specialty:ko.observable(void 0),subSpecialty:ko.observable(void 0),school:ko.observable(void 0),classYear:ko.observable(void 0),otherField:ko.observable(void 0)},this.usersFieldInfo={profession:ko.observable(void 0),secondaryProfession:ko.observable(void 0),status:ko.observable(void 0),specialty:ko.observable(void 0),subSpecialty:ko.observable(void 0),school:ko.observable(void 0),classYear:ko.observable(void 0),otherField:ko.observable(void 0)},this.usersInput.school.subscribe(function(e){o.usersFieldInfo.school(e)}),this.fieldType.subscribe(function(e){"Student"===e&&"Faculty"===a.usersInput.profession()&&a.usersInput.profession(void 0)}),this.usersInput)this.usersInput[p].subscribe(this.getUsersInputUpdatedFunction(p));this.usersFieldInfo.professionObject=ko.computed(function(){var e=o.usersFieldInfo.profession();return"Other"===e&&(e=o.usersFieldInfo.secondaryProfession()),e?_.findWhere(o.professions,{name:e}):void 0}),this.usersFieldInfo.needsSecondaryProfession=ko.computed(function(){return"Other"===o.usersFieldInfo.profession()}),this.usersFieldInfo.needsSchool=ko.computed(function(){return"Student"===o.fieldType()||"Faculty"===o.usersFieldInfo.profession()}),this.usersFieldInfo.market=ko.computed(function(){return o.usersFieldInfo.professionObject()?o.usersFieldInfo.professionObject().market:""}),this.usersFieldInfo.statuses=ko.computed(function(){return o.usersFieldInfo.professionObject()?o.usersFieldInfo.professionObject().statuses:[]}),this.usersFieldInfo.statuses.subscribe(function(e){~_.indexOf(e,o.usersFieldInfo.status())||(o.usersFieldInfo.status(void 0),o.usersInput.status(void 0))}),this.usersFieldInfo.specialties=ko.computed(function(){return o.usersFieldInfo.professionObject()?o.usersFieldInfo.professionObject().specialties:[]}),this.usersFieldInfo.specialties.subscribe(function(e){_.findWhere(e,{name:o.usersFieldInfo.specialty()})||(o.usersFieldInfo.specialty(void 0),o.usersInput.specialty(void 0))}),this.usersFieldInfo.subSpecialties=ko.computed(function(){return o.usersFieldInfo.specialty()?_.findWhere(o.usersFieldInfo.professionObject().specialties,{name:o.usersFieldInfo.specialty()}).subSpecialties:[]}),this.usersFieldInfo.subSpecialties.subscribe(function(e){~_.indexOf(e,o.usersFieldInfo.subSpecialty())||(o.usersFieldInfo.subSpecialty(void 0),o.usersInput.subSpecialty(void 0))}),this.usersFieldInfo.needsStatus=ko.computed(function(){return o.usersFieldInfo.professionObject()&&0<o.usersFieldInfo.professionObject().statuses.length}),this.usersFieldInfo.needsSpecialty=ko.computed(function(){return o.usersFieldInfo.professionObject()&&0<o.usersFieldInfo.professionObject().specialties.length}),this.usersFieldInfo.needsSubSpecialty=ko.computed(function(){return o.usersFieldInfo.needsSpecialty()&&o.usersFieldInfo.specialty()&&0<_.findWhere(o.usersFieldInfo.professionObject().specialties,{name:o.usersFieldInfo.specialty()}).subSpecialties.length}),this.usersFieldInfo.classYears=ko.computed(function(){return o.usersFieldInfo.professionObject()?o.usersFieldInfo.professionObject().classYears:[]}),this.usersFieldInfo.classYears.subscribe(function(e){~_.indexOf(e,o.usersFieldInfo.classYear())||(o.usersFieldInfo.classYear(void 0),o.usersInput.classYear(void 0))}),this.usersFieldInfo.needsClassYears=ko.computed(function(){return o.usersFieldInfo.professionObject()&&0<o.usersFieldInfo.professionObject().classYears.length}),this.flowState=ko.computed(function(){switch(o.fieldType()){case"Student":return o.usersFieldInfo.profession()?o.usersFieldInfo.needsSecondaryProfession()&&!o.usersFieldInfo.secondaryProfession()?1:o.usersFieldInfo.school()?o.usersFieldInfo.needsClassYears()&&void 0===o.usersFieldInfo.classYear()?3:4:2:0;case"Professional":return o.usersFieldInfo.profession()?o.usersFieldInfo.needsSecondaryProfession()&&!o.usersFieldInfo.secondaryProfession()?1:o.usersFieldInfo.needsSchool()&&!o.usersFieldInfo.school()?2:o.usersFieldInfo.needsStatus()&&!o.usersFieldInfo.status()?3:o.usersFieldInfo.needsSpecialty()&&!o.usersFieldInfo.specialty()?4:o.usersFieldInfo.needsSubSpecialty()&&!o.usersFieldInfo.subSpecialty()?5:6:0;case"Other":return o.usersFieldInfo.otherField()?1:0;default:}}),this.flowCompleted=ko.computed(function(){switch(o.fieldType()){case"Student":return 4<=o.flowState();case"Professional":return 6<=o.flowState();case"Other":return 1<=o.flowState();default:}}),this.dropDownsShowAll={profession:ko.observable(!1),secondaryProfession:ko.observable(!1),school:ko.observable(!1),classYear:ko.observable(!1),status:ko.observable(!1),specialty:ko.observable(!1),subSpecialty:ko.observable(!1),otherField:ko.observable(!1)},this.dropDowns={professions:ko.computed(function(){return o.dropDownsShowAll.profession()?_.filter(o.professions,function(e){return"Primary"===e.market&&("Student"!==o.fieldType()||"Faculty"!==e.name)}):_.filter(o.professions,function(e){return"Primary"===e.market&&("Professional"===o.fieldType()||"Faculty"!==e.name)&&("Other"===e.name||o.compareSearchTerm(e.name,o.usersInput.profession()))})}),secondaryProfessions:ko.computed(function(){return o.dropDownsShowAll.secondaryProfession()?_.filter(o.professions,function(e){return"Secondary"===e.market}):_.filter(o.professions,function(e){return"Secondary"===e.market&&("Other Healthcare Support Occupation"===e.name||o.compareSearchTerm(e.name,o.usersInput.secondaryProfession()))})}),schools:ko.computed(function(){return o.dropDownsShowAll.school()?o.schools:_.filter(o.schools,function(e){return o.compareSearchTerm(e.formalName,o.usersInput.school())||o.compareSearchTerm(e.nickname,o.usersInput.school())})}),classYears:ko.computed(function(){return o.dropDownsShowAll.classYear()?o.usersFieldInfo.classYears():_.filter(o.usersFieldInfo.classYears(),function(e){return"Other"===o.classYearIDToStr(e)||o.compareSearchTerm(o.classYearIDToStr(e),o.usersInput.classYear())})}),statuses:ko.computed(function(){return o.dropDownsShowAll.status()?o.usersFieldInfo.statuses():_.filter(o.usersFieldInfo.statuses(),function(e){return"Other"===e||o.compareSearchTerm(e,o.usersInput.status())})}),specialties:ko.computed(function(){return o.dropDownsShowAll.specialty()?o.usersFieldInfo.specialties():_.filter(o.usersFieldInfo.specialties(),function(e){return"Other"===e.name||"Other / Not Sure"===e.name||o.compareSearchTerm(e.name,o.usersInput.specialty())})}),subSpecialties:ko.computed(function(){return o.dropDownsShowAll.subSpecialty()?o.usersFieldInfo.subSpecialties():_.filter(o.usersFieldInfo.subSpecialties(),function(e){return o.compareSearchTerm(o.subSpecialtyIDToStr(e),o.usersInput.subSpecialty())})}),otherFields:ko.computed(function(){return o.dropDownsShowAll.otherField()?o.otherFields:_.filter(o.otherFields,function(e){return o.compareSearchTerm(e,o.usersInput.otherField())})})},this.attendingIsVisible=ko.observable(!1),e(this),$(".field-information-control-input",this.dom).focusin(function(e){var t=$(e.target);t.siblings(".field-information-control-dropdown").removeClass("no-hover");var a=t.data("field");o.dropDownsShowAll[a](!0)}),this.showFullFlow&&fs.mix(this,"ui/ProgressBars",{steps:3,selectedIndex:0,color:"green",size:"compact"})}function filterClassYears(e){var t=moment().format("M");if(4>=t||8<=t){var a=[2,4,6,8,10,12];return _.filter(e,function(e){return!~a.indexOf(e)})}return e}var s=["Graduated","Faculty","Other"],o={0:"Other",1:"Undergrad",2:"Incoming first year",3:"First year",4:"Rising second year",5:"Second year",6:"Rising third year",7:"Third year",8:"Rising fourth year",9:"Fourth year",10:"Rising fifth year",11:"Fifth year",12:"Rising sixth year",13:"Sixth year"},d=filterClassYears([2,3,4,5,6,7,8,9,1,0]),n=["Clinical Officer","Athletic Trainer","Audiologist","Chiropractor","Clinical Laboratory Technologist or Technician","Clinical Scientist (disambiguation)","Dental Hygienist","Diagnostic Medical Sonographer","Diagnostic Radiographer","Diagnostic Related Technologists and Technician","Dietitians and Nutritionist","Emergency Medical Technician and Paramedic","Exercise Physiologist","Genetic Counselor","Health Practitioner Support Technologist or Technician","Hearing Aid Specialist","Home Health aide","Licensed Practical Nurse or Licensed Vocational Nurse","Magnetic Resonance Imaging Technologist","Massage Therapist","Medical Artist","Medical Assistant","Medical Records and Health Information Technician","Medical Transcriptionist","Mental Health Counselor","Nurse Midwife","Nursing Assistant","Advanced Practice Nurse","Occupational Therapist","Optometrist","Orthotists and Prosthetist","Phlebotomist","Pharmacy Technician","Recreational Therapist","Drug addiction counselor","Registered Dietitian","Respiratory Therapist","Speech Language Pathologist","Surgical Technologist","Veterinary Assistant or Laboratory Animal Caretaker","Veterinary Technologist or Technician","Other Healthcare Support Occupation"],l={0:"Addiction Medicine",1:"Clinical Informatics",2:"Medical Toxicology",3:"Undersea and Hyperbaric Medicine",4:"Adult Cardiothoracic",5:"Anesthesiology Critical Care Medicine",6:"Hospice and Palliative Medicine",7:"Obstetric Anesthesiology",8:"Pain Medicine",9:"Pediatric Anesthesiology",10:"Regional Anesthesiology and Acute Pain Medicine",11:"Female Pelvic Medicine and Reconstructive Surgery",12:"Gynecologic Oncology",13:"Maternal-Fetal Medicine",14:"Reproductive Endocrinology and Infertility",15:"Addiction Psychiatry",16:"Brain Injury Medicine",17:"Child and Adolescent Psychiatry",18:"Forensic Psychiatry",19:"Geriatric Psychiatry",20:"Psychosomatic Medicine",21:"Sleep Medicine",22:"Ophthalmic Plastic and Reconstructive Surgery",23:"Dermatopathology",24:"Micrographic Surgery and Dermatologic Oncology",25:"Adult Reconstructive Orthopaedic Surgery",26:"Foot and Ankle Orthopaedic Surgery",27:"Hand Surgery",28:"Musculoskeletal Oncology",29:"Orthopaedic Sports Medicine",30:"Orthopaedic Surgery of the Spine",31:"Orthopaedic Trauma",32:"Pediatric Orthopaedic Surgery",33:"Diagnostic Radiology",34:"Interventional Radiology-Integrated",35:"Abdominal Radiology",36:"Endovascular Surgical Neuroradiology",37:"Interventional Radiology",38:"Musculoskeletal Radiology",39:"Neuroradiology",40:"Nuclear Radiology",41:"Pediatric Radiology",42:"Emergency Medical Services",43:"Pediatric Emergency Medicine",44:"Sports Medicine",45:"Complex General Surgical Oncology",46:"Pediatric Surgery",47:"Surgery Critical Care",48:"Vascular Surgery",49:"Geriatric Medicine",50:"Neurotology",51:"Pediatric Otolaryngology",52:"Congenital Cardiac Surgery",53:"Adult Congenital Heart Disease",54:"Advanced Heart Failure and Transplant Cardiology",55:"Cardiovascular Disease",56:"Clinical Cardiac Electrophysiology",57:"Critical Care Medicine",58:"Endocrinology, Diabetes, and Metabolism",59:"Gastroenterology",60:"Hematology",61:"Hematology and Medical Oncology",62:"Infectious Disease",63:"Internal Medicine-Pediatrics",64:"Interventional Cardiology",65:"Medical Oncology",66:"Nephrology",67:"Pulmonary Critical Care",68:"Pulmonary Disease",69:"Rheumatology",70:"Transplant Hepatology",71:"Blood Banking/Transfusion Medicine",72:"Chemical Pathology",73:"Cytopathology",74:"Forensic Pathology",75:"Hematopathology",76:"Medical Microbiology",77:"Molecular Genetic Pathology",78:"Neuropathology",79:"Pediatric Pathology",80:"Selective Pathology",81:"Medical Biochemical Genetics",82:"Adolescent Medicine",83:"Child Abuse Pediatrics",84:"Developmental-Behavioral Pediatrics",85:"Neonatal-Perinatal Medicine",86:"Pediatric Cardiology",87:"Pediatric Critical Care Medicine",88:"Pediatric Endocrinology",89:"Pediatric Gastroenterology",90:"Pediatric Hematology Oncology",91:"Pediatric Infectious Diseases",92:"Pediatric Nephrology",93:"Pediatric Pulmonology",94:"Pediatric Rheumatology",95:"Pediatric Transplant Hepatology",96:"Pediatric Urology",97:"Neuromuscular Medicine",98:"Pediatric Rehabilitation Medicine",99:"Spinal Cord Injury Medicine",100:"Clinical Neurophysiology",101:"Epilepsy",102:"Neurodevelopmental Disabilities",103:"Vascular Neurology",104:"Craniofacial Surgery"},c=[{name:"Allergy and Immunology",subSpecialties:[]},{name:"Nuclear Medicine",subSpecialties:[]},{name:"Preventive Medicine",subSpecialties:[0,1,2,3]},{name:"Anesthesiology",subSpecialties:[0,4,5,1,6,7,8,9,10]},{name:"Obstetrics and Gynecology",subSpecialties:[0,11,12,13,14]},{name:"Psychiatry",subSpecialties:[0,15,16,17,18,19,6,20,21]},{name:"Colon and Rectal Surgery",subSpecialties:[]},{name:"Ophthalmology",subSpecialties:[22]},{name:"Radiation Oncology",subSpecialties:[6]},{name:"Dermatology",subSpecialties:[23,24]},{name:"Orthopaedic Surgery",subSpecialties:[25,26,27,28,29,30,31,32]},{name:"Radiology",subSpecialties:[33,34,35,1,36,37,38,39,40,41]},{name:"Emergency Medicine",subSpecialties:[0,1,42,2,43,44,3]},{name:"Osteopathic Neuromusculoskeletal Medicine",subSpecialties:[]},{name:"Surgery",subSpecialties:[45,27,46,47,48]},{name:"Family Medicine (General Practice)",subSpecialties:[0,1,49,6,44]},{name:"Otolaryngology",subSpecialties:[50,51]},{name:"Thoracic Surgery",subSpecialties:[52]},{name:"Internal Medicine",subSpecialties:[0,53,54,55,56,1,57,58,59,49,60,61,6,62,63,64,65,66,67,68,69,21,70]},{name:"Pathology",subSpecialties:[71,72,1,73,23,74,75,76,77,78,79,80]},{name:"Transitional Year",subSpecialties:[]},{name:"Medical Genetics and Genomics",subSpecialties:[1,81,77]},{name:"Pediatrics",subSpecialties:[0,82,83,1,84,6,63,85,86,87,43,88,89,90,91,92,93,94,95,21,44]},{name:"Urology",subSpecialties:[11,96]},{name:"Neurological Surgery",subSpecialties:[36]},{name:"Physical Medicine and Rehabilitation",subSpecialties:[16,97,8,98,99,44]},{name:"Neurology",subSpecialties:[16,100,36,101,102,97,8,21,103]},{name:"Plastic Surgery",subSpecialties:[27,104]},{name:"Other / Not Sure",subSpecialties:[]}];FieldInformation.prototype.getUsersInputUpdatedFunction=function(e){var t=this;return function(){t.usersInput[e]()!==t.usersFieldInfo[e]()&&t.usersFieldInfo[e](void 0),t.dropDownsShowAll[e](!1)}},FieldInformation.prototype.compareSearchTerm=function(e,t){return!!~e.toLowerCase().indexOf((t||"").toLowerCase())},FieldInformation.prototype.subSpecialtyIDToStr=function(e){return l[e]},FieldInformation.prototype.subSpecialtyStrToID=function(e){return _.findKey(l,function(t){return t===e})},FieldInformation.prototype.classYearIDToStr=function(e){return o[e]},FieldInformation.prototype.classYearStrToID=function(e){return _.findKey(o,function(t){return t===e})},FieldInformation.prototype.selectField=function(e,t){var a=this;return function(s,o){a.usersInput[e](t),a.usersFieldInfo[e](t);var d=$(o.target),n=d.parent();n.addClass("no-hover");var l=n.siblings(".field-information-control-input");l.blur()}},FieldInformation.prototype.finishClicked=function(e){if(this.flowCompleted()){var t=this;this.finishLoading(!0);var a={type:this.fieldType()};switch(this.fieldType()){case"Student":a.degree=this.usersFieldInfo.profession(),a.school=this.usersFieldInfo.school(),this.usersFieldInfo.needsSecondaryProfession()&&(a.secondaryProfession=this.usersFieldInfo.secondaryProfession()),this.usersFieldInfo.needsClassYears()&&(a.classYear=this.usersFieldInfo.classYear());break;case"Professional":a.degree=this.usersFieldInfo.profession(),this.usersFieldInfo.needsSecondaryProfession()&&(a.secondaryProfession=this.usersFieldInfo.secondaryProfession()),this.usersFieldInfo.needsSchool()&&(a.school=this.usersFieldInfo.school()),this.usersFieldInfo.needsStatus()&&(a.status=this.usersFieldInfo.status()),this.usersFieldInfo.needsSpecialty()&&(a.specialty=this.usersFieldInfo.specialty()),this.usersFieldInfo.needsSubSpecialty()&&(a.subSpecialty=this.subSpecialtyIDToStr(this.usersFieldInfo.subSpecialty())||this.usersFieldInfo.subSpecialty());break;case"Other":a.otherField=this.usersFieldInfo.otherField();break;default:}this.parent.submit(a,function(){t.finishLoading(!1),e&&"function"==typeof e&&e()})}},FieldInformation.prototype.attendingHasFocus=function(){},FieldInformation.prototype.attendingBlur=function(){},FieldInformation.prototype.attendingKeyup=function(){this.attendingIsVisible(!0)},a.exports=FieldInformation}),define("ui.onboarding.PurchasePage",function(e,t,a){function PurchasePage(e,t){this.showProgressBars=ko.observable(!(null!=t.showProgressBars)||t.showProgressBars),e(this),fs.mix(this,"ui/Buy",{theme:"dynamic",changePlanCB:this.changePlanCB.bind(this)}),fs.mix(this,"ui/ProgressBars",{steps:3,selectedIndex:2,color:"green",size:"compact"})}PurchasePage.prototype.changePlanCB=function(){this.parent.changePlan()},a.exports=PurchasePage}),define("ui.onboarding.Start",function(e,t,a){function Onboarding(e){var t=this;for(this.currentFormName="",this.previousFormName="",this.hasPrime=1==window.user.prime.status,this.showFullFlow=!1,this.showFullFlow&&setTimeout(function(){slack.channel("activity-start-buy","Started onboarding purchase flow")},4e3),this.subjects=ko.observableArray(),this.forms={},this.days=["Not sure"],this.months=["Not sure","January","February","March","April","May","June","July","August","September","October","November","December"],i=1;31>=i;i++)this.days.push(i);for(var a in s.fullName)this.subjects.push({subject:s.fullName[a],id:a});this.currentDropdown=ko.observable(),$(document).on("click",function(a){0==$(a.target).closest(".dropdown-selection").length&&t.currentDropdown(null)}),this.fieldUnlocked=ko.observable(!0),this.examUnlocked=ko.observable(!1),this.overviewUnlocked=ko.observable(!1),e(this),"schedule"==urlQuery.go||this.displayForm("ProfileStart"),$("header#masthead").remove(),analytics.track("Onboarding Start",{mode:"Web",query:"Start"})}var s=t("shared/topics"),o=t("app/test");Onboarding.prototype.displayForm=function(e){this.previousFormName=this.currentFormName,this.currentFormName=e;var t=$(".form-space",this.dom);fs.empty(t),this.currentForm=fs.mixAppend(t,"ui/onboarding/"+e,{parent:this,showFullFlow:this.showFullFlow}),this.forms[e]=this.currentForm},Onboarding.prototype.toggleDropdown=function(e){var t=this;return function(){return e==t.currentDropdown()?t.currentDropdown(null):(t.currentDropdown(e),$(".dropdown-selection."+e,t.dom).removeClass("error")),!1}},Onboarding.prototype.goTo=function(e,t){!t&&this.currentForm&&this.currentForm.submit&&this.currentForm.submit(),this.displayForm(e)},Onboarding.prototype.goToClick=function(e){var t=this;return function(){t.goTo(e,!0)}},Onboarding.prototype.updateCurrentSubject=function(e){var t=this;return function(){t.currentSubject(e)}},Onboarding.prototype.updateNextExam=function(e){var t=this;return function(){t.nextExam(e)}},Onboarding.prototype.sizeVideo=function(){var e=854<.65*$(window).width()?854:.65*$(window).width();992>$(window).width()&&(e=.9*$(window).width());var t=9*e/16;$(".video-section .video-container iframe").attr("width",e).attr("height",t).addClass("adjusted")};Onboarding.prototype.submit=function(e,t){var a=this,s={career:{degree:"Other"===e.degree?e.secondaryProfession:"Other"===e.type?e.otherField:e.degree,status:"Student"===e.type?e.classYear:e.status,type:"Other"===e.degree?"secondaryProfession":e.type,specialty:e.specialty,subSpecialty:e.subSpecialty},school:e.school};fs.post("updateUserProfile",{profile:s},function(){var s={mode:"Web"};for(var o in e)s[o]=e[o];analytics.track("Onboarding Start",s),slack.activity("Started Osmosis ("+e.degree+","+e.classYear+","+e.school+")"),window.Storage&&window.localStorage.setItem("showWelcomeSurvey","true"),t(),a.showFullFlow?a.displayForm("PrimeSelection"):a.finish()})},Onboarding.prototype.onPrimeSelection=function(){this.displayForm("PurchasePage")},Onboarding.prototype.onPurchaseFinished=function(){this.finish()},Onboarding.prototype.changePlan=function(){this.displayForm("PrimeSelection")},Onboarding.prototype.finish=function(){urlQuery.r&&"start"!=urlQuery.r?location.replace("/"+decodeURIComponent(urlQuery.r)):location.replace("/")},a.exports=Onboarding}),define("ui.onboardingTour",function(e,t){var a=t("ui/SimpleTour");e.start=function(){var e=new a([{element:$(".main-list .videos"),title:"The Library",text:"This is where you'll find videos, flashcards, and board-style practice questions across 18 different subjects.",position:"right"},{element:$(".secondary-section .add-tools"),shortScreenEl:$(".mobile-more-section"),title:"The Tools",theme:"orange",text:"This is where you'll find powerful add-on tools that have earned Osmosis the reputation as a one-stop shop for studying medicine.",position:"right"},{element:$("#custom-intercom-launcher"),title:"Support",theme:"pink",text:"We're here for you! If you're ever wondering about anything, just click here and we'll answer as soon as we can.",position:"left"}]);e.run()}}),define("ui.page",function(e,t,a){a.exports={}}),define("ui.pdf.Highlight",function(e,t,a){function Highlight(){this._enabled=!1,this._highlighterSize=null,this._highlighterColor=null,this.path=null,this.lines=null,this.currentSVG=null,this.currentPathID=null}function removeChild(e,t){return function(){e.removeChild(t)}}var s=t("ui/pdf/input"),o=t("ui/pdf/appendChild"),d=t("ui/pdf/coreutils"),n=t("ui/pdf/annotationStore"),l=t("ui/pdf/animationBuffer"),c=t("ui/pdf/uuid");Highlight.prototype.resetPath=function(){this.path=null,this.lines=[],this.currentSVG=null},Highlight.prototype.inputStart=function(){this.currentPathID=c(),this.resetPath()},Highlight.prototype.inputLast=function(e,t){if(1<this.lines.length&&e==this.currentSVG){var a=this.drawTo(t);a&&(this.path&&l.add(removeChild(e,this.path)),this.path=o(e,null,a))}},Highlight.prototype.inputTerminate=function(e,t){1<this.lines.length&&t.length&&n.saveBuffer({type:this.type,slideID:e,buffer:t,viewport:s._viewport,bounds:s._rect,attr:{color:this._highlighterColor,width:this._highlighterSize},pathID:this.currentPathID}),this.currentPathID=null},Highlight.prototype.inputMove=function(e,t){if(e){if(!this.currentSVG)this.currentSVG=e;else if(this.currentSVG!=e)return;var a=this.drawTo(t);a&&(this.path&&l.add(removeChild(e,this.path)),this.path=o(e,null,a))}},Highlight.prototype.drawTo=function(e){if(1<=this.lines.length){var t=.2,a=e,s=this.lines[this.lines.length-1];e.x=a.x*t+s[0]*(1-t),e.y=a.y*t+s[1]*(1-t)}return this.lines.push([e.x,e.y]),1>=this.lines.length?void 0:{type:"ui/pdf/highlighter",color:this._highlighterColor,width:this._highlighterSize,lines:this.lines,velocityEnabled:!1,uuid:this.currentPathID}},Highlight.prototype.setHighlight=function(e,t){e=e||1,t=t||"000000",this._highlighterSize=parseInt(e,10),this._highlighterColor=t},Highlight.prototype.saveHighlight=function(){this._highlighterSizeBuf=this._highlighterSize,this._highlighterColorBuf=this._highlighterColor},Highlight.prototype.restoreHighlight=function(){this._highlighterSize=this._highlighterSizeBuf,this._highlighterColor=this._highlighterColorBuf},Highlight.prototype.enableHighlighter=function(){this._enabled||(this._enabled=!0,s.assign(this),d.disableUserSelect())},Highlight.prototype.disableHighlighter=function(){this._enabled&&(this._enabled=!1,s.release(),d.enableUserSelect())},Highlight.prototype.serialize=function(e,t,a,s){var o=d.packPts(e);return d.packViewport(a,s)+":"+t.color+":"+t.width+":"+o},Highlight.prototype.deserialize=function(e,t,a){var s=[],o={color:a[1],width:a[2]};this.saveHighlight(),this.setHighlight(o.width,o.color);var n=d.unpackPts(a[3]);for(var l in this.currentPathID=t,this.resetPath(),n){var c=this.drawTo(d.scaleDownXY(d.unpackViewport(a[0]),{x:n[l][0],y:n[l][1]}));c&&s.push(c)}return this.restoreHighlight(),s.length?[s[s.length-1]]:null},a.exports=Highlight}),define("ui.pdf.Path",function(e,t,a){function Path(){this._enabled=!1,this._penSize=null,this._penColor=null,this._velocityEnabled=!1,this.path=null,this.currentPathID=null,this.segmentCount=0,this.lines=null,this.prevLines=null}var s=t("ui/pdf/input"),o=t("ui/pdf/appendChild"),d=t("ui/pdf/coreutils"),n=t("ui/pdf/uuid"),l=t("ui/pdf/annotationStore");Path.prototype.resetPath=function(){this.path=null,this.lines=[],this.segmentCount=0},Path.prototype.inputStart=function(){this.currentPathID=n(),this.resetPath()},Path.prototype.inputMove=function(e,t){var a=this.drawTo(t);a&&(path=o(e,null,a))},Path.prototype.inputLast=function(e,t){if(0==this.lines.length&&0==this.segmentCount)for(var a=0;2>=a;a++)this.lines.push([t.x+a/10,t.y+a/10]);var s=this.endPath(t);s&&(path=o(e,null,s))},Path.prototype.inputTerminate=function(e,t){t.length&&l.saveBuffer({type:this.type,slideID:e,buffer:t,viewport:s._viewport,bounds:s._rect,attr:{color:this._penColor,width:this._penSize,velocityEnabled:this._velocityEnabled},pathID:this.currentPathID,segmentCount:this.segmentCount})},Path.prototype.endPath=function(e){var t=null;if(1<this.lines.length){if(4>this.lines.length)for(i=0;3>=i;i++)this.lines[i]||this.lines.push([e.x+i/10,e.y+i/10]);t={type:"ui/pdf/pen",color:this._penColor,width:this._penSize,lines:this.lines,velocityEnabled:!1,uuid:this.currentPathID+":"+this.segmentCount}}return this.prevLines=null,t},Path.prototype.drawTo=function(e){var t=null;if(0==this.lines.length&&null!=this.prevLines){var s=this.prevLines[this.prevLines.length-1][0],o=this.prevLines[this.prevLines.length-1][1];this.lines.push([s,o]);var d=2*s-this.prevLines[this.prevLines.length-2][0],n=2*o-this.prevLines[this.prevLines.length-2][1];this.lines.push([d,n]),this.prevLines=null}if(1<=this.lines.length){var l=.4,a=e,c=this.lines[this.lines.length-1];e.x=a.x*l+c[0]*(1-l),e.y=a.y*l+c[1]*(1-l)}return(this.lines.push([e.x,e.y]),!(1>=this.lines.length))?(4<=this.lines.length&&(t={type:this.type,color:this._penColor,width:this._penSize,lines:this.lines,velocityEnabled:this._velocityEnabled,uuid:this.currentPathID+":"+this.segmentCount},this.segmentCount++,this.prevLines=this.lines,this.lines=[]),t):void 0},Path.prototype.setPath=function(e,t){e=e||1,t=t||"000000",this._penSize=parseInt(e,10),this._penColor=t},Path.prototype.savePath=function(){this._penSizeBuf=this._penSize,this._penColorBuf=this._penColor},Path.prototype.restorePath=function(){this._penSize=this._penSizeBuf,this._penColor=this._penColorBuf},Path.prototype.enable=function(){this._enabled||(this._enabled=!0,s.assign(this),d.disableUserSelect())},Path.prototype.disable=function(){this._enabled&&(this._enabled=!1,s.release(),d.enableUserSelect())},Path.prototype.serialize=function(e,t,a,s){var o=d.packPts(e);return d.packViewport(a,s)+":"+t.color+":"+t.width+":"+o},Path.prototype.deserialize=function(e,t,a){var s=[],o={color:a[1],width:a[2],velocityEnabled:this.velocityEnabled};this.savePath(),this.setPath(o.width,o.color);var n=d.unpackPts(a[3]);this.currentPathID=t,this.segmentCount=0,this.resetPath();for(var l=0,c;l<n.length-1;l++)c=this.drawTo(d.scaleDownXY(d.unpackViewport(a[0]),{x:n[l][0],y:n[l][1]})),c&&s.push(c);var c=this.endPath(d.scaleDownXY(d.unpackViewport(a[0]),{x:n[n.length-1][0],y:n[n.length-1][1]}));return c&&s.push(c),this.restorePath(),s},a.exports=Path}),define("ui.pdf.animationBuffer",function(e){function refreshSVG(){window.isMobileApp&&$(".redraw-svg svg.doc-page-svg").each(function(e,t){t.style.webkitTransform="translate3d(0, 0, 0)"})}function draw(){t.length&&e.run(),"running"==a&&window.requestAnimationFrame(draw)}var t=[];e.add=function(e){t.push(e)},e.run=function(){for(var e in t){var a=t[e];a()}t=[],refreshSVG()};var a="paused";e.play=function(){"paused"==a&&(a="running",window.requestAnimationFrame(draw))},e.pause=function(){a="paused"}}),define("ui.pdf.annotationStore",function(e,t){function StoredSlide(){this.id=0,this.annotations=[]}function lookup(e,t,a){if(!(t in e)){a=a||Object;var s=new a;e[t]=s}else var s=e[t];return s}function persistToServer(e,t,a){d++,$.ajax({type:"POST",url:window.isMobileApp?authURL("appendAnnotation"):"/appendAnnotation",dataType:"json",data:{annotations:t},timeout:3e4,success:function success(){for(var t in e)localStorage.removeItem(e[t]);d--,setTimeout(function(){a&&a()},50)},error:function error(){d--}})}function append(t,a,s){e.cacheAnnotation(t,s);var o="annotation/"+a+"::"+t;localStorage.setItem(o,s),persistToServer([o],[{nodeID:t,annotation:s}])}function addDeletedSegment(e,t,a){if(!(t in e)){var s=a?[a]:[];e[t]=s}else e[t].push(a)}var a=t("ui/pdf/renderMapping"),s=t("ui/pdf/uuid"),o=t("ui/pdf/coreutils"),d=0,n={};e.init=function(){for(var t=0,a;t<localStorage.length;t++)if(a=localStorage.key(t),~a.indexOf("annotation/")){var s=localStorage.getItem(a),o=a.split("::")[1];e.cacheAnnotation(o,s)}},e.sync=function(e){function next(){d||(c<t.length&&persistToServer(t[c].keys,t[c].annotations,next),c++)}for(var t=[],a={keys:[],annotations:[]},s=0,o;s<localStorage.length;s++)if(o=localStorage.key(s),~o.indexOf("annotation/")){var n=localStorage.getItem(o),l=o.split("::")[1];a.keys.push(o),a.annotations.push({nodeID:l,annotation:n}),e&&e({nodeID:l,annotation:n}),0==a.keys.length%10&&(t.push(a),a={keys:[],annotations:[]})}a.keys.length&&t.push(a);var c=0;next()},e.cacheAnnotation=function(e,t){var a=lookup(n,e,StoredSlide);a.id=e,~a.annotations.indexOf(t)||a.annotations.push(t)},e.getAnnotations=function(e){var s=[],d={},l=lookup(n,e,StoredSlide);if(l.annotations.length){var c=l.annotations;for(var p in c){var u=c[p].split(":"),m=u[0],v=o.unpackUUID(u[1]);if("e"!=m){var b=t(a.deserialize[m]),h=b.deserialize(a.deserialize[m],v,u.slice(2));for(var g in h)s.push(h[g])}else{var b=t(a.deserialize.e),f=b.deserialize(u[2]);if(f.length)for(var p in f)d[v+":"+f[p]]=!0;else d[v]=!0}}return{annotations:s,removed:d}}return null},e.clearCache=function(){n={},e.init()},e.saveBuffer=function(e){var s=e.buffer;if(s.length){var d=s[0],n=t(e.type),l=a.serialize[e.type];append(e.slideID,e.pathID,l+":"+o.packUUID(e.pathID)+":"+n.serialize(s,e.attr,e.viewport,e.bounds))}s.length=0},e.erase=function(e){var d=e.removedIDs,n={};for(var l in d){var c=d[l].split(":");2==c.length?addDeletedSegment(n,c[0],c[1]):addDeletedSegment(n,c[0])}var p=t(a.deserialize.e);for(var u in n)append(e.slideID,s(),"e:"+o.packUUID(u)+":"+p.serialize(n[u]))}}),define("ui.pdf.appendChild",function(e,t,a){function getTranslation(e){var t,a;switch(e.rotation%360){case 0:t=a=0;break;case 90:t=0,a=-1*e.width;break;case 180:t=-1*e.width,a=-1*e.height;break;case 270:t=-1*e.height,a=0;}return{x:t,y:a}}function transform(e,t){var a=getTranslation(t),o="path"===e.nodeName.toLowerCase()&&e.parentNode&&"0 0 1000 1000"===e.parentNode.getAttribute("viewBox");if(o&&0!==a.x&&(a.x=-1e3),o&&0!==a.y&&(a.y=-1e3),e.setAttribute("transform","scale("+t.scale+") rotate("+t.rotation+") translate("+a.x+", "+a.y+")"),!c&&"svg"===e.nodeName.toLowerCase()){e.setAttribute("x",parseInt(e.getAttribute("x"),10)*t.scale),e.setAttribute("y",parseInt(e.getAttribute("y"),10)*t.scale);var d=parseInt(e.getAttribute("x",10)),n=parseInt(e.getAttribute("y",10)),l=parseInt(e.getAttribute("width"),10),p=parseInt(e.getAttribute("height"),10),u=e.querySelector("path"),m=u.parentNode;switch([e,m,u,e.querySelector("rect")].forEach(function(e){e.setAttribute("width",parseInt(e.getAttribute("width"),10)*t.scale),e.setAttribute("height",parseInt(e.getAttribute("height"),10)*t.scale)}),transform(u,s({},t,{scale:1})),t.rotation%360){case 90:e.setAttribute("x",t.width-n-l),e.setAttribute("y",d),m.setAttribute("x",1),m.setAttribute("y",0);break;case 180:e.setAttribute("x",t.width-d-l),e.setAttribute("y",t.height-n-p),m.setAttribute("y",2);break;case 270:e.setAttribute("x",n),e.setAttribute("y",t.height-d-p),m.setAttribute("x",-1),m.setAttribute("y",0);}}return e}function requestAppend(e,t,a){return function(){e.appendChild(transform(t,a))}}var s=t("core/objectAssign"),o=t("ui/pdf/renderPath"),d=t("ui/pdf/coreutils"),n=t("ui/pdf/annotationStore"),l=t("ui/pdf/animationBuffer"),c=/firefox/i.test(navigator.userAgent);a.exports=function(e,t,a,s,d){s||(s=JSON.parse(e.getAttribute("data-pdf-annotate-viewport"))),s.rotation=0;var n;switch(a.type){case"custom":n=d;break;default:n=o(a);}return n&&(n.setAttribute("data-pdf-annotate-id",a.uuid),n.setAttribute("data-pdf-annotate-type",a.type),n.setAttribute("aria-hidden",!0),l.add(requestAppend(e,n,s)),t&&t.push(a)),n}}),define("ui.pdf.base64",function(e){var t=String.fromCharCode;function removePaddingChars(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(e.length-1));return 64==t?e.substring(0,e.length-1):e}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(e.encode=function(e){for(var t="",s=new Uint8Array(e.buffer),o=s.byteLength,n=o%3,l=o-n,p=0,u,m,v,h,g;p<l;p+=3)g=s[p]<<16|s[p+1]<<8|s[p+2],u=(16515072&g)>>18,m=(258048&g)>>12,v=(4032&g)>>6,h=63&g,t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[u]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[v]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[h];return 1==n?(g=s[l],u=(252&g)>>2,m=(3&g)<<4,t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[u]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m]+"=="):2==n&&(g=s[l]<<8|s[l+1],u=(64512&g)>>10,m=(1008&g)>>4,v=(15&g)<<2,t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[u]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[v]+"="),t},e.decode=function(e){e=removePaddingChars(e),e=removePaddingChars(e);var t=parseInt(3*(e.length/4),10),s=new Uint8Array(t),o=0,d=0,n,l,c,p,u,m,v;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),o=0;o<t;o+=3)p=a.indexOf(e.charAt(d++)),u=a.indexOf(e.charAt(d++)),m=a.indexOf(e.charAt(d++)),v=a.indexOf(e.charAt(d++)),n=p<<2|u>>4,l=(15&u)<<4|m>>2,c=(3&m)<<6|v,s[o]=n,64!=m&&(s[o+1]=l),64!=v&&(s[o+2]=c);return s.buffer},!window.atob){var s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];window.atob=function(e){if(/(=[^=]+|={3,})$/.test(e))throw new Error("String contains an invalid character");e=e.replace(/=/g,"");var s=3&e.length;if(1==s)throw new Error("String contains an invalid character");for(var o=0,n=0,l=e.length/4,p=[];o<l;++o){var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[n++]||"A"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[n++]||"A"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[n++]||"A"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[n++]||"A");if(0>(u|a|m|c))throw new Error("String contains an invalid character");p[p.length]=255&(u<<2|a>>4),p[p.length]=255&(a<<4|m>>2),p[p.length]=255&(m<<6|c)}return t.apply(null,p).substr(0,p.length+s-4)},window.btoa=function(e){for(var t=0,o=0,d=e.length/3,n=[];t<d;++t){var l=e.charCodeAt(o++),a=e.charCodeAt(o++),p=e.charCodeAt(o++);if(255<(l|a|p))throw new Error("String contains an invalid character");n[n.length]=s[l>>2]+s[63&l<<4|a>>4]+(isNaN(a)?"=":s[63&a<<2|p>>6])+(isNaN(a+p)?"=":s[63&p])}return n.join("")}}e.hexTo64=function(e){return btoa(t.apply(null,e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))},e.toHex=function(e){for(var t=0,a=atob(e.replace(/[ \r\n]+$/,"")),s=[],o;t<a.length;++t)o=a.charCodeAt(t).toString(16),1===o.length&&(o="0"+o),s[s.length]=o;return s.join(" ")}}),define("ui.pdf.coreutils",function(e,t){var a=Math.round;function cacheElementLocations(){o=document.querySelectorAll("svg[data-pdf-annotate-container=\"true\"]"),d=[];for(var e=0,t=o.length,a;e<t;e++)a=o[e],d.push(a.getBoundingClientRect())}function findSVGAtPoint(e,t){for(var a=o||document.querySelectorAll("svg[data-pdf-annotate-container=\"true\"]"),s=0,n=a.length;s<n;s++){var l=a[s],c=d[s]||l.getBoundingClientRect();if(pointIntersectsRect(e,t,c))return l}return null}function pointIntersectsRect(e,t,a){return t>=a.top&&t<=a.bottom&&e>=a.left&&e<=a.right}function getOffsetAnnotationRect(e){var t=getAnnotationRect(e),a=getOffset(e);return{top:t.top+a.offsetTop,left:t.left+a.offsetLeft,right:t.right+a.offsetLeft,bottom:t.bottom+a.offsetTop}}function getAnnotationRect(e){var t=0,a=0,s=0,o=0,d=e.getBoundingClientRect(),n=16;switch(e.nodeName.toLowerCase()){case"path":var l,c,u,m;e.getAttribute("d").replace(/Z/,"").split("M").splice(1).forEach(function(e){var t=e.split(" ").map(function(e){return parseInt(e,10)});("undefined"==typeof l||t[0]<l)&&(l=t[0]),("undefined"==typeof c||t[2]>c)&&(c=t[2]),("undefined"==typeof u||t[1]<u)&&(u=t[1]),("undefined"==typeof m||t[3]>m)&&(m=t[3])}),t=m-u,a=c-l,s=l,o=u;break;case"line":t=parseInt(e.getAttribute("y2"),10)-parseInt(e.getAttribute("y1"),10),a=parseInt(e.getAttribute("x2"),10)-parseInt(e.getAttribute("x1"),10),s=parseInt(e.getAttribute("x1"),10),o=parseInt(e.getAttribute("y1"),10),0===t&&(t+=n,o-=n/2);break;case"text":t=d.height,a=d.width,s=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10)-t;break;case"g":var v=getOffset(e);t=d.height,a=d.width,s=d.left-v.offsetLeft,o=d.top-v.offsetTop,"strikeout"===e.getAttribute("data-pdf-annotate-type")&&(t+=n,o-=n/2);break;case"rect":case"svg":t=parseInt(e.getAttribute("height"),10),a=parseInt(e.getAttribute("width"),10),s=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10);}var b={top:o,left:s,width:a,height:t,right:s+a,bottom:o+t};return["svg","g"].includes(e.nodeName.toLowerCase())||(b=scaleUp(findSVGAtPoint(d.left,d.top),b)),b}function scaleUp(e,t){var a={},s=getMetadata(e).viewport;return Object.keys(t).forEach(function(e){a[e]=t[e]*s.scale}),a}function getOffset(e){for(var t=e;(t=t.parentNode)&&t!==document&&!("SVG"===t.nodeName.toUpperCase()););var a=t.getBoundingClientRect();return{offsetLeft:a.left,offsetTop:a.top}}function getMetadata(e){return{documentId:parseInt(e.getAttribute("docnodeid"),10),slideNodeID:parseInt(e.getAttribute("slidenodeid"),10),viewport:JSON.parse(e.getAttribute("data-pdf-annotate-viewport"))}}function packDecimal(e,t,s){var o=s.toFixed(2).split("."),d=new Int16Array([a(+o[0])]);d=new Uint8Array(d.buffer);var n=a(+o[1]);e[t]=d[0],e[t+1]=d[1],e[t+2]=n}function unpackDecimal(e,t){var a=new Uint8Array(2);return a[0]=e[t],a[1]=e[t+1],a=new Int16Array(a.buffer),+(a[0]+"."+e[t+2])}var s=t("ui/pdf/base64");e.BORDER_COLOR="#00BFFF",e.findSVGContainer=function(e){for(var t=e;(t=t.parentNode)&&t!==document;)if("SVG"===t.nodeName.toUpperCase()&&"true"===t.getAttribute("data-pdf-annotate-container"))return t;return null};var o=null,d=[];e.cacheElementLocations=cacheElementLocations,e.findSVGAtPoint=findSVGAtPoint,e.findAnnotationAtPoint=function(e,t){var a=findSVGAtPoint(e,t);if(a){for(var s=a.querySelectorAll("[data-pdf-annotate-type]"),o=0,d=s.length,n;o<void 0;o++)if(n=s[o],pointIntersectsRect(e,t,getOffsetAnnotationRect(n)))return n;return null}},e.pointIntersectsRect=pointIntersectsRect,e.getOffsetAnnotationRect=getOffsetAnnotationRect,e.getAnnotationRect=getAnnotationRect,e.scaleUp=scaleUp,e.scaleDownBySVG=function(e,t){var a={},s=getMetadata(e).viewport;return Object.keys(t).forEach(function(e){a[e]=t[e]/s.scale}),a},e.scaleDownXY=function(e,t){return{x:(t.x-e.left)/e.scale,y:(t.y-e.top)/e.scale}},e.getScroll=function(e){for(var t=0,a=0,s=e;(s=s.parentNode)&&s!==document;)t+=s.scrollTop,a+=s.scrollLeft;return{scrollTop:t,scrollLeft:a}},e.getOffset=getOffset,e.disableUserSelect=function(){$("body").addClass("no-user-select")},e.enableUserSelect=function(){$("body").removeClass("no-user-select")},e.getMetadata=getMetadata,e.packPts=function(e){var t=new Uint16Array(2*e.length);for(var o in e)t[2*o]=a(e[o][0]),t[2*o+1]=a(e[o][1]);return s.encode(t)},e.cloneTemplate=function(e){var t={};for(var a in e)t[a]=e[a];return t},e.unpackPts=function(e){for(var t=[],a=new Uint16Array(s.decode(e)),o=0;o<Math.floor(a.length/2);o++)t.push([a[2*o],a[2*o+1]]);return t},e.packViewport=function(e,t){var a=new Uint8Array(12);return packDecimal(a,0,t.left),packDecimal(a,3,t.top),packDecimal(a,6,e.width),packDecimal(a,9,e.viewBox[2]),s.encode(a)},e.unpackViewport=function(e){var t=new Uint8Array(s.decode(e));return{left:unpackDecimal(t,0),top:unpackDecimal(t,3),scale:unpackDecimal(t,6)/unpackDecimal(t,9)}},e.packUUID=function(e){return s.hexTo64(e.replace(/\-/g,""))},e.unpackUUID=function(e){var t=s.toHex(e).split(" ");return t.slice(0,4).join("")+"-"+t.slice(4,6).join("")+"-"+t.slice(6,8).join("")+"-"+t.slice(8,10).join("")+"-"+t.slice(10,16).join("")}}),define("ui.pdf.edit",function(e,t){var s=Math.sqrt;function inputMove(e,t){b&&(b.updateEraser(e,t,8),b.eraseIntersections())}function inputTerminate(e){b&&(b.eraseIntersections(),b.destroyEraser(),c.erase({slideID:e,removedIDs:m}))}function inputStart(e,t){b=new v(e,t,8),m=[],h=e}var o=t("ui/pdf/appendChild"),d=t("ui/pdf/input"),n=t("ui/pdf/coreutils"),l=t("ui/pdf/setAttributes"),c=t("ui/pdf/annotationStore"),p=t("ui/pdf/base64"),u=!1,m=[],v=function Eraser(e,t,a){this.destroyEraser(),this.updateEraser(e,t,a)},b,h;v.prototype.updateEraser=function(e,t,a){b&&(this.eraser={x:t.x,y:t.y,size:a},e!=h&&(h=e))},v.prototype.destroyEraser=function(){this.eraser=null},v.prototype.eraseIntersections=function(){if(this.eraser){var e=[];$("path",$(h)).each(function(){var t=$(this).attr("data-d-orig").replace(/M/g,"").replace(/Z/g,"").split(" ");for(var a in t)0==(+a+1)%4&&e.push({x1:t[a-3],y1:t[a-2],x2:t[a-1],y2:t[a],el:$(this),id:$(this).attr("data-pdf-annotate-id")})});var t=JSON.parse($(h).attr("data-pdf-annotate-viewport")).scale;for(var o in e)if(!(0<=m.indexOf(e[o].id))){var n=e[o].el,l={x:+e[o].x1,y:+e[o].y1},a={x:+e[o].x2,y:+e[o].y2},p={x:this.eraser.x,y:this.eraser.y},c=this.eraser.size,u=n.attr("stroke-width")*t/2,v=s((l.x-p.x)*(l.x-p.x)+(l.y-p.y)*(l.y-p.y)),b=s((a.x-p.x)*(a.x-p.x)+(a.y-p.y)*(a.y-p.y));if(v<=c+u||b<=c+u){n.remove(),m.push(e[o].id);continue}var g={x:p.x-l.x,y:p.y-l.y},f={x:a.x-l.x,y:a.y-l.y},w=s(f.x*f.x+f.y*f.y),S=g.x*f.x+g.y*f.y,q={x:f.x*S/(w*w),y:f.y*S/(w*w)},C={x:q.x+l.x,y:q.y+l.y},d=s((C.x-p.x)*(C.x-p.x)+(C.y-p.y)*(C.y-p.y));if(d<=c+u){var D=s((l.x-C.x)*(l.x-C.x)+(l.y-C.y)*(l.y-C.y)),T=s((a.x-C.x)*(a.x-C.x)+(a.y-C.y)*(a.y-C.y));if(D<w&&T<w){n.remove(),m.push(e[o].id);continue}}}}},e.enableEdit=function(){u||(u=!0,d.assign({inputStart:inputStart,inputMove:inputMove,inputLast:function inputLast(){},inputTerminate:inputTerminate}),n.disableUserSelect())},e.disableEdit=function(){b&&b.destroyEraser();u&&(u=!1,d.release(),n.enableUserSelect())},e.serialize=function(e){var t=new Uint16Array(e.length);for(var a in e)t[a]=e[a];return p.encode(t)},e.deserialize=function(e){for(var t=[],a=new Uint16Array(p.decode(e)),s=0;s<a.length;s++)t.push(a[s]);return t}}),define("ui.pdf.highlighter",function(e,t,a){var s=t("ui/pdf/Highlight");a.exports=new s,a.exports.type="ui/pdf/highlighter"}),define("ui.pdf.input",function(e,t){function getSlideID(e,t){var s=a.findSVGAtPoint(e,t);return s?$(s).attr("slidenodeid"):0}function getPointTarget(t,s){var o=a.findSVGAtPoint(t,s);if(!o)return{};e._viewport=a.getMetadata(o).viewport,e._rect=o.getBoundingClientRect();var d=a.scaleDownBySVG(o,{x:t-e._rect.left,y:s-e._rect.top});return{svg:o,point:d}}function handleInputdown(t,e){if(n=e,!!$(t.target).parents(window.isMobileApp?".ui-Document":".page").length){a.cacheElementLocations();var l=n?t.pageX||t.touches[0].pageX:t.pageX,c=n?t.pageY||t.touches[0].pageY:t.pageY,p=getPointTarget(l,c);p.svg&&(t.preventDefault(),document.addEventListener(n?"touchmove":"mousemove",handleInputmove),document.addEventListener(n?"touchend":"mouseup",handleInputup),d=$(p.svg).attr("slidenodeid"),o=[],s.inputStart(p.svg,p.point))}}function handleMousedown(t){l&&handleTerminate(),handleInputdown(t,!1)}function handleTouchstart(t){l&&handleTerminate(),handleInputdown(t,!0)}function handleInputmove(t){t.preventDefault(),t.stopPropagation();var e=n?t.pageX||t.touches[0].pageX:t.pageX,a=n?t.pageY||t.touches[0].pageY:t.pageY,l=getSlideID(e,a);if(!l||d!=l)return handleTerminate();var c=getPointTarget(e,a);c.svg&&(s.inputMove(c.svg,c.point),o.push([e,a]))}function handleInputup(t){t.preventDefault();var e=n?t.pageX||t.changedTouches[0].pageX:t.pageX,a=n?t.pageY||t.changedTouches[0].pageY:t.pageY,d=getPointTarget(e,a);if(d.svg&&(s.inputLast(d.svg,d.point),o.push([e,a]),1==o.length&&s.type&&0>s.type.indexOf("ighlighter")))for(var l=0;2>=l;l++)o.push([e+l/10,a+l/10]);handleTerminate()}function handleTerminate(){s.inputTerminate(d,o),d=0,o=[],document.removeEventListener(n?"touchmove":"mousemove",handleInputmove),document.removeEventListener(n?"touchend":"mouseup",handleInputup),l=!1}var a=t("ui/pdf/coreutils"),s=null,o=[],d=0,n=!1,l=!1;e.assign=function(e){s=e,document.addEventListener("touchstart",handleTouchstart),document.addEventListener("mousedown",handleMousedown)},e.release=function(){document.removeEventListener("touchstart",handleTouchstart),document.removeEventListener("mousedown",handleMousedown)}}),define("ui.pdf.lineHighlighter",function(e,t,a){function LineHighlighter(){s.call(this),this.type="ui/pdf/lineHighlighter"}var s=t("ui/pdf/Highlight"),o=t("ui/pdf/input"),d=t("ui/pdf/annotationStore");fs.extend(LineHighlighter,s),LineHighlighter.prototype.drawTo=function(e){return 0>=this.lines.length?(this.lines.push([e.x,e.y]),startPoint=e):1==this.lines.length?this.lines.push([e.x,startPoint.y]):(this.lines.pop(),this.lines.push([e.x,startPoint.y])),1>=this.lines.length?void 0:2==this.lines.length?{type:this.type,color:this._highlighterColor,width:this._highlighterSize,lines:this.lines,velocityEnabled:!1,simpleHighlighter:!0,uuid:this.currentPathID}:void 0},LineHighlighter.prototype.inputTerminate=function(e,t){if(2<=t.length){var a=t[0],s=t[t.length-1];d.saveBuffer({type:this.type,slideID:e,buffer:[[a[0],a[1]],[s[0],a[1]]],viewport:o._viewport,bounds:o._rect,attr:{color:this._highlighterColor,width:this._highlighterSize},pathID:this.currentPathID})}this.currentPathID=null},a.exports=new LineHighlighter}),define("ui.pdf.normalizeColor",function(e,t,a){var s=/^([a-f0-9]{6}|[a-f0-9]{3})$/i;a.exports=function(e){return s.test(e)&&(e="#"+e),e}}),define("ui.pdf.pen",function(e,t,a){function Pen(){s.call(this),this.type="ui/pdf/pen",this._velocityEnabled=!0}var s=t("ui/pdf/Path");fs.extend(Pen,s),a.exports=new Pen}),define("ui.pdf.pencil",function(e,t,a){function Pencil(){s.call(this),this.type="ui/pdf/pencil",this._velocityEnabled=!1}var s=t("ui/pdf/Path");fs.extend(Pencil,s),a.exports=new Pencil}),define("ui.pdf.refreshSVG",function(){}),define("ui.pdf.renderIndex",function(e,t){var s=t("ui/pdf/appendChild"),o=t("ui/pdf/coreutils");e.render=function(e,t,o){return(e.innerHTML="",e.setAttribute("data-pdf-annotate-container",!0),e.setAttribute("data-pdf-annotate-viewport",JSON.stringify(t)),!o)?e:Array.isArray(o.annotations)&&0!==o.annotations.length?(o.annotations.forEach(function(d){o.removed[d.uuid]||s(e,null,d,t)}),e):e}}),define("ui.pdf.renderMapping",function(e){for(var t in e.serialize={"ui/pdf/pen":"p","ui/pdf/pencil":"c","ui/pdf/highlighter":"h","ui/pdf/lineHighlighter":"i","ui/pdf/edit":"e"},e.deserialize={},e.serialize)e.deserialize[e.serialize[t]]=t}),define("ui.pdf.renderPath",function(e,t,a){var s=Math.max,o=Math.sqrt,n=t("ui/pdf/setAttributes"),c=t("ui/pdf/normalizeColor");a.exports=function(e){function getCurrentVelocity(e,a){var s=Math.pow;if(e&&a){var n=o(s(e.x-a.x,2)+s(e.y-a.y,2)),d=0==e.t-a.t?1:e.t-a.t;return n/d}return null}function getStrokeWidth(e){return s(h/(e+1),b)}for(var t=[],a=[],d=[],p=e.width||1,u=.7,m=1,v=0,b=e.width?e.width/2:.5,h=e.width?2.5*e.width:2.5,g=p||1,f=document.createElementNS("http://www.w3.org/2000/svg","path"),w=0,S=e.lines.length;w<S;w++){var l=e.lines[w],q=e.lines[w+1];l&&d.push({x:l[0],y:l[1],t:new Date().getTime()}),q&&a.push("M"+l[0]+" "+l[1]+" "+q[0]+" "+q[1])}for(var C in e.velocityEnabled&&(m=getCurrentVelocity(d[d.length-1],d[d.length-2]),m=u*m+(1-u)*v,p=getStrokeWidth(m),v=m,g=p),d)0==C?t.push(d[C].x+","+d[C].y):1==C?4<=d.length&&t.push("C"+d[C].x+","+d[C].y):2==C?4<=d.length&&t.push(d[C].x+","+d[C].y):3==C?t.push(d[C].x+","+d[C].y):0==C%2&&t.push("S"+d[C-1].x+","+d[C-1].y+" "+d[C].x+","+d[C].y);return n(f,{d:e.simpleHighlighter?a.join(" ")+"Z":"M"+t.join(" "),"data-d-orig":a.join(" ")+"Z",stroke:c(e.color||"#000"),strokeWidth:p,"stroke-opacity":~e.type.toLowerCase().indexOf("highlighter")?"0.5":null,fill:"none","stroke-linejoin":e.simpleHighlighter?"square":"round","stroke-linecap":"ui/pdf/highlighter"==e.type||"ui/pdf/lineHighlighter"==e.type?"square":"round","shape-rendering":"optimizeQuality"}),f}}),define("ui.pdf.setAttributes",function(e,t,a){var s=/[A-Z]/g,o=["viewBox"],d=function keyCase(e){return-1===o.indexOf(e)&&(e=e.replace(s,function(e){return"-"+e.toLowerCase()})),e};a.exports=function(e,t){Object.keys(t).forEach(function(a){e.setAttribute(d(a),t[a])})}}),define("ui.pdf.uuid",function(e,t,a){function replacement(e){var t=0|16*Math.random(),a="x"==e?t:8|3&t;return a.toString(16)}var s=/[xy]/g;a.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(s,replacement)}}),define("ui.playlistQuiz",function(e,t){function generate(e,t){return{quiz:{set:"addr:"+(t+"."+e).replace(/\:/g,">")},filter:ko.observable()}}var a=t("ui/mobile/SelectorQuiz");e.create=function(e){return{ques:new a(function(){},generate("q",e)),fc:new a(function(){},generate("f",e))}}}),define("ui.plot",function(e){var t=Math.floor;function colorCodeData(e,t){var a=[];for(var s in dataTotal=0,e)dataTotal+=e[s];if(0<dataTotal)for(var s in e)a.push({data:[[1,e[s]]],color:t[s]});else a.push({data:[[1,1]],color:"#000000"});return a}var a=["24 hours","48 hours","4 days","1 week","2 weeks","3 weeks","4 weeks","2 months","6 months"],s=function tooltipManager(){var e=this;e.prevData,e.tooltip=null,e.showTooltip=function(t,a,s){e.tooltip=$("<div style=\"pointer-events:none\">"+s+"</div>").css({position:"absolute",display:"none",top:a+5,left:t+5,border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:.8,"z-index":1e4}).appendTo("body").fadeIn(200)}};e.scoreboard=function(e,o,d,n){e.css("position","relative");var l=e.css("width"),c=e.css("height"),p=$("<div id=\"OuterRing\" style=\"z-index: 0; position: absolute; left: 0px; top:0px; width:"+l+";height:"+c+"\"></div>").appendTo(e),u=$("<div id=\"InnerRing\" style=\"z-index: 0; position: absolute; left: 0px; top:0px; width:"+l+";height:"+c+"\"></div>").appendTo(e),m=$("<div style=\"text-align:center; z-index: 0; pointer-events:none; position: absolute; left: 0px; top:50%; width:"+l+";height:2em; margin-top:-1em\"></div>").appendTo(e);m.append("<div id=\"ScoreboardCounter\" class=\"fwb fsxxxl\">0</div><div class=\"fcg fss\">Remaining</div>");for(var v=["#00FF00","#00AA00","#005500","#FF0000","#AA0000","#550000","#EEE"],b=["#0000FF","#0000DD","#0000BB","#0000AA","#000088","#000066","#000055","#000044","#000033","#EEE"],h=["Correct","Incorrect"],g=["I'm Sure","I'm Feeling Lucky","No Clue"],f=[],w=0;2>w;w++)for(var S=0;3>S;S++)f.push(h[w]+" ("+g[S]+")");f.push(" new"),timeLabels=[" within 24 hours","within 48 hours","within 4 days","within 1 week","within 2 weeks","within 3 weeks","within 4 weeks","within 2 months","more than 6 months"," new"];var q=colorCodeData(o,v),C=colorCodeData(d,b),D=$.plot(p,q,{series:{pie:{innerRadius:.6,stroke:{width:"0px"},show:!0}},grid:{hoverable:!0,clickable:!0}}),T=$.plot(u,C,{series:{pie:{innerRadius:.3,radius:.5,show:!0}},grid:{hoverable:!0,clickable:!0}});u.mousemove(function(t){D.triggerHover("plothover",t)}),u.mouseup(function(t){D.triggerHover("plotclick",t)}),u.bind("plotclick",function(e,t,s){s&&(n.canFilter=!1,n.removeByType(n.inclSel,"time"),n.removeByType(n.exclSel,"time"),n.addByName(n.inclSel,a[s.seriesIndex]),0<s.seriesIndex&&n.addByName(n.exclSel,a[s.seriesIndex-1]),n.canFilter=!0,n.doFilter())}),p.bind("plotclick",function(e,a,s){s&&(n.canFilter=!1,n.removeByType(n.inclSel,"accuracy"),n.removeByType(n.inclSel,"confidence"),n.removeByType(n.exclSel,"accuracy"),n.removeByType(n.exclSel,"confidence"),6>s.seriesIndex?(n.addByName(n.inclSel,h[t(s.seriesIndex/3)]),n.addByName(n.inclSel,g[s.seriesIndex%3])):n.addByName(n.inclSel,"New Questions"),n.canFilter=!0,n.doFilter())});var I=new s,M=null,A=null;return I.hover=function(e,t,a,s,o){a?(A!=a.seriesIndex||M!=I.target)&&(A=a.seriesIndex,M=I.target,I.tooltip&&I.tooltip.remove(),I.showTooltip(t.pageX+20,t.pageY,s[a.seriesIndex]+" "+o[a.seriesIndex])):(I.tooltip&&I.tooltip.remove(),M=null,A=null)},u.bind("plothover",function(e,t,a){a&&(I.target=u,I.hover(e,t,a,d,timeLabels))}),p.bind("plothover",function(e,t,a){a&&(I.target=p,I.hover(e,t,a,o,f))}),e.mouseleave(function(){I.tooltip&&I.tooltip.remove(),M=null,A=null}),{BB:e,outer:D,inner:T}},e.responseStats=function(e,t){var a=$.plot(e,t,{series:{stack:!0,bars:{show:!0,barWidth:.6}},grid:{hoverable:!0,clickable:!0}}),o=new s,d=null,n=null;return e.bind("plothover",function(e,t,a){if(!a)o.tooltip&&o.tooltip.remove(),d=null;else if(d!=a.dataIndex||n!=a.seriesIndex){d=a.dataIndex,n=a.seriesIndex,o.tooltip&&o.tooltip.remove();var s=a.datapoint[0].toFixed(2),l=a.datapoint[1].toFixed(2);o.showTooltip(a.pageX,a.pageY,a.series.data[a.dataIndex][1])}}),e}}),define("ui.quizHighlightControl",function(e){e.isActive=ko.observable(),e.isVisible=ko.observable()}),define("ui.repeatConfig",function(e){function set(e,t){for(var a in t)e[a](t[a])}e.correct={high:ko.observable("osmosis"),med:ko.observable("osmosis"),low:ko.observable("10m")},e.incorrect={high:ko.observable("osmosis"),med:ko.observable("osmosis"),low:ko.observable("10m")},e.flaggedOnly=ko.observable(!1);var t={3:"high",2:"med",1:"low"};e.map=t,e.set=function(t){set(e.correct,t.c),set(e.incorrect,t.i),e.flaggedOnly(1==t.f)},e.getRepeatInterval=function(a,s){var o=a?e.correct:e.incorrect,d=o[t[s]]();return"osmosis"==d?null:d},e.extract=function(t){var a={},s=e[t];for(var o in s)a[o]=s[o]();return a}}),define("ui.resourceMap.Filter",function(e,t,a){function Filter(e,t){var a=this;this.filters=[{filter:"notes",name:"High-Yield Notes",filterOn:t.filters.notes},{filter:"osmosis",name:"Osmosis Videos",filterOn:t.filters.osmosis},{filter:"sketchy",name:"Sketchy Medical",filterOn:t.filters.sketchy},{filter:"picmonic",name:"Picmonic",filterOn:t.filters.picmonic}],this.sections=t.sections,this.sectionFiltersActive=t.sectionFiltersActive,this.resourceFiltersActive=t.resourceFiltersActive,this.showFilterState=ko.observable(!1),this.showFilters=ko.computed({read:function read(){return a.showFilterState()},write:function write(e){a.showFilterState(e)}}),$("body").on("click",function(){a.showFilters(!1)}),e(this)}t("ui/MediaQueryList");Filter.prototype.toggleFilter=function(t){this.showFilters(!this.showFilters()),t.stopPropagation()},Filter.prototype.toggleSectionFilter=function(e){return function(){e.filterOn(!e.filterOn())}},Filter.prototype.allFiltersOff=function(){this.sections().forEach(function(e){e.filterOn(!1)}),this.filters.forEach(function(e){e.filterOn(!1)}),this.saveToStorage()},Filter.prototype.toggleRes=function(e){var t=this;return function(){e(!e()),t.saveToStorage()}},Filter.prototype.saveToStorage=function(){localStorage.setItem("resource-map-filters",JSON.stringify({osmosis:this.filters.find(function(e){return"osmosis"===e.filter}).filterOn(),sketchy:this.filters.find(function(e){return"sketchy"===e.filter}).filterOn(),picmonic:this.filters.find(function(e){return"picmonic"===e.filter}).filterOn(),notes:this.filters.find(function(e){return"notes"===e.filter}).filterOn()}));$(".hinter").tooltip({container:"body"})},Filter.prototype.subjectClass=function(e){return ko.computed(function(){var t=e.theme();return t+(e.filterOn()?" active":"")})},Filter.prototype.scrollToSection=function(e){var t=e.toLowerCase(),a=$(".ui-resourceMap-ProgressBar.".concat(t));if(a.offset()){var s=$(".scrollable");s.animate({scrollTop:a.offset().top-a.outerHeight()+s.scrollTop()},"fast")}},a.exports=Filter}),define("ui.resourceMap.ProgressBar",function(e,t,a){a.exports=function ProgressBar(e,t){this.section=t.section,this.collapseEvent=t.collapseEvent}}),define("ui.resourceMap.ResourceSubTopic",function(e,t,a){function ResourceSubTopic(e,t){var a=this;a.subtopic=t.subtopic,a.filters=t.filters,a.section=t.section,a.complete=ko.observable(!1),a.incomplete=ko.computed(function(){return!a.complete()}),a.resourceFiltersActive=t.resourceFiltersActive,a.subtopic.contains=a.addLinks(a.subtopic.contains),a.visibleTopics=ko.computed(function(){return a.subtopic.contains.filter(function(e){return e.shouldShow()})}),a.hiddenTopicCount=ko.computed(function(){return a.subtopic.contains.length-a.visibleTopics().length}),a.completeTimeout=null,a.expanded=ko.observable(!1),a.parsedName=a.subtopic.group.replace(/\s/g,"_"),t.collapseEvent.subscribe(function(t){a.expanded(!t.collapse)}),a.fromQuery=window.urlQuery.from,a.progress=ko.computed(function(){var e=a.subtopic.contains.length,t=a.subtopic.contains.filter(function(e){return e.checked()}).length,s=t/e;return .99<=s?a.completeTimeout=setTimeout(function(){a.complete(!0)},500):(clearTimeout(a.completeTimeout),a.complete(!1)),s}),e(this),fs.mix(this,"ui/ProgressCircle",{size:25,progress:a.progress,hideText:!0}),setTimeout(function(){if(a.fromQuery&&a.subtopic.group===a.fromQuery.replace(/%20/g," ")){a.expanded(!0);var e=$("a#"+a.parsedName);$("html, body, .scrollable").animate({scrollTop:e.offset().top-30},"slow")}},500)}ResourceSubTopic.prototype.unfilter=function(e){e.stopPropagation(),this.filters.osmosis(!1),this.filters.sketchy(!1),this.filters.picmonic(!1),this.filters.notes(!1)},ResourceSubTopic.prototype.addLinks=function(e){var a=t("app/wikiTermResources"),s=this;return e.map(function(e){return e.link="/learn/"+e.concept.replace(/\s/g,"_"),e.checked=ko.observable(!!e.checked),e.icons=e.icons&&e.icons.filter(function(e){return"celeb"!==e}).map(function(e){return{src:a.iconMap[e].src,hint:a.iconMap[e].hint,name:e}}),e.filteredIcons=ko.computed(function(){return e.icons?e.icons.filter(function(e){return"yt-osm"===e.name?s.filters.osmosis():"sketchy"===e.name?s.filters.sketchy():"picmonic"===e.name?s.filters.picmonic():"notes"!==e.name||s.filters.notes()}):[]}),e.shouldShow=ko.computed(function(){return!s.resourceFiltersActive()||!!(e.icons&&0!==e.icons.length)&&0<e.filteredIcons().length}),e})},ResourceSubTopic.prototype.toggleTopicCheckbox=function(e){var t=this;return function(){e.checked(!e.checked());var a=t.section.checkedConcepts();e.checked()?(t.section.increasing(!0),setTimeout(function(){t.section.increasing(!1),t.section.checkedConcepts(a+1)},350)):t.section.checkedConcepts(a-1),keen.track("resource_index",{checked:e.checked(),concept:e.concept.toLowerCase()}),fs.post("updateUserConcept",{terms:[e.concept],state:e.checked()?1:0})}},ResourceSubTopic.prototype.toggleExpand=function(){this.expanded(!this.expanded())},a.exports=ResourceSubTopic}),define("ui.resourceMap.ResourceTopic",function(e,t,a){a.exports=function ResourceTopic(e,t){var a=this;a.title=t.title,a.subtopics=t.topics,a.theme=t.theme,a.section=t.section,a.filters=t.filters,a.collapseEvent=t.collapseEvent,a.components=ko.observableArray([]),a.visibleSubTopics=ko.computed(function(){return a.components().filter(function(e){return 0<e.visibleTopics().length})}),a.resourceFiltersActive=t.resourceFiltersActive;var s=t.isFirst;e(this),a.subtopicsComponents=fs.mixList(this,".sub-topics"),_.each(a.subtopics,function(e){a.subtopicsComponents.push("ui/resourceMap/ResourceSubTopic",{subtopic:e,section:a.section,filters:a.filters,isFirst:s,collapseEvent:a.collapseEvent,resourceFiltersActive:a.resourceFiltersActive}),s=!1}),a.components(a.subtopicsComponents.items),$(".resource-icon",this.dom).tooltip({container:this.dom})}}),define("ui.scheduleSettings.DaysOff",function(e,t,a){function DaysOff(e,t){this.panel=t.panel,this.schedule=t.schedule,e(this),this.daysOff=fs.mixAppend($(".days-off-section",this.dom),"ui/scheduleSettings/DaysOffEditor",{panel:this.panel,schedule:this.schedule})}DaysOff.prototype.getVacations=function(){return this.daysOff.getDaysOff()},DaysOff.prototype.getRepeats=function(){return this.daysOff.getRepeatingDaysOff()},DaysOff.prototype.save=function(e){var t=this.daysOff.getDaysOff(),a=this.daysOff.getRepeatingDaysOff();e.preferences.vacations=t,e.preferences.excludeDays=a},a.exports=DaysOff}),define("ui.scheduleSettings.DaysOffEditor",function(e,t,a){function validateBounds(e,t){var a=moment().format("YYYY-MM-DD");for(var d in t){if("undefined"==typeof t[d].start||"undefined"==typeof t[d].stop)return!1;var s=moment(t[d].start),o=moment(t[d].stop);if(!s.isValid()||!o.isValid())return!1;if(0>s.diff(e.start)||0<o.diff(e.stop))return!1;if(0>s.diff(a))return!1}return!0}function errorMessage(e,t){$.find(".tree-error-message").length?($(".tree-error-message").remove(),$("<p class='tree-error-message message negative'>".concat(e,"</p>")).appendTo(t).hide().fadeIn()):$("<p class='tree-error-message message negative'>".concat(e,"</p>")).appendTo(t).hide().fadeIn()}function DaysOffEditor(e,t){var a=this;for(var s in this.currentSchedule=t.schedule,this.questions=_objectSpread({},o),this.questions)this.questions[s].endDate=this.currentSchedule.endDate;this.dates=ko.observableArray(this.currentSchedule.preferences.vacations),this.dates.sort(function(e,t){return+moment(e.start)-+moment(t.start)}),this.repeatingDays=ko.observableArray(this.currentSchedule.preferences.excludeDays),this.repeatingDays.sort(function(e,t){return+moment(e.start)-+moment(t.start)}),this.hasVisibleDates=ko.computed(function(){var e=moment().format("YYYY-MM-DD");for(var t in a.dates())if(moment(a.dates()[t].stop).isAfter(e))return!0;return!1}),this.hasVisibleRepeatingDays=ko.computed(function(){var e=moment().format("YYYY-MM-DD");for(var t in a.repeatingDays())if(moment(a.repeatingDays()[t].stop).isAfter(e))return!0;return!1}),this.mode=ko.observable("view"),this.panel=t.panel,this.modified=ko.observable()}var s=t("ui/decisionTree"),o={start:{prompt:"When do you want to take time off?",options:["Take <b>today</b> off","Take <b>tomorrow</b> off","Take a specific day off","Take several days off","Take repeating days off"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){if(1==e||2==e){var o=1==e?moment().format("YYYY-MM-DD"):moment().add(1,"day").format("YYYY-MM-DD"),d={start:s.schedule.startDate,stop:s.schedule.endDate};validateBounds(d,[{start:o,stop:o}])?(a("vacations",[{start:o,stop:o}]),t()):fs.alert("Your day off must be within the dates of your schedule (and not in the past).")}else 3==e?t("single-day"):4==e?t("multiple-days"):5==e&&t("repeat-days")})},"single-day":{prompt:"What date do you want to take off?",type:"date",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("vacations",[{start:e,stop:e}]),t()}),validate:function validate(e,t){var a={start:t.schedule.startDate,stop:t.schedule.endDate};if(!validateBounds(a,[{start:e,stop:e}]))return"Your day off must be within the dates of your schedule (and not in the past)."}},"multiple-days":{custom:"ui/StudyPlanVacations",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){var o={start:s.schedule.startDate,stop:s.schedule.endDate};validateBounds(o,e)?(a("vacations",e),t()):errorMessage("Your days off must be contained within the dates of your schedule and not in the past.",$(".ui-StudyPlanVacations"))})},"repeat-days":{custom:"ui/StudyPlanRepeatDays",stopDate:"wqer",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){var o={start:s.schedule.startDate,stop:s.schedule.endDate};if(1===e.length&&moment(s.schedule.startDate).isAfter(e[0].start)&&(e[0].start=s.schedule.startDate),!validateBounds(o,e))errorMessage("Your days off must be contained within the dates of your schedule and not in the past.",$(".ui-StudyPlanRepeatDays"));else{for(var d in e)if(!e[d].days.length)return void errorMessage("Please select <b>at least one</b> day of the week to take off.",$(".ui-StudyPlanRepeatDays"));a("excludeDays",e),t()}})}};DaysOffEditor.prototype.validDates=function(e){return!moment(e).isBefore(moment().format("YYYY-MM-DD"))},DaysOffEditor.prototype.getDateRangeHidden=function(e){if(moment(e.stop).isBefore(moment().format("YYYY-MM-DD")))return!0},DaysOffEditor.prototype.removeAllowed=function(e){var t=this,a=moment().format("YYYY-MM-DD");return!!(0<=moment(e.stop).isAfter(moment(a)))},DaysOffEditor.prototype.removeRange=function(e){var t=this;return function(){var a=moment().format("YYYY-MM-DD");moment(e.start).isBefore(a)?(e.stop=moment(a).add(-1,"days").format("YYYY-MM-DD"),t.dates.remove(e),t.dates.push(e)):t.dates.remove(e),t.modified(!0),t.panel.hasChanges(!0),t.panel.updateAvailableDays()}},DaysOffEditor.prototype.removeRepeat=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove "+(e.start==e.stop?"this day off?":"these vacation days?"),function(a){var s=moment().format("YYYY-MM-DD");moment(e.start).isBefore(s)?(e.stop=moment(s).add(-1,"days").format("YYYY-MM-DD"),t.repeatingDays.remove(e),t.repeatingDays.push(e)):t.repeatingDays.remove(e),t.modified(!0),t.panel.hasChanges(!0),t.panel.updateAvailableDays(),a()})}},DaysOffEditor.prototype.addDaysOff=function(){var e=this;this.mode("add"),fs.empty($(".add-days",this.dom));var t=s($(".add-days",this.dom),this.questions,{allowBack:!0,backExit:function backExit(){e.mode("view")},done:function done(t){for(var a in t.vacations)e.dates.push(t.vacations[a]);for(var a in t.excludeDays)e.repeatingDays.push(t.excludeDays[a]);e.dates.sort(function(e,t){return+new Date(e.start)-+new Date(t.start)}),e.repeatingDays.sort(function(e,t){return+new Date(e.start)-+new Date(t.start)}),e.modified(!0),e.panel.hasChanges(!0),e.panel.updateAvailableDays(),e.mode("view")},options:{test:"kldsfj"}});t.data.schedule=this.currentSchedule},DaysOffEditor.prototype.daysOfTheWeek=function(e){if(void 0!==e){var t=[],a={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday"};for(var s in e)t.push(a[e[s]]);return t.join(", ")}},DaysOffEditor.prototype.getDaysOff=function(){return 0<this.dates().length?this.dates():null},DaysOffEditor.prototype.getRepeatingDaysOff=function(){return 0<this.repeatingDays().length?this.repeatingDays():null},a.exports=DaysOffEditor}),define("ui.scheduleSettings.EmptySchedule",function(e,t,a){function EmptySchedule(e,t){this.schedule=t.schedule,this.mode=ko.observable("prompt")}EmptySchedule.prototype.startWizard=function(){fs.mix(this,"ui/CreateDedicatedStudyPlan",{schedule:this.schedule}),this.mode("build")},a.exports=EmptySchedule}),define("ui.scheduleSettings.GeneralSettings",function(e,t,a){function GeneralSettings(e,t){this.panel=t.panel,this.schedule=t.schedule,this.scheduleName=ko.observable(this.schedule.name),this.editingName=ko.observable(),this.startDate=ko.observable(moment(this.schedule.startDate).format("MMM D, YYYY")),this.endDate=ko.observable(moment(this.schedule.endDate).format("MMM D, YYYY")),this.startEdit=ko.observable(),this.endEdit=ko.observable(),this.editingStartDate=ko.observable(),this.editingEndDate=ko.observable(),this.canEditStartDate=ko.observable(1>moment().diff(this.startDate(),"days")),this.startDateHasChanges=!1,this.endDateHasChanges=!1,e(this)}var s=t("app/schedules"),o=s.schedules;GeneralSettings.prototype.initOffClickListener=function(t){var a=this;$(document).on("click",function(s){if(!$(s.target).datepicker("widget").is(":visible")&&0==$(s.target).closest(t).length){switch(t.selector){case".name-section":a.editingName(!1);break;case".dates-section":a.checkEditStartDate(),a.checkEditEndDate(),a.cancelEditStartDate(),a.cancelEditEndDate();break;default:$(this).off();}$(this).off()}})},GeneralSettings.prototype.editName=function(){this.editingName(!0),this.initOffClickListener($(".name-section"))},GeneralSettings.prototype.editStartDate=function(){this.canEditStartDate()&&(this.editingEndDate()||(this.startEdit(moment(this.startDate()).format("YYYY-MM-DD")),this.editingStartDate(!0),this.startDateHasChanges=!0,this.initOffClickListener($(".dates-section"))))},GeneralSettings.prototype.editEndDate=function(){this.editingStartDate()||(this.endEdit(moment(this.endDate()).format("YYYY-MM-DD")),this.editingEndDate(!0),this.endDateHasChanges=!0,this.initOffClickListener($(".dates-section")))},GeneralSettings.prototype.cancelEditStartDate=function(){this.startEdit(this.startDate()),this.editingStartDate(!1)},GeneralSettings.prototype.cancelEditEndDate=function(){this.endEdit(this.endDate()),this.editingEndDate(!1)},GeneralSettings.prototype.checkEditStartDate=function(){if(this.startDateHasChanges){var e=this,t=!1,a=o.getSchedule(this.panel.activeScheduleID());if(moment(this.startEdit()).isAfter(this.endDate()))return void fs.alert("Oops... it looks like you set the start date later than the end date. Give that another try.");if(7>moment(this.endDate()).diff(this.startEdit(),"days")&&(t="Your schedule will only be "+moment(this.startEdit()).diff(this.endEdit(),"days")+" days long. Are you sure you want it that short?"),"courses"==this.panel.timelineType()&&0<this.panel.timeline.subjects().length){var s=this.panel.timeline.subjects()[0].start(),d=this.panel.timeline.subjects()[this.panel.timeline.subjects().length-1].end();if(moment(this.startEdit()).isAfter(s))return void fs.alert("The start date you selected conflicts with the first course in your schedule. You can update the course dates and try again.")}return moment(this.startEdit()).isBefore(moment())&&moment(this.startEdit()).isBefore(this.startDate())&&moment(this.startEdit()).isBefore(a.origStart)?void fs.alert("You can't move the start date into the past once the schedule has started."):void(t?fs.confirm(t,function(t){e.saveEditStartDate(),t()}):this.saveEditStartDate())}},GeneralSettings.prototype.checkEditEndDate=function(){if(this.endDateHasChanges){var e=this,t=!1,a=o.getSchedule(this.panel.activeScheduleID());if(moment(this.startDate()).isAfter(this.endEdit()))return void fs.alert("Oops... it looks like you set the end date before the start date. Give that another try.");if(7>moment(this.endEdit()).diff(this.startDate(),"days")&&(t="Your schedule will only be "+moment(this.startEdit()).diff(this.endEdit(),"days")+" days long. Are you sure you want it that short?"),"courses"==this.panel.timelineType()&&0<this.panel.timeline.subjects().length){var s=this.panel.timeline.subjects()[0].start(),d=this.panel.timeline.subjects()[this.panel.timeline.subjects().length-1].end();if(moment(this.endEdit()).isBefore(d))return void fs.alert("The end date you selected conflicts with the last course in your schedule. You can update the course dates and try again.")}"subjects"==this.panel.timelineType()&&moment(this.endEdit()).isBefore(this.endDate())&&(t="Moving your end date earlier could cause overscheduling. You may need to adjust your Topics before you can save."),t?fs.confirm(t,function(t){e.saveEditEndDate(),t()}):this.saveEditEndDate()}},GeneralSettings.prototype.saveEditStartDate=function(){this.panel.hasChanges(!0),this.startDate(moment(this.startEdit()).format("MMM D, YYYY"));var e=o.getSchedule(this.panel.activeScheduleID());e.startDate=moment(this.startDate()).format("YYYY-MM-DD"),e.dateRange(moment(this.startDate()).format("MMM D")+" - "+moment(this.endDate()).format("MMM D")),this.panel.updateAvailableDays(),this.editingStartDate(!1)},GeneralSettings.prototype.saveEditEndDate=function(){this.panel.hasChanges(!0),this.endDate(moment(this.endEdit()).format("MMM D, YYYY"));var e=o.getSchedule(this.panel.activeScheduleID());e.endDate=moment(this.endDate()).format("YYYY-MM-DD"),e.dateRange(moment(this.startDate()).format("MMM D")+" - "+moment(this.endDate()).format("MMM D")),this.panel.updateAvailableDays(),this.editingEndDate(!1)},GeneralSettings.prototype.notifyChange=function(){return this.panel.hasChanges(!0),!0},GeneralSettings.prototype.applyNameEdits=function(){return this.scheduleName()},GeneralSettings.prototype.applyDateEdits=function(e){return e.startDate=moment(this.startDate()).format("YYYY-MM-DD"),e.endDate=moment(this.endDate()).format("YYYY-MM-DD"),e},GeneralSettings.prototype.save=function(e){e.preferences.name=this.applyNameEdits(),this.applyDateEdits(e.dates)},GeneralSettings.prototype.deleteSchedule=function(){var e=this;return this.schedule.timeline.pending?void this.panel.deleteSchedule():void dialog("ui/modals/schedule/ConfirmDelete",function(t,a,s){a&&e.panel.deleteSchedule(),s()},{dialogStyle:"negative",scheduleName:this.schedule.name})},a.exports=GeneralSettings}),define("ui.scheduleSettings.PracticeExams",function(e,t,a){function PracticeExams(e,t){this.schedule=t.schedule,this.exams=ko.observableArray(),this.availableExams=ko.observableArray(s),this.editing=ko.observable(),this.renderExams(t.exams),this.panel=t.panel,this.bounds={start:this.schedule.startDate,stop:this.schedule.endDate},this.addingExam=ko.observable(),this.newExamDate=ko.observable(),this.newExamForm=ko.observable(),this.customExamForm=ko.observable(),e(this),fs.mixAppend($(".dropdown#exam",this.dom),"ui/Dropdown",{options:this.availableExams,value:this.newExamForm,placeholder:"select exam form"})}function computedDate(e,t){return ko.computed(function(){return e().format(t)})}function validateBounds(e,t){var a=!0,s=moment().format("YYYY-MM-DD");for(var o in t)(0>moment(t[o].start).diff(e.start)||0<moment(t[o].stop).diff(e.stop))&&(a=!1),0>moment(t[o].start).diff(s)&&(a=!1);return a}var s=["NBME Form 13","NBME Form 15","NBME Form 16","NBME Form 17","NBME Form 18","NBME Form 19","UWorld Form 1","UWorld Form 2","NBME Form 11","NBME Form 12","Custom..."];PracticeExams.prototype.errorMessage=function(e,t){$.find(".tree-error-message").length?($(".tree-error-message").remove(),$("<p class='tree-error-message message negative'>".concat(e,"</p>")).appendTo(t).hide().fadeIn()):$("<p class='tree-error-message message negative'>".concat(e,"</p>")).appendTo(t).hide().fadeIn()},PracticeExams.prototype.addNewExam=function(){var e=this.newExamForm()&&this.newExamForm().split(" Form ");if(e)if("Custom..."===e[0]&&(e[0]=this.customExamForm()),!validateBounds(this.bounds,[{start:this.newExamDate(),stop:this.newExamDate()}]))this.errorMessage("Your exam date must be within the dates of your schedule (and not in the past).",$(".new-exam",this.dom));else{this.panel.hasChanges(!0),$(".tree-error-message").remove();var t=ko.observable(moment(this.newExamDate()));this.exams.unshift({exam:e[0].toLowerCase(),name:e[0],moment:t,day:computedDate(t,"ddd"),date:computedDate(t,"MMM D"),editdate:ko.observable(),form:e[1]||"",editing:ko.observable(),editingLocked:ko.computed(function(){var e=moment().format("YYYY-MM-DD");if(0>moment(t()).diff(moment(e)))return!0})}),this.panel.updateAvailableDays(),this.newExamDate(null),this.newExamForm(null),this.customExamForm(null),this.addingExam(!1)}},PracticeExams.prototype.editDate=function(e){this;return function(){e.editing(!0),e.listener(".exams-section")}},PracticeExams.prototype.renderExams=function(e){var t=this,a={nbme:"NBME",uworld:"UWorld"},s=[];for(var o in e){var d=e[o],n=moment(d.date),l=ko.observable(n);listener=function listener(a){var s=this;$(document).on("click",function(o){$(o.target).datepicker("widget").is(":visible")||0!=$(o.target).closest(a).length||(s.editing(!1),t.saveExamEdits(s)(function(){s.editing(!1)}),$(this).off())})},s.push({exam:d.exam,score:d.score,name:a[d.exam]||d.exam,moment:l,day:computedDate(l,"ddd"),date:computedDate(l,"MMM D"),editdate:ko.observable(n.format("YYYY-MM-DD")),form:d.form,editing:ko.observable(!1),editingLocked:ko.computed(function(){var e=moment().format("YYYY-MM-DD");if(0>moment(l()).diff(moment(e)))return!0}),listener:listener}),this.availableExams.remove(a[d.exam]+" Form "+d.form)}s.sort(function(e,t){return+e.moment()>+t.moment()?1:e.moment()<t.moment()?-1:0}),this.exams(s),this.isExamDate=_.indexBy(s,function(t){return t.moment().format("YYYY-MM-DD")})},PracticeExams.prototype.removeExam=function(e){var t=this;return function(){fs.confirm("Are you sure you <b>do not</b> want to take this practice exam?","Discard Practice Exam","danger",function(a){t.exams.remove(e),t.editing(!1),t.panel.hasChanges(!0),t.panel.updateAvailableDays(),a()})}},PracticeExams.prototype.addPracticeExam=function(){this;0<this.availableExams().length?this.addingExam(!0):fs.alert("All the available practice exams have been added.")},PracticeExams.prototype.saveExamEdits=function(e){var t=this;return function(a){validateBounds(t.bounds,[{start:e.editdate(),stop:e.editdate()}])?(e.moment(moment(e.editdate())),e.editing(!1),t.editing(!1),t.panel.hasChanges(!0),t.panel.updateAvailableDays(),a()):fs.alert("Your exam date must be within the dates of your schedule (and not in the past).",function(){a()})}},PracticeExams.prototype.getExams=function(){var e=[],t=this.exams();for(var a in t)e.push({exam:t[a].exam,name:t[a].name,form:t[a].form,score:t[a].score,date:t[a].moment().format("YYYY-MM-DD")});return e},PracticeExams.prototype.save=function(e){var t=this.getExams();t.length&&(e.timeline.exams=t)},a.exports=PracticeExams}),define("ui.scheduleSettings.RebalanceTool",function(e,t,a){var s=Math.ceil,o=function(){"use strict";function RebalanceTool(e,t){var a=this;_classCallCheck(this,RebalanceTool),this.rebalanceType=ko.observable("today"),this.rebalanceMethod=ko.observable("squeeze"),this.scheduleID=t.schedule.scheduleID,this.overdueItems=ko.observable(t.schedule.overdueItems),this.daysBehind=ko.computed(function(){return s(a.overdueItems()/20)}),this.needsRebalance=ko.computed(function(){return 2<a.daysBehind()}),this.recommendArchive=ko.computed(function(){return 13<a.daysBehind()}),this.messageText=ko.computed(function(){if(a.needsRebalance())return a.recommendArchive()?"You're more than 2 weeks behind schedule. That's ok, life happens! You might want to archive this one and start fresh, though.":"\n          You're a little behind schedule. \n          \n\n          (".concat(a.overdueItems()," overdue items, ~").concat(a.daysBehind()," days behind) \n          \n\n          Don't worry... we can fix that!\n          ")}),this.errorMessage=ko.observable({text:ko.observable(""),type:ko.observable("positive")}),e(this),$(document).click(function(){return a.errorMessage().text("")})}return _createClass(RebalanceTool,[{key:"submitRebalanceRequest",value:function submitRebalanceRequest(e){var t=this;fs.post("rebalanceSchedule",{scheduleID:this.scheduleID,type:this.rebalanceType(),method:this.rebalanceMethod()},function(a){console.table(a),t.overdueItems(0),t.errorMessage().text("Schedule successfully rebalanced!"),e()})}},{key:"archiveSchedule",value:function archiveSchedule(e){var t=this;fs.post("archiveDailySchedule",{scheduleID:this.scheduleID},function(a){console.table(a),t.panel.close(),e()})}}]),RebalanceTool}();a.exports=o}),define("ui.scheduleSettings.ResourceSelector",function(e,t,a){function ResourceSelector(e,t){this.panel=t.panel,this.schedule=t.schedule,this.resources={};var a=_.indexBy(t.resources,_.identity);for(var s in d)this.resources[d[s]]=ko.observable(a[d[s]]);this.customResources=ko.observableArray();var o=fs.transpose(this.schedule.repeatData);for(var s in o)this.appendCustomResource(o[s]);e(this),$(document).on("click",function(t){$(t.target).is(".filter-info-popup, .filter-info-popup *")||$(".filter-info-popup").fadeOut("fast")}),$(".filter-info-icon").click(function(t){var e=$(t.currentTarget).siblings(".filter-info-popup");e.fadeToggle("fast")})}var s=t("app/schedules"),o=s.schedules,d=["firstAid","osmosisVideos","osmosisFlashcards","osmosisQuestions","sketchyMicro","sketchyPath","sketchyPharm","picmonic","pathoma","boardsAndBeyond"];ResourceSelector.prototype.filterInfoPopupClicked=function(e,t){return t.stopPropagation(),t.preventDefault(),!1},ResourceSelector.prototype.closeFilterInfoPopupClicked=function(e,t){var a=$(t.currentTarget);return a.parent().fadeOut("fast"),t.stopPropagation(),t.preventDefault(),!1},ResourceSelector.prototype.handleCustomEditClick=function(e){var t=this;return function(){t.panel.hasChanges(!0),dialog("ui/dialogs/schedule/EditScheduleCustomResource",function(t,a,s){var o=t.newData();e.data.startDate=o.startDate,e.data.stopDate=o.stopDate,e.data.count=o.count,e.modified(!0),s()},{goal:e})}},ResourceSelector.prototype.addCustomResource=function(){var e=this;dialog("ui/dialogs/schedule/AddCustomResource",function(t,a,s){a&&(e.panel.hasChanges(!0),console.log(t.data),t.data.stopDate=t.finishBy(),e.appendCustomResource({data:t.data},!0),s())},{date:this.date,schedule:e.schedule})},ResourceSelector.prototype.appendCustomResource=function(e,t){this.customResources.push({taskID:e.taskID,type:e.data.type,title:ko.observable(e.data.title),startDate:ko.observable(moment(e.data.startDate)),stopDate:ko.observable(moment(e.data.stopDate)),completed:e.completed||0,count:ko.observable(e.data.count),markedForDelete:ko.observable(),modified:ko.observable(t)})},ResourceSelector.prototype.resourceClickHandler=function(e){var t=this;return function(){t.resources[e](!t.resources[e]()),t.panel.hasChanges(!0)}},ResourceSelector.prototype.applyCustomEdits=function(){var e=[],t=this.customResources();for(var a in t){var s=t[a];s.modified()&&(s.markedForDelete()?s.markedForDelete()&&e.push({taskID:s.taskID,remove:!0}):e.push({taskID:s.taskID,data:{title:s.title(),startDate:s.startDate().format("YYYY-MM-DD"),stopDate:s.stopDate().format("YYYY-MM-DD"),count:s.count(),type:s.type}}))}return e},ResourceSelector.prototype.save=function(e){var t=[];for(var a in this.resources)this.resources[a]()&&t.push(a);e.preferences.resources=t,e.tasks=this.applyCustomEdits()},ResourceSelector.prototype.editRepeatTaskTitle=function(e){var t=this;return function(){fs.prompt("Enter a new title:",function(a,s){e.title(a),e.modified(!0),t.panel.hasChanges(!0),s()},e.title())}},ResourceSelector.prototype.editRepeatTaskCount=function(e){var t=this;return function(){fs.prompt("Enter a new target total:",function(a,s){e.count(a),e.modified(!0),t.panel.hasChanges(!0),s()},e.count())}},ResourceSelector.prototype.editRepeatTaskDate=function(e,t){var a=this;return function(){window.promptForDate("Enter a new date:","Change Date","info",function(s,o){e[t](moment(s)),e.modified(!0),a.panel.hasChanges(!0),o()},e[t]().format("YYYY-MM-DD"))}},ResourceSelector.prototype.removeRepeatTask=function(e){var t=this;return function(){fs.prompt("Are you sure you want to remove this repeating task? This will remove all associated checkboxes and cannot be undone. Type type title of this task to confirm:","Confirm Remove","danger",function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=1<arguments.length?arguments[1]:void 0;a=null===a?"":a,a.toLowerCase()==e.title().toLowerCase()?(e.markedForDelete(!0),e.modified(!0),t.panel.hasChanges(!0)):fs.alert("Please type the title of this task to confirm."),s()})}},a.exports=ResourceSelector}),define("ui.scheduleSettings.Setup",function(e,t,a){function Setup(e,t){this;this.panel=t.panel,this.schedule=t.schedule,this.scheduleName=t.schedule.name,this.startDate=t.schedule.startDate,this.stopDate=t.schedule.endDate,this.scheduleType=ko.observable("scaled"),this.scheduleType.subscribe(function(e){t.schedule.timeline={},t.schedule.timeline["scaled"==e?"courses":"subjects"]=[]}),this.scheduleVersion=t.schedule.preferences.version,this.allFieldsComplete=ko.computed(function(){return this.scheduleName()&&this.startDate()&&this.stopDate()&&moment(this.startDate()).isBefore(moment(this.stopDate()))},this),this.allFieldsComplete.subscribe(function(e){this.panel.hasChanges(e)},this),e(this);fs.mixAppend($(".dropdown#faVersion",this.dom),"ui/Dropdown",{options:["2018","2017","2016"],value:this.scheduleVersion})}Setup.prototype.applyEdits=function(e){return fs.post("createNewSchedule",{name:this.scheduleName(),version:this.scheduleVersion(),startDate:this.startDate(),stopDate:this.stopDate(),type:this.scheduleType(),resources:this.schedule.preferences.resources},function(t){e(t.newSchID)}),!0},a.exports=Setup}),define("ui.scheduleWizard.BasicScheduleSetup",function(e,t,a){function giveScheduleFeedback(e,t,a){var s=moment(a.examDate).diff(a.startDate,"days"),o=moment(a.examDate).diff(a.startDate,"weeks");t("totalLen",s),24<=o?e("longSchedule",o):12<=o?e("mediumSchedule",o):e("shortSchedule",o)}var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{prompt:"What do you want to study for?",theme:"box",autoAdvance:!0,delayOptions:1500,options:[{title:"Class Exams",body:"I'm still in classes each day."},{title:"Step 1",body:"I'm starting Step 1 prep."},{title:"Help!",body:"I want to study for more than one of these!"}],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.start.prompt,"".concat(n.start.options[e-1].title," ").concat(n.start.options[e-1].body),!1,3!==e),1==e?(a("buildPref","classes"),t("")):2==e?t("step1DateKnowledge"):3==e&&fs.alert("That's ok! You will want to create multiple schedules so you can manage studying multiple things at once. Pick one thing to study for this schedule and then just come back and create an additional schedule.","No problem!","info")}),disableBack:!0},step1DateKnowledge:{prompt:"Do you know when you'll take Step 1?",theme:"box",autoAdvance:!0,options:[{title:"Yes,",body:"I have a Step 1 date set."},{title:"No,",body:"I don't have a Step 1 date yet."}],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.answeredQuestion(n.step1DateKnowledge.prompt,"".concat(n.step1DateKnowledge.options[e-1].title," ").concat(n.step1DateKnowledge.options[e-1].body)),1==e?t("step1Date"):2==e&&t("step1DateEstimate")})},step1Date:{prompt:"When do you take Step 1?",type:"date",textOptions:{label:"Step 1",placeholder:"Select date",icon:"fi fi-calendar"},value:function value(e){return e.examDate},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){d.answeredQuestion(n.step1Date.prompt,moment(e).format("YYYY-MM-DD")),a("schedule","usmle-step1"),a("examDate",e),a("eExcluded",0),a("dExcluded",0),a("startDate",s.startDate||moment().format("YYYY-MM-DD")),s.isDedicated?(a("buildPref","dedicated"),t()):giveScheduleFeedback(t,a,s),$(document).trigger("step1-build")}),validate:function validate(e){return+moment(e)<+moment()?"Your step 1 date can't be in the past!":+moment(e)<+moment().add(21,"days")?"Your step 1 date needs to be at least 3 weeks from now!":void 0}},step1DateEstimate:{prompt:"When do you expect to take Step 1?",type:"prompt",options:["Sometime in the next 6 months","Sometime in the next 12 months","More than 12 months from now"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){d.answeredQuestion(n.step1DateEstimate.prompt,n.step1DateEstimate.options[e-1]);a("schedule","usmle-step1"),a("startDate",s.startDate||moment().format("YYYY-MM-DD")),a("examDateEst",["<6mo","<12mo",">12mo"][e-1]),a("buildPref","prededicated"),t()}),clearVal:function clearVal(e,t){t("schedule",void 0),t("startDate",void 0),t("examDateEst",void 0)}},longSchedule:{display:function display(e,t){e.alert=e.alert(t)},alert:function alert(e){return"Great, you have <b>"+e+"</b> weeks until your exam date! <br>Next we'll ask about what and how you want to study."},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.nonQuestion(),a("buildPref","prededicated"),t()})},mediumSchedule:{display:function display(e,t){e.prompt=e.prompt(t)},prompt:function prompt(e){return"You have <b>"+e+"</b> weeks between now and your exam date. Are you studying full-time?"},type:"prompt",options:["No, I want to start studying some subjects early before dedicated full-time prep","Yes, I'm currently studying full-time for boards"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.mediumSchedule.prompt("x"),n.mediumSchedule.options[e-1]),a("buildPref",1==e?"prededicated":"dedicated"),t()})},shortSchedule:{display:function display(e,t){e.alert=e.alert(t)},alert:function alert(e){return"You have <b>"+e+"</b> weeks between now and your exam date. We'll help you set up a dedicated prep schedule so you can make the most of your time."},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.nonQuestion(),a("buildPref","dedicated"),t()})},summerStatus:{prompt:"Are you currently on summer break?",options:["Yes, I'm currently on summer break","No, I'm still taking classes but will be out soon","No, my school does not have a summer break","Not applicable, I'm not in school right now"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.summerStatus.prompt,n.summerStatus.options[e-1]),3==e?t("classStatus"):4==e?(a("buildPref","dedicated"),t()):t("summerPlans")}),clearVal:function clearVal(e,t){t("buildPref",void 0)}},summerPlans:{prompt:"What are your plans for the summer?",options:["I want to start reviewing for boards so I don't forget what I've learned","I don't feel like studying during the summer"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.answeredQuestion(n.summerPlans.prompt,n.summerPlans.options[e-1]),1==e?t("summerStudyFeedback"):t("summerLowMotivation")})},summerLowMotivation:{prompt:"We understand! It's time for a vacation! Another option you might want to consider is just watching Osmosis videos. They're easy and enjoyable and will help you retain what you've already learned. Do you want to schedule videos?",options:["Yes, let's create a video-only schedule","No, I don't want to do anything related to medicine over the summer"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.summerLowMotivation.prompt,n.summerLowMotivation.options[e-1]),1==e?(a("videoOnly",!0),t("summerStudyFeedback")):t("summerExit")}),clearVal:function clearVal(e,t){t("videoOnly",void 0)}},summerExit:{alert:"Ok, we get it. When classes are starting again just come back to this schedule and you can set it up then.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(){d.nonQuestion(),window.location.href="/"})},summerStudyFeedback:{alert:"Great! Students who start reviewing over the summer are more likely to retain what they've already learned. Let's figure out a few things about your summer plans.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t("summerStartReview")})},summerStartReview:{prompt:"When do you want to <b>start studying</b>?",type:"prompt",options:["Today","A future date"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.answeredQuestion(n.summerStartReview.prompt,n.summerStartReview.options[e-1]),1==e?t("classesRestart"):t("summerStartDate")})},summerStartDate:{prompt:"What date do you want to <b>start studying</b> on?",type:"date",textOptions:{label:"Start Studying",placeholder:"Select date",icon:"fi fi-calendar"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.summerStartDate.prompt,moment(e).format("YYYY-MM-DD")),a("startDate",e),t("classesRestart")}),clearVal:function clearVal(e,t){t("startDate",void 0)},validate:function validate(){}},classesRestart:{prompt:"When will <b>classes start</b> up again?",type:"date",textOptions:{label:"Classes start",placeholder:"Select date",icon:"fi fi-calendar"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.classesRestart.prompt,moment(e).format("YYYY-MM-DD")),a("classesRestart",e),a("buildPref","summer"),t()}),clearVal:function clearVal(e,t){t("classesRestart",void 0),t("buildPref",void 0)},validate:function validate(){}}};a.exports=function BasicScheduleSetup(e,t){this;e(this),this.schedule=s($(".decision-tree",this.dom),n,{data:t.params,startAt:t.startAt,done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:500,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0),setTimeout(function(){return $(".datepicker").datepicker("show")},10)}})}}),define("ui.scheduleWizard.ClassExamExit",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{alert:"Great, we have everything we need to create a schedule to study for your next class exam.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t("nextExamInstructions")})},nextExamInstructions:{alert:"Once you've aced this exam, you'll add the next subject you're covering in classes.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t("newScheduleInstructions")})},newScheduleInstructions:{alert:"You can also create more schedules if you want to study for multiple subjects at the same time or want to prep for boards while also studying for classes.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t()})}};a.exports=function ClassExamSchedule(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),onRender:function onRender(){}})}}),define("ui.scheduleWizard.ClassExamSchedule",function(e,t,a){var s=t("ui/decisionTree"),o=t("shared/studySubjects"),d=t("app/schedules"),n=d.wizardTracking,l=_.flatten([o.basicSciences,o.organSystems]),c={start:{prompt:"What is the date of your next <b>class exam</b>?\n             <p style=\"font-size: 14px; text-align: left;\">Tip: If you have several exams for one subject (eg. GI) select the last exam date for that subject. Don\u2019t worry if you don\u2019t know the exact date, you can always change this later.</p>",type:"date",textOptions:{label:"Class exam",placeholder:"Select date",icon:"fi fi-calendar"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){n.answeredQuestion(c.start.prompt,moment(e).format("YYYY-MM-DD")),a("nextClassExamDate",e),a("eExcluded",0),a("dExcluded",0),t("classExamSubject")}),validate:function validate(e){if(+moment(e)<+moment())return"Your next exam can't be in the past!"}},classExamSubject:{prompt:"What subject will this exam cover?",type:"select",placeholder:"Select a subject",returnType:"value",options:l,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){n.answeredQuestion(c.classExamSubject.prompt,e),a("nextClassExamSubject",e),o.hasCategories[e]?t("subjectTopics"):t()})},subjectTopics:{custom:"ui/ScheduleTopics",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("selectedTopics",e),t()})}};a.exports=function ClassExamSchedule(e,t){e(this),c.subjectTopics.faVersion=t.schedule.firstAid.version,s(this.dom,c,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:n.wentBack.bind(n),delayOptions:250,onRender:function onRender(){setTimeout(function(){return $(".datepicker").datepicker("show")},10)}})}}),define("ui.scheduleWizard.CoursesOrder",function(e,t,a){function CoursesOrder(e,t){var a=this;if(this.availableCount=t.days,this.panel=t.panel,this.subjects=ko.observableArray(),this.origSubjects=ko.observableArray(),this.availableTopics=ko.observableArray(),this.selectedTopic=ko.observable(),this.categories=ko.observableArray(),this.selectedCategory=ko.observable(),this.newTopicStart=ko.observable(moment().format("YYYY-MM-DD")),this.newTopicEnd=ko.observable(moment().add(3,"days").format("YYYY-MM-DD")),this.addTopicVisible=ko.observable(!1),this.activeSubject=ko.observable(),this.subjects(this.processSubjects(t.subjects)),this.origSubjects(this.subjects()),this.buildAvailableTopics(),e(this),this.sortCourses(),this.selectedTopic.subscribe(function(){var e=a.availableTopics().find(function(e){return e.id===a.selectedTopic()});a.categories(n.hasCategories[e.topic]?["Physiology","Pathology","Physiology and Pathology"]:[]),a.selectedCategory(a.categories().length?"Physiology and Pathology":"")}),fs.mixAppend($(".dropdown#topic",this.dom),"ui/Dropdown",{options:this.availableTopics,optionsText:"topic",optionsValue:"id",value:this.selectedTopic,placeholder:"select topic"}),fs.mixAppend($(".dropdown#subtopic",this.dom),"ui/Dropdown",{options:this.categories,value:this.selectedCategory,placeholder:"select content"}),urlQuery.scrollToTopic){var s=$(".topic[data-topic=\"".concat(urlQuery.scrollToTopic,"\"]"),this.dom);if(s.length){var o=s.scrollParent();o.length&&o.scrollTop(s.offset().top-o.offset().top+o.scrollTop()-15)}}}function getTopicID(e){for(var t in l)if(e==l[t].name)return l[t].id}function hasCategory(e){return"Pathology"==e||"Physiology"==e}var s=t("app/schedules"),o=s.schedules,d=t("shared/topics"),n=t("shared/studySubjects"),l=[{id:524,name:"Biochemistry"},{id:525,name:"Metabolism"},{id:527,name:"Immunology"},{id:528,name:"Microbiology"},{id:530,name:"Heme/Onc"},{id:533,name:"Respiratory"},{id:534,name:"Renal"},{id:535,name:"Cardiovascular"},{id:536,name:"GI"},{id:537,name:"Endocrine"},{id:538,name:"Reproductive"},{id:531,name:"Neurology"},{id:532,name:"Psychiatry"},{id:539,name:"MSK"},{id:543,name:"General Pathology"},{id:542,name:"General Pharmacology"},{id:2,name:"Behavioral Science"},{id:7217,name:"Epidemiology/Biostatistics"},{id:1,name:"Science of Learning"}];CoursesOrder.prototype.initOffClickListener=function(t){var a=this;$(document).on("click",function(s){0==$(s.target).closest(t).length&&0==$(s.target).closest(".ui-datepicker,.ui-datepicker-header").length&&(a.addTopicVisible(!1),$(this).off())})},CoursesOrder.prototype.showAddTopic=function(){this.addTopicVisible(!0),this.initOffClickListener(".tab-content")},CoursesOrder.prototype.hideAddTopic=function(){this.addTopicVisible(!1)},CoursesOrder.prototype.sortCourses=function(){this.subjects.sort(function(e,t){return moment(e.start())>moment(t.start())})},CoursesOrder.prototype.processSubjects=function(e){var t=[];for(var a in e){var s=n.title2object(e[a].name),o=s.subject,l=e[a].start,c=e[a].stop,p=d.name2id[o]||d.subject2topicID[o]||getTopicID(o),u=ko.observable(moment());p&&(moment(c)>=moment(this.newTopicStart())&&(this.newTopicStart(moment(c).add(1,"days").format("YYYY-MM-DD")),this.newTopicEnd(moment(this.newTopicStart()).add(1,"weeks").format("YYYY-MM-DD"))),t.push({title:e[a].name,start:ko.observable(l),startDisplay:ko.observable(moment(l).format("MMM DD")),end:ko.observable(c),endDisplay:ko.observable(moment(c).format("MMM DD")),icon:p?d.getNewIcon(p):"",editing:ko.observable(),startEdit:ko.observable(l),endEdit:ko.observable(c)}))}return t},CoursesOrder.prototype.buildAvailableTopics=function(){for(var e in l){var t=l[e].id,a=l[e].name;this.availableTopics.push({topic:a,id:t,icon:d.getNewIcon(t)||""})}},CoursesOrder.prototype.addTopic=function(){var e=this,t=this.newTopicStart(),a=this.newTopicEnd();this.checkValidDates(t,a,this.selectedTopic(),function(){e.panel.hasChanges(!0);var s=e.availableTopics().find(function(t){return t.id===e.selectedTopic()});if(s){for(var o in e.subjects.push({title:hasCategory(e.selectedCategory())?"".concat(s.topic," ").concat(e.selectedCategory()):s.topic,start:ko.observable(t),startDisplay:ko.observable(moment(t).format("MMM DD")),end:ko.observable(a),endDisplay:ko.observable(moment(a).format("MMM DD")),icon:s.icon,editing:ko.observable(),startEdit:ko.observable(t),endEdit:ko.observable(a)}),e.sortCourses(),e.subjects()){e.subjects()[o].end();moment(a)>=moment(e.newTopicStart())&&(e.newTopicStart(moment(a).add(1,"days").format("YYYY-MM-DD")),e.newTopicEnd(moment(e.newTopicStart()).add(1,"weeks").format("YYYY-MM-DD")))}if(1===e.subjects().length){var d=e.panel.errorMessages().findIndex(function(e){return"no_courses"===e.id});-1!==d&&e.panel.errorMessages.splice(d,1)}}e.addTopicVisible(!1)})},CoursesOrder.prototype.removeSubject=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove ".concat(e.title,"?"),function(a){t.subjects.remove(e),t.availableTopics.push(e),t.panel.hasChanges(!0),0===t.subjects().length&&t.panel.errorMessages.push({id:"no_courses",message:"You must have at least one course."}),a()})}},CoursesOrder.prototype.updateScheduleStart=function(e,t){this.panel.generalSettings.startDate(moment(e).format("MMM D, YYYY")),t.startDate=moment(e).format("YYYY-MM-DD"),t.dateRange(moment(e).format("MMM D")+" - "+moment(t.endDate).format("MMM D"))},CoursesOrder.prototype.updateScheduleEnd=function(e,t){this.panel.generalSettings.endDate(moment(e).format("MMM D, YYYY")),t.endDate=moment(e).format("YYYY-MM-DD"),t.dateRange(moment(t.startDate).format("MMM D")+" - "+moment(e).format("MMM D"))},CoursesOrder.prototype.checkValidDates=function(e,t,a,s){var d=this,n=o.getSchedule(this.panel.activeScheduleID());if(moment(e).isAfter(t))return void fs.alert("It looks like the start date is after the end date. Give it another try.");for(var l=0;l<this.subjects().length;l++)if(this.subjects()[l]!=a&&(moment(e).isAfter(this.subjects()[l].start())&&moment(e).isBefore(this.subjects()[l].end())||moment(t).isAfter(this.subjects()[l].start())&&moment(t).isBefore(this.subjects()[l].end())||moment(e).isSame(this.subjects()[l].start(),"day")||moment(e).isSame(this.subjects()[l].end(),"day")||moment(t).isSame(this.subjects()[l].start(),"day")||moment(t).isSame(this.subjects()[l].end(),"day")))return void fs.alert("You can't have overlapping subjects inside of a single schedule. If you need concurrent subjects, create an additional schedule using \"Add new\" in the left sidebar.");moment(t).isAfter(n.endDate,"day")?moment(e).isBefore(moment(),"day")?a.start&&(!a.start||moment(e).isSame(a.start(),"day"))?s&&s():fs.alert("You can't have a course start in the past. Update the dates and try again."):moment(e).isBefore(n.startDate,"day")?fs.confirm("This course is set to start and end outside the bounds of the schedule. Do you want to update the start and end dates of your schedule?",function(a){d.updateScheduleStart(e,n),d.updateScheduleEnd(t,n),s&&s(),a()}):fs.confirm("This course is set to end after the end of this schedule. Do you want to update the end date of your schedule?",function(e){d.updateScheduleEnd(t,n),s&&s(),e()}):moment(e).isBefore(moment(),"day")?a.start&&(!a.start||moment(e).isSame(a.start(),"day"))?s&&s():fs.alert("You can't have a course start in the past. Update the dates and try again."):moment(e).isBefore(n.startDate,"day")?fs.confirm("This course is set to start before the start of the schedule. Do you want to update the start date of your schedule?",function(t){d.updateScheduleStart(e,n),s&&s(),t()}):s&&s()},CoursesOrder.prototype.save=function(e){var t=[],a=this.subjects();for(var s in a)t.push({name:a[s].title,start:a[s].start(),stop:a[s].end()});t.length&&(e.timeline.courses=t)},CoursesOrder.prototype.cancelEdit=function(e){this;return function(){e.editing(!1)}},CoursesOrder.prototype.saveEdit=function(e){var t=this;return function(){t.checkValidDates(e.startEdit(),e.endEdit(),e,function(){e.start(e.startEdit()),e.end(e.endEdit()),e.startDisplay(moment(e.start()).format("MMM DD")),e.endDisplay(moment(e.end()).format("MMM DD")),e.editing(!1),t.panel.hasChanges(!0)})}},CoursesOrder.prototype.handleEditClick=function(e){this;return function(){console.log(e),e.editing(!0)}},a.exports=CoursesOrder}),define("ui.scheduleWizard.DedicatedExtraDays",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{prompt:"Do you want to leave a few days unscheduled at the end of your schedule before your exam day?<br><span class=\"subtext\">We recommend at least 1 or 2 days if you need an extra day for a topic, or up to 4 days if you want to make one last quick pass over First Aid or UWorld.</span>",value:1,options:["Yes, I'd like to leave a few days unscheduled at the end of my schedule","No, schedule topics to review up until my exam date"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.answeredQuestion(n.start.prompt,n.start.options[e-1]),1==e?t("extra-days"):2==e&&t()})},"extra-days":{prompt:"How many extra days would you like to leave at the end of your schedule?",value:"3",type:"text",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n["extra-days"].prompt,"".concat(e)),a("extraFinalDays",e),t()})}};a.exports=function DedicatedExtraDays(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:1e3,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.EarlyReviewSchedule",function(e,t,a){var s=t("ui/decisionTree"),o=t("shared/studySubjects"),d=_.flatten([o.basicSciences,o.organSystems]),n={start:{alert:"Let's select the <b>older</b> material you want to start reviewing. It's a good idea to select only a handful of subjects for starters so you don't get overwhelmed studying for both classes and step 1. You can always add more subjects later if the study pace is too slow.",next:"selectBasicScience"},selectBasicScience:{custom:"ui/SelectStudySubjects",type:"basic",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("reviewSubjects",e),t("selectOrganSystems")})},selectOrganSystems:{custom:"ui/SelectStudySubjects",type:"organ",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("reviewSubjects",_.flatten([s.reviewSubjects,e])),t()})}};a.exports=function EarlyReviewSchedule(){}}),define("ui.scheduleWizard.FirstAidVersion",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{prompt:"What version of First Aid do you plan on using?",theme:"box",autoAdvance:!0,options:["2019","2018","2017","I'm not using First Aid"],value:1,returnType:"value",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion("What version of First Aid do you plan on using?",e),"I'm not using First Aid"==e?(a("omitFA",!0),a("version","2019")):a("version",e),t()})}};a.exports=function FirstAidVersion(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:250,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.PrededicatedSchedule",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{alert:"Let's select the material you want to start reviewing.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t("selectBasicScience")})},selectBasicScience:{custom:"ui/SelectStudySubjects",type:"basic",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion("Basic Science: What do you want to study?",JSON.stringify(e)),a("reviewSubjects",e),t("selectOrganSystems")})},selectOrganSystems:{custom:"ui/SelectStudySubjects",type:"organ",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){d.answeredQuestion("Organ Systems: What do you want to study?",JSON.stringify(e)),a("reviewSubjects",_.flatten([s.reviewSubjects,e])),t("completionDate")})},completionDate:{prompt:"When do you want to complete your review of these subjects by?",type:"date",textOptions:{placeholder:"Select date",icon:"fi fi-calendar"},value:function value(e){return e.examDate},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.completionDate.prompt,moment(e).format("YYYY-MM-DD")),a("stopDate",e),t()}),validate:function validate(e){if(+moment(e)<+moment())return"Your completion date can't be in the past!"}}};a.exports=function PrededicatedSchedule(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:1e3,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.ScheduleBuildList",function(e,t,a){function ScheduleBuildList(e,t){this.mode=ko.observable("menu"),this.map=t.map,this.cb=t.cb,this.backExit=t.back,this.previousPaths=t.previousPaths,this.progressBar=t.progressBar;var a={classes:{type:"classes",title:"Class Exam Review",descr:"Deepen your understanding of <b>current course content.</b>",questions:n,schedule:{},state:ko.observable("pending")},review:{type:"review",title:"Board Review",descr:"Maximize your ability to reinforce information you've already learned that will appear on the board exams.",questions:l,schedule:{},state:ko.observable("pending")},dedicated:{type:"dedicated",title:"Dedicated Review",descr:"You can set up your dedicated review schedule closer to when you start studying full time. Don't sweat it right now.",schedule:null,state:ko.observable("disabled")}};if(t.data){for(var o in t.data)t.data[o]&&a[o]&&(a[o].schedule=t.data[o],a[o].state("completed"));var d=!1;for(var c in u)if("pending"===a[u[c].type].state()){d=!0;break}d||this.mode("next")}var p=[],u=t.schedule.basics.buildList;for(var m in u)p.push(a[u[m].type]);this.schedules=ko.observableArray(p),e(this),s().prototype.addProgressBar.call(this,this.progressBar)}var s=t("ui/decisionTree"),o=t("shared/studySubjects"),d=_.flatten([o.basicSciences,o.organSystems]),n={start:{prompt:"What is the date of your next <b>class exam</b>?",type:"date",textOptions:{label:"Class exam",placeholder:"Select date",icon:"fi fi-calendar"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("nextClassExamDate",e),a("eExcluded",0),a("dExcluded",0),t("classExamSubject")}),validate:function validate(e){if(+moment(e)<+moment())return"Your next exam can't be in the past!"}},classExamSubject:{prompt:"What subject will this exam cover?",type:"select",placeholder:"Select a subject",returnType:"value",options:d,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("nextClassExamSubject",e),o.hasCategories[e]?t("subjectPhysOrPath"):t("confirmClassExamSetup")})},subjectPhysOrPath:{prompt:"Will this exam include normal physiology or pathophysiology or both?",type:"prompt",options:["Physiology","Pathophysiology","Both physiology and pathophysiology"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){1==e?a("nextClassExamCategory","Physiology"):2==e&&a("nextClassExamCategory","Pathology"),t("confirmClassExamSetup")})},confirmClassExamSetup:{alert:"Great, we've set everything up to help you study for your next class exam. You can add more subjects later after you've aced this exam.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){t()})}},l={start:{alert:"Let's select the <b>older</b> material you want to start reviewing. It's a good idea to select only a handful of subjects for starters so you don't get overwhelmed studying for both classes and step 1. You can always add more subjects later if the study pace is too slow.",next:"selectBasicScience"},selectBasicScience:{custom:"ui/SelectStudySubjects",type:"basic",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){a("reviewSubjects",e),t("selectOrganSystems")})},selectOrganSystems:{custom:"ui/SelectStudySubjects",type:"organ",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){a("reviewSubjects",_.flatten([s.reviewSubjects,e])),t()})}};ScheduleBuildList.prototype.startSetup=function(e){var t=this;return function(){e.schedule?(t.mode("setup"),s($(".schedule-setup",t.dom),e.questions,{done:function done(a){for(var s in e.state("completed"),e.schedule=a,t.schedules())if("pending"==t.schedules()[s].state())return t.mode("menu");t.mode("next")},backExit:function backExit(){e.schedule={},e.state("pending"),t.mode("menu")},actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,delayOptions:1e3,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})):fs.alert("You'll set this schedule up closer to the start of your dedicated prep time.")}},ScheduleBuildList.prototype.back=function(){var e=this;fs.confirm("Are you sure you want to go back? (You will lose any progress in setups)",function(t){t(),e.backExit()})},ScheduleBuildList.prototype.next=function(){var e={},t=this.schedules();for(var a in t)e[t[a].type]=t[a].schedule;this.cb(e)},a.exports=ScheduleBuildList}),define("ui.scheduleWizard.ScheduleDaysOff",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{prompt:"Do any of the following apply? <br><span class=\"subtext\">You can choose more than one.</span>",options:["I want to take weekends off (both Saturday and Sunday).","There are specific days of the week I'd like to leave unscheduled (e.g.&nbsp;for religious purposes).","I'm taking a vacation soon and want to schedule several days off.","None of the above."],type:"checkbox",checkboxOptions:{orientation:"vertical"},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.start.prompt,_.reduce(e,function(e,t){return"".concat(e,";").concat(n.start.options[t-1])},""));var s={2:"take-day-single",3:"take-vacation-when"};~e.indexOf(1)&&a("weekends","off");var o=[];for(var l in e)s[e[l]]&&o.push(s[e[l]]);a("vacationPrefs",o),o.length?t(o.shift()):t()})},"take-day-single":{prompt:"Which day or days of the week do you want to leave unscheduled?",options:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],type:"checkbox",returnType:"value",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){for(var o in d.answeredQuestion(n["take-day-single"].prompt,_.reduce(e,function(e,t){return"".concat(e,";").concat(n["take-day-single"].options[t-1])},"")),e)e[o]=e[o].slice(0,3);a("excludeDays",e),s.vacationPrefs.length?t(s.vacationPrefs.shift()):t()})},"take-vacation-when":{custom:"ui/StudyPlanVacations",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){d.answeredQuestion("Add any ranges of dates that you want to take off",JSON.stringify(e)),a("vacations",e),s.vacationPrefs.length?t(s.vacationPrefs.shift()):t()})}};a.exports=function ScheduleDaysOff(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:250,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.SchedulePracticeExams",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{prompt:"Do you have a preference for what days of the week to reserve for full-length practice exams? <br><span class=\"subtext\">We won't schedule things on dates you've already excluded and you can always edit exam dates manually.</span>",options:["I don't have a preference (default)","I'd prefer to take practice exams on weekends","I'd prefer to take practice exams during the week"],value:1,next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.start.prompt,n.start.options[e-1]);a("practicePref",{1:"none",2:"weekend",3:"week"}[e]),t()})}};a.exports=function ScheduleUWorld(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:1e3,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.ScheduleStudyDays",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n=!1,l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],c={start:{prompt:"Which days of the week do you want to study on?",options:l,type:"checkbox",value:[1,2,3,4,5],returnType:"value",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){if(7==e.length&&!n)return alert("It is strongly recommended that you leave at least one day per week unscheduled in case you fall behind and need to catch up."),void(n=!0);d.answeredQuestion(c.start.prompt,JSON.stringify(e));var s={};for(var o in l)s[l[o]]=!0;for(var o in e)s[e[o]]=!1;var p=[];for(var o in s)s[o]&&p.push(o.slice(0,3));p.length&&a("excludeDays",p),t()})}};a.exports=function ScheduleStudyDays(e,t){e(this),s(this.dom,c,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.ScheduleUWorld",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{prompt:"Have you started a UWorld subscription?",options:["Yes, I've started answering UWorld questions","No, I haven't started yet","I don't want to schedule UWorld questions"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n.start.prompt,n.start.options[e-1]),1==e?(t("uworld-how"),a("uwStartDate",moment().format("YYYY-MM-DD"))):2==e?t("uworld-when"):t()})},"uworld-when":{prompt:"When do you plan on starting your UWorld subscription?",type:"date",textOptions:{label:"UWorld",placeholder:"Select date",icon:"far fa-calendar-alt"},validate:function validate(e,t){if(t&&t.basics&&moment(e)>moment(t.basics.examDate))return"That's after your exam date! You'll want to start before then."},next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n["uworld-when"].prompt,moment(e).format("YYYY-MM-DD")),a("uwStartDate",e),t("uworld-how")})},"uworld-how":{prompt:"How many UWorld questions do you have left to complete? <br><span class=\"subtext\">It's OK if you haven't started</span>",value:"2487",type:"text",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n["uworld-how"].prompt,"".concat(e));a("uwRemaining",e),t("uworld-passes")})},"uworld-passes":{prompt:"How many times would you like to do UWorld questions? <br><span class=\"subtext\">We generally recommend doing UWorld twice. Your second pass helps solidify concepts.</span>",value:1,options:["<b>Twice</b> (recommended)","<b>Twice</b>, but only repeat incorrect items","<b>Once</b>"],next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion(n["uworld-passes"].prompt,n["uworld-passes"].options[e-1]),3==e?a("uwPassCount",1):a("uwPassCount",2),2==e&&a("uwPref","inc"),t()})}};a.exports=function ScheduleUWorld(e,t){this.schedule=t.schedule,e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,data:this.schedule,onBeforeBack:d.wentBack.bind(d),delayOptions:500,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.SelectResources",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{alert:"Almost done! Let's <b>pick the resources</b> you want to use to study. We'll start with the most popular, but you can add custom resources later.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t("resources")})},resources:{custom:"ui/ScheduleResources",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){d.answeredQuestion("Select the additional resources you want to use (you can change these at any time):",JSON.stringify(e)),s.omitFA||e.unshift("firstAid"),a("resources",e),t()})}};a.exports=function SelectResources(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:1e3,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scheduleWizard.StudyPlanBuilder",function(e,t,a){function StudyPlanBuilder(e,t){var a=this;this.mode=ko.observable("start"),this.allowGenerate=ko.observable(!0),this.onCreate=t.onCreate,this.params=t.params||{},this.startAt=t.startAt||{},e(this),this.setupProgressBars(),this.dedicatedBuild={stages:[{ui:"ui/scheduleWizard/FirstAidVersion",name:"firstAid",progressBarIndex:1},{ui:"ui/scheduleWizard/ScheduleDaysOff",name:"daysOff",progressBarIndex:2},{ui:"ui/scheduleWizard/DedicatedExtraDays",name:"extraDays",progressBarIndex:3},{ui:"ui/scheduleWizard/SchedulePracticeExams",name:"exams",progressBarIndex:4},{ui:"ui/scheduleWizard/ScheduleUWorld",name:"uworld",progressBarIndex:5},{ui:"ui/scheduleWizard/SelectResources",name:"resources",progressBarIndex:6}],postprocess:function postprocess(e){return{template:"usmle-step1",firstAid:e.firstAid,schedule:{name:"Dedicated Review",type:"dedicated",startDate:e.basics.startDate||moment().format("YYYY-MM-DD"),dDate:e.basics.dDate,examDate:e.basics.examDate,dedicatedType:e.basics.dedicatedType,daysOff:e.daysOff,examDateEst:e.basics.examDateEst,exams:e.exams,extraDays:e.extraDays,uworld:e.uworld},resources:e.resources}}},this.classesBuild={stages:[{ui:"ui/scheduleWizard/FirstAidVersion",name:"firstAid",progressBarIndex:1},{ui:"ui/scheduleWizard/ClassExamSchedule",name:"classes",progressBarIndex:2},{ui:"ui/scheduleWizard/ScheduleStudyDays",name:"daysOff",progressBarIndex:3},{ui:"ui/scheduleWizard/SelectResources",name:"resources",progressBarIndex:4},{ui:"ui/scheduleWizard/ClassExamExit",name:"exit",progressBarIndex:5}],postprocess:function postprocess(e){var t={template:"usmle-step1",firstAid:e.firstAid,schedule:{name:"Class Exam Review",type:"classes",startDate:e.basics.startDate||moment().format("YYYY-MM-DD"),stopDate:estimateClassesEnd().format("YYYY-MM-DD"),daysOff:e.daysOff,nextClassExamDate:e.classes.nextClassExamDate,nextClassExamSubject:e.classes.nextClassExamSubject,selectedTopics:e.classes.selectedTopics},resources:e.resources};return t}},this.prededicatedBuild={stages:[{ui:"ui/scheduleWizard/FirstAidVersion",name:"firstAid",progressBarIndex:1},{ui:"ui/scheduleWizard/PrededicatedSchedule",name:"review",progressBarIndex:2},{ui:"ui/scheduleWizard/ScheduleStudyDays",name:"daysOff",progressBarIndex:3},{ui:"ui/scheduleWizard/SelectResources",name:"resources",progressBarIndex:4}],postprocess:function postprocess(e){var t={template:"usmle-step1",firstAid:e.firstAid,schedule:{name:"Board Review",type:"prededicated",daysOff:e.daysOff,reviewSubjects:e.review.reviewSubjects,startDate:e.basics.startDate||moment().format("YYYY-MM-DD"),stopDate:e.review.stopDate},resources:e.resources};return t}},this.summerBuild={stages:[{ui:"ui/scheduleWizard/FirstAidVersion",name:"firstAid",progressBarIndex:1},{ui:"ui/scheduleWizard/SummerSchedule",name:"summer",progressBarIndex:2},{ui:"ui/scheduleWizard/ScheduleDaysOff",name:"daysOff",progressBarIndex:3},{ui:"ui/scheduleWizard/SelectResources",name:"resources",progressBarIndex:4}],postprocess:function postprocess(e){return{template:"usmle-step1",firstAid:e.firstAid,schedule:{name:"Summer Review",type:"prededicated",startDate:e.basics.startDate,stopDate:e.basics.classesRestart,reviewSubjects:e.summer.reviewSubjects,daysOff:e.daysOff},resources:e.basics.videoOnly?{version:"2018",resources:["osmosisVideos"]}:e.resources}}},this.stage=0,this.schedule={},this.setupStages=[{ui:"ui/scheduleWizard/BasicScheduleSetup",name:"basics",progressBarIndex:0}],this.next(),s().prototype.addActionContainer.call({dom:$(".build-mode-section",this.dom),allowBack:!0,actionType:"actions-container"},{backCaption:"Back",nextCaption:"Next",hideNext:!0}),$(".build-mode-section .btn-back",this.dom).click(function(){d.wentBack(),a.back()})}function estimateClassesEnd(){return user.profile&&user.profile.year?1==user.profile.year?moment().add(2,"years"):2==user.profile.year?moment().add(1,"year"):moment().add(2,"years"):moment().add(2,"years")}var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking;StudyPlanBuilder.prototype.next=function(){var e=this;fs.empty($(".decision-blocks",e.dom));var t=this.setupStages[this.stage];this.progressBar.selectedIndex=t.progressBarIndex||0,fs.mixAppend($(".decision-blocks",this.dom),t.ui,{map:this.map,schedule:e.schedule,params:e.params[t.name],startAt:e.startAt[t.name],cb:function cb(a,s){"basics"==e.setupStages[e.stage].name&&e.populateBuildFlow(a),e.setupStages[e.stage].previousPaths=s,e.schedule[t.name]=a,e.stage++,e.stage<e.setupStages.length?e.next():e.confirm()},back:this.back.bind(this),previousPaths:e.setupStages[e.stage].previousPaths,progressBar:e.progressBar,data:e.schedule[t.name]})},StudyPlanBuilder.prototype.back=function(){this.stage<this.setupStages.length?delete this.schedule[this.setupStages[this.stage].name]:this.mode("start"),this.stage--,0>this.stage||(0===this.stage&&this.resetProgressBar(),this.next())},StudyPlanBuilder.prototype.resetProgressBar=function(){this.progressBar={steps:4,hideTrailingSeperators:!0,selectedIndex:0}},StudyPlanBuilder.prototype.setupProgressBars=function(){this.buildProgressBar=fs.mixAppend($(".dt-progress-bar-container",this.dom),"ui/ProgressBars",{steps:1,selectedIndex:0,theme:"pill"}),this.resetProgressBar()},StudyPlanBuilder.prototype.populateBuildFlow=function(e){var t=e.buildPref,a=this[t+"Build"].stages;for(var s in this.postprocess=this[t+"Build"].postprocess,this.setupStages=[{ui:"ui/scheduleWizard/BasicScheduleSetup",name:"basics",progressBarIndex:0}],a)e.videoOnly&&"resources"==a[s].name||this.setupStages.push(a[s]);this.progressBar={steps:a.length+2,selectedIndex:0,hideTrailingSeperators:!1}},StudyPlanBuilder.prototype.confirm=function(){var e=this,t=this.schedule.basics.dTotalLen-this.schedule.basics.dExcluded;return 13>t?fs.alert("You need at least 2 weeks available for a step 1 schedule to be generated. Based on your current selections you have less than 2 weeks. Please try generating a new schedule."):void e.mode("build")},StudyPlanBuilder.prototype.create=function(){this.allowGenerate(!1),this.onCreate(this.postprocess(this.schedule))},a.exports=StudyPlanBuilder}),define("ui.scheduleWizard.SubjectOrder",function(e,t,a){function SubjectOrder(e,t){var a=this,o=this;this.availableCount=t.days,this.panel=t.panel,this.subjects=ko.observableArray(),this.availableTopics=ko.observableArray(),this.selectedTopic=ko.observable(),this.categories=ko.observableArray(),this.selectedCategory=ko.observable(),this.newTopicLength=ko.observable(3),this.activeSubject=ko.observable(),this.newTopicLength=ko.observable(1),this.addTopicVisible=ko.observable(!1),this.subjects(this.processSubjects(t.subjects)),this.determineSubjectDaysElapsed(t.schedule),0==this.subjects().length&&this.showAddTopic(),this.buildAvailableTopics(),e(this),$(this.dom).on("mouseenter",".change-days",function(t){t.stopPropagation(),$(".subjects",a.dom).sortable("disable")}),$(this.dom).on("mouseleave",".change-days",function(t){t.stopPropagation(),$(".subjects",a.dom).sortable("enable")}),$(".subjects",this.dom).sortable({forcePlaceholderSize:!0,placeholderClass:"tab-placeholder",items:".subject-row:not(.unsortable)",dragImage:null}).bind("sortupdate",function(t,e){var a=o.subjects.splice(e.oldElementIndex,1);o.subjects.splice(e.elementIndex,0,a[0]),$(".subjects",o.dom).sortable(),o.panel.hasChanges(!0)}),fs.mixAppend($(".dropdown#topic",this.dom),"ui/Dropdown",{options:this.availableTopics,optionsText:"topic",optionsValue:"id",value:this.selectedTopic,placeholder:"select topic"}),fs.mixAppend($(".dropdown#subtopic",this.dom),"ui/Dropdown",{options:this.categories,value:this.selectedCategory,placeholder:"select content"});ko.observable(moment());if(this.selectedTopic.subscribe(function(){var e=o.availableTopics().find(function(e){return e.id===o.selectedTopic()});o.categories(s.hasCategories[e.topic]?["Physiology","Pathology","Physiology and Pathology"]:[]),o.selectedCategory(o.categories().length?"Physiology and Pathology":"")}),urlQuery.scrollToTopic){var d=$(".topic[data-topic=\"".concat(urlQuery.scrollToTopic,"\"]"),this.dom);if(d.length){var n=d.scrollParent();n.length&&n.scrollTop(d.offset().top-n.offset().top+n.scrollTop()-15)}}}function getTopicID(e){for(var t in c)if(e==c[t].name)return c[t].id}function hasCategory(e){return"Pathology"==e||"Physiology"==e}var s=t("shared/studySubjects"),o=t("app/schedules"),d=o.schedules,n=t("shared/topics"),l=t("shared/studyDaysOff"),c=[{id:524,name:"Biochemistry"},{id:525,name:"Metabolism"},{id:527,name:"Immunology"},{id:528,name:"Microbiology"},{id:530,name:"Heme/Onc"},{id:533,name:"Respiratory"},{id:534,name:"Renal"},{id:535,name:"Cardiovascular"},{id:536,name:"GI"},{id:537,name:"Endocrine"},{id:538,name:"Reproductive"},{id:531,name:"Neurology"},{id:532,name:"Psychiatry"},{id:539,name:"MSK"},{id:543,name:"General Pathology"},{id:542,name:"General Pharmacology"},{id:2,name:"Behavioral Science"},{id:7217,name:"Epidemiology/Biostatistics"},{id:1,name:"Science of Learning"}];SubjectOrder.prototype.determineSubjectDaysElapsed=function(e){for(var t=this.subjects(),a=0,s=l.getExcludeIndex({startDate:e.startDate,stopDate:e.endDate},e.preferences,e.timeline.exams),o=moment(e.startDate).add(-1,"days");0>o.add(1,"days").diff(moment().format("YYYY-MM-DD"));){var d=o.format("YYYY-MM-DD");if(!s[d]&&t.length){var n=t[a];if(!n)return;n.length(n.length()-1),n.elapsed++,n.length()||(n.visible(!1),a++)}}var n=t[a];n&&1==n.length()&&n.visible(!1)},SubjectOrder.prototype.showAddTopic=function(){this.addTopicVisible(!0)},SubjectOrder.prototype.hideAddTopic=function(){this.addTopicVisible(!1)},SubjectOrder.prototype.processSubjects=function(e){var t=[];for(var a in e){var o=s.title2object(e[a].name),d=o.subject,l=+e[a].days,c=n.name2id[d]||n.subject2topicID[d]||getTopicID(d);if(c){ko.observable(moment());t.push({title:e[a].name,visible:ko.observable(!0),elapsed:0,length:ko.observable(l),icon:c?n.getNewIcon(c):""})}}return t},SubjectOrder.prototype.buildAvailableTopics=function(){for(var e in c){var t=c[e].id,a=c[e].name;this.availableTopics.push({topic:a,id:t,icon:n.getNewIcon(t)||""})}},SubjectOrder.prototype.addTopic=function(){var e=this,t=this.availableTopics().find(function(t){return t.id===e.selectedTopic()});t&&(this.panel.hasChanges(!0),this.subjects.push({title:hasCategory(this.selectedCategory())?"".concat(t.topic," ").concat(this.selectedCategory()):t.topic,visible:ko.observable(!0),elapsed:0,length:ko.observable(+this.newTopicLength()),icon:t.icon}),this.panel.updateAvailableDays(),$(".subjects",this.dom).sortable(),this.hideAddTopic())},SubjectOrder.prototype.removeSubject=function(e){var t=this;return function(){fs.confirm("Are you sure you want to remove ".concat(e.title,"?"),function(a){t.subjects.remove(e),t.availableTopics.push(e),t.panel.hasChanges(!0),t.panel.updateAvailableDays(),a()})}},SubjectOrder.prototype.changeDays=function(e,t){var a=this;return function(){a.panel.hasChanges(!0),e.length(e.length()+t),1>e.length()&&e.length(1),a.panel.updateAvailableDays()}},SubjectOrder.prototype.changeNewTopicDays=function(e){var t=this;return function(){t.newTopicLength(t.newTopicLength()+e),1>t.newTopicLength()&&t.newTopicLength(1)}},SubjectOrder.prototype.save=function(e){var t=[],a=this.subjects();for(var s in a)t.push({name:a[s].title,days:a[s].length()+a[s].elapsed});t.length&&(e.timeline.subjects=t)},SubjectOrder.prototype.getTotalDays=function(){var e=0;for(var t in this.subjects()){var a=this.subjects()[t];e+=a.length()+a.elapsed}return e},a.exports=SubjectOrder}),define("ui.scheduleWizard.SummerSchedule",function(e,t,a){var s=t("ui/decisionTree"),o=t("app/schedules"),d=o.wizardTracking,n={start:{alert:"Let's select the <b>older</b> material you want to start reviewing. It's a good idea to select only a handful of subjects for starters so you don't get overwhelmed during the summer. You can always add more subjects later if the study pace is too slow.",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t){d.nonQuestion(),t("selectBasicScience")})},selectBasicScience:{custom:"ui/SelectStudySubjects",type:"basic",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a){d.answeredQuestion("Basic Science: What do you want to study?",JSON.stringify(e)),a("reviewSubjects",e),t("selectOrganSystems")})},selectOrganSystems:{custom:"ui/SelectStudySubjects",type:"organ",next:function(e){function next(){return e.apply(this,arguments)}return next.toString=function(){return e.toString()},next}(function(e,t,a,s){d.answeredQuestion("Organ Systems: What do you want to study?",JSON.stringify(e)),a("reviewSubjects",_.flatten([s.reviewSubjects,e])),t()})}};a.exports=function SummerSchedule(e,t){e(this),s(this.dom,n,{done:t.cb,backExit:t.back,actionType:"actions-container",allowBack:!0,previousPaths:t.previousPaths,progressBar:t.progressBar,savedData:t.data,onBeforeBack:d.wentBack.bind(d),delayOptions:500,onRender:function onRender(){$(".ui-CreateStudyPlan .intro").scrollTop(0)}})}}),define("ui.scoreboardLegend",function(e){function copyObj(e){var t={};for(var a in e)t[a]=e[a];return t}function copy(e){var t=[];for(var a in e)t.push(copyObj(e[a]));return t}e.accConf=[{color:"#6DD56D",descr:"&#x2713;Sure",help:"%d correct with high confidence",shortHelp:"%d correct / high",title:"Answered correctly with high confidence"},{color:"#31AA31",descr:"&#x2713;Lucky",help:"%d correct with medium confidence",shortHelp:"%d correct / medium",title:"Answered correctly with medium confidence"},{color:"#1A5B1A",descr:"&#x2713;No Clue",help:"%d correct with low confidence",shortHelp:"%d correct / low",title:"Answered correctly with low confidence"},{color:"#E78D8D",descr:"&#x2718;Sure",help:"%d incorrect with high confidence",shortHelp:"%d incorrect / high",title:"Answered incorrectly with high confidence"},{color:"#D53939",descr:"&#x2718;Lucky",help:"%d incorrect with medium confidence",shortHelp:"%d incorrect / medium",title:"Answered incorrectly with medium confidence"},{color:"#8B1D1D",descr:"&#x2718;No Clue",help:"%d incorrect with low confidence",shortHelp:"%d incorrect / low",title:"Answered incorrectly with low confidence"},{color:"#444",descr:"Skipped",help:"%d skipped",title:"Skipped"},{color:"#B0B0B0",descr:"New!",help:"%d new",title:"New"}],e.times=[{color:"#79AFEC",descr:"today",cutoff:1,help:"%d answered today"},{color:"#79AFEC",descr:"yesterday",cutoff:2,help:"%d answered yesterday"},{color:"#79AFEC",descr:"4 days ago",cutoff:4,help:"%d answered four days ago"},{color:"#2079DF",descr:"1 week ago",cutoff:7,help:"%d answered one week ago"},{color:"#2079DF",descr:"2 weeks ago",cutoff:14,help:"%d answered two weeks ago"},{color:"#2079DF",descr:"3 weeks ago",cutoff:21,help:"%d answered three weeks ago"},{color:"#134986",descr:"4 weeks ago",cutoff:28,help:"%d answered four weeks ago"},{color:"#134986",descr:"2 months ago",cutoff:60,help:"%d answered two months ago"},{color:"#134986",descr:"a long time ago, in a galaxy far, far away",cutoff:1e5,help:"%d answered > two months ago"}],e.getTimes=function(){return copy(e.times)},e.getAccConf=function(){return copy(e.accConf)}}),define("ui.setDefaultViewer",function(e,t,a){a.exports=function(e){fs.confirm("Set the current viewer as the default viewer for documents?",function(t){fs.post("setDefaultDocViewer",{mode:e},function(){t()})})}}),define("ui.starRating",function(e,t,a){var s=Math.floor;a.exports=function(e){for(var t=[],a=1;a<=s(e/2);a++)t.push("fa-star");return 1==e%2&&t.push("fa-star-half"),t}}),define("ui.stats.GroupEventDashboard",function(e,t,a){function AnalyticsDashboard(e,t){e(this),fs.ajaxLoad(this,"adminGetGroupDetails",{url:t.url})}AnalyticsDashboard.prototype.load=function(e){var t=e.byDay;console.log(t),this.currentUserActivity=fs.mixFirst(this,"ui/stats/ActivityCalendar",{data:function data(e){var a=Math.floor((+e-BEGINNING_OF_TIME)/864e5),s=t[a];return s?s:0}}),$(".iiTip",this.dom).tooltip()},a.exports=AnalyticsDashboard}),define("ui.stats.RealtimeAnalytics",function(e,t,a){function prepPoints(e){var t=[];for(var a in e){var s={};s.latitude=e[a].lat,s.longitude=e[a].lng,s.fillKey=e[a].fillKey,s.radius=3,s.fillOpacity=.6,s.borderWidth=.5,s.borderColor="green",s.school=e[a].formalName,t.push(s)}return t}function animateBubbles(){bubbles=d3.selectAll("circle").filter(function(e){return"activity"==e.fillKey}),bubbles.call(transition,3,6)}function transition(e,t,a){e.transition().duration(1e3).delay(500*Math.random()).attr("r",a).each("end",function(){d3.select(this).call(transition,a,t)})}a.exports=function RealtimeAnalytics(){var e=new Datamap({element:document.getElementById("container1"),scope:"world",fills:{school:"blue",activity:"yellow",defaultFill:"lightblue"},geographyConfig:{popupOnHover:!1,highlightOnHover:!1}});$.post("realtimeAnalytics",{},parseResult(function(t){points=prepPoints(t.data),e.bubbles(points,{popupTemplate:function popupTemplate(e,t){return["<div class=\"hoverinfo\">"+t.school+"</div>"].join("")}}),animateBubbles()})),setInterval(function(){$.post("realtimeAnalytics",{},parseResult(function(t){points=prepPoints(t.data),e.bubbles(points,{popupTemplate:function popupTemplate(e,t){return["<div class=\"hoverinfo\">"+t.school+"</div>"].join("")}})})),animateBubbles()},1e4)}}),define("ui.stats.Topic",function(e,t,a){var s=t("ui/Scoreboard");a.exports=function Topic(e,t){var a=this;this.icon=ko.observable(t.data.icon),this.percentiles=ko.observable(t.data.percentiles),this.stats=ko.observable(t.data.stats),this.topicName=ko.observable(t.data.topicName),e(this),t.scores&&(this.scoreboard=new s($(".scoreboard",this.dom),160,[],""),window.isMobile=!1,this.scoreboard.loadBins(t.scores.bins,t.scores.novel,0),this.scoreboard.render()),$(document).bind("rerender",function(){a.scoreboard.render()})}}),define("ui.stats.histogram",function(e,t,a){a.exports=function drawHistogram(e,t){values=[];for(var a=0;a<e.length;a++)for(var s=0;s<a;s++)values.push(e[a]);for(var o={top:10,right:10,bottom:20,left:10},d=225,l=100,c=d3.scale.linear().domain([0,100]).range([0,d]),p=d3.layout.histogram().bins(c.ticks(20))(e),u=d3.scale.linear().domain([0,d3.max(p,function(e){return e.y})]).range([l,0]),m=d3.svg.axis().scale(c).orient("bottom"),v=d3.selectAll("histogram").append("svg").attr("width",d+o.left+o.right).attr("height",l+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")"),b=d3.layout.histogram().bins(c.ticks(20))([t]),a=0;a<b.length;a++)0<b[a].length&&(b=a);var h=v.selectAll(".bar").data(p).enter().append("g").attr("class","bar").attr("transform",function(e){return"translate("+c(e.x)+","+u(e.y)+")"});h.append("rect").style("opacity",0).transition().delay(function(e,t){return 50*t}).duration(200).attr("x",1).attr("width",c(p[0].dx)-2).attr("height",function(e){return l-u(e.y)}).style("opacity",1).style("fill",function(e,t){if(t<=b)return"darkblue"}),h.append("text").attr("dy",".75em").attr("y",6).attr("x",c(p[0].dx)/2).attr("text-anchor","middle"),v.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(m)}}),define("ui.stats.scoreboardBins",function(e){function getTimeBin(e){for(var s=8,o=Math.round((a-e)/864e5),d=0;8>d;d++)if(o<t[d]){s=d;break}return s}var t=[1,2,4,7,14,21,28,60],a=new Date;e.computeScores=function(e,t,a){console.log(t),console.log(a);var s={};for(var o in e.packID)s[e.packID[o]]=e.tagID[o];for(var d={},o=523;540>=o;o++)d[o]={tag:o,total:0,count:0,bins:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],novel:0,skip:0};for(var o in a.packID){var n=s[a.packID[o]];if(n){var l=d[n],c=3*(1-a.lastAccuracy[o])+(3-a.lastConfidence[o]),p=getTimeBin(new Date(a.timestamp[o]).getTime());l.bins[9*c+p]++,l.count++}}for(var o in t.packID)d[s[t.packID[o]]].total+=t.counts[o];for(var o in d)d[o].novel=d[o].total-d[o].count;return console.log(d),d}}),define("ui.styleguide.MyComponent",function(e,t,a){var s=function(){"use strict";function MyComponent(e,t){_classCallCheck(this,MyComponent),this.fooVisible=ko.observable(t.foo||!1),e(this)}return _createClass(MyComponent,[{key:"myMethod",value:function myMethod(){this.fooVisible(!this.fooVisible())}}]),MyComponent}();a.exports=s}),define("ui.styleguide.MyModal",function(e,t,a){var s=t("ui/modals/BaseModal"),o=function(e){"use strict";function MyModal(e,t){var a;return _classCallCheck(this,MyModal),a=_possibleConstructorReturn(this,_getPrototypeOf(MyModal).call(this,e,t)),console.log(t),a.title=t.title,a.subTitle=t.subTitle,a}return _inherits(MyModal,e),MyModal}(s);a.exports=o}),define("ui.survey.BoxChoiceQuestion",function(e,t,a){function BoxChoiceQuestion(e,t){this.parent=t.parent,this.selectedAnswer=ko.observable(),this.questionText=t.item,this.options=parseOptions(t.options),e(this)}function parseOptions(e){var t=[];for(var a in e){var s=e[a].split("|");t.push({large:s[0],small:1<s.length?s[1]:""})}return t}BoxChoiceQuestion.prototype.quit=function(){this.parent.quitSurvey()},BoxChoiceQuestion.prototype.selectAnswer=function(e){var t=this;return function(){t.selectedAnswer(e),t.parent.submit(e.large)}},a.exports=BoxChoiceQuestion}),define("ui.survey.CheckboxQuestion",function(e,t,a){function CheckboxQuestion(e,t){this.selectedAnswers=ko.observableArray([]),this.questionText=t.item,this.options=t.options,this.freeResponse=ko.observable(),this.showTextArea=ko.observable(!1)}CheckboxQuestion.prototype.quit=function(){this.parent.quitSurvey()},CheckboxQuestion.prototype.submit=function(){var e={answer:this.selectedAnswers()};-1<this.selectedAnswers().indexOf("Other")&&(e.other=this.freeResponse()),this.parent.submit(e)},CheckboxQuestion.prototype.check=function(e){var t=this;return function(){if(-1==t.selectedAnswers().indexOf(e))t.selectedAnswers.push(e),"Other"==e&&t.showTextArea(!0);else{var a=t.selectedAnswers().indexOf(e);"Other"==e&&t.showTextArea(!1),t.selectedAnswers.splice(a,1)}}},a.exports=CheckboxQuestion}),define("ui.survey.ConfirmQuestion",function(e,t,a){function ConfirmQuestion(e,t){this.title=t.title,this.message=t.message,this.parent=t.parent,this.primaryBtnText=t.primaryBtnText?t.primaryBtnText:"Let's do it",this.secondaryBtnText=t.secondaryBtnText?t.secondaryBtnText:"No, thanks",e(this)}ConfirmQuestion.prototype.secondaryAction=function(){this.parent.quitSurvey()},ConfirmQuestion.prototype.primaryAction=function(){this.parent.next()},a.exports=ConfirmQuestion}),define("ui.survey.CreatureIntro",function(e,t,a){function CreatureIntro(e,t){this.parent=t.parent,this.answerChoices=[{large:"Later",small:"",selected:ko.observable(),index:0},{large:"Now",small:"(Recommended)",selected:ko.observable(),index:1}]}CreatureIntro.prototype.submit=function(e){var t=this;return function(){"Later"==e.large?t.parent.quitSurvey():t.parent.startSurvey()}},a.exports=CreatureIntro}),define("ui.survey.GoalsQuestion",function(e,t,a){function GoalsQuestion(){this.selectedAnswers=ko.observableArray([]),this.questionText="What are your goals with Osmosis?",this.goalsData=[{goalHtml:"<span> Spend less time <strong> understanding a specific topic</strong></span>",goal:"Spend less time understanding a specific topic",_with:"with",icon:"",resource:"Videos",library:!0,showIcon:!1,style:"goals-question-topic"},{goalHtml:"<span>Spend less time <strong>developing a study plan</strong></span>",goal:"Spend less time developing a study plan",_with:"with a",icon:"fi fi-calendar",resource:"Study schedule",library:!1,showIcon:!0,style:"goals-question-study-schedule"},{goalHtml:"<span>Make more <strong>connections among health topics</strong></span>",goal:"Make more connections among health topics",_with:"with",icon:"",resource:"Case Study Vignettes",library:!0,showIcon:!1,style:"goals-question-vignettes"},{goalHtml:"<span>Maximize my ability to <strong>memorize facts</strong></span>",goal:"Maximize my ability to memorize facts",_with:"with",icon:"",resource:"Flashcards",library:!0,showIcon:!1,style:"goals-question-flashcards"},{goalHtml:"<span><strong>Retain facts</strong> </span>",goal:"Retain information longer",_with:"with",icon:"fi fi-rep-clock",resource:"Daily Spaced Repetition",library:!1,showIcon:!0,style:"goals-question-daily-spaced-repetition"}]}GoalsQuestion.prototype.quit=function(){this.parent.quitSurvey()},GoalsQuestion.prototype.submit=function(){this.sendIntercomData(),this.parent.submit(this.questionText,this.selectedAnswers())},GoalsQuestion.prototype.check=function(e){var t=this;return function(){if(-1==t.selectedAnswers().indexOf(e))t.selectedAnswers.push(e);else{var a=t.selectedAnswers().indexOf(e);t.selectedAnswers.splice(a,1)}}},GoalsQuestion.prototype.sendIntercomData=function(){var e=this;this.selectedAnswers().forEach(function(t){e.goalsData.forEach(function(e){if(t==e.goal){var a=e.style.replace(/-/g,"_");window.IntercomEvent("trackEvent",a)}})})},a.exports=GoalsQuestion}),define("ui.survey.RadioQuestion",function(e,t,a){function RadioQuestion(e,t){this.selectedAnswer=ko.observable(),this.questionText=t.item,this.options=t.options,this.freeResponse=ko.observable(),this.showTextArea=ko.observable(!1)}RadioQuestion.prototype.quit=function(){this.parent.quitSurvey()},RadioQuestion.prototype.submit=function(){var e={answer:this.selectedAnswer()};~this.selectedAnswer().indexOf("Other")&&(e.other=this.freeResponse()),this.parent.submit(e)},RadioQuestion.prototype.check=function(e){var t=this;return function(){t.selectedAnswer(e),t.checkforOther(e)}},RadioQuestion.prototype.checkforOther=function(e){this.showTextArea("Other"==e)},a.exports=RadioQuestion}),define("ui.survey.SimpleIntro",function(e,t,a){function IntroModal(e,t){this.title=ko.observable(t.title),this.message=ko.observable(t.message),this.parent=t.parent,this.introConfirm=t.introConfirm,this.primaryAction={continue:!0,text:ko.observable(t.introPrimaryBtn?t.introPrimaryBtn:"Let's do it")},this.secondaryAction={continue:!1,text:ko.observable(t.introSecondaryBtn?t.introSecondaryBtn:"No, thanks")},e(this)}IntroModal.prototype.submit=function(e){var t=this;return function(){e.continue?t.parent.startSurvey():t.introConfirm?(t.parent.current.dom.remove(),t.parent.current=fs.mixAppend($(".modal-content",t.parent.dom),"ui/survey/ConfirmQuestion",{parent:t.parent,title:t.introConfirm.confirmTitle,primaryBtnText:t.introConfirm.primaryBtnText,secondaryBtnText:t.introConfirm.secondaryBtnText})):t.parent.quitSurvey()}},a.exports=IntroModal}),define("ui.survey.Survey",function(e,t,a){function Survey(e,t){this;this.onBeforeAction=t.onBeforeAction,this.surveyDataAll=[],this.currentIdx=-1,this.questions=t.questions,this.onComplete=t.onComplete,this.exitUI=t.exitUI||"ui/survey/ThankYou",this.exitMessage=t.exitMessage,this.exitBtn=t.exitBtn,this.onExit=t.onExit,e(this),this.current=fs.mixAppend($(".modal-content",this.dom),t.introUI||"ui/survey/SimpleIntro",{parent:this,title:t.introTitle,message:t.introMessage,introCancel:t.introCancel,introPrimaryBtn:t.introPrimaryBtn,introSecondaryBtn:t.introSecondaryBtn,introConfirm:t.introConfirm})}function getMixpanelPayload(e){for(var t={},a=0;a<e.length;a++)t[e[a].question]=e[a].answer;return t}Survey.prototype.startSurvey=function(){this.next()},Survey.prototype.submit=function(e){var t=this,a=this.questions[this.currentIdx];a.onResponse&&a.onResponse(e,a),this.next()},Survey.prototype.next=function(){this;this.current.dom.remove(),this.currentIdx++;var e=this.questions[this.currentIdx];if(e){this.current=fs.mixAppend($(".modal-content",this.dom),{radio:"ui/survey/RadioQuestion",checkbox:"ui/survey/CheckboxQuestion",text:"ui/survey/TextQuestion",boxes:"ui/survey/BoxChoiceQuestion"}[e.type]||e.ui,{parent:this,item:e.item,type:e.type,options:e.options})}else this.onComplete&&this.onComplete(),this.current=fs.mixAppend($(".modal-content",this.dom),this.exitUI,{parent:this,message:this.exitMessage,btnText:this.exitBtn,onExit:this.onExit})},Survey.prototype.addGutter=function(){$(".modal-content",this.parent.dom).addClass("bottom-gutter")},Survey.prototype.removeGutter=function(){$(".modal-content",this.parent.dom).removeClass("bottom-gutter")},Survey.prototype.confirm=function(){},Survey.prototype.quitSurvey=function(){this.dom.remove()},Survey.prototype.sendAllData=function(){var e=this;keen.track("post_purchase",{survey_name:"post_purchase",data:e.surveyDataAll}),analytics.track("Post Purchase Survey",getMixpanelPayload(this.surveyDataAll)),0<this.surveyDataAll.length&&slack.channel("activity-purchasesur","Completed purchase survey")},a.exports=Survey}),define("ui.survey.TextQuestion",function(e,t,a){function TextQuestion(e,t){this.questionText=t.item,this.freeResponse=ko.observable()}TextQuestion.prototype.quit=function(){this.parent.quitSurvey()},TextQuestion.prototype.submit=function(){this.parent.submit(this.freeResponse())},a.exports=TextQuestion}),define("ui.survey.ThankYou",function(e,t,a){function ThankYou(e,t){this;this.visible=ko.observable(!1),this.onBeforeAction=t.onBeforeAction,this.message=t.message,this.btnText=t.btnText,this.onExit=t.onExit,e(this)}ThankYou.prototype.mainAction=function(){"function"==typeof this.onBeforeAction&&this.onBeforeAction(),this.visible(!1),this.parent.dom.remove(),this.onExit&&this.onExit()},a.exports=ThankYou}),define("ui.survey.WelcomeModal",function(e,t,a){function WelcomeModal(e,t){this;this.onBeforeAction=t.onBeforeAction,this.welcomeText="<b>Welcome to Osmosis, "+window.user.first+"!</b>",e(this)}WelcomeModal.prototype.mainAction=function(){this.parent.quitSurvey()},a.exports=WelcomeModal}),define("ui.survey.purchaseSurvey",function(e,t,a){a.exports=function(e,t){function track(a,s){s=s||["intercom","keen","mixpanel"],a.price=e,a.currency=t,-1<s.indexOf("intercom")&&IntercomEvent("trackEvent","purchase_survey",a),-1<s.indexOf("mixpanel")&&analytics.track("Post Purchase Survey",a),-1<s.indexOf("keen")&&keen.track("purchase_survey",a),-1<s.indexOf("slack")&&slack.channel(a.channel,a.slackTitle)}fs.mixAppend($("body"),"ui/survey/Survey",{introView:"ui/Survey/SimpleIntro",introTitle:"<b>Do you have time for a quick survey?</b> <br>(Get a 30% off textbook code)",introMessage:"We're constantly working to add more content and features to provide you the best learning experience possible. To this end, we'd appreciate your answers to the following three quick questions.",questions:[{item:"What most influenced your decision to upgrade to Osmosis Prime today?",type:"radio",options:["Classmate recommendation","Professor recommendation","Video library","Question bank","Flashcards bank","Scheduling tool","Workspaces","Other"],onResponse:function onResponse(e,t){e.other?track({channel:"activity-buy-survey",slackTitle:t.item+"|"+e.other},["slack"]):track({response:e.answer,question:"purchase_decision"})}},{item:"What Osmosis Prime-member discounts are you interested in?",type:"checkbox",options:["Osmosis textbooks","Osmosis swag","Partner tools","Academic coaching","Other"],onResponse:function onResponse(e,t){e.other&&track({channel:"activity-buy-survey",slackTitle:t.item+"|"+e.answer.join(", ")},["slack"]);var a=e.answer.join(", ");intercomData.update("user",{discount_interest:a}),track({response:a,question:"discounts"})}},{item:"How can we best share Osmosis with your classmates?",type:"text",onResponse:function onResponse(e,t){e&&(track({channel:"activity-buy-text",slackTitle:t.item+"|"+e},["slack"]),fs.post("userRequest",{subject:"How can we better share Osmosis:",message:e}))}}],onComplete:function onComplete(){},exitMessage:"Thanks for taking the time to take that survey! You can use the code <b>PRIME30</b> at books.osmosis.org!",exitBtn:"Keep Learning!",onExit:function onExit(){window.location.href="/"}})}}),define("ui.survey.welcomeSurvey",function(e,t,a){var s=t("app/tools"),o=[{type:"videos",min:2,item:"Do you want to <br><b>study using videos</b>?"},{type:"flashcards",item:"Do you want to <br><b>retain facts with flashcards</b>?"},{type:"qbank",item:"Do you want to <br><b>answer board-style questions</b>?"},{type:"schedule",min:2,item:"Do you want to <br><b>set up a daily study schedule</b>?"},{type:"workspaces",item:"Do you want to <br><b>integrate your school's curriculum</b>?"}],d={Yes:1,Maybe:2,No:0};a.exports=function(e){var t=[],a=_.indexBy(s,"type");for(var n in o)a[o[n].type]&&(window.course&&"nursing"==window.course.type&&"qbank"==o[n].type&&(o[n].item=o[n].item.replace("board-style","NCLEX")),t.push({item:o[n].item,tool:o[n].type,min:o[n].min,type:"boxes",onResponse:function onResponse(t,s){e&&(e(),e=null);var o=a[s.tool],n=d[t];analytics.track("Dashboard Tools",{tool:o.title,response:t}),!n&&s.min&&(n=s.min),o.active(n),fs.post("setToolState",{id:o.id,state:n})},options:["No","Maybe","Yes"]}));fs.mixAppend($("body"),"ui/survey/Survey",{introUI:"ui/survey/SimpleIntro",introTitle:"<b>Get started by choosing your tools</b>",introMessage:"Selecting the tools you think you'll use will help Osmosis personalize your study experience.",introPrimaryBtn:"Let's do it",introSecondaryBtn:"Skip setup",introConfirm:{confirmTitle:"Are you sure you want to <br><b>skip setup?</b>",primaryBtnText:"No, continue",secondaryBtnText:"Yes, skip"},questions:t,onComplete:function onComplete(){},exitUI:"ui/survey/WelcomeModal",exitMessage:"Thanks for taking the time to take that survey! You'll receive an email with a discount link for the textbook shortly.",exitBtn:"Keep Learning!",onExit:function onExit(){console.log("done")}})}}),define("ui.tileColors",function(e){var t=Math.ceil;e.getColor=function(e,a){if(1==a)return 0==e.attempted?"default":e.attempted==e.available?"purple-heat5":"purple-heat"+t(e.attempted/e.available/.25);if(2==a||3==a){if(0==e.attempted)return"default";var s=e.correct/e.attempted;if(.85<s)return"green";if(.7<s)return"light-green";if(.5<s)return"red";if(0<e.attempted)return"maroon"}else return"default"}}),define("ui.tutorial.MyComponent",function(e,t,a){var s=function(){"use strict";function MyComponent(e){_classCallCheck(this,MyComponent),this.hello="Hello universe \uD83D\uDC4B",e(this),fs.mix(this,"ui/tutorial/YourComponent",{message:"I was passed through args!"})}return _createClass(MyComponent,[{key:"clickHandler",value:function clickHandler(){console.log("Clicked!")}}]),MyComponent}();a.exports=s}),define("ui.tutorial.YourComponent",function(e,t,a){a.exports=function YourComponent(e,t){"use strict";_classCallCheck(this,YourComponent),this.message=t.message||"Default message",e(this)}}),define("ui.video.Prompt",function(e,t,a){var s=function(){"use strict";function Prompt(){_classCallCheck(this,Prompt),this.promptVisible=ko.observable(!0)}return _createClass(Prompt,[{key:"togglePrompt",value:function togglePrompt(){this.promptVisible(!this.promptVisible())}}]),Prompt}();a.exports=s}),define("ui.video.ResumePrompt",function(e,t,a){var s=t("ui/video/Prompt"),o=function(e){"use strict";function ResumePrompt(e,t){var a;_classCallCheck(this,ResumePrompt),a=_possibleConstructorReturn(this,_getPrototypeOf(ResumePrompt).call(this,null,t));var s=_assertThisInitialized(a);return a.parent=t.parent,a.title=t.title,e(_assertThisInitialized(a)),a.dom.click(function(e){0===$(e.target).closest(".prompt-buttons").length&&s.togglePrompt()}),a}return _inherits(ResumePrompt,e),_createClass(ResumePrompt,[{key:"resumeVideo",value:function resumeVideo(){this.togglePrompt(),this.parent.doPlayVideo()}},{key:"startOver",value:function startOver(){this.togglePrompt(),this.parent.updateVideoTime(0),this.parent.doPlayVideo()}}]),ResumePrompt}(s);a.exports=o}),define("ui.video.ReviewPrompt",function(e,t,a){var s=Math.floor,o=t("ui/video/Prompt"),d=t("ui/QuizBuilder"),n=t("app/addToQueue"),l=function(e){"use strict";function ReviewPrompt(e,t){var a;_classCallCheck(this,ReviewPrompt),a=_possibleConstructorReturn(this,_getPrototypeOf(ReviewPrompt).call(this,null,t));var o=_assertThisInitialized(a);return a.parent=t.parent,a.player=t.player,a.title=t.title,a.flashcardIDs=t.flashcardIDs,a.fcCount=t.fcCount,a.quizBuilder=new d,a.hasPrime=ko.observable(1<=window.user.prime.status),a.estimatedTime=s(.83*a.fcCount),e(_assertThisInitialized(a)),a.player.pause(),a.dom.click(function(e){0===$(e.target).closest(".prompt-buttons").length&&o.togglePrompt()}),a}return _inherits(ReviewPrompt,e),ReviewPrompt}(o);l.prototype.startQuiz=function(){var e=this;e.quizBuilder.quiz={ids:e.flashcardIDs,type:"flashcards"},e.quizBuilder.displayScoreboard(null,function(){}),this.parent.trackCardInteraction({feature:"flashcard",interaction:"start",source:"video-review-prompt"}),this.togglePrompt()},l.prototype.saveToQueue=function(){n.flashcards(this.flashcardIDs,$(".quiz-item.flashcards .quiz-actions .save",this.dom)),this.parent.trackCardInteraction({feature:"flashcard",interaction:"save",source:"video-review-prompt"}),this.togglePrompt()},a.exports=l}),define("ui.video.SharePrompt",function(e,t,a){function appendParams(e,t){var a=[];for(var s in t)a.push(s+"="+t[s]);return-1<e.indexOf("?")?encodeURI(e+"&"+a.join("&")):encodeURI(e+"?"+a.join("&"))}var s=t("ui/video/Prompt"),o=function(e){"use strict";function SharePrompt(e,t){var a;_classCallCheck(this,SharePrompt),a=_possibleConstructorReturn(this,_getPrototypeOf(SharePrompt).call(this,null,t));var s=_assertThisInitialized(a);a.parent=t.parent,a.link=t.link||window.location.href;var o={};return user.code&&(o.u=user.code),t.trackingCode&&Object.assign(o,t.trackingCode),a.link=appendParams(a.link,o),e(_assertThisInitialized(a)),a.copyTip=$(".copy-tip").tooltip({trigger:"manual"}),a.dom.click(function(e){0===$(e.target).closest(".prompt-buttons").length&&s.togglePrompt()}),a}return _inherits(SharePrompt,e),_createClass(SharePrompt,[{key:"shareOnFacebook",value:function shareOnFacebook(){FB.ui({method:"share",href:this.link},function(){}),this.parent.trackCardInteraction({feature:"share",interaction:"facebook",source:"video-share-prompt"})}},{key:"shareOnTwitter",value:function shareOnTwitter(){var e="https://twitter.com/intent/tweet?text=".concat(window.encodeURI("Check out this video from Osmosis: "),"&url=").concat(this.link);window.open(e,"_blank"),this.parent.trackCardInteraction({feature:"share",interaction:"twitter",source:"video-share-prompt"})}},{key:"shareLink",value:function shareLink(){var e=this,t=$(".share-link-hidden",this.dom);t.select(),document.queryCommandSupported("copy")?(document.execCommand("copy"),this.copyTip.tooltip("show"),setTimeout(function(){e.copyTip.tooltip("hide")},2e3)):fs.alert("Copy and paste this on your favorite social media platforms!<br /><br /><input id=\"share-link-popup-input\" style=\"width:100%;\" type=\"text\" value=\""+this.link+"\" /><script type=\"text/javascript\">function inputSelect(){$(\"#share-link-popup-input\").select();} setTimeout(function(){inputSelect()},500);</script>","Share","info"),this.parent.trackCardInteraction({feature:"share",interaction:"copy",source:"video-share-prompt"})}}]),SharePrompt}(s);a.exports=o}),define("ui.wikiViewer",function(e,t){var a=t("ui/overlay"),s=t("models/Node"),o=t("ui/wikiViewerShortcuts"),d=null;e.showWiki=function(e,t,s){t=t||{};var n=$("<div>");if(!d){var l=a(n,function(){d=null,o.unregister(),s()}),c=function close(){d=null,l.remove(),o.unregister(),s&&s()},p=fs.mixAppend(l,"ui/ConceptBrowser",{parent:this,height:l.height()-140,topic:e,tab:t.tab||"default",ref:t.ref||"none",startVideo:t.startVideo,originID:t.originID||0,close:c,termData:t.termData});p.track(),o.register(p),n.click(function(){l.remove(),d=null,o.unregister(),s&&s()}),d=p}else d.go(e)}}),define("ui.wikiViewerSeries",function(e,t){var a=t("ui/overlay"),s=t("models/Node"),o=t("ui/wikiViewerShortcuts"),d=null;e.showWiki=function(e,t,s){t=t||{};var n=e.map(function(e){return e.text}).indexOf(t.text),l=$("<div>");if(!d){var c=a(l,function(){d=null,o.unregister(),s()}),p=function close(){c.remove(),d=null,o.unregister(),s&&s()},u=fs.mixAppend(c,"ui/ConceptSeriesBrowser",{parent:this,height:c.height()-140,terms:e,title:t.title,tab:t.tab,close:p,currentConcept:t.text||0,conceptIdx:n,ref:t.ref||"none"});o.register(u),l.click(function(){c.remove(),d=null,o.unregister(),s&&s()}),d=u}else d.go(e[n])}}),define("ui.wikiViewerShortcuts",function(e,t){var a=t("ui/videoPlayer");e.register=function(t){registerHotkey("concept-card","down",function(a){a.preventDefault(),a.stopPropagation(),t.nextSection()}),registerHotkey("concept-card","up",function(a){a.preventDefault(),a.stopPropagation(),t.prevSection()}),registerHotkey("concept-card","right",function(s){s.preventDefault(),s.stopPropagation(),a.pauseAll(),t.nextConcept()}),registerHotkey("concept-card","left",function(s){s.preventDefault(),s.stopPropagation(),a.pauseAll(),t.prevConcept()})},e.unregister=function(){clearShortcuts(),unregisterHotkeys("concept-card"),restoreShortcuts()}}),define("app.activityMap",function(e){e.activityIndex=null}),define("app.tokenizeHTML",function(e,t,a){a.exports=function(e){for(var t=[],a="",s=0;s<e.length;){for(var a="";"<"!=e[s]&&s<e.length;)a+=e[s],s++;if(""!=a&&(t.push(a),a=""),"<"==e[s]){for(;">"!=e[s]&&s<e.length;)a+=e[s],s++;if(""!=a&&">"==e[s]){s++,t.push(a+">"),a="";continue}}""!=a&&t.push(a)}return t}}),define("app.who",function(e){function getUserObservable(e){var t=a[e];return t||(t=ko.observable({}),a[e]=t,s[e]=t,o[e]=!0),t}function fetch(e){var t=[];for(var a in o)t.push(a),delete o[a];t.length&&fs.post("get_user_index",{ids:t},function(t){load(t.data),e&&e()})}function fetchUser(e,t){fs.post("get_user_index",{ids:[e]},function(e){load(e.data),t&&t()})}function load(e){var a=fs.transpose(e.index);for(var o in a){var d=+a[o].ID;t[d]=a[o],a[o].avatar&&(a[o].avatar=window.mediaServerS3+"/"+a[o].avatar+"/_.jpg"),d in s&&(s[d](a[o]),delete s[d]),getUserObservable(d).notifySubscribers()}}var t={},a={},s={},o={},d=0;e.autoUpdate=!1,e.updateUser=function(e,t){s[e]=getUserObservable(e),t?fetchUser(e,t):setTimeout(function(){fetchUser(e)},100)},e.update=function(e){e?fetch(e):setTimeout(function(){fetch()},100)},e.load=function(e){for(var t in e.index.ID)getUserObservable(e.index.ID[t]);load(e)},e.usersStr=function(t){var a=[],s=t(),o=s.indexOf(window.userID);for(var d in-1!=o&&(s[o]=s[0],s[0]=window.userID),s)a.push(e.personalize(ko.observable(s[d]))());if(0==a.length)return"";if(1==a.length)return a[0];if(2==a.length)return a[0]+" and "+a[1];for(var n="",d=0;d<a.length-1;d++)n+=a[d]+", ";return n+"and "+a[a.length-1]},e.is=function(t){return ko.computed(function(){var a=t();if(0<a){var s=getUserObservable(a)();return s&&"preferredName"in s?s.preferredName+" "+s.lastName:(e.autoUpdate&&e.update(),"")}return"Anonymous"})},e.avatar=function(e){return ko.computed(function(){var t=e();if(0<t){var a=getUserObservable(t)();return a&&"avatar"in a?a.avatar:""}return""})},e.data=function(e){return ko.computed(function(){var t=e();if(0<t){var a=getUserObservable(t)();return a&&"preferredName"in a?{name:a.preferredName,last:a.lastName}:{}}return{}})},e.personalize=function(e){return ko.computed(function(){var t=e();if(0<t){if(t!=window.userID){var a=getUserObservable(t)();return a&&"preferredName"in a?a.preferredName+" "+a.lastName:""}return"You"}return"Anonymous"})},e.me=function(){return e.is(userID)},e.lookup=function(e){var a=t[e];if(a==null){console.log("call");var s=call("/get_user_index",{ids:[e]}),o=fs.transpose(s.data.index);return 0<o.length?(t[o[0].ID]=o[0],d++,o[0]):null}return a}}),define("cms.ContentGallery",function(e,t,a){function ContentGallery(e,a){var s=this;this.route=a.route,this.model=a.model,this.fields=ko.observableArray(),this.selectedField=ko.observable(),this.searchText=ko.observable(),this.filterTypes=ko.observableArray(["eq","ne","lt","gt","lte","gte"]),this.connectors=ko.observableArray(["and","or"]),this.filters=ko.observableArray(),this.tableView=ko.observable(!1),e(this),this.originalSource=ko.observableArray(),this.source=ko.observableArray(),this.list=fs.mixList(this,".items",this.editing).source(a.route,a.view,{source:this.source}),this.list.viewModel=a.view;t(a.model);$.get("/v0/"+a.route+"/preview",{__ts:+new Date},function(e){var t=[];for(var o in e.preview){var d=fs.fromObject(a.route,e.preview[o]);0==o&&s.initSearch(d._resource),t.push(d)}s.source(t),s.originalSource(t),fs.mix(s,"cms/ContentSpreadsheet",{data:s.source,model:a.model,list:s.list,view:s.list.viewModel})})}ContentGallery.prototype.edit=function(e){var t=this;return function(){dialog("ui/dialogs/CMSEdit",function(t,a,s,o){a?fs.update(e.model,s,fs.error(o)):(e.model.rollback(),s())},{model:e.model,list:t.list,view:t.list.viewModel})}},ContentGallery.prototype.add=function(){var e=this,t=fs.fromObject(this.route);dialog("ui/dialogs/CMSEdit",function(a,s,o,d){s&&fs.create(t,function(){e.list.unshift(e.list.viewModel,{model:t}),o()},fs.error(d))},{model:t,view:this.list.viewModel})},ContentGallery.prototype.initSearch=function(e){for(var t in e.model)this.fields.push(t)},ContentGallery.prototype.addFilter=function(){var e=fs.mixAppend($(".additional-filters"),"cms/Filters",{fields:this.fields,filterTypes:this.filterTypes,connectors:this.connectors});this.filters.push(e)},ContentGallery.prototype.search=function(){var e=this;fs.get("/v0/"+this.route+"/search",{field:this.selectedField(),query:this.searchText()},function(t){var a=[];for(var s in t.results)a.push(fs.fromObject(e.route,t.results[s]));e.source(a)})},ContentGallery.prototype.reset=function(){this.source(this.originalSource()),this.filters().forEach(function(e){return fs.unmix(e)}),this.searchText("")},a.exports=ContentGallery}),define("cms.ContentSpreadsheet",function(e,t,a){function ContentSpreadsheet(e,t){this;this.headers=t.data().length?this.getKeys(t.data()[0]):null,this.tableData=t.data,this.list=t.list,this.asc=ko.observable(!0)}ContentSpreadsheet.prototype.getKeys=function(e){var t=["nodeID","beginEdit","commit","rollback","addEditable","hasChanges"];return Object.keys(e).filter(function(e){return-1===t.indexOf(e)&&"_"!==e[0]})},ContentSpreadsheet.prototype.truncateText=function(e){return _.isFunction(e)&&"string"==typeof e()&&250<e().length?e().slice(0,250)+"...":e},ContentSpreadsheet.prototype.sortTable=function(e){var t=this;return function(){var a;a=t.asc()?_.sortBy(t.tableData(),function(t){return t[e]()}):_.sortBy(t.tableData(),function(t){return t[e]()}).reverse(),t.tableData(a),t.asc(!t.asc())}},ContentSpreadsheet.prototype.edit=function(e){var t=this;return function(){dialog("ui/dialogs/CMSEdit",function(t,a,s,o){a?fs.update(e,s,fs.error(o)):(e.rollback(),s())},{model:e,list:t.list,view:t.list.viewModel})}},a.exports=ContentSpreadsheet}),define("cms.Filters",function(e,t,a){a.exports=function Filters(e,t){this;for(var a in t)this[a]=t[a];this.selectedField=ko.observable(),this.searchText=ko.observable(),e(this)}}),define("cms.expandFields",function(e,t,a){function displayView(e,t){function addField(e){var t=a[e];if(!t)throw new Error("Could not find definition for field "+e);return"url"===e?"<div class='field-cell'><div class='field-name'>"+e+"</div><div class='field-content' data-bind='html: model."+e+", click: () => copyURL(null, event)'></div></div>":"<div class='field-cell'><div class='field-name'>"+e+"</div><div class='field-content' data-bind='html: model."+e+"'></div></div>"}var a=t._resource.model;$(".image",e).each(function(e,a){var o=$(a).attr("src"),d=!t[o]();$(a).replaceWith("<div class='image-cell'><div class='empty-image' data-bind='visible: !model."+o+"()'>"+s+"</div><img data-bind='visible: model."+o+", attr: {src: model."+o+"() ? \""+window.mediaServerS3+"/\"+model."+o+"() : \"\"}'>")}),$(".title",e).each(function(e,t){var a=$(t).attr("src");$(t).replaceWith("<div class='title'><h4 data-bind='html: model."+a+"'></h4></div>")}),$(".fields",e).each(function(e,t){var a=$(t).attr("list").split(","),s="";for(var o in a)s+=addField(a[o]);$(t).replaceWith(s)})}function makeSet(e,t){for(var a=[],s=e;s<=t;s++)a.push(s);return a}function selectBox(e,t){var a="";for(var s in t)a+="<option value=\""+t[s]+"\">"+t[s]+"</option>";return"<select data-bind='value: model."+e+"'>"+a+"</select>"}function editView(e,t){function addField(e){var t=a[e];if(!t)throw new Error("Could not find definition for field "+e);if(t.static)return"";if("textarea"==t.field)var s="<textarea type='text' data-bind='value: model."+e+"'/>";else{if("upload"==t.field)return addUploadField(e,t.filters);if(t.set)var o="object"==_typeof(t.set)?t.set:makeSet(t.min,t.max),s="<div class='field-content'>"+selectBox(e,o)+"</div>";else if(t.source)var s="<input class='autocomplete' type='text' source='"+t.source+"' field='"+e+"' data-bind='value: model."+e+", valueUpdate:\"keypress\"'>";else var s="<input type='text' data-bind='value: model."+e+"'>"}return"<div class='field-cell'><div class='field-name'>"+e+"</div><div class='field-content'>"+s+"</div></div>"}function addImageField(e){return"<div class='field-cell'><div class='field-name'>"+e+"</div><div class='field-content'>"+("<input type='text' data-bind='value: model."+e+"'><div class='uploader mlm' style='display: inline-block' field="+e+"></div>")+"</div></div>"}function addUploadField(e,t){var a=t?"filters=\""+t+"\"":" ";return"<div class='field-cell'><div class='field-name'>"+e+"</div><div class='field-content'>"+("<input type='text' data-bind='value: model."+e+"'><div class='uploader mlm' "+a+"style='display: inline-block' field="+e+"></div>")+"</div></div>"}var a=t._resource.model;$(".image",e).each(function(e,t){a[$(t).attr("src")].static||$(t).replaceWith(addImageField($(t).attr("src")))}),$(".title",e).each(function(e,t){$(t).replaceWith(addField($(t).attr("src")))}),$(".fields",e).each(function(e,t){var a=$(t).attr("list").split(","),s="";for(var o in a)s+=addField(a[o]);$(t).replaceWith(s)})}var s=$(template("cms/emptyImage")).html();a.exports=function(e,t){e.addClass("cms-ContentContainer");var a=(e.attr("data-bind")||"").split(",");a.push("click: parent.parent && parent.parent.edit ? parent.parent.edit($root) : null"),a.push("css: {viewing: !__editing(), editing: __editing}"),e.attr("data-bind",a.join(","));var s=$("<div class=\"data-model-view\">"+$(".data-model",e).html()+"</div>"),o=$("</div><div class=\"data-model-edit\">"+$(".data-model",e).html()+"</div>");displayView(s,t),editView(o,t),$(".data-model",e).replaceWith(s[0].outerHTML+o[0].outerHTML)}}),define("core.common",function(e,t){var a=Math.max,o=Math.min,d=Math.floor,n=Math.round;function isHidden(e){return null===e[0].offsetParent}t("core/dialog");var l={};e.BEGINNING_OF_TIME=1325376000000,$.fn.extend({_:function _(e){var t=this;return"INPUT"!=t.prop("tagName")&&(t=$("input",this),0==t.length&&(t=this)),t.attr("data-bind",e),this}}),ko.bindingHandlers.attach={init:function init(){},update:function update(e,t){$(e).html(t)}},ko.bindingHandlers.change={init:function init(){},update:function update(e,t){$(e).change(t())}},ko.bindingHandlers.has={init:function init(){},update:function update(e,t){var a=ko.utils.unwrapObservable(t());for(var s in a){var o=a[s];$(e).click(function(){setTimeout(function(){o($(e).hasClass(s))},100)})}}},ko.bindingHandlers.slideVisible={init:function init(e,t){var a=ko.utils.unwrapObservable(t());$(e).toggle(a)},update:function update(e,t){var a=ko.utils.unwrapObservable(t());a?$(e).slideDown():$(e).slideUp()}},e.elementFadeVisible=function(e,t){e instanceof Element||console.warn("Warning: elementFadeVisible expects a dom element and not a jquery object");var a=t.fadeDuration,s=t.fadeDirection,o=t.fadeDistance,d={targets:e,opacity:{value:[0,1],easing:"easeInOutCubic",duration:a},autoplay:!1,complete:function complete(){!$(e).is(":visible")&&t.onFadeComplete&&t.onFadeComplete(),$(e).css({transform:"",opacity:""})},begin:function begin(){$(e).css("opacity","0").show()}},n={targets:e,opacity:[1,0],duration:a,autoplay:!1,easing:"easeInOutCubic",complete:function complete(){$(e).is(":visible")&&t.onFadeComplete&&t.onFadeComplete(),$(e).hide().css({transform:"",opacity:""})}};if(s)switch(s.toLowerCase()){case"up":d.translateY={value:[o,0],easing:"easeOutElastic",elasticity:.4*a,duration:2*a},n.translateY={value:[0,o],easing:"easeInOutCubic",duration:a};break;case"down":d.translateY={value:[-o,0],easing:"easeOutElastic",elasticity:.4*a,duration:2*a},n.translateY={value:[0,-o],easing:"easeInOutCubic",duration:a};break;case"left":d.translateX={value:[-o,0],easing:"easeOutElastic",elasticity:.4*a,duration:2*a},n.translateX={value:[0,-o],easing:"easeInOutCubic",duration:a};break;case"right":d.translateX={value:[o,0],easing:"easeOutElastic",elasticity:.4*a,duration:2*a},n.translateX={value:[0,o],easing:"easeInOutCubic",duration:a};}return d=anime(t.customFadeIn?t.customFadeIn:d),n=anime(t.customFadeOut?t.customFadeOut:n),{fadeIn:function fadeIn(){d.play()},fadeOut:function fadeOut(){n.play()}}},ko.bindingHandlers.fadeVisible={init:function init(e,t){var a=t(),s=ko.unwrap(a);$(e).toggle(s)},update:function update(t,a,s,o){var d={fadeDuration:s().fadeDuration?s().fadeDuration:250,fadeDirection:s().fadeDirection?s().fadeDirection:null,fadeDistance:s().fadeDistance?s().fadeDistance:25,onFadeComplete:function(){s().onFadeComplete&&s().onFadeComplete(o)},customFadeIn:s().customFadeIn,customFadeOut:s().customFadeOut},n=e.elementFadeVisible(t,d),l=a(),c=ko.unwrap(l);c?n.fadeIn():n.fadeOut()}},ko.bindingHandlers.scaleVisible={init:function init(e,t){var a=t(),s=ko.unwrap(a);$(e).toggle(s)},update:function update(e,t,a){var s=a().scaleDuration?a().scaleDuration:500,o=anime({targets:e,opacity:{value:[0,1],easing:"easeInOutCubic",duration:.2*s},scale:{value:[.5,1],easing:"easeOutElastic",duration:s,elasticity:.2*s},autoplay:!1,complete:function complete(){!$(e).is(":visible")&&a().onScaleComplete&&a().onScaleComplete(viewModel),$(e).css({transform:"",opacity:""})},begin:function begin(){$(e).css("opacity","0").show()}}),d=anime({targets:e,opacity:[1,0],scale:[1,.5],duration:s/2,autoplay:!1,easing:"easeInOutCubic",complete:function complete(){$(e).is(":visible")&&a().onScaleComplete&&a().onScaleComplete(viewModel),$(e).hide().css({transform:"",opacity:""})}}),n=t(),l=ko.unwrap(n);l?o.play():d.play()}},ko.bindingHandlers.bootstrapSwitchOn={init:function init(e,t){$elem=$(e),$(e).bootstrapSwitch("setState",ko.utils.unwrapObservable(t())),$elem.on("switch-change",function(a,e){t()(e.value)})},update:function update(e,t){var a=$(e).bootstrapSwitch("status"),s=ko.utils.unwrapObservable(t());a!=s&&$(e).bootstrapSwitch("setState",s)}},e.elementAjaxLoader=function(t,a,s,o){$(t).click(function(d){d.preventDefault(),"undefined"==o||null==o||o||d.stopPropagation();var e=$(t),n=null;if(e.hasClass("button"))n=e.html(),buttonWidth=e.css("width"),e.empty().append("<div class=\"small loading-spinner\"></div>").addClass("loading").css({minWidth:buttonWidth}).attr({disabled:!0}),a.call(s,function(t){e.empty().removeClass("loading"),t?e.append(t.message?t.message:n).addClass(t.classes?t.classes:"").attr({disabled:!!t.disabled&&t.disabled}):e.append(n).attr({disabled:!1})});else{var l=$("<div class=\"loading-spinner inline-block\"></div>"),c=$(t).css("line-height");l.css({width:c,height:c,margin:"auto 5px"}),$(t).after(l),a.call(s,function(){l.remove()})}})},ko.bindingHandlers.ajax={init:function init(t,a,s,o){var d=ko.utils.unwrapObservable(a()),n=s().clickBubble;e.elementAjaxLoader(t,d,o,n)}},ko.bindingHandlers.toggle={init:function init(e,t){var a=t();ko.applyBindingsToNode(e,{click:function click(){a(!a())}})}},ko.bindingHandlers.enterkey={init:function init(e,t,a,s){var o=t();$(e).keypress(function(e){var t=e.which?e.which:e.keyCode;return 13!==t||(o.call(s),!1)})}},ko.bindingHandlers.hold={init:function init(e,t,a,s){var o=ko.utils.unwrapObservable(t()),d=0;$(e).bind("mousedown",function(){holdState=HoldState.Before,d=setTimeout(function(){holdState==HoldState.Before&&(o.call(s),holdState=HoldState.After)},500)}).bind("mouseup",function(){clearTimeout(d);var e=a();"tap"in e||(holdState=HoldState.Idle)}).bind("mouseleave",function(){clearTimeout(d),holdState=HoldState.Idle})},update:function update(){}},ko.bindingHandlers.tap={init:function init(e,t,a,s){var o=ko.utils.unwrapObservable(t());$(e).bind("mouseup",function(){holdState==HoldState.Idle||(holdState==HoldState.Before&&o.call(s),holdState=HoldState.Idle)})},update:function update(){}},ko.bindingHandlers.autocomplete={init:function init(e,t){$(e).autocomplete($(e).attr("src"),{delay:$(e).attr("delay")||10,method:$(e).attr("method")||"get",minChars:$(e).attr("minChars")||1,matchSubset:$(e).attr("matchSubset")||1,autoFill:$(e).attr("autoFill")||!1,maxItemsToShow:$(e).attr("maxItemsToShow")||10,onItemSelect:function onItemSelect(e){var a=t();a($(e).html())}})},update:function update(e,t){$(e).val(ko.unwrap(t()))}},ko.bindingHandlers.modified={init:function init(e,t,a){var s=a(),o=t(),d=function wasModified(){$(e).attr("data-label")?o.push($(e).attr("data-label")):o.push($(e).prop("tagName"))};s.value&&s.value.subscribe(d),s.autocomplete&&s.autocomplete.subscribe(d),s.checked&&s.checked.subscribe(d)},update:function update(){}},e.HoldState={Idle:0,Before:1,After:2},e.holdState=e.HoldState.Idle,e.isLocal=function(){return-1!=document.URL.search("http://127.0.0.1")||-1!=document.URL.search("http://localhost")},e.arraySearch=function(e,t,a){for(var s=e.length,o=-1,d;1<s-o;)e[d=s+o>>1]<t?o=d:s=d;return e[s]==t?s:a?s:-1},e.customArraySearch=function(e,t,a,s){for(var o=e.length,d=-1,n;1<o-d;)if(null!=e[n=o+d>>1])-1==t(e[n=o+d>>1],a)?d=n:o=n;else return-1;return o<e.length?0==!t(e[o],a)?s?o:-1:o:e.length},e.sortedPush=function(e,t,a){var s=customArraySearch(e,a,t,!0);e.splice(s,0,t)},e.displayError=function(e){$("#MessageBox").toggleClass("ui-state-error",!0).css("display","inherit"),$("#MessageIcon").toggleClass("ui-icon-alert",!0),$("#MessageText").html(e)},e.displayMessage=function(e){$("#MessageBox").toggleClass("ui-state-highlight",!0).css("display","inherit"),$("#MessageIcon").toggleClass("ui-icon-info",!0),$("#MessageText").html(e)},e.errorDialog=function(e){$("#DialogContent").html(e),$("#DialogBox").dialog({autoOpen:!1,width:400,draggable:!1,resizable:!1,title:"Error",modal:!0,buttons:{Ok:function Ok(){$(this).dialog("close")}}}),$("#DialogBox").dialog("open")},e.confirmDialog=function(e,t){$("#DialogContent").html(e),$("#DialogBox").dialog({autoOpen:!1,width:400,draggable:!1,resizable:!1,title:"Confirm",modal:!0,buttons:{Yes:function Yes(){$(this).dialog("close"),$.isFunction(t)&&t.apply()},No:function No(){$(this).dialog("close")}}}),$("#DialogBox").dialog("open")},e.yesNoDialog=function(e,t,a){e.dialog({autoOpen:!1,width:400,draggable:!1,resizable:!1,title:t,modal:!0,buttons:{Yes:function Yes(){$(this).dialog("close"),$.isFunction(a)&&a.apply()},No:function No(){$(this).dialog("close")}}}),e.dialog("open")},e.okDialog=function(e,t,a){e.dialog({autoOpen:!1,width:400,draggable:!1,resizable:!1,title:t,modal:!0,buttons:{Ok:function Ok(){$(this).dialog("close"),$.isFunction(a)&&a.apply()}}}),e.dialog("open")},e.okCancelDialog=function(e,t,a){e.dialog({autoOpen:!1,width:400,draggable:!1,resizable:!1,title:t,modal:!0,buttons:{Ok:function Ok(){$(this).dialog("close"),$.isFunction(a)&&a.apply()},Cancel:function Cancel(){$(this).dialog("close")}}}),e.dialog("open")},e.isAlphanumeric=function(e){var t=/^[A-Za-z0-9]+$/;return null!=e.match(t)},e.isAlphabetic=function(e){var t=/^[A-Za-z]+$/;return null!=e.match(t)},e.call=function(e,t){var a=null;return $.ajax({type:"POST",url:e,async:!1,data:t,success:function success(e){a=e},dataType:"json"}),a},e.dateFromUTC=function(e){return new Date(e)},e.parseResult=function(e,t,a){return function(s){try{s="string"==typeof s?JSON.parse(s):s}catch(t){s=null;var o={error:{msg:"Unknown internal error. Please report this as a bug.",type:"Internal"}};alert(o.error.msg),a&&a(o)}if(null!=s)if("success"in s){if(console.log("about to call syncIDs"),"syncIDs"in s)for(var d in s.syncIDs)l[s.syncIDs[d]]=!0;e&&e(s)}else alert(s.error.msg),t&&t(s)}},e.parseUpdatePost=function(e){return parseResult(function(){e.commit()},function(){alert("The server could not process changes."),e.rollback()})},e.defineModel=function(e,t){for(var a in e.model=[],t)e[a]=t[a],e.model.push(a)},e.extractModel=function(e){var t={};for(var a in e.model)t[e.model[a]]=ko.isObservable(e[e.model[a]])?e[e.model[a]]():e[e.model[a]];return t},e.applyEcho=function(e){var t=e.echo;for(var a in this.model)ko.isWriteableObservable(this[this.model[a]])&&this.model[a]in t&&this[this.model[a]](t[this.model[a]])},e.md5=function(e){var t;return t=$().crypt({method:"md5",source:e}),t},e.JSONToSortedArray=function(e,t,a,s){a||(a=[]),t||(t=TDataObj);var o=0;for(var d in e){o=e[d].length;break}for(var n=0,l;n<o;n++){for(var d in l=new t,e)l[d]=e[d][n],isNaN(l[d])||(l[d]=+l[d]);l.init(),sortedPush(a,l,s)}return a},e.dataToSortedArray=function(e,t,a,s){a||(a=[]),t||(t=TDataObj);var o=0;for(var d in e){o=e[d].length;break}var n=new t;for(var d in e)if(!n[d])throw new Error(d+" not found in data class definition.");for(var l=0,n;l<o;l++){for(var d in n=new t,e)n[d](e[d][l]),isNaN(n[d]())||n[d](+n[d]());sortedPush(a,n,s)}return a},e.validateTime=function(e,t){if(""==e)return"";for(var a=e.split(":"),s=0;s<a.length;s++)if(a[s]=parseInt(a[s]),0==s){if("24"!=t){if(0>a[s]||12<a[s])return"";"PM"==t?12>a[0]&&(a[s]+=12):12==a[s]&&"AM"==t&&(a[s]=0)}else if(0>a[s]||24<a[s])return"";}else if(1!=s){if(2!=s)return"";if(0>a[s]||59<a[s])return""}else if(0>a[s]||59<a[s])return"";for(var o=a[0],s=1;3>s;s++)o+=s<a.length?":"+a[s]:":00";return o},e.zeroFill=function(e,t){return t-=e.toString().length,0<t?Array(t+(/\./.test(e)?2:1)).join("0")+e:e},e.ellipsize=function(e,t){return e&&e.length>t?"<span title=\""+e+"\">"+e.substring(0,t)+"...</span>":e},e.copyObj=function(e,t,a){if(!a)for(i in e)e[i]&&"object"==_typeof(e[i])?(t[i]=new e[i].constructor,copyObj(e[i],t[i],a)):t[i]=e[i];else for(i in e)i in t||(e[i]&&"object"==_typeof(e[i])?(t[i]=new e[i].constructor,copyObj(e[i],t[i],a)):t[i]=e[i])},e.copyObj2=function(e,t,a){if(alert("test"),!a)for(i in e)alert(i),e[i]&&"object"==_typeof(e[i])?(t[i]=new e[i].constructor,copyObj(e[i],t[i],a)):t[i]=e[i];else for(i in e)i in t||(e[i]&&"object"==_typeof(e[i])?(t[i]=new e[i].constructor,copyObj(e[i],t[i],a)):t[i]=e[i])},e.shuffle=function(e){var t=e.length;if(0==t)return!1;for(;--t;){var a=d(Math.random()*(t+1)),s=e[t],o=e[a];e[t]=o,e[a]=s}},e.rangeArray=function(e,t){for(var a=[],s=e;s<=t;s++)a.push(s);return a},e.replaceURLWithHTMLLinks=function(e){if("string"==typeof e){var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return e.replace(t,"<a href='$1'>$1</a>")}return""},e.formatWithCommas=function(e){var t="";e=e.toString();for(var a=0,s=e.length-1;0<=s;s--)0!=a&&0==a%3&&(t=","+t),t=e[s]+t,a++;return t},e.pad=function(e,t){for(var a=""+e;a.length<t;)a="0"+a;return a},e.formatSecondsAsHMS=function(e){var t=d(e/3600);if(0<t){e%=3600;var a=t+":"}var t=d(e/60);return e%=60,a?a+pad(t,2)+":"+pad(e,2):t+":"+pad(e,2)},e.goToByScroll=function(e,t,a){t=t||-20,"string"==typeof e&&(e=$(e));var s=a&&"string"!=typeof a?a:e.parents(a||".scrollable");s.length?s.animate({scrollTop:e.offset().top-s.offset().top+s.scrollTop()+t},"slow"):$("html,body").animate({scrollTop:e.offset().top-$(".navbar").height()+t},"slow")},e.jumpTo=function(e,t,a){t=t||-20,"string"==typeof e&&(e=$(e));var s=e.closest(a||".scrollable");s.length?s.scrollTop(e.offset().top-s.offset().top+s.scrollTop()+t):$("html,body").scrollTop(e.offset().top-$(".navbar").height()+t)},e.clickToScroll=function(t){return function(a){a.preventDefault(),goToByScroll(t)}},e.objFind=function(e,t,a){if(0==e.length||null==e[0][t])return null;for(var s in e)if(e[s][t]==a)return e[s];return null},e.objsFind=function(e,t,a,s){if(0==e.length||null==e[0][t])return[];if(s){var o=[];for(var d in e)e[d][t]==a&&o.push(e[d]);return o}for(var d in e)if(e[d][t]==a)return e[d];return[]},e.objsIndex=function(e,t,a,s){if(0==e.length||null==e[0][t])return-1;if(s){var o=[];for(var d in e)e[d][t]==a&&o.push(d);return o}for(var d in e)if(e[d][t]==a)return d;return-1},e.unicodeToHTML=function(e){var t="";for(var a in e){var s=e.charCodeAt(a);t+=126<s?"&#"+e.charCodeAt(a)+";":e[a]}return t},e.rgb2hsl=function(e,t,n){e/=255,t/=255,n/=255;var c=a(e,t,n),p=o(e,t,n),u=(c+p)/2,l,m;if(c==p)l=m=0;else{var v=c-p;m=.5<u?v/(2-c-p):v/(c+p);c===e?l=(t-n)/v+(t<n?6:0):c===t?l=(n-e)/v+2:c===n?l=(e-t)/v+4:void 0;l/=6}return[l,m,u]},e.hsl2rgb=function(e,t,a){var s,o,d;if(0==t)s=o=d=a;else{var n=function hue2rgb(e,a,s){return 0>s&&(s+=1),1<s&&(s-=1),s<1/6?e+6*(a-e)*s:s<1/2?a:s<2/3?e+6*((a-e)*(2/3-s)):e},l=.5>a?a*(1+t):a+t-a*t,c=2*a-l;s=n(c,l,e+1/3),o=n(c,l,e),d=n(c,l,e-1/3)}return[255*s,255*o,255*d]},e.rgb2hsv=function(e,t,n){e/=255,t/=255,n/=255;var l=a(e,t,n),c=o(e,t,n),p=l-c,d,u;return u=0==l?0:p/l,l==c?d=0:(l===e?d=(t-n)/p+(t<n?6:0):l===t?d=(n-e)/p+2:l===n?d=(e-t)/p+4:void 0,d/=6),[d,u,l]},e.hsv2rgb=function(e,a,s){var o=d(6*e),l=6*e-o,c=s*(1-a),p=s*(1-l*a),u=s*(1-(1-l)*a),t,m,v;switch(o%6){case 0:t=s,m=u,v=c;break;case 1:t=p,m=s,v=c;break;case 2:t=c,m=s,v=u;break;case 3:t=c,m=p,v=s;break;case 4:t=u,m=c,v=s;break;case 5:t=s,m=c,v=p;}return[n(255*t),n(255*m),n(255*v)]},e.rgb2color=function(e){return n(+e[0]).toString(16)+n(+e[1]).toString(16)+n(+e[2]).toString(16)},e.readableFG=function(e){if(3==e.length)var t=e[0]+e[0],a=e[1]+e[1],s=e[2]+e[2];else if(6==e.length)var t=e.slice(0,2),a=e.slice(2,4),s=e.slice(4,6);var o=rgb2hsl(parseInt(t,16),parseInt(a,16),parseInt(s,16));return .5>=+o[2]?"white":"black"},e.getPlainText=function(e){return $("<span>").append(e).text()},e.getQueryString=function(e){for(var t={},a=e||window.location.search.substring(1),s=a.split("&"),o=0,d;o<s.length;o++)d=s[o].split("="),""!=d[0]&&(t[d[0]]=d[1]);return t},ko.validatedProperties=function(e,t){var a=ko.validatedObservable(t)();$.extend(e,a),this.isValid=a.isValid,this.errors=a.errors},e.extractURLPath=function(e){var t=e.split("/");return 3<=t.length?(t.splice(0,3),t.join("/")):""},e.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},e.incHist=function(e,t){e[t]?e[t]++:e[t]=1},e.array2map=function(e){var t={};for(var a in e)t[e[a]]=!0;return t},e.sortByTime=function(e,t){return t=t||1,function(s,a){var o=s[e].getTime(),d=a[e].getTime();return o>d?t:o<d?-t:0}},e.observableJSONDocument=function(e,t){return ko.computed({read:function read(){var e={};for(var a in t)e[t[a]]=this[a]();return e},write:function write(e){var a="string"==typeof e?JSON.parse(e):e;for(var s in t)this[s](a[t[s]])},owner:e})},e.splitCamelCaps=function(e){return e.replace(/([A-Z])/g," $1")},e.sql2jsDate=function(e){var t=e.split(" "),a=t[0],s=t[1],o=a.split("-");if("undefined"==s)var d=o[1]+"/"+o[2]+"/"+o[0];else var d=o[1]+"/"+o[2]+"/"+o[0]+" "+s;return new Date(d)},e.tabToURL=function(e){if(window.runUnsavedWorkChecks){var t=window.runUnsavedWorkChecks();if(t&&!confirm(t+" Click Cancel to stay or OK to navigate away."))return}History.pushState(null,"Osmosis",e),window.scrollTo(0,0)};var c="";e.requireAuthCode=function(e,t){t=t||"Admin",c?e(c):fs.password("Please enter "+t.toLowerCase()+" password",t+" Password",null,function(a,s){var o=md5(a);fs.post("Admin"==t?"adminConfirmAuthCode":"adminConfirmCSAuthCode",{auth:o,type:t},function(t){t.res?(c=o,e(c),s()):fs.alert("Invalid authorization!",function(){s()})})})},e.trustedPost=function(t,a,s,o,d){var n=null,l=null;o&&"string"==typeof o?l=o:(n=o,l=d),e.requireAuthCode(function(e){a.auth=e,fs.post(t,a,s,n)},l)},e.getScrolledToElem=function(e,t,a){e.scrollTop();a=a||0;var s=null,o=null;return $(t,e).each(function(){if(!isHidden($(this))){s||(s=$(this));var t=$(this),d=t.offset().top-e.offset().top;0<=d-a&&!o&&(o=s),s=t}}),o||s},e.now=function(){return new Date},e.scrolledToBottom=function(e,t){e.bind("scroll",function(a){var e=$(a.currentTarget);e[0].scrollHeight-e.scrollTop()<=e.outerHeight()&&t()})},e.ordinalSuffix=function(e,t){var a=e%10,s=e%100;return t&&(e=""),1==a&&11!=s?e+"st":2==a&&12!=s?e+"nd":3==a&&13!=s?e+"rd":e+"th"},$(document).mousedown(function(t){window.inputEventListener&&window.inputEventListener.mousedown&&window.inputEventListener.mousedown(t)}),$(document).keydown(function(t){$(document.activeElement).hasClass("OsmosisBlockText")||"TEXTAREA"==document.activeElement.tagName||"INPUT"==document.activeElement.tagName||window.inputEventListener&&window.inputEventListener.keydown&&window.inputEventListener.keydown(t)}),e.backingScale=function(){return"devicePixelRatio"in window&&1<window.devicePixelRatio?window.devicePixelRatio:1},e.validateEmail=function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},e.d3tsv=function(e,t,a){d3.tsv(e+(t?"?"+t.join("&"):""),a)},e.seriesStr=function(e){return 1==e.length?e[0]:2==e.length?e[0]+" and "+e[1]:e.slice(0,e.length-1).join(", ")+", and "+e[e.length-1]},e.popup=function(e,t){t.element=e;var a=fs.mixAppend($("body"),"ui/Popup",t);return a}}),define("core.dialog",function(e,t){function bootstrapDialog(e,a,s){var o=t(e).prototype.options();if(s=s||{},s.title&&(o.title=s.title),s.type&&(o.type=s.type),s.buttonLabels)for(var d in s.buttonLabels)o.buttons[d].label=s.buttonLabels[d];var n=null;o.onshow=function(t){n=fs.mixAppend(t.$modalBody,e,s),n.__dialog=t,t.__vm=n,n.show&&n.show(t)},o.cancel=function(){function doCancel(){a&&a(n,!1,function(){})}return n.cancel?n.cancel(function(){n.cancel=null,n.__dialog.close()}):void doCancel()},o.action=function(e,t){function doAction(s){s||!o.ajax?(e(),a&&a(n,!0,function(){})):a&&a(n,!0,e,t)}n.action?n.action(function(){doAction(!0)},function(){t&&t()}):doAction(!1)},o.onhide=function(e){if(null===e.exitCode)return o.cancel()};var l=BootstrapDialog.show(o);return l.exitCode=null,l}window.dialog=function(e,a,s){if(t(e).prototype.isBootstrapDialog)return bootstrapDialog(e,a,s);if("function"==typeof a)var o=a,d=s;else var o=null,d=a;var n=$("<div class=\"ui-dialogs-background\">").appendTo("body").toggle(!1).fadeIn(300),l=fs.mixAppend($("body"),e,d);l.__dialog={},l.dom.toggle(!1);var c=elementFadeVisible(l.dom[0],{fadeDirection:"down",fadeDuration:300,fadeDistance:50});c.fadeIn(),l.__dialog.close=function(){setTimeout(function(){c.fadeOut(),setTimeout(function(){l.dom.remove(),n.remove()},2e3),$(".ui-dialogs-background").fadeOut()},0)};var p={};p.cancel=function(){function doCancel(){o&&o(l,!1,function(){})}return l.cancel?l.cancel(function(){l.cancel=null,l.__dialog.close()}):void doCancel()},p.action=function(e,t,a){function doAction(s){s||!e?(t(),o&&o(l,!0,function(){})):o&&o(l,!0,t,a)}l.action?l.action(function(){doAction(!0)},function(){a&&a()}):doAction(!1)},l.__dialog.cancel=function(){var e=p.cancel();!1!==e&&l.__dialog.close()},n.click(function(){l.__dialog.cancel()}),$(".dialog-close",dialog.dom).click(function(){l.__dialog.cancel()}),$(".button.primary",dialog.dom).each(function(e,t){var a=$(t).hasClass("action");a?elementAjaxLoader(t,function(e){p.action(!0,function(){l.__dialog.close()},e)},l,!1):$(t).click(function(){p.action(!1,function(){l.__dialog.close()},function(){})})}),$(".button.cancel",dialog.dom).click(function(){l.__dialog.cancel()})}}),define("core.diffString",function(e,t,a){function diff(e,t){for(var a={},s={},o=0;o<t.length;o++)null==a[t[o]]&&(a[t[o]]={rows:[],o:null}),a[t[o]].rows.push(o);for(var o=0;o<e.length;o++)null==s[e[o]]&&(s[e[o]]={rows:[],n:null}),s[e[o]].rows.push(o);for(var o in a)1==a[o].rows.length&&"undefined"!=typeof s[o]&&1==s[o].rows.length&&(t[a[o].rows[0]]={text:t[a[o].rows[0]],row:s[o].rows[0]},e[s[o].rows[0]]={text:e[s[o].rows[0]],row:a[o].rows[0]});for(var o=0;o<t.length-1;o++)null!=t[o].text&&null==t[o+1].text&&t[o].row+1<e.length&&null==e[t[o].row+1].text&&t[o+1]==e[t[o].row+1]&&(t[o+1]={text:t[o+1],row:t[o].row+1},e[t[o].row+1]={text:e[t[o].row+1],row:o+1});for(var o=t.length-1;0<o;o--)null!=t[o].text&&null==t[o-1].text&&0<t[o].row&&null==e[t[o].row-1].text&&t[o-1]==e[t[o].row-1]&&(t[o-1]={text:t[o-1],row:t[o].row-1},e[t[o].row-1]={text:e[t[o].row-1],row:o-1});return{o:e,n:t}}a.exports=function diffString(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var a=diff(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),s="",d=e.match(/\s+/g);null==d?d=["\n"]:d.push("\n");var l=t.match(/\s+/g);if(null==l?l=["\n"]:l.push("\n"),0==a.n.length)for(var c=0;c<a.o.length;c++)s+="<del>"+a.o[c]+d[c]+"</del>";else{if(null==a.n[0].text)for(t=0;t<a.o.length&&null==a.o[t].text;t++)s+="<del>"+a.o[t]+d[t]+"</del>";for(var c=0;c<a.n.length;c++)if(null==a.n[c].text)s+="<ins>"+a.n[c]+l[c]+"</ins>";else{var p="";for(t=a.n[c].row+1;t<a.o.length&&null==a.o[t].text;t++)p+="<del>"+a.o[t]+d[t]+"</del>";s+=" "+a.n[c].text+l[c]+p}}return s}}),define("core.doc",function(e){e.outerContainer=$("#OuterContainer"),e.innerContainer=$("#InnerContainer"),e.content=$("#Content"),e.contentSidebarPlaceholder=$("#ContentSidebarPlaceholder"),e.fullscreen=$("#Fullscreen"),e.fsBody=$("#FullscreenBody"),e.fsSidebar=$("#FullscreenSidebar"),e.sidebarVisible=!1,e.sidebar=null,e.initDiv=$("#InitDiv"),e.videoPlayerDiv=$("<div style=\"width:640px\"></div>").appendTo(e.InitDiv),e.focusedEdit=null,e.editingQues=0,e.registeredLists=[],e.clearContent=function(){e.Content.html("")}}),define("core.tracking",function(){function logToSlack(e,t,a){t=t.split("|"),fs.post("logToSlack",{channel:e,subject:t[0],clicked:(2==t.length?t[1]:"")+(window.groupID?"Group "+groupID+(navData.group?" ("+navData.group.name+")":""):""),fullstory:window.fullstorySession},function(){a&&a()})}var e=_.indexBy([256,257,99145,166943,13380,4005,53228],_.identity);window.eventTracker={track:function track(e,t,a,s){a=a||["keen"],t=t||{};try{if(-1<a.indexOf("keen")&&(e=e.toLowerCase().split(" ").join("_"),keen.track(e,t)),-1<a.indexOf("mixpanel")&&(e=e.split("_").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" "),analytics.track(e,t)),-1<a.indexOf("intercom"))if(!s)IntercomEvent("trackEvent",e,t);else if(s&&localStorage){var o="intercom:"+e,d=localStorage.getItem(o);(!d||moment(d).add(s,"seconds").isBefore(moment()))&&(localStorage.setItem(o,moment().toISOString()),window.IntercomEvent("trackEvent",e,t))}else throw Error("localstorage or ratelimit undefined.")}catch(t){console.log(t),console.log("Tracking error for event: "+e)}}},window.keen={track:function track(t,a,s){-1<window.location.origin.indexOf("localhost")&&console.log({type:"keen",event:t,properties:a}),e[window.userID]||(a=a||{},a.page_url=window.location.href,a.ref=document.referrer,a.userID=window.userID||0,a.platform="web-app",(!window.userID||0==window.userID)&&window.Storage&&(a.uuid=window.getKeenUUID()),$.post("/keen",{action:"track",event:t,properties:a},function(e){s&&s(e)}))}},window.intercomData={update:function update(t,a){-1<window.location.origin.indexOf("localhost")&&console.log({type:"intercom-update",attributes:a}),window.userID&&!e[window.userID]&&$.post("/intercom",{entity:t,action:"update",attributes:a},function(){})}},window.IntercomEvent=function(e,t,a){-1<window.location.origin.indexOf("localhost")&&console.log({type:"intercom-event",event:t,meta:a}),$.post("/intercom",{entity:"user",action:"event",attributes:{eventName:t,meta:a}})},window.analytics={track:function track(t,a){-1<window.location.origin.indexOf("localhost")?console.log({type:"mixpanel",event:t,properties:a}):!e[window.userID]&&"undefined"!=typeof mixpanel&&mixpanel.track(t,a)}},window.slack={activity:function activity(e,t){logToSlack("activity",e,t)},channel:function channel(e,t,a){logToSlack(e,t,a)}}}),define("models.Link",function(e,t,a){function Link(e){var t=this;fs.setModel(this,"link",e),this.target=ko.computed(function(){switch(t.type()){case 1:return tagIndex[t.targetID()];break;case 2:return nodeIndex[t.targetID()];break;case 3:case 4:return eventIndex[t.targetID()];}})}window.tagIndex=window.tagIndex||{},Link.prototype.compare=function(e){},a.exports=Link}),define("models.Node",function(e,t,a){function Node(e){var t=this;fs.setModel(this,"node",e),this.linksTo=ko.observableArray(),this.linksFrom=ko.observableArray(),this.user=s.is(this.userID),this.children=[],this.marked=ko.observable("no"),this.myRating=ko.observable(0),this.totalRatings=ko.computed(function(){return t.starred()+t.upRating()+t.downRating()+t.notHelpful()}),this.groupRating=ko.computed(function(){var e=t.starred()+t.upRating()+t.downRating()+t.notHelpful(),a=t.downRating()+t.notHelpful();return 5<t.notHelpful()?.2>a/e?2:3:.1>t.starred()/e?.1>a/e?2:3:.05>a/e?1:.2>a/e?2:3}),this.packID=ko.observable(0),this.byStr=ko.computed(function(){var e=t.data();if(e&&e.by)return e.by}),this.comments=ko.observableArray(),this.isActive=ko.computed(function(){var e=t.status();return 1==e||2==e||0==e&&userID==t.userID()||GROUP.owner}),this.isOfficial=ko.computed(function(){return!1})}var s=t("app/who"),o=t("models/Link"),d=(n={0:"",1:"CC0 Public Domain",2:"CC BY",3:"CC BY-SA"},_defineProperty(n,"3","CC BY-SA"),_defineProperty(n,4,"CC BY-ND"),_defineProperty(n,5,"CC BY-NC"),_defineProperty(n,6,"CC BY-SA-NC"),_defineProperty(n,7,"CC BY-ND-NC"),_defineProperty(n,8,"GNU Free Documentation License"),_defineProperty(n,9,"All Rights Reserved (reproduced with permission)"),_defineProperty(n,10,"All Rights Reserved"),_defineProperty(n,11,"License Unspecified (assume All Rights Reserved)"),_defineProperty(n,12,"CC BY ND (ND waived for use on Osmosis)"),_defineProperty(n,13,"CC BY NC (NC waived for use on Osmosis)"),_defineProperty(n,14,"CC BY-NC-SA (NC waived for use on Osmosis)"),_defineProperty(n,15,"CC BY-NC-ND (NC waived for use on Osmosis)"),_defineProperty(n,16,"CC BY-NC-ND (NC-ND waived for use on Osmosis)"),n),n;Node.prototype.tags=function(){var e=[],t=this.linksTo();for(var a in t)1==t[a].type()&&1==t[a].status()&&e.push(t[a].target());return e},Node.prototype.filterByTags=function(e,t){if(e&&e.length){var a=!1,s=this.linksTo();for(var o in s)1==s[o].type()&&1==s[o].status()&&(a=a||-1!=e.indexOf(""+s[o].target().tagID));return a}return!1!=t},Node.prototype.filterByUsers=function(e){return!(e&&e.length)||-1!=e.indexOf(""+this.userID())},Node.prototype.maxCommentTime=function(){var e=0,t=this.comments();for(var a in t){var s=t[a].maxCommentTime();s>e&&(e=s)}return e},Node.prototype.getEvent=function(){var e=this.getEventLink();return e?e.target():null},Node.prototype.getEventLink=function(){var e=this.linksTo();for(var t in e)if(4==e[t].type())return e[t];return null},Node.prototype.getSlide=function(){var e=this.linksTo();for(var t in e)if(2==e[t].type())return e[t].target();return null},Node.prototype.setDocStepStatus=function(e){this.docstep=e},Node.prototype.removeDocLinks=function(){var e=this.linksTo();for(var t in e)2==e[t].type()&&fs.destroy(e[t])},Node.prototype.addTag=function(e,t){fs.create("link",{m:this.MID||window.MID,nodeID:this.nodeID,type:e,targetID:t})},Node.prototype.removeTag=function(e,t){var a=this.linksTo();for(var s in a)if(a[s].type()==e&&a[s].targetID()==t)return void fs.destroy(a[s]);fs.post("removeTagFromNode",{m:window.MID||this.MID,nodeID:this.nodeID,tagID:t},function(){})},a.exports=Node}),define("models.content",function(e,t,a){function content(e,t,a,d,n){if(e.empty(),t||(t=""),"string"!=typeof t){if(t.a){var l=$("<div>"+t.s+"</div>");"number"!=typeof t.a||$("node",l).length||(t.s+="<br/><node id=\""+t.a+"\">")}e.append(autoLinkURLs(parseContent(t.s,a,n),a))}else e.append(autoLinkURLs(parseContent(t,a,n)));if(a){var c=new s({divSource:e,multiline:e.hasClass("multiline"),noattach:e.hasClass("noattach"),noformat:e.hasClass("noformat"),hasBorder:!e.hasClass("noborder"),noBackground:e.hasClass("noBackground"),editing:a,extendedFormatting:!1,rev:n});return c.edit(d||window.MID),c}$("node",e).each(function(t,a){var e=$(a).attr("id"),s=nodeIndex[e];if(s){var d=o.getMediaViewModel(s),n=$("<div>");$(a).replaceWith(n),fs.mixAppend(n,d,{model:s})}})}function autoLinkURLs(e,t){if(t)return e;var a=e.replace(/(\b(https?):\/\/[-A-Z0-9+&@#\/%?=~_()|!:,.;]*[-A-Z0-9+&@#\/%=~_()|])/ig,function(e){return"<a href=\""+e+"\" class=\"autoLink\" target=\"_blank\" rel=\"noopener noreferrer\">"+e+"</a>"});return a}function extractText(e){return e?"string"==typeof e?e:e.s:""}function filterSpace(e){var t="",a=!1;for(var s in e){(" "!=e[s]||a)&&(t+=e[s]);var o=e.charCodeAt(s);(65<=o&&90>=o||97<=o&&122>=o)&&(a=!0)}return t}function getElement(e){if(e&&"<"==e[0]){if(e=filterSpace(e),1==e.indexOf("/"))return{type:"close",tag:e.slice(2).split(/[^A-Za-z]+/)[0]};if(e.indexOf("/")!=e.length-2){var t=e.slice(1).split(/[^A-Za-z]+/)[0];return"node"==t?{type:"node"}:l[t]?{type:"single"}:{type:"open",tag:t}}return 0==e.indexOf("<node")?{type:"node"}:{type:"single"}}return{type:"text",content:e}}function isolateNodeTags(e){function shift(e,t){if(!(e.tag in s)){if(0>t)return!1;s[e.tag]=t}else{if(0>s[e.tag]+t)return!1;s[e.tag]+=t}return!0}function unshift(){for(var e in s)for(var a=s[e],d=a;0<d;d--)t.push("</"+e+">"),o.push("<"+e+">")}var t=[],a=n(e),s={},o=[];for(var d in t.push("<span class=\"content-text\">"),a){var l=getElement(a[d]);if("open"==l.type?shift(l,1):"close"==l.type?!shift(l,-1)&&(a[d]=""):"node"==l.type&&(unshift(),t.push("</span>")),t.push(a[d]),"node"==l.type){for(var c in t.push("<span class=\"content-text\">"),o)t.push(o[c]);o.length=0}}return unshift(),t.push("</span>"),t.join("")}function parseContent(e,t,a){return t?e:(a&&(e=d(extractText(a),e)),isolateNodeTags(e))}var s=t("ui/ContentBlock"),o=t("models/media"),d=t("core/diffString"),n=t("app/tokenizeHTML"),l={br:!0,hr:!0};a.exports=content}),define("models.media.Image",function(e,t,a){function Image(e,t){this.node=t.model,e(this),this.render()}function formatImgCredit(e){var t=d.get(e);if(t)return"<a href=\"http://"+e+"\" target=\"_blank\">"+t+"</a>";var a=e.split("/");return 1<a.length?"<a href=\"http://"+e+"\" target=\"_blank\">"+a[0]+"</a>":""}var s=t("core/doc"),o=t("ui/mediaViewer"),d=t("ui/imgSrc");Image.prototype.render=function(){var e=this.node.data();if(e){this.dom.empty();var t=$("<img src=\""+mediaServer+"/"+e.$+"\" style=\"max-width:100%; max-height: 100%\"/>").appendTo(s.initDiv),a=$("<div class=\"center\" style=\"width: inherit; height: inherit\">").appendTo(this.dom);t.load(function(){var s=$(this).width(),d=$(this).height();250<d&&$(this).height(250),t.appendTo(a);var n=formatImgCredit(e.s);n&&a.append("<div class=\"fp80 hidden-on-quiz\">Credit: "+formatImgCredit(e.s)+"</div>"),$(this).width()<.8*s&&(t.addClass("zoom-cursor"),t.click(function(){o.showImage(t.attr("src"),s,d)}))})}},a.exports=Image}),define("models.media.URL",function(e,t,a){function appendTracking(e,t){var a=e.split("#");return 1==a.length?a[0]+"?"+t:a[0]+"?"+t+"#"+a[1]}var s=t("models/media/urlPatterns");a.exports=function URL(e,t){function getSource(e){var o=s.match(e);if(o){if(""!=o.logoSrc){var d="<img class=\"the-logo\" src=\""+o.logoSrc+"\" alt=\""+o.label+" logo\"/>";a.sourceLogo(d)}var n=o.label.replace(/\s+/g,"-").toLowerCase();return $(t.dom).addClass(n),o.label}return e}var a=this;this.node=t.model,this.meta=t.meta,this.sourceLogo=ko.observable(!1),this.lockedResource=ko.observable(window.user&&1>window.user.prime.status),this.title=ko.computed(function(){return a.node.data().t}),this.thumbnailSrc=ko.computed(function(){var e=a.node.data().$||s.getDefaultImage(a.node.data().u);return mediaServer+"/"+e}),this.url=ko.computed(function(){var e=s.match(a.node.data().u);return e&&e.tracking?appendTracking(a.node.data().u,e.tracking):a.node.data().u}),this.source=ko.computed(function(){return getSource(a.node.data().u)}),function applySourceCustom(e){var a=s.match(e);if(a){var o=a.border?"border":"";$(".url-thumb.media-thumb",$(t.dom)).addClass(o),$(t.dom).addClass(a.displaySize)}}(a.node.data().u),e(this),this.lockedResource()&&$(this.dom).on("click",function(){$(".prime-lockout",a.parent.dom).length||(a.primeLock=fs.mixAppend(a.parent.dom,"ui/PrimeLockOverlay",{hasCancel:!0,fullScreen:!0,source:"sidebar",resource:a.source()}))}),$(".url-thumb-wrapper",this.dom).click(function(){var e="unknown",t=s.match(a.node.data().u);t&&(e=t.label),analytics.track("Resource Click",{originType:a.meta.originType||"unknown",originSubtype:a.meta.originSubtype||"default",originID:a.meta.originID||0,resourceTag:e,resourceNodeID:a.node.nodeID})})}}),define("models.media.Youtube",function(e,t,a){function Youtube(e,t){var a=this;this.node=t.model,this.opened=t.opened,this.watching=ko.observable(!1),this.thumbnailSrc=ko.computed(function(){var e=a.node.data();if(e)return mediaServer+"/"+e.$}),this.title=ko.computed(function(){var e=a.node.data();if(e)return e.t}),this.descr=ko.computed(function(){var e=a.node.data();if(e)return e.ds}),this.author=ko.computed(function(){var e=a.node.data();if(e)return e.by}),this.duration=ko.computed(function(){var e=a.node.data();if(e)return formatSecondsAsHMS(e.dr)})}var s=t("ui/mediaViewer");Youtube.prototype.watchVideo=function(){var e=this;s.showVideo(this.node.data().v,function(){return Mousetrap.unpause()},function(){document.querySelector(".vjs-video-overlay-custom").focus(),Mousetrap.pause(),e.opened&&e.opened()})},a.exports=Youtube}),define("models.media.index",function(e){e.filters=[{name:"image",post:"stream_url",type:4,subtype:4,regex:/https?:\/\/(?:[a-z0-9\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpe?g|gif|png)/gi,title:function title(e){return e.data().s}},{name:"youtube",post:"embed_youtube",type:4,subtype:5,regex:/https?:\/\/(www\.youtube\.com\/watch\?v=(.{11})|youtu\.be\/(.{11}))/g,title:function title(e){return"Youtube: "+e.data().t}}],e.getFilter=function(t){for(var a in e.filters)if(e.filters[a].name==t)return e.filters[a];return null},e.getMediaViewModel=function(e){if(4==e.type())switch(e.subtype()){case 1:return"models/media/URL";case 4:return"models/media/Image";case 5:return"models/media/Youtube";}else return null},e.displayResource=function(t,a,s){var o=e.getMediaViewModel(a);fs.mixAppend(t,o,{model:a,meta:s})},e.listVideo=function(e,t,a){var s={data:ko.observable(t)};fs.mixAppend(e,"models/media/Youtube",{model:s,opened:a})}}),define("models.media.urlPatterns",function(e){e.knownPatterns={"youtube.com":{label:"Youtube",logoSrc:"",tagID:1,priority:2},"osmosis.org/anatomy":{label:"Osmosis 3D Anatomy",logoSrc:"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/anat50.png",tagID:2,priority:1},"medscape.com":{label:"Medscape",defaultImg:"rwVmG10JR7SaKooHZvDoDDP8RFOGqE32/_.png",displaySize:"small",tracking:"src=par_osm_web_ref",color:"#005b80",border:!0,logoSrc:"https://osmose-it.s3.amazonaws.com/rwVmG10JR7SaKooHZvDoDDP8RFOGqE32/_.png",tagID:3,priority:2},"picmonic.com":{label:"Picmonic",logoSrc:"https://osmose-it.s3.amazonaws.com/zCggwI_wSxaq8VpruU6jULXlSHO-lzlS/_.png",tagID:4,priority:1},"celebritydiagnosis.com":{label:"Celebrity Diagnosis",displaySize:"small",logoSrc:"https://osmose-it.s3.amazonaws.com/uItg_sGtRYi5ouWRrB9n26KXTkWE6xrN/_.png",tagID:5,priority:3},"wikipedia.org":{label:"Wikipedia",defaultImg:"J-hUjuJtRAi5dZ8rqS4595w5SsuCg0YE/_.png",displaySize:"small",logoSrc:"https://d16qt3wv6xm098.cloudfront.net/J-hUjuJtRAi5dZ8rqS4595w5SsuCg0YE/_.png",tagID:6,priority:3}},e.match=function(t){if(t)for(var a in e.knownPatterns)if(-1!=t.search(a))return e.knownPatterns[a];return null},e.getDefaultImage=function(t){var a=e.match(t);return a?a.defaultImg:""}}),define("ui.ContentBlock",function(e,t,a){function handleMediaNode(e,t,a,s){if(e.nodeID){var o=new d;o.type(t).subtype(a).data(e.data),o.nodeID=e.nodeID,nodeIndex[o.nodeID]=o,s(o)}else fs.create("node",{m:l,type:t,subtype:a,data:e.data,url:e.url},s)}function pullResourceFromURL(e,t,a){fs.post(t.post,{url:e,m:l},function(e){handleMediaNode(e,t.type,t.subtype,function(e){a(e)})})}function _loadMediaAnchor(e,t,a){var s=md5(new Date().getTime());e.html.set(e.html.get().replace(t,"<img data-hash=\""+s+"\" style=\"max-height: 25px; max-width: 25px\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\">")),$("img[data-hash=\""+s+"\"]").qtip({content:{text:"<span class=\"fwb\" style=\"font-size:120%\">Note: This is only a draggable thumbnail. It will be larger in the actual question.</span> <br/><br/>Source: "+t}}),pullResourceFromURL(t,a,function(t){insertImage(t,s,e)})}function insertImage(e,t,a){var s=$("<img>");s.attr("src",mediaServer+"/"+e.data().$),s.attr("nodeID",e.nodeID),s.load(function(){var e=$("img[data-hash=\""+t+"\"]");e.length&&(e.replaceWith(s),s.qtip({content:{text:"<span class=\"fwb\" style=\"font-size:120%\">Note: This is only a draggable thumbnail. It will be larger in the actual question.</span> <br/><br/>"}}),a&&a.events.trigger("editor.updated"))})}function collapseTag(e){var t=e.slice(1,e.length-1).split(" ");return"<"+t[0]+">"}function collapseTags(e){var t="";for(var a in e)t+=0==e[a].indexOf("<")?p[collapseTag(e[a])]?" ":~e[a].indexOf("/")?e[a]:collapseTag(e[a]):e[a];return t}function replaceTag(e){return h[e]||e}function safe_tags_replace(e){return e.replace(/[&<>]/g,replaceTag)}function extractSanitizedHTML(e,t){var a="",s=e.contents();s.each(function(){a+=1==this.nodeType?extractSanitizedHTML($(this)):3==this.nodeType?safe_tags_replace($(this).text()):$(this).html()});var o=e.prop("tagName").toLowerCase();if(m[o]||(o="span"),"br"==o)return"<br>";if("wbr"==o)return"";if("node"!=o){var d=[];$(e[0].attributes).each(function(){b[this.name]&&d.push([this.name,this.value])});var n="";if(d.length)for(var l in d)n+=" "+d[l][0]+"=\""+d[l][1]+"\"";return t?a:"<"+o+n+">"+a+"</"+o+">"}return"<node id=\""+e.attr("id")+"\"/>"}var s=t("core/doc"),o=t("models/media"),d=t("models/Node"),n=t("app/tokenizeHTML"),l=window.MID,c=function ContentBlock(e){this;$.extend(this,e);var t=this.divSource.html();this.divSource.empty(),$(this.divSource).attr("MID",window.MID),this.divContent=$("<div class=\"OsmosisBlockText\">").appendTo(this.divSource).append(t),e.noattach||(this.divAttachBar=$("<div class=\"uiTextEditorAttach hidden\"></div>").appendTo(this.divSource),this.divAttachBtn=$("<div class=\"lfloat\">").appendTo(this.divAttachBar),this.divRemoveCtrl=$("<div class=\"lfloat mls\">").appendTo(this.divAttachBar),$("<div class=\"clearfix\">").appendTo(this.divAttachBar),this.divAttachment=$("<div class=\"Attachment\"></div>").appendTo(this.divSource),this.divDragDrop=$("<div></div>").appendTo(this.divAttachBar),$("node",this.divContent).each(function(t,a){var e=$(a).attr("id"),s=nodeIndex[e];s&&$(a).replaceWith("<img class=\"\" nodeID=\""+s.nodeID+"\" src=\""+mediaServer+"/"+s.data().$+"\" />")}))},p={"<p>":!0,"</p>":!0,"<br>":!0,"<br/>":!0};c.prototype.edit=function(e){function parseTextForMedia(e){var t=e.html.get(),a=$("<div class=\"parse-wrapper\">"+t+"</div>");for(var s in $("img",a).remove(),t=a.html(),o.filters){var d=t.match(o.filters[s].regex);for(var n in d)_loadMediaAnchor(e,d[n],o.filters[s])}}function startPreUpload(e,t,a){if(0==t.length)return alert("No valid files have been selected!"),!1;if(1==t.length){var s=t[0].name.split(".").pop().toLowerCase();if("jpg"==s||"jpeg"==s||"png"==s||"gif"==s)$.post("/generatePolicy",{m:l,type:1,name:t[0].name},function(t){e.opts.imageUploadToS3.params.policy=t.policy,e.opts.imageUploadToS3.params.signature=t.signature,e.opts.imageUploadToS3.params.key=t.data.$,e.opts.imageUploadToS3.params.Filename=t.data.s,e.opts.imageUploadToS3.imageData=t.data,a()});else return alert("Invalid file extension!"),!1}else return alert("Only 1 file can be uploaded at a time!"),t.length=0,!1}var t=this;t.editing=!0,l=e||window.MID;var a=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","insertImage","symbolPopup","clearFormatting"],d=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","insertImage","symbolPopup","clearFormatting"],c=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","insertImage","symbolPopup","clearFormatting"],p=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","insertImage","symbolPopup","clearFormatting"];this.editorTheme=$(t.divSource).attr("data-theme")?$(t.divSource).attr("data-theme"):"default-theme",this.editorTitle=$(t.divSource).attr("data-title")?$(t.divSource).attr("data-title"):null,this.placeholderText=$(t.divSource).attr("data-placeholder")?$(t.divSource).attr("data-placeholder"):"Type something",this.simpleBar=$(t.divSource).hasClass("noLists")||$(t.divSource).hasClass("simpleBar"),this.noAttach=$(t.divSource).hasClass("noattach")||$(t.divSource).hasClass("noAttach"),this.simpleBar&&this.noAttach||this.simpleBar?(a=["bold","italic","underline","subscript","superscript","|","symbolPopup","clearFormatting"],d=["bold","italic","underline","subscript","superscript","|","symbolPopup","clearFormatting"],c=["bold","italic","underline","subscript","superscript","|","symbolPopup","clearFormatting"],p=["bold","italic","underline","subscript","superscript","|","symbolPopup","clearFormatting"]):this.noAttach&&(a=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","symbolPopup","clearFormatting"],d=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","symbolPopup","clearFormatting"],c=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","symbolPopup","clearFormatting"],p=["bold","italic","underline","subscript","superscript","|","formatUL","formatOL","indent","outdent","|","symbolPopup","clearFormatting"]),s.focusedEdit=t,$(t.divContent).froalaEditor({imageResize:!1,initOnClick:!0,enter:$.FroalaEditor.ENTER_BR,editorClass:t.editorTheme,placeholderText:t.placeholderText,toolbarSticky:!1,imageEditButtons:["imageRemove"],imageDefaultWidth:"auto",multiLine:t.multiline,heightMin:t.multiline?100:30,heightMax:t.multiline?400:50,draginline:!1,imageInsertButtons:["imageBack","|","imageUpload","imageByURL","videoByURL"],toolbarButtons:a,toolbarButtonsMD:d,toolbarButtonsSM:c,toolbarButtonsXS:p,htmlAllowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","nodeID","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],htmlAllowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","style","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","node"],htmlAllowedEmptyTags:["textarea","a","iframe","object","video","style","script",".fa","node"],mediaFilters:o,shortcutsEnabled:["show","bold","italic","underline","indent","outdent","undo","redo","insertImage","createLink"],loadMediaAnchor:function loadMediaAnchor(e,t,a){_loadMediaAnchor(e,t,a)},imageUploadToS3:{bucket:awsMediaBucket,region:"s3",keyStart:"/",callback:function callback(e,t){console.log(e),console.log(t)},params:{acl:"public-read",AWSAccessKeyId:awsAccessKeyId,policy:"",signature:""}}}),$(t.divContent).on("froalaEditor.keydown",function(){$(".OsmosisBlockText.fe-initialized").froalaEditor("tooltip.hide")}),$(t.divContent).on("froalaEditor.blur",function(){}),$(t.divContent).on("froalaEditor.initialized",function(){$(t.divContent).addClass("fe-initialized")}),$(t.divContent).on("froalaEditor.focus",function(a,e){if($(".OsmosisBlockText, .fr-box").removeClass("active"),$(".OsmosisBlockText.fe-initialized").froalaEditor("toolbar.hide"),e.toolbar&&e.toolbar.show(),$(t.divContent).addClass("active"),t.editorTitle){var s=$(".fr-titlebar",t.divContent).detach();$(t.divContent).prepend(s),setTimeout(function(){$(t.divContent).prepend(s)},100)}}),$(t.divContent).on("froalaEditor.image.beforePasteUpload",function(a,e,s){if(!t.noAttach){var o=function dataURItoBlob(e){var t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(t.length),o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return new Blob([s],{type:a})},d=o($(s).attr("src"));d.lastModifiedDate=new Date,d.name="image."+d.type.split("/").pop(),d.webkitRelativePath="",e.$el.find("img[data-fr-image-pasted]").remove(),e.image.upload([d])}}),$(t.divContent).on("froalaEditor.paste.after",function(a,e){t.noAttach||parseTextForMedia(e)}),$(t.divContent).on("froalaEditor.paste.before",function(a,e,s){if(!t.noAttach&&s.clipboardData&&s.clipboardData.items)for(var o=0,d;o<s.clipboardData.items.length;o++)if(d=s.clipboardData.items[o],"file"==d.kind&&("image/png"==d.type||"image/jpg"==d.type)){var n=d.getAsFile();return n.lastModifiedDate=new Date,n.name="image."+d.type.split("/").pop(),n.webkitRelativePath="",s.clipboardData.items[0].getAsString(function(t){var a=e.html.get(!0),t=$("<p>"+t+"</p>").html();a=a.replace(t,""),e.html.set(a),e.image.upload([n])}),!1}}),$(t.divContent).on("froalaEditor.paste.afterCleanup",function(t,e,a){return console.log(a),collapseTags(n(a))}),$(t.divContent).on("froalaEditor.click",function(){if(s.focusedEdit=t,t.editorTitle){var e=$(".fr-titlebar",t.divContent).detach();$(t.divContent).prepend(e),setTimeout(function(){$(t.divContent).prepend(e)},10)}}),$(t.divContent).on("froalaEditor.image.beforeUpload",function(a,e,s,o){t.noAttach||startPreUpload(e,s,o)}),$(t.divContent).on("froalaEditor.image.beforeURLInsert",function(a,e,s){if(!t.noAttach){var d=o.getFilter("image");if(s.length&&s.match(d.regex))e.html.insert(s),parseTextForMedia(e);else return fs.alert("Hmm... looks like that was an invalid image link. Have a second look and try again?"),!1}}),$(t.divContent).on("froalaEditor.image.uploadedToS3",function(a,e){e.image.hideProgressBar(!0),e.edit.on(),e.image.exitEdit(!0),$("img.fr-uploading",$(t.divContent)).remove();var s=md5(new Date().getTime());e.html.insert("<img data-hash=\""+s+"\" style=\"max-height: 25px; max-width: 25px\" src=\"https://d3cdo0emj8d2qc.cloudfront.net/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\">"),fs.create("node",{m:l,type:4,subtype:4,data:e.opts.imageUploadToS3.imageData},function(t){var a=$("img[data-hash=\""+s+"\"]");a.length&&a.replaceWith($("<img class=\"\" nodeID=\""+t.nodeID+"\" src=\""+mediaServer+"/"+t.data().$+"\" />")),e.events.trigger("editor.updated")})}),$(".autoLink",t.divContent).each(function(e,t){$(t).replaceWith($(t).attr("href"))}),t.hasBorder&&t.divContent.addClass("UIEditor-border"),t.noBackground&&t.divContent.addClass("noBackground"),function addTitlebar(){if(t.editorTitle){var e=$("<div class=\"fr-titlebar\"><span>"+t.editorTitle+"</span></div>");$(t.divContent).addClass("has-titlebar").prepend(e)}}()};var u=["p","br","wbr","div","b","i","u","ul","ol","li","strong","blockquote","em","sup","sub","span","font","node"],m={};for(var v in u)m[u[v]]=!0;var b={style:!0,size:!0},h={"&":"&amp;","<":"&lt;",">":"&gt;"};c.prototype.content=function(e){var t=this,s=$(this.divContent).froalaEditor("html.get");if(e&&27294==userID&&(fs.post("trackContent",{text:s}),console.log(s)),"string"==typeof s&&s.length){s=s.replace(/\n/g,"");try{(1!=$(s).length||"DIV"!=$(s).prop("tagName"))&&(s="<div>"+s+"</div>")}catch(t){s="<div>"+s+"</div>"}var o=$(s);$("span,div",o).each(function(t,a){""!=$(a).css("background-color")&&$(a).css("background-color","")});var d=[];return $("img",o).each(function(t,a){if($(a).attr("data-hash"))return $(a).remove();var e=$(a).attr("nodeID");$(a).replaceWith("<node id=\""+e+"\"></node>"),d.push(e)}),s=extractSanitizedHTML(o,!0),s=unicodeToHTML(s),1<d.length?{s:s,a:d}:1==d.length?{s:s,a:d[0]}:$("<span>"+s+"</span>").text()?s:""}return""},a.exports=c}),define("ui.SelectBox",function(e,t,a){function SelectBox(e,t){var a=this;this.dom=t.dom;var s=t.dom.hasClass("multiple");if(s&&t.dom.attr("multiple","multiple"),this.onChange=t.onChange,this.canNotify=!1,this.value=function(e){return null==e?t.dom.val():void(t.dom.val("object"==_typeof(e)?e:""+e),a.dom.trigger("chosen:updated"),a.onChange&&a.canNotify&&a.parent[a.onChange].call(a.parent))},t.dom.on("change",function(t,e){a.onChange&&a.parent[a.onChange].call(a.parent,e,$(t.target).val())}),!!t.optionsArray)this.options=t.optionsArray;else if(this.options=ko.observableArray(),!t.options.length||"object"!=_typeof(t.options[0]))for(var o in t.options){var d={value:o,label:t.options[o]};this.options.push(d)}else this.options(t.options);this.options.subscribe(function(){setTimeout(function(){a.dom.trigger("chosen:updated")},10)}),e(this),this.value(t.value),this.canNotify=!0;var n=t.settings||{};n.disable_search=!0,n.width=t.width||this.dom.css("width")||"100%",n.placeholder_text_single=t.caption||"Select an option",n.placeholder_text_multiple=t.caption||"Select some options",this.dom.chosen(n)}a.exports=SelectBox}),define("ui.Uploader",function(e,t,a){function Uploader(e,t){var a=this,s=null,o=md5(""+1e5*Math.random()).slice(0,10);this.hideDropbox=ko.observable(t.hideDropbox),this.style=ko.observable(t.style||"none");var d="FromFileTrigger_"+o;this.browseButtonID=d;var n="DragDropTarget_"+o;this.dropElementID=n,$("<button id=\""+this.browseButtonID+"\">").appendTo("#InitDiv"),t.dom.attr("id",this.dropElementID),this.isDragging=ko.observable(!1),this.uploadMsg=ko.observable(""),this.progressBarVisible=ko.observable(),this.postRoute=t.postRoute||"/generatePolicy",this.s3BucketName=t.s3BucketName||"osmose-it",this.s3Bucket="https://"+this.s3BucketName+".s3.amazonaws.com";var l={runtimes:"html5",browse_button:d,drop_element:n,chunk_size:"3mb",max_file_size:"3mb",url:this.s3Bucket,filters:[],multipart_params:{acl:"public-read","Content-Type":"",AWSAccessKeyId:awsAccessKeyId}};t.uploaderConfig&&$.extend(l,t.uploaderConfig);var c=[];for(var p in l.filters)c=c.concat(l.filters[p].extensions.split(","));var u=t.policyType||3;s=new plupload.Uploader(l),this.uploader=s,s.bind("Init",function(){}),s.bind("FilesAdded",function(e,t){if(0==t.length)alert("No valid files have been selected!");else if(1==t.length){var o=t[0].name.split(".").pop().toLowerCase();if(-1!=c.indexOf(o)){var d={type:u,name:t[0].name};a.s3BucketName&&(d.bucket=a.s3BucketName),$.post(a.postRoute,d,function(t){e.settings.multipart_params.policy=t.policy,e.settings.multipart_params.signature=t.signature,e.settings.multipart_params.key=t.filename||t.data.$,e.settings.multipart_params.Filename=t.filename||t.data.$,e.uploadData=t.data,console.log(t),$("#"+n).trigger("drop"),a.uploadMsg("Uploading..."),setTimeout(function(){s.start()},100)})}else alert("Invalid file extension!")}else alert("Only 1 file can be uploaded at a time!"),t.length=0}),s.bind("UploadProgress",function(e,t){100!=t.percent&&a.uploadMsg("Uploaded "+t.percent+"%"),console.log(t)}),s.bind("BeforeUpload",function(e,a){t.onBeforeUpload&&t.onBeforeUpload(e,a)}),s.bind("Error",function(e,t){console.log("error: ",t)}),s.bind("FileUploaded",function(e,s,o){a.uploadMsg("Done"),$("#"+n).trigger("dragexit"),t.uploadCompletion&&t.uploadCompletion(e,s,o)}),$("uploadfiles").onclick=function(){return!1},$("#"+n).bind("dragover drop",function(t){$(this).addClass("uiBlueTabHover"),a.isDragging(!0),a.uploadMsg("Drop Now!"),t.preventDefault()}).bind("dragexit",function(t){$(this).removeClass("uiBlueTabHover"),a.isDragging(!1),t.preventDefault()}),s.init()}Uploader.prototype.triggerCompUpload=function(){console.log("#"+this.browseButtonID),$("#"+this.browseButtonID).click()},a.exports=Uploader}),define("ui.UserDetails",function(e,t,a){var s=Math.round;function UserDetails(e,t){this.userID=ko.observable(),this.name=ko.observable(),this.emails=ko.observableArray(),this.groups=ko.observableArray(),this.auth=ko.observableArray(),this.code=ko.observableArray(),this.addingTempPassword=ko.observable(),this.interactionDate=ko.observable(moment().format("YYYY-MM-DD")),this.interactions=ko.observableArray(),this.interaction=ko.observable(),this.notes=ko.observable(t.data.notes),this.pushPreference=ko.observable(t.data.pushPreference),this.devices=ko.observableArray(t.data.devices),console.log(t.data.devices);var a=o.activityIndex;for(var s in a)a[s].input&&this.interactions.push({id:s,action:a[s].action});this.interactions.sort(function(e,t){return t.action>e.action?1:t.action<e.action?-1:0}),t.data.sales=fs.transpose(t.data.sales),console.log(t.data),this.sales=ko.observableArray();var d=t.data;for(var s in d)this[s]&&this[s](d[s]);this.fullstory=ko.observableArray(fs.transpose(t.data.fullstory,FullStory)),this.errors=ko.observableArray(fs.transpose(t.data.errors,ErrorLog)),this.primeExpires=ko.observable(t.data.prime?t.data.prime.expires:""),this.primeStatus=ko.observable(t.data.prime?t.data.prime.status:null),e(this),this.dashboard=fs.mix(this,"ui/stats/AnalyticsDashboard",{userID:this.userID()})}function FullStory(){var e=this;this.timestamp=ko.observable(),this.viewed=ko.observable(),this.date=ko.computed(function(){return s((new Date-new Date(e.timestamp()))/864e5)+" days ago"})}function ErrorLog(){var e=this;this.timestamp=ko.observable(),this.date=ko.computed(function(){return s((new Date-new Date(e.timestamp()))/864e5)+" days ago"})}var o=t("app/activityMap");ErrorLog.prototype.show=function(){fs.alert(JSON.stringify(this.info,null,2))},UserDetails.prototype.createTempPassword=function(){var e=this;return function(){fs.post("adminCreateTempPassword",{userID:e.userID()},function(e){fs.alert("A temporary password "+e.pass+" has been created and sent to the user via "+e.email)})}},UserDetails.prototype.addInteraction=function(e){this.interaction()?fs.post("adminLogInteraction",{userID:this.userID(),date:this.interactionDate(),action:this.interaction()},function(){$.jGrowl("Interaction logged.",{life:1e3,position:"bottom-left"}),e()}):(e(),fs.alert("Please select the type of interaction."))},UserDetails.prototype.showGroupDetails=function(e){var t=this;return function(){t.dashboard=fs.mixAppend($(".groupDetails",t.dom),"ui/stats/GroupEventDashboard",{url:e.url})}},UserDetails.prototype.contactUser=function(){dialog("ui/dialogs/AdminUserContact",function(e,t,a){t&&(console.log(e.message.content()),fs.post("adminEmailUser",{userID:e.toUserID(),subject:e.subject(),message:e.message.content()},function(){$.jGrowl("Message sent.",{life:1e3,position:"bottom-left"}),a()}))},{userID:this.userID(),user:this.userID()+" - "+this.name(),name:this.name()})},UserDetails.prototype.saveNotes=function(){fs.post("adminUpdateUserNotes",{userID:this.userID(),notes:this.notes()},function(){$.jGrowl("Notes saved.",{life:1e3,position:"bottom-left"})})},UserDetails.prototype.addDeal=function(e){this;return function(){fs.post("adminAddDiscountForUser",{userID:this.userID(),deal:e},function(){$.jGrowl("Deal added to user account.",{life:1e3,position:"bottom-left"})})}},UserDetails.prototype.setAppVersion=function(){var e=_.map(this.emails(),function(e){return e.email});dialog("ui/dialogs/MultiSelect",function(t,a){a&&t.selected()&&fs.prompt("Enter the app version to set for this user (will last for 3 days, leave blank to unset)",function(a,s){fs.post("adminSetAppVersionForUser",{email:e[t.selected()],version:a},s)})},{items:e,noOther:!0})},a.exports=UserDetails}),define("ui.analytics.BasicAnalytics",function(e,t,a){function max(e){var t=0;for(var a in e)+a>=t&&(t=+a);return t}function min(e){var t=1e8;for(var a in e)a<=t&&(t=+a);return t}function flotData(e,t){for(var a=[],s=t.min;s<=t.max;s++)newDate=t.startTime+s*t.binWidth,s in e?a.push([newDate,e[s]]):a.push([newDate,0]);return a}var s=t("ui/analytics/timePlot");a.exports=function BasicAnalytics(e,t){var a=this,o=t.hist;this.title=ko.observable(t.title),this.totals=ko.observable(o.totals),e(this),s($(".user-numberAnsweredPerDay",this.dom),{width:"900px",height:"300px",data:flotData(o.quesByDayForCurrentUser,{startTime:BEGINNING_OF_TIME,binWidth:86400000,min:min(o.quesByDayForCurrentUser),max:max(o.quesByDayForCurrentUser)}),hover:!0}),s($(".module-numberUsersPerWeek",this.dom),{width:"900px",height:"300px",data:flotData(o.uniqueUsersByWeek,{startTime:BEGINNING_OF_TIME,binWidth:604800000,min:min(o.uniqueUsersByWeek),max:max(o.uniqueUsersByWeek)}),hover:!0}),s($(".module-numberUsersPerDay",this.dom),{width:"900px",height:"300px",data:flotData(o.uniqueUsersByDay,{startTime:BEGINNING_OF_TIME,binWidth:86400000,min:min(o.uniqueUsersByDay),max:max(o.uniqueUsersByDay)}),hover:!0}),s($(".module-numberQuesAnsPerDay",this.dom),{width:"900px",height:"300px",data:flotData(o.quesByDay,{startTime:BEGINNING_OF_TIME,binWidth:86400000,min:min(o.quesByDay),max:max(o.quesByDay)}),hover:!0}),s($(".module-numberUsersNearPeak",this.dom),{width:"900px",height:"300px",data:flotData(o.usersByHour,{startTime:BEGINNING_OF_TIME+o.usersByHourPeakDay*86400000,binWidth:36e5,min:0,max:72}),hover:!0}),s($(".module-numberQuesAnsNearPeak",this.dom),{width:"900px",height:"300px",data:flotData(o.quesByHour,{startTime:BEGINNING_OF_TIME+o.usersByHourPeakDay*86400000,binWidth:36e5,min:0,max:72}),hover:!0})}}),define("ui.analytics.Filters",function(e,t,a){function Filters(e,t){this.filter=ko.observable(),this.onFilter=t.onFilter,e(this),this.templates=ko.observableArray(),this.templates.push({value:0,label:""}),this.addFilter("Filter by Fullstory",{userIDs:{query:"filterByFullstory",start:"2",stop:"0",flag:"",units:"days"}}),this.addFilter("Filter by Activity",{userIDs:{query:"filterByActivity",start:"2",stop:"0",activities:[],units:"weeks"}}),this.addFilter("Filter by Emailed",{userIDs:{query:"filterByEmailed",start:"2",stop:"0",templateID:"",opened:"1",units:"days"}}),this.addFilter("Filter by Groups",{userIDs:{query:"getGroupUsers",groupIDs:[256]}}),this.addFilter("Filter by Joined This Week",{userIDs:{query:"filterByJoined",start:"1",units:"weeks"}}),this.addFilter("Filter by Joined Between",{userIDs:{query:"filterByJoined",start:"2",stop:"1",units:"weeks"}}),this.addFilter("Filter by Purchases",{userIDs:{query:"filterByPurchases",count:"1",op:">="}}),this.addFilter("Filter by Purchased Between",{userIDs:{query:"filterByPurchases",start:"4",stop:"0",units:"weeks"}}),this.addFilter("Filter by Started Prime",{userIDs:{query:"filterByStartedPrime",start:"4",stop:"0",units:"weeks"}}),this.addFilter("Filter by Expiring Prime",{userIDs:{query:"filterByExpiringPrime",start:"0",stop:"1",units:"weeks"}}),this.addFilter("Filter by Expired Prime",{userIDs:{query:"filterByExpiredPrime",start:"1",stop:"0",units:"weeks"}}),this.addFilter("Filter by Activity Dropoff",{userIDs:{query:"filterByActivityDropoff",start:"2",stop:"1",units:"weeks"}}),this.addFilter("Filter by Purchased Between and Joined Between",{userIDs:{query:"filterByJoined",start:"8",stop:"4",units:"weeks",userIDs:{query:"filterByPurchases",start:"4",stop:"0",units:"weeks"}}}),this.addFilter("Filter by Gender",{userIDs:{query:"filterByGender",gender:"male"}}),this.filterTemplates=s(this,"filterTemplates",{optionsArray:this.templates,value:null,settings:{allow_single_deselect:!0},caption:"Select filter template...",onChange:"showFilter"})}var s=t("ui/select");Filters.prototype.showFilter=function(){this.filter(JSON.stringify(this.templates()[this.filterTemplates.value()].filter,null,2))},Filters.prototype.addFilter=function(e,t){this.templates.push({label:e,value:this.templates().length,filter:t})},a.exports=Filters}),define("ui.analytics.OverallAnalytics",function(e,t,a){function flotDataFromSqlHist(e){var t=[];for(var a in e.dates){var s=new Date(e.dates[a]).getTime();e.values[a]?t.push([s,e.values[a]]):t.push([s,0])}return t}var s=t("ui/analytics/timePlot");a.exports=function OverallAnalytics(e,t){var a=t.analytics;this.mobileTotals=ko.observable(a.mobile.responseHistory.totals),e(this),s($(".newUsersPerDay",this.dom),{width:"900px",height:"300px",data:flotDataFromSqlHist({dates:a.newUsers.joinDate,values:a.newUsers.userCount}),hover:!0}),fs.mixReplace($(".mobileAnalytics",this.dom),"ui/analytics/BasicAnalytics",{hist:a.mobile.responseHistory,title:"(Mobile Only)"}),fs.mixReplace($(".everythingAnalytics",this.dom),"ui/analytics/BasicAnalytics",{hist:a.all.responseHistory,title:"(Everything)"})}}),define("ui.analytics.stackedTimePlot",function(e,t,a){function makeStackedTimePlot(e,t,a){function showTooltip(e,t,a){$("<div id=\"tooltip\">"+a+"</div>").css({position:"absolute",display:"none",top:t+5,left:e+20,border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:.8}).appendTo("body").fadeIn(200)}var s={xaxis:{mode:"time",tickSize:[1,"day"]},selection:{mode:"x"},grid:{hoverable:a,markings:function weekendAreas(e){var t=[],a=new Date(e.xaxis.min);a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+1)%7),a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(0);var s=a.getTime();do t.push({xaxis:{from:s,to:s+172800000}}),s+=604800000;while(s<e.xaxis.max);return t}},series:{stack:!0,lines:{show:!0,fill:!0,steps:!1}}},o=$.plot(e,t,s);e.bind("plotselected",function(a,d){o=$.plot(e,t,$.extend(!0,{},s,{xaxis:{min:d.xaxis.from,max:d.xaxis.to}}))}),e.dblclick(function(){o=$.plot(e,t,$.extend(!0,{},s,{xaxis:{min:null,max:null}}))});var d=null;e.bind("plothover",function(e,t,a){if(!a)$("#tooltip").remove(),d=null;else if(d!=a.dataIndex){d=a.dataIndex,$("#tooltip").remove();var s=a.datapoint[0].toFixed(2),o=parseInt(a.datapoint[1]);showTooltip(a.pageX,a.pageY,o)}})}a.exports=function(e,t){t.width=t.width||"200px",t.height=t.height||"200px",e.empty();var a=$("<div style=\"width:"+t.width+";height:"+t.height+"\"></div>").appendTo(e);makeStackedTimePlot(a,t.data,t.hover)}}),define("ui.analytics.timePlot",function(e,t,a){function makeTimePlot(e,t){function showTooltip(e,t,a){$("<div id=\"tooltip\">"+a+"</div>").css({position:"absolute",display:"none",top:t+5,left:e+20,border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:.8}).appendTo("body").fadeIn(200)}var a=t,s={xaxis:{mode:"time",tickLength:5},selection:{mode:"x"},grid:{hoverable:!0,markings:function weekendAreas(e){var t=[],a=new Date(e.xaxis.min);a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+1)%7),a.setUTCSeconds(0),a.setUTCMinutes(0),a.setUTCHours(0);var s=a.getTime();do t.push({xaxis:{from:s,to:s+172800000}}),s+=604800000;while(s<e.xaxis.max);return t}}},o=$.plot(e,[a],s);e.bind("plotselected",function(t,d){o=$.plot(e,[a],$.extend(!0,{},s,{xaxis:{min:d.xaxis.from,max:d.xaxis.to}}))}),e.dblclick(function(){o=$.plot(e,[a],$.extend(!0,{},s,{xaxis:{min:null,max:null}}))});var d=null;e.bind("plothover",function(e,t,a){if(!a)$("#tooltip").remove(),d=null;else if(d!=a.dataIndex){d=a.dataIndex,$("#tooltip").remove();var s=a.datapoint[0].toFixed(2),o=parseInt(a.datapoint[1]);showTooltip(a.pageX,a.pageY,o)}})}a.exports=function(e,t){t.width=t.width||"200px",t.height=t.height||"200px",e.empty();var a=$("<div style=\"width:"+t.width+";height:"+t.height+"\"></div>").appendTo(e);makeTimePlot(a,t.data,t.hover)}}),define("ui.dialogs.CMSEdit",function(e,t,a){function CMSEdit(e,t){var a=this;e(this),this.viewModel=fs.mixAppend(this.dom,t.view,{parent:this,model:t.model},{template:t.template});var s=this.viewModel;if(s.edit(),$(".data-model-edit .autocomplete",s.dom).each(function(e,a){$(a).autocomplete("/v0/"+$(a).attr("source")+"/autocomplete",{delay:10,method:"get",minChars:1,matchSubset:1,autoFill:!0,maxItemsToShow:10,onItemSelect:function onItemSelect(e){t.model[$(a).attr("field")]($(e).html())}})}),$(".data-model-edit .uploader",s.dom).each(function(e,t){a.addUploadBox($(t))}),!s.__isNew()){var o=$("<a href=\"\" class=\"lfloat fp80 fcg ptm\">remove</div>").prependTo($(".bootstrap-dialog-footer",t.parent.dom.parents(".modal-dialog")));o.click(function(a){a.preventDefault(),fs.confirm("Are you sure you want to completely remove this item?","Remove Item","danger",function(e){t.list.remove(t.model),fs.destroy(t.model,function(){$(".close",t.parent.dom.parents(".modal-dialog")).click(),e()})})})}}function getFilters(e){var t=e.split(";");for(var a in t){var s=t[a].split(":");t[a]={title:s[0],extensions:s[1]}}return t}var s=t("ui/dialogs");CMSEdit.prototype.addUploadBox=function(e){var t=this,a=getFilters(e.attr("filters")||"Image:jpeg,jpg,png"),s=fs.mixAppend(e,"ui/Uploader",{focusedEdit:null,style:"box-small",hideDropbox:!1,policyType:e.attr("policy")||3,s3BucketName:e.attr("bucket")||"osmosis-temp",uploaderConfig:{chunk_size:"30mb",max_file_size:"30mb",filters:a},onBeforeUpload:function onBeforeUpload(){},uploadCompletion:function uploadCompletion(a){o.removeClass("hidden"),t.viewModel.uploadComplete(e.attr("field"),a.uploadData,function(){o.addClass("hidden")})}}),o=$("<img class=\"hidden mhm\" style=\"width: 20px\" src=\"http://osmosis-src.s3.amazonaws.com/assets/73a198b5b7c04ad61438d9be750f79eaa93f1532.gif\">").appendTo(e);$(".ui-Uploader",e).css("display","inline-block")},CMSEdit.prototype.upload=function(e,t){this;return function(){console.log(e),console.log(t)}},a.exports=s(CMSEdit,{title:"Edit Content",buttonLabel:"Save",ajax:!0,size:BootstrapDialog.SIZE_WIDE})}),define("ui.dialogs.Confirm",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function Confirm(e,t){this.message=ko.observable(t.message),this.actionCB=t.action,e(this),$("form",this.dom).submit(function(t){t.preventDefault()})},{is:"confirm",title:"Confirm",ajax:!0})}),define("ui.dialogs.ConfirmYesNo",function(e,t,a){t("ui/dialogs");a.exports=function ConfirmYesNo(e,t){this.message=ko.observable(t.message),this.title=ko.observable(t.title),this.yesText=ko.observable(t.yesText),this.noText=ko.observable(t.noText),this.actionCB=t.action,e(this)}}),define("ui.dialogs.DatePrompt",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function DatePrompt(e,t){this.message=ko.observable(t.message),this.value=ko.observable(t.value),e(this),$("form",this.dom).submit(function(t){t.preventDefault()})},{is:"prompt",title:"Prompt",ajax:!0})}),define("ui.dialogs.MultiSelect",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function MultiSelect(e,t){this;this.items=ko.observableArray(t.items?t.items.slice():null),this.noOther=t.noOther,t.noOther||this.items.push("Other"),this.selected=ko.observable(),this.other=ko.observable()},{title:"Select from the following",buttonLabel:"Select",size:BootstrapDialog.SIZE_WIDE})}),define("ui.dialogs.PasswordPrompt",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function PasswordPrompt(e,t){this.message=ko.observable(t.message),this.value=ko.observable(),e(this),$("form",this.dom).submit(function(t){t.preventDefault()})},{is:"prompt",title:"Prompt",ajax:!0})}),define("ui.dialogs.Prompt",function(e,t,a){var s=t("ui/dialogs");a.exports=s(function Prompt(e,t){this.message=ko.observable(t.message),this.value=ko.observable(t.value),e(this),$("form",this.dom).submit(function(t){t.preventDefault()})},{is:"prompt",title:"Prompt",ajax:!0})}),define("ui.dialogs.index",function(e,t,a){a.exports=function(e,t){return e.prototype.isBootstrapDialog=!0,e.prototype.options=function(){var e={};for(var a in t)e[a]=t[a];var s={label:t.buttonLabel||"OK",cssClass:t.buttonStyle||"button blue"};t.ajax?(s.autospin=!0,s.action=function(t){t.enableButtons(!1),t.setClosable(!1),e.action(function(){t.exitCode=1,t.close()},function(){t.enableButtons(!0),t.setClosable(!0),$(".icon-spin",t.$modalFooter).remove()})}):s.action=function(t){e.action(function(){t.exitCode=1,t.close()})},"prompt"==t.is&&(s.hotkey=13);var o={label:t.cancelLabel||"Cancel",cssClass:t.cancelButtonStyle||"button basic button",action:function action(t){e.cancel(),t.exitCode=-1,t.close()}};if("prompt"==t.is||"confirm"==t.is)e.buttons=[o,s];else if("popup"==t.is)e.buttons=[o];else if("extended"==t.is){for(var a in e.buttons=[o],t.buttons)e.buttons.push(t.buttons[a]);e.buttons.push(s)}else e.buttons="no-footer"==t.is?[]:[s];return e},e}}),define("ui.imgSrc",function(e){var t={"wikipedia.org":"Wikimedia Commons","wikimedia.org":"Wikimedia Commons","nlm.nih.gov":"National Library of Medicine","cdc.gov":"Centers for Disease Control (CDC)","dermnetnz.org":"DermNetNZ","radiopaedia.org":"Radiopaedia","eyewiki.aao.org":"AAO Eye Wiki"};e.get=function(e){if(!e)return"";for(var a in e=e.toLowerCase(),t)if(-1!=e.search(a))return t[a];return""}}),define("ui.interactiveObj",function(e,t){var a=Math.round,s=t("app/plugin"),o=t("app/pluginIndex");e.embed=function(e,t){var d="plugin"+o.next(),n=null;if(s(d).on("plugin-ready",function(){n&&s(d).post("render",n)}),n=e.data(),n){var l=t;l.empty();var c=l.width(),p=a(9*l.width()/16);l.append("<iframe name=\""+d+"\" src=\""+o.player.anatomy+"\" width=\""+c+"px\" height=\""+p+"px\" frameborder=\"0\" allowfullscreen=\"\">"),s(d).setWindow($("iframe",l)[0].contentWindow)}}}),define("ui.mediaViewer",function(e,t){var a=t("ui/overlay"),s=t("ui/videoPlayer");e.showImage=function(e,t,s,o){var d=$("<div>");d.append("<img src=\""+e+"\" width=\""+t+"\" height=\""+s+"\">");var n=a(d,o);d.click(function(){n.remove()})},e.showVideo=function(e,t,o){var d=s.embed(e,$(window),{noEncryption:!0});o&&"function"==typeof o&&d.player.ready(function(){return o()});a(d.el,function callback(){try{t&&t()}catch(t){}d.player.dispose()},!0),d.player.on("ended",function(){setTimeout(function(){$(".close-media").click()},500)}),d.player.play()}}),define("ui.overlay",function(e,t,a){a.exports=function(e,t,a){var s=$("<div class=\"ui-overlay\">").appendTo("body");return s.bind("mousedown",function(a){if(a.target==a.currentTarget){try{t&&t()}catch(t){}s.remove(),window.learnCardModalOpen&&window.learnCardModalOpen(!1)}}),e.css("position","absolute"),s.append(e),e.width()<s.width()?e.css("left",(s.width()-e.width())/2):e.css("left",0),e.height()<s.height()?e.css("top",(s.height()-e.height())/2):e.css("top",0),a&&(e.append("<div class=\"close-media\">x</div>"),$(".close-media").on("click",function(){$(".ui-overlay").trigger("mousedown"),$(".ui-overlay").trigger("click")})),s}}),define("ui.primeExtras",function(e,t,a){function reasonStr(e,t){return 1===e?"inviting "+t+" friends":2===e?"uploading "+t+" course documents":3===e?"recommending Osmosis on Facebook":4===e?"posting a testimonial":5===e?"posting an app review":6===e?"creating a video testimonial":7===e?"organizing a class meeting":8===e?"organizing school admins":9===e?"recruiting new SIMEs":10===e?"improving content":11===e?"fixing a typo":12===e?"responding to a survey":13===e?"completing profile":void 0}a.exports=function(e){var t=[],a=fs.transpose(e);for(var s in a)t.push({sum:a[s].sum,reason:reasonStr(a[s].reason,a[s].count)});return t}}),define("ui.select",function(e,t,a){a.exports=function(e,t,a){return fs.mix(e,"ui/SelectBox",a,{matchName:t})}}),define("ui.stats.ActivityCalendar",function(e,t,a){function formatHint(e,t){return e+" answered on "+t.format("MM/DD/YYYY")}function getColor(e){var t=0;return 0==e?t=0:1==e?t=.2:5>e?t=.3:10>e?t=.5:50>e?t=.8:50<e&&(t=1),0==t?[238,238,238]:hsv2rgb(2/3,t,1)}function makeSVG(e,t,a){var s=document.createElementNS("http://www.w3.org/2000/svg",e);for(var o in t)s.setAttribute(o,t[o]);if(a){var d=document.createTextNode(a);s.appendChild(d)}return s}a.exports=function ActivityCalendar(e,t){e(this),this.current=new Date(moment(t.current).format("MM/DD/YYYY")),this.lastYear=new Date(moment(t.current).subtract(1,"year").format("MM/DD/YYYY"));for(var a=$("#s",this.dom),s=$(makeSVG("g",{transform:"translate(20,20)"})).appendTo(a),o=moment(t.current).subtract(1,"year"),n=moment(t.current),l=moment(o),c=0,p=n.diff(o,"days")+1,u=+o.format("d"),m=0;m<p;m++){var v=Math.floor((u+m)/7),b=(u+m)%7;if(!h||0==b)var h=$(makeSVG("g",{transform:"translate("+13*v+",0)"})).appendTo(s);var g=t.data(l),f=getColor(g);$(makeSVG("rect",{class:"day tips block_"+l.format("YYYY_MM_DD"),width:"11",height:"11",y:13*b,fill:"rgb("+f[0]+","+f[1]+","+f[2]+")","data-placement":"top",title:formatHint(g,l)})).appendTo(h),c!=+l.format("M")&&(c=l.format("M"),$(makeSVG("text",{x:13*v,y:-5,class:"month"},l.format("MMM"))).appendTo(s)),l=l.add(1,"day")}var w=["S","M","Tu","W","Th","F","S"];for(var S in w)$(makeSVG("text",_defineProperty({"text-anchor":"middle",class:"wday",dx:-10,dy:9+13*S},"class","month"),w[S])).appendTo(s);$(".tips",this.dom).tooltip({container:"body"})}}),define("ui.stats.ActivityLegend",function(e,t,a){a.exports=function ActivityLegend(e){e(this)}}),define("ui.stats.AnalyticsDashboard",function(e,t,a){var s=Math.floor;function AnalyticsDashboard(e,t){this;this.packs=ko.observableArray(),this.needs=ko.observableArray(),this.activityMoreInfo=ko.observable(!1),this.longestStreak=ko.observable(),this.currentStreak=ko.observable(),this.onLoad=t.onLoad,e(this),this.segments=fs.mixList(this,".segments"),fs.mix(this,"ui/stats/ActivityLegend"),fs.ajaxLoad(this,"getSnapshotAnalytics",{userID:t.userID,g:window.groupID})}function getStreaks(e){for(var t=0,a=0,s=0;s<e.length-1;s++)1==e[s+1]-e[s]?t++:(t+1>a&&(a=t+1),t=0);return t++,t>a&&(a=t),365>e[e.length-1]&&(t=0),t||365!=e[e.length-1]||(t=1),{longest:a,current:t}}AnalyticsDashboard.prototype.load=function(e){this.segments.push("ui/stats/AnalyticsSegment",{title:"Flashcards",type:"flashcards",data:e.fcData}),this.segments.push("ui/stats/AnalyticsSegment",{title:"Step 1 Questions",type:"questions",data:e.step1Data}),this.segments.push("ui/stats/AnalyticsSegment",{title:"Step 2 Questions",type:"questions",data:e.step2Data});var t=getStreaks(e.graph365.day);this.longestStreak(t.longest),this.currentStreak(t.current);var a={},s=moment().add(-1,"year");for(var o in e.graph365.day)a[moment(s).add(e.graph365.day[o],"day").format("YYYY-MM-DD")]=e.graph365.c[o];this.currentUserActivity=fs.mixFirst(this,"ui/stats/ActivityCalendar",{data:function data(e){var t=a[e.format("YYYY-MM-DD")];return t?t:0}}),this.onLoad&&this.onLoad()},a.exports=AnalyticsDashboard}),define("ui.stats.AnalyticsSegment",function(e,t,a){var s=Math.round;a.exports=function AnalyticsSegment(e,t){var a=this;for(var o in this.title=t.title,this.totalAnswered=ko.observable(0),this.totalAvailable=ko.observable(0),this.totalProgress=ko.computed(function(){return s(100*(a.totalAnswered()/a.totalAvailable()))}),this.firstPassAccuracy=ko.observable(0),this.firstPassPercentile=ko.observable(0),this.firstPassPercentileSuffix=ko.computed(function(){return ordinalSuffix(a.firstPassPercentile(),!0)}),this.lastPassAccuracy=ko.observable(0),this.lastPassPercentile=ko.observable(0),this.lastPassPercentileSuffix=ko.computed(function(){return ordinalSuffix(a.lastPassPercentile(),!0)}),t.data)this[o](t.data[o])}}),define("ui.videoPlayer",function(e){var t=Math.round;function embed(e,o,d,n){function addVideoSrc(e,t){p.sources.push(e),~p.techOrder.indexOf(t)||p.techOrder.push(t),"youtube"==t&&(p.youtube=_defineProperty({ytControls:0,iv_load_policy:3,cc_load_policy:3,rel:0,showinfo:0,autoplay:0,disablekb:1,fs:0,modestbranding:1},"autoplay",0))}if(window.mobile.mobile()&&(videojs.options.hls.overrideNative=!0,videojs.options.html5.nativeAudioTracks=!1,videojs.options.html5.nativeVideoTracks=!1,videojs.options.html5.nativeTextTracks=!1),"Safari"==window.browser.family&&e.cc&&(videojs.options.html5.nativeTextTracks=!1),!o)var l="100%",c="400px";else if(1e3<=o.width())var l=800,c=450;else if(1e3>o.width()&&640<=o.width())var l=640,c=360;else if(640>o.width()&&480<=o.width())var l=480,c=270;else if(480>o.width())var l=t(o.width()),c=t(9*l/16);var p={sources:[],techOrder:[]},u;if("object"===_typeof(e)?(e.$$?p.poster="https://osmose-it.s3.amazonaws.com/"+e.$$:e.$&&(p.poster="https://osmose-it.s3.amazonaws.com/"+e.$),e.hls&&addVideoSrc({src:"/videoPlaylist?hash=".concat(e.hls),type:"application/x-mpegURL"},"html5"),e.mux,e.s3&&e.cfToken?addVideoSrc({src:e.cfToken,type:"video/mp4"},"html5"):e.s3&&addVideoSrc({src:"https://osmose-it.s3.amazonaws.com/"+e.s3,type:"video/mp4"},"html5"),e.v&&!e.yt&&(e.yt=e.v),e.yt&&addVideoSrc({src:"https://www.youtube.com/embed/"+e.yt,type:"video/youtube"},"youtube"),e.hideControls&&(u=e.hideControls)):addVideoSrc({src:"https://www.youtube.com/embed/"+e,type:"video/youtube"},"youtube"),0>=p.sources.length)throw"No video found!";var m="vjs-videoplayer-"+s++,v=videojs.getPlayers();for(var b in v)if(v[b]&&v[b].id()===m){try{v[b].dispose()}catch(t){if(~(t+"").indexOf("The YouTube player is not attached to the DOM."));else throw t}break}var h=$("<div><video id=\""+m+"\" class=\"video-js vjs-big-play-centered vjs-osmosis-skin\" style=\"display:block; margin-left: auto; margin-right:auto\" width=\""+l+"\" height=\""+c+"\"></video></div>");$("body").append(h);var g=["back","forward","volume"];if(g.push("speed"),g.push("feedback"),window.mobile.mobile()||!!o&&!(628<=o.width())||d.hideShortcuts||g.push("shortcuts"),u)if("object"===_typeof(u)){var f=!0,w=!1,S=void 0;try{for(var q=u[Symbol.iterator](),C;!(f=(C=q.next()).done);f=!0){var D=C.value,T=g.indexOf(D);~T&&g.splice(T,1)}}catch(e){w=!0,S=e}finally{try{f||null==q.return||q.return()}finally{if(w)throw S}}}else g=["volume"];var I={controls:!0,preload:"auto",autoplay:!1,plugins:{persistspeed:!0,playercontrols:{controls:g,playbackRates:[.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3.5,4]},osmosisskin:!0}};if(e.cc){var M={src:"https://osmose-it.s3.amazonaws.com/"+e.cc,kind:"captions",mode:getCaptionPref(),srclang:"en",label:"English"};I.tracks?I.tracks.push(M):I.tracks=[M]}var A=videojs("#"+m,videojs.mergeOptions(I,p));A.on("ended",function(){var e=function handlePlay(){A.off("seeked",t),A.pause(),setTimeout(function(){A.currentTime(0),A.play()},0)},t=function handleSeeked(){A.off("play",e)};A.one("play",e),A.one("seeked",t)}),$(A.contentEl()).children("iframe").css({"pointer-events":"none"}).attr({tabindex:"-1"});var P=$("<div style=\"position:absolute;left:0;right:0;top:0;bottom:0;outline: none;\" class=\"vjs-video-overlay-custom\" tabindex=\"1\"></div>");if(P.click(function(){A.paused()?A.play():A.pause()}),!window.mobile.mobile()){var O={},E=function onVideoKeyDown(e){if(48<=e.which&&57>=e.which){var t=A.paused();return A.pause(),A.currentTime(A.duration()*(e.which-48)/10),void(t||A.play())}switch(e.which){case 32:A.paused()?A.play():A.pause(),e.preventDefault();break;case 37:videoSeek(A,O[37]?-10:-5);break;case 39:videoSeek(A,O[39]?10:5);break;case 74:videoSeek(A,-10);break;case 76:videoSeek(A,10);break;default:}O[e.which]=!0},B=function onVideoKeyUp(e){delete O[e.which]};$(".vjs-control-bar",A.contentEl()).css({outline:"none"}).attr({tabindex:"2"}),P.keydown(E),$(".vjs-control-bar",A.contentEl()).keydown(E),P.keyup(B),$(".vjs-control-bar",A.contentEl()).keyup(B),P.focus(),setInterval(function(){if("iframe"===document.activeElement.tagName.toLowerCase()&&~document.activeElement.id.indexOf("vjs")){var e=P.parents(".scrollable").first(),t=e.scrollTop(),a=e.scrollLeft();P.focus(),e.scrollTop(t),e.scrollLeft(a)}},100)}var z=$(".vjs-resize-manager",A.contentEl());z.length&&z.prependTo(A.contentEl()),$(P).insertBefore($(".vjs-control-bar",A.contentEl())),A.on("fullscreenchange",function(){$(A.controlBar.fullscreenToggle.el_).blur(),$(".vjs-video-overlay-custom",A.contentEl()).focus()}),A.textTracks().on("change",function(){var e=!1,t=this.tracks_;for(var a in t)"showing"==t[a].mode&&(e=!0);setCaptionPref(e)});var L={player:A,el:h.detach(),id:m};return a[L.id]=L,n&&n(L),L}function setCaptionPref(e){e?window.Storage&&window.localStorage.setItem("vjs:captions",!0):window.Storage&&window.localStorage.removeItem("vjs:captions")}function getCaptionPref(){return window.Storage&&window.localStorage.getItem("vjs:captions")?"showing":"hidden"}function cleanVideos(){for(var e in a)$("#"+a[e].id).length||delete a[e]}function videoSeek(e,t){e&&(e.paused()?e.currentTime(e.currentTime()+t):(e.pause(),e.currentTime(e.currentTime()+t),e.play()))}function getActiveVideo(){for(var e in a)if(!a[e].player.paused())return a[e];return null}var a={},s=0;e.embed=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return embed(e,t,a,s)},e.pauseAll=function(){for(var e in cleanVideos(),a)a[e].player.paused()||a[e].player.pause()},e.registerHotkeys=function(){function handle(t){return function(a){var e=getActiveVideo();e&&(a.preventDefault(),a.stopPropagation(),t(e))}}registerHotkey("video-player","alt+left",handle(function(e){videoSeek(e.player,-10)})),registerHotkey("video-player","alt+right",handle(function(e){videoSeek(e.player,10)})),registerHotkey("video-player","ctrl+left",handle(function(e){videoSeek(e.player,-60)})),registerHotkey("video-player","ctrl+right",handle(function(e){videoSeek(e.player,60)})),registerHotkey("video-player","mod+left",handle(function(e){videoSeek(e.player,-60)})),registerHotkey("video-player","mod+right",handle(function(e){videoSeek(e.player,60)}))}}),define("shared.books",function(e){for(var t in e.name={0:"renal",1:"electrocardiography",2:"psychology",3:"learningscience",4:"anatomy"},e.fullName={0:"Renal Pathology",1:"Electrocoardiography Essentials",2:"Psychological Disorders",3:"How to Learn",4:"Anatomy & Physiology Essentials"},e.fullName2id={},e.fullName)e.fullName2id[e.fullName[t]]=t;for(var t in e.name2id={},e.name)e.name2id[e.name[t]]=t;e.price={0:39.99,1:19.99,2:39.99,3:39.99,4:24.99},e.img={0:"734e490cd584289a37599c2e8b9d210a8ab31626.jpg",1:"bf1558717027068505ef200189a780c3bed272d9.jpg",2:"ab9b7f6fec20d9c1555f80a7b0786b2aed9a17a2.jpg",3:"946195a1718711593c9545691535cff83152fb76.jpg",4:"1a822e3f3d514775ff6708d6cd904caa0a35b798.png"},e.getImg=function(t){return"https://d3cdo0emj8d2qc.cloudfront.net/assets/"+e.img[t]},e.getImages=function(t){if(3===t.length&&~t.indexOf(0)&&~t.indexOf(1)&&~t.indexOf(2))return["https://d3cdo0emj8d2qc.cloudfront.net/assets/a67d82193f5024082deecdde5325e2d11216246c.png"];var a=[];for(var s in t)a.push(e.getImg(t[s]));return a}}),define("shared.canonical",function(e){function cleanStr(e){return e.replace(/\&/g,"+").replace(/\./g,"").replace(/\\/g,"-").replace(/\//g,"-")}e.schoolNickname=function(e){var t=["of","at","and","the","an","a","university","college","Of","At","And","The","An","A","University","College"],a=["medicine","medical","sciences","science","health"],s=e.split(" ");if(1<s.length)for(var o in s){if(-1!=t.indexOf(s[o]))return{error:"\""+s[o]+"\" is not allowed in a school nickname. Try an abbreviation."};if(-1!=a.indexOf(s[o].toLowerCase()))return{warning:"\""+s[o]+"\" should probably be shortened to an abbreviation."}}return{success:1}},e.url=function(e,t){if(!/^[A-Za-z0-9\(\)\[\]\-\_\,\.\s\&\\\/]+$/.test(e))return null;if(!t){for(var a=e.split(" "),s=a[0],o=1;o<a.length;o++)s+=/^[A-Z]$/.test(a[o][0])?/^[A-Z]$/.test(s[s.length-1])?"-"+a[o]:a[o]:a[o];return cleanStr(s)}return cleanStr(e).replace(/\s/g,t)}}),define("shared.cards",function(e){e.cards=[{id:"skip-a-beat",src:"https://d16qt3wv6xm098.cloudfront.net/2Pzt5y3GRbinSqZy32FnvM5kQkedO4Rf/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:[]},{id:"skip-a-beat-2",src:"https://d16qt3wv6xm098.cloudfront.net/h5VdnDF2RNaoSM0M-2DY2hVlR_yzRITJ/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:[]},{id:"i-lobe-you",src:"https://d16qt3wv6xm098.cloudfront.net/j7ajhKu4S_epI-iEy58bhh3nSAGv2weZ/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:[]},{id:"egg-cellent",src:"https://d16qt3wv6xm098.cloudfront.net/gCRTqj9BRUKeDAV7fdkbPBdGR7_cJgPb/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:["general"]},{id:"spleen-did",src:"https://d16qt3wv6xm098.cloudfront.net/lYaY95PXTQuQnT2PdSDsU9sHRv2ZscMx/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:["general"]},{id:"urine-my-heart",src:"https://d16qt3wv6xm098.cloudfront.net/7DJ-UboOQCantEVvKtYy6G7NRL6aCaL6/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:[]},{id:"brighten-my-day",src:"https://d16qt3wv6xm098.cloudfront.net/yU7dWv_GRxObjHeLWAJmZhiUToqmTOl4/_.jpg",categoryName:"Valentine's Day",category:"valentines-day",tags:["general"]},{id:"happy-new-year",src:"https://d16qt3wv6xm098.cloudfront.net/CQA-5_H9SoqUVRcCQLEj8EN4STanQ6Gw/_.jpg",categoryName:"New Years",category:"new-years",tags:[]},{id:"holiday",src:"https://d16qt3wv6xm098.cloudfront.net/qoziWE8AQoacCo6DD7I-HtD5RxG277Ww/_.jpg",categoryName:"Holiday",category:"holiday",tags:[]},{id:"happy-birthday-telomeres",src:"https://d16qt3wv6xm098.cloudfront.net/rw8VG6vsTSWQazmhOgxYwOEVTCak9Sg3/_.jpg",categoryName:"Birthday",category:"birthday",tags:[]},{id:"birthday",src:"https://d16qt3wv6xm098.cloudfront.net/t4X5nGgMQPSfjtx8rxHEMxEPTfaV6lsh/_.jpg",categoryName:"Birthday",category:"birthday",tags:[]},{id:"thank-you-vas-deferens",src:"https://d16qt3wv6xm098.cloudfront.net/pXtLBrF9TQqNN6mTJiQ-N5qQSo2KvHrc/_.jpg",categoryName:"Thank you",category:"thank-you",tags:["general"]},{id:"thank-you",src:"https://d16qt3wv6xm098.cloudfront.net/gs_SHYg4QtCgHL3kgbNuoyMNQgKIglrj/_.jpg",categoryName:"Thank you",category:"thank-you",tags:["general"]},{id:"thank-you-2",src:"https://d16qt3wv6xm098.cloudfront.net/6SIAqNBoQGeaaNsnNG0lmnLwTSy0NbAr/_.jpg",categoryName:"Thank you",category:"thank-you",tags:["general"]},{id:"thanks-for-everything",src:"https://d16qt3wv6xm098.cloudfront.net/C_SnaXMlSk_sOuU2N-maxOx_QpaQZDsB/_.jpg",categoryName:"Thank you",category:"thank-you",tags:["general"]},{id:"happy-match-day",src:"https://d16qt3wv6xm098.cloudfront.net/AKh7X8tDTcmA2blsEA5ziQYyRiWM4cce/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"finished-med-school-female",src:"https://d16qt3wv6xm098.cloudfront.net/TnH_MWI5TAG0NKkZWJBDIHvgThWbmzNO/_.jpg",categoryName:"Medical School",category:"medical-school",tags:[]},{id:"finished-med-school-male",src:"https://d16qt3wv6xm098.cloudfront.net/Y7es1fYqSWazDQ3gGBfBntOSRnynKUQs/_.jpg",categoryName:"Medical School",category:"medical-school",tags:[]},{id:"good-luck",src:"https://d16qt3wv6xm098.cloudfront.net/v3l8AMaFQa_hHJidZaWx3F40QAaBij6f/_.jpg",categoryName:"Good luck",category:"good-luck",tags:["general"]},{id:"hip-hip-hooray",src:"https://d16qt3wv6xm098.cloudfront.net/RNp5VYcfR5_tdkol9JmjK1fxQgK9HXrc/_.jpg",categoryName:"Congratulations",category:"congratulations",tags:["general"]},{id:"cornea-congrats",src:"https://d16qt3wv6xm098.cloudfront.net/Z_wG6VU4TIioNl88sTIhAR5yQWCzaHlL/_.jpg",categoryName:"Congratulations",category:"congratulations",tags:["general"]},{id:"little-note",src:"https://d16qt3wv6xm098.cloudfront.net/36yn3WI5QVKgzpJYHqIsMkOsTOuJGOgb/_.jpg",category:"note",categoryName:"Note",tags:["general"]},{id:"sorry-for-loss",src:"https://d16qt3wv6xm098.cloudfront.net/0yzBqQ6YT0G9AN7EP-VLqT_TS_iV-H-a/_.jpg",category:"condolences",categoryName:"Condolences",tags:["general"]},{id:"get-whale-soon",src:"https://d16qt3wv6xm098.cloudfront.net/QCI283XGQPePehJ8wg3M8LdoR5mBmUts/_.jpg",categoryName:"Condolences",category:"condolences",tags:["general"]},{id:"congrats-natural-killer",src:"https://d16qt3wv6xm098.cloudfront.net/2FgHppx5Qu2jJLSpawi8DjaDQ3KhFHPh/_.jpg",categoryName:"Congratulations",category:"congratulations",tags:["general"]},{id:"congratulations-baby",src:"https://d16qt3wv6xm098.cloudfront.net/exNxCtcpSbGfpI0J8VvYQshuQsyYEwbM/_.jpg",categoryName:"Congratulations",category:"congratulations",tags:["general"]},{id:"residency-obgyn",src:"https://d16qt3wv6xm098.cloudfront.net/_PTHIqvJSjGypAWx8PgPVhPeSfSacjLY/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-pediatrics",src:"https://d16qt3wv6xm098.cloudfront.net/eIRPisLBQp6PRVYqL7d7xfgzS3S3BsbW/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-anesthesiology",src:"https://d16qt3wv6xm098.cloudfront.net/7kZui1lfRFe0pU59l3-iN9J8TiuoxNkM/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-genetics",src:"https://d16qt3wv6xm098.cloudfront.net/sayjDrc_TTq6-JiECiduW_FVRa6cAZQt/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-orthopedic-surgeon",src:"https://d16qt3wv6xm098.cloudfront.net/XqSD9YUJRGaFpqGVKpJt8MfpSeCrik5D/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-urology",src:"https://d16qt3wv6xm098.cloudfront.net/vwov-Y1zSnGsDuJmXsSi96ygQfSz0QBL/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-surgery",src:"https://d16qt3wv6xm098.cloudfront.net/3-QPo0o5TkWw0RaK8dKMYXCFSWKGT4Zi/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-otolaryngology",src:"https://d16qt3wv6xm098.cloudfront.net/4HUx1p6wQhawSGJ2UjIBP6jlT5eWmMW-/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-plastic-surgery",src:"https://d16qt3wv6xm098.cloudfront.net/upq7qAwKSm2NsoXIU1ROZHTXRyu1P7o0/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-dermatology",src:"https://d16qt3wv6xm098.cloudfront.net/2FgHppx5Qu2jJLSpawi8DjaDQ3KhFHPh/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"congrats-on-matching",src:"https://d16qt3wv6xm098.cloudfront.net/ZXEbS7EsScurGHnn9LZz3rGSSWG_ehGh/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"congrats-on-matching-2",src:"https://d16qt3wv6xm098.cloudfront.net/cXC7MEzhSZix2Ex_K_XIojwRTR2gHEW_/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-pathology",src:"https://d16qt3wv6xm098.cloudfront.net/YuGhB503QZe4fNXqJDQZTWD9QVmi5ay9/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-family",src:"https://d16qt3wv6xm098.cloudfront.net/BrVttgp7RNGuz-UMHQHqTsNbQ6yWagZF/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-psychiatry",src:"https://d16qt3wv6xm098.cloudfront.net/HUpz9NeqQkC1weSRN7Jw2V2_TRGKR9W5/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-emergency",src:"https://d16qt3wv6xm098.cloudfront.net/XVP33wFISMKz5uqhDew-gD-ZQdetTD0K/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]},{id:"residency-internal",src:"https://d16qt3wv6xm098.cloudfront.net/AHlh1tT-QFSLQwbDHGGOZLU6QLe_9vdF/_.jpg",categoryName:"Residency Match",category:"residency-match",tags:[]}]}),define("shared.character",function(e){e.themes=[{src:"https://d16qt3wv6xm098.cloudfront.net/pA2PwoDGT9Of5u5sXUYVsgVZSxyFsFiY/_.png",theme:"pink"},{src:"https://d16qt3wv6xm098.cloudfront.net/UAoi90hQQm_84TliJsXtjlPKSDqrlc8m/_.png",theme:"red"},{src:"https://d16qt3wv6xm098.cloudfront.net/24X4RKqSTX6CwLbGudaTR2cmQGSthbxS/_.png",theme:"purple"},{src:"https://d16qt3wv6xm098.cloudfront.net/ruVCQDfTSzukkaEbP7D5c-FWT7CIeJLn/_.png",theme:"blue"},{src:"https://d16qt3wv6xm098.cloudfront.net/dITHVTuVTCqYaJDtVxD8_yiSSYq-EA7o/_.png",theme:"pink"},{src:"https://d16qt3wv6xm098.cloudfront.net/dJ0uoMeSRqmN_DQnlqVsUFceSeugqn24/_.png",theme:"blue"},{src:"https://d16qt3wv6xm098.cloudfront.net/pRIt9T8bSu_dG45aQYqPKCqpQ5C224r0/_.png",theme:"teal"},{src:"https://d16qt3wv6xm098.cloudfront.net/37kGdX6ESAi9Z-GsTSGOl38gSkei1mia/_.png",theme:"pink"},{src:"https://d3cdo0emj8d2qc.cloudfront.net/assets/0JVnIydKQ__3t9k670L6ggJKTe_x6toP.png",theme:"pink",message:"Spleen-did job!"},{src:"https://d16qt3wv6xm098.cloudfront.net/nIAyz_5VSjmKMjMX5vA6898aR_WrhqdS/_.png",theme:"pink",message:"Egg-cellent!"},{src:"https://d16qt3wv6xm098.cloudfront.net/l8Ts2-dmSJi4Pese0dXJKwabTyS2pIWH/_.png",theme:"green"},{src:"https://d16qt3wv6xm098.cloudfront.net/TucnEJH9TOa94xRs-Ha5AoB9TIiFMHHD/_.png",theme:"pink"}]}),define("shared.conceptBlockSubtypes",function(e){var t=["WikiBlock","ImageBlock","VideoBlock","SlideBlock","URLBlock","BookRefBlock","InteractiveBlock","QuesBlock","FlashcardBlock","TextBlock","MetaBlock","FlashcardSelectBlock","LearnBlock","TableBlock","SearchBlock"],a={};for(var s in t)a[t[s]]=+s+1;e.blocks=t,e.block2subtype=a}),define("shared.ignoredErrors",function(e){var t={"Script error.":1,"Invalid login.":1},a=["login session has expired","Invalid document url: stylesheet.css","You do not appear to be a member of this group."];e.filter=function(e){if(!e.msg)return!1;if(t[e.msg])return!1;for(var s in a)if(~e.msg.indexOf(a[s]))return!1;return!0}}),define("shared.navTreeOp",function(e){function collapseInto(e,t){for(var a in t)t[a].contains?collapseInto(e,t[a].contains):e.push(t[a])}function collapseTree(e){var t=[];return collapseInto(t,e),t}e.collapse=function(e,t){var a=collapseTree(e);return t?_.filter(a,t):a}}),define("shared.obfuscation",function(e,t,a){var s=String.fromCharCode,o=Math.floor,d=function(){"use strict";function obfuscation(){_classCallCheck(this,obfuscation)}return _createClass(obfuscation,[{key:"_obfuscationFunc",value:function _obfuscationFunc(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s;if("object"===_typeof(e)){var o=Array.isArray(e);for(var d in s=o?Array(e.length):{},e)s[o?d:obfuscation["_".concat(t,"String")](d)]=this[t](e[d])}else"string"==typeof e&&(s=obfuscation["_".concat(t,"String")](e));return s}},{key:"obfuscate",value:function obfuscate(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._obfuscationFunc(e,"obfuscate",t)}},{key:"deobfuscate",value:function deobfuscate(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._obfuscationFunc(e,"deobfuscate",t)}}],[{key:"_obfuscateString",value:function _obfuscateString(e){for(var t=[],a=0;a<e.length;a++)t[0==a%2?"push":"unshift"](e.charCodeAt(a));return t.join("O")}},{key:"_deobfuscateString",value:function _deobfuscateString(e){for(var t=e.split("O").map(function(e){return s(e)}),a=o(t.length/2),d="",n=1,l;n<t.length+1;n++)l=a+o(n/2)*(0==n%2?-1:1),d+=t[l];return d}}]),obfuscation}();a.exports=new d}),define("shared.quotes",function(e){e.quotes=[{id:39,quote:"You cannot build character and courage by taking away one's initiative and independence.",author:"Abraham Lincoln",tag:"character"},{id:8315,quote:"Every individual's work, whether it be literature or music or pictures or anything else, is always a portrait of oneself, and the more one tries to conceal oneself the more clearly will one's character appear in spite of oneself.",author:"Samuel Butler",tag:"character"},{id:762,quote:"Good character is that quality which makes one dependable whether being watched or not, which makes one truthful when it is to one\u2019s advantage to be a little less than truthful.",author:"Arthur S. Adams",tag:"character"},{id:9025,quote:"The measure of one's real character is what one would do if one knew one would never be found out.",author:"Thomas B. Macaulay",tag:"character"},{id:13,quote:"The force, the mass of character, mind, heart or soul that one can put into any work is the most important factor in that work.",author:"A.P. Peabody",tag:"character"},{id:8021,quote:"The noblest contribution which any person can make for the benefit of posterity, is that of character. The richest bequest which any person can leave to the youth of his native land, is that of a shining, spotless example.",author:"Robert C. Winthrop",tag:"character"},{id:6526,quote:"Character is formed, not by laws, commands, and decrees, but by quiet influence, unconscious suggestion and personal guidance.",author:"Marion L. Burton",tag:"character"},{id:996,quote:"Fame is what you have taken, character is what you give. When to this truth you awaken, then you begin to live.",author:"Bayard Taylor",tag:"character"},{id:2232,quote:"The character that needs law to mend it is hardly worth the tinkering.",author:"Douglas Jerrold",tag:"character"},{id:10181,quote:"To wilful people, the injuries that they themselves procure must be their schoolmasters.",author:"William Shakespeare",tag:"character"},{id:9815,quote:"Every person is a volume, if you know how to read them.",author:"William Ellery Channing",tag:"character"},{id:604,quote:"The dearest to me are those of best character.",author:"Arabian Proverb",tag:"character"},{id:10355,quote:"Character is a by-product; it is produced in the great manufacture of daily duty",author:"Woodrow Wilson",tag:"character"},{id:4630,quote:"A person's reputation is the opinion people have of them; their character is what they really are.",author:"Jack Miner",tag:"character"},{id:6290,quote:"You can easily judge the character of others by how they treat those who can do nothing for them or to them.",author:"Malcolm Forbes",tag:"character"},{id:5042,quote:"Talents are best nurtured in solitude; character is best formed in the stormy billows of the world.",author:"Johann Wolfgang Von Goethe",tag:"character"},{id:1795,quote:"In people of the highest character and noblest genius there is to be found an insatiable desire for honor, command, power, and glory.",author:"Cicero",tag:"character"},{id:137,quote:"Wherever one goes to dwell, one's character goes too.",author:"African Proverb",tag:"character"},{id:10284,quote:"Don\u2019t mistake personality for character.",author:"Wilma Askinas",tag:"character"},{id:5740,quote:"Society asks of most people more than sheer intellectual ability-it demands also moral hardiness, self-discipline, a competitive spirit and other qualities that in more old-fashioned terms we might simply call character.",author:"Julius Adams Stratton",tag:"character"},{id:1019,quote:"Characters never change. Opinions alter; characters are only developed.",author:"Benjamin Disraeli",tag:"character"},{id:4209,quote:"One's ledger does not tell what one is, or what one is worth. Count what is in a person, not what is on them, if you would know what they are worth-whether rich or poor.",author:"Henry Ward Beecher",tag:"character"},{id:8203,quote:"A character standard is far more important than ever a gold standard. The success of all economic systems is still dependent upon both righteous leaders and righteous people.",author:"Roger Babson",tag:"character"},{id:5274,quote:"Character is the real foundation of all worthwhile success.",author:"John Hays Hammond",tag:"character"},{id:5189,quote:"The most important thing for a young person is to establish a credit-a reputation, character.",author:"John D. Rockefeller",tag:"character"},{id:7543,quote:"The highest of characters is a person who is as ready to pardon the moral errors of all as if they were every day guilty of them themself; and as cautious of committing a fault as if they never forgave one.",author:"Pliny the Younger",tag:"character"},{id:8949,quote:"I care not what others think of what I do, but I care very much about what I think of what I do: That is character!",author:"Theodore Roosevelt",tag:"character"},{id:5599,quote:"I never knew an early-rising, hard-working, prudent person, careful of their earnings and strictly honest, who complained of hard luck.",author:"Joseph Addison",tag:"character"},{id:6088,quote:"Before you are five and twenty you must establish a character that will serve you all your life.",author:"Lord Collingwood",tag:"character"},{id:769,quote:"People best show their character in trifles, where they are not on guard.",author:"Arthur Schopenhauer",tag:"character"},{id:1299,quote:"The character of a generation is moulded by personal character.",author:"Brooke Foss Westcott",tag:"character"},{id:2009,quote:"Character is a diamond that scratches every other stone.",author:"Cyrus R. Bartol",tag:"character"},{id:699,quote:"It\u2019s only by the hard blows of adverse fortune that character is tooled.",author:"Arnold Glasow",tag:"character"},{id:7754,quote:"Judge of your natural character by what you do in your dreams.",author:"Ralph Waldo Emerson",tag:"character"},{id:4275,quote:"Character is destiny.",author:"Heraclitus",tag:"character"},{id:10090,quote:"Character development is the great, if not the sole, aim of education.",author:"William O\u2019Shea",tag:"character"},{id:262,quote:"Only what we have wrought into our character during life can we take way with us.",author:"Alexander Humboldt",tag:"character"},{id:5287,quote:"Character is power; it makes friends, draws patronage and support, and opens a sure way to wealth, honor and happiness.",author:"John Howe",tag:"character"},{id:648,quote:"Character is that which reveals moral purpose, exposing the class of things people choose or avoid.",author:"Aristotle",tag:"character"},{id:10609,quote:"To be independent is the business of a few only; it is the privilege of the strong.",author:"Friedrich Wilhelm Nietzsche",tag:"character"},{id:5943,quote:"You can never have a greater or a less dominion than over yourself.",author:"Leonardo da Vinci",tag:"character"},{id:4419,quote:"Fame is a vapor, popularity an accident, riches take wings. Only one thing endures, and that is character.",author:"Horace Greeley",tag:"character"},{id:131,quote:"It is easy to be brave from a safe distance.",author:"Aesop",tag:"courage"},{id:8952,quote:"Don\u2019t foul, don\u2019t flinch-hit the line hard.",author:"Theodore Roosevelt",tag:"courage"},{id:7762,quote:"Whatever you do, you need courage. Whatever course you decide upon, there is always someone to tell you you are wrong.",author:"Ralph Waldo Emerson",tag:"courage"},{id:7709,quote:"Courage without conscience is a wild beast.",author:"Ralph Ingersoll",tag:"courage"},{id:10591,quote:"Bravery never goes out of style.",author:"William Makepeace Thackeray",tag:"courage"},{id:7290,quote:"It takes vision and courage to create\u2014it takes faith and courage to prove.",author:"Owen D. Young",tag:"courage"},{id:6551,quote:"It is curious that physical courage should be so common in the world, and moral courage so rare.",author:"Mark Twain",tag:"courage"},{id:7761,quote:"Courage consists in equality to the problem before us.",author:"Ralph Waldo Emerson",tag:"courage"},{id:9625,quote:"The will to do, the soul to dare.",author:"Walter Scott",tag:"courage"},{id:483,quote:"One individual with courage makes a majority.",author:"Andrew Jackson",tag:"courage"},{id:5784,quote:"Hope awakens courage. One who can implant courage in the human soul is the best physician.",author:"Karl Ludwig von Knebel",tag:"courage"},{id:10314,quote:"Courage is rightly esteemed the first of human qualities because it\u2019s the quality which guarantees all others.",author:"Winston Churchill",tag:"courage"},{id:10313,quote:"Courage is what it takes to stand up and speak; courage is also what it takes to sit down and listen.",author:"Winston Churchill",tag:"courage"},{id:2980,quote:"The only security is courage.",author:"Fran\xE7ois de La Rochefoucauld",tag:"courage"},{id:7483,quote:"Every individual of courage is an individual of their word.",author:"Pierre Corneille",tag:"courage"},{id:1350,quote:"Courage is not simply one of the virtues, but the form of every virtue at the testing point.",author:"C.S. Lewis",tag:"courage"},{id:7528,quote:"Courage in danger is half the battle.",author:"Plautus",tag:"courage"},{id:415,quote:"Life shrinks or expands in proportion to one\u2019s courage.",author:"Ana\xEFs Nin",tag:"courage"},{id:6805,quote:"The strongest, most generous and proudest of all virtues is courage.",author:"Michel de Montaigne",tag:"courage"},{id:2082,quote:"Courage is a special kind of knowledge: the knowledge of how to fear what ought to be feared and how not to fear what ought not to be feared.",author:"David Ben-Gurion",tag:"courage"},{id:7270,quote:"Courage conquers all things.",author:"Ovid",tag:"courage"},{id:5417,quote:"Courage and perseverance have a magical talisman, before which difficulties disappear and obstacles vanish into air.",author:"John Quincy Adams",tag:"courage"},{id:3475,quote:"Success is never final and Failure never fatal. It\u2019s courage that counts.",author:"George F. Tilton",tag:"courage"},{id:7760,quote:"A great part of courage is having done the thing before.",author:"Ralph Waldo Emerson",tag:"courage"},{id:6056,quote:"Whatever is worth doing at all is worth doing well.",author:"Lord Chesterfield",tag:"doing"},{id:4175,quote:"It takes less time to do a thing right than to explain why you did it wrong.",author:"Henry Wadsworth Longfellow",tag:"doing"},{id:3599,quote:"If you have something to do that is worthwhile doing, don\u2019t talk about it, but do it. After you have done it, your friends and enemies will talk about it.",author:"George W. Blount",tag:"doing"},{id:9057,quote:"People do less than they ought, unless they do all that they can.",author:"Thomas Carlyle",tag:"doing"},{id:5446,quote:"Doing is the great thing. For if, resolutely, people do what is right, in time they come to like doing it.",author:"John Ruskin",tag:"doing"},{id:7927,quote:"The shortest way to do many things is to do only one thing at a time.",author:"Richard Cecil",tag:"doing"},{id:1342,quote:"Not merely what we do, but what we try to do and why, are the true interpreters of what we are.",author:"C.H. Woodward",tag:"doing"},{id:3489,quote:"The shortest answer is doing.",author:"George Herbert",tag:"doing"},{id:490,quote:"So much one person can do that does both act and know.",author:"Andrew Marvell",tag:"doing"},{id:9694,quote:"A wise person said: \"As I grow older I pay less attention to what people say. I just watch what they do.",author:"Wilfred A. Peterson",tag:"doing"},{id:7157,quote:"I will just create, and if it works, it works, and if it doesn\u2019t, I\u2019ll create something else. I don\u2019t have any limitations on what I think I could do or be.",author:"Oprah Winfrey",tag:"doing"},{id:6558,quote:"Make it a point to do something every day that you don\u2019t want to do. This is the golden rule for acquiring the habit of doing your duty without pain.",author:"Mark Twain",tag:"doing"},{id:1070,quote:"Well done is better than well said.",author:"Benjamin Franklin",tag:"doing"},{id:6521,quote:"One never notices what has been done; one can only see what remains to be done.",author:"Marie Curie",tag:"doing"},{id:5555,quote:"I feel that the greatest reward for doing is the opportunity to do more.",author:"Jonas Salk",tag:"doing"},{id:655,quote:"One must learn by doing the thing, for though you think you know it, you have no certainty until you try.",author:"Aristotle",tag:"doing"},{id:7404,quote:"Thinking well is wise; planning well; wiser; doing well wisest and best of all.",author:"Persian Proverb",tag:"doing"},{id:6057,quote:"Do as you would be done by, is the surest method of pleasing.",author:"Lord Chesterfield",tag:"doing"},{id:9056,quote:"Everywhere in life the true question is, not what we have gained, but what we do.",author:"Thomas Carlyle",tag:"doing"},{id:4631,quote:"Many enjoy the shade ... but few rake leaves.",author:"Jack Morton",tag:"doing"},{id:6902,quote:"It is not only what we do, but also what we do not do, for which we are accountable.",author:"Moliere",tag:"doing"},{id:464,quote:"What one does easily, one does well.",author:"Andrew Carnegie",tag:"doing"},{id:2398,quote:"The greatest thing in the world is for a person to be able to do something well, and say nothing about it.",author:"Edgar Watson Howe",tag:"doing"},{id:18,quote:"Whatever fortune brings, don\u2019t be afraid of doing things.",author:"A.A. Milne",tag:"doing"},{id:2313,quote:"The world is divided into people who do things and people who get the credit. Try, if you can, to belong to the first class. There\u2019s far less competition.",author:"Dwight Morrow",tag:"doing"},{id:8110,quote:"The two basic processes of education are knowing and valuing.",author:"Robert J. Havighurst",tag:"education"},{id:5340,quote:"The aim of education should be to convert the mind into a living fountain, and not a reservoir. That which is filled by merely pumping in, will be emptied by pumping out.",author:"John M. Mason",tag:"education"},{id:9290,quote:"People, in teaching others, learn themselves.",author:"Thomas Lodge",tag:"education"},{id:8836,quote:"Education is no longer thought of as a preparation for adult life, but as a continuing process of growth and development from birth until death.",author:"Stephen Mitchell",tag:"education"},{id:10038,quote:"Being educated means to prefer the best not only to the worst but to the second best.",author:"William Lyon Phelps",tag:"education"},{id:8158,quote:"My idea of education is to unsettle the minds of the young and inflame their intellects.",author:"Robert Maynard Hutchins",tag:"education"},{id:5129,quote:"Higher education must lead the march back to the fundamentals of human relationships, to the old discovery that is ever new, that people do not live by bread alone.",author:"John A. Hannah",tag:"education"},{id:7504,quote:"The direction in which education starts a person will determine their future life.",author:"Plato",tag:"education"},{id:606,quote:"The person who knows not and knows that they know not is a child\u2014teach them.",author:"Arabian Proverb",tag:"education"},{id:174,quote:"Education is that which remains when one has forgotten everything they learned in school.",author:"Albert Einstein",tag:"education"},{id:3942,quote:"A teacher affects eternity: they can never tell where their influence stops.",author:"Henry Adams",tag:"education"},{id:10007,quote:"Let no youth have any anxiety about the upshot of their education, whatever the line of it may be. If one keeps faithfully busy each hour of the working-day, one may safely leave the result to itself.",author:"William James",tag:"education"},{id:2517,quote:"Everyone who rises above the common level has received two educations: the first from their teachers; the second, more personal and important, from the self.",author:"Edward Gibbon",tag:"education"},{id:6225,quote:"You should have education enough so that you won\u2019t have to look up to people; and then more education so that you will be wise enough not to look down on people.",author:"M.L. Boren",tag:"education"},{id:2145,quote:"Nature and education are somewhat similar. The latter transforms man, and in so doing creates a second nature.",author:"Democritus",tag:"education"},{id:4744,quote:"Education today, more than ever before, must see clearly the dual objectives: Educating for living and educating for making a living.",author:"James Mason Wood",tag:"education"},{id:8043,quote:"Education is the ability to listen to almost anything without losing your temper or your self-confidence.",author:"Robert Frost",tag:"education"},{id:7776,quote:"The things taught in schools and colleges are not an education, but the means of education.",author:"Ralph Waldo Emerson",tag:"education"},{id:6562,quote:"Training is everything. The peach was once a bitter almond; the cauliflower is nothing but cabbage with a college education.",author:"Mark Twain",tag:"education"},{id:9675,quote:"An educated individual is one on whom nothing is lost.",author:"Wendell Smith",tag:"education"},{id:8615,quote:"The time may be coming when we will have to start accepting the idea that education is life, not merely a preparation for it.",author:"Seymour E. Harris",tag:"education"},{id:9677,quote:"Education is the mother of leadership.",author:"Wendell Willkie",tag:"education"},{id:4639,quote:"The test and the use of one's education is that one finds pleasure in the exercise of one's mind.",author:"Jacques Barzun",tag:"education"},{id:8118,quote:"The quality of a university is measured more by the kind of student it turns out than the kind it takes in.",author:"Robert Kibbee",tag:"education"},{id:1490,quote:"Examinations are formidable even to the best prepared, for the greatest fool may ask more than the wisest can answer.",author:"Charles Caleb Colton",tag:"education"},{id:10148,quote:"The noblest exercise of the mind within doors ... is study.",author:"William Ramsey",tag:"education"},{id:4462,quote:"To find out what we presently are and where we are going, we must know what we have been and what others have done; and this is the great purpose of humanistic scholarship.",author:"Howard Mumford Jones",tag:"education"},{id:10087,quote:"The most important aspect of freedom of speech is freedom to learn. All education is a continuous dialogue\u2014questions and answer that pursue every problem to the horizon.",author:"William O. Douglas",tag:"education"},{id:9701,quote:"Sixty years ago I knew everything; now I know nothing; education is a progressive discovery of our own ignorance.",author:"Will Durant",tag:"education"},{id:2494,quote:"An important personal quality for a teacher is that they care about humanity. If they don't, they are taking their pay illegally.",author:"Edward C. Helwick",tag:"education"},{id:10593,quote:"If one cannot state a matter clearly enough so that even an intelligent twelve-year-old can understand it, one should remain within the cloistered walls of the university and laboratory until one gets a better grasp of one's subject matter.",author:"Margaret Mead",tag:"education"},{id:2423,quote:"Education is the chief defense of nations.",author:"Edmund Burke",tag:"education"},{id:5447,quote:"The training which makes people happiest in themselves also makes them most serviceable to others.",author:"John Ruskin",tag:"education"},{id:1406,quote:"One looks back with appreciation to the brilliant teachers, but with gratitude to those who touch our human feelings.",author:"Carl Jung",tag:"education"},{id:2267,quote:"Education is the process by which individuals relate to the universe, give themselves citizenship in the changing world, share humanity's mind, and enfranchise their own souls.",author:"Dr. John H. Finley",tag:"education"},{id:8556,quote:"My joy in learning is partly that it enables me to teach.",author:"Seneca",tag:"education"},{id:4321,quote:"The great aim of education is not knowledge but action.",author:"Herbert Spencer",tag:"education"},{id:8199,quote:"The peculiar fascination which the speeding train has for us comes from the evident progress it is making toward its definite goal ahead.",author:"Roderick Stevens",tag:"goals"},{id:5063,quote:"Those who move not forward go backward.",author:"Johann Wolfgang Von Goethe",tag:"goals"},{id:4623,quote:"The successful person lengthens their stride when they discover that the signpost has deceived them; the failure looks for a place to sit down.",author:"J.R. Rogers",tag:"goals"},{id:7999,quote:"A person's reach should exceed their grasp, or what\u2019s heaven for?",author:"Robert Browning",tag:"goals"},{id:7797,quote:"Hitch your wagon to a star. Let us not dwell on paltry works which serve our pot and bag alone.",author:"Ralph Waldo Emerson",tag:"goals"},{id:6661,quote:"To get anywhere, strike out for somewhere, or you\u2019ll get nowhere.",author:"Martha Lupton",tag:"goals"},{id:8941,quote:"Unless you know where you are going, and road will take you there.",author:"Theodore Levitt",tag:"goals"},{id:3531,quote:"In this life we get only those things for which we hunt, for which we strive, and for which we are willing to sacrifice.",author:"George Matthew Adams",tag:"goals"},{id:3181,quote:"Many are stubborn in pursuit of the path they have chosen, few in pursuit of the goal.",author:"Friedrich Wilhelm Nietzsche",tag:"goals"},{id:10266,quote:"Not doing more than the average is what keeps the average down.",author:"William Winans",tag:"goals"},{id:6018,quote:"There are two things to aim at in life: first, to get what you want; and, after that, to enjoy it. Only the wisest of people achieve the second.",author:"Logan Pearsall Smith",tag:"goals"},{id:8134,quote:"An aim in life is the only fortune worth the finding.",author:"Robert Louis Stevenson",tag:"goals"},{id:53,quote:"Determine that the thing can and shall be done, and then we shall find the way.",author:"Abraham Lincoln",tag:"goals"},{id:7568,quote:"Some people give up their designs when they have almost reached the goal; while others, on the contrary, obtain a victory by exerting, at the last moment, more vigorous efforts than before.",author:"Polybius",tag:"goals"},{id:1894,quote:"You can\u2019t just go on being a good egg. You must either hatch or go bad!",author:"Clive Staples Lewis",tag:"goals"},{id:3714,quote:"Make the most of today. Translate your good intentions into actual deeds.  Realize that work well and worthily done makes life truly worth living.",author:"Grenville Kleiser",tag:"goals"},{id:1808,quote:"If you aspire to the highest place it is no disgrace to stop at the second, or even the third.",author:"Cicero",tag:"goals"},{id:6156,quote:"Far away there in the sunshine are my highest aspirations. I may not reach them, but I can look up and see their beauty, believe in them and try to follow where they lead.",author:"Louisa May Alcott",tag:"goals"},{id:4761,quote:"Truly there is a tide in the affairs of people; but there is no gulf-stream setting forever in one direction.",author:"James Russell Lowell",tag:"goals"},{id:4222,quote:"By every part of our nature we clasp things above us, one after another, not for the sake of remaining where we take hold, but that we may go higher.",author:"Henry Ward Beecher",tag:"goals"},{id:4158,quote:"And in navigation, the more sights we take, the more likely we are to hit port.",author:"Henry Osborn",tag:"goals"},{id:5064,quote:"Whatever you can do, or dream you can...begin it. Boldness has genius, power and magic in it.",author:"Johann Wolfgang Von Goethe",tag:"goals"},{id:3685,quote:"If you wish to travel far and fast, travel light. Take off all your envies, jealousies, unforgiveness, selfishness and fears.",author:"Glenn Clark",tag:"goals"},{id:3993,quote:"In the long run you hit only what you aim at. Therefore, though you should fail immediately, you had better aim at something high.",author:"Henry David Thoreau",tag:"goals"},{id:3851,quote:"Today\u2019s put-off objectives reduce tomorrow\u2019s achievements.",author:"Harry F. Banks",tag:"goals"},{id:2236,quote:"When you determine what you want, you have made the most important decision of your life. You have to know what you want in order to attain it.",author:"Douglas Lurton",tag:"goals"},{id:8233,quote:"Few can define their goal, much less write it. You cannot find happiness until your goal is clear and in view.",author:"Ross Byron",tag:"goals"},{id:5286,quote:"Discover what you want most of all in this world, and set yourself to work on it.",author:"John Homer Miller",tag:"goals"},{id:595,quote:"If you cry \"Forward\" you must without fail make plain in what direction to go.",author:"Anton Chekhov",tag:"goals"},{id:5870,quote:"The journey of a thousand miles begins with one step.",author:"Lao-tzu",tag:"goals"},{id:8200,quote:"Every individual should have a purpose in life which is worthy of intense effort--and constantly work toward the definite goal ahead.",author:"Roderick Stevens",tag:"goals"},{id:9184,quote:"The rung of a ladder was never meant to rest upon, but only to hold a person's foot long enough to enable them to put the other somewhat higher.",author:"Thomas Huxley",tag:"goals"},{id:6436,quote:"When you catch what you\u2019re after, it\u2019s gone.",author:"Malcolm Forbes",tag:"goals"},{id:7076,quote:"No one rises so high as they who knows not whither they are going.",author:"Oliver Cromwell",tag:"goals"},{id:4882,quote:"Take the course opposite to custom and you will almost always do well.",author:"Jean Jacques Rousseau",tag:"goals"},{id:6329,quote:"If you don\u2019t know what you want to do, it\u2019s harder to do it.",author:"Malcolm Forbes",tag:"goals"},{id:3094,quote:"Being easy-going when you have a goal to reach seldom makes the going easy.",author:"Frank Tyger",tag:"goals"},{id:9533,quote:"Life has no smooth road for any of us; and in the bracing atmosphere of a high aim the very roughness stimulates the climber to steadier steps, till the legend, over steep ways to the stars, fulfills itself.",author:"W.C. Doane",tag:"goals"},{id:284,quote:"The great person is the person who does a thing for the first time.",author:"Alexander Smith",tag:"greatness"},{id:5778,quote:"Those who cannot feel the littleness of great things in themselves are apt to overlook the greatness of little things in others.",author:"Kakuzo Okakura",tag:"greatness"},{id:707,quote:"It doesn\u2019t take great people to do things, but it is doing things that makes a person great.",author:"Arnold Glasow",tag:"greatness"},{id:10327,quote:"The price of greatness is responsibility.",author:"Winston Churchill",tag:"greatness"},{id:6164,quote:"Great people undertake great things because they are great; fools, because they think them easy.",author:"Luc de Vauvenargues",tag:"greatness"},{id:4884,quote:"Great people never make bad use of their superiority; they see it, and feel it, and are not less modest. The more they have, the more they know their own deficiencies.",author:"Jean Jacques Rousseau",tag:"greatness"},{id:1599,quote:"The best teachers of humanity are the lives of great people.",author:"Charles H. Fowler",tag:"greatness"},{id:7405,quote:"Do little things now; so shall big things come to thee by and by asking to be done.",author:"Persian Proverb",tag:"greatness"},{id:3048,quote:"I go to seek a great perhaps.",author:"Fran\xE7ois Rabelais",tag:"greatness"},{id:6972,quote:"Every individual has a place to fill in the world, and is important in some respect, whether they choose to be so or not.",author:"Nathaniel Hawthorne",tag:"greatness"},{id:430,quote:"To accomplish great things, we must not only act, but also dream, not only plan, but also believe.",author:"Anatole France",tag:"greatness"},{id:3757,quote:"When an individual realizes their littleness, their greatness can appear.",author:"H.G. Wells",tag:"greatness"},{id:2995,quote:"Those who give too much attention to trifling things become generally incapable of great ones.",author:"Fran\xE7ois de La Rochefoucauld",tag:"greatness"},{id:2073,quote:"From the little spark may burst a mighty flame.",author:"Dante",tag:"greatness"},{id:8572,quote:"The greatest individual is one who chooses right with the most invincible resolution, who resists to sorest temptation from within and without, who bears the heaviest burdens cheerfully, and who is calmest in storms.",author:"Seneca",tag:"greatness"},{id:4432,quote:"If any individual seeks for greatness, let them forget greatness and ask for truth, and they will find both.",author:"Horace Mann",tag:"greatness"},{id:7800,quote:"Great individuals are more distinguished by range and extent than by originality.",author:"Ralph Waldo Emerson",tag:"greatness"},{id:8322,quote:"To do great work an individual must be very idle as well as very industrious.",author:"Samuel Butler",tag:"greatness"},{id:9793,quote:"Difficulty is the nurse of greatness.",author:"William Cullen Bryant",tag:"greatness"},{id:2249,quote:"Lack of something to feel important about is almost the greatest tragedy an individual may have.",author:"Dr. Arthur E. Morgan",tag:"greatness"},{id:3311,quote:"All people who are really great can afford to be really human and to be shown so.",author:"Gamaliel Bradford",tag:"greatness"},{id:4181,quote:"Lives of great individuals all remind us we can make our lives sublime!",author:"Henry Wadsworth Longfellow",tag:"greatness"},{id:1718,quote:"Great people never feel great; small people never feel small.",author:"Chinese Proverb",tag:"greatness"},{id:8495,quote:"The career of a great person remains an enduring monument of human energy. The individual dies and disappears, but their thoughts and acts survive and leave an indelible stamp upon humanity.",author:"Samuel Smiles",tag:"greatness"},{id:9064,quote:"All greatness is unconscious, or it is little and naught.",author:"Thomas Carlyle",tag:"greatness"},{id:2907,quote:"All rising to a great place is by a winding stair.",author:"Francis Bacon",tag:"greatness"},{id:2621,quote:"A great individual leaves clean work behind them, and requires no sweeper up of the chips.",author:"Elizabeth Barrett Browning",tag:"greatness"},{id:4728,quote:"Great thoughts, like great deeds, need no trumpet.",author:"James M. Bailey",tag:"greatness"},{id:1664,quote:"Life is made up of little things. It is very rarely that an occasion is offered for doing a great deal at once. True greatness consists in being great in little things.",author:"Charles Simmons",tag:"greatness"},{id:1079,quote:"It is a great mistake to think of being great without goodness; and I pronounce it as certain that there was never yet a truly great individual that was not at the same time truly virtuous.",author:"Benjamin Franklin",tag:"greatness"},{id:1921,quote:"There are three marks of a superior individual: being virtuous, they are free from anxiety; being wise, they are free from perplexity; being brave, they are free from fear.",author:"Confucius",tag:"greatness"},{id:7263,quote:"A really great individual is known by three signs-generosity in the design, humanity in the execution, moderation in success.",author:"Otto von Bismarck",tag:"greatness"},{id:5979,quote:"There is no right without a parallel duty, no liberty without the supremacy of the law, no high destiny without earnest perseverance, no greatness without self-denial.",author:"Lieber",tag:"greatness"},{id:4136,quote:"A great individual is one who can have power and not abuse it.",author:"Henry L. Doherty",tag:"greatness"},{id:7801,quote:"The great individual is not convulsible or tormentable; events pass over them without much impression.",author:"Ralph Waldo Emerson",tag:"greatness"},{id:5765,quote:"The truly great individual is one who would master no one, and who would be mastered by none.",author:"Kahlil Gibran",tag:"greatness"},{id:7820,quote:"In every individual there is something wherein I may learn of them, and in that I am their pupil.",author:"Ralph Waldo Emerson",tag:"learning"},{id:2026,quote:"To think of learning as a preparation for something beyond learning is a defeat of the process. The most important attitude that can be formed is that of desire to go on learning.",author:"Daniel Bell",tag:"learning"},{id:5263,quote:"We have an infinite amount to learn both from nature and from each other.",author:"John Glenn",tag:"learning"},{id:612,quote:"Learning is a treasury whose keys are queries.",author:"Arabian Proverb",tag:"learning"},{id:3121,quote:"I find that a great part of the information I have was acquired by looking up something and finding something else on the way.",author:"Franklin P. Adams",tag:"learning"},{id:5646,quote:"There is no easy method of learning difficult things. The method is to close the door, pretend that you are not at home, and work.",author:"Joseph de Maistre",tag:"learning"},{id:1924,quote:"One who learns but does not think is lost, one who thinks but does not learn is in danger.",author:"Confucius",tag:"learning"},{id:3818,quote:"Our task as we grow older in a rapidly advancing science, is to retain the capacity of joy in discoveries which correct older ideas, and to learn from our pupils as we teach them.",author:"Hans Zinsser",tag:"learning"},{id:7975,quote:"To stay young requires unceasing cultivation of the ability to unlearn hoods.",author:"Robert A. Heinlein",tag:"learning"},{id:3494,quote:"The love of learning and the love of money rarely meet.",author:"George Herbert",tag:"learning"},{id:2100,quote:"The sweetest and most inoffensive path of life leads through the avenues of science and learning; and whoever can either remove any obstruction in this way ought to be esteemed a benefactor to humanity.",author:"David Hume",tag:"learning"},{id:9983,quote:"If you want to earn more-\u2014earn more. If you want to get more out of the world you must put more into the world. For, after all, people will get no more out of life than they put into it.",author:"William J.H. Boetcker",tag:"learning"},{id:7406,quote:"One pound of learning requires ten pounds of commonsense to apply it.",author:"Persian Proverb",tag:"learning"},{id:4154,quote:"In this age, which believes that there is a shortcut to everything, the greatest lesson to be learned is that the most difficult way is, in the long run, the easiest.",author:"Henry Miller",tag:"learning"},{id:3098,quote:"Learning is either a continuing thing or it is nothing.",author:"Frank Tyger",tag:"learning"},{id:251,quote:"A great mind can lead and be led.",author:"Alexander Cannon",tag:"mind"},{id:419,quote:"An individual's felicity consists not in the outward and visible blessing of fortune, but in the inward and unseen perfections and riches of the mind.",author:"Anacharsis",tag:"mind"},{id:202,quote:"The mind is like the stomach. It is not how much you put into it that counts, but how much it digests.",author:"Albert J. Nock",tag:"mind"},{id:8144,quote:"Quiet minds cannot be perplexed or frightened but go on in fortune or misfortune at their own private pace, like a clock during a thunderstorm.",author:"Robert Louis Stevenson",tag:"mind"},{id:7830,quote:"Nothing is at last sacred but the integrity of your own mind.",author:"Ralph Waldo Emerson",tag:"mind"},{id:7357,quote:"The mind has transformed the world, and the world is repaying it with interest. It has led humankind where he had no idea how to go.",author:"Paul Valery",tag:"mind"},{id:1580,quote:"There will always be a frontier where there is an open mind and a willing hand.",author:"Charles F. Kettering",tag:"mind"},{id:3814,quote:"Only in a quiet mind is adequate perception of the world.",author:"Hans Margolius",tag:"mind"},{id:7668,quote:"Our minds are like our stomachs; they are whetted by the change of their food, and variety supplies both with fresh appetite.",author:"Quintilian",tag:"mind"},{id:7426,quote:"The mind longs for what it has missed.",author:"Petronius Arbiter",tag:"mind"},{id:9935,quote:"A great mind is one that can forget or look beyond itself.",author:"William Hazlitt",tag:"mind"},{id:2924,quote:"Much bending breaks the bow; much unbending the mind.",author:"Francis Bacon",tag:"mind"},{id:3497,quote:"The resolved mind hath no cares.",author:"George Herbert",tag:"mind"},{id:10333,quote:"The empires of the future are the empires of the mind.",author:"Winston Churchill",tag:"mind"},{id:2122,quote:"Anything that the human mind can conceive can be produced ultimately.",author:"David Sarnoff",tag:"mind"},{id:2513,quote:"A mind once cultivated will not lie fallow for half an hour.",author:"Edward Bulwer-Lytton",tag:"mind"},{id:7382,quote:"I don\u2019t wait for moods. You accomplish nothing if you do that. Your mind must know it has got to get down to earth.",author:"Pearl S. Buck",tag:"mind"},{id:3594,quote:"A vacant mind invites dangerous inmates, as a deserted mansion tempts wandering outcasts to enter and take up their abode in its desolate apartments.",author:"George Stillman Hilliard",tag:"mind"},{id:7537,quote:"The great business of life is to improve one's mind, and govern one's manners; all other projects and pursuits, whether in our power to compass or not, are only amusements.",author:"Pliny",tag:"mind"},{id:9589,quote:"What impresses people is not mind, but the result of mind.",author:"Walter Bagehot",tag:"mind"},{id:3355,quote:"You cannot fathom your mind.... The more you draw from it, the more clear and fruitful it will be.",author:"George A. Sala",tag:"mind"},{id:8432,quote:"A truly strong and sound mind is the mind that can equally embrace great things and small.",author:"Samuel Johnson",tag:"mind"},{id:2530,quote:"The only person who can\u2019t change their mind is a person who hasn\u2019t got one.",author:"Edward Noyes Wescott",tag:"mind"},{id:156,quote:"The mind\u2019s the standard of the individual.",author:"Alan Watts",tag:"mind"},{id:8623,quote:"The whole object of education is, or should be, to develop mind.  The mind should be able to pass judgment on events as they arise, make decisions.",author:"Sherwood Anderson",tag:"mind"},{id:2060,quote:"The mind is the great lever of all things; human thought is the process by which human ends are answered.",author:"Daniel Webster",tag:"mind"},{id:7516,quote:"If a person be endowed with a generous mind, this is the best kind of nobility.",author:"Plato",tag:"mind"},{id:7829,quote:"A chief event of life is the day in which we have encountered a mind that startled us.",author:"Ralph Waldo Emerson",tag:"mind"},{id:9652,quote:"Great minds have purposes, others have wishes.",author:"Washington Irving",tag:"mind"},{id:3536,quote:"The more the mind is used the more flexible it becomes, and the more it takes upon itself new interests.",author:"George Matthew Adams",tag:"mind"},{id:9391,quote:"There is nothing so elastic as the human mind. The more we are obliged to do, the more we are able to accomplish.",author:"Tryon Edwards",tag:"mind"},{id:1767,quote:"Few minds wear out; more rust out.",author:"Christian Bov\xE9e",tag:"mind"},{id:3277,quote:"Merely having an open mind is nothing. The object of opening the mind, as of opening the mouth, is to shut it again on something solid.",author:"G.K. Chesterton",tag:"mind"},{id:10295,quote:"Not the state of the body but the state of the mind and soul is the measure of the wellbeing of each of us.",author:"Winfred Rhoades",tag:"mind"},{id:1826,quote:"The proof of a well-trained mind is that it rejoices in which is good and grieves at the opposite.",author:"Cicero",tag:"mind"},{id:6110,quote:"Minds are like parachutes\u2014they only function when open.",author:"Lord Thomas Dewar",tag:"mind"},{id:10215,quote:"It is the mind that makes the body rich.",author:"William Shakespeare",tag:"mind"},{id:5617,quote:"One of the most important but one of the most difficult things for a powerful mind is to be its own master.",author:"Joseph Addison",tag:"mind"},{id:9818,quote:"It is the mind which does the work of the world, so that the more there is of mind, the more work will be accomplished.",author:"William Ellery Channing",tag:"mind"},{id:6209,quote:"It is well for people who think to change their minds occasionally in order to keep them clean.",author:"Luther Burbank",tag:"mind"},{id:7556,quote:"The richest soil, if uncultivated, produces the rankest weeds.",author:"Plutarch",tag:"mind"},{id:5950,quote:"Iron rusts from disuse, stagnant water loses its purity and in cold weather becomes frozen; even so does inaction sap the vigors of the mind.",author:"Leonardo da Vinci",tag:"mind"},{id:8589,quote:"A good mind rules a kingdom.",author:"Seneca",tag:"mind"},{id:208,quote:"For me, hard work represents the supreme luxury of life.",author:"Albert M. Greenfield",tag:"perserverence"},{id:9272,quote:"When we see ourselves in a situation which must be endured and gone through, it is best to make up our minds to it, meet it with firmness, and accommodate everything to it in the best way practicable.",author:"Thomas Jefferson",tag:"perserverence"},{id:9665,quote:"Without perseverance talent is a barren bed.",author:"Welsh Proverb",tag:"perserverence"},{id:4309,quote:"Failure is only postponed success as long as courage coaches ambition. The habit of persistence is the habit of victory.",author:"Herbert Kaufman",tag:"perserverence"},{id:5092,quote:"Whatever necessity lays upon thee, endure; whatever she commands, do.",author:"Johann Wolfgang Von Goethe",tag:"perserverence"},{id:5905,quote:"Tis known by the name of perseverance in a good cause, and obstinacy in a bad one.",author:"Laurence Sterne",tag:"perserverence"},{id:5003,quote:"Whoever perseveres will be crowned.",author:"Johann Gottfried von Herder",tag:"perserverence"},{id:1039,quote:"I have brought myself by long meditation to the conviction that a human being with a settled purpose must accomplish it, and that nothing can resist a will which will stake even existence upon its fulfillment.",author:"Benjamin Disraeli",tag:"perserverence"},{id:7894,quote:"Press on. Nothing in the world can take the place of persistence.",author:"Ray A. Kroc",tag:"perserverence"},{id:5621,quote:"Our delight in any particular study, art, or science rises in proportion to the application which we bestow upon it. Thus, what was at first an exercise becomes at length an entertainment.",author:"Joseph Addison",tag:"perserverence"},{id:2113,quote:"As long as the day lasts, let\u2019s give it all we got.",author:"David O. McKay",tag:"perserverence"},{id:2215,quote:"Perseverance and audacity generally win.",author:"Doroth\xE9e Luzy",tag:"perserverence"},{id:8443,quote:"Great works are performed not by strength but by perseverance.",author:"Samuel Johnson",tag:"perserverence"},{id:5851,quote:"Vacillating people seldom succeed. They seldom win the solid respect of their peers. Successful people are very careful in reaching decisions and very persistent and determined in action thereafter.",author:"L.G. Elliott",tag:"perserverence"},{id:5919,quote:"To live is not to learn, but to apply.",author:"Legouv\xE9",tag:"perserverence"},{id:5091,quote:"In the realm of ideas, everything depends on enthusiasm; in the real world, all rests on perseverance.",author:"Johann Wolfgang Von Goethe",tag:"perserverence"},{id:5422,quote:"Courage and perseverance have a magical talisman, before which difficulties disappear and obstacles vanish into air.",author:"John Quincy Adams",tag:"perserverence"},{id:8442,quote:"Few things are impossible to diligence and skill.",author:"Samuel Johnson",tag:"perserverence"},{id:6877,quote:"Genius is perseverance in disguise.",author:"Mike Newlin",tag:"perserverence"},{id:8090,quote:"Persistence is what makes the impossible possible, the possible likely, and the likely definite.",author:"Robert Half",tag:"perserverence"},{id:6188,quote:"Fate gave to humanity the courage of endurance.",author:"Ludwig van Beethoven",tag:"perserverence"},{id:8444,quote:"All the performances of human art, at which we look with praise or wonder, are instances of the resistless force of perseverance.",author:"Samuel Johnson",tag:"perserverence"},{id:893,quote:"How you start is important, very important, but in the end it is how you finish that counts. The victor in the race is not the one who dashes off swiftest but the one who leads at the finish.",author:"B.C. Forbes",tag:"perserverence"},{id:8264,quote:"A determined soul will do more with a rusty monkey wrench than a loafer will accomplish with all the tools in a machine shop.",author:"Rupert Hughes",tag:"perserverence"},{id:4586,quote:"Perseverance is failing 19 times and succeeding the 20th.",author:"J. Andrews",tag:"perserverence"},{id:3018,quote:"Few things are impracticable in themselves; and it is for want of application, rather than of means, that people fail of success.",author:"Fran\xE7ois de La Rochefoucauld",tag:"perserverence"},{id:6868,quote:"Diligence is the mother of good fortune, and idleness, its opposite, never brought anyone to the goal of any of his best wishes.",author:"Miguel de Cervantes",tag:"perserverence"},{id:619,quote:"Diligence is the greatest of teachers.",author:"Arabian Proverb",tag:"perserverence"},{id:1606,quote:"By perseverance the snail reached the ark.",author:"Charles H. Spurgeon",tag:"perserverence"},{id:583,quote:"Everything yields to diligence.",author:"Antiphanes",tag:"perserverence"},{id:1931,quote:"The expectations of life depend upon diligence; the mechanic that would perfect his work must first sharpen his tools.",author:"Confucius",tag:"perserverence"},{id:10335,quote:"This is no time for ease and comfort. It is the time to dare and endure.",author:"Winston Churchill",tag:"perserverence"},{id:9874,quote:"A determination to succeed is the only way to succeed that I know anything about.",author:"William Feather",tag:"perserverence"},{id:4248,quote:"Vigilance is not only the price of liberty, but of success of any sort.",author:"Henry Ward Beecher",tag:"perserverence"},{id:4987,quote:"You may be whatever you resolve to be. Determine to be something in the world, and you will be something. I cannot, never accomplished anything: I will try, has wrought wonders.",author:"Joel Hawes",tag:"perserverence"},{id:1285,quote:"An ounce of application is worth a ton of abstraction.",author:"Booker T. Washington",tag:"perserverence"},{id:1832,quote:"Diligence, as it avails in all things, is also of the utmost moment in pleading causes. Diligence is to be particularly cultivated by us; it is to be constantly exerted, it is capable of effecting almost everything.",author:"Cicero",tag:"perserverence"},{id:963,quote:"Mediocrity obtains more with application than superiority without it.",author:"Baltasar Gracian",tag:"perserverence"},{id:9453,quote:"Individual commitment to a group effort\u2014that is what makes a team work, a company work, a society work, a civilization work.",author:"Vince Lombardi",tag:"perserverence"},{id:1582,quote:"Keep on going, and the chances are that you will stumble on something, perhaps when you are least expecting it. I never heard of anyone ever stumbling on something sitting down.",author:"Charles F. Kettering",tag:"perserverence"},{id:2573,quote:"Even in social life, it is persistency which attracts confidence more than talents and accomplishments.",author:"Edwin P. Whipple",tag:"perserverence"},{id:223,quote:"Anyone who proposes to do good must not expect people to roll stones out of their way, but must accept their lot calmly if they even roll a few more on it.",author:"Albert Schweitzer",tag:"strength"},{id:721,quote:"Only a strong tree can stand alone.",author:"Arnold Glasow",tag:"strength"},{id:10280,quote:"Live in terms of your strong points. Magnify them. Let your weaknesses shrivel up and die from lack of nourishment.",author:"William Young Elliot",tag:"strength"},{id:516,quote:"Strength alone knows conflict; weakness is below even defeat, and is born vanquished.",author:"Anne Swetchine",tag:"strength"},{id:6485,quote:"Look well into thyself; there is a source of strength which will always spring up if thou wilt always look there.",author:"Marcus Aurelius Antoninus",tag:"strength"},{id:6388,quote:"The difference between towering and cowering is totally a matter of inner posture.",author:"Malcolm Forbes",tag:"strength"},{id:1750,quote:"In the assurance of strength there is strength; and they are the weakest, however strong, who have no faith in themselves or their powers.",author:"Christian Bov\xE9e",tag:"strength"},{id:3154,quote:"A living being seeks, above all, to discharge its strength. Life is will to power.",author:"Friedrich Wilhelm Nietzsche",tag:"strength"},{id:9094,quote:"The block of granite which is an obstacle in the pathway of the weak becomes a stepping-stone in the pathway of the strong.",author:"Thomas Carlyle",tag:"strength"},{id:5585,quote:"Although people are accused of not knowing their own weakness, yet perhaps few know their own strength. It is in people as in soils, where sometimes there is a vein of gold which the owner knows not of.",author:"Jonathan Swift",tag:"strength"},{id:8791,quote:"At times to think of one\u2019s outer helplessness is good, but to think always of one\u2019s inner strength is infinitely better.",author:"Sri Chinmoy",tag:"strength"},{id:4771,quote:"That cause is strong which has, not a multitude, but one strong person behind it.",author:"James Russell Lowell",tag:"strength"},{id:88,quote:"I will study and get ready and someday my chance will come.",author:"Abraham Lincoln",tag:"study"},{id:476,quote:"Concentration is my motto\u2014first honesty, then industry, then concentration.",author:"Andrew Carnegie",tag:"study"},{id:9884,quote:"Concentrate on your work and you will forget your other troubles.",author:"William Feather",tag:"study"},{id:5104,quote:"The use of a thing is only a part of its significance. To know anything thoroughly, to have the full command of it in all its appliances, we must study it on its own account, independently of any special application.",author:"Johann Wolfgang Von Goethe",tag:"study"},{id:2523,quote:"The love of study, a passion which derives fresh vigor from enjoyment, supplies each day and hour with a perpetual source of independent and rational pleasure.",author:"Edward Gibbon",tag:"study"},{id:7497,quote:"Every noble acquisition is attended with its risks; An individual who fears to encounter the one must not expect to obtain the other.",author:"Pietro Metastasio",tag:"trying"},{id:2124,quote:"Whatever course you have chosen for yourself, it will not be a chore but an adventure if you bring to it a sense of the glory of striving-if your sights are set far above the merely secure and mediocre.",author:"David Sarnoff",tag:"trying"},{id:8007,quote:"Tis not what a person does which exalts them, but what a person would do!",author:"Robert Browning",tag:"trying"},{id:4265,quote:"By every part of our nature we clasp things above us, one after another, not for the sake of remaining where we take hold, but that we may go higher.",author:"Henry Ward Beecher",tag:"trying"},{id:3831,quote:"Striving for excellence motivates you; striving for perfection is demoralizing.",author:"Harriet Braiker",tag:"trying"},{id:6395,quote:"Venture nothing, and life is less than it should be.",author:"Malcolm Forbes",tag:"trying"},{id:1737,quote:"The journey of a thousand miles starts with a single step.",author:"Chinese Proverb",tag:"trying"},{id:7370,quote:"Trying is the touchstone to accomplishment.",author:"Paul von Ringelheim",tag:"trying"},{id:7877,quote:"All life is an experiment. The more experiments you make the better.",author:"Ralph Waldo Emerson",tag:"trying"},{id:8475,quote:"Nothing will ever be attempted, if all possible objections must first be overcome.",author:"Samuel Johnson",tag:"trying"},{id:8767,quote:"During the first period of a one's life the greatest danger is: not to take the risk. When once the risk has really been taken, then the greatest danger is to risk too much.",author:"Soren Kierkegaard",tag:"trying"},{id:4129,quote:"Until you try, you don\u2019t know what you can\u2019t do.",author:"Henry James",tag:"trying"},{id:196,quote:"There exists a passion for comprehension, just as there exists a passion for music.  Without this passion there would be neither mathematics nor natural science.",author:"Albert Einstein",tag:"understanding"},{id:5333,quote:"The great art of learning is to understand but little at a time.",author:"John Locke",tag:"understanding"},{id:7703,quote:"Understanding comes through communication, and through understanding we find the way to peace.",author:"Ralph C. Smedley",tag:"understanding"},{id:3667,quote:"To understand and to be understood makes our happiness on earth.",author:"German Proverb",tag:"understanding"},{id:2777,quote:"Thoughts are wonderful things, that they can bring two people, so far apart, into harmony and understanding for even a little while.",author:"Ernest Pyle",tag:"understanding"},{id:1653,quote:"The great need today in every phase of our social, economical and political life is understanding. It has always been so, but today the need is even greater.",author:"Charles R. Hook",tag:"understanding"},{id:2493,quote:"One who calls in the aid of an equal understanding doubles ones own.",author:"Edward Burke",tag:"understanding"},{id:9633,quote:"If I am looking for intelligent and unselfish understanding of our problems, I shall seek it among the makers and builders with far more confidence than among the talkers and the manipulators.",author:"Walter Teague",tag:"understanding"},{id:1738,quote:"Be not disturbed at being misunderstood; be disturbed rather at not being understanding.",author:"Chinese Proverb",tag:"understanding"},{id:7960,quote:"I know no evil so great as the abuse of the understanding, and yet there is no one vice more common.",author:"Richard Steele",tag:"understanding"},{id:1672,quote:"When the heart is won, the understanding is easily convinced.",author:"Charles Simmons",tag:"understanding"},{id:2938,quote:"The eye of the understanding is like the eye of the sense; for as you may see great objects through small crannies or holes, so you may see great axioms of nature through small and contemptible instances.",author:"Francis Bacon",tag:"understanding"},{id:2118,quote:"Understanding is more comprehensive than intellect because it intuits truths that cautious intellect can get sight of but never embrace\u2014like a sea-gazer who never plunges in.",author:"David S. Jones",tag:"understanding"},{id:4040,quote:"Good for the body is the work of the body, good for the soul is the work of the soul, and good for either the work of the other.",author:"Henry David Thoreau",tag:"work"},{id:4532,quote:"My grandfather once told me that there are two kinds of people: those who do the work and those who take the credit. He told me to try to be in the first group; there was much less competition there.",author:"Indira Gandhi",tag:"work"},{id:4272,quote:"If we would have anything of benefit, we must earn it, and earning it become shrewd, inventive, ingenious, active, enterprising.",author:"Henry Ward Beecher",tag:"work"},{id:7152,quote:"A day\u2019s impact is better than a month of dead pull.",author:"Oliver Wendell Holmes",tag:"work"},{id:9892,quote:"The right person can make a good job out of any job.",author:"William Feather",tag:"work"},{id:7885,quote:"The sum of wisdom is that time is never lost that is devoted to work.",author:"Ralph Waldo Emerson",tag:"work"},{id:10032,quote:"Nothing is so fatiguing as the eternal hanging on of an uncompleted task.",author:"William James",tag:"work"},{id:2117,quote:"Whatever you do, if you do it hard enough you\u2019ll enjoy it. The important thing is to work and work hard.",author:"David Rockefeller",tag:"work"},{id:4115,quote:"People must work. That is certain as the sun. But they may work grudgingly or they may work gratefully; they may work as a people, or they may work as machines. There is no work so rude, that someone may not exalt it; no work so impassive, that someone may not breathe a soul into it; no work so dull that someone may not enliven it.",author:"Henry Giles",tag:"work"},{id:1386,quote:"All growth depends upon activity. There is no development physically or intellectually without effort, and effort means work. Work is not a curse; it is the prerogative of intelligence, the only means to humanity, and the measure of civilization.",author:"Calvin Coolidge",tag:"work"},{id:934,quote:"Whimpering never kept a leaking vessel from foundering. Vigorously manning the pumps has. Get busy with your head and hands, not your chin.",author:"B.C. Forbes",tag:"work"},{id:4102,quote:"There are two ways of making yourself stand out from the crowd. One is by having a job so big you can go home before the bell rings if you want to. The other is by finding so much to do that you must stay after the others have gone. The one who enjoys the former once took advantage of the latter.",author:"Henry Ford",tag:"work"},{id:5817,quote:"Work only a half a day. It makes no difference which half\u2014the first 12 hours or the last 12 hours.",author:"Kemmons Wilson",tag:"work"},{id:6757,quote:"No fine work can be done without concentration and self-sacrifice and toil and doubt.",author:"Max Beerbohm",tag:"work"},{id:5473,quote:"The highest reward for a person\u2019s toil is not what one gets for it, but what one becomes by it.",author:"John Ruskin",tag:"work"},{id:5374,quote:"Let us go forth and resolutely dare with sweat of brow to toil our little day.",author:"John Milton",tag:"work"},{id:9520,quote:"Work is often the father of pleasure.",author:"Voltaire",tag:"work"},{id:3143,quote:"If I were to suggest a general rule for happiness, I would say: 'Work a little harder; work a little longer; work!'",author:"Frederick H. Ecker",tag:"work"},{id:4981,quote:"The more I work, the more I want to work.",author:"Joan Miro",tag:"work"},{id:567,quote:"Doing nothing is the hardest work of all.",author:"Anonymous",tag:"work"},{id:3873,quote:"Find something you love to do and you\u2019ll never have to work a day in your life.",author:"Harvey Mackay",tag:"work"},{id:1620,quote:"Being forced to work, and forced to do your best, will breed in you temperance and self-control, diligence and strength of will, cheerfulness and content, and a hundred virtues which the idle never know.",author:"Charles Kingsley",tag:"work"},{id:4544,quote:"I never work hard when I am working; I only work hard when I am not working.",author:"Irving Caesar",tag:"work"},{id:6416,quote:"The hardest work of all: Doing nothing.",author:"Malcolm Forbes",tag:"work"},{id:29,quote:"Without rest, a person cannot work; without work, the rest does not give you any benefit.",author:"Abkhasian Proverb",tag:"work"},{id:6419,quote:"Working at what you enjoy is far more important than what you\u2019re working at.",author:"Malcolm Forbes",tag:"work"},{id:4466,quote:"People forget how fast you did a job\u2014but they remember how well you did it.",author:"Howard W. Newton",tag:"work"},{id:4580,quote:"If you want to leave your footprints on the sands of time, be sure you\u2019re wearing work shoes.",author:"Italian Proverb",tag:"work"},{id:9907,quote:"There is no boon in nature. All the blessings we enjoy are the fruits of labor, toil, self-denial, and study.",author:"William Graham Sumner",tag:"work"},{id:10082,quote:"Give me love and work\u2014these two only.",author:"William Morris",tag:"work"},{id:"",quote:"Healing is a matter of time, but it is sometimes also a matter of opportunity.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Let food be thy medicine and medicine be thy food.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Walking is a person's best medicine.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Wherever the art of medicine is loved, there is also a love of humanity.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Cure sometimes, treat often, comfort always.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Natural forces within us are the true healers of disease.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"If we could give every individual the right amount of nourishment and exercise, not too little and not too much, we would have found the safest way to health.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Make a habit of two things: to help; or at least to do no harm.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Everything in excess is opposed to nature.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"There are in fact two things, science and opinion; the former begets knowledge, the latter, ignorance.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"The life so short, the craft so long to learn.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Many admire, few know.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"A wise person should consider that health is the greatest of human blessings, and learn how by one's own thought to derive benefit from one's illnesses.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Extreme remedies are very appropriate for extreme diseases.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"Life is short, the art long.",author:"Hippocrates",tag:"hippocrates"},{id:"",quote:"The good physician treats the disease; the great physician treats the patient who has the disease.",author:"William Osler",tag:"osler"},{id:"",quote:"Medicine is a science of uncertainty and an art of probability.",author:"William Osler",tag:"osler"},{id:"",quote:"The best preparation for tomorrow is to do today's work superbly well.",author:"William Osler",tag:"osler"},{id:"",quote:"Those who study medicine without books sail an uncharted sea, but those who study medicine without patients do not go to sea at all.",author:"William Osler",tag:"osler"},{id:"",quote:"The very first step towards success in any occupation is to become interested in it.",author:"William Osler",tag:"osler"},{id:"",quote:"The value of experience is not in seeing much, but in seeing wisely.",author:"William Osler",tag:"osler"},{id:"",quote:"Soap and water and common sense are the best disinfectants.",author:"William Osler",tag:"osler"},{id:"",quote:"The greater the ignorance the greater the dogmatism.",author:"William Osler",tag:"osler"},{id:"",quote:"Observe, record, tabulate, communicate. Use your five senses. Learn to see, learn to hear, learn to feel, learn to smell, and know that by practice alone you can become expert.",author:"William Osler",tag:"osler"},{id:"",quote:"Variability is the law of life, and as no two faces are the same, so no two bodies are alike, and no two individuals react alike and behave alike under the abnormal conditions which we know as disease.",author:"William Osler",tag:"osler"},{id:"",quote:"We are here to add what we can to life, not to get what we can from life.",author:"William Osler",tag:"osler"},{id:"",quote:"The young physician starts life with 20 drugs for each disease, and the old physician ends life with one drug for 20 diseases.",author:"William Osler",tag:"osler"},{id:"",quote:"No bubble is so iridescent or floats longer than that blown by the successful teacher.",author:"William Osler",tag:"osler"},{id:"",quote:"The first duty of the physician is to educate the masses, not to take medicine.",author:"William Osler",tag:"osler"},{id:"",quote:"To have striven, to have made the effort, to have been true to certain ideals\u2014this alone is worth the struggle.",author:"William Osler",tag:"osler"},{id:"",quote:"Look wise, say nothing, and grunt. Speech was given to conceal thought.",author:"William Osler",tag:"osler"},{id:"",quote:"The philosophies of one age have become the absurdities of the next, and the foolishness of yesterday has become the wisdom of tomorrow.",author:"William Osler",tag:"osler"},{id:"",quote:"In seeking absolute truth we aim at the unattainable and must be content with broken portions.",author:"William Osler",tag:"osler"},{id:"",quote:"There are, in truth, no specialties in medicine, since to know fully many of the most important diseases a person must be familiar with their manifestations in many organs.",author:"William Osler",tag:"osler"},{id:"",quote:"No human being is constituted to know the truth, the whole truth, and nothing but the truth; and even the best of people must be content with fragments, with partial glimpses, never the full fruition.",author:"William Osler",tag:"osler"},{id:"",quote:"There is no disease more conducive to clinical humility than aneurysm of the aorta.",author:"William Osler",tag:"osler"},{id:"",quote:"It is much simpler to buy books than to read them and easier to read them than to absorb their contents.",author:"William Osler",tag:"osler"},{id:"",quote:"Believe you can and you're halfway there.",author:"anonymous",tag:"danielWong"},{id:"",quote:"You have to expect things of yourself before you can do them.",author:"anonymous",tag:"danielWong"},{id:"",quote:"It always seems impossible until it's done.",author:"anonymous",tag:"danielWong"},{id:"",quote:"Don't let what you cannot do interfere with what you can do.",author:"John Wooden",tag:"danielWong"},{id:"",quote:"Start where you are. Use what you have. Do what you can.",author:"Arthur Ashe",tag:"danielWong"},{id:"",quote:"Successful and unsuccessful people do not vary greatly in their abilities. They vary in their desires to reach their potential.",author:"John Maxwell",tag:"danielWong"},{id:"",quote:"Good things come to people who wait, but better things come to those who go out and get them.",author:"anonymous",tag:"danielWong"},{id:"",quote:"Strive for progress, not perfection.",author:"anonymous",tag:"danielWong"},{id:"",quote:"I find that the harder I work, the more luck I seem to have.",author:"Thomas Jefferson",tag:"danielWong"},{id:"",quote:"Success is the sum of small efforts, repeated day in and day out.",author:"Robert Collier",tag:"danielWong"},{id:"",quote:"Don't wish it were easier; wish you were better.",author:"Jim Rohn",tag:"danielWong"},{id:"",quote:"I don\u2019t regret the things I\u2019ve done. I regret the things I didn't do when I had the chance.",author:"anonymous",tag:"danielWong"},{id:"",quote:"There are two kinds of people in this world: those who want to get things done and those who don't want to make mistakes.",author:"John Maxwell",tag:"danielWong"},{id:"",quote:"The secret to getting ahead is getting started.",author:"anonymous",tag:"danielWong"},{id:"",quote:"You don\u2019t have to be great to start, but you have to start to be great.",author:"anonymous",tag:"danielWong"},{id:"",quote:"The expert in everything was once a beginner.",author:"anonymous",tag:"danielWong"},{id:"",quote:"There are no shortcuts to any place worth going.",author:"Beverly Sills",tag:"danielWong"},{id:"",quote:"Push yourself, because no one else is going to do it for you.",author:"anonymous",tag:"danielWong"},{id:"",quote:"Some people dream of accomplishing great things. Others stay awake and make it happen.",author:"anonymous",tag:"danielWong"},{id:"",quote:"There is no substitute for hard work.",author:"Thomas Edison",tag:"danielWong"},{id:"",quote:"The difference between ordinary and extraordinary is that little \u201Cextra.\u201D",author:"anonymous",tag:"danielWong"},{id:"",quote:"You don\u2019t always get what you wish for; you get what you work for.",author:"anonymous",tag:"danielWong"},{id:"",quote:"It\u2019s not about how bad you want it. It\u2019s about how hard you\u2019re willing to work for it.",author:"anonymous",tag:"danielWong"},{id:"",quote:"The only place where success comes before work is in the dictionary.",author:"Vidal Sassoon",tag:"danielWong"},{id:"",quote:"There are no traffic jams on the extra mile.",author:"Zig Ziglar",tag:"danielWong"},{id:"",quote:"If people only knew how hard I've worked to gain my mastery, it wouldn't seem so wonderful at all.",author:"Michelangelo",tag:"danielWong"},{id:"",quote:"If it\u2019s important to you, you\u2019ll find a way. If not, you\u2019ll find an excuse.",author:"anonymous",tag:"danielWong"},{id:"",quote:"Don\u2019t say you don\u2019t have enough time. You have exactly the same number of hours per day that were given to Helen Keller, Pasteur, Michelangelo, and Mother Teresea.",author:"H. Jackson Brown Jr.",tag:"danielWong"},{id:"",quote:"Challenges are what make life interesting. Overcoming them is what makes life meaningful.",author:"Joshua J. Marine",tag:"danielWong"},{id:"",quote:"Life has two rules: 1) Never quit. 2) Always remember Rule #1.",author:"anonymous",tag:"danielWong"},{id:"",quote:"I\u2019ve failed over and over and over again in my life. And that is why I succeed.",author:"Michael Jordan",tag:"danielWong"},{id:"",quote:"I don\u2019t measure a person's success by how high they climb, but how high they bounce when they hit the bottom.",author:"George S. Patton",tag:"danielWong"},{id:"",quote:"If you're going through hell, keep going.",author:"Winston Churchill",tag:"danielWong"},{id:"",quote:"Don\u2019t let your victories go to your head, or your failures go to your heart.",author:"anonymous",tag:"danielWong"},{id:"",quote:"Failure is the opportunity to begin again more intelligently.",author:"Henry Ford",tag:"danielWong"},{id:"",quote:"You don't drown by falling in the water; you drown by staying there.",author:"Ed Cole",tag:"danielWong"},{id:"",quote:"The difference between a stumbling block and a stepping-stone is how high you raise your foot.",author:"anonymous",tag:"danielWong"},{id:"",quote:"The pain you feel today is the strength you will feel tomorrow. For every challenge encountered there is opportunity for growth.",author:"anonymous",tag:"danielWong"},{id:"",quote:"It\u2019s not going to be easy, but it\u2019s going to be worth it.",author:"anonymous",tag:"danielWong"},{id:"",quote:"Remember to look up at the stars and not down at your feet.  Be curious. And however difficult life may seem, there is always something you can do and succeed at. It matters that you just don\u2019t give up.",author:"Stephen Hawking",tag:"medicalSchool"},{id:"",quote:"It\u2019s a beautiful day to save lives.",author:"Derek Shepherd, Grey\u2019s Anatomy",tag:"medicalSchool"},{id:"",quote:"Better is possible. It does not take genius. It takes diligence. It takes moral clarity. It takes ingenuity. And above all, it takes a willingness to try.",author:"Atul Gawande",tag:"medicalSchool"},{id:"",quote:"Anything is possible if you\u2019ve got enough nerve.",author:"J.K. Rowling",tag:"medicalSchool"},{id:"",quote:"Stay afraid, but do it anyway. What\u2019s important is the action. You don\u2019t have to wait to be confident. Just do it and eventually the confidence will follow.",author:"Carrie Fisher",tag:"medicalSchool"},{id:"",quote:"No matter how you feel, get up, dress up, show up, and never give up.",author:"Regina Brett",tag:"medicalSchool"},{id:"",quote:"Everyone has a doctor in him or her; we just have to help it in its work. The natural healing force within each one of us is the greatest force in getting well.",author:"Hippocrates",tag:"medicalSchool"},{id:"",quote:"Medicine is not a book, but mind; not a business, but life.",author:"Farid F. Ibrahim",tag:"medicalSchool"},{id:"",quote:"The art is long, life is short, opportunity fleeting, experiment dangerous, judgement difficult.",author:"Hippocrates",tag:"medicalSchool"},{id:"",quote:"Medicine is a science of uncertainty, and an art of probability.",author:"William Osler",tag:"medicalSchool"},{id:"",quote:"Learning medicine is like going from simple drawings to fine paintings.",author:"Ted Kaptchuk",tag:"medicalSchool"},{id:"",quote:"Nothing worth doing is ever easy.",author:"Theodore Roosevelt",tag:"medicalSchool"},{id:"",quote:"We have purposes larger than ourselves.",author:"Atul Gawande",tag:"medicalSchool"},{id:"",quote:"When you have eliminated the impossible, whatever remains, however improbable, must be the truth.",author:"Sir Arthur Conan Doyle",tag:"medicalSchool"},{id:"",quote:"The glory of medicine is that it is constantly moving forward, that there is always more to learn. The ills of today do not cloud the horizon of tomorrow, but act as a spur to greater effort.",author:"William James Mayo",tag:"medicalSchool"},{id:"",quote:"Medicine is only for those who cannot imagine doing anything else.",author:"Dr. Luanda Grazette",tag:"medicalSchool"},{id:"",quote:"Of course it\u2019s hard. It\u2019s supposed to be hard. If it was easy, everyone would do it. Hard is what makes it great.",author:"Jimmy Dugan",tag:"medicalSchool"},{id:"",quote:"Let food be thy medicine, and let thy medicine be food.",author:"Hippocrates",tag:"medicalSchool"},{id:"",quote:"Never give up on a dream just because of the time it will take to accomplish it. The time will pass away.",author:"Early Nightingale",tag:"medicalSchool"},{id:"",quote:"The real heroes anyways aren\u2019t the people doing things; the real heroes are the people noticing things, paying attention.",author:"John Green",tag:"medicalSchool"},{id:"",quote:"Treat the patient, not the X-ray.",author:"James Hunter",tag:"medicalSchool"},{id:"",quote:"I\u2019m not telling you it\u2019s going to be easy\u2014I\u2019m telling you it\u2019s going to be worth it.",author:"Art Williams",tag:"medicalSchool"},{id:"",quote:"Try and fail, but never fail to try.",author:"Jared Leto",tag:"celebrity"},{id:"",quote:"Nothing is impossible; the word itself says, 'I'm possible!'",author:"Audrey Hepburn",tag:"celebrity"},{id:"",quote:"Procrastination is the thief of time.",author:"Edward Young",tag:"collegeAmerica"},{id:"",quote:"There is no secret to success. It is the result of preparation, hard work, and learning from failure.",author:"General Colin Powell",tag:"collegeAmerica"},{id:"",quote:"Striving for success without hard work is like trying to harvest where you haven\u2019t planted.",author:"David Bly",tag:"collegeAmerica"},{id:"",quote:"There is no elevator to success. You have to take the stairs.",author:"Zig Ziglar",tag:"collegeAmerica"},{id:"",quote:"Success is the sum of small efforts, repeated day-in and day-out.",author:"Robert Collier",tag:"collegeAmerica"},{id:"",quote:"It is well to remind ourselves that anxiety signifies a conflict, and so long as a conflict is going on, a constructive solution is possible.",author:"Rollo May",tag:"collegeAmerica"},{id:"",quote:"Education is the passport to the future, for tomorrow belongs to those who prepare for it today.",author:"Malcolm X",tag:"collegeAmerica"},{id:"",quote:"Excellence is not a skill. It is an attitude.",author:"Ralph Marston",tag:"collegeAmerica"},{id:"",quote:"You\u2019ve got to get up every morning with determination if you\u2019re going to go to bed with satisfaction.",author:"George Lorimer",tag:"collegeAmerica"},{id:"",quote:"Courage doesn\u2019t always roar. Sometimes courage is the quiet voice at the end of the day saying, \u2018I will try again tomorrow.\u2019",author:"Mary Anne Radmacher",tag:"collegeAmerica"},{id:"",quote:"If you don\u2019t go after what you want, you\u2019ll never have it. If you don\u2019t ask, the answer is always no. If you don\u2019t step forward, you\u2019re always in the same place.",author:"Nora Roberts",tag:"collegeAmerica"},{id:"",quote:"So many of our dreams at first seem impossible, then they seem improbable, and then, when we summon the will, they soon become inevitable.",author:"Christopher Reeve",tag:"collegeAmerica"},{id:"",quote:"It is not the mountain we conquer, but ourselves.",author:"Edmund Hillary",tag:"collegeAmerica"},{id:"",quote:"The difference between ordinary and extraordinary is that little extra.",author:"Jimmy Johnson",tag:"collegeAmerica"},{id:"",quote:"Perseverance is failing 19 times and succeeding the 20th.",author:"Julie Andrews",tag:"collegeAmerica"},{id:"",quote:"Quality is not an act, but a habit.",author:"Aristotle",tag:"collegeAmerica"},{id:"",quote:"Believe in yourself and all that you are. Know that there is something inside you that is greater than any obstacle.",author:"Steven J. Ross",tag:"collegeAmerica"},{id:"",quote:"All progress takes place outside of your comfort zone.",author:"Michael John Bobak",tag:"collegeAmerica"},{id:"",quote:"The journey is the reward.",author:"Chinese Proverb",tag:"inspiringTips"},{id:"",quote:"The best way to predict your future is to create it.",author:"Abraham Lincoln",tag:"inspiringTips"},{id:"",quote:"Success is no accident. It is hard work, perseverance, learning, studying, sacrifice and most of all, love of what you are doing or learning to do.",author:"Pele",tag:"inspiringTips"},{id:"",quote:"People who succeed have momentum.",author:"Tony Robbins",tag:"inspiringTips"},{id:"",quote:"Only put off until tomorrow what you are willing to die having left undone.",author:"Pablo Picasso",tag:"inspiringTips"},{id:"",quote:"No profit grows where no pleasure taken. In brief: study what you most affect.",author:"William Shakespeare",tag:"inspiringTips"},{id:"",quote:"Motivation is what gets you started. Habit is what keeps you going.",author:"Jim Ryun",tag:"inspiringTips"},{id:"",quote:"Learning is like rowing upstream, not to advance is to drop back.",author:"Chinese Proverb",tag:"inspiringTips"},{id:"",quote:"Learn from yesterday, live for today, hope for tomorrow.",author:"Albert Einstein",tag:"inspiringTips"},{id:"",quote:"It is wiser to find out than to suppose.",author:"Mark Twain",tag:"inspiringTips"},{id:"",quote:"In my experience, there is only one motivation, and that is desire.",author:"Jane Smiley",tag:"inspiringTips"},{id:"",quote:"Education is what survives when what has been learned has been forgotten.",author:"B. F. Skinner",tag:"inspiringTips"},{id:"",quote:"Education enables people to achieve their fullest mental and physical potential in both personal and social life.",author:"Abhijit Naskar",tag:"inspiringTips"},{id:"",quote:"Do not wait to strike till the iron is hot; but make it hot by striking.",author:"William Butler Yeats",tag:"inspiringTips"},{id:"",quote:"Be a student as long as you still have something to learn, and this will mean all your life.",author:"Henry L. Doherty",tag:"inspiringTips"},{id:"",quote:"All progress takes place outside the comfort zone.",author:"Michael John Bobak",tag:"inspiringTips"},{id:"",quote:"Acquiring knowledge is the most fruitful effort.",author:"Eraldo Banovac",tag:"inspiringTips"},{id:"",quote:"What seems to us as bitter trials are often blessings in disguise.",author:"Oscar Wilde",tag:"inspiringTips"},{id:"",quote:"We do what we have to so we can do what we want to.",author:"James Farmer",tag:"inspiringTips"},{id:"",quote:"Try not to become a person of success, but rather try to become a person of value.",author:"Albert Einstein",tag:"inspiringTips"},{id:"",quote:"To acquire knowledge, one must study; but to acquire wisdom, one must observe.",author:"Marilyn Vos Savant",tag:"inspiringTips"},{id:"",quote:"The successful warrior is the average person, with laser-like focus.",author:"Bruce Lee",tag:"inspiringTips"},{id:"",quote:"The purpose of learning is growth, and our minds, unlike our bodies, can continue growing as long as we live.",author:"Mortimer Adler",tag:"inspiringTips"}]}),define("shared.step1",function(e){function excludeRange(e,t,a){for(var s=moment(t).add(-1,"days"),o=moment(a);0>=s.add(1,"days").diff(o);)e[s.format("YYYY-MM-DD")]=!0}e.versionMap={2019:"fa19",2018:"fa18",2017:"fa17",2016:"fa16",2015:"fa15"},e.populateExcludeIndex=function(e,t,a,s,o){var d=_.indexBy(t.excludeDays?t.excludeDays[a]:[],_.identity),n=t.weekends?t.weekends[a]:"on";"off"==n&&(d.Saturday=!0,d.Sunday=!0);var l=t.vacations||[];for(var c in l)excludeRange(e,l[c].start,l[c].stop);for(var p=moment(s).add(-1,"days"),u=moment(o);0>=p.add(1,"days").diff(u);)d[p.format("dddd")]&&(e[p.format("YYYY-MM-DD")]=!0);return e},e.getExcludeIndex=function(t,a){var s={};for(var o in a=a||[],t.startDate&&t.dDate&&e.populateExcludeIndex(s,t,"e",t.startDate,moment(t.dDate).add(-1,"days")),t.dDate&&t.examDate&&e.populateExcludeIndex(s,t,"d",t.dDate,t.examDate),a)s[a[o].date]=!0;return s},e.computeExclusions=function(t,a,s,o){var d={};e.populateExcludeIndex(d,t,a,s,o);for(var n=moment(s).add(-1,"days"),l=moment(o),c=0;0>=n.add(1,"days").diff(l);)d[n.format("YYYY-MM-DD")]&&c++;return c},e.getAvailableDays=function(e,t,a,s){var o=[];for(e.add(-1,"days");0>=e.add(1,"days").diff(t)&&o.length<a;){var d=e.format("YYYY-MM-DD");s[d]||o.push(d)}return o}}),define("shared.step1classic.step1",function(e){function excludeRange(e,t,a){for(var s=moment(t).add(-1,"days"),o=moment(a);0>=s.add(1,"days").diff(o);)e[s.format("YYYY-MM-DD")]=!0}e.versionMap={2018:"fa18",2017:"fa17",2016:"fa16",2015:"fa15"},e.populateExcludeIndex=function(e,t,a,s,o){var d=_.indexBy(t.excludeDays?t.excludeDays[a]:[],_.identity),n=t.weekends?t.weekends[a]:"on";"off"==n&&(d.Saturday=!0,d.Sunday=!0);var l=t.vacations||[];for(var c in l)excludeRange(e,l[c].start,l[c].stop);for(var p=moment(s).add(-1,"days"),u=moment(o);0>=p.add(1,"days").diff(u);)d[p.format("dddd")]&&(e[p.format("YYYY-MM-DD")]=!0);return e},e.getExcludeIndex=function(t,a){var s={};for(var o in a=a||[],t.startDate&&t.dDate&&e.populateExcludeIndex(s,t,"e",t.startDate,moment(t.dDate).add(-1,"days")),t.dDate&&t.examDate&&e.populateExcludeIndex(s,t,"d",t.dDate,t.examDate),a)s[a[o].date]=!0;return s},e.computeExclusions=function(t,a,s,o){var d={};e.populateExcludeIndex(d,t,a,s,o);for(var n=moment(s).add(-1,"days"),l=moment(o),c=0;0>=n.add(1,"days").diff(l);)d[n.format("YYYY-MM-DD")]&&c++;return c},e.getAvailableDays=function(e,t,a,s){var o=[];for(e.add(-1,"days");0>=e.add(1,"days").diff(t)&&o.length<a;){var d=e.format("YYYY-MM-DD");s[d]||o.push(d)}return o}}),define("shared.step1classic.toDoToday",function(e){var t=Math.round;function getIntraExams(e,t,a){var s=[];for(var o in e){var d=+moment(e[o].date);d>t&&d<a&&s.push(e[o])}return s}function setSubjectDates(e){var t=e.exams||[];t.sort(function(e,t){return+moment(e.date)>+moment(t.date)?1:+moment(e.date)<+moment(t.date)?-1:0});var a=_.indexBy(t,function(t){return moment(t.date).format("YYYY-MM-DD")}),s=moment(e.begin),o=s,d=e.subjects;for(var n in d)a[o.format("YYYY-MM-DD")]&&o.add(1,"day"),d[n].date=moment(o).format("YYYY-MM-DD"),d[n].exams=getIntraExams(t,+o,+moment(o).add(+d[n].days,"days")),o.add(+d[n].days+d[n].exams.length,"days")}function getCurrentSubject(e,t){var a=t.subjects||[],s=+moment(e),o=a.length?a[0]:null;for(var d in a){var n=+moment(a[d].date);if(+s<+n)return o?o:null;o=a[d]}if(o)return o}function setExamDates(e,t){var a=moment(t.begin),s=moment(t.exam),o=t.exams;for(var d in o){var n=o[d];if(n.date||(n.date=moment(0<=n.days?moment(a).add(n.days,"days"):moment(s).add(n.days,"days")).format("YYYY-MM-DD")),e==n.date)return n}return null}function getTimeEstimate(e){if("fa16"==e.type||"fa15"==e.type)return 5*e.range;return"flashcards"==e.type?-1==e.title.indexOf("All of")?30:180:"questions"==e.type?180:"uworld"==e.type?3*e.count:"pathoma"==e.type?t(e.min/1.5):void 0}function getTodaysToDos(e,t,a,s,o,d){var n=[],l=[],c=moment(e).diff(t,"days");if(0>c)return[];o-=c,d=_.indexBy(d,_.indentity);var p=0;for(var u in a)d[a[u].type]&&(p+=getTimeEstimate(a[u]));0>=o&&(o=1);var m=!1,v=p/o,b=0;for(var u in a){var h=a[u];d[h.type]&&(!s[h.id]&&(m?l.push(+h.id):n.push(+h.id)),b+=getTimeEstimate(h),b>v&&(m=!0))}return{today:n,ahead:l}}e.get=function(e,t,a,s){var o=moment(window.user.day.begin).format("YYYY-MM-DD"),d=setExamDates(o,a);setSubjectDates(a);var n=getCurrentSubject(o,a);if(n){if(!d){var l=t[n.topic];if(l){var c=[];for(var p in l){var u=l[p].parts;for(var m in u)u[m].id&&c.push(u[m])}return{type:"todo",todos:getTodaysToDos(o,n.date,c,s,n.days,a.uses)}}return null}return{type:"exam",title:d.exam+" Form "+d.form}}return{}}}),define("shared.streaks",function(e){e.goals=[{count:2,message:"You've logged in 2 days in a row, great work!"},{count:5,message:"You've logged in 5 days in a row, way to go!"},{count:10,message:"You're on a 10-day streak, that's amazing!"},{count:15,message:"That's 15 days in a row\u2014half a month! Keep up strong work."},{count:30,message:"Wow! You've logged on every day for a whole month!"},{count:60,message:"Whoa. You've Osmosed every day for 2 straight months! That's impressive."},{count:90,message:"You're on a 3-month streak of using Osmosis, that's incredible!"},{count:120,message:"That's four straight months of using Osmosis! You're amazing!"},{count:150,message:"Unbelievable! You've used Osmosis for five months straight, you're a learning machine!"},{count:180,message:"Out-of-this-world! You've used Osmosis for <strong>half a year</strong>. What an accomplishment!"},{count:210},{count:240},{count:270},{count:300},{count:330},{count:365,message:"Wow. Absolutely epic. You've logged on every day for a year straight!"}]}),define("shared.studyDaysOff",function(e){function excludeRange(e,t,a){for(var s=moment(t).add(-1,"days"),o=moment(a);0>=s.add(1,"days").diff(o);)e[s.format("YYYY-MM-DD")]=!0}function populateExcludeIndex(e,t,a,s){for(var o in t.excludeDays)for(var d=t.excludeDays[o],n=moment(d.start).add(-1,"days"),l=moment(d.stop),c=moment(d.start);0>=n.add(1,"days").diff(l);)0<=n.diff(moment(a))&&0>=n.diff(moment(s))&&-1<d.days.indexOf(n.format("ddd"))&&(e[n.format("YYYY-MM-DD")]=!0);var p=t.vacations||[];for(var o in p)if(p[o].start){var u=0<=moment(p[o].start).diff(moment(a))?p[o].start:a,m=0>=moment(p[o].stop).diff(moment(s))?p[o].stop:s;excludeRange(e,u,m)}else e[p[o].date]=!0;var v=t.catchUp||[];for(var o in v)e[v[o].date]=!1;return e}e.getExcludeIndex=function(e,t,a){var s={};for(var o in a=a||[],populateExcludeIndex(s,t,e.startDate,e.stopDate),a)s[a[o].date]=!0;return s},e.computeExclusions=function(e,t,a){var s={};populateExcludeIndex(s,e,t,a);for(var o=moment(t).add(-1,"days"),d=moment(a),n=0;0>=o.add(1,"days").diff(d);)s[o.format("YYYY-MM-DD")]&&n++;return n},e.getAvailableDays=function(e,t,a){var s=[];for(e=moment(e),e.add(-1,"days");0>=e.add(1,"days").diff(t);){var o=e.format("YYYY-MM-DD");a[o]||s.push(o)}return s},e.getAllDays=function(t){var a={excludeDays:t.excludeDays,vacations:t.vacations},s=e.getExcludeIndex(t.bounds,a,t.exams),o=e.getAvailableDays(t.date,t.stopDate,s);return o}}),define("shared.studySubjects",function(e){var t=["Biochemistry","Metabolism","Immunology","Microbiology","Behavioral Science","General Pathology","General Pharmacology","Epidemiology/Biostatistics"];t.sort(),e.basicSciences=t;var a=["Heme/Onc","Respiratory","Renal","Cardiovascular","GI","Endocrine","Reproductive","Neurology","Psychiatry","MSK"];a.sort(),e.organSystems=a,e.isOrganSystem=_.indexBy(a,_.identity),e.hasCategories=_.indexBy(_.without(a,"Psychiatry"),_.identity);e.title2object=function(e){return"General Pathology"==e?{subject:e,category:""}:~e.indexOf(" Pathology")?{subject:e.slice(0,e.length-10),category:"Pathology"}:~e.indexOf(" Physiology")?{subject:e.slice(0,e.length-11),category:"Physiology"}:{subject:e,category:""}},e.object2title=function(e){return"Pathology"==e.category?e.subject+" Pathology":"Physiology"==e.category?e.subject+" Physiology":e.subject},e.trimSubject=function(t){var a=e.title2object(t);return a.subject}}),define("shared.toDoToday",function(e){var t=Math.round;function getIntraExams(e,t,a){var s=[];for(var o in e){var d=+moment(e[o].date);d>t&&d<a&&s.push(e[o])}return s}function setSubjectDates(e){var t=e.exams||[];t.sort(function(e,t){return+moment(e.date)>+moment(t.date)?1:+moment(e.date)<+moment(t.date)?-1:0});var a=_.indexBy(t,function(t){return moment(t.date).format("YYYY-MM-DD")}),s=moment(e.begin),o=s,d=e.subjects;for(var n in d)a[o.format("YYYY-MM-DD")]&&o.add(1,"day"),d[n].date=moment(o).format("YYYY-MM-DD"),d[n].exams=getIntraExams(t,+o,+moment(o).add(+d[n].days,"days")),o.add(+d[n].days+d[n].exams.length,"days")}function getCurrentSubject(e,t){var a=t.subjects||[],s=+moment(e),o=a.length?a[0]:null;for(var d in a){var n=+moment(a[d].date);if(+s<+n)return o?o:null;o=a[d]}if(o)return o}function setExamDates(e,t){var a=moment(t.begin),s=moment(t.exam),o=t.exams;for(var d in o){var n=o[d];if(n.date||(n.date=moment(0<=n.days?moment(a).add(n.days,"days"):moment(s).add(n.days,"days")).format("YYYY-MM-DD")),e==n.date)return n}return null}function getTimeEstimate(e){if("fa16"==e.type||"fa15"==e.type)return 5*e.range;return"flashcards"==e.type?-1==e.title.indexOf("All of")?30:180:"questions"==e.type?180:"uworld"==e.type?3*e.count:"pathoma"==e.type?t(e.min/1.5):"boardsAndBeyond"==e.type?t(e.min/1.5):void 0}function getTodaysToDos(e,t,a,s,o,d){var n=[],l=[],c=moment(e).diff(t,"days");if(0>c)return[];o-=c,d=_.indexBy(d,_.indentity);var p=0;for(var u in a)d[a[u].type]&&(p+=getTimeEstimate(a[u]));0>=o&&(o=1);var m=!1,v=p/o,b=0;for(var u in a){var h=a[u];d[h.type]&&(!s[h.id]&&(m?l.push(+h.id):n.push(+h.id)),b+=getTimeEstimate(h),b>v&&(m=!0))}return{today:n,ahead:l}}e.get=function(e,t,a,s){var o=moment(window.user.day.begin).format("YYYY-MM-DD"),d=setExamDates(o,a);setSubjectDates(a);var n=getCurrentSubject(o,a);if(n){if(!d){var l=t[n.topic];if(l){var c=[];for(var p in l){var u=l[p].parts;for(var m in u)u[m].id&&c.push(u[m])}return{type:"todo",todos:getTodaysToDos(o,n.date,c,s,n.days,a.uses)}}return null}return{type:"exam",title:d.exam+" Form "+d.form}}return{}}}),define("shared.topics",function(e){for(var t in e.name={523:"Anatomy",524:"Biochem",525:"Metabolism",526:"Genetics",527:"Immuno",528:"Micro",529:"Derm",530:"Heme/Onc",531:"Neuro",532:"Psych",533:"Pulm",534:"Renal",535:"Cardio",536:"GI",537:"Endocrine",538:"Repro",539:"MSK",540:"Cell Phys",542:"Pharm",543:"Path",3461:"Anesthesia",3462:"EMed",3464:"DO",3465:"Ophtho",3466:"Peds",3467:"Radiology",3468:"Surgery",7217:"Biostats/Epi",25877:"Embryo"},e.fullName={523:"Anatomy",524:"Biochemistry",525:"Metabolism",526:"Genetics",527:"Immunology",528:"Microbiology",529:"Dermatology",530:"Heme/Onc",531:"Neurology",532:"Psychiatry",533:"Pulmonology",534:"Renal",535:"Cardiology",536:"GI",537:"Endocrine",538:"Reproduction",539:"MSK",540:"Cell Physiology",542:"Pharmacology",543:"Pathology",3461:"Anesthesiology",3462:"Emergency Medicine",3464:"Osteopathic Principles",3465:"Ophthalmology",3466:"Pediatrics",3467:"Radiology",3468:"Surgery",7217:"Biostatistics and Epidemiology",25877:"Embryology"},e.menuName={523:"Anatomy",524:"Biochemistry",525:"Metabolism",526:"Genetics",527:"Immunology",528:"Microbiology",529:"Dermatology",530:"Heme/Onc",531:"Neurology",532:"Psychiatry",533:"Respiratory",534:"Renal",535:"Cardiology",536:"GI",537:"Endocrine",538:"Reproduction",539:"MSK",540:"Cell Physiology",542:"Pharmacology",543:"Pathology",3461:"Anesthesiology",3462:"Emergency Medicine",3464:"Osteopathic Principles",3465:"Ophthalmology",3466:"Pediatrics",3467:"Radiology",3468:"Surgery",7217:"Biostatistics and Epidemiology",25877:"Embryology"},e.name2id={},e.fullName)e.name2id[e.fullName[t]]=t;for(var t in e.icon={523:"anat",524:"biochem",525:"metab",526:"gene",527:"imu",528:"micro",529:"derm",530:"hema",531:"neuro",532:"psych",533:"pulm",534:"renal",535:"cardio",536:"gi",537:"endo",538:"repro",539:"musske",540:"cell",542:"pharm",543:"path",3461:"anes",3462:"emed",3464:"do",3465:"ophtho",3466:"peds",3467:"rad",3468:"surg",7217:"epi",25877:"embryo"},e.topicFont={523:"anatomy",524:"biochem",525:"metabolism",526:"genetics",527:"immuno",528:"micro",529:"derm",530:"hemeonc",531:"neuro",532:"psych",533:"resp",534:"renal",535:"cardio",536:"gastro",537:"endocrine",538:"repro",539:"msk",540:"cellphys",25877:"embryo"},e.getIcon=function(t,a){return a=a||100,"https://d3cdo0emj8d2qc.cloudfront.net/app/med-school/v1/topics/"+e.icon[t]+a+".png"},e.topicIcons={1:"75acf5a1ad77c6cb16d7cdf9100cce27792e9ed6_thumb.png",2:"7a46856eb5094b14d3b78ecac6abfd12b09465a9_thumb.png",523:"599387c70ad11d6b2f3e3a3162b948a723e12f37_thumb.png",524:"1f8b911214661df5ea5d893ccf32a5b422dd59ec_thumb.png",525:"1f8b911214661df5ea5d893ccf32a5b422dd59ec_thumb.png",526:"b98b12316c798455f142ed7dd0eb951b0b8452d3_thumb.png",527:"5e405bf84df80dd1932e83258fb0e22b2b94f94c_thumb.png",528:"372dd25bf9a4e5b727515e99f436654c2687f2b4_thumb.png",529:"6028a1b5187c579205aba2f716f201c923cc4207_thumb.png",530:"7bfb07731fa8b477b16151571ae5aa760a7cda97_thumb.png",531:"bb460e002c30a470a5d966f5ff5668606f923e96_thumb.png",532:"e44c749c2d9cb3913005c33edeb5369e2ba4ed5a_thumb.png",533:"87796dccdb8e7d992bec171690cb1caa26e015f7_thumb.png",534:"3590723ee5fc2981fc3073427831b5d784221914_thumb.png",535:"49d9af16bc5ca1362067e914ba7fb53141380855_thumb.png",536:"0c59169c9ac79d5331bb010779f69f2525a4076a_thumb.png",537:"f60a13d13c9d700c84e4e950933cb7453a1f58e8_thumb.png",538:"e9a8b3fa3051a1537886895788d30b56a07f0292_thumb.png",539:"d21a8ae36ba0d718e2d0c933cea0fbaec7f39a6c_thumb.png",540:"69f733e7b544abf967fd79d1fddcfb4bac53b6de.svg",3464:"daf764686c01aad3958eb36430ff0e22ea5b35d3_thumb.png",7217:"3a73b7af6f0d3b9cdc7a24ea6c8b2c8037a19708_thumb.png",25877:"acb87fccf26d9cdf18ff90a372efab6adb129f2e_thumb.png"},e.getNewIcon=function(t){var a=e.topicIcons[t];return"undefined"==typeof a?e.getIcon(t):"https://d3cdo0emj8d2qc.cloudfront.net/assets/"+a},e.getTopicFont=function(t){return"ti-"+e.topicFont[t]},e.topicThemes={523:"green",524:"yellow",525:"green",526:"purple",527:"dark-purple",528:"blue",529:"teal",530:"yellow",531:"orange",532:"purple",533:"dark-purple",534:"yellow",535:"blue",536:"orange",537:"red",538:"blue",539:"red",540:"dark-purple",7217:"blue",25877:"green"},e.getTopicTheme=function(t){return e.topicThemes[t]},e.subjectIndex={523:"Anatomy",524:"Biochemistry",525:"Metabolism",526:"Genetics",527:"Immunology",528:"Microbiology",529:"Dermatology",530:"Heme/Onc|Hematology and Oncology",531:"Neurology",532:"Psychiatry",533:"Respiratory",534:"Renal",535:"Cardiovascular",536:"GI|Gastrointestinal",537:"Endocrine",538:"Reproduction|Reproductive",539:"Musculoskeletal",540:"Cell Physiology",7217:"Biostatistics and Epidemiology",3464:"Osteopathic Principles",25877:"Embryology"},e.types={basic:{name:"Basic sciences",ids:[523,524,525,526,527,528,540,7217,25877]},organ:{name:"Organ systems",ids:[529,530,531,532,533,534,535,536,537,538,539,542,543]}},e.getTopicType=function(t){for(var a in e.types)for(var s=0;s<e.types[a].ids.length;s+=1)if(e.types[a].ids[s]==t)return a;return!1},e.subject2topicID={},e.subjectIndex){var a=e.subjectIndex[t].split("|");e.subject2topicID[1==a.length?a[0]:a[1]]=t}for(var t in e.topicID2subject={},e.subject2topicID)e.topicID2subject[e.subject2topicID[t]]=t}),define("shared.urlRegex",function(e,t,a){a.exports=/[a-zA-Z0-9\-/:.]+\.[a-zA-Z]{2,3}(\/\S*)?/g});